function Vz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var J4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qC={exports:{}},wg={},WC={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4=Symbol.for("react.element"),Uz=Symbol.for("react.portal"),Bz=Symbol.for("react.fragment"),zz=Symbol.for("react.strict_mode"),qz=Symbol.for("react.profiler"),Wz=Symbol.for("react.provider"),Hz=Symbol.for("react.context"),Gz=Symbol.for("react.forward_ref"),Kz=Symbol.for("react.suspense"),Qz=Symbol.for("react.memo"),Yz=Symbol.for("react.lazy"),q_=Symbol.iterator;function Xz(t){return t===null||typeof t!="object"?null:(t=q_&&t[q_]||t["@@iterator"],typeof t=="function"?t:null)}var HC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GC=Object.assign,KC={};function _u(t,e,n){this.props=t,this.context=e,this.refs=KC,this.updater=n||HC}_u.prototype.isReactComponent={};_u.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_u.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QC(){}QC.prototype=_u.prototype;function i8(t,e,n){this.props=t,this.context=e,this.refs=KC,this.updater=n||HC}var a8=i8.prototype=new QC;a8.constructor=i8;GC(a8,_u.prototype);a8.isPureReactComponent=!0;var W_=Array.isArray,YC=Object.prototype.hasOwnProperty,s8={current:null},XC={key:!0,ref:!0,__self:!0,__source:!0};function JC(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)YC.call(e,r)&&!XC.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:l4,type:t,key:a,ref:s,props:i,_owner:s8.current}}function Jz(t,e){return{$$typeof:l4,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function o8(t){return typeof t=="object"&&t!==null&&t.$$typeof===l4}function Zz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var H_=/\/+/g;function x5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zz(""+t.key):e.toString(36)}function t3(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case l4:case Uz:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+x5(s,0):r,W_(i)?(n="",t!=null&&(n=t.replace(H_,"$&/")+"/"),t3(i,e,n,"",function(c){return c})):i!=null&&(o8(i)&&(i=Jz(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(H_,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",W_(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+x5(a,o);s+=t3(a,e,n,l,i)}else if(l=Xz(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+x5(a,o++),s+=t3(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Z4(t,e,n){if(t==null)return t;var r=[],i=0;return t3(t,r,"","",function(a){return e.call(n,a,i++)}),r}function eq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},n3={transition:null},tq={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:n3,ReactCurrentOwner:s8};function ZC(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:Z4,forEach:function(t,e,n){Z4(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Z4(t,function(){e++}),e},toArray:function(t){return Z4(t,function(e){return e})||[]},only:function(t){if(!o8(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=_u;lt.Fragment=Bz;lt.Profiler=qz;lt.PureComponent=i8;lt.StrictMode=zz;lt.Suspense=Kz;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tq;lt.act=ZC;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=GC({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=s8.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)YC.call(e,l)&&!XC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:l4,type:t.type,key:i,ref:a,props:r,_owner:s}};lt.createContext=function(t){return t={$$typeof:Hz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wz,_context:t},t.Consumer=t};lt.createElement=JC;lt.createFactory=function(t){var e=JC.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:Gz,render:t}};lt.isValidElement=o8;lt.lazy=function(t){return{$$typeof:Yz,_payload:{_status:-1,_result:t},_init:eq}};lt.memo=function(t,e){return{$$typeof:Qz,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=n3.transition;n3.transition={};try{t()}finally{n3.transition=e}};lt.unstable_act=ZC;lt.useCallback=function(t,e){return Cr.current.useCallback(t,e)};lt.useContext=function(t){return Cr.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};lt.useEffect=function(t,e){return Cr.current.useEffect(t,e)};lt.useId=function(){return Cr.current.useId()};lt.useImperativeHandle=function(t,e,n){return Cr.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return Cr.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return Cr.current.useReducer(t,e,n)};lt.useRef=function(t){return Cr.current.useRef(t)};lt.useState=function(t){return Cr.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return Cr.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return Cr.current.useTransition()};lt.version="18.3.1";WC.exports=lt;var R=WC.exports;const B=$t(R),nq=Vz({__proto__:null,default:B},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rq=R,iq=Symbol.for("react.element"),aq=Symbol.for("react.fragment"),sq=Object.prototype.hasOwnProperty,oq=rq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lq={key:!0,ref:!0,__self:!0,__source:!0};function eO(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)sq.call(e,r)&&!lq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iq,type:t,key:a,ref:s,props:i,_owner:oq.current}}wg.Fragment=aq;wg.jsx=eO;wg.jsxs=eO;qC.exports=wg;var f=qC.exports,ay={},tO={exports:{}},mi={},nO={exports:{}},rO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var H=F.length;F.push(U);e:for(;0<H;){var G=H-1>>>1,W=F[G];if(0<i(W,U))F[G]=U,F[H]=W,H=G;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],H=F.pop();if(H!==U){F[0]=H;e:for(var G=0,W=F.length,ee=W>>>1;G<ee;){var le=2*(G+1)-1,pe=F[le],Z=le+1,_e=F[Z];if(0>i(pe,H))Z<W&&0>i(_e,pe)?(F[G]=_e,F[Z]=H,G=Z):(F[G]=pe,F[le]=H,G=le);else if(Z<W&&0>i(_e,H))F[G]=_e,F[Z]=H,G=Z;else break e}}return U}function i(F,U){var H=F.sortIndex-U.sortIndex;return H!==0?H:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=F)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function S(F){if(x=!1,w(F),!g)if(n(l)!==null)g=!0,D(E);else{var U=n(c);U!==null&&V(S,U.startTime-F)}}function E(F,U){g=!1,x&&(x=!1,v(k),k=-1),p=!0;var H=h;try{for(w(U),d=n(l);d!==null&&(!(d.expirationTime>U)||F&&!I());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var W=G(d.expirationTime<=U);U=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),w(U)}else r(l);d=n(l)}if(d!==null)var ee=!0;else{var le=n(c);le!==null&&V(S,le.startTime-U),ee=!1}return ee}finally{d=null,h=H,p=!1}}var P=!1,_=null,k=-1,N=5,A=-1;function I(){return!(t.unstable_now()-A<N)}function j(){if(_!==null){var F=t.unstable_now();A=F;var U=!0;try{U=_(!0,F)}finally{U?O():(P=!1,_=null)}}else P=!1}var O;if(typeof b=="function")O=function(){b(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,M=$.port2;$.port1.onmessage=j,O=function(){M.postMessage(null)}}else O=function(){y(j,0)};function D(F){_=F,P||(P=!0,O())}function V(F,U){k=y(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,D(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var H=h;h=U;try{return F()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=h;h=F;try{return U()}finally{h=H}},t.unstable_scheduleCallback=function(F,U,H){var G=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,F={id:u++,callback:U,priorityLevel:F,startTime:H,expirationTime:W,sortIndex:-1},H>G?(F.sortIndex=H,e(c,F),n(l)===null&&F===n(c)&&(x?(v(k),k=-1):x=!0,V(S,H-G))):(F.sortIndex=W,e(l,F),g||p||(g=!0,D(E))),F},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(F){var U=h;return function(){var H=h;h=U;try{return F.apply(this,arguments)}finally{h=H}}}})(rO);nO.exports=rO;var cq=nO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uq=R,di=cq;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iO=new Set,Mf={};function bl(t,e){Oc(t,e),Oc(t+"Capture",e)}function Oc(t,e){for(Mf[t]=e,t=0;t<e.length;t++)iO.add(e[t])}var _0=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sy=Object.prototype.hasOwnProperty,dq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G_={},K_={};function fq(t){return sy.call(K_,t)?!0:sy.call(G_,t)?!1:dq.test(t)?K_[t]=!0:(G_[t]=!0,!1)}function hq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pq(t,e,n,r){if(e===null||typeof e>"u"||hq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Or(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tr[t]=new Or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tr[e]=new Or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tr[t]=new Or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tr[t]=new Or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tr[t]=new Or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tr[t]=new Or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tr[t]=new Or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tr[t]=new Or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tr[t]=new Or(t,5,!1,t.toLowerCase(),null,!1,!1)});var l8=/[\-:]([a-z])/g;function c8(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(l8,c8);tr[e]=new Or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(l8,c8);tr[e]=new Or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(l8,c8);tr[e]=new Or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tr[t]=new Or(t,1,!1,t.toLowerCase(),null,!1,!1)});tr.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tr[t]=new Or(t,1,!1,t.toLowerCase(),null,!0,!0)});function u8(t,e,n,r){var i=tr.hasOwnProperty(e)?tr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pq(e,n,i,r)&&(n=null),r||i===null?fq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $0=uq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ep=Symbol.for("react.element"),Kl=Symbol.for("react.portal"),Ql=Symbol.for("react.fragment"),d8=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),aO=Symbol.for("react.provider"),sO=Symbol.for("react.context"),f8=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),cy=Symbol.for("react.suspense_list"),h8=Symbol.for("react.memo"),J0=Symbol.for("react.lazy"),oO=Symbol.for("react.offscreen"),Q_=Symbol.iterator;function ad(t){return t===null||typeof t!="object"?null:(t=Q_&&t[Q_]||t["@@iterator"],typeof t=="function"?t:null)}var sn=Object.assign,b5;function Md(t){if(b5===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);b5=e&&e[1]||""}return`
`+b5+t}var w5=!1;function _5(t,e){if(!t||w5)return"";w5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{w5=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Md(t):""}function mq(t){switch(t.tag){case 5:return Md(t.type);case 16:return Md("Lazy");case 13:return Md("Suspense");case 19:return Md("SuspenseList");case 0:case 2:case 15:return t=_5(t.type,!1),t;case 11:return t=_5(t.type.render,!1),t;case 1:return t=_5(t.type,!0),t;default:return""}}function uy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ql:return"Fragment";case Kl:return"Portal";case oy:return"Profiler";case d8:return"StrictMode";case ly:return"Suspense";case cy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sO:return(t.displayName||"Context")+".Consumer";case aO:return(t._context.displayName||"Context")+".Provider";case f8:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case h8:return e=t.displayName||null,e!==null?e:uy(t.type)||"Memo";case J0:e=t._payload,t=t._init;try{return uy(t(e))}catch{}}return null}function gq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uy(e);case 8:return e===d8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $s(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yq(t){var e=lO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tp(t){t._valueTracker||(t._valueTracker=yq(t))}function cO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function R3(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dy(t,e){var n=e.checked;return sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Y_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$s(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uO(t,e){e=e.checked,e!=null&&u8(t,"checked",e,!1)}function fy(t,e){uO(t,e);var n=$s(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hy(t,e.type,n):e.hasOwnProperty("defaultValue")&&hy(t,e.type,$s(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function X_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hy(t,e,n){(e!=="number"||R3(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $d=Array.isArray;function hc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$s(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function py(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function J_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if($d(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$s(n)}}function dO(t,e){var n=$s(e.value),r=$s(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Z_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function my(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var np,hO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(np=np||document.createElement("div"),np.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=np.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $f(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vq=["Webkit","ms","Moz","O"];Object.keys(of).forEach(function(t){vq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),of[e]=of[t]})});function pO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||of.hasOwnProperty(t)&&of[t]?(""+e).trim():e+"px"}function mO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xq=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gy(t,e){if(e){if(xq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function yy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vy=null;function p8(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xy=null,pc=null,mc=null;function eS(t){if(t=d4(t)){if(typeof xy!="function")throw Error(he(280));var e=t.stateNode;e&&(e=Pg(e),xy(t.stateNode,t.type,e))}}function gO(t){pc?mc?mc.push(t):mc=[t]:pc=t}function yO(){if(pc){var t=pc,e=mc;if(mc=pc=null,eS(t),e)for(t=0;t<e.length;t++)eS(e[t])}}function vO(t,e){return t(e)}function xO(){}var S5=!1;function bO(t,e,n){if(S5)return t(e,n);S5=!0;try{return vO(t,e,n)}finally{S5=!1,(pc!==null||mc!==null)&&(xO(),yO())}}function Df(t,e){var n=t.stateNode;if(n===null)return null;var r=Pg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var by=!1;if(_0)try{var sd={};Object.defineProperty(sd,"passive",{get:function(){by=!0}}),window.addEventListener("test",sd,sd),window.removeEventListener("test",sd,sd)}catch{by=!1}function bq(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var lf=!1,M3=null,$3=!1,wy=null,wq={onError:function(t){lf=!0,M3=t}};function _q(t,e,n,r,i,a,s,o,l){lf=!1,M3=null,bq.apply(wq,arguments)}function Sq(t,e,n,r,i,a,s,o,l){if(_q.apply(this,arguments),lf){if(lf){var c=M3;lf=!1,M3=null}else throw Error(he(198));$3||($3=!0,wy=c)}}function wl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tS(t){if(wl(t)!==t)throw Error(he(188))}function Eq(t){var e=t.alternate;if(!e){if(e=wl(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return tS(i),t;if(a===r)return tS(i),e;a=a.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function _O(t){return t=Eq(t),t!==null?SO(t):null}function SO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SO(t);if(e!==null)return e;t=t.sibling}return null}var EO=di.unstable_scheduleCallback,nS=di.unstable_cancelCallback,kq=di.unstable_shouldYield,Pq=di.unstable_requestPaint,vn=di.unstable_now,Tq=di.unstable_getCurrentPriorityLevel,m8=di.unstable_ImmediatePriority,kO=di.unstable_UserBlockingPriority,D3=di.unstable_NormalPriority,Nq=di.unstable_LowPriority,PO=di.unstable_IdlePriority,_g=null,Oa=null;function Aq(t){if(Oa&&typeof Oa.onCommitFiberRoot=="function")try{Oa.onCommitFiberRoot(_g,t,void 0,(t.current.flags&128)===128)}catch{}}var ia=Math.clz32?Math.clz32:Oq,Iq=Math.log,Cq=Math.LN2;function Oq(t){return t>>>=0,t===0?32:31-(Iq(t)/Cq|0)|0}var rp=64,ip=4194304;function Dd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function L3(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Dd(o):(a&=s,a!==0&&(r=Dd(a)))}else s=n&~i,s!==0?r=Dd(s):a!==0&&(r=Dd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ia(e),i=1<<n,r|=t[n],e&=~i;return r}function jq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rq(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-ia(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=jq(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function _y(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TO(){var t=rp;return rp<<=1,!(rp&4194240)&&(rp=64),t}function E5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function c4(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ia(e),t[e]=n}function Mq(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ia(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function g8(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ia(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Nt=0;function NO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AO,y8,IO,CO,OO,Sy=!1,ap=[],vs=null,xs=null,bs=null,Lf=new Map,Ff=new Map,rs=[],$q="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rS(t,e){switch(t){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Lf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ff.delete(e.pointerId)}}function od(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=d4(e),e!==null&&y8(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Dq(t,e,n,r,i){switch(e){case"focusin":return vs=od(vs,t,e,n,r,i),!0;case"dragenter":return xs=od(xs,t,e,n,r,i),!0;case"mouseover":return bs=od(bs,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Lf.set(a,od(Lf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ff.set(a,od(Ff.get(a)||null,t,e,n,r,i)),!0}return!1}function jO(t){var e=No(t.target);if(e!==null){var n=wl(e);if(n!==null){if(e=n.tag,e===13){if(e=wO(n),e!==null){t.blockedOn=e,OO(t.priority,function(){IO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function r3(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ey(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vy=r,n.target.dispatchEvent(r),vy=null}else return e=d4(n),e!==null&&y8(e),t.blockedOn=n,!1;e.shift()}return!0}function iS(t,e,n){r3(t)&&n.delete(e)}function Lq(){Sy=!1,vs!==null&&r3(vs)&&(vs=null),xs!==null&&r3(xs)&&(xs=null),bs!==null&&r3(bs)&&(bs=null),Lf.forEach(iS),Ff.forEach(iS)}function ld(t,e){t.blockedOn===e&&(t.blockedOn=null,Sy||(Sy=!0,di.unstable_scheduleCallback(di.unstable_NormalPriority,Lq)))}function Vf(t){function e(i){return ld(i,t)}if(0<ap.length){ld(ap[0],t);for(var n=1;n<ap.length;n++){var r=ap[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vs!==null&&ld(vs,t),xs!==null&&ld(xs,t),bs!==null&&ld(bs,t),Lf.forEach(e),Ff.forEach(e),n=0;n<rs.length;n++)r=rs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rs.length&&(n=rs[0],n.blockedOn===null);)jO(n),n.blockedOn===null&&rs.shift()}var gc=$0.ReactCurrentBatchConfig,F3=!0;function Fq(t,e,n,r){var i=Nt,a=gc.transition;gc.transition=null;try{Nt=1,v8(t,e,n,r)}finally{Nt=i,gc.transition=a}}function Vq(t,e,n,r){var i=Nt,a=gc.transition;gc.transition=null;try{Nt=4,v8(t,e,n,r)}finally{Nt=i,gc.transition=a}}function v8(t,e,n,r){if(F3){var i=Ey(t,e,n,r);if(i===null)R5(t,e,r,V3,n),rS(t,r);else if(Dq(i,t,e,n,r))r.stopPropagation();else if(rS(t,r),e&4&&-1<$q.indexOf(t)){for(;i!==null;){var a=d4(i);if(a!==null&&AO(a),a=Ey(t,e,n,r),a===null&&R5(t,e,r,V3,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else R5(t,e,r,null,n)}}var V3=null;function Ey(t,e,n,r){if(V3=null,t=p8(r),t=No(t),t!==null)if(e=wl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return V3=t,null}function RO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tq()){case m8:return 1;case kO:return 4;case D3:case Nq:return 16;case PO:return 536870912;default:return 16}default:return 16}}var us=null,x8=null,i3=null;function MO(){if(i3)return i3;var t,e=x8,n=e.length,r,i="value"in us?us.value:us.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return i3=i.slice(t,1<r?1-r:void 0)}function a3(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sp(){return!0}function aS(){return!1}function gi(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?sp:aS,this.isPropagationStopped=aS,this}return sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sp)},persist:function(){},isPersistent:sp}),e}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},b8=gi(Su),u4=sn({},Su,{view:0,detail:0}),Uq=gi(u4),k5,P5,cd,Sg=sn({},u4,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w8,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cd&&(cd&&t.type==="mousemove"?(k5=t.screenX-cd.screenX,P5=t.screenY-cd.screenY):P5=k5=0,cd=t),k5)},movementY:function(t){return"movementY"in t?t.movementY:P5}}),sS=gi(Sg),Bq=sn({},Sg,{dataTransfer:0}),zq=gi(Bq),qq=sn({},u4,{relatedTarget:0}),T5=gi(qq),Wq=sn({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),Hq=gi(Wq),Gq=sn({},Su,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kq=gi(Gq),Qq=sn({},Su,{data:0}),oS=gi(Qq),Yq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jq[t])?!!e[t]:!1}function w8(){return Zq}var eW=sn({},u4,{key:function(t){if(t.key){var e=Yq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=a3(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w8,charCode:function(t){return t.type==="keypress"?a3(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?a3(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tW=gi(eW),nW=sn({},Sg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lS=gi(nW),rW=sn({},u4,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w8}),iW=gi(rW),aW=sn({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),sW=gi(aW),oW=sn({},Sg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lW=gi(oW),cW=[9,13,27,32],_8=_0&&"CompositionEvent"in window,cf=null;_0&&"documentMode"in document&&(cf=document.documentMode);var uW=_0&&"TextEvent"in window&&!cf,$O=_0&&(!_8||cf&&8<cf&&11>=cf),cS=" ",uS=!1;function DO(t,e){switch(t){case"keyup":return cW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yl=!1;function dW(t,e){switch(t){case"compositionend":return LO(e);case"keypress":return e.which!==32?null:(uS=!0,cS);case"textInput":return t=e.data,t===cS&&uS?null:t;default:return null}}function fW(t,e){if(Yl)return t==="compositionend"||!_8&&DO(t,e)?(t=MO(),i3=x8=us=null,Yl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $O&&e.locale!=="ko"?null:e.data;default:return null}}var hW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hW[t.type]:e==="textarea"}function FO(t,e,n,r){gO(r),e=U3(e,"onChange"),0<e.length&&(n=new b8("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uf=null,Uf=null;function pW(t){YO(t,0)}function Eg(t){var e=Zl(t);if(cO(e))return t}function mW(t,e){if(t==="change")return e}var VO=!1;if(_0){var N5;if(_0){var A5="oninput"in document;if(!A5){var fS=document.createElement("div");fS.setAttribute("oninput","return;"),A5=typeof fS.oninput=="function"}N5=A5}else N5=!1;VO=N5&&(!document.documentMode||9<document.documentMode)}function hS(){uf&&(uf.detachEvent("onpropertychange",UO),Uf=uf=null)}function UO(t){if(t.propertyName==="value"&&Eg(Uf)){var e=[];FO(e,Uf,t,p8(t)),bO(pW,e)}}function gW(t,e,n){t==="focusin"?(hS(),uf=e,Uf=n,uf.attachEvent("onpropertychange",UO)):t==="focusout"&&hS()}function yW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eg(Uf)}function vW(t,e){if(t==="click")return Eg(e)}function xW(t,e){if(t==="input"||t==="change")return Eg(e)}function bW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ca=typeof Object.is=="function"?Object.is:bW;function Bf(t,e){if(ca(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sy.call(e,i)||!ca(t[i],e[i]))return!1}return!0}function pS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mS(t,e){var n=pS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pS(n)}}function BO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zO(){for(var t=window,e=R3();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=R3(t.document)}return e}function S8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wW(t){var e=zO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BO(n.ownerDocument.documentElement,n)){if(r!==null&&S8(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=mS(n,a);var s=mS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _W=_0&&"documentMode"in document&&11>=document.documentMode,Xl=null,ky=null,df=null,Py=!1;function gS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Py||Xl==null||Xl!==R3(r)||(r=Xl,"selectionStart"in r&&S8(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),df&&Bf(df,r)||(df=r,r=U3(ky,"onSelect"),0<r.length&&(e=new b8("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xl)))}function op(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jl={animationend:op("Animation","AnimationEnd"),animationiteration:op("Animation","AnimationIteration"),animationstart:op("Animation","AnimationStart"),transitionend:op("Transition","TransitionEnd")},I5={},qO={};_0&&(qO=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function kg(t){if(I5[t])return I5[t];if(!Jl[t])return t;var e=Jl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qO)return I5[t]=e[n];return t}var WO=kg("animationend"),HO=kg("animationiteration"),GO=kg("animationstart"),KO=kg("transitionend"),QO=new Map,yS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hs(t,e){QO.set(t,e),bl(e,[t])}for(var C5=0;C5<yS.length;C5++){var O5=yS[C5],SW=O5.toLowerCase(),EW=O5[0].toUpperCase()+O5.slice(1);Hs(SW,"on"+EW)}Hs(WO,"onAnimationEnd");Hs(HO,"onAnimationIteration");Hs(GO,"onAnimationStart");Hs("dblclick","onDoubleClick");Hs("focusin","onFocus");Hs("focusout","onBlur");Hs(KO,"onTransitionEnd");Oc("onMouseEnter",["mouseout","mouseover"]);Oc("onMouseLeave",["mouseout","mouseover"]);Oc("onPointerEnter",["pointerout","pointerover"]);Oc("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ld));function vS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Sq(r,e,void 0,t),t.currentTarget=null}function YO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;vS(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;vS(i,o,c),a=l}}}if($3)throw t=wy,$3=!1,wy=null,t}function zt(t,e){var n=e[Cy];n===void 0&&(n=e[Cy]=new Set);var r=t+"__bubble";n.has(r)||(XO(e,t,2,!1),n.add(r))}function j5(t,e,n){var r=0;e&&(r|=4),XO(n,t,r,e)}var lp="_reactListening"+Math.random().toString(36).slice(2);function zf(t){if(!t[lp]){t[lp]=!0,iO.forEach(function(n){n!=="selectionchange"&&(kW.has(n)||j5(n,!1,t),j5(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lp]||(e[lp]=!0,j5("selectionchange",!1,e))}}function XO(t,e,n,r){switch(RO(e)){case 1:var i=Fq;break;case 4:i=Vq;break;default:i=v8}n=i.bind(null,e,n,t),i=void 0,!by||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function R5(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=No(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}bO(function(){var c=a,u=p8(n),d=[];e:{var h=QO.get(t);if(h!==void 0){var p=b8,g=t;switch(t){case"keypress":if(a3(n)===0)break e;case"keydown":case"keyup":p=tW;break;case"focusin":g="focus",p=T5;break;case"focusout":g="blur",p=T5;break;case"beforeblur":case"afterblur":p=T5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iW;break;case WO:case HO:case GO:p=Hq;break;case KO:p=sW;break;case"scroll":p=Uq;break;case"wheel":p=lW;break;case"copy":case"cut":case"paste":p=Kq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lS}var x=(e&4)!==0,y=!x&&t==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=Df(b,v),S!=null&&x.push(qf(b,S,w)))),y)break;b=b.return}0<x.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==vy&&(g=n.relatedTarget||n.fromElement)&&(No(g)||g[S0]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?No(g):null,g!==null&&(y=wl(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(x=sS,S="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=lS,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=p==null?h:Zl(p),w=g==null?h:Zl(g),h=new x(S,b+"leave",p,n,u),h.target=y,h.relatedTarget=w,S=null,No(u)===c&&(x=new x(v,b+"enter",g,n,u),x.target=w,x.relatedTarget=y,S=x),y=S,p&&g)t:{for(x=p,v=g,b=0,w=x;w;w=Ml(w))b++;for(w=0,S=v;S;S=Ml(S))w++;for(;0<b-w;)x=Ml(x),b--;for(;0<w-b;)v=Ml(v),w--;for(;b--;){if(x===v||v!==null&&x===v.alternate)break t;x=Ml(x),v=Ml(v)}x=null}else x=null;p!==null&&xS(d,h,p,x,!1),g!==null&&y!==null&&xS(d,y,g,x,!0)}}e:{if(h=c?Zl(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=mW;else if(dS(h))if(VO)E=xW;else{E=yW;var P=gW}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=vW);if(E&&(E=E(t,c))){FO(d,E,n,u);break e}P&&P(t,h,c),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&hy(h,"number",h.value)}switch(P=c?Zl(c):window,t){case"focusin":(dS(P)||P.contentEditable==="true")&&(Xl=P,ky=c,df=null);break;case"focusout":df=ky=Xl=null;break;case"mousedown":Py=!0;break;case"contextmenu":case"mouseup":case"dragend":Py=!1,gS(d,n,u);break;case"selectionchange":if(_W)break;case"keydown":case"keyup":gS(d,n,u)}var _;if(_8)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Yl?DO(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&($O&&n.locale!=="ko"&&(Yl||k!=="onCompositionStart"?k==="onCompositionEnd"&&Yl&&(_=MO()):(us=u,x8="value"in us?us.value:us.textContent,Yl=!0)),P=U3(c,k),0<P.length&&(k=new oS(k,t,null,n,u),d.push({event:k,listeners:P}),_?k.data=_:(_=LO(n),_!==null&&(k.data=_)))),(_=uW?dW(t,n):fW(t,n))&&(c=U3(c,"onBeforeInput"),0<c.length&&(u=new oS("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}YO(d,e)})}function qf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function U3(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Df(t,n),a!=null&&r.unshift(qf(t,a,i)),a=Df(t,e),a!=null&&r.push(qf(t,a,i))),t=t.return}return r}function Ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xS(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Df(n,a),l!=null&&s.unshift(qf(n,l,o))):i||(l=Df(n,a),l!=null&&s.push(qf(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var PW=/\r\n?/g,TW=/\u0000|\uFFFD/g;function bS(t){return(typeof t=="string"?t:""+t).replace(PW,`
`).replace(TW,"")}function cp(t,e,n){if(e=bS(e),bS(t)!==e&&n)throw Error(he(425))}function B3(){}var Ty=null,Ny=null;function Ay(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Iy=typeof setTimeout=="function"?setTimeout:void 0,NW=typeof clearTimeout=="function"?clearTimeout:void 0,wS=typeof Promise=="function"?Promise:void 0,AW=typeof queueMicrotask=="function"?queueMicrotask:typeof wS<"u"?function(t){return wS.resolve(null).then(t).catch(IW)}:Iy;function IW(t){setTimeout(function(){throw t})}function M5(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vf(e)}function ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _S(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),_a="__reactFiber$"+Eu,Wf="__reactProps$"+Eu,S0="__reactContainer$"+Eu,Cy="__reactEvents$"+Eu,CW="__reactListeners$"+Eu,OW="__reactHandles$"+Eu;function No(t){var e=t[_a];if(e)return e;for(var n=t.parentNode;n;){if(e=n[S0]||n[_a]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_S(t);t!==null;){if(n=t[_a])return n;t=_S(t)}return e}t=n,n=t.parentNode}return null}function d4(t){return t=t[_a]||t[S0],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function Pg(t){return t[Wf]||null}var Oy=[],ec=-1;function Gs(t){return{current:t}}function Gt(t){0>ec||(t.current=Oy[ec],Oy[ec]=null,ec--)}function Ft(t,e){ec++,Oy[ec]=t.current,t.current=e}var Ds={},hr=Gs(Ds),zr=Gs(!1),Go=Ds;function jc(t,e){var n=t.type.contextTypes;if(!n)return Ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qr(t){return t=t.childContextTypes,t!=null}function z3(){Gt(zr),Gt(hr)}function SS(t,e,n){if(hr.current!==Ds)throw Error(he(168));Ft(hr,e),Ft(zr,n)}function JO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(he(108,gq(t)||"Unknown",i));return sn({},n,r)}function q3(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,Go=hr.current,Ft(hr,t),Ft(zr,zr.current),!0}function ES(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=JO(t,e,Go),r.__reactInternalMemoizedMergedChildContext=t,Gt(zr),Gt(hr),Ft(hr,t)):Gt(zr),Ft(zr,n)}var e0=null,Tg=!1,$5=!1;function ZO(t){e0===null?e0=[t]:e0.push(t)}function jW(t){Tg=!0,ZO(t)}function Ks(){if(!$5&&e0!==null){$5=!0;var t=0,e=Nt;try{var n=e0;for(Nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}e0=null,Tg=!1}catch(i){throw e0!==null&&(e0=e0.slice(t+1)),EO(m8,Ks),i}finally{Nt=e,$5=!1}}return null}var tc=[],nc=0,W3=null,H3=0,_i=[],Si=0,Ko=null,o0=1,l0="";function xo(t,e){tc[nc++]=H3,tc[nc++]=W3,W3=t,H3=e}function ej(t,e,n){_i[Si++]=o0,_i[Si++]=l0,_i[Si++]=Ko,Ko=t;var r=o0;t=l0;var i=32-ia(r)-1;r&=~(1<<i),n+=1;var a=32-ia(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,o0=1<<32-ia(e)+i|n<<i|r,l0=a+t}else o0=1<<a|n<<i|r,l0=t}function E8(t){t.return!==null&&(xo(t,1),ej(t,1,0))}function k8(t){for(;t===W3;)W3=tc[--nc],tc[nc]=null,H3=tc[--nc],tc[nc]=null;for(;t===Ko;)Ko=_i[--Si],_i[Si]=null,l0=_i[--Si],_i[Si]=null,o0=_i[--Si],_i[Si]=null}var li=null,ri=null,Kt=!1,Qi=null;function tj(t,e){var n=Ni(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,li=t,ri=ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,li=t,ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ko!==null?{id:o0,overflow:l0}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ni(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,li=t,ri=null,!0):!1;default:return!1}}function jy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ry(t){if(Kt){var e=ri;if(e){var n=e;if(!kS(t,e)){if(jy(t))throw Error(he(418));e=ws(n.nextSibling);var r=li;e&&kS(t,e)?tj(r,n):(t.flags=t.flags&-4097|2,Kt=!1,li=t)}}else{if(jy(t))throw Error(he(418));t.flags=t.flags&-4097|2,Kt=!1,li=t}}}function PS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;li=t}function up(t){if(t!==li)return!1;if(!Kt)return PS(t),Kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ay(t.type,t.memoizedProps)),e&&(e=ri)){if(jy(t))throw nj(),Error(he(418));for(;e;)tj(t,e),e=ws(e.nextSibling)}if(PS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ri=ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ri=null}}else ri=li?ws(t.stateNode.nextSibling):null;return!0}function nj(){for(var t=ri;t;)t=ws(t.nextSibling)}function Rc(){ri=li=null,Kt=!1}function P8(t){Qi===null?Qi=[t]:Qi.push(t)}var RW=$0.ReactCurrentBatchConfig;function ud(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function dp(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function TS(t){var e=t._init;return e(t._payload)}function rj(t){function e(v,b){if(t){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=ks(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,S){return b===null||b.tag!==6?(b=z5(w,v.mode,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,S){var E=w.type;return E===Ql?u(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===J0&&TS(E)===b.type)?(S=i(b,w.props),S.ref=ud(v,b,w),S.return=v,S):(S=f3(w.type,w.key,w.props,null,v.mode,S),S.ref=ud(v,b,w),S.return=v,S)}function c(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=q5(w,v.mode,S),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function u(v,b,w,S,E){return b===null||b.tag!==7?(b=Vo(w,v.mode,S,E),b.return=v,b):(b=i(b,w),b.return=v,b)}function d(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=z5(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ep:return w=f3(b.type,b.key,b.props,null,v.mode,w),w.ref=ud(v,null,b),w.return=v,w;case Kl:return b=q5(b,v.mode,w),b.return=v,b;case J0:var S=b._init;return d(v,S(b._payload),w)}if($d(b)||ad(b))return b=Vo(b,v.mode,w,null),b.return=v,b;dp(v,b)}return null}function h(v,b,w,S){var E=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:o(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ep:return w.key===E?l(v,b,w,S):null;case Kl:return w.key===E?c(v,b,w,S):null;case J0:return E=w._init,h(v,b,E(w._payload),S)}if($d(w)||ad(w))return E!==null?null:u(v,b,w,S,null);dp(v,w)}return null}function p(v,b,w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,o(b,v,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ep:return v=v.get(S.key===null?w:S.key)||null,l(b,v,S,E);case Kl:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,E);case J0:var P=S._init;return p(v,b,w,P(S._payload),E)}if($d(S)||ad(S))return v=v.get(w)||null,u(b,v,S,E,null);dp(b,S)}return null}function g(v,b,w,S){for(var E=null,P=null,_=b,k=b=0,N=null;_!==null&&k<w.length;k++){_.index>k?(N=_,_=null):N=_.sibling;var A=h(v,_,w[k],S);if(A===null){_===null&&(_=N);break}t&&_&&A.alternate===null&&e(v,_),b=a(A,b,k),P===null?E=A:P.sibling=A,P=A,_=N}if(k===w.length)return n(v,_),Kt&&xo(v,k),E;if(_===null){for(;k<w.length;k++)_=d(v,w[k],S),_!==null&&(b=a(_,b,k),P===null?E=_:P.sibling=_,P=_);return Kt&&xo(v,k),E}for(_=r(v,_);k<w.length;k++)N=p(_,v,k,w[k],S),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?k:N.key),b=a(N,b,k),P===null?E=N:P.sibling=N,P=N);return t&&_.forEach(function(I){return e(v,I)}),Kt&&xo(v,k),E}function x(v,b,w,S){var E=ad(w);if(typeof E!="function")throw Error(he(150));if(w=E.call(w),w==null)throw Error(he(151));for(var P=E=null,_=b,k=b=0,N=null,A=w.next();_!==null&&!A.done;k++,A=w.next()){_.index>k?(N=_,_=null):N=_.sibling;var I=h(v,_,A.value,S);if(I===null){_===null&&(_=N);break}t&&_&&I.alternate===null&&e(v,_),b=a(I,b,k),P===null?E=I:P.sibling=I,P=I,_=N}if(A.done)return n(v,_),Kt&&xo(v,k),E;if(_===null){for(;!A.done;k++,A=w.next())A=d(v,A.value,S),A!==null&&(b=a(A,b,k),P===null?E=A:P.sibling=A,P=A);return Kt&&xo(v,k),E}for(_=r(v,_);!A.done;k++,A=w.next())A=p(_,v,k,A.value,S),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?k:A.key),b=a(A,b,k),P===null?E=A:P.sibling=A,P=A);return t&&_.forEach(function(j){return e(v,j)}),Kt&&xo(v,k),E}function y(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Ql&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ep:e:{for(var E=w.key,P=b;P!==null;){if(P.key===E){if(E=w.type,E===Ql){if(P.tag===7){n(v,P.sibling),b=i(P,w.props.children),b.return=v,v=b;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===J0&&TS(E)===P.type){n(v,P.sibling),b=i(P,w.props),b.ref=ud(v,P,w),b.return=v,v=b;break e}n(v,P);break}else e(v,P);P=P.sibling}w.type===Ql?(b=Vo(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=f3(w.type,w.key,w.props,null,v.mode,S),S.ref=ud(v,b,w),S.return=v,v=S)}return s(v);case Kl:e:{for(P=w.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=q5(w,v.mode,S),b.return=v,v=b}return s(v);case J0:return P=w._init,y(v,b,P(w._payload),S)}if($d(w))return g(v,b,w,S);if(ad(w))return x(v,b,w,S);dp(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=z5(w,v.mode,S),b.return=v,v=b),s(v)):n(v,b)}return y}var Mc=rj(!0),ij=rj(!1),G3=Gs(null),K3=null,rc=null,T8=null;function N8(){T8=rc=K3=null}function A8(t){var e=G3.current;Gt(G3),t._currentValue=e}function My(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yc(t,e){K3=t,T8=rc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vr=!0),t.firstContext=null)}function Mi(t){var e=t._currentValue;if(T8!==t)if(t={context:t,memoizedValue:e,next:null},rc===null){if(K3===null)throw Error(he(308));rc=t,K3.dependencies={lanes:0,firstContext:t}}else rc=rc.next=t;return e}var Ao=null;function I8(t){Ao===null?Ao=[t]:Ao.push(t)}function aj(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,I8(e)):(n.next=i.next,i.next=n),e.interleaved=n,E0(t,r)}function E0(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Z0=!1;function C8(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function g0(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,E0(t,n)}return i=r.interleaved,i===null?(e.next=e,I8(r)):(e.next=i.next,i.next=e),r.interleaved=e,E0(t,n)}function s3(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,g8(t,n)}}function NS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Q3(t,e,n,r){var i=t.updateQueue;Z0=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,u=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,x=o;switch(h=e,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=sn({},d,h);break e;case 2:Z0=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Yo|=s,t.lanes=s,t.memoizedState=d}}function AS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var f4={},ja=Gs(f4),Hf=Gs(f4),Gf=Gs(f4);function Io(t){if(t===f4)throw Error(he(174));return t}function O8(t,e){switch(Ft(Gf,e),Ft(Hf,t),Ft(ja,f4),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:my(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=my(e,t)}Gt(ja),Ft(ja,e)}function $c(){Gt(ja),Gt(Hf),Gt(Gf)}function oj(t){Io(Gf.current);var e=Io(ja.current),n=my(e,t.type);e!==n&&(Ft(Hf,t),Ft(ja,n))}function j8(t){Hf.current===t&&(Gt(ja),Gt(Hf))}var en=Gs(0);function Y3(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var D5=[];function R8(){for(var t=0;t<D5.length;t++)D5[t]._workInProgressVersionPrimary=null;D5.length=0}var o3=$0.ReactCurrentDispatcher,L5=$0.ReactCurrentBatchConfig,Qo=0,an=null,Cn=null,Un=null,X3=!1,ff=!1,Kf=0,MW=0;function rr(){throw Error(he(321))}function M8(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ca(t[n],e[n]))return!1;return!0}function $8(t,e,n,r,i,a){if(Qo=a,an=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,o3.current=t===null||t.memoizedState===null?FW:VW,t=n(r,i),ff){a=0;do{if(ff=!1,Kf=0,25<=a)throw Error(he(301));a+=1,Un=Cn=null,e.updateQueue=null,o3.current=UW,t=n(r,i)}while(ff)}if(o3.current=J3,e=Cn!==null&&Cn.next!==null,Qo=0,Un=Cn=an=null,X3=!1,e)throw Error(he(300));return t}function D8(){var t=Kf!==0;return Kf=0,t}function va(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?an.memoizedState=Un=t:Un=Un.next=t,Un}function $i(){if(Cn===null){var t=an.alternate;t=t!==null?t.memoizedState:null}else t=Cn.next;var e=Un===null?an.memoizedState:Un.next;if(e!==null)Un=e,Cn=t;else{if(t===null)throw Error(he(310));Cn=t,t={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},Un===null?an.memoizedState=Un=t:Un=Un.next=t}return Un}function Qf(t,e){return typeof e=="function"?e(t):e}function F5(t){var e=$i(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=Cn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Qo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,an.lanes|=u,Yo|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ca(r,e.memoizedState)||(Vr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,an.lanes|=a,Yo|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function V5(t){var e=$i(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ca(a,e.memoizedState)||(Vr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function lj(){}function cj(t,e){var n=an,r=$i(),i=e(),a=!ca(r.memoizedState,i);if(a&&(r.memoizedState=i,Vr=!0),r=r.queue,L8(fj.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,Yf(9,dj.bind(null,n,r,i,e),void 0,null),Bn===null)throw Error(he(349));Qo&30||uj(n,e,i)}return i}function uj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dj(t,e,n,r){e.value=n,e.getSnapshot=r,hj(e)&&pj(t)}function fj(t,e,n){return n(function(){hj(e)&&pj(t)})}function hj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ca(t,n)}catch{return!0}}function pj(t){var e=E0(t,1);e!==null&&aa(e,t,1,-1)}function IS(t){var e=va();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qf,lastRenderedState:t},e.queue=t,t=t.dispatch=LW.bind(null,an,t),[e.memoizedState,t]}function Yf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mj(){return $i().memoizedState}function l3(t,e,n,r){var i=va();an.flags|=t,i.memoizedState=Yf(1|e,n,void 0,r===void 0?null:r)}function Ng(t,e,n,r){var i=$i();r=r===void 0?null:r;var a=void 0;if(Cn!==null){var s=Cn.memoizedState;if(a=s.destroy,r!==null&&M8(r,s.deps)){i.memoizedState=Yf(e,n,a,r);return}}an.flags|=t,i.memoizedState=Yf(1|e,n,a,r)}function CS(t,e){return l3(8390656,8,t,e)}function L8(t,e){return Ng(2048,8,t,e)}function gj(t,e){return Ng(4,2,t,e)}function yj(t,e){return Ng(4,4,t,e)}function vj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xj(t,e,n){return n=n!=null?n.concat([t]):null,Ng(4,4,vj.bind(null,e,t),n)}function F8(){}function bj(t,e){var n=$i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M8(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wj(t,e){var n=$i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M8(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _j(t,e,n){return Qo&21?(ca(n,e)||(n=TO(),an.lanes|=n,Yo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vr=!0),t.memoizedState=n)}function $W(t,e){var n=Nt;Nt=n!==0&&4>n?n:4,t(!0);var r=L5.transition;L5.transition={};try{t(!1),e()}finally{Nt=n,L5.transition=r}}function Sj(){return $i().memoizedState}function DW(t,e,n){var r=Es(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ej(t))kj(e,n);else if(n=aj(t,e,n,r),n!==null){var i=Pr();aa(n,t,r,i),Pj(n,e,r)}}function LW(t,e,n){var r=Es(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ej(t))kj(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ca(o,s)){var l=e.interleaved;l===null?(i.next=i,I8(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=aj(t,e,i,r),n!==null&&(i=Pr(),aa(n,t,r,i),Pj(n,e,r))}}function Ej(t){var e=t.alternate;return t===an||e!==null&&e===an}function kj(t,e){ff=X3=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Pj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,g8(t,n)}}var J3={readContext:Mi,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},FW={readContext:Mi,useCallback:function(t,e){return va().memoizedState=[t,e===void 0?null:e],t},useContext:Mi,useEffect:CS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,l3(4194308,4,vj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return l3(4194308,4,t,e)},useInsertionEffect:function(t,e){return l3(4,2,t,e)},useMemo:function(t,e){var n=va();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=va();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DW.bind(null,an,t),[r.memoizedState,t]},useRef:function(t){var e=va();return t={current:t},e.memoizedState=t},useState:IS,useDebugValue:F8,useDeferredValue:function(t){return va().memoizedState=t},useTransition:function(){var t=IS(!1),e=t[0];return t=$W.bind(null,t[1]),va().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=an,i=va();if(Kt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Bn===null)throw Error(he(349));Qo&30||uj(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,CS(fj.bind(null,r,a,t),[t]),r.flags|=2048,Yf(9,dj.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=va(),e=Bn.identifierPrefix;if(Kt){var n=l0,r=o0;n=(r&~(1<<32-ia(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VW={readContext:Mi,useCallback:bj,useContext:Mi,useEffect:L8,useImperativeHandle:xj,useInsertionEffect:gj,useLayoutEffect:yj,useMemo:wj,useReducer:F5,useRef:mj,useState:function(){return F5(Qf)},useDebugValue:F8,useDeferredValue:function(t){var e=$i();return _j(e,Cn.memoizedState,t)},useTransition:function(){var t=F5(Qf)[0],e=$i().memoizedState;return[t,e]},useMutableSource:lj,useSyncExternalStore:cj,useId:Sj,unstable_isNewReconciler:!1},UW={readContext:Mi,useCallback:bj,useContext:Mi,useEffect:L8,useImperativeHandle:xj,useInsertionEffect:gj,useLayoutEffect:yj,useMemo:wj,useReducer:V5,useRef:mj,useState:function(){return V5(Qf)},useDebugValue:F8,useDeferredValue:function(t){var e=$i();return Cn===null?e.memoizedState=t:_j(e,Cn.memoizedState,t)},useTransition:function(){var t=V5(Qf)[0],e=$i().memoizedState;return[t,e]},useMutableSource:lj,useSyncExternalStore:cj,useId:Sj,unstable_isNewReconciler:!1};function Hi(t,e){if(t&&t.defaultProps){e=sn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $y(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:sn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ag={isMounted:function(t){return(t=t._reactInternals)?wl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pr(),i=Es(t),a=g0(r,i);a.payload=e,n!=null&&(a.callback=n),e=_s(t,a,i),e!==null&&(aa(e,t,i,r),s3(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pr(),i=Es(t),a=g0(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=_s(t,a,i),e!==null&&(aa(e,t,i,r),s3(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pr(),r=Es(t),i=g0(n,r);i.tag=2,e!=null&&(i.callback=e),e=_s(t,i,r),e!==null&&(aa(e,t,r,n),s3(e,t,r))}};function OS(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Bf(n,r)||!Bf(i,a):!0}function Tj(t,e,n){var r=!1,i=Ds,a=e.contextType;return typeof a=="object"&&a!==null?a=Mi(a):(i=qr(e)?Go:hr.current,r=e.contextTypes,a=(r=r!=null)?jc(t,i):Ds),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ag,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function jS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ag.enqueueReplaceState(e,e.state,null)}function Dy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},C8(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Mi(a):(a=qr(e)?Go:hr.current,i.context=jc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&($y(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ag.enqueueReplaceState(i,i.state,null),Q3(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Dc(t,e){try{var n="",r=e;do n+=mq(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function U5(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ly(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BW=typeof WeakMap=="function"?WeakMap:Map;function Nj(t,e,n){n=g0(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){em||(em=!0,Ky=r),Ly(t,e)},n}function Aj(t,e,n){n=g0(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ly(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ly(t,e),typeof r!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function RS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nH.bind(null,t,e,n),e.then(t,t))}function MS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $S(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=g0(-1,1),e.tag=2,_s(n,e,1))),n.lanes|=1),t)}var zW=$0.ReactCurrentOwner,Vr=!1;function yr(t,e,n,r){e.child=t===null?ij(e,null,n,r):Mc(e,t.child,n,r)}function DS(t,e,n,r,i){n=n.render;var a=e.ref;return yc(e,i),r=$8(t,e,n,r,a,i),n=D8(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,k0(t,e,i)):(Kt&&n&&E8(e),e.flags|=1,yr(t,e,r,i),e.child)}function LS(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!G8(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Ij(t,e,a,r,i)):(t=f3(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Bf,n(s,r)&&t.ref===e.ref)return k0(t,e,i)}return e.flags|=1,t=ks(a,r),t.ref=e.ref,t.return=e,e.child=t}function Ij(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Bf(a,r)&&t.ref===e.ref)if(Vr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Vr=!0);else return e.lanes=t.lanes,k0(t,e,i)}return Fy(t,e,n,r,i)}function Cj(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(ac,Jr),Jr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ft(ac,Jr),Jr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ft(ac,Jr),Jr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ft(ac,Jr),Jr|=r;return yr(t,e,i,n),e.child}function Oj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fy(t,e,n,r,i){var a=qr(n)?Go:hr.current;return a=jc(e,a),yc(e,i),n=$8(t,e,n,r,a,i),r=D8(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,k0(t,e,i)):(Kt&&r&&E8(e),e.flags|=1,yr(t,e,n,i),e.child)}function FS(t,e,n,r,i){if(qr(n)){var a=!0;q3(e)}else a=!1;if(yc(e,i),e.stateNode===null)c3(t,e),Tj(e,n,r),Dy(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mi(c):(c=qr(n)?Go:hr.current,c=jc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&jS(e,s,r,c),Z0=!1;var h=e.memoizedState;s.state=h,Q3(e,r,s,i),l=e.memoizedState,o!==r||h!==l||zr.current||Z0?(typeof u=="function"&&($y(e,n,u,r),l=e.memoizedState),(o=Z0||OS(e,n,o,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,sj(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Hi(e.type,o),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mi(l):(l=qr(n)?Go:hr.current,l=jc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&jS(e,s,r,l),Z0=!1,h=e.memoizedState,s.state=h,Q3(e,r,s,i);var g=e.memoizedState;o!==d||h!==g||zr.current||Z0?(typeof p=="function"&&($y(e,n,p,r),g=e.memoizedState),(c=Z0||OS(e,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Vy(t,e,n,r,a,i)}function Vy(t,e,n,r,i,a){Oj(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&ES(e,n,!1),k0(t,e,a);r=e.stateNode,zW.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Mc(e,t.child,null,a),e.child=Mc(e,null,o,a)):yr(t,e,o,a),e.memoizedState=r.state,i&&ES(e,n,!0),e.child}function jj(t){var e=t.stateNode;e.pendingContext?SS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&SS(t,e.context,!1),O8(t,e.containerInfo)}function VS(t,e,n,r,i){return Rc(),P8(i),e.flags|=256,yr(t,e,n,r),e.child}var Uy={dehydrated:null,treeContext:null,retryLane:0};function By(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rj(t,e,n){var r=e.pendingProps,i=en.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ft(en,i&1),t===null)return Ry(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Og(s,r,0,null),t=Vo(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=By(n),e.memoizedState=Uy,t):V8(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return qW(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ks(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=ks(o,a):(a=Vo(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?By(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=Uy,r}return a=t.child,t=a.sibling,r=ks(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function V8(t,e){return e=Og({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fp(t,e,n,r){return r!==null&&P8(r),Mc(e,t.child,null,n),t=V8(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qW(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=U5(Error(he(422))),fp(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Og({mode:"visible",children:r.children},i,0,null),a=Vo(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Mc(e,t.child,null,s),e.child.memoizedState=By(s),e.memoizedState=Uy,a);if(!(e.mode&1))return fp(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(he(419)),r=U5(a,r,void 0),fp(t,e,s,r)}if(o=(s&t.childLanes)!==0,Vr||o){if(r=Bn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,E0(t,i),aa(r,t,i,-1))}return H8(),r=U5(Error(he(421))),fp(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rH.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ri=ws(i.nextSibling),li=e,Kt=!0,Qi=null,t!==null&&(_i[Si++]=o0,_i[Si++]=l0,_i[Si++]=Ko,o0=t.id,l0=t.overflow,Ko=e),e=V8(e,r.children),e.flags|=4096,e)}function US(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),My(t.return,e,n)}function B5(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Mj(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(yr(t,e,r.children,n),r=en.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&US(t,n,e);else if(t.tag===19)US(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ft(en,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Y3(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),B5(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Y3(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}B5(e,!0,n,null,a);break;case"together":B5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function c3(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function k0(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=ks(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ks(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WW(t,e,n){switch(e.tag){case 3:jj(e),Rc();break;case 5:oj(e);break;case 1:qr(e.type)&&q3(e);break;case 4:O8(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ft(G3,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ft(en,en.current&1),e.flags|=128,null):n&e.child.childLanes?Rj(t,e,n):(Ft(en,en.current&1),t=k0(t,e,n),t!==null?t.sibling:null);Ft(en,en.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Mj(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ft(en,en.current),r)break;return null;case 22:case 23:return e.lanes=0,Cj(t,e,n)}return k0(t,e,n)}var $j,zy,Dj,Lj;$j=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zy=function(){};Dj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Io(ja.current);var a=null;switch(n){case"input":i=dy(t,i),r=dy(t,r),a=[];break;case"select":i=sn({},i,{value:void 0}),r=sn({},r,{value:void 0}),a=[];break;case"textarea":i=py(t,i),r=py(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=B3)}gy(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&zt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};Lj=function(t,e,n,r){n!==r&&(e.flags|=4)};function dd(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HW(t,e,n){var r=e.pendingProps;switch(k8(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(e),null;case 1:return qr(e.type)&&z3(),ir(e),null;case 3:return r=e.stateNode,$c(),Gt(zr),Gt(hr),R8(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(up(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qi!==null&&(Xy(Qi),Qi=null))),zy(t,e),ir(e),null;case 5:j8(e);var i=Io(Gf.current);if(n=e.type,t!==null&&e.stateNode!=null)Dj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return ir(e),null}if(t=Io(ja.current),up(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[_a]=e,r[Wf]=a,t=(e.mode&1)!==0,n){case"dialog":zt("cancel",r),zt("close",r);break;case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(i=0;i<Ld.length;i++)zt(Ld[i],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"input":Y_(r,a),zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zt("invalid",r);break;case"textarea":J_(r,a),zt("invalid",r)}gy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&cp(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&cp(r.textContent,o,t),i=["children",""+o]):Mf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&zt("scroll",r)}switch(n){case"input":tp(r),X_(r,a,!0);break;case"textarea":tp(r),Z_(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=B3)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[_a]=e,t[Wf]=r,$j(t,e,!1,!1),e.stateNode=t;e:{switch(s=yy(n,r),n){case"dialog":zt("cancel",t),zt("close",t),i=r;break;case"iframe":case"object":case"embed":zt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ld.length;i++)zt(Ld[i],t);i=r;break;case"source":zt("error",t),i=r;break;case"img":case"image":case"link":zt("error",t),zt("load",t),i=r;break;case"details":zt("toggle",t),i=r;break;case"input":Y_(t,r),i=dy(t,r),zt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=sn({},r,{value:void 0}),zt("invalid",t);break;case"textarea":J_(t,r),i=py(t,r),zt("invalid",t);break;default:i=r}gy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?mO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hO(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$f(t,l):typeof l=="number"&&$f(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Mf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&zt("scroll",t):l!=null&&u8(t,a,l,s))}switch(n){case"input":tp(t),X_(t,r,!1);break;case"textarea":tp(t),Z_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$s(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?hc(t,!!r.multiple,a,!1):r.defaultValue!=null&&hc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=B3)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ir(e),null;case 6:if(t&&e.stateNode!=null)Lj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=Io(Gf.current),Io(ja.current),up(e)){if(r=e.stateNode,n=e.memoizedProps,r[_a]=e,(a=r.nodeValue!==n)&&(t=li,t!==null))switch(t.tag){case 3:cp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cp(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_a]=e,e.stateNode=r}return ir(e),null;case 13:if(Gt(en),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kt&&ri!==null&&e.mode&1&&!(e.flags&128))nj(),Rc(),e.flags|=98560,a=!1;else if(a=up(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(he(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[_a]=e}else Rc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ir(e),a=!1}else Qi!==null&&(Xy(Qi),Qi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||en.current&1?On===0&&(On=3):H8())),e.updateQueue!==null&&(e.flags|=4),ir(e),null);case 4:return $c(),zy(t,e),t===null&&zf(e.stateNode.containerInfo),ir(e),null;case 10:return A8(e.type._context),ir(e),null;case 17:return qr(e.type)&&z3(),ir(e),null;case 19:if(Gt(en),a=e.memoizedState,a===null)return ir(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)dd(a,!1);else{if(On!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Y3(t),s!==null){for(e.flags|=128,dd(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ft(en,en.current&1|2),e.child}t=t.sibling}a.tail!==null&&vn()>Lc&&(e.flags|=128,r=!0,dd(a,!1),e.lanes=4194304)}else{if(!r)if(t=Y3(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Kt)return ir(e),null}else 2*vn()-a.renderingStartTime>Lc&&n!==1073741824&&(e.flags|=128,r=!0,dd(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=vn(),e.sibling=null,n=en.current,Ft(en,r?n&1|2:n&1),e):(ir(e),null);case 22:case 23:return W8(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jr&1073741824&&(ir(e),e.subtreeFlags&6&&(e.flags|=8192)):ir(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function GW(t,e){switch(k8(e),e.tag){case 1:return qr(e.type)&&z3(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $c(),Gt(zr),Gt(hr),R8(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return j8(e),null;case 13:if(Gt(en),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));Rc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Gt(en),null;case 4:return $c(),null;case 10:return A8(e.type._context),null;case 22:case 23:return W8(),null;case 24:return null;default:return null}}var hp=!1,lr=!1,KW=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function ic(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fn(t,e,r)}else n.current=null}function qy(t,e,n){try{n()}catch(r){fn(t,e,r)}}var BS=!1;function QW(t,e){if(Ty=F3,t=zO(),S8(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ny={focusedElem:t,selectionRange:n},F3=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Hi(e.type,x),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(S){fn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return g=BS,BS=!1,g}function hf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&qy(e,n,a)}i=i.next}while(i!==r)}}function Ig(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fj(t){var e=t.alternate;e!==null&&(t.alternate=null,Fj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_a],delete e[Wf],delete e[Cy],delete e[CW],delete e[OW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vj(t){return t.tag===5||t.tag===3||t.tag===4}function zS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=B3));else if(r!==4&&(t=t.child,t!==null))for(Hy(t,e,n),t=t.sibling;t!==null;)Hy(t,e,n),t=t.sibling}function Gy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gy(t,e,n),t=t.sibling;t!==null;)Gy(t,e,n),t=t.sibling}var Kn=null,Gi=!1;function G0(t,e,n){for(n=n.child;n!==null;)Uj(t,e,n),n=n.sibling}function Uj(t,e,n){if(Oa&&typeof Oa.onCommitFiberUnmount=="function")try{Oa.onCommitFiberUnmount(_g,n)}catch{}switch(n.tag){case 5:lr||ic(n,e);case 6:var r=Kn,i=Gi;Kn=null,G0(t,e,n),Kn=r,Gi=i,Kn!==null&&(Gi?(t=Kn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kn.removeChild(n.stateNode));break;case 18:Kn!==null&&(Gi?(t=Kn,n=n.stateNode,t.nodeType===8?M5(t.parentNode,n):t.nodeType===1&&M5(t,n),Vf(t)):M5(Kn,n.stateNode));break;case 4:r=Kn,i=Gi,Kn=n.stateNode.containerInfo,Gi=!0,G0(t,e,n),Kn=r,Gi=i;break;case 0:case 11:case 14:case 15:if(!lr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&qy(n,e,s),i=i.next}while(i!==r)}G0(t,e,n);break;case 1:if(!lr&&(ic(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){fn(n,e,o)}G0(t,e,n);break;case 21:G0(t,e,n);break;case 22:n.mode&1?(lr=(r=lr)||n.memoizedState!==null,G0(t,e,n),lr=r):G0(t,e,n);break;default:G0(t,e,n)}}function qS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KW),e.forEach(function(r){var i=iH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Kn=o.stateNode,Gi=!1;break e;case 3:Kn=o.stateNode.containerInfo,Gi=!0;break e;case 4:Kn=o.stateNode.containerInfo,Gi=!0;break e}o=o.return}if(Kn===null)throw Error(he(160));Uj(a,s,i),Kn=null,Gi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){fn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bj(e,t),e=e.sibling}function Bj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qi(e,t),ya(t),r&4){try{hf(3,t,t.return),Ig(3,t)}catch(x){fn(t,t.return,x)}try{hf(5,t,t.return)}catch(x){fn(t,t.return,x)}}break;case 1:qi(e,t),ya(t),r&512&&n!==null&&ic(n,n.return);break;case 5:if(qi(e,t),ya(t),r&512&&n!==null&&ic(n,n.return),t.flags&32){var i=t.stateNode;try{$f(i,"")}catch(x){fn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&uO(i,a),yy(o,s);var c=yy(o,a);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?mO(i,d):u==="dangerouslySetInnerHTML"?hO(i,d):u==="children"?$f(i,d):u8(i,u,d,c)}switch(o){case"input":fy(i,a);break;case"textarea":dO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?hc(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?hc(i,!!a.multiple,a.defaultValue,!0):hc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Wf]=a}catch(x){fn(t,t.return,x)}}break;case 6:if(qi(e,t),ya(t),r&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){fn(t,t.return,x)}}break;case 3:if(qi(e,t),ya(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vf(e.containerInfo)}catch(x){fn(t,t.return,x)}break;case 4:qi(e,t),ya(t);break;case 13:qi(e,t),ya(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(z8=vn())),r&4&&qS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(lr=(c=lr)||u,qi(e,t),lr=c):qi(e,t),ya(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ne=t,u=t.child;u!==null;){for(d=Ne=u;Ne!==null;){switch(h=Ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:hf(4,h,h.return);break;case 1:ic(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){fn(r,n,x)}}break;case 5:ic(h,h.return);break;case 22:if(h.memoizedState!==null){HS(d);continue}}p!==null?(p.return=h,Ne=p):HS(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=pO("display",s))}catch(x){fn(t,t.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){fn(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qi(e,t),ya(t),r&4&&qS(t);break;case 21:break;default:qi(e,t),ya(t)}}function ya(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vj(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($f(i,""),r.flags&=-33);var a=zS(t);Gy(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=zS(t);Hy(t,o,s);break;default:throw Error(he(161))}}catch(l){fn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YW(t,e,n){Ne=t,zj(t)}function zj(t,e,n){for(var r=(t.mode&1)!==0;Ne!==null;){var i=Ne,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||hp;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||lr;o=hp;var c=lr;if(hp=s,(lr=l)&&!c)for(Ne=i;Ne!==null;)s=Ne,l=s.child,s.tag===22&&s.memoizedState!==null?GS(i):l!==null?(l.return=s,Ne=l):GS(i);for(;a!==null;)Ne=a,zj(a),a=a.sibling;Ne=i,hp=o,lr=c}WS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ne=a):WS(t)}}function WS(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lr||Ig(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Hi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&AS(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}AS(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Vf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}lr||e.flags&512&&Wy(e)}catch(h){fn(e,e.return,h)}}if(e===t){Ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function HS(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function GS(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ig(4,e)}catch(l){fn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){fn(e,i,l)}}var a=e.return;try{Wy(e)}catch(l){fn(e,a,l)}break;case 5:var s=e.return;try{Wy(e)}catch(l){fn(e,s,l)}}}catch(l){fn(e,e.return,l)}if(e===t){Ne=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ne=o;break}Ne=e.return}}var XW=Math.ceil,Z3=$0.ReactCurrentDispatcher,U8=$0.ReactCurrentOwner,Ci=$0.ReactCurrentBatchConfig,gt=0,Bn=null,Sn=null,er=0,Jr=0,ac=Gs(0),On=0,Xf=null,Yo=0,Cg=0,B8=0,pf=null,$r=null,z8=0,Lc=1/0,Za=null,em=!1,Ky=null,Ss=null,pp=!1,ds=null,tm=0,mf=0,Qy=null,u3=-1,d3=0;function Pr(){return gt&6?vn():u3!==-1?u3:u3=vn()}function Es(t){return t.mode&1?gt&2&&er!==0?er&-er:RW.transition!==null?(d3===0&&(d3=TO()),d3):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:RO(t.type)),t):1}function aa(t,e,n,r){if(50<mf)throw mf=0,Qy=null,Error(he(185));c4(t,n,r),(!(gt&2)||t!==Bn)&&(t===Bn&&(!(gt&2)&&(Cg|=n),On===4&&is(t,er)),Wr(t,r),n===1&&gt===0&&!(e.mode&1)&&(Lc=vn()+500,Tg&&Ks()))}function Wr(t,e){var n=t.callbackNode;Rq(t,e);var r=L3(t,t===Bn?er:0);if(r===0)n!==null&&nS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nS(n),e===1)t.tag===0?jW(KS.bind(null,t)):ZO(KS.bind(null,t)),AW(function(){!(gt&6)&&Ks()}),n=null;else{switch(NO(r)){case 1:n=m8;break;case 4:n=kO;break;case 16:n=D3;break;case 536870912:n=PO;break;default:n=D3}n=Xj(n,qj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qj(t,e){if(u3=-1,d3=0,gt&6)throw Error(he(327));var n=t.callbackNode;if(vc()&&t.callbackNode!==n)return null;var r=L3(t,t===Bn?er:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nm(t,r);else{e=r;var i=gt;gt|=2;var a=Hj();(Bn!==t||er!==e)&&(Za=null,Lc=vn()+500,Fo(t,e));do try{eH();break}catch(o){Wj(t,o)}while(!0);N8(),Z3.current=a,gt=i,Sn!==null?e=0:(Bn=null,er=0,e=On)}if(e!==0){if(e===2&&(i=_y(t),i!==0&&(r=i,e=Yy(t,i))),e===1)throw n=Xf,Fo(t,0),is(t,r),Wr(t,vn()),n;if(e===6)is(t,r);else{if(i=t.current.alternate,!(r&30)&&!JW(i)&&(e=nm(t,r),e===2&&(a=_y(t),a!==0&&(r=a,e=Yy(t,a))),e===1))throw n=Xf,Fo(t,0),is(t,r),Wr(t,vn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:bo(t,$r,Za);break;case 3:if(is(t,r),(r&130023424)===r&&(e=z8+500-vn(),10<e)){if(L3(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Iy(bo.bind(null,t,$r,Za),e);break}bo(t,$r,Za);break;case 4:if(is(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ia(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XW(r/1960))-r,10<r){t.timeoutHandle=Iy(bo.bind(null,t,$r,Za),r);break}bo(t,$r,Za);break;case 5:bo(t,$r,Za);break;default:throw Error(he(329))}}}return Wr(t,vn()),t.callbackNode===n?qj.bind(null,t):null}function Yy(t,e){var n=pf;return t.current.memoizedState.isDehydrated&&(Fo(t,e).flags|=256),t=nm(t,e),t!==2&&(e=$r,$r=n,e!==null&&Xy(e)),t}function Xy(t){$r===null?$r=t:$r.push.apply($r,t)}function JW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ca(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function is(t,e){for(e&=~B8,e&=~Cg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ia(e),r=1<<n;t[n]=-1,e&=~r}}function KS(t){if(gt&6)throw Error(he(327));vc();var e=L3(t,0);if(!(e&1))return Wr(t,vn()),null;var n=nm(t,e);if(t.tag!==0&&n===2){var r=_y(t);r!==0&&(e=r,n=Yy(t,r))}if(n===1)throw n=Xf,Fo(t,0),is(t,e),Wr(t,vn()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bo(t,$r,Za),Wr(t,vn()),null}function q8(t,e){var n=gt;gt|=1;try{return t(e)}finally{gt=n,gt===0&&(Lc=vn()+500,Tg&&Ks())}}function Xo(t){ds!==null&&ds.tag===0&&!(gt&6)&&vc();var e=gt;gt|=1;var n=Ci.transition,r=Nt;try{if(Ci.transition=null,Nt=1,t)return t()}finally{Nt=r,Ci.transition=n,gt=e,!(gt&6)&&Ks()}}function W8(){Jr=ac.current,Gt(ac)}function Fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NW(n)),Sn!==null)for(n=Sn.return;n!==null;){var r=n;switch(k8(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&z3();break;case 3:$c(),Gt(zr),Gt(hr),R8();break;case 5:j8(r);break;case 4:$c();break;case 13:Gt(en);break;case 19:Gt(en);break;case 10:A8(r.type._context);break;case 22:case 23:W8()}n=n.return}if(Bn=t,Sn=t=ks(t.current,null),er=Jr=e,On=0,Xf=null,B8=Cg=Yo=0,$r=pf=null,Ao!==null){for(e=0;e<Ao.length;e++)if(n=Ao[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Ao=null}return t}function Wj(t,e){do{var n=Sn;try{if(N8(),o3.current=J3,X3){for(var r=an.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}X3=!1}if(Qo=0,Un=Cn=an=null,ff=!1,Kf=0,U8.current=null,n===null||n.return===null){On=1,Xf=e,Sn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=er,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=MS(s);if(p!==null){p.flags&=-257,$S(p,s,o,a,e),p.mode&1&&RS(a,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){RS(a,c,e),H8();break e}l=Error(he(426))}}else if(Kt&&o.mode&1){var y=MS(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),$S(y,s,o,a,e),P8(Dc(l,o));break e}}a=l=Dc(l,o),On!==4&&(On=2),pf===null?pf=[a]:pf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=Nj(a,l,e);NS(a,v);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ss===null||!Ss.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=Aj(a,o,e);NS(a,S);break e}}a=a.return}while(a!==null)}Kj(n)}catch(E){e=E,Sn===n&&n!==null&&(Sn=n=n.return);continue}break}while(!0)}function Hj(){var t=Z3.current;return Z3.current=J3,t===null?J3:t}function H8(){(On===0||On===3||On===2)&&(On=4),Bn===null||!(Yo&268435455)&&!(Cg&268435455)||is(Bn,er)}function nm(t,e){var n=gt;gt|=2;var r=Hj();(Bn!==t||er!==e)&&(Za=null,Fo(t,e));do try{ZW();break}catch(i){Wj(t,i)}while(!0);if(N8(),gt=n,Z3.current=r,Sn!==null)throw Error(he(261));return Bn=null,er=0,On}function ZW(){for(;Sn!==null;)Gj(Sn)}function eH(){for(;Sn!==null&&!kq();)Gj(Sn)}function Gj(t){var e=Yj(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,e===null?Kj(t):Sn=e,U8.current=null}function Kj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GW(n,e),n!==null){n.flags&=32767,Sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{On=6,Sn=null;return}}else if(n=HW(n,e,Jr),n!==null){Sn=n;return}if(e=e.sibling,e!==null){Sn=e;return}Sn=e=t}while(e!==null);On===0&&(On=5)}function bo(t,e,n){var r=Nt,i=Ci.transition;try{Ci.transition=null,Nt=1,tH(t,e,n,r)}finally{Ci.transition=i,Nt=r}return null}function tH(t,e,n,r){do vc();while(ds!==null);if(gt&6)throw Error(he(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Mq(t,a),t===Bn&&(Sn=Bn=null,er=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pp||(pp=!0,Xj(D3,function(){return vc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ci.transition,Ci.transition=null;var s=Nt;Nt=1;var o=gt;gt|=4,U8.current=null,QW(t,n),Bj(n,t),wW(Ny),F3=!!Ty,Ny=Ty=null,t.current=n,YW(n),Pq(),gt=o,Nt=s,Ci.transition=a}else t.current=n;if(pp&&(pp=!1,ds=t,tm=i),a=t.pendingLanes,a===0&&(Ss=null),Aq(n.stateNode),Wr(t,vn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(em)throw em=!1,t=Ky,Ky=null,t;return tm&1&&t.tag!==0&&vc(),a=t.pendingLanes,a&1?t===Qy?mf++:(mf=0,Qy=t):mf=0,Ks(),null}function vc(){if(ds!==null){var t=NO(tm),e=Ci.transition,n=Nt;try{if(Ci.transition=null,Nt=16>t?16:t,ds===null)var r=!1;else{if(t=ds,ds=null,tm=0,gt&6)throw Error(he(331));var i=gt;for(gt|=4,Ne=t.current;Ne!==null;){var a=Ne,s=a.child;if(Ne.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ne=c;Ne!==null;){var u=Ne;switch(u.tag){case 0:case 11:case 15:hf(8,u,a)}var d=u.child;if(d!==null)d.return=u,Ne=d;else for(;Ne!==null;){u=Ne;var h=u.sibling,p=u.return;if(Fj(u),u===c){Ne=null;break}if(h!==null){h.return=p,Ne=h;break}Ne=p}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Ne=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ne=s;else e:for(;Ne!==null;){if(a=Ne,a.flags&2048)switch(a.tag){case 0:case 11:case 15:hf(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Ne=v;break e}Ne=a.return}}var b=t.current;for(Ne=b;Ne!==null;){s=Ne;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ne=w;else e:for(s=b;Ne!==null;){if(o=Ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ig(9,o)}}catch(E){fn(o,o.return,E)}if(o===s){Ne=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Ne=S;break e}Ne=o.return}}if(gt=i,Ks(),Oa&&typeof Oa.onPostCommitFiberRoot=="function")try{Oa.onPostCommitFiberRoot(_g,t)}catch{}r=!0}return r}finally{Nt=n,Ci.transition=e}}return!1}function QS(t,e,n){e=Dc(n,e),e=Nj(t,e,1),t=_s(t,e,1),e=Pr(),t!==null&&(c4(t,1,e),Wr(t,e))}function fn(t,e,n){if(t.tag===3)QS(t,t,n);else for(;e!==null;){if(e.tag===3){QS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ss===null||!Ss.has(r))){t=Dc(n,t),t=Aj(e,t,1),e=_s(e,t,1),t=Pr(),e!==null&&(c4(e,1,t),Wr(e,t));break}}e=e.return}}function nH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pr(),t.pingedLanes|=t.suspendedLanes&n,Bn===t&&(er&n)===n&&(On===4||On===3&&(er&130023424)===er&&500>vn()-z8?Fo(t,0):B8|=n),Wr(t,e)}function Qj(t,e){e===0&&(t.mode&1?(e=ip,ip<<=1,!(ip&130023424)&&(ip=4194304)):e=1);var n=Pr();t=E0(t,e),t!==null&&(c4(t,e,n),Wr(t,n))}function rH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qj(t,n)}function iH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),Qj(t,n)}var Yj;Yj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zr.current)Vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vr=!1,WW(t,e,n);Vr=!!(t.flags&131072)}else Vr=!1,Kt&&e.flags&1048576&&ej(e,H3,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;c3(t,e),t=e.pendingProps;var i=jc(e,hr.current);yc(e,n),i=$8(null,e,r,t,i,n);var a=D8();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qr(r)?(a=!0,q3(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,C8(e),i.updater=Ag,e.stateNode=i,i._reactInternals=e,Dy(e,r,t,n),e=Vy(null,e,r,!0,a,n)):(e.tag=0,Kt&&a&&E8(e),yr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(c3(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sH(r),t=Hi(r,t),i){case 0:e=Fy(null,e,r,t,n);break e;case 1:e=FS(null,e,r,t,n);break e;case 11:e=DS(null,e,r,t,n);break e;case 14:e=LS(null,e,r,Hi(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),Fy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),FS(t,e,r,i,n);case 3:e:{if(jj(e),t===null)throw Error(he(387));r=e.pendingProps,a=e.memoizedState,i=a.element,sj(t,e),Q3(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Dc(Error(he(423)),e),e=VS(t,e,r,n,i);break e}else if(r!==i){i=Dc(Error(he(424)),e),e=VS(t,e,r,n,i);break e}else for(ri=ws(e.stateNode.containerInfo.firstChild),li=e,Kt=!0,Qi=null,n=ij(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rc(),r===i){e=k0(t,e,n);break e}yr(t,e,r,n)}e=e.child}return e;case 5:return oj(e),t===null&&Ry(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Ay(r,i)?s=null:a!==null&&Ay(r,a)&&(e.flags|=32),Oj(t,e),yr(t,e,s,n),e.child;case 6:return t===null&&Ry(e),null;case 13:return Rj(t,e,n);case 4:return O8(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mc(e,null,r,n):yr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),DS(t,e,r,i,n);case 7:return yr(t,e,e.pendingProps,n),e.child;case 8:return yr(t,e,e.pendingProps.children,n),e.child;case 12:return yr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ft(G3,r._currentValue),r._currentValue=s,a!==null)if(ca(a.value,s)){if(a.children===i.children&&!zr.current){e=k0(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=g0(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),My(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(he(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),My(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}yr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yc(e,n),i=Mi(i),r=r(i),e.flags|=1,yr(t,e,r,n),e.child;case 14:return r=e.type,i=Hi(r,e.pendingProps),i=Hi(r.type,i),LS(t,e,r,i,n);case 15:return Ij(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Hi(r,i),c3(t,e),e.tag=1,qr(r)?(t=!0,q3(e)):t=!1,yc(e,n),Tj(e,r,i),Dy(e,r,i,n),Vy(null,e,r,!0,t,n);case 19:return Mj(t,e,n);case 22:return Cj(t,e,n)}throw Error(he(156,e.tag))};function Xj(t,e){return EO(t,e)}function aH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(t,e,n,r){return new aH(t,e,n,r)}function G8(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sH(t){if(typeof t=="function")return G8(t)?1:0;if(t!=null){if(t=t.$$typeof,t===f8)return 11;if(t===h8)return 14}return 2}function ks(t,e){var n=t.alternate;return n===null?(n=Ni(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function f3(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")G8(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ql:return Vo(n.children,i,a,e);case d8:s=8,i|=8;break;case oy:return t=Ni(12,n,e,i|2),t.elementType=oy,t.lanes=a,t;case ly:return t=Ni(13,n,e,i),t.elementType=ly,t.lanes=a,t;case cy:return t=Ni(19,n,e,i),t.elementType=cy,t.lanes=a,t;case oO:return Og(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aO:s=10;break e;case sO:s=9;break e;case f8:s=11;break e;case h8:s=14;break e;case J0:s=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=Ni(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Vo(t,e,n,r){return t=Ni(7,t,r,e),t.lanes=n,t}function Og(t,e,n,r){return t=Ni(22,t,r,e),t.elementType=oO,t.lanes=n,t.stateNode={isHidden:!1},t}function z5(t,e,n){return t=Ni(6,t,null,e),t.lanes=n,t}function q5(t,e,n){return e=Ni(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E5(0),this.expirationTimes=E5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E5(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function K8(t,e,n,r,i,a,s,o,l){return t=new oH(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ni(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},C8(a),t}function lH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Jj(t){if(!t)return Ds;t=t._reactInternals;e:{if(wl(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(qr(n))return JO(t,n,e)}return e}function Zj(t,e,n,r,i,a,s,o,l){return t=K8(n,r,!0,t,i,a,s,o,l),t.context=Jj(null),n=t.current,r=Pr(),i=Es(n),a=g0(r,i),a.callback=e??null,_s(n,a,i),t.current.lanes=i,c4(t,i,r),Wr(t,r),t}function jg(t,e,n,r){var i=e.current,a=Pr(),s=Es(i);return n=Jj(n),e.context===null?e.context=n:e.pendingContext=n,e=g0(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_s(i,e,s),t!==null&&(aa(t,i,s,a),s3(t,i,s)),s}function rm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Q8(t,e){YS(t,e),(t=t.alternate)&&YS(t,e)}function cH(){return null}var eR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Y8(t){this._internalRoot=t}Rg.prototype.render=Y8.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));jg(t,e,null,null)};Rg.prototype.unmount=Y8.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xo(function(){jg(null,t,null,null)}),e[S0]=null}};function Rg(t){this._internalRoot=t}Rg.prototype.unstable_scheduleHydration=function(t){if(t){var e=CO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rs.length&&e!==0&&e<rs[n].priority;n++);rs.splice(n,0,t),n===0&&jO(t)}};function X8(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function XS(){}function uH(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=rm(s);a.call(c)}}var s=Zj(e,r,t,0,null,!1,!1,"",XS);return t._reactRootContainer=s,t[S0]=s.current,zf(t.nodeType===8?t.parentNode:t),Xo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=rm(l);o.call(c)}}var l=K8(t,0,!1,null,null,!1,!1,"",XS);return t._reactRootContainer=l,t[S0]=l.current,zf(t.nodeType===8?t.parentNode:t),Xo(function(){jg(e,l,n,r)}),l}function $g(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=rm(s);o.call(l)}}jg(e,s,t,i)}else s=uH(n,e,t,i,r);return rm(s)}AO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dd(e.pendingLanes);n!==0&&(g8(e,n|1),Wr(e,vn()),!(gt&6)&&(Lc=vn()+500,Ks()))}break;case 13:Xo(function(){var r=E0(t,1);if(r!==null){var i=Pr();aa(r,t,1,i)}}),Q8(t,1)}};y8=function(t){if(t.tag===13){var e=E0(t,134217728);if(e!==null){var n=Pr();aa(e,t,134217728,n)}Q8(t,134217728)}};IO=function(t){if(t.tag===13){var e=Es(t),n=E0(t,e);if(n!==null){var r=Pr();aa(n,t,e,r)}Q8(t,e)}};CO=function(){return Nt};OO=function(t,e){var n=Nt;try{return Nt=t,e()}finally{Nt=n}};xy=function(t,e,n){switch(e){case"input":if(fy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pg(r);if(!i)throw Error(he(90));cO(r),fy(r,i)}}}break;case"textarea":dO(t,n);break;case"select":e=n.value,e!=null&&hc(t,!!n.multiple,e,!1)}};vO=q8;xO=Xo;var dH={usingClientEntryPoint:!1,Events:[d4,Zl,Pg,gO,yO,q8]},fd={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fH={bundleType:fd.bundleType,version:fd.version,rendererPackageName:fd.rendererPackageName,rendererConfig:fd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$0.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_O(t),t===null?null:t.stateNode},findFiberByHostInstance:fd.findFiberByHostInstance||cH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{_g=mp.inject(fH),Oa=mp}catch{}}mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dH;mi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X8(e))throw Error(he(200));return lH(t,e,null,n)};mi.createRoot=function(t,e){if(!X8(t))throw Error(he(299));var n=!1,r="",i=eR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=K8(t,1,!1,null,null,n,!1,r,i),t[S0]=e.current,zf(t.nodeType===8?t.parentNode:t),new Y8(e)};mi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=_O(e),t=t===null?null:t.stateNode,t};mi.flushSync=function(t){return Xo(t)};mi.hydrate=function(t,e,n){if(!Mg(e))throw Error(he(200));return $g(null,t,e,!0,n)};mi.hydrateRoot=function(t,e,n){if(!X8(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=eR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Zj(e,null,t,1,n??null,i,!1,a,s),t[S0]=e.current,zf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rg(e)};mi.render=function(t,e,n){if(!Mg(e))throw Error(he(200));return $g(null,t,e,!1,n)};mi.unmountComponentAtNode=function(t){if(!Mg(t))throw Error(he(40));return t._reactRootContainer?(Xo(function(){$g(null,null,t,!1,function(){t._reactRootContainer=null,t[S0]=null})}),!0):!1};mi.unstable_batchedUpdates=q8;mi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mg(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return $g(t,e,n,!1,r)};mi.version="18.3.1-next-f1338f8080-20240426";function tR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tR)}catch(t){console.error(t)}}tR(),tO.exports=mi;var hH=tO.exports,JS=hH;ay.createRoot=JS.createRoot,ay.hydrateRoot=JS.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jf.apply(this,arguments)}var fs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fs||(fs={}));const ZS="popstate";function pH(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Jy("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:im(i)}return gH(e,n,null,t)}function bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J8(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mH(){return Math.random().toString(36).substr(2,8)}function eE(t,e){return{usr:t.state,key:t.key,idx:e}}function Jy(t,e,n,r){return n===void 0&&(n=null),Jf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ku(e):e,{state:n,key:e&&e.key||r||mH()})}function im(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ku(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gH(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=fs.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Jf({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=fs.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:o,location:x.location,delta:v})}function h(y,v){o=fs.Push;let b=Jy(x.location,y,v);c=u()+1;let w=eE(b,c),S=x.createHref(b);try{s.pushState(w,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}a&&l&&l({action:o,location:x.location,delta:1})}function p(y,v){o=fs.Replace;let b=Jy(x.location,y,v);c=u();let w=eE(b,c),S=x.createHref(b);s.replaceState(w,"",S),a&&l&&l({action:o,location:x.location,delta:0})}function g(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:im(y);return b=b.replace(/ $/,"%20"),bn(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let x={get action(){return o},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ZS,d),l=y,()=>{i.removeEventListener(ZS,d),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return s.go(y)}};return x}var tE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tE||(tE={}));function yH(t,e,n){return n===void 0&&(n="/"),vH(t,e,n)}function vH(t,e,n,r){let i=typeof e=="string"?ku(e):e,a=Z8(i.pathname||"/",n);if(a==null)return null;let s=nR(t);xH(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=CH(a);o=NH(s[l],c)}return o}function nR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(bn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ps([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(bn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nR(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:PH(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of rR(a.path))i(a,s,l)}),e}function rR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=rR(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function xH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bH=/^:[\w-]+$/,wH=3,_H=2,SH=1,EH=10,kH=-2,nE=t=>t==="*";function PH(t,e){let n=t.split("/"),r=n.length;return n.some(nE)&&(r+=kH),e&&(r+=_H),n.filter(i=>!nE(i)).reduce((i,a)=>i+(bH.test(a)?wH:a===""?SH:EH),r)}function TH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function NH(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=AH({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Ps([a,d.pathname]),pathnameBase:$H(Ps([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Ps([a,d.pathnameBase]))}return s}function AH(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let x=o[d]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function IH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),J8(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return J8(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Z8(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const OH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jH=t=>OH.test(t);function RH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ku(t):t,a;if(n)if(jH(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),J8(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=rE(n.substring(1),"/"):a=rE(n,e)}else a=e;return{pathname:a,search:DH(r),hash:LH(i)}}function rE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function W5(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ex(t,e){let n=MH(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ku(t):(i=Jf({},t),bn(!i.pathname||!i.pathname.includes("?"),W5("?","pathname","search",i)),bn(!i.pathname||!i.pathname.includes("#"),W5("#","pathname","hash",i)),bn(!i.search||!i.search.includes("#"),W5("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=RH(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ps=t=>t.join("/").replace(/\/\/+/g,"/"),$H=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iR=["post","put","patch","delete"];new Set(iR);const VH=["get",...iR];new Set(VH);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zf.apply(this,arguments)}const nx=R.createContext(null),UH=R.createContext(null),Qs=R.createContext(null),Dg=R.createContext(null),D0=R.createContext({outlet:null,matches:[],isDataRoute:!1}),aR=R.createContext(null);function BH(t,e){let{relative:n}=e===void 0?{}:e;Pu()||bn(!1);let{basename:r,navigator:i}=R.useContext(Qs),{hash:a,pathname:s,search:o}=oR(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Ps([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Pu(){return R.useContext(Dg)!=null}function L0(){return Pu()||bn(!1),R.useContext(Dg).location}function sR(t){R.useContext(Qs).static||R.useLayoutEffect(t)}function h4(){let{isDataRoute:t}=R.useContext(D0);return t?rG():zH()}function zH(){Pu()||bn(!1);let t=R.useContext(nx),{basename:e,future:n,navigator:r}=R.useContext(Qs),{matches:i}=R.useContext(D0),{pathname:a}=L0(),s=JSON.stringify(ex(i,n.v7_relativeSplatPath)),o=R.useRef(!1);return sR(()=>{o.current=!0}),R.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=tx(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ps([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,a,t])}const qH=R.createContext(null);function WH(t){let e=R.useContext(D0).outlet;return e&&R.createElement(qH.Provider,{value:t},e)}function oR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Qs),{matches:i}=R.useContext(D0),{pathname:a}=L0(),s=JSON.stringify(ex(i,r.v7_relativeSplatPath));return R.useMemo(()=>tx(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function HH(t,e){return GH(t,e)}function GH(t,e,n,r){Pu()||bn(!1);let{navigator:i}=R.useContext(Qs),{matches:a}=R.useContext(D0),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=L0(),u;if(e){var d;let y=typeof e=="string"?ku(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||bn(!1),u=y}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=yH(t,{pathname:p}),x=JH(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Ps([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ps([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&x?R.createElement(Dg.Provider,{value:{location:Zf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:fs.Pop}},x):x}function KH(){let t=nG(),e=FH(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const QH=R.createElement(KH,null);class YH extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(D0.Provider,{value:this.props.routeContext},R.createElement(aR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XH(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(nx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(D0.Provider,{value:e},r)}function JH(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||bn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,g=!1,x=null,y=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||QH,l&&(c<0&&h===0?(iG("route-fallback"),g=!0,y=null):c===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=x:g?w=y:d.route.Component?w=R.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,R.createElement(XH,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?R.createElement(YH,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var lR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lR||{}),cR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cR||{});function ZH(t){let e=R.useContext(nx);return e||bn(!1),e}function eG(t){let e=R.useContext(UH);return e||bn(!1),e}function tG(t){let e=R.useContext(D0);return e||bn(!1),e}function uR(t){let e=tG(),n=e.matches[e.matches.length-1];return n.route.id||bn(!1),n.route.id}function nG(){var t;let e=R.useContext(aR),n=eG(),r=uR();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rG(){let{router:t}=ZH(lR.UseNavigateStable),e=uR(cR.UseNavigateStable),n=R.useRef(!1);return sR(()=>{n.current=!0}),R.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zf({fromRouteId:e},a)))},[t,e])}const iE={};function iG(t,e,n){iE[t]||(iE[t]=!0)}function aG(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Lg(t){let{to:e,replace:n,state:r,relative:i}=t;Pu()||bn(!1);let{future:a,static:s}=R.useContext(Qs),{matches:o}=R.useContext(D0),{pathname:l}=L0(),c=h4(),u=tx(e,ex(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return R.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function rx(t){return WH(t.context)}function bi(t){bn(!1)}function sG(t){let{basename:e="/",children:n=null,location:r,navigationType:i=fs.Pop,navigator:a,static:s=!1,future:o}=t;Pu()&&bn(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:a,static:s,future:Zf({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=ku(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,x=R.useMemo(()=>{let y=Z8(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:g},navigationType:i}},[l,u,d,h,p,g,i]);return x==null?null:R.createElement(Qs.Provider,{value:c},R.createElement(Dg.Provider,{children:n,value:x}))}function oG(t){let{children:e,location:n}=t;return HH(Zy(e),n)}new Promise(()=>{});function Zy(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Zy(r.props.children,a));return}r.type!==bi&&bn(!1),!r.props.index||!r.props.children||bn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Zy(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e7(){return e7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e7.apply(this,arguments)}function lG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uG(t,e){return t.button===0&&(!e||e==="_self")&&!cG(t)}function t7(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function dG(t,e){let n=t7(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const fG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hG="6";try{window.__reactRouterVersion=hG}catch{}const pG="startTransition",aE=nq[pG];function mG(t){let{basename:e,children:n,future:r,window:i}=t,a=R.useRef();a.current==null&&(a.current=pH({window:i,v5Compat:!0}));let s=a.current,[o,l]=R.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=R.useCallback(d=>{c&&aE?aE(()=>l(d)):l(d)},[l,c]);return R.useLayoutEffect(()=>s.listen(u),[s,u]),R.useEffect(()=>aG(r),[r]),R.createElement(sG,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const gG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vG=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=lG(e,fG),{basename:p}=R.useContext(Qs),g,x=!1;if(typeof c=="string"&&yG.test(c)&&(g=c,gG))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),E=Z8(S.pathname,p);S.origin===w.origin&&E!=null?c=E+S.search+S.hash:x=!0}catch{}let y=BH(c,{relative:i}),v=xG(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(w){r&&r(w),w.defaultPrevented||v(w)}return R.createElement("a",e7({},h,{href:g||y,onClick:x||a?r:b,ref:n,target:l}))});var sE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sE||(sE={}));var oE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oE||(oE={}));function xG(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=h4(),c=L0(),u=oR(t,{relative:s});return R.useCallback(d=>{if(uG(d,n)){d.preventDefault();let h=r!==void 0?r:im(c)===im(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,t,a,s,o])}function bG(t){let e=R.useRef(t7(t)),n=R.useRef(!1),r=L0(),i=R.useMemo(()=>dG(r.search,n.current?null:e.current),[r.search]),a=h4(),s=R.useCallback((o,l)=>{const c=t7(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dR=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _G={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>R.createElement("svg",{ref:l,..._G,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dR("lucide",i),...o},[...s.map(([c,u])=>R.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(SG,{ref:a,iconNode:e,className:dR(`lucide-${wG(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=Re("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Re("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=Re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Re("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=Re("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=Re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=Re("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=Re("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=Re("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=Re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=Re("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Re("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=Re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=Re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=Re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Re("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Re("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=Re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=Re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=Re("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=Re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Re("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=Re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=Re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Re("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=Re("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=Re("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=Re("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=Re("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),HG=()=>{};var pE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},SR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_R(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||d==null)throw new KG;const h=a<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QG=function(t){const e=_R(t);return SR.encodeByteArray(e,!0)},sm=function(t){return QG(t).replace(/\./g,"")},ER=function(t){try{return SR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=()=>YG().__FIREBASE_DEFAULTS__,JG=()=>{if(typeof process>"u"||typeof pE>"u")return;const t=pE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ER(t[1]);return e&&JSON.parse(e)},Vg=()=>{try{return HG()||XG()||JG()||ZG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kR=t=>{var e,n;return(n=(e=Vg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},PR=t=>{const e=kR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TR=()=>{var t;return(t=Vg())==null?void 0:t.config},NR=t=>{var e;return(e=Vg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sm(JSON.stringify(n)),sm(JSON.stringify(s)),""].join(".")}const gf={};function tK(){const t={prod:[],emulator:[]};for(const e of Object.keys(gf))gf[e]?t.emulator.push(e):t.prod.push(e);return t}function nK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mE=!1;function cx(t,e){if(typeof window>"u"||typeof document>"u"||!Ys(window.location.host)||gf[t]===e||gf[t]||mE)return;gf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=tK().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{mE=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=nK(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),x=n("learnmore"),y=document.getElementById(x)||document.createElement("a"),v=n("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,x);const S=c();l(b,v),w.append(b,g,y,S),document.body.appendChild(w)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function iK(){var e;const t=(e=Vg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oK(){const t=pr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lK(){return!iK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CR(){try{return typeof indexedDB=="object"}catch{return!1}}function OR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function cK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK="FirebaseError";class Vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uK,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?dK(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Vi(i,o,r)}}function dK(t,e){return t.replace(fK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fK=/\{\$([^}]+)}/g;function hK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ls(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(gE(a)&&gE(s)){if(!Ls(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Vd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pK(t,e){const n=new mK(t,e);return n.subscribe.bind(n)}class mK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=H5),i.error===void 0&&(i.error=H5),i.complete===void 0&&(i.complete=H5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function H5(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK=1e3,vK=2,xK=4*60*60*1e3,bK=.5;function yE(t,e=yK,n=vK){const r=e*Math.pow(n,t),i=Math.round(bK*r*(Math.random()-.5)*2);return Math.min(xK,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SK(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_K(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _K(t){return t===wo?void 0:t}function SK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const kK={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},PK=ct.INFO,TK={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},NK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Ug=class{constructor(e){this.name=e,this._logLevel=PK,this._logHandler=NK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}};const AK=(t,e)=>e.some(n=>t instanceof n);let vE,xE;function IK(){return vE||(vE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CK(){return xE||(xE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jR=new WeakMap,r7=new WeakMap,RR=new WeakMap,G5=new WeakMap,ux=new WeakMap;function OK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(As(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&jR.set(n,t)}).catch(()=>{}),ux.set(e,t),e}function jK(t){if(r7.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});r7.set(t,e)}let i7={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r7.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RK(t){i7=t(i7)}function MK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(K5(this),e,...n);return RR.set(r,e.sort?e.sort():[e]),As(r)}:CK().includes(t)?function(...e){return t.apply(K5(this),e),As(jR.get(this))}:function(...e){return As(t.apply(K5(this),e))}}function $K(t){return typeof t=="function"?MK(t):(t instanceof IDBTransaction&&jK(t),AK(t,IK())?new Proxy(t,i7):t)}function As(t){if(t instanceof IDBRequest)return OK(t);if(G5.has(t))return G5.get(t);const e=$K(t);return e!==t&&(G5.set(t,e),ux.set(e,t)),e}const K5=t=>ux.get(t);function MR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=As(s);return r&&s.addEventListener("upgradeneeded",l=>{r(As(s.result),l.oldVersion,l.newVersion,As(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const DK=["get","getKey","getAll","getAllKeys","count"],LK=["put","add","delete","clear"],Q5=new Map;function bE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Q5.get(e))return Q5.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DK.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Q5.set(e,a),a}RK(t=>({...t,get:(e,n,r)=>bE(e,n)||t.get(e,n,r),has:(e,n)=>!!bE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const a7="@firebase/app",wE="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Ug("@firebase/app"),UK="@firebase/app-compat",BK="@firebase/analytics-compat",zK="@firebase/analytics",qK="@firebase/app-check-compat",WK="@firebase/app-check",HK="@firebase/auth",GK="@firebase/auth-compat",KK="@firebase/database",QK="@firebase/data-connect",YK="@firebase/database-compat",XK="@firebase/functions",JK="@firebase/functions-compat",ZK="@firebase/installations",eQ="@firebase/installations-compat",tQ="@firebase/messaging",nQ="@firebase/messaging-compat",rQ="@firebase/performance",iQ="@firebase/performance-compat",aQ="@firebase/remote-config",sQ="@firebase/remote-config-compat",oQ="@firebase/storage",lQ="@firebase/storage-compat",cQ="@firebase/firestore",uQ="@firebase/ai",dQ="@firebase/firestore-compat",fQ="firebase",hQ="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="[DEFAULT]",pQ={[a7]:"fire-core",[UK]:"fire-core-compat",[zK]:"fire-analytics",[BK]:"fire-analytics-compat",[WK]:"fire-app-check",[qK]:"fire-app-check-compat",[HK]:"fire-auth",[GK]:"fire-auth-compat",[KK]:"fire-rtdb",[QK]:"fire-data-connect",[YK]:"fire-rtdb-compat",[XK]:"fire-fn",[JK]:"fire-fn-compat",[ZK]:"fire-iid",[eQ]:"fire-iid-compat",[tQ]:"fire-fcm",[nQ]:"fire-fcm-compat",[rQ]:"fire-perf",[iQ]:"fire-perf-compat",[aQ]:"fire-rc",[sQ]:"fire-rc-compat",[oQ]:"fire-gcs",[lQ]:"fire-gcs-compat",[cQ]:"fire-fst",[dQ]:"fire-fst-compat",[uQ]:"fire-vertex","fire-js":"fire-js",[fQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new Map,mQ=new Map,o7=new Map;function _E(t,e){try{t.container.addComponent(e)}catch(n){P0.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ua(t){const e=t.name;if(o7.has(e))return P0.debug(`There were multiple attempts to register component ${e}.`),!1;o7.set(e,t);for(const n of om.values())_E(n,t);for(const n of mQ.values())_E(n,t);return!0}function Xs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new Sl("app","Firebase",gQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=hQ;function $R(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:s7,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Is.create("bad-app-name",{appName:String(i)});if(n||(n=TR()),!n)throw Is.create("no-options");const a=om.get(i);if(a){if(Ls(n,a.options)&&Ls(r,a.config))return a;throw Is.create("duplicate-app",{appName:i})}const s=new EK(i);for(const l of o7.values())s.addComponent(l);const o=new yQ(n,r,s);return om.set(i,o),o}function Bg(t=s7){const e=om.get(t);if(!e&&t===s7&&TR())return $R();if(!e)throw Is.create("no-app",{appName:t});return e}function Hr(t,e,n){let r=pQ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),P0.warn(s.join(" "));return}ua(new Di(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ="firebase-heartbeat-database",xQ=1,th="firebase-heartbeat-store";let Y5=null;function DR(){return Y5||(Y5=MR(vQ,xQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(th)}catch(n){console.warn(n)}}}}).catch(t=>{throw Is.create("idb-open",{originalErrorMessage:t.message})})),Y5}async function bQ(t){try{const n=(await DR()).transaction(th),r=await n.objectStore(th).get(LR(t));return await n.done,r}catch(e){if(e instanceof Vi)P0.warn(e.message);else{const n=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});P0.warn(n.message)}}}async function SE(t,e){try{const r=(await DR()).transaction(th,"readwrite");await r.objectStore(th).put(e,LR(t)),await r.done}catch(n){if(n instanceof Vi)P0.warn(n.message);else{const r=Is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});P0.warn(r.message)}}}function LR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=1024,_Q=30;class SQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=EE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_Q){const s=PQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){P0.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=EE(),{heartbeatsToSend:r,unsentEntries:i}=EQ(this._heartbeatsCache.heartbeats),a=sm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return P0.warn(n),""}}}function EE(){return new Date().toISOString().substring(0,10)}function EQ(t,e=wQ){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),kE(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CR()?OR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bQ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return SE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return SE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function kE(t){return sm(JSON.stringify({version:2,heartbeats:t})).length}function PQ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TQ(t){ua(new Di("platform-logger",e=>new FK(e),"PRIVATE")),ua(new Di("heartbeat",e=>new SQ(e),"PRIVATE")),Hr(a7,wE,t),Hr(a7,wE,"esm2020"),Hr("fire-js","")}TQ("");var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,FR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,k){function N(){}N.prototype=k.prototype,_.F=k.prototype,_.prototype=new N,_.prototype.constructor=_,_.D=function(A,I,j){for(var O=Array(arguments.length-2),$=2;$<arguments.length;$++)O[$-2]=arguments[$];return k.prototype[I].apply(A,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,k,N){N||(N=0);const A=Array(16);if(typeof k=="string")for(var I=0;I<16;++I)A[I]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(I=0;I<16;++I)A[I]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=_.g[0],N=_.g[1],I=_.g[2];let j=_.g[3],O;O=k+(j^N&(I^j))+A[0]+3614090360&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(I^k&(N^I))+A[1]+3905402710&4294967295,j=k+(O<<12&4294967295|O>>>20),O=I+(N^j&(k^N))+A[2]+606105819&4294967295,I=j+(O<<17&4294967295|O>>>15),O=N+(k^I&(j^k))+A[3]+3250441966&4294967295,N=I+(O<<22&4294967295|O>>>10),O=k+(j^N&(I^j))+A[4]+4118548399&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(I^k&(N^I))+A[5]+1200080426&4294967295,j=k+(O<<12&4294967295|O>>>20),O=I+(N^j&(k^N))+A[6]+2821735955&4294967295,I=j+(O<<17&4294967295|O>>>15),O=N+(k^I&(j^k))+A[7]+4249261313&4294967295,N=I+(O<<22&4294967295|O>>>10),O=k+(j^N&(I^j))+A[8]+1770035416&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(I^k&(N^I))+A[9]+2336552879&4294967295,j=k+(O<<12&4294967295|O>>>20),O=I+(N^j&(k^N))+A[10]+4294925233&4294967295,I=j+(O<<17&4294967295|O>>>15),O=N+(k^I&(j^k))+A[11]+2304563134&4294967295,N=I+(O<<22&4294967295|O>>>10),O=k+(j^N&(I^j))+A[12]+1804603682&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(I^k&(N^I))+A[13]+4254626195&4294967295,j=k+(O<<12&4294967295|O>>>20),O=I+(N^j&(k^N))+A[14]+2792965006&4294967295,I=j+(O<<17&4294967295|O>>>15),O=N+(k^I&(j^k))+A[15]+1236535329&4294967295,N=I+(O<<22&4294967295|O>>>10),O=k+(I^j&(N^I))+A[1]+4129170786&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^I&(k^N))+A[6]+3225465664&4294967295,j=k+(O<<9&4294967295|O>>>23),O=I+(k^N&(j^k))+A[11]+643717713&4294967295,I=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(I^j))+A[0]+3921069994&4294967295,N=I+(O<<20&4294967295|O>>>12),O=k+(I^j&(N^I))+A[5]+3593408605&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^I&(k^N))+A[10]+38016083&4294967295,j=k+(O<<9&4294967295|O>>>23),O=I+(k^N&(j^k))+A[15]+3634488961&4294967295,I=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(I^j))+A[4]+3889429448&4294967295,N=I+(O<<20&4294967295|O>>>12),O=k+(I^j&(N^I))+A[9]+568446438&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^I&(k^N))+A[14]+3275163606&4294967295,j=k+(O<<9&4294967295|O>>>23),O=I+(k^N&(j^k))+A[3]+4107603335&4294967295,I=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(I^j))+A[8]+1163531501&4294967295,N=I+(O<<20&4294967295|O>>>12),O=k+(I^j&(N^I))+A[13]+2850285829&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^I&(k^N))+A[2]+4243563512&4294967295,j=k+(O<<9&4294967295|O>>>23),O=I+(k^N&(j^k))+A[7]+1735328473&4294967295,I=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(I^j))+A[12]+2368359562&4294967295,N=I+(O<<20&4294967295|O>>>12),O=k+(N^I^j)+A[5]+4294588738&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^I)+A[8]+2272392833&4294967295,j=k+(O<<11&4294967295|O>>>21),O=I+(j^k^N)+A[11]+1839030562&4294967295,I=j+(O<<16&4294967295|O>>>16),O=N+(I^j^k)+A[14]+4259657740&4294967295,N=I+(O<<23&4294967295|O>>>9),O=k+(N^I^j)+A[1]+2763975236&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^I)+A[4]+1272893353&4294967295,j=k+(O<<11&4294967295|O>>>21),O=I+(j^k^N)+A[7]+4139469664&4294967295,I=j+(O<<16&4294967295|O>>>16),O=N+(I^j^k)+A[10]+3200236656&4294967295,N=I+(O<<23&4294967295|O>>>9),O=k+(N^I^j)+A[13]+681279174&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^I)+A[0]+3936430074&4294967295,j=k+(O<<11&4294967295|O>>>21),O=I+(j^k^N)+A[3]+3572445317&4294967295,I=j+(O<<16&4294967295|O>>>16),O=N+(I^j^k)+A[6]+76029189&4294967295,N=I+(O<<23&4294967295|O>>>9),O=k+(N^I^j)+A[9]+3654602809&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^I)+A[12]+3873151461&4294967295,j=k+(O<<11&4294967295|O>>>21),O=I+(j^k^N)+A[15]+530742520&4294967295,I=j+(O<<16&4294967295|O>>>16),O=N+(I^j^k)+A[2]+3299628645&4294967295,N=I+(O<<23&4294967295|O>>>9),O=k+(I^(N|~j))+A[0]+4096336452&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~I))+A[7]+1126891415&4294967295,j=k+(O<<10&4294967295|O>>>22),O=I+(k^(j|~N))+A[14]+2878612391&4294967295,I=j+(O<<15&4294967295|O>>>17),O=N+(j^(I|~k))+A[5]+4237533241&4294967295,N=I+(O<<21&4294967295|O>>>11),O=k+(I^(N|~j))+A[12]+1700485571&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~I))+A[3]+2399980690&4294967295,j=k+(O<<10&4294967295|O>>>22),O=I+(k^(j|~N))+A[10]+4293915773&4294967295,I=j+(O<<15&4294967295|O>>>17),O=N+(j^(I|~k))+A[1]+2240044497&4294967295,N=I+(O<<21&4294967295|O>>>11),O=k+(I^(N|~j))+A[8]+1873313359&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~I))+A[15]+4264355552&4294967295,j=k+(O<<10&4294967295|O>>>22),O=I+(k^(j|~N))+A[6]+2734768916&4294967295,I=j+(O<<15&4294967295|O>>>17),O=N+(j^(I|~k))+A[13]+1309151649&4294967295,N=I+(O<<21&4294967295|O>>>11),O=k+(I^(N|~j))+A[4]+4149444226&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~I))+A[11]+3174756917&4294967295,j=k+(O<<10&4294967295|O>>>22),O=I+(k^(j|~N))+A[2]+718787259&4294967295,I=j+(O<<15&4294967295|O>>>17),O=N+(j^(I|~k))+A[9]+3951481745&4294967295,_.g[0]=_.g[0]+k&4294967295,_.g[1]=_.g[1]+(I+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+I&4294967295,_.g[3]=_.g[3]+j&4294967295}r.prototype.v=function(_,k){k===void 0&&(k=_.length);const N=k-this.blockSize,A=this.C;let I=this.h,j=0;for(;j<k;){if(I==0)for(;j<=N;)i(this,_,j),j+=this.blockSize;if(typeof _=="string"){for(;j<k;)if(A[I++]=_.charCodeAt(j++),I==this.blockSize){i(this,A),I=0;break}}else for(;j<k;)if(A[I++]=_[j++],I==this.blockSize){i(this,A),I=0;break}}this.h=I,this.o+=k},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var k=1;k<_.length-8;++k)_[k]=0;k=this.o*8;for(var N=_.length-8;N<_.length;++N)_[N]=k&255,k/=256;for(this.v(_),_=Array(16),k=0,N=0;N<4;++N)for(let A=0;A<32;A+=8)_[k++]=this.g[N]>>>A&255;return _};function a(_,k){var N=o;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=k(_)}function s(_,k){this.h=k;const N=[];let A=!0;for(let I=_.length-1;I>=0;I--){const j=_[I]|0;A&&j==k||(N[I]=j,A=!1)}this.g=N}var o={};function l(_){return-128<=_&&_<128?a(_,function(k){return new s([k|0],k<0?-1:0)}):new s([_|0],_<0?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return d;if(_<0)return y(c(-_));const k=[];let N=1;for(let A=0;_>=N;A++)k[A]=_/N|0,N*=4294967296;return new s(k,0)}function u(_,k){if(_.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(_.charAt(0)=="-")return y(u(_.substring(1),k));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=c(Math.pow(k,8));let A=d;for(let j=0;j<_.length;j+=8){var I=Math.min(8,_.length-j);const O=parseInt(_.substring(j,j+I),k);I<8?(I=c(Math.pow(k,I)),A=A.j(I).add(c(O))):(A=A.j(N),A=A.add(c(O)))}return A}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(x(this))return-y(this).m();let _=0,k=1;for(let N=0;N<this.g.length;N++){const A=this.i(N);_+=(A>=0?A:4294967296+A)*k,k*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(g(this))return"0";if(x(this))return"-"+y(this).toString(_);const k=c(Math.pow(_,6));var N=this;let A="";for(;;){const I=S(N,k).g;N=v(N,I.j(k));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(_);if(N=I,g(N))return j+A;for(;j.length<6;)j="0"+j;A=j+A}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function g(_){if(_.h!=0)return!1;for(let k=0;k<_.g.length;k++)if(_.g[k]!=0)return!1;return!0}function x(_){return _.h==-1}t.l=function(_){return _=v(this,_),x(_)?-1:g(_)?0:1};function y(_){const k=_.g.length,N=[];for(let A=0;A<k;A++)N[A]=~_.g[A];return new s(N,~_.h).add(h)}t.abs=function(){return x(this)?y(this):this},t.add=function(_){const k=Math.max(this.g.length,_.g.length),N=[];let A=0;for(let I=0;I<=k;I++){let j=A+(this.i(I)&65535)+(_.i(I)&65535),O=(j>>>16)+(this.i(I)>>>16)+(_.i(I)>>>16);A=O>>>16,j&=65535,O&=65535,N[I]=O<<16|j}return new s(N,N[N.length-1]&-2147483648?-1:0)};function v(_,k){return _.add(y(k))}t.j=function(_){if(g(this)||g(_))return d;if(x(this))return x(_)?y(this).j(y(_)):y(y(this).j(_));if(x(_))return y(this.j(y(_)));if(this.l(p)<0&&_.l(p)<0)return c(this.m()*_.m());const k=this.g.length+_.g.length,N=[];for(var A=0;A<2*k;A++)N[A]=0;for(A=0;A<this.g.length;A++)for(let I=0;I<_.g.length;I++){const j=this.i(A)>>>16,O=this.i(A)&65535,$=_.i(I)>>>16,M=_.i(I)&65535;N[2*A+2*I]+=O*M,b(N,2*A+2*I),N[2*A+2*I+1]+=j*M,b(N,2*A+2*I+1),N[2*A+2*I+1]+=O*$,b(N,2*A+2*I+1),N[2*A+2*I+2]+=j*$,b(N,2*A+2*I+2)}for(_=0;_<k;_++)N[_]=N[2*_+1]<<16|N[2*_];for(_=k;_<2*k;_++)N[_]=0;return new s(N,0)};function b(_,k){for(;(_[k]&65535)!=_[k];)_[k+1]+=_[k]>>>16,_[k]&=65535,k++}function w(_,k){this.g=_,this.h=k}function S(_,k){if(g(k))throw Error("division by zero");if(g(_))return new w(d,d);if(x(_))return k=S(y(_),k),new w(y(k.g),y(k.h));if(x(k))return k=S(_,y(k)),new w(y(k.g),k.h);if(_.g.length>30){if(x(_)||x(k))throw Error("slowDivide_ only works with positive integers.");for(var N=h,A=k;A.l(_)<=0;)N=E(N),A=E(A);var I=P(N,1),j=P(A,1);for(A=P(A,2),N=P(N,2);!g(A);){var O=j.add(A);O.l(_)<=0&&(I=I.add(N),j=O),A=P(A,1),N=P(N,1)}return k=v(_,I.j(k)),new w(I,k)}for(I=d;_.l(k)>=0;){for(N=Math.max(1,Math.floor(_.m()/k.m())),A=Math.ceil(Math.log(N)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),j=c(N),O=j.j(k);x(O)||O.l(_)>0;)N-=A,j=c(N),O=j.j(k);g(j)&&(j=h),I=I.add(j),_=v(_,O)}return new w(I,_)}t.B=function(_){return S(this,_).h},t.and=function(_){const k=Math.max(this.g.length,_.g.length),N=[];for(let A=0;A<k;A++)N[A]=this.i(A)&_.i(A);return new s(N,this.h&_.h)},t.or=function(_){const k=Math.max(this.g.length,_.g.length),N=[];for(let A=0;A<k;A++)N[A]=this.i(A)|_.i(A);return new s(N,this.h|_.h)},t.xor=function(_){const k=Math.max(this.g.length,_.g.length),N=[];for(let A=0;A<k;A++)N[A]=this.i(A)^_.i(A);return new s(N,this.h^_.h)};function E(_){const k=_.g.length+1,N=[];for(let A=0;A<k;A++)N[A]=_.i(A)<<1|_.i(A-1)>>>31;return new s(N,_.h)}function P(_,k){const N=k>>5;k%=32;const A=_.g.length-N,I=[];for(let j=0;j<A;j++)I[j]=k>0?_.i(j+N)>>>k|_.i(j+N+1)<<32-k:_.i(j+N);return new s(I,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,FR=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Cs=s}).apply(typeof PE<"u"?PE:typeof self<"u"?self:typeof window<"u"?window:{});var gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VR,Ud,UR,h3,l7,BR,zR,qR;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof gp=="object"&&gp];for(var T=0;T<m.length;++T){var C=m[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var C=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var K=m[L];if(!(K in C))break e;C=C[K]}m=m[m.length-1],L=C[m],T=T(L),T!=L&&T!=null&&e(C,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var C=[],L;for(L in T)Object.prototype.hasOwnProperty.call(T,L)&&C.push([L,T[L]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,C){return m.call.apply(m.bind,arguments)}function c(m,T,C){return c=l,c.apply(null,arguments)}function u(m,T){var C=Array.prototype.slice.call(arguments,1);return function(){var L=C.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function d(m,T){function C(){}C.prototype=T.prototype,m.Z=T.prototype,m.prototype=new C,m.prototype.constructor=m,m.Ob=function(L,K,J){for(var xe=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)xe[nt-2]=arguments[nt];return T.prototype[K].apply(L,xe)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const T=m.length;if(T>0){const C=Array(T);for(let L=0;L<T;L++)C[L]=m[L];return C}return[]}function g(m,T){for(let L=1;L<arguments.length;L++){const K=arguments[L];var C=typeof K;if(C=C!="object"?C:K?Array.isArray(K)?"array":C:"null",C=="array"||C=="object"&&typeof K.length=="number"){C=m.length||0;const J=K.length||0;m.length=C+J;for(let xe=0;xe<J;xe++)m[C+xe]=K[xe]}else m.push(K)}}class x{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function y(m){s.setTimeout(()=>{throw m},0)}function v(){var m=_;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class b{constructor(){this.h=this.g=null}add(T,C){const L=w.get();L.set(T,C),this.h?this.h.next=L:this.g=L,this.h=L}}var w=new x(()=>new S,m=>m.reset());class S{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let E,P=!1,_=new b,k=()=>{const m=Promise.resolve(void 0);E=()=>{m.then(N)}};function N(){for(var m;m=v();){try{m.h.call(m.g)}catch(C){y(C)}var T=w;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}P=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};s.addEventListener("test",C,T),s.removeEventListener("test",C,T)}catch{}return m}();function O(m){return/^[\s\xa0]*$/.test(m)}function $(m,T){I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}d($,I),$.prototype.init=function(m,T){const C=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(C=="mouseover"?T=m.fromElement:C=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var M="closure_listenable_"+(Math.random()*1e6|0),D=0;function V(m,T,C,L,K){this.listener=m,this.proxy=null,this.src=T,this.type=C,this.capture=!!L,this.ha=K,this.key=++D,this.da=this.fa=!1}function F(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function U(m,T,C){for(const L in m)T.call(C,m[L],L,m)}function H(m,T){for(const C in m)T.call(void 0,m[C],C,m)}function G(m){const T={};for(const C in m)T[C]=m[C];return T}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(m,T){let C,L;for(let K=1;K<arguments.length;K++){L=arguments[K];for(C in L)m[C]=L[C];for(let J=0;J<W.length;J++)C=W[J],Object.prototype.hasOwnProperty.call(L,C)&&(m[C]=L[C])}}function le(m){this.src=m,this.g={},this.h=0}le.prototype.add=function(m,T,C,L,K){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const xe=Z(m,T,L,K);return xe>-1?(T=m[xe],C||(T.fa=!1)):(T=new V(T,this.src,J,!!L,K),T.fa=C,m.push(T)),T};function pe(m,T){const C=T.type;if(C in m.g){var L=m.g[C],K=Array.prototype.indexOf.call(L,T,void 0),J;(J=K>=0)&&Array.prototype.splice.call(L,K,1),J&&(F(T),m.g[C].length==0&&(delete m.g[C],m.h--))}}function Z(m,T,C,L){for(let K=0;K<m.length;++K){const J=m[K];if(!J.da&&J.listener==T&&J.capture==!!C&&J.ha==L)return K}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),Ce={};function ie(m,T,C,L,K){if(Array.isArray(T)){for(let J=0;J<T.length;J++)ie(m,T[J],C,L,K);return null}return C=St(C),m&&m[M]?m.J(T,C,o(L)?!!L.capture:!1,K):ve(m,T,C,!1,L,K)}function ve(m,T,C,L,K,J){if(!T)throw Error("Invalid event type");const xe=o(K)?!!K.capture:!!K;let nt=we(m);if(nt||(m[_e]=nt=new le(m)),C=nt.add(T,C,L,xe,J),C.proxy)return C;if(L=X(),C.proxy=L,L.src=m,L.listener=C,m.addEventListener)j||(K=xe),K===void 0&&(K=!1),m.addEventListener(T.toString(),L,K);else if(m.attachEvent)m.attachEvent(ke(T.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return C}function X(){function m(C){return T.call(m.src,m.listener,C)}const T=me;return m}function q(m,T,C,L,K){if(Array.isArray(T))for(var J=0;J<T.length;J++)q(m,T[J],C,L,K);else L=o(L)?!!L.capture:!!L,C=St(C),m&&m[M]?(m=m.i,J=String(T).toString(),J in m.g&&(T=m.g[J],C=Z(T,C,L,K),C>-1&&(F(T[C]),Array.prototype.splice.call(T,C,1),T.length==0&&(delete m.g[J],m.h--)))):m&&(m=we(m))&&(T=m.g[T.toString()],m=-1,T&&(m=Z(T,C,L,K)),(C=m>-1?T[m]:null)&&de(C))}function de(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[M])pe(T.i,m);else{var C=m.type,L=m.proxy;T.removeEventListener?T.removeEventListener(C,L,m.capture):T.detachEvent?T.detachEvent(ke(C),L):T.addListener&&T.removeListener&&T.removeListener(L),(C=we(T))?(pe(C,m),C.h==0&&(C.src=null,T[_e]=null)):F(m)}}}function ke(m){return m in Ce?Ce[m]:Ce[m]="on"+m}function me(m,T){if(m.da)m=!0;else{T=new $(T,this);const C=m.listener,L=m.ha||m.src;m.fa&&de(m),m=C.call(L,T)}return m}function we(m){return m=m[_e],m instanceof le?m:null}var Ue="__closure_events_fn_"+(Math.random()*1e9>>>0);function St(m){return typeof m=="function"?m:(m[Ue]||(m[Ue]=function(T){return m.handleEvent(T)}),m[Ue])}function Me(){A.call(this),this.i=new le(this),this.M=this,this.G=null}d(Me,A),Me.prototype[M]=!0,Me.prototype.removeEventListener=function(m,T,C,L){q(this,m,T,C,L)};function He(m,T){var C,L=m.G;if(L)for(C=[];L;L=L.G)C.push(L);if(m=m.M,L=T.type||T,typeof T=="string")T=new I(T,m);else if(T instanceof I)T.target=T.target||m;else{var K=T;T=new I(L,m),ee(T,K)}K=!0;let J,xe;if(C)for(xe=C.length-1;xe>=0;xe--)J=T.g=C[xe],K=Y(J,L,!0,T)&&K;if(J=T.g=m,K=Y(J,L,!0,T)&&K,K=Y(J,L,!1,T)&&K,C)for(xe=0;xe<C.length;xe++)J=T.g=C[xe],K=Y(J,L,!1,T)&&K}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const C=m.g[T];for(let L=0;L<C.length;L++)F(C[L]);delete m.g[T],m.h--}}this.G=null},Me.prototype.J=function(m,T,C,L){return this.i.add(String(m),T,!1,C,L)},Me.prototype.K=function(m,T,C,L){return this.i.add(String(m),T,!0,C,L)};function Y(m,T,C,L){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let K=!0;for(let J=0;J<T.length;++J){const xe=T[J];if(xe&&!xe.da&&xe.capture==C){const nt=xe.listener,Nn=xe.ha||xe.src;xe.fa&&pe(m.i,xe),K=nt.call(Nn,L)!==!1&&K}}return K&&!L.defaultPrevented}function ue(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=c(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(m,T||0)}function Ie(m){m.g=ue(()=>{m.g=null,m.i&&(m.i=!1,Ie(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class bt extends A{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(m){A.call(this),this.h=m,this.g={}}d(Ye,A);var vt=[];function Pt(m){U(m.g,function(T,C){this.g.hasOwnProperty(C)&&de(T)},m),m.g={}}Ye.prototype.N=function(){Ye.Z.N.call(this),Pt(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var re=s.JSON.stringify,be=s.JSON.parse,Xe=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function st(){}function ln(){}var ne={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fe(){I.call(this,"d")}d(fe,I);function Ee(){I.call(this,"c")}d(Ee,I);var Fe={},Ze=null;function Q(){return Ze=Ze||new Me}Fe.Ia="serverreachability";function Oe(m){I.call(this,Fe.Ia,m)}d(Oe,I);function it(m){const T=Q();He(T,new Oe(T))}Fe.STAT_EVENT="statevent";function Yt(m,T){I.call(this,Fe.STAT_EVENT,m),this.stat=T}d(Yt,I);function et(m){const T=Q();He(T,new Yt(T,m))}Fe.Ja="timingevent";function Ve(m,T){I.call(this,Fe.Ja,m),this.size=T}d(Ve,I);function Xt(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},T)}function Tn(){this.g=!0}Tn.prototype.ua=function(){this.g=!1};function Hn(m,T,C,L,K,J){m.info(function(){if(m.g)if(J){var xe="",nt=J.split("&");for(let Ot=0;Ot<nt.length;Ot++){var Nn=nt[Ot].split("=");if(Nn.length>1){const Dn=Nn[0];Nn=Nn[1];const ga=Dn.split("_");xe=ga.length>=2&&ga[1]=="type"?xe+(Dn+"="+Nn+"&"):xe+(Dn+"=redacted&")}}}else xe=null;else xe=J;return"XMLHTTP REQ ("+L+") [attempt "+K+"]: "+T+`
`+C+`
`+xe})}function z(m,T,C,L,K,J,xe){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+K+"]: "+T+`
`+C+`
`+J+" "+xe})}function ce(m,T,C,L){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Je(m,C)+(L?" "+L:"")})}function ye(m,T){m.info(function(){return"TIMEOUT: "+T})}Tn.prototype.info=function(){};function Je(m,T){if(!m.g)return T;if(!T)return null;try{const J=JSON.parse(T);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var C=J[m];if(!(C.length<2)){var L=C[1];if(Array.isArray(L)&&!(L.length<1)){var K=L[0];if(K!="noop"&&K!="stop"&&K!="close")for(let xe=1;xe<L.length;xe++)L[xe]=""}}}}return re(J)}catch{return T}}var Ut={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rr;function uo(){}d(uo,st),uo.prototype.g=function(){return new XMLHttpRequest},Rr=new uo;function cn(m){return encodeURIComponent(String(m))}function Ol(m){var T=1;m=m.split(":");const C=[];for(;T>0&&m.length;)C.push(m.shift()),T--;return m.length&&C.push(m.join(":")),C}function pa(m,T,C,L){this.j=m,this.i=T,this.l=C,this.S=L||1,this.V=new Ye(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new o_}function o_(){this.i=null,this.g="",this.h=!1}var l_={},s5={};function o5(m,T,C){m.M=1,m.A=q4(ma(T)),m.u=C,m.R=!0,c_(m,null)}function c_(m,T){m.F=Date.now(),z4(m),m.B=ma(m.A);var C=m.B,L=m.S;Array.isArray(L)||(L=[String(L)]),__(C.i,"t",L),m.C=0,C=m.j.L,m.h=new o_,m.g=V_(m.j,C?T:null,!m.u),m.P>0&&(m.O=new bt(c(m.Y,m,m.g),m.P)),T=m.V,C=m.g,L=m.ba;var K="readystatechange";Array.isArray(K)||(K&&(vt[0]=K.toString()),K=vt);for(let J=0;J<K.length;J++){const xe=ie(C,K[J],L||T.handleEvent,!1,T.h||T);if(!xe)break;T.g[xe.key]=xe}T=m.J?G(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),it(),Hn(m.i,m.v,m.B,m.l,m.S,m.u)}pa.prototype.ba=function(m){m=m.target;const T=this.O;T&&q0(m)==3?T.j():this.Y(m)},pa.prototype.Y=function(m){try{if(m==this.g)e:{const nt=q0(this.g),Nn=this.g.ya(),Ot=this.g.ca();if(!(nt<3)&&(nt!=3||this.g&&(this.h.h||this.g.la()||A_(this.g)))){this.K||nt!=4||Nn==7||(Nn==8||Ot<=0?it(3):it(2)),l5(this);var T=this.g.ca();this.X=T;var C=Sz(this);if(this.o=T==200,z(this.i,this.v,this.B,this.l,this.S,nt,T),this.o){if(this.U&&!this.L){t:{if(this.g){var L,K=this.g;if((L=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(L)){var J=L;break t}}J=null}if(m=J)ce(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,c5(this,m);else{this.o=!1,this.m=3,et(12),fo(this),Qu(this);break e}}if(this.R){m=!0;let Dn;for(;!this.K&&this.C<C.length;)if(Dn=Ez(this,C),Dn==s5){nt==4&&(this.m=4,et(14),m=!1),ce(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==l_){this.m=4,et(15),ce(this.i,this.l,C,"[Invalid Chunk]"),m=!1;break}else ce(this.i,this.l,Dn,null),c5(this,Dn);if(u_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||C.length!=0||this.h.h||(this.m=1,et(16),m=!1),this.o=this.o&&m,!m)ce(this.i,this.l,C,"[Invalid Chunked Response]"),fo(this),Qu(this);else if(C.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),y5(xe),xe.P=!0,et(11))}}else ce(this.i,this.l,C,null),c5(this,C);nt==4&&fo(this),this.o&&!this.K&&(nt==4?$_(this.j,this):(this.o=!1,z4(this)))}else Lz(this.g),T==400&&C.indexOf("Unknown SID")>0?(this.m=3,et(12)):(this.m=0,et(13)),fo(this),Qu(this)}}}catch{}finally{}};function Sz(m){if(!u_(m))return m.g.la();const T=A_(m.g);if(T==="")return"";let C="";const L=T.length,K=q0(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return fo(m),Qu(m),"";m.h.i=new s.TextDecoder}for(let J=0;J<L;J++)m.h.h=!0,C+=m.h.i.decode(T[J],{stream:!(K&&J==L-1)});return T.length=0,m.h.g+=C,m.C=0,m.h.g}function u_(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Ez(m,T){var C=m.C,L=T.indexOf(`
`,C);return L==-1?s5:(C=Number(T.substring(C,L)),isNaN(C)?l_:(L+=1,L+C>T.length?s5:(T=T.slice(L,L+C),m.C=L+C,T)))}pa.prototype.cancel=function(){this.K=!0,fo(this)};function z4(m){m.T=Date.now()+m.H,d_(m,m.H)}function d_(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Xt(c(m.aa,m),T)}function l5(m){m.D&&(s.clearTimeout(m.D),m.D=null)}pa.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ye(this.i,this.B),this.M!=2&&(it(),et(17)),fo(this),this.m=2,Qu(this)):d_(this,this.T-m)};function Qu(m){m.j.I==0||m.K||$_(m.j,m)}function fo(m){l5(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,Pt(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function c5(m,T){try{var C=m.j;if(C.I!=0&&(C.g==m||u5(C.h,m))){if(!m.L&&u5(C.h,m)&&C.I==3){try{var L=C.Ba.g.parse(T)}catch{L=null}if(Array.isArray(L)&&L.length==3){var K=L;if(K[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<m.F)Q4(C),G4(C);else break e;g5(C),et(18)}}else C.xa=K[1],0<C.xa-C.K&&K[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Xt(c(C.Va,C),6e3));p_(C.h)<=1&&C.ta&&(C.ta=void 0)}else po(C,11)}else if((m.L||C.g==m)&&Q4(C),!O(T))for(K=C.Ba.g.parse(T),T=0;T<K.length;T++){let Ot=K[T];const Dn=Ot[0];if(!(Dn<=C.K))if(C.K=Dn,Ot=Ot[1],C.I==2)if(Ot[0]=="c"){C.M=Ot[1],C.ba=Ot[2];const ga=Ot[3];ga!=null&&(C.ka=ga,C.j.info("VER="+C.ka));const mo=Ot[4];mo!=null&&(C.za=mo,C.j.info("SVER="+C.za));const W0=Ot[5];W0!=null&&typeof W0=="number"&&W0>0&&(L=1.5*W0,C.O=L,C.j.info("backChannelRequestTimeoutMs_="+L)),L=C;const H0=m.g;if(H0){const X4=H0.g?H0.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X4){var J=L.h;J.g||X4.indexOf("spdy")==-1&&X4.indexOf("quic")==-1&&X4.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(d5(J,J.h),J.h=null))}if(L.G){const v5=H0.g?H0.g.getResponseHeader("X-HTTP-Session-Id"):null;v5&&(L.wa=v5,Bt(L.J,L.G,v5))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-m.F,C.j.info("Handshake RTT: "+C.T+"ms")),L=C;var xe=m;if(L.na=F_(L,L.L?L.ba:null,L.W),xe.L){m_(L.h,xe);var nt=xe,Nn=L.O;Nn&&(nt.H=Nn),nt.D&&(l5(nt),z4(nt)),L.g=xe}else R_(L);C.i.length>0&&K4(C)}else Ot[0]!="stop"&&Ot[0]!="close"||po(C,7);else C.I==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?po(C,7):m5(C):Ot[0]!="noop"&&C.l&&C.l.qa(Ot),C.A=0)}}it(4)}catch{}}var kz=class{constructor(m,T){this.g=m,this.map=T}};function f_(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function h_(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function p_(m){return m.h?1:m.g?m.g.size:0}function u5(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function d5(m,T){m.g?m.g.add(T):m.h=T}function m_(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}f_.prototype.cancel=function(){if(this.i=g_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function g_(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const C of m.g.values())T=T.concat(C.G);return T}return p(m.i)}var y_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pz(m,T){if(m){m=m.split("&");for(let C=0;C<m.length;C++){const L=m[C].indexOf("=");let K,J=null;L>=0?(K=m[C].substring(0,L),J=m[C].substring(L+1)):K=m[C],T(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function B0(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof B0?(this.l=m.l,Yu(this,m.j),this.o=m.o,this.g=m.g,Xu(this,m.u),this.h=m.h,f5(this,S_(m.i)),this.m=m.m):m&&(T=String(m).match(y_))?(this.l=!1,Yu(this,T[1]||"",!0),this.o=Ju(T[2]||""),this.g=Ju(T[3]||"",!0),Xu(this,T[4]),this.h=Ju(T[5]||"",!0),f5(this,T[6]||"",!0),this.m=Ju(T[7]||"")):(this.l=!1,this.i=new ed(null,this.l))}B0.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(Zu(T,v_,!0),":");var C=this.g;return(C||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Zu(T,v_,!0),"@"),m.push(cn(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&m.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(Zu(C,C.charAt(0)=="/"?Az:Nz,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",Zu(C,Cz)),m.join("")},B0.prototype.resolve=function(m){const T=ma(this);let C=!!m.j;C?Yu(T,m.j):C=!!m.o,C?T.o=m.o:C=!!m.g,C?T.g=m.g:C=m.u!=null;var L=m.h;if(C)Xu(T,m.u);else if(C=!!m.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var K=T.h.lastIndexOf("/");K!=-1&&(L=T.h.slice(0,K+1)+L)}if(K=L,K==".."||K==".")L="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){L=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let xe=0;xe<K.length;){const nt=K[xe++];nt=="."?L&&xe==K.length&&J.push(""):nt==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),L&&xe==K.length&&J.push("")):(J.push(nt),L=!0)}L=J.join("/")}else L=K}return C?T.h=L:C=m.i.toString()!=="",C?f5(T,S_(m.i)):C=!!m.m,C&&(T.m=m.m),T};function ma(m){return new B0(m)}function Yu(m,T,C){m.j=C?Ju(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Xu(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function f5(m,T,C){T instanceof ed?(m.i=T,Oz(m.i,m.l)):(C||(T=Zu(T,Iz)),m.i=new ed(T,m.l))}function Bt(m,T,C){m.i.set(T,C)}function q4(m){return Bt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ju(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Zu(m,T,C){return typeof m=="string"?(m=encodeURI(m).replace(T,Tz),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Tz(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var v_=/[#\/\?@]/g,Nz=/[#\?:]/g,Az=/[#\?]/g,Iz=/[#\?@]/g,Cz=/#/g;function ed(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function ho(m){m.g||(m.g=new Map,m.h=0,m.i&&Pz(m.i,function(T,C){m.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}t=ed.prototype,t.add=function(m,T){ho(this),this.i=null,m=jl(this,m);let C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(T),this.h+=1,this};function x_(m,T){ho(m),T=jl(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function b_(m,T){return ho(m),T=jl(m,T),m.g.has(T)}t.forEach=function(m,T){ho(this),this.g.forEach(function(C,L){C.forEach(function(K){m.call(T,K,L,this)},this)},this)};function w_(m,T){ho(m);let C=[];if(typeof T=="string")b_(m,T)&&(C=C.concat(m.g.get(jl(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)C=C.concat(m[T]);return C}t.set=function(m,T){return ho(this),this.i=null,m=jl(this,m),b_(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=w_(this,m),m.length>0?String(m[0]):T):T};function __(m,T,C){x_(m,T),C.length>0&&(m.i=null,m.g.set(jl(m,T),p(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let L=0;L<T.length;L++){var C=T[L];const K=cn(C);C=w_(this,C);for(let J=0;J<C.length;J++){let xe=K;C[J]!==""&&(xe+="="+cn(C[J])),m.push(xe)}}return this.i=m.join("&")};function S_(m){const T=new ed;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function jl(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Oz(m,T){T&&!m.j&&(ho(m),m.i=null,m.g.forEach(function(C,L){const K=L.toLowerCase();L!=K&&(x_(this,L),__(this,K,C))},m)),m.j=T}function jz(m,T){const C=new Tn;if(s.Image){const L=new Image;L.onload=u(z0,C,"TestLoadImage: loaded",!0,T,L),L.onerror=u(z0,C,"TestLoadImage: error",!1,T,L),L.onabort=u(z0,C,"TestLoadImage: abort",!1,T,L),L.ontimeout=u(z0,C,"TestLoadImage: timeout",!1,T,L),s.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else T(!1)}function Rz(m,T){const C=new Tn,L=new AbortController,K=setTimeout(()=>{L.abort(),z0(C,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:L.signal}).then(J=>{clearTimeout(K),J.ok?z0(C,"TestPingServer: ok",!0,T):z0(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(K),z0(C,"TestPingServer: error",!1,T)})}function z0(m,T,C,L,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),L(C)}catch{}}function Mz(){this.g=new Xe}function h5(m){this.i=m.Sb||null,this.h=m.ab||!1}d(h5,st),h5.prototype.g=function(){return new W4(this.i,this.h)};function W4(m,T){Me.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(W4,Me),t=W4.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,nd(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,td(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,nd(this)),this.g&&(this.readyState=3,nd(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;E_(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function E_(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?td(this):nd(this),this.readyState==3&&E_(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,td(this))},t.Na=function(m){this.g&&(this.response=m,td(this))},t.ga=function(){this.g&&td(this)};function td(m){m.readyState=4,m.l=null,m.j=null,m.B=null,nd(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=T.next();return m.join(`\r
`)};function nd(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(W4.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function k_(m){let T="";return U(m,function(C,L){T+=L,T+=":",T+=C,T+=`\r
`}),T}function p5(m,T,C){e:{for(L in C){var L=!1;break e}L=!0}L||(C=k_(C),typeof m=="string"?C!=null&&cn(C):Bt(m,T,C))}function un(m){Me.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(un,Me);var $z=/^https?$/i,Dz=["POST","PUT"];t=un.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,C,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rr.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(J){P_(this,J);return}if(m=C||"",C=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var K in L)C.set(K,L[K]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const J of L.keys())C.set(J,L.get(J));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(C.keys()).find(J=>J.toLowerCase()=="content-type"),K=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(Dz,T,void 0)>=0)||L||K||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,xe]of C)this.g.setRequestHeader(J,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){P_(this,J)}};function P_(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,T_(m),H4(m)}function T_(m){m.A||(m.A=!0,He(m,"complete"),He(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,He(this,"complete"),He(this,"abort"),H4(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),H4(this,!0)),un.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?N_(this):this.Xa())},t.Xa=function(){N_(this)};function N_(m){if(m.h&&typeof a<"u"){if(m.v&&q0(m)==4)setTimeout(m.Ca.bind(m),0);else if(He(m,"readystatechange"),q0(m)==4){m.h=!1;try{const J=m.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var L;if(L=J===0){let xe=String(m.D).match(y_)[1]||null;!xe&&s.self&&s.self.location&&(xe=s.self.location.protocol.slice(0,-1)),L=!$z.test(xe?xe.toLowerCase():"")}C=L}if(C)He(m,"complete"),He(m,"success");else{m.o=6;try{var K=q0(m)>2?m.g.statusText:""}catch{K=""}m.l=K+" ["+m.ca()+"]",T_(m)}}finally{H4(m)}}}}function H4(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const C=m.g;m.g=null,T||He(m,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function q0(m){return m.g?m.g.readyState:0}t.ca=function(){try{return q0(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),be(T)}};function A_(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Lz(m){const T={};m=(m.g&&q0(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(O(m[L]))continue;var C=Ol(m[L]);const K=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const J=T[K]||[];T[K]=J,J.push(C)}H(T,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rd(m,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||T}function I_(m){this.za=0,this.i=[],this.j=new Tn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rd("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rd("baseRetryDelayMs",5e3,m),this.Za=rd("retryDelaySeedMs",1e4,m),this.Ta=rd("forwardChannelMaxRetries",2,m),this.va=rd("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new f_(m&&m.concurrentRequestLimit),this.Ba=new Mz,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=I_.prototype,t.ka=8,t.I=1,t.connect=function(m,T,C,L){et(0),this.W=m,this.H=T||{},C&&L!==void 0&&(this.H.OSID=C,this.H.OAID=L),this.F=this.X,this.J=F_(this,null,this.W),K4(this)};function m5(m){if(C_(m),m.I==3){var T=m.V++,C=ma(m.J);if(Bt(C,"SID",m.M),Bt(C,"RID",T),Bt(C,"TYPE","terminate"),id(m,C),T=new pa(m,m.j,T),T.M=2,T.A=q4(ma(C)),C=!1,s.navigator&&s.navigator.sendBeacon)try{C=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!C&&s.Image&&(new Image().src=T.A,C=!0),C||(T.g=V_(T.j,null),T.g.ea(T.A)),T.F=Date.now(),z4(T)}L_(m)}function G4(m){m.g&&(y5(m),m.g.cancel(),m.g=null)}function C_(m){G4(m),m.v&&(s.clearTimeout(m.v),m.v=null),Q4(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function K4(m){if(!h_(m.h)&&!m.m){m.m=!0;var T=m.Ea;E||k(),P||(E(),P=!0),_.add(T,m),m.D=0}}function Fz(m,T){return p_(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Xt(c(m.Ea,m,T),D_(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const K=new pa(this,this.j,m);let J=this.o;if(this.U&&(J?(J=G(J),ee(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var L=this.i[C];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(T+=L,T>4096){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=j_(this,K,T),C=ma(this.J),Bt(C,"RID",m),Bt(C,"CVER",22),this.G&&Bt(C,"X-HTTP-Session-Id",this.G),id(this,C),J&&(this.R?T="headers="+cn(k_(J))+"&"+T:this.u&&p5(C,this.u,J)),d5(this.h,K),this.Ra&&Bt(C,"TYPE","init"),this.S?(Bt(C,"$req",T),Bt(C,"SID","null"),K.U=!0,o5(K,C,null)):o5(K,C,T),this.I=2}}else this.I==3&&(m?O_(this,m):this.i.length==0||h_(this.h)||O_(this))};function O_(m,T){var C;T?C=T.l:C=m.V++;const L=ma(m.J);Bt(L,"SID",m.M),Bt(L,"RID",C),Bt(L,"AID",m.K),id(m,L),m.u&&m.o&&p5(L,m.u,m.o),C=new pa(m,m.j,C,m.D+1),m.u===null&&(C.J=m.o),T&&(m.i=T.G.concat(m.i)),T=j_(m,C,1e3),C.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),d5(m.h,C),o5(C,L,T)}function id(m,T){m.H&&U(m.H,function(C,L){Bt(T,L,C)}),m.l&&U({},function(C,L){Bt(T,L,C)})}function j_(m,T,C){C=Math.min(m.i.length,C);const L=m.l?c(m.l.Ka,m.l,m):null;e:{var K=m.i;let nt=-1;for(;;){const Nn=["count="+C];nt==-1?C>0?(nt=K[0].g,Nn.push("ofs="+nt)):nt=0:Nn.push("ofs="+nt);let Ot=!0;for(let Dn=0;Dn<C;Dn++){var J=K[Dn].g;const ga=K[Dn].map;if(J-=nt,J<0)nt=Math.max(0,K[Dn].g-100),Ot=!1;else try{J="req"+J+"_"||"";try{var xe=ga instanceof Map?ga:Object.entries(ga);for(const[mo,W0]of xe){let H0=W0;o(W0)&&(H0=re(W0)),Nn.push(J+mo+"="+encodeURIComponent(H0))}}catch(mo){throw Nn.push(J+"type="+encodeURIComponent("_badmap")),mo}}catch{L&&L(ga)}}if(Ot){xe=Nn.join("&");break e}}xe=void 0}return m=m.i.splice(0,C),T.G=m,xe}function R_(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;E||k(),P||(E(),P=!0),_.add(T,m),m.A=0}}function g5(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Xt(c(m.Da,m),D_(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,M_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Xt(c(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,et(10),G4(this),M_(this))};function y5(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function M_(m){m.g=new pa(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=ma(m.na);Bt(T,"RID","rpc"),Bt(T,"SID",m.M),Bt(T,"AID",m.K),Bt(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&Bt(T,"TO",m.ia),Bt(T,"TYPE","xmlhttp"),id(m,T),m.u&&m.o&&p5(T,m.u,m.o),m.O&&(m.g.H=m.O);var C=m.g;m=m.ba,C.M=1,C.A=q4(ma(T)),C.u=null,C.R=!0,c_(C,m)}t.Va=function(){this.C!=null&&(this.C=null,G4(this),g5(this),et(19))};function Q4(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function $_(m,T){var C=null;if(m.g==T){Q4(m),y5(m),m.g=null;var L=2}else if(u5(m.h,T))C=T.G,m_(m.h,T),L=1;else return;if(m.I!=0){if(T.o)if(L==1){C=T.u?T.u.length:0,T=Date.now()-T.F;var K=m.D;L=Q(),He(L,new Ve(L,C)),K4(m)}else R_(m);else if(K=T.m,K==3||K==0&&T.X>0||!(L==1&&Fz(m,T)||L==2&&g5(m)))switch(C&&C.length>0&&(T=m.h,T.i=T.i.concat(C)),K){case 1:po(m,5);break;case 4:po(m,10);break;case 3:po(m,6);break;default:po(m,2)}}}function D_(m,T){let C=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(C*=2),C*T}function po(m,T){if(m.j.info("Error code "+T),T==2){var C=c(m.bb,m),L=m.Ua;const K=!L;L=new B0(L||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Yu(L,"https"),q4(L),K?jz(L.toString(),C):Rz(L.toString(),C)}else et(2);m.I=0,m.l&&m.l.pa(T),L_(m),C_(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function L_(m){if(m.I=0,m.ja=[],m.l){const T=g_(m.h);(T.length!=0||m.i.length!=0)&&(g(m.ja,T),g(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function F_(m,T,C){var L=C instanceof B0?ma(C):new B0(C);if(L.g!="")T&&(L.g=T+"."+L.g),Xu(L,L.u);else{var K=s.location;L=K.protocol,T=T?T+"."+K.hostname:K.hostname,K=+K.port;const J=new B0(null);L&&Yu(J,L),T&&(J.g=T),K&&Xu(J,K),C&&(J.h=C),L=J}return C=m.G,T=m.wa,C&&T&&Bt(L,C,T),Bt(L,"VER",m.ka),id(m,L),L}function V_(m,T,C){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new un(new h5({ab:C})):new un(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function U_(){}t=U_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Y4(){}Y4.prototype.g=function(m,T){return new Yr(m,T)};function Yr(m,T){Me.call(this),this.g=new I_(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!O(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!O(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Rl(this)}d(Yr,Me),Yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yr.prototype.close=function(){m5(this.g)},Yr.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.v&&(C={},C.__data__=re(m),m=C);T.i.push(new kz(T.Ya++,m)),T.I==3&&K4(T)},Yr.prototype.N=function(){this.g.l=null,delete this.j,m5(this.g),delete this.g,Yr.Z.N.call(this)};function B_(m){fe.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const C in T){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}d(B_,fe);function z_(){Ee.call(this),this.status=1}d(z_,Ee);function Rl(m){this.g=m}d(Rl,U_),Rl.prototype.ra=function(){He(this.g,"a")},Rl.prototype.qa=function(m){He(this.g,new B_(m))},Rl.prototype.pa=function(m){He(this.g,new z_)},Rl.prototype.oa=function(){He(this.g,"b")},Y4.prototype.createWebChannel=Y4.prototype.g,Yr.prototype.send=Yr.prototype.o,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,qR=function(){return new Y4},zR=function(){return Q()},BR=Fe,l7={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ut.NO_ERROR=0,Ut.TIMEOUT=8,Ut.HTTP_ERROR=6,h3=Ut,Jt.COMPLETE="complete",UR=Jt,ln.EventType=ne,ne.OPEN="a",ne.CLOSE="b",ne.ERROR="c",ne.MESSAGE="d",Me.prototype.listen=Me.prototype.J,Ud=ln,un.prototype.listenOnce=un.prototype.K,un.prototype.getLastError=un.prototype.Ha,un.prototype.getLastErrorCode=un.prototype.ya,un.prototype.getStatus=un.prototype.ca,un.prototype.getResponseJson=un.prototype.La,un.prototype.getResponseText=un.prototype.la,un.prototype.send=un.prototype.ea,un.prototype.setWithCredentials=un.prototype.Fa,VR=un}).apply(typeof gp<"u"?gp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu="12.9.0";function NQ(t){Nu=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new Ug("@firebase/firestore");function ql(){return Zo.logLevel}function Pe(t,...e){if(Zo.logLevel<=ct.DEBUG){const n=e.map(dx);Zo.debug(`Firestore (${Nu}): ${t}`,...n)}}function T0(t,...e){if(Zo.logLevel<=ct.ERROR){const n=e.map(dx);Zo.error(`Firestore (${Nu}): ${t}`,...n)}}function el(t,...e){if(Zo.logLevel<=ct.WARN){const n=e.map(dx);Zo.warn(`Firestore (${Nu}): ${t}`,...n)}}function dx(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WR(t,r,n)}function WR(t,e,n){let r=`FIRESTORE (${Nu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw T0(r),new Error(r)}function kt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||WR(e,i,r)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(or.UNAUTHENTICATED))}shutdown(){}}class IQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CQ{constructor(e){this.t=e,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Os,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Os)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new HR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new or(e)}}class OQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=or.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){kt(this.o===void 0,3512);const r=a=>{a.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new TE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=MQ(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function c7(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return X5(i)===X5(a)?ut(i,a):X5(i)?1:-1}return ut(t.length,e.length)}const $Q=55296,DQ=57343;function X5(t){const e=t.charCodeAt(0);return e>=$Q&&e<=DQ}function Fc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="__name__";class xa{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=xa.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ut(e.length,n.length)}static compareSegments(e,n){const r=xa.isNumericId(e),i=xa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?xa.extractNumericId(e).compare(xa.extractNumericId(n)):c7(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class Lt extends xa{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const LQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends xa{construct(e,n,r){return new Jn(e,n,r)}static isValidIdentifier(e){return LQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NE}static keyField(){return new Jn([NE])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Se(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Se(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(n)}static emptyPath(){return new Jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Lt.fromString(e))}static fromName(e){return new $e(Lt.fromString(e).popFirst(5))}static empty(){return new $e(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t,e,n){if(!n)throw new Se(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FQ(t,e,n,r){if(e===!0&&r===!0)throw new Se(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AE(t){if(!$e.isDocumentKey(t))throw new Se(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IE(t){if($e.isDocumentKey(t))throw new Se(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function Oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zg(t);throw new Se(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,e){const n={typeString:t};return e&&(n.value=e),n}function m4(t,e){if(!KR(t))throw new Se(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Se(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=-62135596800,OE=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*OE);return new Ht(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CE)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OE}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(m4(e,Ht._jsonSchema))return new Ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ht._jsonSchemaVersion="firestore/timestamp/1.0",Ht._jsonSchema={type:kn("string",Ht._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Ht(0,0))}static max(){return new Ke(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=-1;function VQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new Ht(n+1,0):new Ht(n,r));return new Fs(i,$e.empty(),e)}function UQ(t){return new Fs(t.readTime,t.key,nh)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(Ke.min(),$e.empty(),nh)}static max(){return new Fs(Ke.max(),$e.empty(),nh)}}function BQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$e.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==zQ)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new oe((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function WQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Iu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=-1;function Wg(t){return t==null}function lm(t){return t===0&&1/t==-1/0}function HQ(t){return typeof t=="number"&&Number.isInteger(t)&&!lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="";function GQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jE(e)),e=KQ(t.get(n),e);return jE(e)}function KQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case QR:n+="";break;default:n+=a}}return n}function jE(t){return t+QR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){this.comparator=e,this.root=n||Qn.EMPTY}insert(e,n){return new on(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yp(this.root,e,this.comparator,!1)}getReverseIterator(){return new yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yp(this.root,e,this.comparator,!0)}}class yp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Qn.RED,this.left=i??Qn.EMPTY,this.right=a??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Qn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rn(this.comparator);return n.data=e,n}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new ii([])}unionWith(e){let n=new Rn(Jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new XR("Invalid base64 string: "+a):a}}(e);return new nr(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const QQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(kt(!!t,39018),typeof t=="string"){let e=0;const n=QQ.exec(t);if(kt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yn(t.seconds),nanos:yn(t.nanos)}}function yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="server_timestamp",ZR="__type__",eM="__previous_value__",tM="__local_write_time__";function px(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ZR])==null?void 0:r.stringValue)===JR}function Hg(t){const e=t.mapValue.fields[eM];return px(e)?Hg(e):e}function rh(t){const e=Vs(t.mapValue.fields[tM].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,n,r,i,a,s,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=d}}const cm="(default)";class ih{constructor(e,n){this.projectId=e,this.database=n||cm}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database===cm}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}function XQ(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Se(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="__type__",JQ="__max__",vp={mapValue:{}},rM="__vector__",um="value";function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?px(t)?4:eY(t)?9007199254740991:ZQ(t)?10:11:qe(28295,{value:t})}function qa(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rh(t).isEqual(rh(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Vs(i.timestampValue),o=Vs(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Us(i.bytesValue).isEqual(Us(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return yn(i.geoPointValue.latitude)===yn(a.geoPointValue.latitude)&&yn(i.geoPointValue.longitude)===yn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return yn(i.integerValue)===yn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=yn(i.doubleValue),o=yn(a.doubleValue);return s===o?lm(s)===lm(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Fc(t.arrayValue.values||[],e.arrayValue.values||[],qa);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(RE(s)!==RE(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!qa(s[l],o[l])))return!1;return!0}(t,e);default:return qe(52216,{left:t})}}function ah(t,e){return(t.values||[]).find(n=>qa(n,e))!==void 0}function Vc(t,e){if(t===e)return 0;const n=Bs(t),r=Bs(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=yn(a.integerValue||a.doubleValue),l=yn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return $E(t.timestampValue,e.timestampValue);case 4:return $E(rh(t),rh(e));case 5:return c7(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Us(a),l=Us(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=ut(o[c],l[c]);if(u!==0)return u}return ut(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=ut(yn(a.latitude),yn(s.latitude));return o!==0?o:ut(yn(a.longitude),yn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DE(t.arrayValue,e.arrayValue);case 10:return function(a,s){var h,p,g,x;const o=a.fields||{},l=s.fields||{},c=(h=o[um])==null?void 0:h.arrayValue,u=(p=l[um])==null?void 0:p.arrayValue,d=ut(((g=c==null?void 0:c.values)==null?void 0:g.length)||0,((x=u==null?void 0:u.values)==null?void 0:x.length)||0);return d!==0?d:DE(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===vp.mapValue&&s===vp.mapValue)return 0;if(a===vp.mapValue)return 1;if(s===vp.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=c7(l[d],u[d]);if(h!==0)return h;const p=Vc(o[l[d]],c[u[d]]);if(p!==0)return p}return ut(l.length,u.length)}(t.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function $E(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=Vs(t),r=Vs(e),i=ut(n.seconds,r.seconds);return i!==0?i:ut(n.nanos,r.nanos)}function DE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Vc(n[i],r[i]);if(a)return a}return ut(n.length,r.length)}function Uc(t){return u7(t)}function u7(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=u7(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${u7(n.fields[s])}`;return i+"}"}(t.mapValue):qe(61005,{value:t})}function p3(t){switch(Bs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hg(t);return e?16+p3(e):16;case 5:return 2*t.stringValue.length;case 6:return Us(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+p3(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Js(r.fields,(a,s)=>{i+=a.length+p3(s)}),i}(t.mapValue);default:throw qe(13486,{value:t})}}function LE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d7(t){return!!t&&"integerValue"in t}function mx(t){return!!t&&"arrayValue"in t}function FE(t){return!!t&&"nullValue"in t}function VE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function m3(t){return!!t&&"mapValue"in t}function ZQ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[nM])==null?void 0:r.stringValue)===rM}function yf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yf(t.arrayValue.values[n]);return e}return{...t}}function eY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!m3(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yf(n)}setAll(e){let n=Jn.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=yf(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());m3(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];m3(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Js(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Fr(yf(this.value))}}function iM(t){const e=[];return Js(t.fields,(n,r)=>{const i=new Jn([n]);if(m3(r)){const a=iM(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new ii(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new cr(e,0,Ke.min(),Ke.min(),Ke.min(),Fr.empty(),0)}static newFoundDocument(e,n,r,i){return new cr(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new cr(e,2,n,Ke.min(),Ke.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new cr(e,3,n,Ke.min(),Ke.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.position=e,this.inclusive=n}}function UE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=$e.comparator($e.fromName(s.referenceValue),n.key):r=Vc(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function BE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function tY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{}class En extends aM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rY(e,n,r):n==="array-contains"?new sY(e,r):n==="in"?new oY(e,r):n==="not-in"?new lY(e,r):n==="array-contains-any"?new cY(e,r):new En(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iY(e,r):new aY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vc(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(Vc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class da extends aM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new da(e,n)}matches(e){return sM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sM(t){return t.op==="and"}function oM(t){return nY(t)&&sM(t)}function nY(t){for(const e of t.filters)if(e instanceof da)return!1;return!0}function f7(t){if(t instanceof En)return t.field.canonicalString()+t.op.toString()+Uc(t.value);if(oM(t))return t.filters.map(e=>f7(e)).join(",");{const e=t.filters.map(n=>f7(n)).join(",");return`${t.op}(${e})`}}function lM(t,e){return t instanceof En?function(r,i){return i instanceof En&&r.op===i.op&&r.field.isEqual(i.field)&&qa(r.value,i.value)}(t,e):t instanceof da?function(r,i){return i instanceof da&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&lM(s,i.filters[o]),!0):!1}(t,e):void qe(19439)}function cM(t){return t instanceof En?function(n){return`${n.field.canonicalString()} ${n.op} ${Uc(n.value)}`}(t):t instanceof da?function(n){return n.op.toString()+" {"+n.getFilters().map(cM).join(" ,")+"}"}(t):"Filter"}class rY extends En{constructor(e,n,r){super(e,n,r),this.key=$e.fromName(r.referenceValue)}matches(e){const n=$e.comparator(e.key,this.key);return this.matchesComparison(n)}}class iY extends En{constructor(e,n){super(e,"in",n),this.keys=uM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aY extends En{constructor(e,n){super(e,"not-in",n),this.keys=uM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uM(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>$e.fromName(r.referenceValue))}class sY extends En{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mx(n)&&ah(n.arrayValue,this.value)}}class oY extends En{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ah(this.value.arrayValue,n)}}class lY extends En{constructor(e,n){super(e,"not-in",n)}matches(e){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ah(this.value.arrayValue,n)}}class cY extends En{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ah(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function zE(t,e=null,n=[],r=[],i=null,a=null,s=null){return new uY(t,e,n,r,i,a,s)}function gx(t){const e=Qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>f7(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Wg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uc(r)).join(",")),e.Te=n}return e.Te}function yx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BE(t.startAt,e.startAt)&&BE(t.endAt,e.endAt)}function h7(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function dY(t,e,n,r,i,a,s,o){return new Cu(t,e,n,r,i,a,s,o)}function vx(t){return new Cu(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fY(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function dM(t){return t.collectionGroup!==null}function vf(t){const e=Qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Rn(Jn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new sh(a,r))}),n.has(Jn.keyField().canonicalString())||e.Ie.push(new sh(Jn.keyField(),r))}return e.Ie}function $a(t){const e=Qe(t);return e.Ee||(e.Ee=hY(e,vf(t))),e.Ee}function hY(t,e){if(t.limitType==="F")return zE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new sh(i.field,a)});const n=t.endAt?new dm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dm(t.startAt.position,t.startAt.inclusive):null;return zE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function p7(t,e){const n=t.filters.concat([e]);return new Cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pY(t,e){const n=t.explicitOrderBy.concat([e]);return new Cu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function m7(t,e,n){return new Cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gg(t,e){return yx($a(t),$a(e))&&t.limitType===e.limitType}function fM(t){return`${gx($a(t))}|lt:${t.limitType}`}function Wl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cM(i)).join(", ")}]`),Wg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Uc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Uc(i)).join(",")),`Target(${r})`}($a(t))}; limitType=${t.limitType})`}function Kg(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):$e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of vf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=UE(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,vf(r),i)||r.endAt&&!function(s,o,l){const c=UE(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,vf(r),i))}(t,e)}function mY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hM(t){return(e,n)=>{let r=!1;for(const i of vf(t)){const a=gY(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function gY(t,e,n){const r=t.field.isKeyField()?$e.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?Vc(l,c):qe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return YR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yY=new on($e.comparator);function N0(){return yY}const pM=new on($e.comparator);function Bd(...t){let e=pM;for(const n of t)e=e.insert(n.key,n);return e}function mM(t){let e=pM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Co(){return xf()}function gM(){return xf()}function xf(){return new kl(t=>t.toString(),(t,e)=>t.isEqual(e))}const vY=new on($e.comparator),xY=new Rn($e.comparator);function dt(...t){let e=xY;for(const n of t)e=e.add(n);return e}const bY=new Rn(ut);function wY(){return bY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(e)?"-0":e}}function yM(t){return{integerValue:""+t}}function _Y(t,e){return HQ(e)?yM(e):xx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this._=void 0}}function SY(t,e,n){return t instanceof fm?function(i,a){const s={fields:{[ZR]:{stringValue:JR},[tM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&px(a)&&(a=Hg(a)),a&&(s.fields[eM]=a),{mapValue:s}}(n,e):t instanceof oh?xM(t,e):t instanceof lh?bM(t,e):function(i,a){const s=vM(i,a),o=WE(s)+WE(i.Ae);return d7(s)&&d7(i.Ae)?yM(o):xx(i.serializer,o)}(t,e)}function EY(t,e,n){return t instanceof oh?xM(t,e):t instanceof lh?bM(t,e):n}function vM(t,e){return t instanceof hm?function(r){return d7(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class fm extends Qg{}class oh extends Qg{constructor(e){super(),this.elements=e}}function xM(t,e){const n=wM(e);for(const r of t.elements)n.some(i=>qa(i,r))||n.push(r);return{arrayValue:{values:n}}}class lh extends Qg{constructor(e){super(),this.elements=e}}function bM(t,e){let n=wM(e);for(const r of t.elements)n=n.filter(i=>!qa(i,r));return{arrayValue:{values:n}}}class hm extends Qg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function WE(t){return yn(t.integerValue||t.doubleValue)}function wM(t){return mx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oh&&i instanceof oh||r instanceof lh&&i instanceof lh?Fc(r.elements,i.elements,qa):r instanceof hm&&i instanceof hm?qa(r.Ae,i.Ae):r instanceof fm&&i instanceof fm}(t.transform,e.transform)}class PY{constructor(e,n){this.version=e,this.transformResults=n}}class ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function g3(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yg{}function _M(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bx(t.key,ji.none()):new g4(t.key,t.data,ji.none());{const n=t.data,r=Fr.empty();let i=new Rn(Jn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Zs(t.key,r,new ii(i.toArray()),ji.none())}}function TY(t,e,n){t instanceof g4?function(i,a,s){const o=i.value.clone(),l=GE(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Zs?function(i,a,s){if(!g3(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=GE(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(SM(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function bf(t,e,n,r){return t instanceof g4?function(a,s,o,l){if(!g3(a.precondition,s))return o;const c=a.value.clone(),u=KE(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zs?function(a,s,o,l){if(!g3(a.precondition,s))return o;const c=KE(a.fieldTransforms,l,s),u=s.data;return u.setAll(SM(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return g3(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function NY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=vM(r.transform,i||null);a!=null&&(n===null&&(n=Fr.empty()),n.set(r.field,a))}return n||null}function HE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fc(r,i,(a,s)=>kY(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class g4 extends Yg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zs extends Yg{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function SM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GE(t,e,n){const r=new Map;kt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,EY(s,o,n[i]))}return r}function KE(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,SY(a,s,e))}return r}class bx extends Yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AY extends Yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&TY(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gM();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=_M(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),dt())}isEqual(e){return this.batchId===e.batchId&&Fc(this.mutations,e.mutations,(n,r)=>HE(n,r))&&Fc(this.baseMutations,e.baseMutations,(n,r)=>HE(n,r))}}class wx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return vY}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new wx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,pt;function jY(t){switch(t){case ae.OK:return qe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function EM(t){if(t===void 0)return T0("GRPC error has no .code"),ae.UNKNOWN;switch(t){case wn.OK:return ae.OK;case wn.CANCELLED:return ae.CANCELLED;case wn.UNKNOWN:return ae.UNKNOWN;case wn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case wn.INTERNAL:return ae.INTERNAL;case wn.UNAVAILABLE:return ae.UNAVAILABLE;case wn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case wn.NOT_FOUND:return ae.NOT_FOUND;case wn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case wn.ABORTED:return ae.ABORTED;case wn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case wn.DATA_LOSS:return ae.DATA_LOSS;default:return qe(39323,{code:t})}}(pt=wn||(wn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY=new Cs([4294967295,4294967295],0);function QE(t){const e=RY().encode(t),n=new FR;return n.update(e),new Uint8Array(n.digest())}function YE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Cs([n,r],0),new Cs([i,a],0)]}class _x{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zd(`Invalid padding: ${n}`);if(r<0)throw new zd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Cs.fromNumber(r)));return i.compare(MY)===1&&(i=new Cs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=QE(e),[r,i]=YE(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new _x(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=QE(e),[r,i]=YE(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,y4.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xg(Ke.min(),i,new on(ut),N0(),dt())}}class y4{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new y4(r,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class kM{constructor(e,n){this.targetId=e,this.Ce=n}}class PM{constructor(e,n,r=nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XE{constructor(){this.ve=0,this.Fe=JE(),this.Me=nr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),r=dt();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe(38017,{changeType:a})}}),new y4(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=JE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $Y{constructor(e){this.Ge=e,this.ze=new Map,this.je=N0(),this.He=xp(),this.Je=xp(),this.Ze=new on(ut)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(h7(a))if(r===0){const s=new $e(a.path);this.et(n,s,cr.newNoDocument(s,Ke.min()))}else kt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Us(r).toUint8Array()}catch(l){if(l instanceof XR)return el("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new _x(s,i,a)}catch(l){return el(l instanceof zd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&h7(o.target)){const l=new $e(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,cr.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let r=dt();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Xg(e,n,this.Ze,this.je,r);return this.je=N0(),this.He=xp(),this.Je=xp(),this.Ze=new on(ut),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new XE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Rn(ut),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Rn(ut),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xp(){return new on($e.comparator)}function JE(){return new on($e.comparator)}const DY={asc:"ASCENDING",desc:"DESCENDING"},LY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FY={and:"AND",or:"OR"};class VY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function g7(t,e){return t.useProto3Json||Wg(e)?e:{value:e}}function pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UY(t,e){return pm(t,e.toTimestamp())}function Da(t){return kt(!!t,49232),Ke.fromTimestamp(function(n){const r=Vs(n);return new Ht(r.seconds,r.nanos)}(t))}function Sx(t,e){return y7(t,e).canonicalString()}function y7(t,e){const n=function(i){return new Lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NM(t){const e=Lt.fromString(t);return kt(jM(e),10190,{key:e.toString()}),e}function v7(t,e){return Sx(t.databaseId,e.path)}function J5(t,e){const n=NM(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $e(IM(n))}function AM(t,e){return Sx(t.databaseId,e)}function BY(t){const e=NM(t);return e.length===4?Lt.emptyPath():IM(e)}function x7(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IM(t){return kt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZE(t,e,n){return{name:v7(t,e),fields:n.value.mapValue.fields}}function zY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:qe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(kt(u===void 0||typeof u=="string",58123),nr.fromBase64String(u||"")):(kt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),nr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?ae.UNKNOWN:EM(c.code);return new Se(u,c.message||"")}(s);n=new PM(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=J5(t,r.document.name),a=Da(r.document.updateTime),s=r.document.createTime?Da(r.document.createTime):Ke.min(),o=new Fr({mapValue:{fields:r.document.fields}}),l=cr.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new y3(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=J5(t,r.document),a=r.readTime?Da(r.readTime):Ke.min(),s=cr.newNoDocument(i,a),o=r.removedTargetIds||[];n=new y3([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=J5(t,r.document),a=r.removedTargetIds||[];n=new y3([],a,i,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new OY(i,a),o=r.targetId;n=new kM(o,s)}}return n}function qY(t,e){let n;if(e instanceof g4)n={update:ZE(t,e.key,e.value)};else if(e instanceof bx)n={delete:v7(t,e.key)};else if(e instanceof Zs)n={update:ZE(t,e.key,e.data),updateMask:ZY(e.fieldMask)};else{if(!(e instanceof AY))return qe(16599,{dt:e.type});n={verify:v7(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof fm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof oh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof lh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof hm)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw qe(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:UY(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe(27497)}(t,e.precondition)),n}function WY(t,e){return t&&t.length>0?(kt(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?Da(i.updateTime):Da(a);return s.isEqual(Ke.min())&&(s=Da(a)),new PY(s,i.transformResults||[])}(n,e))):[]}function HY(t,e){return{documents:[AM(t,e.path)]}}function GY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AM(t,i);const a=function(c){if(c.length!==0)return OM(da.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Hl(h.field),direction:YY(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=g7(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function KY(t){let e=BY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kt(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(d){const h=CM(d);return h instanceof da&&oM(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(g){return new sh(Gl(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,Wg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new dm(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new dm(p,h)}(n.endAt)),dY(e,i,s,a,o,"F",l,c)}function QY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gl(n.unaryFilter.field);return En.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gl(n.unaryFilter.field);return En.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gl(n.unaryFilter.field);return En.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gl(n.unaryFilter.field);return En.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}}(t):t.fieldFilter!==void 0?function(n){return En.create(Gl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return da.create(n.compositeFilter.filters.map(r=>CM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}}(n.compositeFilter.op))}(t):qe(30097,{filter:t})}function YY(t){return DY[t]}function XY(t){return LY[t]}function JY(t){return FY[t]}function Hl(t){return{fieldPath:t.canonicalString()}}function Gl(t){return Jn.fromServerFormat(t.fieldPath)}function OM(t){return t instanceof En?function(n){if(n.op==="=="){if(VE(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NAN"}};if(FE(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VE(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NAN"}};if(FE(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(n.field),op:XY(n.op),value:n.value}}}(t):t instanceof da?function(n){const r=n.getFilters().map(i=>OM(i));return r.length===1?r[0]:{compositeFilter:{op:JY(n.op),filters:r}}}(t):qe(54877,{filter:t})}function ZY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function RM(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,i,a=Ke.min(),s=Ke.min(),o=nr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.yt=e}}function tX(t){const e=KY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?m7(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(){this.Sn=new rX}addToCollectionParentIndex(e,n){return this.Sn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Fs.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class rX{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rn(Lt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MM=41943040;class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(MM,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Bc(0)}static ar(){return new Bc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="LruGarbageCollector",iX=1048576;function nk([t,e],[n,r]){const i=ut(t,n);return i===0?ut(e,r):i}class aX{constructor(e){this.Pr=e,this.buffer=new Rn(nk),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Pe(tk,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Iu(n)?Pe(tk,"Ignoring IndexedDB error during garbage collection: ",n):await Au(n)}await this.Ar(3e5)})}}class oX{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(qg.ce);const r=new aX(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(ek)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ek):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),ql()<=ct.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function lX(t,e){return new oX(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(){this.changes=new kl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bf(r.mutation,i,ii.empty(),Ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,dt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=dt()){const i=Co();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Bd();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Co();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,dt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=N0();const s=xf(),o=function(){return xf()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Zs)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),bf(u.mutation,c,u.mutation.getFieldMask(),Ht.now())):s.set(c.key,ii.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>o.set(c,new uX(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=xf();let i=new on((s,o)=>s-o),a=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ii.empty();u=o.applyToLocalView(c,u),r.set(l,u);const d=(i.get(o.batchId)||dt()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=gM();u.forEach(h=>{if(!a.has(h)){const p=_M(n.get(h),r.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return oe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return fY(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):oe.resolve(Co());let o=nh,l=a;return s.next(c=>oe.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(u)?oe.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,dt())).next(u=>({batchId:o,changes:mM(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $e(n)).next(r=>{let i=Bd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Bd();return this.indexManager.getCollectionParents(e,a).next(o=>oe.forEach(o,l=>{const c=function(d,h){return new Cu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,cr.newInvalidDocument(u)))});let o=Bd();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&bf(u.mutation,c,ii.empty(),Ht.now()),Kg(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return oe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Da(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:tX(i.bundledQuery),readTime:Da(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(){this.overlays=new on($e.comparator),this.Lr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Co();return oe.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.bt(e,n,a)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=Co(),a=n.length+1,s=new $e(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new on((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=Co(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Co(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return oe.resolve(o)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new CY(n,r));let a=this.Lr.get(n);a===void 0&&(a=dt(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.kr=new Rn(Fn.Kr),this.qr=new Rn(Fn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Fn(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new $e(new Lt([])),r=new Fn(n,e),i=new Fn(n,e+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new $e(new Lt([])),r=new Fn(n,e),i=new Fn(n,e+1);let a=dt();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Fn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return $e.comparator(e.key,n.key)||ut(e.Hr,n.Hr)}static Ur(e,n){return ut(e.Hr,n.Hr)||$e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Rn(Fn.Kr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new IY(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new Fn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return oe.resolve(s)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?hx:this.Yn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),i=new Fn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rn(ut);return n.forEach(i=>{const a=new Fn(i,0),s=new Fn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),oe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;$e.isDocumentKey(a)||(a=a.child(""));const s=new Fn(new $e(a),0);let o=new Rn(ut);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},s),oe.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){kt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return oe.forEach(n.mutations,i=>{const a=new Fn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Fn(n,0),i=this.Jr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(e){this.ti=e,this.docs=function(){return new on($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(n))}getEntries(e,n){let r=N0();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():cr.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=N0();const s=n.path,o=new $e(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||BQ(UQ(u),r)<=0||(i.has(u.key)||Kg(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,n,r,i){qe(9500)}ni(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yX(this)}getSize(e){return oe.resolve(this.size)}}class yX extends cX{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(e){this.persistence=e,this.ri=new kl(n=>gx(n),yx),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.ii=0,this.si=new Ex,this.targetCount=0,this.oi=Bc._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),oe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Bc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.lr(n),oe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),oe.waitFor(a).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this._i={},this.overlays={},this.ai=new qg(0),this.ui=!1,this.ui=!0,this.ci=new pX,this.referenceDelegate=e(this),this.li=new vX(this),this.indexManager=new nX,this.remoteDocumentCache=function(i){return new gX(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new eX(n),this.Pi=new fX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new mX(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new xX(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return oe.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class xX extends qQ{constructor(e){super(),this.currentSequenceNumber=e}}class kx{constructor(e){this.persistence=e,this.Ri=new Ex,this.Ai=null}static Vi(e){return new kx(e)}get di(){if(this.Ai)return this.Ai;throw qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,r=>{const i=$e.fromPath(r);return this.mi(e,i).next(a=>{a||n.removeEntry(i,Ke.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class mm{constructor(e,n){this.persistence=e,this.fi=new kl(r=>GQ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=lX(this,n)}static Vi(e,n){return new mm(e,n)}Ti(){}Ii(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return oe.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(a=>a?oe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,n).next(o=>{o||(r++,a.removeEntry(s,Ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=p3(e.data.value)),n}wr(e,n,r){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=dt(),i=dt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Px(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return lK()?8:WQ(pr())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new bX;return this.ys(e,n,s).next(o=>{if(a.result=o,this.As)return this.ws(e,n,s,o.size)})}).next(()=>a.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(ql()<=ct.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",Wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(ql()<=ct.DEBUG&&Pe("QueryEngine","Query:",Wl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(ql()<=ct.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",Wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$a(n))):oe.resolve())}gs(e,n){if(qE(n))return oe.resolve(null);let r=$a(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=m7(n,null,"F"),r=$a(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=dt(...a);return this.fs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,o);return this.Ss(n,c,s,l.readTime)?this.gs(e,m7(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,i){return qE(n)||i.isEqual(Ke.min())?oe.resolve(null):this.fs.getDocuments(e,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?oe.resolve(null):(ql()<=ct.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wl(n)),this.Ds(e,s,n,VQ(i,nh)).next(o=>o))})}bs(e,n){let r=new Rn(hM(e));return n.forEach((i,a)=>{Kg(e,a)&&(r=r.add(a))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return ql()<=ct.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Wl(n)),this.fs.getDocumentsMatchingQuery(e,n,Fs.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="LocalStore",_X=3e8;class SX{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new on(ut),this.Fs=new kl(a=>gx(a),yx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dX(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function EX(t,e,n,r){return new SX(t,e,n,r)}async function DM(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=dt();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:o}))})})}function kX(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=oe.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(x=>{const y=c.docVersions.get(g);kt(y!==null,48541),x.version.compareTo(y)<0&&(d.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),u.addEntry(x)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=dt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function LM(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function PX(t,e){const n=Qe(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;o.push(n.li.removeMatchingKeys(a,u.removedDocuments,d).next(()=>n.li.addMatchingKeys(a,u.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(nr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(x,y,v){return x.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=_X?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&o.push(n.li.updateTargetData(a,p))});let l=N0(),c=dt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(TX(a,s,e.documentUpdates).next(u=>{l=u.Bs,c=u.Ls})),!r.isEqual(Ke.min())){const u=n.li.getLastRemoteSnapshotVersion(a).next(d=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return oe.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.vs=i,a))}function TX(t,e,n){let r=dt(),i=dt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=N0();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ke.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):Pe(Tx,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function NX(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AX(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(a=>a?(i=a,oe.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new ps(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function b7(t,e,n){const r=Qe(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Iu(s))throw s;Pe(Tx,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function rk(t,e,n){const r=Qe(t);let i=Ke.min(),a=dt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Qe(l),h=d.Fs.get(u);return h!==void 0?oe.resolve(d.vs.get(h)):d.li.getTargetData(c,u)}(r,s,$a(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Ke.min(),n?a:dt())).next(o=>(IX(r,mY(e),o),{documents:o,ks:a})))}function IX(t,e,n){let r=t.Ms.get(e)||Ke.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ms.set(e,r)}class ik{constructor(){this.activeTargetIds=wY()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CX{constructor(){this.vo=new ik,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ik,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="ConnectivityMonitor";class sk{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Pe(ak,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Pe(ak,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp=null;function w7(){return bp===null?bp=function(){return 268435456+Math.round(2147483648*Math.random())}():bp++,"0x"+bp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="RestConnection",jX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class RX{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===cm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=w7(),o=this.Qo(e,n.toUriEncodedString());Pe(Z5,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:c}=new URL(o),u=Ys(c);return this.zo(e,o,l,r,u).then(d=>(Pe(Z5,`Received RPC '${e}' ${s}: `,d),d),d=>{throw el(Z5,`RPC '${e}' ${s} failed with error: `,d,"url: ",o,"request:",r),d})}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Qo(e,n){const r=jX[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="WebChannelConnection",hd=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class xc extends RX{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!xc.c_){const e=zR();hd(e,BR.STAT_EVENT,n=>{n.stat===l7.PROXY?Pe(ar,"STAT_EVENT: detected buffering proxy"):n.stat===l7.NOPROXY&&Pe(ar,"STAT_EVENT: detected no buffering proxy")}),xc.c_=!0}}zo(e,n,r,i,a){const s=w7();return new Promise((o,l)=>{const c=new VR;c.setWithCredentials(!0),c.listenOnce(UR.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case h3.NO_ERROR:const d=c.getResponseJson();Pe(ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case h3.TIMEOUT:Pe(ar,`RPC '${e}' ${s} timed out`),l(new Se(ae.DEADLINE_EXCEEDED,"Request time out"));break;case h3.HTTP_ERROR:const h=c.getStatus();if(Pe(ar,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const x=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(b)>=0?b:ae.UNKNOWN}(g.status);l(new Se(x,g.message))}else l(new Se(ae.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Se(ae.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Pe(ar,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Pe(ar,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=w7(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const c=a.join("");Pe(ar,`Creating RPC '${e}' stream ${i}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new MX({Ho:g=>{h?Pe(ar,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(Pe(ar,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),Pe(ar,`RPC '${e}' stream ${i} sending:`,g),u.send(g))},Jo:()=>u.close()});return hd(u,Ud.EventType.OPEN,()=>{h||(Pe(ar,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),hd(u,Ud.EventType.CLOSE,()=>{h||(h=!0,Pe(ar,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(u))}),hd(u,Ud.EventType.ERROR,g=>{h||(h=!0,el(ar,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new Se(ae.UNAVAILABLE,"The operation could not be completed")))}),hd(u,Ud.EventType.MESSAGE,g=>{var x;if(!h){const y=g.data[0];kt(!!y,16349);const v=y,b=(v==null?void 0:v.error)||((x=v[0])==null?void 0:x.error);if(b){Pe(ar,`RPC '${e}' stream ${i} received error:`,b);const w=b.status;let S=function(_){const k=wn[_];if(k!==void 0)return EM(k)}(w),E=b.message;w==="NOT_FOUND"&&E.includes("database")&&E.includes("does not exist")&&E.includes(this.databaseId.database)&&el(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),S===void 0&&(S=ae.INTERNAL,E="Unknown error status: "+w+" with message "+b.message),h=!0,p.o_(new Se(S,E)),u.close()}else Pe(ar,`RPC '${e}' stream ${i} received:`,y),p.__(y)}}),xc.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(t){return new xc(t)}function e6(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){return new VY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xc.c_=!1;class FM{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="PersistentStream";class VM{constructor(e,n,r,i,a,s,o,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(T0(n.toString()),T0("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Se(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Pe(ok,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Pe(ok,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DX extends VM{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zY(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ke.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ke.min():s.readTime?Da(s.readTime):Ke.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=x7(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=h7(l)?{documents:HY(a,l)}:{query:GY(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=TM(a,s.resumeToken);const c=g7(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ke.min())>0){o.readTime=pm(a,s.snapshotVersion.toTimestamp());const c=g7(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=QY(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=x7(this.serializer),n.removeTarget=e,this.K_(n)}}class LX extends VM{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WY(e.writeResults,e.commitTime),r=Da(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=x7(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qY(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{}class VX extends FX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(e,y7(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ae.UNKNOWN,a.toString())})}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(e,y7(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(ae.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function UX(t,e,n,r){return new VX(t,e,n,r)}class BX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(T0(n),this.aa=!1):Pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="RemoteStore";class zX{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{Pl(this)&&(Pe(tl,"Restarting streams for network reachability change."),await async function(l){const c=Qe(l);c.Ea.add(4),await v4(c),c.Va.set("Unknown"),c.Ea.delete(4),await Zg(c)}(this))})}),this.Va=new BX(r,i)}}async function Zg(t){if(Pl(t))for(const e of t.Ra)await e(!0)}async function v4(t){for(const e of t.Ra)await e(!1)}function UM(t,e){const n=Qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Cx(n)?Ix(n):Ou(n).O_()&&Ax(n,e))}function Nx(t,e){const n=Qe(t),r=Ou(n);n.Ia.delete(e),r.O_()&&BM(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pl(n)&&n.Va.set("Unknown"))}function Ax(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ou(t).Z_(e)}function BM(t,e){t.da.$e(e),Ou(t).X_(e)}function Ix(t){t.da=new $Y({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ou(t).start(),t.Va.ua()}function Cx(t){return Pl(t)&&!Ou(t).x_()&&t.Ia.size>0}function Pl(t){return Qe(t).Ea.size===0}function zM(t){t.da=void 0}async function qX(t){t.Va.set("Online")}async function WX(t){t.Ia.forEach((e,n)=>{Ax(t,e)})}async function HX(t,e){zM(t),Cx(t)?(t.Va.ha(e),Ix(t)):t.Va.set("Unknown")}async function GX(t,e,n){if(t.Va.set("Online"),e instanceof PM&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))}(t,e)}catch(r){Pe(tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gm(t,r)}else if(e instanceof y3?t.da.Xe(e):e instanceof kM?t.da.st(e):t.da.tt(e),!n.isEqual(Ke.min()))try{const r=await LM(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(nr.EMPTY_BYTE_STRING,u.snapshotVersion)),BM(a,l);const d=new ps(u.target,l,c,u.sequenceNumber);Ax(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Pe(tl,"Failed to raise snapshot:",r),await gm(t,r)}}async function gm(t,e,n){if(!Iu(e))throw e;t.Ea.add(1),await v4(t),t.Va.set("Offline"),n||(n=()=>LM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Pe(tl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zg(t)})}function qM(t,e){return e().catch(n=>gm(t,n,e))}async function e2(t){const e=Qe(t),n=zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hx;for(;KX(e);)try{const i=await NX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,QX(e,i)}catch(i){await gm(e,i)}WM(e)&&HM(e)}function KX(t){return Pl(t)&&t.Ta.length<10}function QX(t,e){t.Ta.push(e);const n=zs(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function WM(t){return Pl(t)&&!zs(t).x_()&&t.Ta.length>0}function HM(t){zs(t).start()}async function YX(t){zs(t).ra()}async function XX(t){const e=zs(t);for(const n of t.Ta)e.ea(n.mutations)}async function JX(t,e,n){const r=t.Ta.shift(),i=wx.from(r,e,n);await qM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await e2(t)}async function ZX(t,e){e&&zs(t).Y_&&await async function(r,i){if(function(s){return jY(s)&&s!==ae.ABORTED}(i.code)){const a=r.Ta.shift();zs(r).B_(),await qM(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await e2(r)}}(t,e),WM(t)&&HM(t)}async function lk(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Pe(tl,"RemoteStore received new credentials");const r=Pl(n);n.Ea.add(3),await v4(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zg(n)}async function eJ(t,e){const n=Qe(t);e?(n.Ea.delete(2),await Zg(n)):e||(n.Ea.add(2),await v4(n),n.Va.set("Unknown"))}function Ou(t){return t.ma||(t.ma=function(n,r,i){const a=Qe(n);return a.sa(),new DX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:qX.bind(null,t),Yo:WX.bind(null,t),t_:HX.bind(null,t),J_:GX.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Cx(t)?Ix(t):t.Va.set("Unknown")):(await t.ma.stop(),zM(t))})),t.ma}function zs(t){return t.fa||(t.fa=function(n,r,i){const a=Qe(n);return a.sa(),new LX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:YX.bind(null,t),t_:ZX.bind(null,t),ta:XX.bind(null,t),na:JX.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await e2(t)):(await t.fa.stop(),t.Ta.length>0&&(Pe(tl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new Ox(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jx(t,e){if(T0("AsyncQueue",`${e}: ${t}`),Iu(t))return new Se(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{static emptySet(e){return new bc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||$e.comparator(n.key,r.key):(n,r)=>$e.comparator(n.key,r.key),this.keyedMap=Bd(),this.sortedSet=new on(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.ga=new on($e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class zc{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new zc(e,n,bc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class nJ{constructor(){this.queries=uk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Qe(n),a=i.queries;i.queries=uk(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new Se(ae.ABORTED,"Firestore shutting down"))}}function uk(){return new kl(t=>fM(t),Gg)}async function GM(t,e){const n=Qe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new tJ,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=jx(s,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Rx(n)}async function KM(t,e){const n=Qe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rJ(t,e){const n=Qe(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&Rx(n)}function iJ(t,e,n){const r=Qe(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function Rx(t){t.Ca.forEach(e=>{e.next()})}var _7,dk;(dk=_7||(_7={})).Ma="default",dk.Cache="cache";class QM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_7.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.key=e}}class XM{constructor(e){this.key=e}}class aJ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=dt(),this.mutatedKeys=dt(),this.eu=hM(e),this.tu=new bc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new ck,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=Kg(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?g!==x&&(r.track({type:3,doc:p}),y=!0):this.su(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(p?(s=s.add(p),a=x?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,d)=>function(p,g){const x=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:y})}};return x(p)-x(g)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Xa;return this.Xa=l,s.length!==0||c?{snapshot:new zc(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ck,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=dt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new XM(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new YM(r))}),n}cu(e){this.Za=e.ks,this.Ya=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Mx="SyncEngine";class sJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oJ{constructor(e){this.key=e,this.hu=!1}}class lJ{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new kl(o=>fM(o),Gg),this.Iu=new Map,this.Eu=new Set,this.Ru=new on($e.comparator),this.Au=new Map,this.Vu=new Ex,this.du={},this.mu=new Map,this.fu=Bc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cJ(t,e,n=!0){const r=r$(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await JM(r,e,n,!0),i}async function uJ(t,e){const n=r$(t);await JM(n,e,!0,!1)}async function JM(t,e,n,r){const i=await AX(t.localStore,$a(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await dJ(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&UM(t.remoteStore,i),o}async function dJ(t,e,n,r,i){t.pu=(d,h,p)=>async function(x,y,v,b){let w=y.view.ru(v);w.Ss&&(w=await rk(x.localStore,y.query,!1).then(({documents:_})=>y.view.ru(_,w)));const S=b&&b.targetChanges.get(y.targetId),E=b&&b.targetMismatches.get(y.targetId)!=null,P=y.view.applyChanges(w,x.isPrimaryClient,S,E);return hk(x,y.targetId,P.au),P.snapshot}(t,d,h,p);const a=await rk(t.localStore,e,!0),s=new aJ(e,a.ks),o=s.ru(a.documents),l=y4.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);hk(t,n,c.au);const u=new sJ(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function fJ(t,e,n){const r=Qe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Gg(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await b7(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Nx(r.remoteStore,i.targetId),S7(r,i.targetId)}).catch(Au)):(S7(r,i.targetId),await b7(r.localStore,i.targetId,!0))}async function hJ(t,e){const n=Qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nx(n.remoteStore,r.targetId))}async function pJ(t,e,n){const r=wJ(t);try{const i=await function(s,o){const l=Qe(s),c=Ht.now(),u=o.reduce((p,g)=>p.add(g.key),dt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=N0(),x=dt();return l.xs.getEntries(p,u).next(y=>{g=y,g.forEach((v,b)=>{b.isValidDocument()||(x=x.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{d=y;const v=[];for(const b of o){const w=NY(b,d.get(b.key).overlayedDocument);w!=null&&v.push(new Zs(b.key,w,iM(w.value.mapValue),ji.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,o)}).next(y=>{h=y;const v=y.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(p,y.batchId,v)})}).then(()=>({batchId:h.batchId,changes:mM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.du[s.currentUser.toKey()];c||(c=new on(ut)),c=c.insert(o,l),s.du[s.currentUser.toKey()]=c}(r,i.batchId,n),await x4(r,i.changes),await e2(r.remoteStore)}catch(i){const a=jx(i,"Failed to persist write");n.reject(a)}}async function ZM(t,e){const n=Qe(t);try{const r=await PX(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?kt(s.hu,14607):i.removedDocuments.size>0&&(kt(s.hu,42227),s.hu=!1))}),await x4(n,r,e)}catch(r){await Au(r)}}function fk(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Qe(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.ba)h.va(o)&&(c=!0)}),c&&Rx(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mJ(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new on($e.comparator);s=s.insert(a,cr.newNoDocument(a,Ke.min()));const o=dt().add(a),l=new Xg(Ke.min(),new Map,new on(ut),s,o);await ZM(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(e),$x(r)}else await b7(r.localStore,e,!1).then(()=>S7(r,e,n)).catch(Au)}async function gJ(t,e){const n=Qe(t),r=e.batch.batchId;try{const i=await kX(n.localStore,e);t$(n,r,null),e$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await x4(n,i)}catch(i){await Au(i)}}async function yJ(t,e,n){const r=Qe(t);try{const i=await function(s,o){const l=Qe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(kt(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);t$(r,e,n),e$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await x4(r,i)}catch(i){await Au(i)}}function e$(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function t$(t,e,n){const r=Qe(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function S7(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||n$(t,r)})}function n$(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Nx(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),$x(t))}function hk(t,e,n){for(const r of n)r instanceof YM?(t.Vu.addReference(r.key,e),vJ(t,r)):r instanceof XM?(Pe(Mx,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||n$(t,r.key)):qe(19791,{wu:r})}function vJ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Pe(Mx,"New document in limbo: "+n),t.Eu.add(r),$x(t))}function $x(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new $e(Lt.fromString(e)),r=t.fu.next();t.Au.set(r,new oJ(n)),t.Ru=t.Ru.insert(n,r),UM(t.remoteStore,new ps($a(vx(n.path)),r,"TargetPurposeLimboResolution",qg.ce))}}async function x4(t,e,n){const r=Qe(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Px.Es(l.targetId,c);a.push(d)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,c){const u=Qe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>oe.forEach(c,h=>oe.forEach(h.Ts,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>oe.forEach(h.Is,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Iu(d))throw d;Pe(Tx,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.vs.get(h),g=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(g);u.vs=u.vs.insert(h,x)}}}(r.localStore,a))}async function xJ(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Pe(Mx,"User change. New user:",e.toKey());const r=await DM(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new Se(ae.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await x4(n,r.Ns)}}function bJ(t,e){const n=Qe(t),r=n.Au.get(e);if(r&&r.hu)return dt().add(r.key);{let i=dt();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function r$(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mJ.bind(null,e),e.Pu.J_=rJ.bind(null,e.eventManager),e.Pu.yu=iJ.bind(null,e.eventManager),e}function wJ(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yJ.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return EX(this.persistence,new wX,e.initialUser,this.serializer)}Cu(e){return new $M(kx.Vi,this.serializer)}Du(e){return new CX}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class _J extends ym{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){kt(this.persistence.referenceDelegate instanceof mm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new $M(r=>mm.Vi(r,n),this.serializer)}}class E7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xJ.bind(null,this.syncEngine),await eJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nJ}()}createDatastore(e){const n=Jg(e.databaseInfo.databaseId),r=$X(e.databaseInfo);return UX(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new zX(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>fk(this.syncEngine,n,0),function(){return sk.v()?new sk:new OX}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const d=new lJ(i,a,s,o,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Qe(i);Pe(tl,"RemoteStore shutting down."),a.Ea.add(5),await v4(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}E7.provider={build:()=>new E7};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):T0("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class SJ{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=or.UNAUTHENTICATED,this.clientId=fx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{Pe(qs,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Pe(qs,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function t6(t,e){t.asyncQueue.verifyOperationInProgress(),Pe(qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EJ(t);Pe(qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lk(e.remoteStore,i)),t._onlineComponents=e}async function EJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe(qs,"Using user provided OfflineComponentProvider");try{await t6(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;el("Error using user provided cache. Falling back to memory cache: "+n),await t6(t,new ym)}}else Pe(qs,"Using default OfflineComponentProvider"),await t6(t,new _J(void 0));return t._offlineComponents}async function a$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe(qs,"Using user provided OnlineComponentProvider"),await pk(t,t._uninitializedComponentsProvider._online)):(Pe(qs,"Using default OnlineComponentProvider"),await pk(t,new E7))),t._onlineComponents}function kJ(t){return a$(t).then(e=>e.syncEngine)}async function k7(t){const e=await a$(t),n=e.eventManager;return n.onListen=cJ.bind(null,e.syncEngine),n.onUnlisten=fJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hJ.bind(null,e.syncEngine),n}function PJ(t,e,n,r){const i=new i$(r),a=new QM(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>GM(await k7(t),a)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>KM(await k7(t),a))}}function TJ(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new i$({next:h=>{u.Nu(),s.enqueueAndForget(()=>KM(a,d)),h.fromCache&&l.source==="server"?c.reject(new Se(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new QM(o,u,{includeMetadataChanges:!0,Ka:!0});return GM(a,d)}(await k7(t),t.asyncQueue,e,n,r)),r.promise}function NJ(t,e){const n=new Os;return t.asyncQueue.enqueueAndForget(async()=>pJ(await kJ(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ="ComponentProvider",mk=new Map;function IJ(t,e,n,r,i){return new YQ(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,s$(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$="firestore.googleapis.com",gk=!0;class yk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o$,this.ssl=gk}else this.host=e.host,this.ssl=e.ssl??gk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iX)throw new Se(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s$(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class t2{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AQ;switch(r.type){case"firstParty":return new jQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mk.get(n);r&&(Pe(AJ,"Removing Datastore"),mk.delete(n),r.terminate())}(this),Promise.resolve()}}function CJ(t,e,n,r={}){var c;t=Oi(t,t2);const i=Ys(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(lx(`https://${o}`),cx("Firestore",!0)),a.host!==o$&&a.host!==o&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!Ls(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=or.MOCK_USER;else{u=AR(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Se(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new or(h)}t._authCredentials=new IQ(new HR(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}toJSON(){return{type:xn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(m4(n,xn._jsonSchema))return new xn(e,r||null,new $e(Lt.fromString(n.referencePath)))}}xn._jsonSchemaVersion="firestore/documentReference/1.0",xn._jsonSchema={type:kn("string",xn._jsonSchemaVersion),referencePath:kn("string")};class js extends eo{constructor(e,n,r){super(e,n,vx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new $e(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function pd(t,e,...n){if(t=At(t),GR("collection","path",e),t instanceof t2){const r=Lt.fromString(e,...n);return IE(r),new js(t,null,r)}{if(!(t instanceof xn||t instanceof js))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return IE(r),new js(t.firestore,null,r)}}function v3(t,e,...n){if(t=At(t),arguments.length===1&&(e=fx.newId()),GR("doc","path",e),t instanceof t2){const r=Lt.fromString(e,...n);return AE(r),new xn(t,null,new $e(r))}{if(!(t instanceof xn||t instanceof js))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return AE(r),new xn(t.firestore,t instanceof js?t.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="AsyncQueue";class xk{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FM(this,"async_queue_retry"),this._c=()=>{const r=e6();r&&Pe(vk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=e6();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=e6();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Os;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Iu(e))throw e;Pe(vk,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,T0("INTERNAL UNHANDLED ERROR: ",bk(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ox.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&qe(47125,{Pc:bk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ws extends t2{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xk(e),this._firestoreClient=void 0,await e}}}function OJ(t,e){const n=typeof t=="object"?t:Bg(),r=typeof t=="string"?t:cm,i=Xs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=PR("firestore");a&&CJ(i,...a)}return i}function Dx(t){if(t._terminated)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jJ(t),t._firestoreClient}function jJ(t){var r,i,a,s;const e=t._freezeSettings(),n=IJ(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new SJ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(nr.fromBase64String(e))}catch(n){throw new Se(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(m4(e,ki._jsonSchema))return ki.fromBase64String(e.bytes)}}ki._jsonSchemaVersion="firestore/bytes/1.0",ki._jsonSchema={type:kn("string",ki._jsonSchemaVersion),bytes:kn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:La._jsonSchemaVersion}}static fromJSON(e){if(m4(e,La._jsonSchema))return new La(e.latitude,e.longitude)}}La._jsonSchemaVersion="firestore/geoPoint/1.0",La._jsonSchema={type:kn("string",La._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:sa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(m4(e,sa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new sa(e.vectorValues);throw new Se(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sa._jsonSchemaVersion="firestore/vectorValue/1.0",sa._jsonSchema={type:kn("string",sa._jsonSchemaVersion),vectorValues:kn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ=/^__.*__$/;class MJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new g4(e,this.data,n,this.fieldTransforms)}}class l${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function c$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{dataSource:t})}}class Vx{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Vx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(c$(this.dataSource)&&RJ.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class $J{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jg(e)}createContext(e,n,r,i=!1){return new Vx({dataSource:e,methodName:n,targetDoc:r,path:Jn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n2(t){const e=t._freezeSettings(),n=Jg(t._databaseId);return new $J(t._databaseId,!!e.ignoreUndefinedProperties,n)}function u$(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);Ux("Data must be an object, but it was:",s,r);const o=d$(r,s);let l,c;if(a.merge)l=new ii(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=qc(e,d,n);if(!s.contains(h))throw new Se(ae.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);p$(u,h)||u.push(h)}l=new ii(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new MJ(new Fr(o),l,c)}class r2 extends Fx{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r2}}function DJ(t,e,n,r){const i=t.createContext(1,e,n);Ux("Data must be an object, but it was:",i,r);const a=[],s=Fr.empty();Js(r,(l,c)=>{const u=h$(e,l,n);c=At(c);const d=i.childContextForFieldPath(u);if(c instanceof r2)a.push(u);else{const h=b4(c,d);h!=null&&(a.push(u),s.set(u,h))}});const o=new ii(a);return new l$(s,o,i.fieldTransforms)}function LJ(t,e,n,r,i,a){const s=t.createContext(1,e,n),o=[qc(e,r,n)],l=[i];if(a.length%2!=0)throw new Se(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(qc(e,a[h])),l.push(a[h+1]);const c=[],u=Fr.empty();for(let h=o.length-1;h>=0;--h)if(!p$(c,o[h])){const p=o[h];let g=l[h];g=At(g);const x=s.childContextForFieldPath(p);if(g instanceof r2)c.push(p);else{const y=b4(g,x);y!=null&&(c.push(p),u.set(p,y))}}const d=new ii(c);return new l$(u,d,s.fieldTransforms)}function FJ(t,e,n,r=!1){return b4(n,t.createContext(r?4:3,e))}function b4(t,e){if(f$(t=At(t)))return Ux("Unsupported field value:",e,t),d$(t,e);if(t instanceof Fx)return function(r,i){if(!c$(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=b4(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _Y(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ht.fromDate(r);return{timestampValue:pm(i.serializer,a)}}if(r instanceof Ht){const a=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pm(i.serializer,a)}}if(r instanceof La)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ki)return{bytesValue:TM(i.serializer,r._byteString)};if(r instanceof xn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Sx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sa)return function(s,o){const l=s instanceof sa?s.toArray():s;return{mapValue:{fields:{[nM]:{stringValue:rM},[um]:{arrayValue:{values:l.map(u=>{if(typeof u!="number")throw o.createError("VectorValues must only contain numeric values.");return xx(o.serializer,u)})}}}}}}(r,i);if(RM(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${zg(r)}`)}(t,e)}function d$(t,e){const n={};return YR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,(r,i)=>{const a=b4(i,e.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function f$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ht||t instanceof La||t instanceof ki||t instanceof xn||t instanceof Fx||t instanceof sa||RM(t))}function Ux(t,e,n){if(!f$(n)||!KR(n)){const r=zg(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function qc(t,e,n){if((e=At(e))instanceof Lx)return e._internalPath;if(typeof e=="string")return h$(t,e);throw vm("Field path arguments must be of type string or ",t,!1,void 0,n)}const VJ=new RegExp("[~\\*/\\[\\]]");function h$(t,e,n){if(e.search(VJ)>=0)throw vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lx(...e.split("."))._internalPath}catch{throw vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vm(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Se(ae.INVALID_ARGUMENT,o+t+l)}function p$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Js(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[um].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>yn(s.doubleValue));return new sa(n)}convertGeoPoint(e){return new La(yn(e.latitude),yn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rh(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);kt(jM(r),9688,{name:e});const i=new ih(r.get(1),r.get(3)),a=new $e(r.popFirst(5));return i.isEqual(n)||T0(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends UJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}const wk="@firebase/firestore",_k="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(qc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BJ extends m${data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zx{}class y$ extends zx{}function zJ(t,e,...n){let r=[];e instanceof zx&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof Wx).length,o=a.filter(l=>l instanceof qx).length;if(s>1||s>0&&o>0)throw new Se(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qx extends y${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qx(e,n,r)}_apply(e){const n=this._parse(e);return v$(e._query,n),new eo(e.firestore,e.converter,p7(e._query,n))}_parse(e){const n=n2(e.firestore);return function(a,s,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){kk(d,u);const g=[];for(const x of d)g.push(Ek(l,a,x));h={arrayValue:{values:g}}}else h=Ek(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||kk(d,u),h=FJ(o,s,d,u==="in"||u==="not-in");return En.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Wx extends zx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:da.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)v$(s,l),s=p7(s,l)}(e._query,n),new eo(e.firestore,e.converter,p7(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hx extends y${constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hx(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sh(a,s)}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,pY(e._query,n))}}function qJ(t,e="asc"){const n=e,r=qc("orderBy",t);return Hx._create(r,n)}function Ek(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new Se(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dM(e)&&n.indexOf("/")!==-1)throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!$e.isDocumentKey(r))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LE(t,new $e(r))}if(n instanceof xn)return LE(t,n._key);throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zg(n)}.`)}function kk(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v$(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function x$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class qd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bo extends m${constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new x3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Bo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bo._jsonSchema={type:kn("string",Bo._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};class x3 extends Bo{data(e={}){return super.data(e)}}class zo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new x3(this._firestore,this._userDataWriter,r.key,r,new qd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new x3(i._firestore,i._userDataWriter,o.doc.key,o.doc,new qd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new x3(i._firestore,i._userDataWriter,o.doc.key,o.doc,new qd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:WJ(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zo._jsonSchemaVersion="firestore/querySnapshot/1.0",zo._jsonSchema={type:kn("string",zo._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};function HJ(t){t=Oi(t,eo);const e=Oi(t.firestore,Ws),n=Dx(e),r=new Bx(e);return g$(t._query),TJ(n,t._query).then(i=>new zo(e,r,t,i))}function GJ(t,e,n){t=Oi(t,xn);const r=Oi(t.firestore,Ws),i=x$(t.converter,e),a=n2(r);return i2(r,[u$(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ji.none())])}function KJ(t,e,n,...r){t=Oi(t,xn);const i=Oi(t.firestore,Ws),a=n2(i);let s;return s=typeof(e=At(e))=="string"||e instanceof Lx?LJ(a,"updateDoc",t._key,e,n,r):DJ(a,"updateDoc",t._key,e),i2(i,[s.toMutation(t._key,ji.exists(!0))])}function Pk(t){return i2(Oi(t.firestore,Ws),[new bx(t._key,ji.none())])}function QJ(t,e){const n=Oi(t.firestore,Ws),r=v3(t),i=x$(t.converter,e),a=n2(t.firestore);return i2(n,[u$(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ji.exists(!1))]).then(()=>r)}function Tk(t,...e){var c,u,d;t=At(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Sk(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Sk(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,s,o;if(t instanceof xn)s=Oi(t.firestore,Ws),o=vx(t._key.path),a={next:h=>{e[r]&&e[r](YJ(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Oi(t,eo);s=Oi(h.firestore,Ws),o=h._query;const p=new Bx(s);a={next:g=>{e[r]&&e[r](new zo(s,p,h,g))},error:e[r+1],complete:e[r+2]},g$(t._query)}const l=Dx(s);return PJ(l,o,i,a)}function i2(t,e){const n=Dx(t);return NJ(n,e)}function YJ(t,e,n){const r=n.docs.get(e._key),i=new Bx(t);return new Bo(t,i,e._key,r,new qd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){NQ(El),ua(new Di("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new Ws(new CQ(r.getProvider("auth-internal")),new RQ(s,r.getProvider("app-check-internal")),XQ(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Hr(wk,_k,e),Hr(wk,_k,"esm2020")})();var XJ="firebase",JJ="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(XJ,JJ,"app");function b$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZJ=b$,w$=new Sl("auth","Firebase",b$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=new Ug("@firebase/auth");function eZ(t,...e){xm.logLevel<=ct.WARN&&xm.warn(`Auth (${El}): ${t}`,...e)}function b3(t,...e){xm.logLevel<=ct.ERROR&&xm.error(`Auth (${El}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,...e){throw Kx(t,...e)}function oa(t,...e){return Kx(t,...e)}function Gx(t,e,n){const r={...ZJ(),[e]:n};return new Sl("auth","Firebase",r).create(e,{appName:t.name})}function v0(t){return Gx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tZ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Li(t,"argument-error"),Gx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return w$.create(t,...e)}function ze(t,e,...n){if(!t)throw Kx(e,...n)}function c0(t){const e="INTERNAL ASSERTION FAILED: "+t;throw b3(e),new Error(e)}function A0(t,e){t||c0(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function nZ(){return Nk()==="http:"||Nk()==="https:"}function Nk(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nZ()||IR()||"connection"in navigator)?navigator.onLine:!0}function iZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n){this.shortDelay=e,this.longDelay=n,A0(n>e,"Short delay should be less than long delay!"),this.isMobile=rK()||sK()}get(){return rZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t,e){A0(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;c0("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;c0("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;c0("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oZ=new w4(3e4,6e4);function to(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ga(t,e,n,r,i={}){return S$(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=p4({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return aK()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ys(t.emulatorConfig.host)&&(c.credentials="include"),_$.fetch()(await E$(t,t.config.apiHost,n,o),c)})}async function S$(t,e,n){t._canInitEmulator=!1;const r={...aZ,...e};try{const i=new cZ(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw wp(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw wp(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw wp(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw wp(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Gx(t,u,c);Li(t,u)}}catch(i){if(i instanceof Vi)throw i;Li(t,"network-request-failed",{message:String(i)})}}async function _4(t,e,n,r,i={}){const a=await Ga(t,e,n,r,i);return"mfaPendingCredential"in a&&Li(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function E$(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?Qx(t.config,i):`${t.config.apiScheme}://${i}`;return sZ.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function lZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oa(this.auth,"network-request-failed")),oZ.get())})}}function wp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oa(t,e,r);return i.customData._tokenResponse=n,i}function Ak(t){return t!==void 0&&t.enterprise!==void 0}class uZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dZ(t,e){return Ga(t,"GET","/v2/recaptchaConfig",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fZ(t,e){return Ga(t,"POST","/v1/accounts:delete",e)}async function bm(t,e){return Ga(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hZ(t,e=!1){const n=At(t),r=await n.getIdToken(e),i=Yx(r);ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:wf(n6(i.auth_time)),issuedAtTime:wf(n6(i.iat)),expirationTime:wf(n6(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function n6(t){return Number(t)*1e3}function Yx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return b3("JWT malformed, contained fewer than 3 sections"),null;try{const i=ER(n);return i?JSON.parse(i):(b3("Failed to decode base64 JWT payload"),null)}catch(i){return b3("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ik(t){const e=Yx(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vi&&pZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wf(this.lastLoginAt),this.creationTime=wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(t){var d;const e=t.auth,n=await t.getIdToken(),r=await nl(t,bm(e,{idToken:n}));ze(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(d=i.providerUserInfo)!=null&&d.length?k$(i.providerUserInfo):[],s=yZ(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new T7(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function gZ(t){const e=At(t);await wm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function k$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vZ(t,e){const n=await S$(t,{},async()=>{const r=p4({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await E$(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Ys(t.emulatorConfig.host)&&(l.credentials="include"),_$.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xZ(t,e){return Ga(t,"POST","/v2/accounts:revokeToken",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ik(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=Ik(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await vZ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new wc;return r&&(ze(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ze(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ze(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wc,this.toJSON())}_performRefresh(){return c0("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ji{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new mZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new T7(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await nl(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hZ(this,e)}reload(){return gZ(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(v0(this.auth));const e=await this.getIdToken();return await nl(this,fZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:x}=n;ze(d&&x,e,"internal-error");const y=wc.fromJSON(this.name,x);ze(typeof d=="string",e,"internal-error"),K0(r,e.name),K0(i,e.name),ze(typeof h=="boolean",e,"internal-error"),ze(typeof p=="boolean",e,"internal-error"),K0(a,e.name),K0(s,e.name),K0(o,e.name),K0(l,e.name),K0(c,e.name),K0(u,e.name);const v=new Ji({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:y,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(v.providerData=g.map(b=>({...b}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new wc;i.updateFromServerResponse(n);const a=new Ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?k$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new wc;o.updateFromIdToken(r);const l=new Ji({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new T7(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new Map;function u0(t){A0(t instanceof Function,"Expected a class definition");let e=Ck.get(t);return e?(A0(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ck.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P$.type="NONE";const Ok=P$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t,e,n){return`firebase:${t}:${e}:${n}`}class _c{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=w3(this.userKey,i.apiKey,a),this.fullPersistenceKey=w3("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bm(this.auth,{idToken:e}).catch(()=>{});return n?Ji._fromGetAccountInfoResponse(this.auth,n,e):null}return Ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _c(u0(Ok),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||u0(Ok);const s=w3(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){let d;if(typeof u=="string"){const h=await bm(e,{idToken:u}).catch(()=>{});if(!h)break;d=await Ji._fromGetAccountInfoResponse(e,h,u)}else d=Ji._fromJSON(e,u);c!==a&&(o=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new _c(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new _c(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O$(e))return"Blackberry";if(j$(e))return"Webos";if(N$(e))return"Safari";if((e.includes("chrome/")||A$(e))&&!e.includes("edge/"))return"Chrome";if(C$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function T$(t=pr()){return/firefox\//i.test(t)}function N$(t=pr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A$(t=pr()){return/crios\//i.test(t)}function I$(t=pr()){return/iemobile/i.test(t)}function C$(t=pr()){return/android/i.test(t)}function O$(t=pr()){return/blackberry/i.test(t)}function j$(t=pr()){return/webos/i.test(t)}function Xx(t=pr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bZ(t=pr()){var e;return Xx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function wZ(){return oK()&&document.documentMode===10}function R$(t=pr()){return Xx(t)||C$(t)||j$(t)||O$(t)||/windows phone/i.test(t)||I$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t,e=[]){let n;switch(t){case"Browser":n=jk(pr());break;case"Worker":n=`${jk(pr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${El}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SZ(t,e={}){return Ga(t,"GET","/v2/passwordPolicy",to(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=6;class kZ{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??EZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rk(this),this.idTokenSubscription=new Rk(this),this.beforeStateQueue=new _Z(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=u0(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await _c.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bm(this,{idToken:e}),r=await Ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Lr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(v0(this));const n=e?At(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(v0(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(v0(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(u0(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SZ(this),n=new kZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&u0(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await _c.create(this,[u0(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&eZ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function no(t){return At(t)}class Rk{constructor(e){this.auth=e,this.observer=null,this.addObserver=pK(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TZ(t){a2=t}function $$(t){return a2.loadJS(t)}function NZ(){return a2.recaptchaEnterpriseScript}function AZ(){return a2.gapiScript}function IZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class CZ{constructor(){this.enterprise=new OZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class OZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jZ="recaptcha-enterprise",D$="NO_RECAPTCHA";class RZ{constructor(e){this.type=jZ,this.auth=no(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{dZ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new uZ(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;Ak(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(D$)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CZ().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&Ak(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=NZ();l.length!==0&&(l+=o),$$(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function Mk(t,e,n,r=!1,i=!1){const a=new RZ(t);let s;if(i)s=D$;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function N7(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Mk(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Mk(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MZ(t,e){const n=Xs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Ls(a,e??{}))return i;Li(i,"already-initialized")}return n.initialize({options:e})}function $Z(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(u0);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DZ(t,e,n){const r=no(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=L$(e),{host:s,port:o}=LZ(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(Ls(c,r.config.emulator)&&Ls(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Ys(s)?(lx(`${a}//${s}${l}`),cx("Auth",!0)):FZ()}function L$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LZ(t){const e=L$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:$k(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:$k(s)}}}function $k(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return c0("not implemented")}_getIdTokenResponse(e){return c0("not implemented")}_linkToIdToken(e,n){return c0("not implemented")}_getReauthenticationResolver(e){return c0("not implemented")}}async function VZ(t,e){return Ga(t,"POST","/v1/accounts:update",e)}async function UZ(t,e){return Ga(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BZ(t,e){return _4(t,"POST","/v1/accounts:signInWithPassword",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zZ(t,e){return _4(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}async function qZ(t,e){return _4(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends Jx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ch(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ch(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N7(e,n,"signInWithPassword",BZ);case"emailLink":return zZ(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N7(e,r,"signUpPassword",UZ);case"emailLink":return qZ(e,{idToken:n,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t,e){return _4(t,"POST","/v1/accounts:signInWithIdp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZ="http://localhost";class rl extends Jx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new rl(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Sc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sc(e,n)}buildRequest(){const e={requestUri:WZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=p4(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GZ(t){const e=Fd(Vd(t)).link,n=e?Fd(Vd(e)).deep_link_id:null,r=Fd(Vd(t)).deep_link_id;return(r?Fd(Vd(r)).link:null)||r||n||e||t}class Zx{constructor(e){const n=Fd(Vd(e)),r=n.apiKey??null,i=n.oobCode??null,a=HZ(n.mode??null);ze(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=GZ(e);try{return new Zx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,n){return ch._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zx.parseLink(n);return ze(r,"argument-error"),ch._fromEmailAndCode(e,r.code,r.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4 extends eb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends S4{constructor(){super("facebook.com")}static credential(e){return rl._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0 extends S4{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rl._fromParams({providerId:r0.PROVIDER_ID,signInMethod:r0.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return r0.credentialFromTaggedObject(e)}static credentialFromError(e){return r0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return r0.credential(n,r)}catch{return null}}}r0.GOOGLE_SIGN_IN_METHOD="google.com";r0.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends S4{constructor(){super("github.com")}static credential(e){return rl._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends S4{constructor(){super("twitter.com")}static credential(e,n){return rl._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return os.credential(n,r)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KZ(t,e){return _4(t,"POST","/v1/accounts:signUp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ji._fromIdTokenResponse(e,r,i),s=Dk(r);return new il({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Dk(r);return new il({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Dk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends Vi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _m(e,n,r,i)}}function F$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(t,a,e,r):a})}async function QZ(t,e,n=!1){const r=await nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return il._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(t,e,n=!1){const{auth:r}=t;if(Lr(r.app))return Promise.reject(v0(r));const i="reauthenticate";try{const a=await nl(t,F$(r,i,e,t),n);ze(a.idToken,r,"internal-error");const s=Yx(a.idToken);ze(s,r,"internal-error");const{sub:o}=s;return ze(t.uid===o,r,"user-mismatch"),il._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Li(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e,n=!1){if(Lr(t.app))return Promise.reject(v0(t));const r="signIn",i=await F$(t,r,e),a=await il._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function YZ(t,e){return U$(no(t),e)}async function XZ(t,e){return V$(At(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(t){const e=no(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JZ(t,e,n){if(Lr(t.app))return Promise.reject(v0(t));const r=no(t),s=await N7(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KZ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&B$(t),l}),o=await il._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function ZZ(t,e,n){return Lr(t.app)?Promise.reject(v0(t)):YZ(At(t),Tl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&B$(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eee(t,e){return Ga(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=At(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await nl(r,eee(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function tee(t,e){return nee(At(t),null,e)}async function nee(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const s=await nl(t,VZ(r,a));await t._updateTokensIfNecessary(s,!0)}function ree(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function iee(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function aee(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function see(t){return At(t).signOut()}const Sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sm,"1"),this.storage.removeItem(Sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee=1e3,lee=10;class q$ extends z${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);wZ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}q$.type="LOCAL";const cee=q$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W$ extends z${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}W$.type="SESSION";const H$=W$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new s2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await uee(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}s2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=tb("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(){return window}function fee(t){Fa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(){return typeof Fa().WorkerGlobalScope<"u"&&typeof Fa().importScripts=="function"}async function hee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function mee(){return G$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$="firebaseLocalStorageDb",gee=1,Em="firebaseLocalStorage",Q$="fbase_key";class E4{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function o2(t,e){return t.transaction([Em],e?"readwrite":"readonly").objectStore(Em)}function yee(){const t=indexedDB.deleteDatabase(K$);return new E4(t).toPromise()}function A7(){const t=indexedDB.open(K$,gee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Em,{keyPath:Q$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Em)?e(r):(r.close(),await yee(),e(await A7()))})})}async function Lk(t,e,n){const r=o2(t,!0).put({[Q$]:e,value:n});return new E4(r).toPromise()}async function vee(t,e){const n=o2(t,!1).get(e),r=await new E4(n).toPromise();return r===void 0?null:r.value}function Fk(t,e){const n=o2(t,!0).delete(e);return new E4(n).toPromise()}const xee=800,bee=3;class Y${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await A7(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=s2._getInstance(mee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await hee(),!this.activeServiceWorker)return;this.sender=new dee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await A7();return await Lk(e,Sm,"1"),await Fk(e,Sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=o2(i,!1).getAll();return new E4(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y$.type="LOCAL";const wee=Y$;new w4(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t,e){return e?u0(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb extends Jx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _ee(t){return U$(t.auth,new nb(t),t.bypassAuthState)}function See(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),V$(n,new nb(t),t.bypassAuthState)}async function Eee(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),QZ(n,new nb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _ee;case"linkViaPopup":case"linkViaRedirect":return Eee;case"reauthViaPopup":case"reauthViaRedirect":return See;default:Li(this.auth,"internal-error")}}resolve(e){A0(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){A0(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kee=new w4(2e3,1e4);async function Pee(t,e,n){if(Lr(t.app))return Promise.reject(oa(t,"operation-not-supported-in-this-environment"));const r=no(t);tZ(t,e,eb);const i=X$(r,n);return new Oo(r,"signInViaPopup",e,i).executeNotNull()}class Oo extends J${constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){A0(this.filter.length===1,"Popup operations only handle one event");const e=tb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(oa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kee.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee="pendingRedirect",_3=new Map;class Nee extends J${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_3.get(this.auth._key());if(!e){try{const r=await Aee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_3.set(this.auth._key(),e)}return this.bypassAuthState||_3.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Aee(t,e){const n=Oee(e),r=Cee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Iee(t,e){_3.set(t._key(),e)}function Cee(t){return u0(t._redirectPersistence)}function Oee(t){return w3(Tee,t.config.apiKey,t.name)}async function jee(t,e,n=!1){if(Lr(t.app))return Promise.reject(v0(t));const r=no(t),i=X$(r,e),s=await new Nee(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=10*60*1e3;class Mee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$ee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Z$(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(oa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ree&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vk(e))}saveEventToCache(e){this.cachedEventUids.add(Vk(e)),this.lastProcessedEventTime=Date.now()}}function Vk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Z$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $ee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dee(t,e={}){return Ga(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fee=/^https?/;async function Vee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Dee(t);for(const n of e)try{if(Uee(n))return}catch{}Li(t,"unauthorized-domain")}function Uee(t){const e=P7(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Fee.test(n))return!1;if(Lee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee=new w4(3e4,6e4);function Uk(){const t=Fa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zee(t){return new Promise((e,n)=>{var i,a,s;function r(){Uk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uk(),n(oa(t,"network-request-failed"))},timeout:Bee.get()})}if((a=(i=Fa().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=Fa().gapi)!=null&&s.load)r();else{const o=IZ("iframefcb");return Fa()[o]=()=>{gapi.load?r():n(oa(t,"network-request-failed"))},$$(`${AZ()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw S3=null,e})}let S3=null;function qee(t){return S3=S3||zee(t),S3}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee=new w4(5e3,15e3),Hee="__/auth/iframe",Gee="emulator/auth/iframe",Kee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yee(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qx(e,Gee):`https://${t.config.authDomain}/${Hee}`,r={apiKey:e.apiKey,appName:t.name,v:El},i=Qee.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${p4(r).slice(1)}`}async function Xee(t){const e=await qee(t),n=Fa().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:Yee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kee,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=oa(t,"network-request-failed"),o=Fa().setTimeout(()=>{a(s)},Wee.get());function l(){Fa().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zee=500,ete=600,tte="_blank",nte="http://localhost";class Bk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rte(t,e,n,r=Zee,i=ete){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Jee,width:r.toString(),height:i.toString(),top:a,left:s},c=pr().toLowerCase();n&&(o=A$(c)?tte:n),T$(c)&&(e=e||nte,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(bZ(c)&&o!=="_self")return ite(e||"",o),new Bk(null);const d=window.open(e||"",o,u);ze(d,t,"popup-blocked");try{d.focus()}catch{}return new Bk(d)}function ite(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate="__/auth/handler",ste="emulator/auth/handler",ote=encodeURIComponent("fac");async function zk(t,e,n,r,i,a){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:El,eventId:i};if(e instanceof eb){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",hK(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof S4){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${ote}=${encodeURIComponent(l)}`:"";return`${lte(t)}?${p4(o).slice(1)}${c}`}function lte({config:t}){return t.emulator?Qx(t,ste):`https://${t.authDomain}/${ate}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="webStorageSupport";class cte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H$,this._completeRedirectFn=jee,this._overrideRedirectResult=Iee}async _openPopup(e,n,r,i){var s;A0((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await zk(e,n,r,P7(),i);return rte(e,a,tb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await zk(e,n,r,P7(),i);return fee(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(A0(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xee(e),r=new Mee(e);return n.register("authEvent",i=>(ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(i6,{type:i6},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[i6];a!==void 0&&n(!!a),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R$()||N$()||Xx()}}const ute=cte;var qk="@firebase/auth",Wk="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hte(t){ua(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ze(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M$(t)},c=new PZ(r,i,a,l);return $Z(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ua(new Di("auth-internal",e=>{const n=no(e.getProvider("auth").getImmediate());return(r=>new dte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(qk,Wk,fte(t)),Hr(qk,Wk,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte=5*60,mte=NR("authIdTokenMaxAge")||pte;let Hk=null;const gte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mte)return;const i=n==null?void 0:n.token;Hk!==i&&(Hk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yte(t=Bg()){const e=Xs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MZ(t,{popupRedirectResolver:ute,persistence:[wee,cee,H$]}),r=NR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=gte(a.toString());iee(n,s,()=>s(n.currentUser)),ree(n,o=>s(o))}}const i=kR("auth");return i&&DZ(n,`http://${i}`),n}function vte(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}TZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=oa("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",vte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hte("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="firebasestorage.googleapis.com",tD="storageBucket",xte=2*60*1e3,bte=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn extends Vi{constructor(e,n,r=0){super(a6(e),`Firebase Storage: ${n} (${a6(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return a6(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mn||(mn={}));function a6(t){return"storage/"+t}function rb(){const t="An unknown error occurred, please check the error payload for server response.";return new gn(mn.UNKNOWN,t)}function wte(t){return new gn(mn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _te(t){return new gn(mn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ste(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gn(mn.UNAUTHENTICATED,t)}function Ete(){return new gn(mn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kte(t){return new gn(mn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Pte(){return new gn(mn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Tte(){return new gn(mn.CANCELED,"User canceled the upload/download.")}function Nte(t){return new gn(mn.INVALID_URL,"Invalid URL '"+t+"'.")}function Ate(t){return new gn(mn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ite(){return new gn(mn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tD+"' property when initializing the app?")}function Cte(){return new gn(mn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ote(){return new gn(mn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jte(t){return new gn(mn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function I7(t){return new gn(mn.INVALID_ARGUMENT,t)}function nD(){return new gn(mn.APP_DELETED,"The Firebase app was deleted.")}function Rte(t){return new gn(mn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _f(t,e){return new gn(mn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function md(t){throw new gn(mn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ai.makeFromUrl(e,n)}catch{return new ai(e,"")}if(r.path==="")return r;throw Ate(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},x=n===eD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",v=new RegExp(`^https?://${x}/${i}/${y}`,"i"),w=[{regex:o,indices:l,postModify:a},{regex:p,indices:g,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<w.length;S++){const E=w[S],P=E.regex.exec(e);if(P){const _=P[E.indices.bucket];let k=P[E.indices.path];k||(k=""),r=new ai(_,k),E.postModify(r);break}}if(r==null)throw Nte(e);return r}}class Mte{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $te(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){a&&clearTimeout(a)}function p(y,...v){if(c){h();return}if(y){h(),u.call(null,y,...v);return}if(l()||s){h(),u.call(null,y,...v);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function x(y){g||(g=!0,h(),!c&&(i!==null?(y||(o=2),clearTimeout(i),d(0)):y||(o=1)))}return d(0),a=setTimeout(()=>{s=!0,x(!0)},n),x}function Dte(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lte(t){return t!==void 0}function Fte(t){return typeof t=="object"&&!Array.isArray(t)}function ib(t){return typeof t=="string"||t instanceof String}function Gk(t){return ab()&&t instanceof Blob}function ab(){return typeof Blob<"u"}function Kk(t,e,n,r){if(r<e)throw I7(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw I7(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function rD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var qo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qo||(qo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vte(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e,n,r,i,a,s,o,l,c,u,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,x)=>{this.resolve_=g,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _p(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===qo.NO_ERROR,l=a.getStatus();if(!o||Vte(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===qo.ABORT;r(!1,new _p(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new _p(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Lte(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=rb();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?nD():Tte();s(l)}else{const l=Pte();s(l)}};this.canceled_?n(!1,new _p(!1,null,!0)):this.backoffId_=$te(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Dte(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _p{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Bte(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zte(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qte(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Wte(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Hte(t,e,n,r,i,a,s=!0,o=!1){const l=rD(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return qte(u,e),Bte(u,n),zte(u,a),Wte(u,r),new Ute(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gte(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kte(...t){const e=Gte();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ab())return new Blob(t);throw new gn(mn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Qte(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yte(t){if(typeof atob>"u")throw jte("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class s6{constructor(e,n){this.data=e,this.contentType=n||null}}function Xte(t,e){switch(t){case Na.RAW:return new s6(iD(e));case Na.BASE64:case Na.BASE64URL:return new s6(aD(t,e));case Na.DATA_URL:return new s6(Zte(e),ene(e))}throw rb()}function iD(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Jte(t){let e;try{e=decodeURIComponent(t)}catch{throw _f(Na.DATA_URL,"Malformed data URL.")}return iD(e)}function aD(t,e){switch(t){case Na.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw _f(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Na.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw _f(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Yte(e)}catch(i){throw i.message.includes("polyfill")?i:_f(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class sD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _f(Na.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=tne(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Zte(t){const e=new sD(t);return e.base64?aD(Na.BASE64,e.rest):Jte(e.rest)}function ene(t){return new sD(t).contentType}function tne(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){let r=0,i="";Gk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Gk(this.data_)){const r=this.data_,i=Qte(r,e,n);return i===null?null:new ls(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ls(r,!0)}}static getBlob(...e){if(ab()){const n=e.map(r=>r instanceof ls?r.data_:r);return new ls(Kte.apply(null,n))}else{const n=e.map(s=>ib(s)?Xte(Na.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new ls(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){let e;try{e=JSON.parse(t)}catch{return null}return Fte(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nne(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rne(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ine(t,e){return e}class mr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ine}}let Sp=null;function ane(t){return!ib(t)||t.length<2?t:lD(t)}function cD(){if(Sp)return Sp;const t=[];t.push(new mr("bucket")),t.push(new mr("generation")),t.push(new mr("metageneration")),t.push(new mr("name","fullPath",!0));function e(a,s){return ane(s)}const n=new mr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new mr("size");return i.xform=r,t.push(i),t.push(new mr("timeCreated")),t.push(new mr("updated")),t.push(new mr("md5Hash",null,!0)),t.push(new mr("cacheControl",null,!0)),t.push(new mr("contentDisposition",null,!0)),t.push(new mr("contentEncoding",null,!0)),t.push(new mr("contentLanguage",null,!0)),t.push(new mr("contentType",null,!0)),t.push(new mr("metadata","customMetadata",!0)),Sp=t,Sp}function sne(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new ai(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function one(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return sne(r,t),r}function uD(t,e,n){const r=oD(e);return r===null?null:one(t,r,n)}function lne(t,e,n,r){const i=oD(e);if(i===null||!ib(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+s(u)+"/o/"+s(d),p=sb(h,n,r),g=rD({alt:"media",token:c});return p+g})[0]}function cne(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class dD{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){if(!t)throw rb()}function une(t,e){function n(r,i){const a=uD(t,i,e);return fD(a!==null),a}return n}function dne(t,e){function n(r,i){const a=uD(t,i,e);return fD(a!==null),lne(a,i,t.host,t._protocol)}return n}function hD(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Ete():i=Ste():n.getStatus()===402?i=_te(t.bucket):n.getStatus()===403?i=kte(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function fne(t){const e=hD(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=wte(t.path)),a.serverResponse=i.serverResponse,a}return n}function hne(t,e,n){const r=e.fullServerUrl(),i=sb(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new dD(i,a,dne(t,n),s);return o.errorHandler=fne(e),o}function pne(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function mne(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=pne(null,e)),r}function gne(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let S=0;S<2;S++)w=w+Math.random().toString().slice(2);return w}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const c=mne(e,r,i),u=cne(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=ls.getBlob(d,r,h);if(p===null)throw Cte();const g={name:c.fullPath},x=sb(a,t.host,t._protocol),y="POST",v=t.maxUploadRetryTime,b=new dD(x,y,une(t,n),v);return b.urlParams=g,b.headers=s,b.body=p.uploadData(),b.errorHandler=hD(e),b}class yne{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw md("cannot .send() more than once");if(Ys(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw md("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw md("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw md("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw md("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vne extends yne{initXhr(){this.xhr_.responseType="text"}}function pD(){return new vne}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this._service=e,n instanceof ai?this._location=n:this._location=ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new al(e,n)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lD(this._location.path)}get storage(){return this._service}get parent(){const e=nne(this._location.path);if(e===null)return null;const n=new ai(this._location.bucket,e);return new al(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Rte(e)}}function xne(t,e,n){t._throwIfRoot("uploadBytes");const r=gne(t.storage,t._location,cD(),new ls(e,!0),n);return t.storage.makeRequestWithTokens(r,pD).then(i=>({metadata:i,ref:t}))}function bne(t){t._throwIfRoot("getDownloadURL");const e=hne(t.storage,t._location,cD());return t.storage.makeRequestWithTokens(e,pD).then(n=>{if(n===null)throw Ote();return n})}function wne(t,e){const n=rne(t._location.path,e),r=new ai(t._location.bucket,n);return new al(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ne(t){return/^[A-Za-z]+:\/\//.test(t)}function Sne(t,e){return new al(t,e)}function mD(t,e){if(t instanceof ob){const n=t;if(n._bucket==null)throw Ite();const r=new al(n,n._bucket);return e!=null?mD(r,e):r}else return e!==void 0?wne(t,e):t}function Ene(t,e){if(e&&_ne(e)){if(t instanceof ob)return Sne(t,e);throw I7("To use ref(service, url), the first argument must be a Storage instance.")}else return mD(t,e)}function Qk(t,e){const n=e==null?void 0:e[tD];return n==null?null:ai.makeFromBucketSpec(n,t)}function kne(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ys(e);i&&(lx(`https://${t.host}/b`),cx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:AR(a,t.app.options.projectId))}class ob{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=eD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xte,this._maxUploadRetryTime=bte,this._requests=new Set,i!=null?this._bucket=ai.makeFromBucketSpec(i,this._host):this._bucket=Qk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,e):this._bucket=Qk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Kk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Kk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new al(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Mte(nD());{const s=Hte(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Yk="@firebase/storage",Xk="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="storage";function Pne(t,e,n){return t=At(t),xne(t,e,n)}function Tne(t){return t=At(t),bne(t)}function Nne(t,e){return t=At(t),Ene(t,e)}function Ane(t=Bg(),e){t=At(t);const r=Xs(t,gD).getImmediate({identifier:e}),i=PR("storage");return i&&Ine(r,...i),r}function Ine(t,e,n,r={}){kne(t,e,n,r)}function Cne(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ob(n,r,i,e,El)}function One(){ua(new Di(gD,Cne,"PUBLIC").setMultipleInstances(!0)),Hr(Yk,Xk,""),Hr(Yk,Xk,"esm2020")}One();const yD="@firebase/installations",lb="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=1e4,xD=`w:${lb}`,bD="FIS_v2",jne="https://firebaseinstallations.googleapis.com/v1",Rne=60*60*1e3,Mne="installations",$ne="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dne={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sl=new Sl(Mne,$ne,Dne);function wD(t){return t instanceof Vi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D({projectId:t}){return`${jne}/projects/${t}/installations`}function SD(t){return{token:t.token,requestStatus:2,expiresIn:Fne(t.expiresIn),creationTime:Date.now()}}async function ED(t,e){const r=(await e.json()).error;return sl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Lne(t,{refreshToken:e}){const n=kD(t);return n.append("Authorization",Vne(e)),n}async function PD(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Fne(t){return Number(t.replace("s","000"))}function Vne(t){return`${bD} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Une({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_D(t),i=kD(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:bD,appId:t.appId,sdkVersion:xD},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await PD(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:SD(c.authToken)}}else throw await ED("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bne(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zne=/^[cdef][\w-]{21}$/,C7="";function qne(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Wne(t);return zne.test(n)?n:C7}catch{return C7}}function Wne(t){return Bne(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new Map;function AD(t,e){const n=l2(t);ID(n,e),Hne(n,e)}function ID(t,e){const n=ND.get(t);if(n)for(const r of n)r(e)}function Hne(t,e){const n=Gne();n&&n.postMessage({key:t,fid:e}),Kne()}let jo=null;function Gne(){return!jo&&"BroadcastChannel"in self&&(jo=new BroadcastChannel("[Firebase] FID Change"),jo.onmessage=t=>{ID(t.data.key,t.data.fid)}),jo}function Kne(){ND.size===0&&jo&&(jo.close(),jo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qne="firebase-installations-database",Yne=1,ol="firebase-installations-store";let o6=null;function cb(){return o6||(o6=MR(Qne,Yne,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ol)}}})),o6}async function km(t,e){const n=l2(t),i=(await cb()).transaction(ol,"readwrite"),a=i.objectStore(ol),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&AD(t,e.fid),e}async function CD(t){const e=l2(t),r=(await cb()).transaction(ol,"readwrite");await r.objectStore(ol).delete(e),await r.done}async function c2(t,e){const n=l2(t),i=(await cb()).transaction(ol,"readwrite"),a=i.objectStore(ol),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&AD(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(t){let e;const n=await c2(t.appConfig,r=>{const i=Xne(r),a=Jne(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===C7?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Xne(t){const e=t||{fid:qne(),registrationStatus:0};return OD(e)}function Jne(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(sl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Zne(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ere(t)}:{installationEntry:e}}async function Zne(t,e){try{const n=await Une(t,e);return km(t.appConfig,n)}catch(n){throw wD(n)&&n.customData.serverCode===409?await CD(t.appConfig):await km(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function ere(t){let e=await Jk(t.appConfig);for(;e.registrationStatus===1;)await TD(100),e=await Jk(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ub(t);return r||n}return e}function Jk(t){return c2(t,e=>{if(!e)throw sl.create("installation-not-found");return OD(e)})}function OD(t){return tre(t)?{fid:t.fid,registrationStatus:0}:t}function tre(t){return t.registrationStatus===1&&t.registrationTime+vD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nre({appConfig:t,heartbeatServiceProvider:e},n){const r=rre(t,n),i=Lne(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:xD,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await PD(()=>fetch(r,o));if(l.ok){const c=await l.json();return SD(c)}else throw await ED("Generate Auth Token",l)}function rre(t,{fid:e}){return`${_D(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(t,e=!1){let n;const r=await c2(t.appConfig,a=>{if(!jD(a))throw sl.create("not-registered");const s=a.authToken;if(!e&&sre(s))return a;if(s.requestStatus===1)return n=ire(t,e),a;{if(!navigator.onLine)throw sl.create("app-offline");const o=lre(a);return n=are(t,o),o}});return n?await n:r.authToken}async function ire(t,e){let n=await Zk(t.appConfig);for(;n.authToken.requestStatus===1;)await TD(100),n=await Zk(t.appConfig);const r=n.authToken;return r.requestStatus===0?db(t,e):r}function Zk(t){return c2(t,e=>{if(!jD(e))throw sl.create("not-registered");const n=e.authToken;return cre(n)?{...e,authToken:{requestStatus:0}}:e})}async function are(t,e){try{const n=await nre(t,e),r={...e,authToken:n};return await km(t.appConfig,r),n}catch(n){if(wD(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await CD(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await km(t.appConfig,r)}throw n}}function jD(t){return t!==void 0&&t.registrationStatus===2}function sre(t){return t.requestStatus===2&&!ore(t)}function ore(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Rne}function lre(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function cre(t){return t.requestStatus===1&&t.requestTime+vD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ure(t){const e=t,{installationEntry:n,registrationPromise:r}=await ub(e);return r?r.catch(console.error):db(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dre(t,e=!1){const n=t;return await fre(n),(await db(n,e)).token}async function fre(t){const{registrationPromise:e}=await ub(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hre(t){if(!t||!t.options)throw l6("App Configuration");if(!t.name)throw l6("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw l6(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function l6(t){return sl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="installations",pre="installations-internal",mre=t=>{const e=t.getProvider("app").getImmediate(),n=hre(e),r=Xs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gre=t=>{const e=t.getProvider("app").getImmediate(),n=Xs(e,RD).getImmediate();return{getId:()=>ure(n),getToken:i=>dre(n,i)}};function yre(){ua(new Di(RD,mre,"PUBLIC")),ua(new Di(pre,gre,"PRIVATE"))}yre();Hr(yD,lb);Hr(yD,lb,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="analytics",vre="firebase_id",xre="origin",bre=60*1e3,wre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Ug("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _re={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ui=new Sl("analytics","Analytics",_re);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(t){if(!t.startsWith(fb)){const e=ui.create("invalid-gtag-resource",{gtagURL:t});return Tr.warn(e.message),""}return t}function MD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Ere(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function kre(t,e){const n=Ere("firebase-js-sdk-policy",{createScriptURL:Sre}),r=document.createElement("script"),i=`${fb}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Pre(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Tre(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const l=(await MD(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){Tr.error(o)}t("config",i,a)}async function Nre(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await MD(n);for(const l of s){const c=o.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Tr.error(a)}}function Are(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,l]=s;await Nre(t,e,n,o,l)}else if(a==="config"){const[o,l]=s;await Tre(t,e,n,r,o,l)}else if(a==="consent"){const[o,l]=s;t("consent",o,l)}else if(a==="get"){const[o,l,c]=s;t("get",o,l,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){Tr.error(o)}}return i}function Ire(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Are(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function Cre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(fb)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ore=30,jre=1e3;class Rre{constructor(e={},n=jre){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $D=new Rre;function Mre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $re(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Mre(n)},i=wre.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw ui.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function Dre(t,e=$D,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw ui.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw ui.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Vre;return setTimeout(async()=>{o.abort()},bre),DD({appId:r,apiKey:i,measurementId:a},s,o,e)}async function DD(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=$D){var o;const{appId:a,measurementId:s}=t;try{await Lre(r,e)}catch(l){if(s)return Tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await $re(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!Fre(c)){if(i.deleteThrottleMetadata(a),s)return Tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?yE(n,i.intervalMillis,Ore):yE(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,d),Tr.debug(`Calling attemptFetch again in ${u} millis`),DD(t,d,r,i)}}function Lre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(ui.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Fre(t){if(!(t instanceof Vi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Vre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ure(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function Bre(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zre(){if(CR())try{await OR()}catch(t){return Tr.warn(ui.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Tr.warn(ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qre(t,e,n,r,i,a,s){const o=Dre(t);o.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Tr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Tr.error(h)),e.push(o);const l=zre().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([o,l]);Cre(a)||kre(a,c.measurementId),i("js",new Date);const d=(s==null?void 0:s.config)??{};return d[xre]="firebase",d.update=!0,u!=null&&(d[vre]=u),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(e){this.app=e}_delete(){return delete Ec[this.app.options.appId],Promise.resolve()}}let Ec={},eP=[];const tP={};let c6="dataLayer",Hre="gtag",nP,hb,rP=!1;function Gre(){const t=[];if(IR()&&t.push("This is a browser extension environment."),cK()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ui.create("invalid-analytics-context",{errorInfo:e});Tr.warn(n.message)}}function Kre(t,e,n){Gre();const r=t.options.appId;if(!r)throw ui.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ui.create("no-api-key");if(Ec[r]!=null)throw ui.create("already-exists",{id:r});if(!rP){Pre(c6);const{wrappedGtag:a,gtagCore:s}=Ire(Ec,eP,tP,c6,Hre);hb=a,nP=s,rP=!0}return Ec[r]=qre(t,eP,tP,e,nP,c6,n),new Wre(t)}function Qre(t=Bg()){t=At(t);const e=Xs(t,Pm);return e.isInitialized()?e.getImmediate():Yre(t)}function Yre(t,e={}){const n=Xs(t,Pm);if(n.isInitialized()){const i=n.getImmediate();if(Ls(e,n.getOptions()))return i;throw ui.create("already-initialized")}return n.initialize({options:e})}function Xre(t,e,n){t=At(t),Bre(hb,Ec[t.app.options.appId],e,n).catch(r=>Tr.error(r))}function Jre(t,e,n,r){t=At(t),Ure(hb,Ec[t.app.options.appId],e,n,r).catch(i=>Tr.error(i))}const iP="@firebase/analytics",aP="0.10.19";function Zre(){ua(new Di(Pm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Kre(r,i,n)},"PUBLIC")),ua(new Di("analytics-internal",t,"PRIVATE")),Hr(iP,aP),Hr(iP,aP,"esm2020");function t(e){try{const n=e.getProvider(Pm).getImmediate();return{logEvent:(r,i,a)=>Jre(n,r,i,a),setUserProperties:(r,i)=>Xre(n,r,i)}}catch(n){throw ui.create("interop-component-reg-failed",{reason:n})}}}Zre();const eie={apiKey:"AIzaSyALROg4hIMFvYd8hydNKxKWmP3Cn5JmdcQ",authDomain:"test-inventory-stoe.firebaseapp.com",projectId:"test-inventory-stoe",storageBucket:"test-inventory-stoe.firebasestorage.app",messagingSenderId:"1081430501971",appId:"1:1081430501971:web:bb4e4be92aa2519ae934a6",measurementId:"G-3Y7YENDSHN"},u2=$R(eie),Ln=yte(u2),Q0=OJ(u2),tie=Ane(u2,"gs://test-inventory-stoe.firebasestorage.app");typeof window<"u"&&Qre(u2);const gd={subscribeToCollection:(t,e,n="name",r="asc",i)=>{try{if(!t||typeof e!="function")return console.error("subscribeToCollection: invalid arguments",{collectionName:t,callback:e}),()=>{};const a=n?zJ(pd(Q0,t),qJ(n,r)):pd(Q0,t);return Tk(a,s=>{const o=s.docs.map(l=>({_id:l.id,...l.data()}));e(o)},s=>{if(console.error(`Error subscribing to ${t}:`,s),i&&i(s),s.code==="failed-precondition"||s.message.includes("index")){console.log(`Retrying ${t} without orderBy...`);const o=pd(Q0,t);return Tk(o,l=>{const c=l.docs.map(u=>({_id:u.id,...u.data()}));e(c)},l=>{i&&i(l)})}})}catch(a){return console.error(`Error setting up subscription for ${t}:`,a),()=>{}}},add:async(t,e)=>{if(!t)throw new Error("add: collectionName is required");try{const n=await QJ(pd(Q0,t),e);return{...e,_id:n.id}}catch(n){throw console.error(`Error adding to ${t}:`,n),n}},update:async(t,e,n)=>{if(!t||!e)throw new Error("update: collectionName and id are required");try{const r=v3(Q0,t,e);await KJ(r,n)}catch(r){throw console.error(`Error updating ${t}:`,r),r}},set:async(t,e,n)=>{if(!t||!e)throw new Error("set: collectionName and id are required");try{const r=v3(Q0,t,e);await GJ(r,n)}catch(r){throw console.error(`Error setting in ${t}:`,r),r}},delete:async(t,e)=>{if(!t||!e)throw new Error("delete: collectionName and id are required");try{const n=v3(Q0,t,e);await Pk(n)}catch(n){throw console.error(`Error deleting from ${t}:`,n),n}},clearCollection:async t=>{if(!t)throw new Error("clearCollection: collectionName is required");try{const n=(await HJ(pd(Q0,t))).docs.map(r=>Pk(r.ref));await Promise.all(n)}catch(e){throw console.error(`Error clearing ${t}:`,e),e}}};function gr(){var t;return typeof window<"u"&&!!((t=window.desktopAPI)!=null&&t.isDesktop)}async function Ep(t,e="updatedAt",n="desc"){return window.desktopAPI.list(t,e,n)}const rt={isDesktop:gr,subscribeToCollection:(t,e,n="name",r="asc",i)=>{if(!gr())return gd.subscribeToCollection(t,e,n,r,i);let a=!0;const s=async()=>{try{const l=await Ep(t,n,r);a&&e(l)}catch(l){i&&i(l)}};s();const o=window.desktopAPI.onDataChanged(l=>{(!(l!=null&&l.entity)||l.entity===t||l.entity==="*")&&s()});return()=>{a=!1,o==null||o()}},add:async(t,e)=>{if(!gr())return gd.add(t,e);const n=crypto.randomUUID();return window.desktopAPI.upsert(t,{...e,_id:n})},update:async(t,e,n)=>gr()?window.desktopAPI.upsert(t,{...n,_id:e}):gd.update(t,e,n),set:async(t,e,n)=>gr()?window.desktopAPI.upsert(t,{...n,_id:e}):gd.set(t,e,n),delete:async(t,e)=>gr()?window.desktopAPI.remove(t,e):gd.delete(t,e),listProducts:()=>Ep("products","name","asc"),getProduct:t=>window.desktopAPI.get("products",t),upsertProduct:t=>window.desktopAPI.upsert("products",t),deleteProduct:t=>window.desktopAPI.remove("products",t),listOrders:()=>Ep("orders","date","desc"),getOrder:t=>window.desktopAPI.get("orders",t),upsertOrder:t=>window.desktopAPI.upsert("orders",t),deleteOrder:t=>window.desktopAPI.remove("orders",t),listCustomers:()=>Ep("customers","name","asc"),getCustomer:t=>window.desktopAPI.get("customers",t),upsertCustomer:t=>window.desktopAPI.upsert("customers",t),deleteCustomer:t=>window.desktopAPI.remove("customers",t),syncOnce:async()=>gr()?window.desktopAPI.syncOnce():{skipped:!0},getSyncStatus:async()=>gr()?window.desktopAPI.getSyncStatus():{online:navigator.onLine,pendingCount:0,offlineModeEnabled:!1},getPendingSyncCount:async()=>gr()?window.desktopAPI.getPendingCount():0,getConflicts:async()=>gr()?window.desktopAPI.getConflicts():[],setOnlineStatus:async t=>{gr()&&await window.desktopAPI.setOnline(t)},getOfflineModeEnabled:async()=>gr()?window.desktopAPI.getOfflineMode():!1,setOfflineModeEnabled:async t=>{gr()&&await window.desktopAPI.setOfflineMode(t)},onSyncState:t=>gr()?window.desktopAPI.onSyncState(t):()=>{},onConflict:t=>gr()?window.desktopAPI.onConflict(t):()=>{}},We=t=>typeof t=="string",yd=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},sP=t=>t==null?"":""+t,nie=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},rie=/###/g,oP=t=>t&&t.indexOf("###")>-1?t.replace(rie,"."):t,lP=t=>!t||We(t),Sf=(t,e,n)=>{const r=We(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(lP(t))return{};const a=oP(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return lP(t)?{}:{obj:t,k:oP(r[i])}},cP=(t,e,n)=>{const{obj:r,k:i}=Sf(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],s=e.slice(0,e.length-1),o=Sf(t,s,Object);for(;o.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=Sf(t,s,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=n},iie=(t,e,n,r)=>{const{obj:i,k:a}=Sf(t,e,Object);i[a]=i[a]||[],i[a].push(n)},Tm=(t,e)=>{const{obj:n,k:r}=Sf(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},aie=(t,e,n)=>{const r=Tm(t,n);return r!==void 0?r:Tm(e,n)},LD=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?We(t[r])||t[r]instanceof String||We(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):LD(t[r],e[r],n):t[r]=e[r]);return t},$l=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var sie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const oie=t=>We(t)?t.replace(/[&<>"'\/]/g,e=>sie[e]):t;class lie{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const cie=[" ",",","?","!",";"],uie=new lie(20),die=(t,e,n)=>{e=e||"",n=n||"";const r=cie.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=uie.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},O7=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,o="";for(let l=a;l<r.length;++l)if(l!==a&&(o+=n),o+=r[l],s=i[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=s}return i},uh=t=>t==null?void 0:t.replace("_","-"),fie={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class Nm{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||fie,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(We(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Nm(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Nm(this.logger,e)}}var Aa=new Nm;let d2=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...n])})}};class uP extends d2{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,u;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):We(r)&&a?o.push(...r.split(a)):o.push(r)));const l=Tm(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!We(r)?l:O7((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),cP(this.data,o,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(We(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,s={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=Tm(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?LD(l,r,a):l={...l,...r},cP(this.data,o,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var FD={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var s;e=((s=this.processors[a])==null?void 0:s.process(e,n,r,i))??e}),e}};const VD=Symbol("i18next/PATH_KEY");function hie(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===VD?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function j7(t,e){const{[VD]:n}=t(hie());return n.join((e==null?void 0:e.keySeparator)??".")}const dP={},u6=t=>!We(t)&&typeof t!="boolean"&&typeof t!="number";class Am extends d2{constructor(e,n={}){super(),nie(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Aa.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const a=u6(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!die(e,r,i);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:We(a)?[a]:a};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(i)}return{key:e,namespaces:We(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=j7(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?a?{res:`${c}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o;const p=this.resolve(e,i);let g=p==null?void 0:p.res;const x=(p==null?void 0:p.usedKey)||o,y=(p==null?void 0:p.exactUsedKey)||o,v=["[object Number]","[object Function]","[object RegExp]"],b=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,S=i.count!==void 0&&!We(i.count),E=Am.hasDefaultValue(i),P=S?this.pluralResolver.getSuffix(d,i.count,i):"",_=i.ordinal&&S?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",k=S&&!i.ordinal&&i.count===0,N=k&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${_}`]||i.defaultValue;let A=g;w&&!g&&E&&(A=N);const I=u6(A),j=Object.prototype.toString.apply(A);if(w&&A&&I&&v.indexOf(j)<0&&!(We(b)&&Array.isArray(A))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,A,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(p.res=O,p.usedParams=this.getUsedParamsDetails(i),p):O}if(s){const O=Array.isArray(A),$=O?[]:{},M=O?y:x;for(const D in A)if(Object.prototype.hasOwnProperty.call(A,D)){const V=`${M}${s}${D}`;E&&!g?$[D]=this.translate(V,{...i,defaultValue:u6(N)?N[D]:void 0,joinArrays:!1,ns:l}):$[D]=this.translate(V,{...i,joinArrays:!1,ns:l}),$[D]===V&&($[D]=A[D])}g=$}}else if(w&&We(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,e,i,r));else{let O=!1,$=!1;!this.isValidLookup(g)&&E&&(O=!0,g=N),this.isValidLookup(g)||($=!0,g=o);const D=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:g,V=E&&N!==g&&this.options.updateMissing;if($||O||V){if(this.logger.log(V?"updateKey":"missingKey",d,c,o,V?N:g),s){const G=this.resolve(o,{...i,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let G=0;G<U.length;G++)F.push(U[G]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(i.lng||this.language):F.push(i.lng||this.language);const H=(G,W,ee)=>{var pe;const le=E&&ee!==g?ee:D;this.options.missingKeyHandler?this.options.missingKeyHandler(G,c,W,le,V,i):(pe=this.backendConnector)!=null&&pe.saveMissing&&this.backendConnector.saveMissing(G,c,W,le,V,i),this.emit("missingKey",G,c,W,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?F.forEach(G=>{const W=this.pluralResolver.getSuffixes(G,i);k&&i[`defaultValue${this.options.pluralSeparator}zero`]&&W.indexOf(`${this.options.pluralSeparator}zero`)<0&&W.push(`${this.options.pluralSeparator}zero`),W.forEach(ee=>{H([G],o+ee,i[`defaultValue${ee}`]||N)})}):H(F,o,N))}g=this.extendTranslation(g,e,i,p,r),$&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${o}`),($||O)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${o}`:o,O?g:void 0,i))}return a?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(e,n,r,i,a){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=We(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!We(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(a==null?void 0:a[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,o=We(s)?[s]:s;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=FD.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,s,o;return We(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!We(n.count),p=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(We(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(y=>{var v,b;this.isValidLookup(r)||(o=y,!dP[`${x[0]}-${y}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(o))&&(dP[`${x[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(w=>{var P;if(this.isValidLookup(r))return;s=w;const S=[u];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(S,u,w,y,n);else{let _;h&&(_=this.pluralResolver.getSuffix(w,n.count,n));const k=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&_.indexOf(N)===0&&S.push(u+_.replace(N,this.options.pluralSeparator)),S.push(u+_),p&&S.push(u+k)),g){const A=`${u}${this.options.contextSeparator||"_"}${n.context}`;S.push(A),h&&(n.ordinal&&_.indexOf(N)===0&&S.push(A+_.replace(N,this.options.pluralSeparator)),S.push(A+_),p&&S.push(A+k))}}let E;for(;E=S.pop();)this.isValidLookup(r)||(a=E,r=this.getResource(w,y,E,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!We(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class fP{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Aa.create("languageUtils")}getScriptPartFromCode(e){if(e=uh(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=uh(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(We(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),We(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return We(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):We(e)&&a(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const hP={zero:0,one:1,two:2,few:3,many:4,other:5},pP={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class pie{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Aa.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=uh(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),pP;if(!e.match(/-|_/))return pP;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[a]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>hP[i]-hP[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const mP=(t,e,n,r=".",i=!0)=>{let a=aie(t,e,n);return!a&&i&&We(n)&&(a=O7(t,n,r),a===void 0&&(a=O7(e,n,r))),a},d6=t=>t.replace(/\$/g,"$$$$");class gP{constructor(e={}){var n;this.logger=Aa.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:y,maxReplaces:v,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:oie,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?$l(a):s||"{{",this.suffix=o?$l(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?$l(h):p||$l("$t("),this.nestingSuffix=g?$l(g):x||$l(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=v||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const b=mP(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:g}):b}const x=g.split(this.formatSeparator),y=x.shift().trim(),v=x.join(this.formatSeparator).trim();return this.format(mP(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:y})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>d6(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?d6(this.escape(g)):d6(g)}].forEach(g=>{for(o=0;a=g.regex.exec(e);){const x=a[1].trim();if(s=c(x),s===void 0)if(typeof u=="function"){const v=u(e,a,i);s=We(v)?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))s="";else if(d){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),s="";else!We(s)&&!this.useRawValueToEscape&&(s=sP(s));const y=g.safeValue(s);if(e=e.replace(a[0],y),d?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,s;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,s);const p=h.match(/'/g),g=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${u}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!We(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),a=n(o.call(this,i[1].trim(),s),s),a&&i[0]===e&&!We(a))return a;We(a)||(a=sP(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const mie=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},yP=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let o=e[s];return o||(o=t(uh(r),i),e[s]=o),o(n)}},gie=t=>(e,n,r)=>t(uh(n),r)(e);class yie{constructor(e={}){this.logger=Aa.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?yP:gie;this.formats={number:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return o=>s.format(o)}),currency:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return o=>s.format(o)}),datetime:r((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return o=>s.format(o)}),relativetime:r((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return o=>s.format(o,a.range||"day")}),list:r((i,a)=>{const s=new Intl.ListFormat(i,{...a});return o=>s.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=yP(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{var d;const{formatName:c,formatOptions:u}=mie(l);if(this.formats[c]){let h=o;try{const p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[c](o,g,{...u,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const vie=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class xie extends d2{constructor(e,n,r,i={}){var a,s;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Aa.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(a=this.backend)==null?void 0:a.init)==null||s.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},s={},o={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,u=!1,s[h]===void 0&&(s[h]=!0),a[h]===void 0&&(a[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(o[c]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{iie(l.loaded,[a],s),vie(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{o[c][d]===void 0&&(o[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,s)},a);return}s(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,n,o)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();We(e)&&(e=this.languageUtils.toResolveHierarchy(e)),We(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,o),this.loaded(e,s,o)})}saveMissing(e,n,r,i,a,s={},o=()=>{}){var l,c,u,d,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const p={...s,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(e,n,r,i,p):x=g(e,n,r,i),x&&typeof x.then=="function"?x.then(y=>o(null,y)).catch(o):o(null,x)}catch(x){o(x)}else g(e,n,r,i,o,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const f6=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),We(t[1])&&(e.defaultValue=t[1]),We(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),vP=t=>{var e,n;return We(t.ns)&&(t.ns=[t.ns]),We(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),We(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},kp=()=>{},bie=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};let xP=!1;const wie=t=>{var e,n,r,i,a,s,o,l,c;return!!(((r=(n=(e=t==null?void 0:t.modules)==null?void 0:e.backend)==null?void 0:n.name)==null?void 0:r.indexOf("Locize"))>0||((o=(s=(a=(i=t==null?void 0:t.modules)==null?void 0:i.backend)==null?void 0:a.constructor)==null?void 0:s.name)==null?void 0:o.indexOf("Locize"))>0||(c=(l=t==null?void 0:t.options)==null?void 0:l.backend)!=null&&c.backends&&t.options.backend.backends.some(u=>{var d,h,p;return((d=u==null?void 0:u.name)==null?void 0:d.indexOf("Locize"))>0||((p=(h=u==null?void 0:u.constructor)==null?void 0:h.name)==null?void 0:p.indexOf("Locize"))>0}))};class Ef extends d2{constructor(e={},n){if(super(),this.options=vP(e),this.services={},this.logger=Aa,this.modules={external:[]},bie(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(We(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=f6();this.options={...r,...this.options,...vP(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!wie(this)&&!xP&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),xP=!0);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Aa.init(i(this.modules.logger),this.options):Aa.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=yie;const u=new fP(this.options);this.store=new uP(this.options.resources,this.options);const d=this.services;d.logger=Aa,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new pie(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new gP(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new xie(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Am(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=kp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const o=yd(),l=()=>{const c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=kp){var a,s;let r=n;const i=We(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(s=(a=this.options.preload)==null?void 0:a.forEach)==null||s.call(a,c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=yd();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=kp),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&FD.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=yd();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(o,(...c)=>this.t(...c))},s=o=>{var u,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=We(o)?o:o&&o[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(We(o)?[o]:o);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,h=>{a(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(a,s,...o)=>{let l;typeof s!="object"?l=this.options.overloadTranslationOptionHandler([a,s].concat(o)):l={...s},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(a)?u=a.map(d=>(typeof d=="function"&&(d=j7(d,{...this.options,...s})),`${l.keyPrefix}${c}${d}`)):(typeof a=="function"&&(a=j7(a,{...this.options,...s})),u=l.keyPrefix?`${l.keyPrefix}${c}${a}`:a),this.t(u,l)};return We(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(a,e)))}loadNamespaces(e,n){const r=yd();return this.options.ns?(We(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=yd();We(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new fP(f6());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new Ef(e,n);return r.createInstance=Ef.createInstance,r}cloneInstance(e={},n=kp){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Ef(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});a.store=new uP(o,i),a.services.resourceStore=a.store}if(e.interpolation){const l={...f6().interpolation,...this.options.interpolation,...e.interpolation},c={...i,interpolation:l};a.services.interpolator=new gP(c)}return a.translator=new Am(a.services,i),a.translator.on("*",(o,...l)=>{a.emit(o,...l)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const zn=Ef.createInstance();zn.createInstance;zn.dir;zn.init;zn.loadResources;zn.reloadResources;zn.use;zn.changeLanguage;zn.getFixedT;zn.t;zn.exists;zn.setDefaultNamespace;zn.hasLoadedNamespace;zn.loadNamespaces;zn.loadLanguages;const _ie=(t,e,n,r)=>{var a,s,o,l;const i=[n,{code:e,...r||{}}];if((s=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);ll(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},bP={},UD=(t,e,n,r)=>{ll(n)&&bP[n]||(ll(n)&&(bP[n]=new Date),_ie(t,e,n,r))},BD=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},R7=(t,e,n)=>{t.loadNamespaces(e,BD(t,n))},wP=(t,e,n,r)=>{if(ll(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return R7(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,BD(t,r))},Sie=(t,e,n={})=>!e.languages||!e.languages.length?(UD(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),ll=t=>typeof t=="string",Eie=t=>typeof t=="object"&&t!==null,kie=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Pie={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Tie=t=>Pie[t],Nie=t=>t.replace(kie,Tie);let M7={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Nie,transDefaultProps:void 0};const Aie=(t={})=>{M7={...M7,...t}},Iie=()=>M7;let zD;const Cie=t=>{zD=t},Oie=()=>zD,jie={type:"3rdParty",init(t){Aie(t.options.react),Cie(t)}},Rie=R.createContext();class Mie{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var qD={exports:{}},WD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=R;function $ie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Die=typeof Object.is=="function"?Object.is:$ie,Lie=Wc.useState,Fie=Wc.useEffect,Vie=Wc.useLayoutEffect,Uie=Wc.useDebugValue;function Bie(t,e){var n=e(),r=Lie({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return Vie(function(){i.value=n,i.getSnapshot=e,h6(i)&&a({inst:i})},[t,n,e]),Fie(function(){return h6(i)&&a({inst:i}),t(function(){h6(i)&&a({inst:i})})},[t]),Uie(n),n}function h6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Die(t,n)}catch{return!0}}function zie(t,e){return e()}var qie=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zie:Bie;WD.useSyncExternalStore=Wc.useSyncExternalStore!==void 0?Wc.useSyncExternalStore:qie;qD.exports=WD;var Wie=qD.exports;const Hie=(t,e)=>ll(e)?e:Eie(e)&&ll(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Gie={t:Hie,ready:!1},Kie=()=>()=>{},jr=(t,e={})=>{var N,A,I;const{i18n:n}=e,{i18n:r,defaultNS:i}=R.useContext(Rie)||{},a=n||r||Oie();a&&!a.reportNamespaces&&(a.reportNamespaces=new Mie),a||UD(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=R.useMemo(()=>{var j;return{...Iie(),...(j=a==null?void 0:a.options)==null?void 0:j.react,...e}},[a,e]),{useSuspense:o,keyPrefix:l}=s,c=i||((N=a==null?void 0:a.options)==null?void 0:N.defaultNS),u=ll(c)?[c]:c||["translation"],d=R.useMemo(()=>u,u);(I=(A=a==null?void 0:a.reportNamespaces)==null?void 0:A.addUsedNamespaces)==null||I.call(A,d);const h=R.useRef(0),p=R.useCallback(j=>{if(!a)return Kie;const{bindI18n:O,bindI18nStore:$}=s,M=()=>{h.current+=1,j()};return O&&a.on(O,M),$&&a.store.on($,M),()=>{O&&O.split(" ").forEach(D=>a.off(D,M)),$&&$.split(" ").forEach(D=>a.store.off(D,M))}},[a,s]),g=R.useRef(),x=R.useCallback(()=>{if(!a)return Gie;const j=!!(a.isInitialized||a.initializedStoreOnce)&&d.every(F=>Sie(F,a,s)),O=e.lng||a.language,$=h.current,M=g.current;if(M&&M.ready===j&&M.lng===O&&M.keyPrefix===l&&M.revision===$)return M;const V={t:a.getFixedT(O,s.nsMode==="fallback"?d:d[0],l),ready:j,lng:O,keyPrefix:l,revision:$};return g.current=V,V},[a,d,l,s,e.lng]),[y,v]=R.useState(0),{t:b,ready:w}=Wie.useSyncExternalStore(p,x,x);R.useEffect(()=>{if(a&&!w&&!o){const j=()=>v(O=>O+1);e.lng?wP(a,e.lng,d,j):R7(a,d,j)}},[a,e.lng,d,w,o,y]);const S=a||{},E=R.useRef(null),P=R.useRef(),_=j=>{const O=Object.getOwnPropertyDescriptors(j);O.__original&&delete O.__original;const $=Object.create(Object.getPrototypeOf(j),O);if(!Object.prototype.hasOwnProperty.call($,"__original"))try{Object.defineProperty($,"__original",{value:j,writable:!1,enumerable:!1,configurable:!1})}catch{}return $},k=R.useMemo(()=>{const j=S,O=j==null?void 0:j.language;let $=j;j&&(E.current&&E.current.__original===j?P.current!==O?($=_(j),E.current=$,P.current=O):$=E.current:($=_(j),E.current=$,P.current=O));const M=[b,$,w];return M.t=b,M.i18n=$,M.ready=w,M},[b,S,w,S.resolvedLanguage,S.language,S.languages]);if(a&&o&&!w)throw new Promise(j=>{const O=()=>j();e.lng?wP(a,e.lng,d,O):R7(a,d,O)});return k},HD=R.createContext(),_P="/brand-logo.svg",p6="/brand-favicon.svg",SP="https://i.imgur.com/9YXqZ5K.png",vd={theme:"light",accentType:"gradient",accentColor:"#1e3a5f",accentGradient:{start:"#EC4899",end:"#8B5CF6"}},Mn=()=>R.useContext(HD),Qie=({children:t})=>{const[e,n]=R.useState(()=>localStorage.getItem("theme")||"light"),[r,i]=R.useState(()=>localStorage.getItem("isSidebarCollapsed")==="true"),[a,s]=R.useState(!1),[o,l]=R.useState(()=>{try{const ne=localStorage.getItem("appearance"),fe=ne?JSON.parse(ne):null;return{theme:(fe==null?void 0:fe.theme)||vd.theme,accentType:(fe==null?void 0:fe.accentType)||vd.accentType,accentColor:(fe==null?void 0:fe.accentColor)||vd.accentColor,accentGradient:(fe==null?void 0:fe.accentGradient)||vd.accentGradient}}catch(ne){return console.error("Error loading appearance settings:",ne),vd}});R.useEffect(()=>{const ne=document.documentElement;ne.classList.remove("theme-liquid","theme-light","theme-dark"),o.theme!=="default"&&ne.classList.add(`theme-${o.theme}`);let fe=o.accentColor;if(o.accentColor,o.accentType==="solid")ne.style.setProperty("--accent-color",o.accentColor),ne.style.setProperty("--accent-gradient",o.accentColor);else{const{start:Ee,end:Fe}=o.accentGradient;fe=Ee,ne.style.setProperty("--accent-color",Ee),ne.style.setProperty("--accent-gradient",`linear-gradient(135deg, ${Ee} 0%, ${Fe} 100%)`)}if(ne.style.setProperty("--brand-color",fe),ee(Ee=>({...Ee,color:fe})),o.theme==="liquid"&&ne.style.setProperty("--glass-tint",`${fe}15`),o.theme==="dark")n("dark");else if(o.theme==="light")n("light");else if(o.theme==="default"){const Ee=localStorage.getItem("theme")||"light";n(Ee)}},[o]);const[c,u]=R.useState([]),[d,h]=R.useState([]),[p,g]=R.useState([]),[x,y]=R.useState([]),[v,b]=R.useState(["Electronics","Clothing","Home","Beauty","Sports"]),[w,S]=R.useState(!0),E=R.useRef(!0),[P,_]=R.useState([]),k=rt.isDesktop(),[N,A]=R.useState(typeof navigator<"u"?navigator.onLine:!0),[I,j]=R.useState(0),[O,$]=R.useState(!0),[M,D]=R.useState([]),V=(ne,fe="info")=>{const Ee=Math.random().toString(36).substr(2,9);_(Fe=>[...Fe,{id:Ee,message:ne,type:fe}]),setTimeout(()=>{_(Fe=>Fe.filter(Ze=>Ze.id!==Ee))},3e3)};R.useEffect(()=>{E.current=w},[w]),R.useEffect(()=>{if(!k)return;const ne=()=>{A(!0),rt.setOnlineStatus(!0)},fe=()=>{A(!1),rt.setOnlineStatus(!1)};(async()=>{A(navigator.onLine),await rt.setOnlineStatus(navigator.onLine);const Q=await rt.getSyncStatus();j(Q.pendingCount||0),$(!!Q.offlineModeEnabled),D(await rt.getConflicts())})().catch(Q=>console.error("Desktop sync init failed:",Q)),window.addEventListener("online",ne),window.addEventListener("offline",fe);const Fe=rt.onSyncState(Q=>{j(Q.pendingCount||0),$(!!Q.offlineModeEnabled)}),Ze=rt.onConflict(Q=>{V(`Conflict detected on ${Q.entity} #${Q.docId} - resolved automatically`,"warning"),rt.getConflicts().then(D).catch(()=>{})});return()=>{window.removeEventListener("online",ne),window.removeEventListener("offline",fe),Fe==null||Fe(),Ze==null||Ze()}},[k]);const F=async()=>{k&&(await rt.syncOnce(),j(await rt.getPendingSyncCount()),D(await rt.getConflicts()))},U=async ne=>{k&&(await rt.setOfflineModeEnabled(ne),$(ne))},[H,G]=R.useState(!1),[W,ee]=R.useState(()=>{var Ee;const ne=localStorage.getItem("appearance");let fe="#1e3a5f";if(ne)try{const Fe=JSON.parse(ne);Fe.accentType==="gradient"&&((Ee=Fe.accentGradient)!=null&&Ee.start)?fe=Fe.accentGradient.start:Fe.accentColor&&(fe=Fe.accentColor)}catch(Fe){console.error("Error parsing appearance for initial brand color:",Fe)}return{name:"Gem Toys",logo:_P,favicon:p6,color:fe,hideHeader:!1}});R.useEffect(()=>{try{W!=null&&W.name&&(document.title=W.name);const ne=fe=>{if(!fe)return;let Ee=document.querySelector("link[rel~='icon']");Ee||(Ee=document.createElement("link"),Ee.rel="icon",document.getElementsByTagName("head")[0].appendChild(Ee)),Ee.href=fe};W!=null&&W.favicon?ne(W.favicon):W!=null&&W.logo?ne(W.logo):ne(p6)}catch{}},[W]);const le=async ne=>{const{_id:fe,...Ee}=ne,Fe=fe||"branding";await rt.set("settings",Fe,Ee),ee(Ze=>({...Ze,...Ee}))};R.useEffect(()=>{S(!0);let ne={products:!1,categories:!1,orders:!1,customers:!1,users:!1,settings:!1};const fe=()=>{Object.values(ne).every(Ve=>Ve)&&S(!1)},Ee=(Ve,Xt)=>{console.error(`Error loading ${Ve}:`,Xt),V(`Error loading ${Ve}. Refresh page.`,"error"),ne[Ve]=!0,fe()},Fe=rt.subscribeToCollection("products",Ve=>{u(Ve),ne.products=!0,fe()},"name","asc",Ve=>Ee("products",Ve)),Ze=rt.subscribeToCollection("categories",Ve=>{if(Ve.length>0){const Xt=Ve.map(Tn=>Tn.name).sort();b(Xt),Z(Ve)}else b([]),Z([]);ne.categories=!0,fe()},"name","asc",Ve=>Ee("categories",Ve)),Q=rt.subscribeToCollection("orders",Ve=>{h(Ve),ne.orders=!0,fe()},"date","desc",Ve=>Ee("orders",Ve)),Oe=rt.subscribeToCollection("customers",Ve=>{g(Ve),ne.customers=!0,fe()},"name","asc",Ve=>Ee("customers",Ve)),it=rt.subscribeToCollection("users",Ve=>{y(Ve),ne.users=!0,fe()},"username","asc",Ve=>Ee("users",Ve)),Yt=rt.subscribeToCollection("settings",Ve=>{const Xt=Ve.find(Tn=>Tn._id==="branding");if(Xt){const{_id:Tn,...Hn}=Xt,z=Hn.logo===SP?_P:Hn.logo,ce=Hn.favicon===SP?z||p6:Hn.favicon;ee(ye=>({...ye,...Hn,logo:z,favicon:ce}))}ne.settings=!0,fe()},"name","asc",Ve=>Ee("settings",Ve)),et=setTimeout(()=>{E.current&&(console.warn("Loading safety timeout hit."),S(!1))},8e3);return()=>{clearTimeout(et),Fe(),Ze(),Q(),Oe(),it(),Yt()}},[]);const[pe,Z]=R.useState([]),_e=async ne=>{v.includes(ne)||(await rt.add("categories",{name:ne}),V(`Category "${ne}" added!`,"success"))},Ce=async(ne,fe)=>{const Ee=pe.find(Fe=>Fe.name===ne);if(Ee){await rt.update("categories",Ee._id,{name:fe}),V(`Category updated to "${fe}"`,"success");const Fe=c.filter(Ze=>Ze.category===ne);for(const Ze of Fe)await rt.update("products",Ze._id,{category:fe})}},ie=async ne=>{const fe=pe.find(Ee=>Ee.name===ne);fe&&(await rt.delete("categories",fe._id),V(`Category "${ne}" deleted!`,"success"))},[ve,X]=R.useState(null);R.useEffect(()=>{if(x.length>0)if(ve){const ne=x.find(fe=>fe._id===ve._id||fe.username===ve.username);ne&&X(ne)}else{const ne=x.find(fe=>fe.role==="Admin");X(ne||x[0])}},[x]);const q=ne=>{n(ne)};R.useEffect(()=>{const ne=document.documentElement;e==="dark"?ne.classList.add("dark"):e==="light"?ne.classList.remove("dark"):e==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?ne.classList.add("dark"):ne.classList.remove("dark")),localStorage.setItem("theme",e)},[e]);const{i18n:de}=jr(),[ke,me]=R.useState(localStorage.getItem("language")||de.language||"en"),we=ne=>{me(ne),de.changeLanguage(ne),localStorage.setItem("language",ne);const fe=ne==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",fe),document.documentElement.setAttribute("lang",ne)};R.useEffect(()=>{const ne=localStorage.getItem("language")||"en",fe=ne==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",fe),document.documentElement.setAttribute("lang",ne),ne!==de.language&&de.changeLanguage(ne)},[de]);const Ue=()=>{i(ne=>{const fe=!ne;return localStorage.setItem("isSidebarCollapsed",fe),fe})},St=()=>s(ne=>!ne),Me=()=>s(!1),He=ne=>new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(ne),Y=async ne=>{try{const fe=await rt.add("products",ne);return V("Product added successfully","success"),fe}catch(fe){return V("Error adding product","error"),console.error(fe),null}},ue=async ne=>{const{_id:fe,...Ee}=ne;try{await rt.update("products",fe,Ee),V("Product updated successfully","success")}catch(Fe){V("Error updating product","error"),console.error(Fe)}},Ie=async ne=>{try{await rt.delete("products",ne),V("Product deleted successfully","success")}catch(fe){V("Error deleting product","error"),console.error(fe)}},bt=async ne=>{const fe={...ne,createdOn:new Date().toISOString()},Ee=await rt.add("customers",fe);return V("Customer added successfully","success"),Ee},Ye=async ne=>{const{_id:fe,...Ee}=ne;await rt.update("customers",fe,Ee)},vt=async ne=>{try{const fe=`#ORD-${Math.floor(1e3+Math.random()*9e3)}`,Ee={...ne,orderId:fe,date:new Date().toISOString()},Fe=await rt.add("orders",Ee);for(const Ze of ne.items){const Q=c.find(Oe=>Oe._id===Ze.product._id);if(Q){const Oe=Math.max(0,Q.stock-Ze.quantity);await rt.update("products",Q._id,{stock:Oe,status:Oe===0?"Out of Stock":Oe<=10?"Low Stock":"In Stock"})}}return V("Order created successfully","success"),Fe}catch(fe){return V("Error creating order","error"),console.error(fe),null}},Pt=async ne=>{const fe=d.find(Ee=>Ee._id===ne);if(fe)for(const Ee of fe.items){const Fe=c.find(Ze=>Ze._id===Ee.product._id);if(Fe){const Ze=Fe.stock+Ee.quantity;await rt.update("products",Fe._id,{stock:Ze,status:Ze===0?"Out of Stock":Ze<=10?"Low Stock":"In Stock"})}}await rt.delete("orders",ne),V("Order deleted and stock restored","info")},re=async ne=>{const{_id:fe,...Ee}=ne,Fe=d.find(Ze=>Ze._id===fe);if(Fe){for(const Ze of Fe.items){const Q=c.find(Oe=>Oe._id===Ze.product._id);Q&&await rt.update("products",Q._id,{stock:Q.stock+Ze.quantity})}for(const Ze of ne.items){const Q=c.find(Oe=>Oe._id===Ze.product._id);if(Q){const Oe=Fe.items.find(et=>et.product._id===Ze.product._id),it=Oe?Oe.quantity:0,Yt=Math.max(0,Q.stock+it-Ze.quantity);await rt.update("products",Q._id,{stock:Yt,status:Yt===0?"Out of Stock":Yt<=10?"Low Stock":"In Stock"})}}}await rt.update("orders",fe,Ee),V("Order updated successfully","success")},be=async ne=>{await rt.add("users",{...ne,displayName:ne.username})},Xe=async ne=>{const{_id:fe,...Ee}=ne;await rt.update("users",fe,Ee)},st=async ne=>{ve&&(await rt.update("users",ve._id,ne),X(fe=>({...fe,...ne})))},ln=async ne=>{await rt.delete("users",ne)};return f.jsx(HD.Provider,{value:{products:c,addProduct:Y,updateProduct:ue,deleteProduct:Ie,orders:d,addOrder:vt,updateOrder:re,deleteOrder:Pt,customers:p,addCustomer:bt,updateCustomer:Ye,users:x,addUser:be,updateUser:Xe,deleteUser:ln,categories:v,addCategory:_e,updateCategory:Ce,deleteCategory:ie,loading:w,theme:e,toggleTheme:q,brand:W,updateBrand:le,appearance:o,setAppearance:ne=>{l(fe=>{const Ee={...fe,...ne};return localStorage.setItem("appearance",JSON.stringify(Ee)),Ee})},currentUser:ve,updateUserProfile:st,language:ke,changeLanguage:we,formatCurrency:He,isSidebarCollapsed:r,toggleSidebar:Ue,isMobileMenuOpen:a,toggleMobileMenu:St,closeMobileMenu:Me,toasts:P,addToast:V,isModalOpen:H,setIsModalOpen:G,isDesktop:k,isOnline:N,pendingSyncCount:I,syncNow:F,desktopOfflineModeEnabled:O,setDesktopOfflineModeEnabled:U,conflicts:M},children:t})},GD=R.createContext(null),k4=()=>{const t=R.useContext(GD);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t},Yie=({children:t})=>{const[e,n]=R.useState(null),[r,i]=R.useState(!0);R.useEffect(()=>aee(Ln,o=>{n(o),i(!1)}),[]);const a=R.useMemo(()=>({user:e,loading:r,signInWithGoogle:async()=>{const s=new r0;return Pee(Ln,s)},signInWithEmail:async(s,o)=>ZZ(Ln,s,o),signUpWithEmail:async(s,o)=>JZ(Ln,s,o),signOutUser:async()=>see(Ln),updateAuthProfile:async s=>{if(!Ln.currentUser)throw new Error("No authenticated user");await r6(Ln.currentUser,s),n({...Ln.currentUser})},updateAuthAvatar:async s=>{if(!Ln.currentUser)throw new Error("No authenticated user");try{const o=await Xie(s),l=Nne(tie,`users/${Ln.currentUser.uid}/avatar.jpg`);await Pne(l,o,{contentType:o.type||"image/jpeg"});const c=await Tne(l);return await r6(Ln.currentUser,{photoURL:c}),n({...Ln.currentUser}),c}catch{return await r6(Ln.currentUser,{photoURL:s}),n({...Ln.currentUser}),s}},changeAuthPassword:async(s,o)=>{var c;if(!((c=Ln.currentUser)!=null&&c.email))throw new Error("No authenticated user");const l=Tl.credential(Ln.currentUser.email,s);await XZ(Ln.currentUser,l),await tee(Ln.currentUser,o)}}),[e,r]);return f.jsx(GD.Provider,{value:a,children:t})},Xie=async t=>(await fetch(t)).blob(),Jie=()=>{var A,I;const{t,i18n:e}=jr(),n=L0(),r=h4(),{user:i,signOutUser:a}=k4(),{theme:s,currentUser:o,brand:l,isSidebarCollapsed:c,toggleSidebar:u,isMobileMenuOpen:d,closeMobileMenu:h,language:p}=Mn(),[g,x]=R.useState(!1),y=R.useRef(null),v=o||i,b=p==="ar",w=[{icon:AG,label:t("menu.dashboard"),path:"/"},{icon:lE,label:t("menu.inventory"),path:"/products"},{icon:Uo,label:t("menu.productPicture"),path:"/product-picture"},{icon:bR,label:t("menu.orders"),path:"/orders"},{icon:ox,label:t("menu.customers"),path:"/customers"},{icon:xR,label:t("menu.settings"),path:"/settings"}],_=`fixed lg:static top-0 bottom-0 ${b?"right-0 left-auto":"left-0 right-auto"} border-e z-40 ${c?"w-20":"w-56"} bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 flex flex-col h-screen transition-all duration-300 ease-in-out ${d?"translate-x-0 shadow-2xl":(b?"translate-x-full":"-translate-x-full")+" lg:translate-x-0"} glass-panel`;R.useEffect(()=>{const j=O=>{y.current&&!y.current.contains(O.target)&&x(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const k=()=>{x(!1),h(),r("/settings?tab=account")},N=async()=>{x(!1);try{await a(),h(),r("/login",{replace:!0})}catch(j){console.error("Logout failed:",j)}};return f.jsxs("aside",{className:_,children:[f.jsxs("div",{className:`h-24 flex items-center ${c?"justify-center":"px-8"} relative`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg text-white overflow-hidden shrink-0",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:l.logo?f.jsx("img",{src:l.logo,alt:"Logo",className:"w-full h-full object-cover"}):f.jsx(lE,{className:"w-6 h-6"})}),!c&&f.jsx("div",{className:"animate-in fade-in duration-300",children:f.jsxs("h1",{className:"font-bold text-slate-800 dark:text-white text-lg leading-tight tracking-tight",children:[l.name.split(" ")[0],f.jsx("br",{}),f.jsx("span",{style:{color:l.color},className:"font-extrabold",children:l.name.split(" ").slice(1).join(" ")||"APP"})]})})]}),f.jsx("button",{onClick:h,className:`lg:hidden absolute top-6 ${b?"left-4":"right-4"} p-2 text-slate-400 hover:text-red-500 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors`,children:f.jsx(ci,{className:"w-5 h-5"})})]}),f.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-2 custom-scrollbar",children:[!c&&f.jsx("div",{className:"mb-4 px-4",children:f.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t("menu.mainMenu")})}),w.map(j=>{const O=n.pathname===j.path;return f.jsxs(vG,{to:j.path,title:c?j.label:"",onClick:h,className:`flex items-center gap-3 rounded-xl transition-all duration-200 group relative overflow-hidden ${c?"justify-center p-3":"px-4 py-3.5"} ${O?"text-white shadow-lg bg-accent shadow-accent":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:[f.jsx(j.icon,{className:`w-5 h-5 relative z-10 transition-transform duration-200 ${O?"scale-110":"group-hover:scale-110"}`}),!c&&f.jsx("span",{className:"font-medium relative z-10 animate-in fade-in slide-in-from-start-2 duration-300",children:j.label})]},j.path)})]}),f.jsx("div",{className:"p-4 mt-auto border-t border-slate-100 dark:border-slate-800/50",children:f.jsxs("div",{className:"relative",ref:y,children:[f.jsxs("button",{onClick:()=>x(j=>!j),className:`w-full bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 flex items-center shadow-sm glass-panel transition-all hover:border-slate-300 dark:hover:border-slate-600 ${c?"p-2 justify-center":"p-4 gap-3"}`,children:[f.jsxs("div",{className:"relative shrink-0 w-10 h-10",children:[f.jsx("div",{className:"w-full h-full text-white rounded-full flex items-center justify-center font-bold text-lg overflow-hidden",style:{backgroundColor:l.color},children:v!=null&&v.photoURL?f.jsx("img",{src:v.photoURL,alt:"User",className:"w-full h-full object-cover"}):((A=v==null?void 0:v.displayName)==null?void 0:A.charAt(0))||"U"}),f.jsx("div",{className:"absolute bottom-0 end-0 w-3 h-3 bg-emerald-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),!c&&f.jsxs("div",{className:"flex-1 overflow-hidden text-left animate-in fade-in duration-300",children:[f.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white truncate",children:((I=v==null?void 0:v.displayName)==null?void 0:I.split(" ")[0])||t("user.defaultName")}),f.jsx("p",{className:"text-xs text-slate-500 truncate",children:(o==null?void 0:o.role)||(v==null?void 0:v.email)||t("user.defaultRole")})]}),!c&&f.jsx(ix,{className:`w-4 h-4 text-slate-400 transition-transform ${g?"rotate-180":""}`})]}),g&&!c&&f.jsxs("div",{className:"absolute bottom-full mb-2 left-0 right-0 rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-2xl overflow-hidden z-50",children:[f.jsxs("button",{onClick:k,className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/60 transition-colors",children:[f.jsx(zG,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.accountSettings")||"Account Settings"})]}),f.jsxs("button",{onClick:N,className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/60 transition-colors border-t border-slate-100 dark:border-slate-700",children:[f.jsx(CG,{className:"w-4 h-4"}),f.jsx("span",{children:t("menu.logout")||"Log out"})]})]})]})}),f.jsx("button",{onClick:u,className:`hidden lg:flex absolute bottom-24 ${b?"-left-3":"-right-3"} w-6 h-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full items-center justify-center text-slate-400 shadow-sm z-50 transition-all hover:scale-110`,style:{color:l.color},children:c?f.jsx(eh,{className:"w-3.5 h-3.5"}):f.jsx(am,{className:"w-3.5 h-3.5"})})]})},Zie=({title:t})=>{const{t:e}=jr(),{currentUser:n,toggleMobileMenu:r,isModalOpen:i,appearance:a,brand:s}=Mn(),o=s.hideHeader,l=["liquid","default_glass"].includes(a==null?void 0:a.theme),c=i?"hidden":o?"flex lg:hidden":"flex";return f.jsxs("header",{className:`${c} h-14 sm:h-16 md:h-20 lg:h-24 ${l?"bg-white/60 dark:bg-slate-900/60 backdrop-blur-2xl border-b border-white/20 dark:border-slate-700/30":"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800"} items-center justify-between px-3 sm:px-4 md:px-6 lg:px-8 sticky top-0 z-20 transition-all duration-300 shadow-sm`,children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4 flex-1 min-w-0 overflow-hidden",children:[f.jsx("button",{onClick:r,className:`lg:hidden p-1.5 sm:p-2 rounded-xl transition-all shrink-0 ${l?"text-slate-600 dark:text-slate-300 hover:bg-white/40 dark:hover:bg-slate-800/40 backdrop-blur-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,"aria-label":"Toggle menu",children:f.jsx(jG,{className:"w-5 h-5 sm:w-5.5 sm:h-5.5 md:w-6 md:h-6"})}),f.jsx("div",{className:"flex flex-col min-w-0 flex-1 overflow-hidden",children:f.jsx("h2",{className:"text-sm sm:text-base md:text-xl lg:text-2xl font-black text-slate-800 dark:text-white tracking-tight truncate",children:t})})]}),f.jsx("div",{})]})},eae=()=>{const{toasts:t}=Mn();return f.jsx("div",{className:"fixed bottom-8 right-8 z-[1000] flex flex-col gap-3 pointer-events-none",children:t.map(e=>f.jsxs("div",{className:`
                        pointer-events-auto
                        flex items-center gap-4 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md
                        animate-in slide-in-from-right-8 fade-in duration-300
                        ${e.type==="success"?"bg-emerald-500/90 text-white":e.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}
                    `,children:[f.jsxs("div",{className:"flex-shrink-0",children:[e.type==="success"&&f.jsx(mR,{className:"w-6 h-6"}),e.type==="error"&&f.jsx(pR,{className:"w-6 h-6"}),e.type==="info"&&f.jsx(gR,{className:"w-6 h-6"})]}),f.jsx("div",{className:"flex-1",children:f.jsx("p",{className:"font-bold text-sm",children:e.message})})]},e.id))})},ju=({children:t,title:e})=>{const{isSidebarCollapsed:n,isMobileMenuOpen:r,closeMobileMenu:i,brand:a}=Mn();return f.jsxs("div",{className:"flex h-screen bg-transparent font-sans transition-colors duration-300",children:[r&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:i}),f.jsx(Jie,{}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-screen transition-all duration-300",children:[f.jsx(Zie,{title:e||"Dashboard"}),f.jsx("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto ${a.hideHeader?"lg:pt-8":""} overflow-x-hidden`,children:f.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t})}),f.jsx(eae,{})]})]})};function KD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KD(t))&&(r&&(r+=" "),r+=e);return r}var tae=Array.isArray,Qr=tae,nae=typeof J4=="object"&&J4&&J4.Object===Object&&J4,QD=nae,rae=QD,iae=typeof self=="object"&&self&&self.Object===Object&&self,aae=rae||iae||Function("return this")(),Ka=aae,sae=Ka,oae=sae.Symbol,P4=oae,EP=P4,YD=Object.prototype,lae=YD.hasOwnProperty,cae=YD.toString,xd=EP?EP.toStringTag:void 0;function uae(t){var e=lae.call(t,xd),n=t[xd];try{t[xd]=void 0;var r=!0}catch{}var i=cae.call(t);return r&&(e?t[xd]=n:delete t[xd]),i}var dae=uae,fae=Object.prototype,hae=fae.toString;function pae(t){return hae.call(t)}var mae=pae,kP=P4,gae=dae,yae=mae,vae="[object Null]",xae="[object Undefined]",PP=kP?kP.toStringTag:void 0;function bae(t){return t==null?t===void 0?xae:vae:PP&&PP in Object(t)?gae(t):yae(t)}var F0=bae;function wae(t){return t!=null&&typeof t=="object"}var V0=wae,_ae=F0,Sae=V0,Eae="[object Symbol]";function kae(t){return typeof t=="symbol"||Sae(t)&&_ae(t)==Eae}var Ru=kae,Pae=Qr,Tae=Ru,Nae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Aae=/^\w*$/;function Iae(t,e){if(Pae(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Tae(t)?!0:Aae.test(t)||!Nae.test(t)||e!=null&&t in Object(e)}var pb=Iae;function Cae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ro=Cae;const Mu=$t(ro);var Oae=F0,jae=ro,Rae="[object AsyncFunction]",Mae="[object Function]",$ae="[object GeneratorFunction]",Dae="[object Proxy]";function Lae(t){if(!jae(t))return!1;var e=Oae(t);return e==Mae||e==$ae||e==Rae||e==Dae}var mb=Lae;const tt=$t(mb);var Fae=Ka,Vae=Fae["__core-js_shared__"],Uae=Vae,m6=Uae,TP=function(){var t=/[^.]+$/.exec(m6&&m6.keys&&m6.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Bae(t){return!!TP&&TP in t}var zae=Bae,qae=Function.prototype,Wae=qae.toString;function Hae(t){if(t!=null){try{return Wae.call(t)}catch{}try{return t+""}catch{}}return""}var XD=Hae,Gae=mb,Kae=zae,Qae=ro,Yae=XD,Xae=/[\\^$.*+?()[\]{}|]/g,Jae=/^\[object .+?Constructor\]$/,Zae=Function.prototype,e0e=Object.prototype,t0e=Zae.toString,n0e=e0e.hasOwnProperty,r0e=RegExp("^"+t0e.call(n0e).replace(Xae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i0e(t){if(!Qae(t)||Kae(t))return!1;var e=Gae(t)?r0e:Jae;return e.test(Yae(t))}var a0e=i0e;function s0e(t,e){return t==null?void 0:t[e]}var o0e=s0e,l0e=a0e,c0e=o0e;function u0e(t,e){var n=c0e(t,e);return l0e(n)?n:void 0}var Nl=u0e,d0e=Nl,f0e=d0e(Object,"create"),f2=f0e,NP=f2;function h0e(){this.__data__=NP?NP(null):{},this.size=0}var p0e=h0e;function m0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var g0e=m0e,y0e=f2,v0e="__lodash_hash_undefined__",x0e=Object.prototype,b0e=x0e.hasOwnProperty;function w0e(t){var e=this.__data__;if(y0e){var n=e[t];return n===v0e?void 0:n}return b0e.call(e,t)?e[t]:void 0}var _0e=w0e,S0e=f2,E0e=Object.prototype,k0e=E0e.hasOwnProperty;function P0e(t){var e=this.__data__;return S0e?e[t]!==void 0:k0e.call(e,t)}var T0e=P0e,N0e=f2,A0e="__lodash_hash_undefined__";function I0e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=N0e&&e===void 0?A0e:e,this}var C0e=I0e,O0e=p0e,j0e=g0e,R0e=_0e,M0e=T0e,$0e=C0e;function $u(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$u.prototype.clear=O0e;$u.prototype.delete=j0e;$u.prototype.get=R0e;$u.prototype.has=M0e;$u.prototype.set=$0e;var D0e=$u;function L0e(){this.__data__=[],this.size=0}var F0e=L0e;function V0e(t,e){return t===e||t!==t&&e!==e}var gb=V0e,U0e=gb;function B0e(t,e){for(var n=t.length;n--;)if(U0e(t[n][0],e))return n;return-1}var h2=B0e,z0e=h2,q0e=Array.prototype,W0e=q0e.splice;function H0e(t){var e=this.__data__,n=z0e(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():W0e.call(e,n,1),--this.size,!0}var G0e=H0e,K0e=h2;function Q0e(t){var e=this.__data__,n=K0e(e,t);return n<0?void 0:e[n][1]}var Y0e=Q0e,X0e=h2;function J0e(t){return X0e(this.__data__,t)>-1}var Z0e=J0e,ese=h2;function tse(t,e){var n=this.__data__,r=ese(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var nse=tse,rse=F0e,ise=G0e,ase=Y0e,sse=Z0e,ose=nse;function Du(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Du.prototype.clear=rse;Du.prototype.delete=ise;Du.prototype.get=ase;Du.prototype.has=sse;Du.prototype.set=ose;var p2=Du,lse=Nl,cse=Ka,use=lse(cse,"Map"),yb=use,AP=D0e,dse=p2,fse=yb;function hse(){this.size=0,this.__data__={hash:new AP,map:new(fse||dse),string:new AP}}var pse=hse;function mse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gse=mse,yse=gse;function vse(t,e){var n=t.__data__;return yse(e)?n[typeof e=="string"?"string":"hash"]:n.map}var m2=vse,xse=m2;function bse(t){var e=xse(this,t).delete(t);return this.size-=e?1:0,e}var wse=bse,_se=m2;function Sse(t){return _se(this,t).get(t)}var Ese=Sse,kse=m2;function Pse(t){return kse(this,t).has(t)}var Tse=Pse,Nse=m2;function Ase(t,e){var n=Nse(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Ise=Ase,Cse=pse,Ose=wse,jse=Ese,Rse=Tse,Mse=Ise;function Lu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lu.prototype.clear=Cse;Lu.prototype.delete=Ose;Lu.prototype.get=jse;Lu.prototype.has=Rse;Lu.prototype.set=Mse;var vb=Lu,JD=vb,$se="Expected a function";function xb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError($se);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(xb.Cache||JD),n}xb.Cache=JD;var ZD=xb;const Dse=$t(ZD);var Lse=ZD,Fse=500;function Vse(t){var e=Lse(t,function(r){return n.size===Fse&&n.clear(),r}),n=e.cache;return e}var Use=Vse,Bse=Use,zse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qse=/\\(\\)?/g,Wse=Bse(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zse,function(n,r,i,a){e.push(i?a.replace(qse,"$1"):r||n)}),e}),Hse=Wse;function Gse(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var bb=Gse,IP=P4,Kse=bb,Qse=Qr,Yse=Ru,CP=IP?IP.prototype:void 0,OP=CP?CP.toString:void 0;function eL(t){if(typeof t=="string")return t;if(Qse(t))return Kse(t,eL)+"";if(Yse(t))return OP?OP.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Xse=eL,Jse=Xse;function Zse(t){return t==null?"":Jse(t)}var tL=Zse,eoe=Qr,toe=pb,noe=Hse,roe=tL;function ioe(t,e){return eoe(t)?t:toe(t,e)?[t]:noe(roe(t))}var nL=ioe,aoe=Ru;function soe(t){if(typeof t=="string"||aoe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var g2=soe,ooe=nL,loe=g2;function coe(t,e){e=ooe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[loe(e[n++])];return n&&n==r?t:void 0}var wb=coe,uoe=wb;function doe(t,e,n){var r=t==null?void 0:uoe(t,e);return r===void 0?n:r}var rL=doe;const Ri=$t(rL);function foe(t){return t==null}var hoe=foe;const ft=$t(hoe);var poe=F0,moe=Qr,goe=V0,yoe="[object String]";function voe(t){return typeof t=="string"||!moe(t)&&goe(t)&&poe(t)==yoe}var xoe=voe;const cl=$t(xoe);var iL={exports:{}},It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b=Symbol.for("react.element"),Sb=Symbol.for("react.portal"),y2=Symbol.for("react.fragment"),v2=Symbol.for("react.strict_mode"),x2=Symbol.for("react.profiler"),b2=Symbol.for("react.provider"),w2=Symbol.for("react.context"),boe=Symbol.for("react.server_context"),_2=Symbol.for("react.forward_ref"),S2=Symbol.for("react.suspense"),E2=Symbol.for("react.suspense_list"),k2=Symbol.for("react.memo"),P2=Symbol.for("react.lazy"),woe=Symbol.for("react.offscreen"),aL;aL=Symbol.for("react.module.reference");function Ui(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _b:switch(t=t.type,t){case y2:case x2:case v2:case S2:case E2:return t;default:switch(t=t&&t.$$typeof,t){case boe:case w2:case _2:case P2:case k2:case b2:return t;default:return e}}case Sb:return e}}}It.ContextConsumer=w2;It.ContextProvider=b2;It.Element=_b;It.ForwardRef=_2;It.Fragment=y2;It.Lazy=P2;It.Memo=k2;It.Portal=Sb;It.Profiler=x2;It.StrictMode=v2;It.Suspense=S2;It.SuspenseList=E2;It.isAsyncMode=function(){return!1};It.isConcurrentMode=function(){return!1};It.isContextConsumer=function(t){return Ui(t)===w2};It.isContextProvider=function(t){return Ui(t)===b2};It.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_b};It.isForwardRef=function(t){return Ui(t)===_2};It.isFragment=function(t){return Ui(t)===y2};It.isLazy=function(t){return Ui(t)===P2};It.isMemo=function(t){return Ui(t)===k2};It.isPortal=function(t){return Ui(t)===Sb};It.isProfiler=function(t){return Ui(t)===x2};It.isStrictMode=function(t){return Ui(t)===v2};It.isSuspense=function(t){return Ui(t)===S2};It.isSuspenseList=function(t){return Ui(t)===E2};It.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===y2||t===x2||t===v2||t===S2||t===E2||t===woe||typeof t=="object"&&t!==null&&(t.$$typeof===P2||t.$$typeof===k2||t.$$typeof===b2||t.$$typeof===w2||t.$$typeof===_2||t.$$typeof===aL||t.getModuleId!==void 0)};It.typeOf=Ui;iL.exports=It;var _oe=iL.exports,Soe=F0,Eoe=V0,koe="[object Number]";function Poe(t){return typeof t=="number"||Eoe(t)&&Soe(t)==koe}var sL=Poe;const Toe=$t(sL);var Noe=sL;function Aoe(t){return Noe(t)&&t!=+t}var Ioe=Aoe;const Fu=$t(Ioe);var Zi=function(e){return e===0?0:e>0?1:-1},Ro=function(e){return cl(e)&&e.indexOf("%")===e.length-1},ge=function(e){return Toe(e)&&!Fu(e)},Coe=function(e){return ft(e)},jn=function(e){return ge(e)||cl(e)},Ooe=0,T4=function(e){var n=++Ooe;return"".concat(e||"").concat(n)},ul=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!cl(e))return r;var a;if(Ro(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Fu(a)&&(a=r),i&&a>n&&(a=n),a},cs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},joe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ei=function(e,n){return ge(e)&&ge(n)?function(r){return e+r*(n-e)}:function(){return n}};function Im(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ri(r,e))===n})}var Roe=function(e,n){return ge(e)&&ge(n)?e-n:cl(e)&&cl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function kc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function $7(t){"@babel/helpers - typeof";return $7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$7(t)}var Moe=["viewBox","children"],$oe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jP=["points","pathLength"],g6={svg:Moe,polygon:jP,polyline:jP},Eb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!Mu(r))return null;var i={};return Object.keys(r).forEach(function(a){Eb.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Doe=function(e,n,r){return function(i){return e(n,r,i),null}},Om=function(e,n,r){if(!Mu(e)||$7(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];Eb.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Doe(s,n,r))}),i},Loe=["children"],Foe=["children"];function RP(t,e){if(t==null)return{};var n=Voe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Voe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D7(t){"@babel/helpers - typeof";return D7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D7(t)}var MP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},x0=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$P=null,y6=null,kb=function t(e){if(e===$P&&Array.isArray(y6))return y6;var n=[];return R.Children.forEach(e,function(r){ft(r)||(_oe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),y6=n,$P=e,n};function la(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return x0(i)}):r=[x0(e)],kb(t).forEach(function(i){var a=Ri(i,"type.displayName")||Ri(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Zr(t,e){var n=la(t,e);return n&&n[0]}var DP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ge(r)||r<=0||!ge(i)||i<=0)},Uoe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Boe=function(e){return e&&e.type&&cl(e.type)&&Uoe.indexOf(e.type)>=0},zoe=function(e){return e&&D7(e)==="object"&&"clipDot"in e},qoe=function(e,n,r,i){var a,s=(a=g6==null?void 0:g6[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!tt(e)&&(i&&s.includes(n)||$oe.includes(n))||r&&Eb.includes(n)},ot=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!Mu(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;qoe((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},L7=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return LP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!LP(a,s))return!1}return!0},LP=function(e,n){if(ft(e)&&ft(n))return!0;if(!ft(e)&&!ft(n)){var r=e.props||{},i=r.children,a=RP(r,Loe),s=n.props||{},o=s.children,l=RP(s,Foe);return i&&o?kc(a,l)&&L7(i,o):!i&&!o?kc(a,l):!1}return!1},FP=function(e,n){var r=[],i={};return kb(e).forEach(function(a,s){if(Boe(a))r.push(a);else if(a){var o=x0(a.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(a,o,s);r.push(d),i[o]=!0}}}),r},Woe=function(e){var n=e&&e.type;return n&&MP[n]?MP[n]:null},Hoe=function(e,n){return kb(n).indexOf(e)},Goe=["children","width","height","viewBox","className","style","title","desc"];function F7(){return F7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F7.apply(this,arguments)}function Koe(t,e){if(t==null)return{};var n=Qoe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V7(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=Koe(t,Goe),u=i||{width:n,height:r,x:0,y:0},d=yt("recharts-surface",a);return B.createElement("svg",F7({},ot(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),B.createElement("title",null,o),B.createElement("desc",null,l),e)}var Yoe=["children","className"];function U7(){return U7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U7.apply(this,arguments)}function Xoe(t,e){if(t==null)return{};var n=Joe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Joe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tn=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=Xoe(t,Yoe),a=yt("recharts-layer",r);return B.createElement("g",U7({className:a},ot(i,!0),{ref:e}),n)}),b0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Zoe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var ele=Zoe,tle=ele;function nle(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:tle(t,e,n)}var rle=nle,ile="\\ud800-\\udfff",ale="\\u0300-\\u036f",sle="\\ufe20-\\ufe2f",ole="\\u20d0-\\u20ff",lle=ale+sle+ole,cle="\\ufe0e\\ufe0f",ule="\\u200d",dle=RegExp("["+ule+ile+lle+cle+"]");function fle(t){return dle.test(t)}var oL=fle;function hle(t){return t.split("")}var ple=hle,lL="\\ud800-\\udfff",mle="\\u0300-\\u036f",gle="\\ufe20-\\ufe2f",yle="\\u20d0-\\u20ff",vle=mle+gle+yle,xle="\\ufe0e\\ufe0f",ble="["+lL+"]",B7="["+vle+"]",z7="\\ud83c[\\udffb-\\udfff]",wle="(?:"+B7+"|"+z7+")",cL="[^"+lL+"]",uL="(?:\\ud83c[\\udde6-\\uddff]){2}",dL="[\\ud800-\\udbff][\\udc00-\\udfff]",_le="\\u200d",fL=wle+"?",hL="["+xle+"]?",Sle="(?:"+_le+"(?:"+[cL,uL,dL].join("|")+")"+hL+fL+")*",Ele=hL+fL+Sle,kle="(?:"+[cL+B7+"?",B7,uL,dL,ble].join("|")+")",Ple=RegExp(z7+"(?="+z7+")|"+kle+Ele,"g");function Tle(t){return t.match(Ple)||[]}var Nle=Tle,Ale=ple,Ile=oL,Cle=Nle;function Ole(t){return Ile(t)?Cle(t):Ale(t)}var jle=Ole,Rle=rle,Mle=oL,$le=jle,Dle=tL;function Lle(t){return function(e){e=Dle(e);var n=Mle(e)?$le(e):void 0,r=n?n[0]:e.charAt(0),i=n?Rle(n,1).join(""):e.slice(1);return r[t]()+i}}var Fle=Lle,Vle=Fle,Ule=Vle("toUpperCase"),Ble=Ule;const T2=$t(Ble);function Dt(t){return function(){return t}}const pL=Math.cos,jm=Math.sin,fa=Math.sqrt,Rm=Math.PI,N2=2*Rm,q7=Math.PI,W7=2*q7,_o=1e-6,zle=W7-_o;function mL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mL;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Wle{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mL:qle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,d=o-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>_o)if(!(Math.abs(d*l-c*u)>_o)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-o,x=l*l+c*c,y=p*p+g*g,v=Math.sqrt(x),b=Math.sqrt(h),w=a*Math.tan((q7-Math.acos((x+h-y)/(2*v*b)))/2),S=w/b,E=w/v;Math.abs(S-1)>_o&&this._append`L${e+S*u},${n+S*d}`,this._append`A${a},${a},0,0,${+(d*p>u*g)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>_o||Math.abs(this._y1-u)>_o)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%W7+W7),h>zle?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>_o&&this._append`A${r},${r},0,${+(h>=q7)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Pb(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Wle(e)}function Tb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gL(t){this._context=t}gL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function A2(t){return new gL(t)}function yL(t){return t[0]}function vL(t){return t[1]}function xL(t,e){var n=Dt(!0),r=null,i=A2,a=null,s=Pb(o);t=typeof t=="function"?t:t===void 0?yL:Dt(t),e=typeof e=="function"?e:e===void 0?vL:Dt(e);function o(l){var c,u=(l=Tb(l)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Dt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Dt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Dt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Pp(t,e,n){var r=null,i=Dt(!0),a=null,s=A2,o=null,l=Pb(c);t=typeof t=="function"?t:t===void 0?yL:Dt(+t),e=typeof e=="function"?e:Dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?vL:Dt(+n);function c(d){var h,p,g,x=(d=Tb(d)).length,y,v=!1,b,w=new Array(x),S=new Array(x);for(a==null&&(o=s(b=l())),h=0;h<=x;++h){if(!(h<x&&i(y=d[h],h,d))===v)if(v=!v)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],S[g]);o.lineEnd(),o.areaEnd()}v&&(w[h]=+t(y,h,d),S[h]=+e(y,h,d),o.point(r?+r(y,h,d):w[h],n?+n(y,h,d):S[h]))}if(b)return o=null,b+""||null}function u(){return xL().defined(i).curve(s).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Dt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Dt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Dt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Dt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Dt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Dt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Dt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}class bL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Hle(t){return new bL(t,!0)}function Gle(t){return new bL(t,!1)}const Nb={draw(t,e){const n=fa(e/Rm);t.moveTo(n,0),t.arc(0,0,n,0,N2)}},Kle={draw(t,e){const n=fa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},wL=fa(1/3),Qle=wL*2,Yle={draw(t,e){const n=fa(e/Qle),r=n*wL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Xle={draw(t,e){const n=fa(e),r=-n/2;t.rect(r,r,n,n)}},Jle=.8908130915292852,_L=jm(Rm/10)/jm(7*Rm/10),Zle=jm(N2/10)*_L,ece=-pL(N2/10)*_L,tce={draw(t,e){const n=fa(e*Jle),r=Zle*n,i=ece*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=N2*a/5,o=pL(s),l=jm(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},v6=fa(3),nce={draw(t,e){const n=-fa(e/(v6*3));t.moveTo(0,n*2),t.lineTo(-v6*n,-n),t.lineTo(v6*n,-n),t.closePath()}},yi=-.5,vi=fa(3)/2,H7=1/fa(12),rce=(H7/2+1)*3,ice={draw(t,e){const n=fa(e/rce),r=n/2,i=n*H7,a=r,s=n*H7+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(yi*r-vi*i,vi*r+yi*i),t.lineTo(yi*a-vi*s,vi*a+yi*s),t.lineTo(yi*o-vi*l,vi*o+yi*l),t.lineTo(yi*r+vi*i,yi*i-vi*r),t.lineTo(yi*a+vi*s,yi*s-vi*a),t.lineTo(yi*o+vi*l,yi*l-vi*o),t.closePath()}};function ace(t,e){let n=null,r=Pb(i);t=typeof t=="function"?t:Dt(t||Nb),e=typeof e=="function"?e:Dt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Dt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Dt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Mm(){}function $m(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function SL(t){this._context=t}SL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$m(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$m(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sce(t){return new SL(t)}function EL(t){this._context=t}EL.prototype={areaStart:Mm,areaEnd:Mm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$m(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oce(t){return new EL(t)}function kL(t){this._context=t}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$m(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lce(t){return new kL(t)}function PL(t){this._context=t}PL.prototype={areaStart:Mm,areaEnd:Mm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cce(t){return new PL(t)}function VP(t){return t<0?-1:1}function UP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(VP(a)+VP(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function BP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function x6(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Dm(t){this._context=t}Dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:x6(this,this._t0,BP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,x6(this,BP(this,n=UP(this,t,e)),n);break;default:x6(this,this._t0,n=UP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function TL(t){this._context=new NL(t)}(TL.prototype=Object.create(Dm.prototype)).point=function(t,e){Dm.prototype.point.call(this,e,t)};function NL(t){this._context=t}NL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function uce(t){return new Dm(t)}function dce(t){return new TL(t)}function AL(t){this._context=t}AL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zP(t),i=zP(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zP(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function fce(t){return new AL(t)}function I2(t,e){this._context=t,this._t=e}I2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function hce(t){return new I2(t,.5)}function pce(t){return new I2(t,0)}function mce(t){return new I2(t,1)}function Hc(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function G7(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function gce(t,e){return t[e]}function yce(t){const e=[];return e.key=t,e}function vce(){var t=Dt([]),e=G7,n=Hc,r=gce;function i(a){var s=Array.from(t.apply(this,arguments),yce),o,l=s.length,c=-1,u;for(const d of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(d,s[o].key,c,a)]).data=d;for(o=0,u=Tb(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Dt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Dt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?G7:typeof a=="function"?a:Dt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Hc,i):n},i}function xce(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Hc(t,e)}}function bce(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Hc(t,e)}}function wce(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var x=t[e[g]],y=x[r][1]||0,v=x[r-1][1]||0;p+=y-v}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Hc(t,e)}}function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}var _ce=["type","size","sizeType"];function K7(){return K7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K7.apply(this,arguments)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){Sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sce(t,e,n){return e=Ece(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=kce(t,"string");return dh(e)=="symbol"?e:e+""}function kce(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pce(t,e){if(t==null)return{};var n=Tce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var IL={symbolCircle:Nb,symbolCross:Kle,symbolDiamond:Yle,symbolSquare:Xle,symbolStar:tce,symbolTriangle:nce,symbolWye:ice},Nce=Math.PI/180,Ace=function(e){var n="symbol".concat(T2(e));return IL[n]||Nb},Ice=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Nce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Cce=function(e,n){IL["symbol".concat(T2(e))]=n},Ab=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=Pce(e,_ce),c=WP(WP({},l),{},{type:r,size:a,sizeType:o}),u=function(){var y=Ace(r),v=ace().type(y).size(Ice(a,o,r));return v()},d=c.className,h=c.cx,p=c.cy,g=ot(c,!0);return h===+h&&p===+p&&a===+a?B.createElement("path",K7({},g,{className:yt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};Ab.registerSymbol=Cce;function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function Q7(){return Q7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q7.apply(this,arguments)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OL(r.key),r)}}function Mce(t,e,n){return e&&Rce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ce(t,e,n){return e=Lm(e),Dce(t,CL()?Reflect.construct(e,n||[],Lm(t).constructor):e.apply(t,n))}function Dce(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lce(t)}function Lce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CL=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lm(t)}function Fce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y7(t,e)}function Y7(t,e){return Y7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y7(t,e)}function fh(t,e,n){return e=OL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OL(t){var e=Vce(t,"string");return Gc(e)=="symbol"?e:e+""}function Vce(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xi=32,Ib=function(t){function e(){return jce(this,e),$ce(this,e,arguments)}return Fce(e,t),Mce(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=xi/2,s=xi/6,o=xi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:xi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(xi,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(xi/8,"h").concat(xi,"v").concat(xi*3/4,"h").concat(-xi,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var c=Oce({},r);return delete c.legendIcon,B.cloneElement(r.legendIcon,c)}return B.createElement(Ab,{fill:l,cx:a,cy:a,size:xi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:xi,height:xi},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var x=p.formatter||l,y=yt(fh(fh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=tt(p.value)?null:p.value;b0(!tt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return B.createElement("li",Q7({className:y,style:d,key:"legend-item-".concat(g)},Om(r.props,p,g)),B.createElement(V7,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(v,p,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(R.PureComponent);fh(Ib,"displayName","Legend");fh(Ib,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Uce=p2;function Bce(){this.__data__=new Uce,this.size=0}var zce=Bce;function qce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Wce=qce;function Hce(t){return this.__data__.get(t)}var Gce=Hce;function Kce(t){return this.__data__.has(t)}var Qce=Kce,Yce=p2,Xce=yb,Jce=vb,Zce=200;function eue(t,e){var n=this.__data__;if(n instanceof Yce){var r=n.__data__;if(!Xce||r.length<Zce-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Jce(r)}return n.set(t,e),this.size=n.size,this}var tue=eue,nue=p2,rue=zce,iue=Wce,aue=Gce,sue=Qce,oue=tue;function Vu(t){var e=this.__data__=new nue(t);this.size=e.size}Vu.prototype.clear=rue;Vu.prototype.delete=iue;Vu.prototype.get=aue;Vu.prototype.has=sue;Vu.prototype.set=oue;var jL=Vu,lue="__lodash_hash_undefined__";function cue(t){return this.__data__.set(t,lue),this}var uue=cue;function due(t){return this.__data__.has(t)}var fue=due,hue=vb,pue=uue,mue=fue;function Fm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hue;++e<n;)this.add(t[e])}Fm.prototype.add=Fm.prototype.push=pue;Fm.prototype.has=mue;var RL=Fm;function gue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ML=gue;function yue(t,e){return t.has(e)}var $L=yue,vue=RL,xue=ML,bue=$L,wue=1,_ue=2;function Sue(t,e,n,r,i,a){var s=n&wue,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&_ue?new vue:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var g=t[d],x=e[d];if(r)var y=s?r(x,g,d,e,t,a):r(g,x,d,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!xue(e,function(v,b){if(!bue(p,b)&&(g===v||i(g,v,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(g===x||i(g,x,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var DL=Sue,Eue=Ka,kue=Eue.Uint8Array,Pue=kue;function Tue(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Nue=Tue;function Aue(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Cb=Aue,GP=P4,KP=Pue,Iue=gb,Cue=DL,Oue=Nue,jue=Cb,Rue=1,Mue=2,$ue="[object Boolean]",Due="[object Date]",Lue="[object Error]",Fue="[object Map]",Vue="[object Number]",Uue="[object RegExp]",Bue="[object Set]",zue="[object String]",que="[object Symbol]",Wue="[object ArrayBuffer]",Hue="[object DataView]",QP=GP?GP.prototype:void 0,b6=QP?QP.valueOf:void 0;function Gue(t,e,n,r,i,a,s){switch(n){case Hue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Wue:return!(t.byteLength!=e.byteLength||!a(new KP(t),new KP(e)));case $ue:case Due:case Vue:return Iue(+t,+e);case Lue:return t.name==e.name&&t.message==e.message;case Uue:case zue:return t==e+"";case Fue:var o=Oue;case Bue:var l=r&Rue;if(o||(o=jue),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Mue,s.set(t,e);var u=Cue(o(t),o(e),r,i,a,s);return s.delete(t),u;case que:if(b6)return b6.call(t)==b6.call(e)}return!1}var Kue=Gue;function Que(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var LL=Que,Yue=LL,Xue=Qr;function Jue(t,e,n){var r=e(t);return Xue(t)?r:Yue(r,n(t))}var Zue=Jue;function ede(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var tde=ede;function nde(){return[]}var rde=nde,ide=tde,ade=rde,sde=Object.prototype,ode=sde.propertyIsEnumerable,YP=Object.getOwnPropertySymbols,lde=YP?function(t){return t==null?[]:(t=Object(t),ide(YP(t),function(e){return ode.call(t,e)}))}:ade,cde=lde;function ude(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var dde=ude,fde=F0,hde=V0,pde="[object Arguments]";function mde(t){return hde(t)&&fde(t)==pde}var gde=mde,XP=gde,yde=V0,FL=Object.prototype,vde=FL.hasOwnProperty,xde=FL.propertyIsEnumerable,bde=XP(function(){return arguments}())?XP:function(t){return yde(t)&&vde.call(t,"callee")&&!xde.call(t,"callee")},Ob=bde,Vm={exports:{}};function wde(){return!1}var _de=wde;Vm.exports;(function(t,e){var n=Ka,r=_de,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(Vm,Vm.exports);var VL=Vm.exports,Sde=9007199254740991,Ede=/^(?:0|[1-9]\d*)$/;function kde(t,e){var n=typeof t;return e=e??Sde,!!e&&(n=="number"||n!="symbol"&&Ede.test(t))&&t>-1&&t%1==0&&t<e}var jb=kde,Pde=9007199254740991;function Tde(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Pde}var Rb=Tde,Nde=F0,Ade=Rb,Ide=V0,Cde="[object Arguments]",Ode="[object Array]",jde="[object Boolean]",Rde="[object Date]",Mde="[object Error]",$de="[object Function]",Dde="[object Map]",Lde="[object Number]",Fde="[object Object]",Vde="[object RegExp]",Ude="[object Set]",Bde="[object String]",zde="[object WeakMap]",qde="[object ArrayBuffer]",Wde="[object DataView]",Hde="[object Float32Array]",Gde="[object Float64Array]",Kde="[object Int8Array]",Qde="[object Int16Array]",Yde="[object Int32Array]",Xde="[object Uint8Array]",Jde="[object Uint8ClampedArray]",Zde="[object Uint16Array]",efe="[object Uint32Array]",qt={};qt[Hde]=qt[Gde]=qt[Kde]=qt[Qde]=qt[Yde]=qt[Xde]=qt[Jde]=qt[Zde]=qt[efe]=!0;qt[Cde]=qt[Ode]=qt[qde]=qt[jde]=qt[Wde]=qt[Rde]=qt[Mde]=qt[$de]=qt[Dde]=qt[Lde]=qt[Fde]=qt[Vde]=qt[Ude]=qt[Bde]=qt[zde]=!1;function tfe(t){return Ide(t)&&Ade(t.length)&&!!qt[Nde(t)]}var nfe=tfe;function rfe(t){return function(e){return t(e)}}var UL=rfe,Um={exports:{}};Um.exports;(function(t,e){var n=QD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Um,Um.exports);var ife=Um.exports,afe=nfe,sfe=UL,JP=ife,ZP=JP&&JP.isTypedArray,ofe=ZP?sfe(ZP):afe,BL=ofe,lfe=dde,cfe=Ob,ufe=Qr,dfe=VL,ffe=jb,hfe=BL,pfe=Object.prototype,mfe=pfe.hasOwnProperty;function gfe(t,e){var n=ufe(t),r=!n&&cfe(t),i=!n&&!r&&dfe(t),a=!n&&!r&&!i&&hfe(t),s=n||r||i||a,o=s?lfe(t.length,String):[],l=o.length;for(var c in t)(e||mfe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ffe(c,l)))&&o.push(c);return o}var yfe=gfe,vfe=Object.prototype;function xfe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vfe;return t===n}var bfe=xfe;function wfe(t,e){return function(n){return t(e(n))}}var zL=wfe,_fe=zL,Sfe=_fe(Object.keys,Object),Efe=Sfe,kfe=bfe,Pfe=Efe,Tfe=Object.prototype,Nfe=Tfe.hasOwnProperty;function Afe(t){if(!kfe(t))return Pfe(t);var e=[];for(var n in Object(t))Nfe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ife=Afe,Cfe=mb,Ofe=Rb;function jfe(t){return t!=null&&Ofe(t.length)&&!Cfe(t)}var N4=jfe,Rfe=yfe,Mfe=Ife,$fe=N4;function Dfe(t){return $fe(t)?Rfe(t):Mfe(t)}var C2=Dfe,Lfe=Zue,Ffe=cde,Vfe=C2;function Ufe(t){return Lfe(t,Vfe,Ffe)}var Bfe=Ufe,eT=Bfe,zfe=1,qfe=Object.prototype,Wfe=qfe.hasOwnProperty;function Hfe(t,e,n,r,i,a){var s=n&zfe,o=eT(t),l=o.length,c=eT(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in e:Wfe.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var x=!0;a.set(t,e),a.set(e,t);for(var y=s;++d<l;){h=o[d];var v=t[h],b=e[h];if(r)var w=s?r(b,v,h,e,t,a):r(v,b,h,t,e,a);if(!(w===void 0?v===b||i(v,b,n,r,a):w)){x=!1;break}y||(y=h=="constructor")}if(x&&!y){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(x=!1)}return a.delete(t),a.delete(e),x}var Gfe=Hfe,Kfe=Nl,Qfe=Ka,Yfe=Kfe(Qfe,"DataView"),Xfe=Yfe,Jfe=Nl,Zfe=Ka,ehe=Jfe(Zfe,"Promise"),the=ehe,nhe=Nl,rhe=Ka,ihe=nhe(rhe,"Set"),qL=ihe,ahe=Nl,she=Ka,ohe=ahe(she,"WeakMap"),lhe=ohe,X7=Xfe,J7=yb,Z7=the,ev=qL,tv=lhe,WL=F0,Uu=XD,tT="[object Map]",che="[object Object]",nT="[object Promise]",rT="[object Set]",iT="[object WeakMap]",aT="[object DataView]",uhe=Uu(X7),dhe=Uu(J7),fhe=Uu(Z7),hhe=Uu(ev),phe=Uu(tv),So=WL;(X7&&So(new X7(new ArrayBuffer(1)))!=aT||J7&&So(new J7)!=tT||Z7&&So(Z7.resolve())!=nT||ev&&So(new ev)!=rT||tv&&So(new tv)!=iT)&&(So=function(t){var e=WL(t),n=e==che?t.constructor:void 0,r=n?Uu(n):"";if(r)switch(r){case uhe:return aT;case dhe:return tT;case fhe:return nT;case hhe:return rT;case phe:return iT}return e});var mhe=So,w6=jL,ghe=DL,yhe=Kue,vhe=Gfe,sT=mhe,oT=Qr,lT=VL,xhe=BL,bhe=1,cT="[object Arguments]",uT="[object Array]",Tp="[object Object]",whe=Object.prototype,dT=whe.hasOwnProperty;function _he(t,e,n,r,i,a){var s=oT(t),o=oT(e),l=s?uT:sT(t),c=o?uT:sT(e);l=l==cT?Tp:l,c=c==cT?Tp:c;var u=l==Tp,d=c==Tp,h=l==c;if(h&&lT(t)){if(!lT(e))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new w6),s||xhe(t)?ghe(t,e,n,r,i,a):yhe(t,e,l,n,r,i,a);if(!(n&bhe)){var p=u&&dT.call(t,"__wrapped__"),g=d&&dT.call(e,"__wrapped__");if(p||g){var x=p?t.value():t,y=g?e.value():e;return a||(a=new w6),i(x,y,n,r,a)}}return h?(a||(a=new w6),vhe(t,e,n,r,i,a)):!1}var She=_he,Ehe=She,fT=V0;function HL(t,e,n,r,i){return t===e?!0:t==null||e==null||!fT(t)&&!fT(e)?t!==t&&e!==e:Ehe(t,e,n,r,HL,i)}var Mb=HL,khe=jL,Phe=Mb,The=1,Nhe=2;function Ahe(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new khe;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?Phe(u,c,The|Nhe,r,d):h))return!1}}return!0}var Ihe=Ahe,Che=ro;function Ohe(t){return t===t&&!Che(t)}var GL=Ohe,jhe=GL,Rhe=C2;function Mhe(t){for(var e=Rhe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jhe(i)]}return e}var $he=Mhe;function Dhe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var KL=Dhe,Lhe=Ihe,Fhe=$he,Vhe=KL;function Uhe(t){var e=Fhe(t);return e.length==1&&e[0][2]?Vhe(e[0][0],e[0][1]):function(n){return n===t||Lhe(n,t,e)}}var Bhe=Uhe;function zhe(t,e){return t!=null&&e in Object(t)}var qhe=zhe,Whe=nL,Hhe=Ob,Ghe=Qr,Khe=jb,Qhe=Rb,Yhe=g2;function Xhe(t,e,n){e=Whe(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=Yhe(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Qhe(i)&&Khe(s,i)&&(Ghe(t)||Hhe(t)))}var Jhe=Xhe,Zhe=qhe,e4e=Jhe;function t4e(t,e){return t!=null&&e4e(t,e,Zhe)}var n4e=t4e,r4e=Mb,i4e=rL,a4e=n4e,s4e=pb,o4e=GL,l4e=KL,c4e=g2,u4e=1,d4e=2;function f4e(t,e){return s4e(t)&&o4e(e)?l4e(c4e(t),e):function(n){var r=i4e(n,t);return r===void 0&&r===e?a4e(n,t):r4e(e,r,u4e|d4e)}}var h4e=f4e;function p4e(t){return t}var Bu=p4e;function m4e(t){return function(e){return e==null?void 0:e[t]}}var g4e=m4e,y4e=wb;function v4e(t){return function(e){return y4e(e,t)}}var x4e=v4e,b4e=g4e,w4e=x4e,_4e=pb,S4e=g2;function E4e(t){return _4e(t)?b4e(S4e(t)):w4e(t)}var k4e=E4e,P4e=Bhe,T4e=h4e,N4e=Bu,A4e=Qr,I4e=k4e;function C4e(t){return typeof t=="function"?t:t==null?N4e:typeof t=="object"?A4e(t)?T4e(t[0],t[1]):P4e(t):I4e(t)}var io=C4e;function O4e(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var QL=O4e;function j4e(t){return t!==t}var R4e=j4e;function M4e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var $4e=M4e,D4e=QL,L4e=R4e,F4e=$4e;function V4e(t,e,n){return e===e?F4e(t,e,n):D4e(t,L4e,n)}var U4e=V4e,B4e=U4e;function z4e(t,e){var n=t==null?0:t.length;return!!n&&B4e(t,e,0)>-1}var q4e=z4e;function W4e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var H4e=W4e;function G4e(){}var K4e=G4e,_6=qL,Q4e=K4e,Y4e=Cb,X4e=1/0,J4e=_6&&1/Y4e(new _6([,-0]))[1]==X4e?function(t){return new _6(t)}:Q4e,Z4e=J4e,epe=RL,tpe=q4e,npe=H4e,rpe=$L,ipe=Z4e,ape=Cb,spe=200;function ope(t,e,n){var r=-1,i=tpe,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=npe;else if(a>=spe){var c=e?null:ipe(t);if(c)return ape(c);s=!1,i=rpe,l=new epe}else l=e?[]:o;e:for(;++r<a;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}var lpe=ope,cpe=io,upe=lpe;function dpe(t,e){return t&&t.length?upe(t,cpe(e)):[]}var fpe=dpe;const hT=$t(fpe);function YL(t,e,n){return e===!0?hT(t,n):tt(e)?hT(t,e):t}function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}var hpe=["ref"];function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(n),!0).forEach(function(r){O2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JL(r.key),r)}}function mpe(t,e,n){return e&&mT(t.prototype,e),n&&mT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,n){return e=Bm(e),ype(t,XL()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function ype(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vpe(t)}function vpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nv(t,e)}function nv(t,e){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nv(t,e)}function O2(t,e,n){return e=JL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JL(t){var e=bpe(t,"string");return Kc(e)=="symbol"?e:e+""}function bpe(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wpe(t,e){if(t==null)return{};var n=_pe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _pe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Spe(t){return t.value}function Epe(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=wpe(e,hpe);return B.createElement(Ib,n)}var gT=1,Pc=function(t){function e(){var n;ppe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=gpe(this,e,[].concat(i)),O2(n,"lastBoundingBox",{width:-1,height:-1}),n}return xpe(e,t),mpe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>gT||Math.abs(i.height-this.lastBoundingBox.height)>gT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ja({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ja(Ja({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Ja(Ja({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},Epe(a,Ja(Ja({},this.props),{},{payload:YL(u,c,Spe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ja(Ja({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&ge(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);O2(Pc,"displayName","Legend");O2(Pc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var yT=P4,kpe=Ob,Ppe=Qr,vT=yT?yT.isConcatSpreadable:void 0;function Tpe(t){return Ppe(t)||kpe(t)||!!(vT&&t&&t[vT])}var Npe=Tpe,Ape=LL,Ipe=Npe;function ZL(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=Ipe),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?ZL(o,e-1,n,r,i):Ape(i,o):r||(i[i.length]=o)}return i}var eF=ZL;function Cpe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var Ope=Cpe,jpe=Ope,Rpe=jpe(),Mpe=Rpe,$pe=Mpe,Dpe=C2;function Lpe(t,e){return t&&$pe(t,e,Dpe)}var tF=Lpe,Fpe=N4;function Vpe(t,e){return function(n,r){if(n==null)return n;if(!Fpe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Upe=Vpe,Bpe=tF,zpe=Upe,qpe=zpe(Bpe),$b=qpe,Wpe=$b,Hpe=N4;function Gpe(t,e){var n=-1,r=Hpe(t)?Array(t.length):[];return Wpe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var nF=Gpe;function Kpe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Qpe=Kpe,xT=Ru;function Ype(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=xT(t),s=e!==void 0,o=e===null,l=e===e,c=xT(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var Xpe=Ype,Jpe=Xpe;function Zpe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=Jpe(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var e3e=Zpe,S6=bb,t3e=wb,n3e=io,r3e=nF,i3e=Qpe,a3e=UL,s3e=e3e,o3e=Bu,l3e=Qr;function c3e(t,e,n){e.length?e=S6(e,function(a){return l3e(a)?function(s){return t3e(s,a.length===1?a[0]:a)}:a}):e=[o3e];var r=-1;e=S6(e,a3e(n3e));var i=r3e(t,function(a,s,o){var l=S6(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return i3e(i,function(a,s){return s3e(a,s,n)})}var u3e=c3e;function d3e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var f3e=d3e,h3e=f3e,bT=Math.max;function p3e(t,e,n){return e=bT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=bT(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),h3e(t,this,o)}}var m3e=p3e;function g3e(t){return function(){return t}}var y3e=g3e,v3e=Nl,x3e=function(){try{var t=v3e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rF=x3e,b3e=y3e,wT=rF,w3e=Bu,_3e=wT?function(t,e){return wT(t,"toString",{configurable:!0,enumerable:!1,value:b3e(e),writable:!0})}:w3e,S3e=_3e,E3e=800,k3e=16,P3e=Date.now;function T3e(t){var e=0,n=0;return function(){var r=P3e(),i=k3e-(r-n);if(n=r,i>0){if(++e>=E3e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var N3e=T3e,A3e=S3e,I3e=N3e,C3e=I3e(A3e),O3e=C3e,j3e=Bu,R3e=m3e,M3e=O3e;function $3e(t,e){return M3e(R3e(t,e,j3e),t+"")}var D3e=$3e,L3e=gb,F3e=N4,V3e=jb,U3e=ro;function B3e(t,e,n){if(!U3e(n))return!1;var r=typeof e;return(r=="number"?F3e(n)&&V3e(e,n.length):r=="string"&&e in n)?L3e(n[e],t):!1}var j2=B3e,z3e=eF,q3e=u3e,W3e=D3e,_T=j2,H3e=W3e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&_T(t,e[0],e[1])?e=[]:n>2&&_T(e[0],e[1],e[2])&&(e=[e[0]]),q3e(t,z3e(e,1),[])}),G3e=H3e;const Db=$t(G3e);function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}function K3e(t,e){return J3e(t)||X3e(t,e)||Y3e(t,e)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y3e(t,e){if(t){if(typeof t=="string")return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(t,e)}}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function J3e(t){if(Array.isArray(t))return t}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){Z3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z3e(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return hh(e)=="symbol"?e:e+""}function tme(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t){return Array.isArray(t)&&jn(t[0])&&jn(t[1])?t.join(" ~ "):t}var rme=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,x=e.label,y=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(u&&u.length){var j={padding:0,margin:0},O=(h?Db(u,h):u).map(function($,M){if($.type==="none")return null;var D=E6({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},o),V=$.formatter||d||nme,F=$.value,U=$.name,H=F,G=U;if(V&&H!=null&&G!=null){var W=V(F,U,$,M,u);if(Array.isArray(W)){var ee=K3e(W,2);H=ee[0],G=ee[1]}else H=W}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:D},jn(G)?B.createElement("span",{className:"recharts-tooltip-item-name"},G):null,jn(G)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},H),B.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},S=E6({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=E6({margin:0},c),P=!ft(x),_=P?x:"",k=yt("recharts-default-tooltip",p),N=yt("recharts-tooltip-label",g);P&&y&&u!==void 0&&u!==null&&(_=y(x,u));var A=b?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",rv({className:k,style:S},A),B.createElement("p",{className:N,style:E},B.isValidElement(_)?_:"".concat(_)),w())};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function Np(t,e,n){return e=ime(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=ame(t,"string");return ph(e)=="symbol"?e:e+""}function ame(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bd="recharts-tooltip-wrapper",sme={visibility:"hidden"};function ome(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return yt(bd,Np(Np(Np(Np({},"".concat(bd,"-right"),ge(n)&&e&&ge(e.x)&&n>=e.x),"".concat(bd,"-left"),ge(n)&&e&&ge(e.x)&&n<e.x),"".concat(bd,"-bottom"),ge(r)&&e&&ge(e.y)&&r>=e.y),"".concat(bd,"-top"),ge(r)&&e&&ge(e.y)&&r<e.y))}function kT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&ge(a[r]))return a[r];var u=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?u:d;if(s[r]){var h=u,p=l[r];return h<p?Math.max(d,l[r]):Math.max(u,l[r])}var g=d+o,x=l[r]+c;return g>x?Math.max(u,l[r]):Math.max(d,l[r])}function lme(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cme(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return s.height>0&&s.width>0&&n?(u=kT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=kT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=lme({translateX:u,translateY:d,useTranslate3d:o})):c=sme,{cssProperties:c,cssClasses:ome({translateX:u,translateY:d,coordinate:n})}}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function PT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(n),!0).forEach(function(r){av(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aF(r.key),r)}}function fme(t,e,n){return e&&dme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hme(t,e,n){return e=zm(e),pme(t,iF()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function pme(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mme(t)}function mme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iF=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function gme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iv(t,e)}function iv(t,e){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iv(t,e)}function av(t,e,n){return e=aF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aF(t){var e=yme(t,"string");return Qc(e)=="symbol"?e:e+""}function yme(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NT=1,vme=function(t){function e(){var n;ume(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hme(this,e,[].concat(i)),av(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),av(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return gme(e,t),fme(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>NT||Math.abs(r.height-this.state.lastBoundingBox.height)>NT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,x=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,w=cme({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),S=w.cssClasses,E=w.cssProperties,P=TT(TT({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return B.createElement("div",{tabIndex:-1,className:S,style:P,ref:function(k){r.wrapperNode=k}},c)}}])}(R.PureComponent),xme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},zu={isSsr:xme()};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){Lb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oF(r.key),r)}}function _me(t,e,n){return e&&wme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sme(t,e,n){return e=qm(e),Eme(t,sF()?Reflect.construct(e,n||[],qm(t).constructor):e.apply(t,n))}function Eme(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kme(t)}function kme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qm(t)}function Pme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sv(t,e)}function sv(t,e){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sv(t,e)}function Lb(t,e,n){return e=oF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oF(t){var e=Tme(t,"string");return Yc(e)=="symbol"?e:e+""}function Tme(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nme(t){return t.dataKey}function Ame(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(rme,e)}var ba=function(t){function e(){return bme(this,e),Sme(this,e,arguments)}return Pme(e,t),_me(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,x=i.payloadUniqBy,y=i.position,v=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,E=g??[];d&&E.length&&(E=YL(g.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),x,Nme));var P=E.length>0;return B.createElement(vme,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:P,offset:p,position:y,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:S},Ame(c,IT(IT({},this.props),{},{payload:E})))}}])}(R.PureComponent);Lb(ba,"displayName","Tooltip");Lb(ba,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!zu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ime=Ka,Cme=function(){return Ime.Date.now()},Ome=Cme,jme=/\s/;function Rme(t){for(var e=t.length;e--&&jme.test(t.charAt(e)););return e}var Mme=Rme,$me=Mme,Dme=/^\s+/;function Lme(t){return t&&t.slice(0,$me(t)+1).replace(Dme,"")}var Fme=Lme,Vme=Fme,CT=ro,Ume=Ru,OT=NaN,Bme=/^[-+]0x[0-9a-f]+$/i,zme=/^0b[01]+$/i,qme=/^0o[0-7]+$/i,Wme=parseInt;function Hme(t){if(typeof t=="number")return t;if(Ume(t))return OT;if(CT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=CT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Vme(t);var n=zme.test(t);return n||qme.test(t)?Wme(t.slice(2),n?2:8):Bme.test(t)?OT:+t}var lF=Hme,Gme=ro,k6=Ome,jT=lF,Kme="Expected a function",Qme=Math.max,Yme=Math.min;function Xme(t,e,n){var r,i,a,s,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Kme);e=jT(e)||0,Gme(n)&&(u=!!n.leading,d="maxWait"in n,a=d?Qme(jT(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(P){var _=r,k=i;return r=i=void 0,c=P,s=t.apply(k,_),s}function g(P){return c=P,o=setTimeout(v,e),u?p(P):s}function x(P){var _=P-l,k=P-c,N=e-_;return d?Yme(N,a-k):N}function y(P){var _=P-l,k=P-c;return l===void 0||_>=e||_<0||d&&k>=a}function v(){var P=k6();if(y(P))return b(P);o=setTimeout(v,x(P))}function b(P){return o=void 0,h&&r?p(P):(r=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function S(){return o===void 0?s:b(k6())}function E(){var P=k6(),_=y(P);if(r=arguments,i=this,l=P,_){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(v,e),p(l)}return o===void 0&&(o=setTimeout(v,e)),s}return E.cancel=w,E.flush=S,E}var Jme=Xme,Zme=Jme,e1e=ro,t1e="Expected a function";function n1e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(t1e);return e1e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Zme(t,e,{leading:r,maxWait:e,trailing:i})}var r1e=n1e;const cF=$t(r1e);function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function RT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(n),!0).forEach(function(r){i1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i1e(t,e,n){return e=a1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a1e(t){var e=s1e(t,"string");return mh(e)=="symbol"?e:e+""}function s1e(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o1e(t,e){return d1e(t)||u1e(t,e)||c1e(t,e)||l1e()}function l1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c1e(t,e){if(t){if(typeof t=="string")return MT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(t,e)}}function MT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function d1e(t){if(Array.isArray(t))return t}var f1e=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,x=g===void 0?0:g,y=t.id,v=t.className,b=t.onResize,w=t.style,S=w===void 0?{}:w,E=R.useRef(null),P=R.useRef();P.current=b,R.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=R.useState({containerWidth:i.width,containerHeight:i.height}),k=o1e(_,2),N=k[0],A=k[1],I=R.useCallback(function(O,$){A(function(M){var D=Math.round(O),V=Math.round($);return M.containerWidth===D&&M.containerHeight===V?M:{containerWidth:D,containerHeight:V}})},[]);R.useEffect(function(){var O=function(U){var H,G=U[0].contentRect,W=G.width,ee=G.height;I(W,ee),(H=P.current)===null||H===void 0||H.call(P,W,ee)};x>0&&(O=cF(O,x,{trailing:!0,leading:!1}));var $=new ResizeObserver(O),M=E.current.getBoundingClientRect(),D=M.width,V=M.height;return I(D,V),$.observe(E.current),function(){$.disconnect()}},[I,x]);var j=R.useMemo(function(){var O=N.containerWidth,$=N.containerHeight;if(O<0||$<0)return null;b0(Ro(s)||Ro(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),b0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=Ro(s)?O:s,D=Ro(l)?$:l;n&&n>0&&(M?D=M/n:D&&(M=D*n),h&&D>h&&(D=h)),b0(M>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,D,s,l,u,d,n);var V=!Array.isArray(p)&&x0(p.type).endsWith("Chart");return B.Children.map(p,function(F){return B.isValidElement(F)?R.cloneElement(F,Ap({width:M,height:D},V?{style:Ap({height:"100%",width:"100%",maxHeight:D,maxWidth:M},F.props.style)}:{})):F})},[n,p,l,h,d,u,N,s]);return B.createElement("div",{id:y?"".concat(y):void 0,className:yt("recharts-responsive-container",v),style:Ap(Ap({},S),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:E},j)}),uF=function(e){return null};uF.displayName="Cell";function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function $T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(n),!0).forEach(function(r){h1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h1e(t,e,n){return e=p1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p1e(t){var e=m1e(t,"string");return gh(e)=="symbol"?e:e+""}function m1e(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dl={widthCache:{},cacheCount:0},g1e=2e3,y1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DT="recharts_measurement_span";function v1e(t){var e=ov({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var kf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||zu.isSsr)return{width:0,height:0};var r=v1e(n),i=JSON.stringify({text:e,copyStyle:r});if(Dl.widthCache[i])return Dl.widthCache[i];try{var a=document.getElementById(DT);a||(a=document.createElement("span"),a.setAttribute("id",DT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=ov(ov({},y1e),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Dl.widthCache[i]=l,++Dl.cacheCount>g1e&&(Dl.cacheCount=0,Dl.widthCache={}),l}catch{return{width:0,height:0}}},x1e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function Wm(t,e){return S1e(t)||_1e(t,e)||w1e(t,e)||b1e()}function b1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1e(t,e){if(t){if(typeof t=="string")return LT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LT(t,e)}}function LT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function S1e(t){if(Array.isArray(t))return t}function E1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P1e(r.key),r)}}function k1e(t,e,n){return e&&FT(t.prototype,e),n&&FT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P1e(t){var e=T1e(t,"string");return yh(e)=="symbol"?e:e+""}function T1e(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,N1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,A1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},I1e=Object.keys(dF),sc="NaN";function C1e(t,e){return t*dF[e]}var Ip=function(){function t(e,n){E1e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!N1e.test(n)&&(this.num=NaN,this.unit=""),I1e.includes(n)&&(this.num=C1e(e,n),this.unit="px")}return k1e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=A1e.exec(n))!==null&&r!==void 0?r:[],a=Wm(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function fF(t){if(t.includes(sc))return sc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=VT.exec(e))!==null&&n!==void 0?n:[],i=Wm(r,4),a=i[1],s=i[2],o=i[3],l=Ip.parse(a??""),c=Ip.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return sc;e=e.replace(VT,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=UT.exec(e))!==null&&d!==void 0?d:[],p=Wm(h,4),g=p[1],x=p[2],y=p[3],v=Ip.parse(g??""),b=Ip.parse(y??""),w=x==="+"?v.add(b):v.subtract(b);if(w.isNaN())return sc;e=e.replace(UT,w.toString())}return e}var BT=/\(([^()]*)\)/;function O1e(t){for(var e=t;e.includes("(");){var n=BT.exec(e),r=Wm(n,2),i=r[1];e=e.replace(BT,fF(i))}return e}function j1e(t){var e=t.replace(/\s+/g,"");return e=O1e(e),e=fF(e),e}function R1e(t){try{return j1e(t)}catch{return sc}}function P6(t){var e=R1e(t.slice(5,-1));return e===sc?"":e}var M1e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$1e=["dx","dy","angle","className","breakAll"];function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lv.apply(this,arguments)}function zT(t,e){if(t==null)return{};var n=D1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qT(t,e){return U1e(t)||V1e(t,e)||F1e(t,e)||L1e()}function L1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F1e(t,e){if(t){if(typeof t=="string")return WT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WT(t,e)}}function WT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function U1e(t){if(Array.isArray(t))return t}var hF=/[ \f\n\r\t\v\u2028\u2029]+/,pF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];ft(n)||(r?a=n.toString().split(""):a=n.toString().split(hF));var s=a.map(function(l){return{word:l,width:kf(l,i).width}}),o=r?0:kf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},B1e=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=ge(s),d=o,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(D,V){var F=V.word,U=V.width,H=D[D.length-1];if(H&&(i==null||a||H.width+U+r<Number(i)))H.words.push(F),H.width+=U+r;else{var G={words:[F],width:U};D.push(G)}return D},[])},p=h(n),g=function(M){return M.reduce(function(D,V){return D.width>V.width?D:V})};if(!u)return p;for(var x="",y=function(M){var D=d.slice(0,M),V=pF({breakAll:c,style:l,children:D+x}).wordsWithComputedWidth,F=h(V),U=F.length>s||g(F).width>Number(i);return[U,F]},v=0,b=d.length-1,w=0,S;v<=b&&w<=d.length-1;){var E=Math.floor((v+b)/2),P=E-1,_=y(P),k=qT(_,2),N=k[0],A=k[1],I=y(E),j=qT(I,1),O=j[0];if(!N&&!O&&(v=E+1),N&&O&&(b=E-1),!N&&O){S=A;break}w++}return S||p},HT=function(e){var n=ft(e)?[]:e.toString().split(hF);return[{words:n}]},z1e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!zu.isSsr){var l,c,u=pF({breakAll:s,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return HT(i);return B1e({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return HT(i)},GT="#808080",Hm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,x=g===void 0?"end":g,y=e.fill,v=y===void 0?GT:y,b=zT(e,M1e),w=R.useMemo(function(){return z1e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),S=b.dx,E=b.dy,P=b.angle,_=b.className,k=b.breakAll,N=zT(b,$1e);if(!jn(r)||!jn(a))return null;var A=r+(ge(S)?S:0),I=a+(ge(E)?E:0),j;switch(x){case"start":j=P6("calc(".concat(c,")"));break;case"middle":j=P6("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:j=P6("calc(".concat(w.length-1," * -").concat(o,")"));break}var O=[];if(d){var $=w[0].width,M=b.width;O.push("scale(".concat((ge(M)?M/$:1)/$,")"))}return P&&O.push("rotate(".concat(P,", ").concat(A,", ").concat(I,")")),O.length&&(N.transform=O.join(" ")),B.createElement("text",lv({},ot(N,!0),{x:A,y:I,className:yt("recharts-text",_),textAnchor:p,fill:v.includes("url")?GT:v}),w.map(function(D,V){var F=D.words.join(k?"":" ");return B.createElement("tspan",{x:A,dy:V===0?j:o,key:"".concat(F,"-").concat(V)},F)}))};function Rs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function q1e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fb(t){let e,n,r;t.length!==2?(e=Rs,n=(o,l)=>Rs(t(o),l),r=(o,l)=>t(o)-l):(e=t===Rs||t===q1e?t:W1e,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function W1e(){return 0}function mF(t){return t===null?NaN:+t}function*H1e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const G1e=Fb(Rs),A4=G1e.right;Fb(mF).center;let Va=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}};class KT extends Map{constructor(e,n=Y1e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QT(this,e))}has(e){return super.has(QT(this,e))}set(e,n){return super.set(K1e(this,e),n)}delete(e){return super.delete(Q1e(this,e))}}function QT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function K1e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Q1e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Y1e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function X1e(t=Rs){if(t===Rs)return gF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const J1e=Math.sqrt(50),Z1e=Math.sqrt(10),ege=Math.sqrt(2);function Gm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=J1e?10:a>=Z1e?5:a>=ege?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?Gm(t,e,n*2):[o,l,c]}function cv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Gm(e,t,n):Gm(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function uv(t,e,n){return e=+e,t=+t,n=+n,Gm(t,e,n)[2]}function dv(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?uv(e,t,n):uv(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function YT(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function XT(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?gF:X1e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+h)),g=Math.min(r,Math.floor(e+(l-c)*d/l+h));yF(t,e,p,g,i)}const a=t[e];let s=n,o=r;for(wd(t,n,e),i(t[r],a)>0&&wd(t,n,r);s<o;){for(wd(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?wd(t,n,o):(++o,wd(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function wd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function tge(t,e,n){if(t=Float64Array.from(H1e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return XT(t);if(e>=1)return YT(t);var r,i=(r-1)*e,a=Math.floor(i),s=YT(yF(t,a).subarray(0,a+1)),o=XT(t.subarray(a+1));return s+(o-s)*(i-a)}}function nge(t,e,n=mF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function*rge(t){for(const e of t)yield*e}function vF(t){return Array.from(rge(t))}function ige(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Bi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function U0(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fv=Symbol("implicit");function Vb(){var t=new KT,e=[],n=[],r=fv;function i(a){let s=t.get(a);if(s===void 0){if(r!==fv)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new KT;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Vb(e,n).unknown(r)},Bi.apply(i,arguments),i}function vh(){var t=Vb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<r,g=p?i:r,x=p?r:i;a=(x-g)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),g+=(x-g-a*(h-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var y=ige(h).map(function(v){return g+a*v});return n(p?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return vh(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Bi.apply(d(),arguments)}function xF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xF(e())},t}function Pf(){return xF(vh.apply(null,arguments).paddingInner(1))}function Ub(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function I4(){}var xh=.7,Km=1/xh,Tc="\\s*([+-]?\\d+)\\s*",bh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",age=/^#([0-9a-f]{3,8})$/,sge=new RegExp(`^rgb\\(${Tc},${Tc},${Tc}\\)$`),oge=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),lge=new RegExp(`^rgba\\(${Tc},${Tc},${Tc},${bh}\\)$`),cge=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${bh}\\)$`),uge=new RegExp(`^hsl\\(${bh},${Ua},${Ua}\\)$`),dge=new RegExp(`^hsla\\(${bh},${Ua},${Ua},${bh}\\)$`),JT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ub(I4,wh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ZT,formatHex:ZT,formatHex8:fge,formatHsl:hge,formatRgb:eN,toString:eN});function ZT(){return this.rgb().formatHex()}function fge(){return this.rgb().formatHex8()}function hge(){return wF(this).formatHsl()}function eN(){return this.rgb().formatRgb()}function wh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=age.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tN(e):n===3?new Ur(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Cp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Cp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sge.exec(t))?new Ur(e[1],e[2],e[3],1):(e=oge.exec(t))?new Ur(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lge.exec(t))?Cp(e[1],e[2],e[3],e[4]):(e=cge.exec(t))?Cp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uge.exec(t))?iN(e[1],e[2]/100,e[3]/100,1):(e=dge.exec(t))?iN(e[1],e[2]/100,e[3]/100,e[4]):JT.hasOwnProperty(t)?tN(JT[t]):t==="transparent"?new Ur(NaN,NaN,NaN,0):null}function tN(t){return new Ur(t>>16&255,t>>8&255,t&255,1)}function Cp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ur(t,e,n,r)}function pge(t){return t instanceof I4||(t=wh(t)),t?(t=t.rgb(),new Ur(t.r,t.g,t.b,t.opacity)):new Ur}function hv(t,e,n,r){return arguments.length===1?pge(t):new Ur(t,e,n,r??1)}function Ur(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ub(Ur,hv,bF(I4,{brighter(t){return t=t==null?Km:Math.pow(Km,t),new Ur(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xh:Math.pow(xh,t),new Ur(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ur(Wo(this.r),Wo(this.g),Wo(this.b),Qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nN,formatHex:nN,formatHex8:mge,formatRgb:rN,toString:rN}));function nN(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}`}function mge(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}${Mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function rN(){const t=Qm(this.opacity);return`${t===1?"rgb(":"rgba("}${Wo(this.r)}, ${Wo(this.g)}, ${Wo(this.b)}${t===1?")":`, ${t})`}`}function Qm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mo(t){return t=Wo(t),(t<16?"0":"")+t.toString(16)}function iN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Yi(t,e,n,r)}function wF(t){if(t instanceof Yi)return new Yi(t.h,t.s,t.l,t.opacity);if(t instanceof I4||(t=wh(t)),!t)return new Yi;if(t instanceof Yi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Yi(s,o,l,t.opacity)}function gge(t,e,n,r){return arguments.length===1?wF(t):new Yi(t,e,n,r??1)}function Yi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ub(Yi,gge,bF(I4,{brighter(t){return t=t==null?Km:Math.pow(Km,t),new Yi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xh:Math.pow(xh,t),new Yi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ur(T6(t>=240?t-240:t+120,i,r),T6(t,i,r),T6(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Yi(aN(this.h),Op(this.s),Op(this.l),Qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qm(this.opacity);return`${t===1?"hsl(":"hsla("}${aN(this.h)}, ${Op(this.s)*100}%, ${Op(this.l)*100}%${t===1?")":`, ${t})`}`}}));function aN(t){return t=(t||0)%360,t<0?t+360:t}function Op(t){return Math.max(0,Math.min(1,t||0))}function T6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Bb=t=>()=>t;function yge(t,e){return function(n){return t+n*e}}function vge(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xge(t){return(t=+t)==1?_F:function(e,n){return n-e?vge(e,n,t):Bb(isNaN(e)?n:e)}}function _F(t,e){var n=e-t;return n?yge(t,n):Bb(isNaN(t)?e:t)}const sN=function t(e){var n=xge(e);function r(i,a){var s=n((i=hv(i)).r,(a=hv(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=_F(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function bge(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function wge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _ge(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=qu(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Sge(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ym(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ege(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=qu(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var pv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N6=new RegExp(pv.source,"g");function kge(t){return function(){return t}}function Pge(t){return function(e){return t(e)+""}}function Tge(t,e){var n=pv.lastIndex=N6.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=pv.exec(t))&&(i=N6.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Ym(r,i)})),n=N6.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Pge(l[0].x):kge(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function qu(t,e){var n=typeof e,r;return e==null||n==="boolean"?Bb(e):(n==="number"?Ym:n==="string"?(r=wh(e))?(e=r,sN):Tge:e instanceof wh?sN:e instanceof Date?Sge:wge(e)?bge:Array.isArray(e)?_ge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ege:Ym)(t,e)}function zb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Nge(t,e){e===void 0&&(e=t,t=qu);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Age(t){return function(){return t}}function Xm(t){return+t}var oN=[0,1];function kr(t){return t}function mv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Age(isNaN(e)?NaN:.5)}function Ige(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Cge(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=mv(i,r),a=n(s,a)):(r=mv(r,i),a=n(a,s)),function(o){return a(r(o))}}function Oge(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=mv(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=A4(t,o,1,r)-1;return a[l](i[l](o))}}function C4(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function R2(){var t=oN,e=oN,n=qu,r,i,a,s=kr,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==kr&&(s=Ige(t[0],t[h-1])),o=h>2?Oge:Cge,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((c||(c=o(e,t.map(r),Ym)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Xm),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=zb,u()},d.clamp=function(h){return arguments.length?(s=h?!0:kr,u()):s!==kr},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function qb(){return R2()(kr,kr)}function jge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jm(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Xc(t){return t=Jm(Math.abs(t)),t?t[1]:NaN}function Rge(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Mge(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var $ge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _h(t){if(!(e=$ge.exec(t)))throw new Error("invalid format: "+t);var e;return new Wb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_h.prototype=Wb.prototype;function Wb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Wb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dge(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Zm;function Lge(t,e){var n=Jm(t,e);if(!n)return Zm=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Zm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Jm(t,Math.max(0,e+a-1))[0]}function lN(t,e){var n=Jm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lN(t*100,e),r:lN,s:Lge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uN(t){return t}var dN=Array.prototype.map,fN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fge(t){var e=t.grouping===void 0||t.thousands===void 0?uN:Rge(dN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?uN:Mge(dN.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,h){d=_h(d);var p=d.fill,g=d.align,x=d.sign,y=d.symbol,v=d.zero,b=d.width,w=d.comma,S=d.precision,E=d.trim,P=d.type;P==="n"?(w=!0,P="g"):cN[P]||(S===void 0&&(S=12),E=!0,P="g"),(v||p==="0"&&g==="=")&&(v=!0,p="0",g="=");var _=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),k=(y==="$"?r:/[%p]/.test(P)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),N=cN[P],A=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(j){var O=_,$=k,M,D,V;if(P==="c")$=N(j)+$,j="";else{j=+j;var F=j<0||1/j<0;if(j=isNaN(j)?l:N(Math.abs(j),S),E&&(j=Dge(j)),F&&+j==0&&x!=="+"&&(F=!1),O=(F?x==="("?x:o:x==="-"||x==="("?"":x)+O,$=(P==="s"&&!isNaN(j)&&Zm!==void 0?fN[8+Zm/3]:"")+$+(F&&x==="("?")":""),A){for(M=-1,D=j.length;++M<D;)if(V=j.charCodeAt(M),48>V||V>57){$=(V===46?i+j.slice(M+1):j.slice(M))+$,j=j.slice(0,M);break}}}w&&!v&&(j=e(j,1/0));var U=O.length+j.length+$.length,H=U<b?new Array(b-U+1).join(p):"";switch(w&&v&&(j=e(H+j,H.length?b-$.length:1/0),H=""),g){case"<":j=O+j+$+H;break;case"=":j=O+H+j+$;break;case"^":j=H.slice(0,U=H.length>>1)+O+j+$+H.slice(U);break;default:j=H+O+j+$;break}return a(j)}return I.toString=function(){return d+""},I}function u(d,h){var p=Math.max(-8,Math.min(8,Math.floor(Xc(h)/3)))*3,g=Math.pow(10,-p),x=c((d=_h(d),d.type="f",d),{suffix:fN[8+p/3]});return function(y){return x(g*y)}}return{format:c,formatPrefix:u}}var jp,Hb,SF;Vge({thousands:",",grouping:[3],currency:["$",""]});function Vge(t){return jp=Fge(t),Hb=jp.format,SF=jp.formatPrefix,jp}function Uge(t){return Math.max(0,-Xc(Math.abs(t)))}function Bge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xc(e)/3)))*3-Xc(Math.abs(t)))}function zge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xc(e)-Xc(t))+1}function EF(t,e,n,r){var i=dv(t,e,n),a;switch(r=_h(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Bge(i,s))&&(r.precision=a),SF(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=zge(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Uge(i))&&(r.precision=a-(r.type==="%")*2);break}}return Hb(r)}function ao(t){var e=t.domain;return t.ticks=function(n){var r=e();return cv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return EF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=uv(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Sh(){var t=qb();return t.copy=function(){return C4(t,Sh())},Bi.apply(t,arguments),ao(t)}function kF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Xm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return kF(t).unknown(e)},t=arguments.length?Array.from(t,Xm):[0,1],ao(n)}function PF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function hN(t){return Math.log(t)}function pN(t){return Math.exp(t)}function qge(t){return-Math.log(-t)}function Wge(t){return-Math.exp(-t)}function Hge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gge(t){return t===10?Hge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Kge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function mN(t){return(e,n)=>-t(-e,n)}function Gb(t){const e=t(hN,pN),n=e.domain;let r=10,i,a;function s(){return i=Kge(r),a=Gge(r),n()[0]<0?(i=mN(i),a=mN(a),t(qge,Wge)):t(hN,pN),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),g,x;const y=o==null?10:+o;let v=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<r;++g)if(x=h<0?g/a(-h):g*a(h),!(x<c)){if(x>u)break;v.push(x)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(x=h>0?g/a(-h):g*a(h),!(x<c)){if(x>u)break;v.push(x)}v.length*2<y&&(v=cv(c,u,y))}else v=cv(h,p,Math.min(p-h,y)).map(a);return d?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=_h(l)).precision==null&&(l.trim=!0),l=Hb(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(PF(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function TF(){const t=Gb(R2()).domain([1,10]);return t.copy=()=>C4(t,TF()).base(t.base()),Bi.apply(t,arguments),t}function gN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function yN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Kb(t){var e=1,n=t(gN(e),yN(e));return n.constant=function(r){return arguments.length?t(gN(e=+r),yN(e)):e},ao(n)}function NF(){var t=Kb(R2());return t.copy=function(){return C4(t,NF()).constant(t.constant())},Bi.apply(t,arguments)}function vN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Qge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Yge(t){return t<0?-t*t:t*t}function Qb(t){var e=t(kr,kr),n=1;function r(){return n===1?t(kr,kr):n===.5?t(Qge,Yge):t(vN(n),vN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ao(e)}function Yb(){var t=Qb(R2());return t.copy=function(){return C4(t,Yb()).exponent(t.exponent())},Bi.apply(t,arguments),t}function Xge(){return Yb.apply(null,arguments).exponent(.5)}function xN(t){return Math.sign(t)*t*t}function Jge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function AF(){var t=qb(),e=[0,1],n=!1,r;function i(a){var s=Jge(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(xN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Xm)).map(xN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return AF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Bi.apply(i,arguments),ao(i)}function IF(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=nge(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[A4(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Rs),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return IF().domain(t).range(e).unknown(r)},Bi.apply(a,arguments)}function CF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[A4(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return CF().domain([t,e]).range(i).unknown(a)},Bi.apply(ao(s),arguments)}function OF(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[A4(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return OF().domain(t).range(e).unknown(n)},Bi.apply(i,arguments)}const A6=new Date,I6=new Date;function $n(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>$n(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(A6.setTime(+a),I6.setTime(+s),t(A6),t(I6),Math.floor(n(A6,I6))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const e1=$n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);e1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$n(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):e1);e1.range;const d0=1e3,Ai=d0*60,f0=Ai*60,I0=f0*24,Xb=I0*7,bN=I0*30,C6=I0*365,$o=$n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*d0)},(t,e)=>(e-t)/d0,t=>t.getUTCSeconds());$o.range;const Jb=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*d0)},(t,e)=>{t.setTime(+t+e*Ai)},(t,e)=>(e-t)/Ai,t=>t.getMinutes());Jb.range;const Zb=$n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ai)},(t,e)=>(e-t)/Ai,t=>t.getUTCMinutes());Zb.range;const ew=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*d0-t.getMinutes()*Ai)},(t,e)=>{t.setTime(+t+e*f0)},(t,e)=>(e-t)/f0,t=>t.getHours());ew.range;const tw=$n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*f0)},(t,e)=>(e-t)/f0,t=>t.getUTCHours());tw.range;const O4=$n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ai)/I0,t=>t.getDate()-1);O4.range;const M2=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/I0,t=>t.getUTCDate()-1);M2.range;const jF=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/I0,t=>Math.floor(t/I0));jF.range;function Al(t){return $n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ai)/Xb)}const $2=Al(0),t1=Al(1),Zge=Al(2),e2e=Al(3),Jc=Al(4),t2e=Al(5),n2e=Al(6);$2.range;t1.range;Zge.range;e2e.range;Jc.range;t2e.range;n2e.range;function Il(t){return $n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Xb)}const D2=Il(0),n1=Il(1),r2e=Il(2),i2e=Il(3),Zc=Il(4),a2e=Il(5),s2e=Il(6);D2.range;n1.range;r2e.range;i2e.range;Zc.range;a2e.range;s2e.range;const nw=$n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());nw.range;const rw=$n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rw.range;const C0=$n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());C0.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});C0.range;const O0=$n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());O0.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});O0.range;function RF(t,e,n,r,i,a){const s=[[$o,1,d0],[$o,5,5*d0],[$o,15,15*d0],[$o,30,30*d0],[a,1,Ai],[a,5,5*Ai],[a,15,15*Ai],[a,30,30*Ai],[i,1,f0],[i,3,3*f0],[i,6,6*f0],[i,12,12*f0],[r,1,I0],[r,2,2*I0],[n,1,Xb],[e,1,bN],[e,3,3*bN],[t,1,C6]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=Fb(([,,y])=>y).right(s,h);if(p===s.length)return t.every(dv(c/C6,u/C6,d));if(p===0)return e1.every(Math.max(dv(c,u,d),1));const[g,x]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(x)}return[o,l]}const[o2e,l2e]=RF(O0,rw,D2,jF,tw,Zb),[c2e,u2e]=RF(C0,nw,$2,O4,ew,Jb);function O6(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function j6(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _d(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function d2e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Sd(i),u=Ed(i),d=Sd(a),h=Ed(a),p=Sd(s),g=Ed(s),x=Sd(o),y=Ed(o),v=Sd(l),b=Ed(l),w={a:V,A:F,b:U,B:H,c:null,d:PN,e:PN,f:R2e,g:q2e,G:H2e,H:C2e,I:O2e,j:j2e,L:MF,m:M2e,M:$2e,p:G,q:W,Q:AN,s:IN,S:D2e,u:L2e,U:F2e,V:V2e,w:U2e,W:B2e,x:null,X:null,y:z2e,Y:W2e,Z:G2e,"%":NN},S={a:ee,A:le,b:pe,B:Z,c:null,d:TN,e:TN,f:X2e,g:o5e,G:c5e,H:K2e,I:Q2e,j:Y2e,L:DF,m:J2e,M:Z2e,p:_e,q:Ce,Q:AN,s:IN,S:e5e,u:t5e,U:n5e,V:r5e,w:i5e,W:a5e,x:null,X:null,y:s5e,Y:l5e,Z:u5e,"%":NN},E={a:A,A:I,b:j,B:O,c:$,d:EN,e:EN,f:T2e,g:SN,G:_N,H:kN,I:kN,j:S2e,L:P2e,m:_2e,M:E2e,p:N,q:w2e,Q:A2e,s:I2e,S:k2e,u:g2e,U:y2e,V:v2e,w:m2e,W:x2e,x:M,X:D,y:SN,Y:_N,Z:b2e,"%":N2e};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),S.x=P(n,S),S.X=P(r,S),S.c=P(e,S);function P(ie,ve){return function(X){var q=[],de=-1,ke=0,me=ie.length,we,Ue,St;for(X instanceof Date||(X=new Date(+X));++de<me;)ie.charCodeAt(de)===37&&(q.push(ie.slice(ke,de)),(Ue=wN[we=ie.charAt(++de)])!=null?we=ie.charAt(++de):Ue=we==="e"?" ":"0",(St=ve[we])&&(we=St(X,Ue)),q.push(we),ke=de+1);return q.push(ie.slice(ke,de)),q.join("")}}function _(ie,ve){return function(X){var q=_d(1900,void 0,1),de=k(q,ie,X+="",0),ke,me;if(de!=X.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ve&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ke=j6(_d(q.y,0,1)),me=ke.getUTCDay(),ke=me>4||me===0?n1.ceil(ke):n1(ke),ke=M2.offset(ke,(q.V-1)*7),q.y=ke.getUTCFullYear(),q.m=ke.getUTCMonth(),q.d=ke.getUTCDate()+(q.w+6)%7):(ke=O6(_d(q.y,0,1)),me=ke.getDay(),ke=me>4||me===0?t1.ceil(ke):t1(ke),ke=O4.offset(ke,(q.V-1)*7),q.y=ke.getFullYear(),q.m=ke.getMonth(),q.d=ke.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),me="Z"in q?j6(_d(q.y,0,1)).getUTCDay():O6(_d(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(me+5)%7:q.w+q.U*7-(me+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,j6(q)):O6(q)}}function k(ie,ve,X,q){for(var de=0,ke=ve.length,me=X.length,we,Ue;de<ke;){if(q>=me)return-1;if(we=ve.charCodeAt(de++),we===37){if(we=ve.charAt(de++),Ue=E[we in wN?ve.charAt(de++):we],!Ue||(q=Ue(ie,X,q))<0)return-1}else if(we!=X.charCodeAt(q++))return-1}return q}function N(ie,ve,X){var q=c.exec(ve.slice(X));return q?(ie.p=u.get(q[0].toLowerCase()),X+q[0].length):-1}function A(ie,ve,X){var q=p.exec(ve.slice(X));return q?(ie.w=g.get(q[0].toLowerCase()),X+q[0].length):-1}function I(ie,ve,X){var q=d.exec(ve.slice(X));return q?(ie.w=h.get(q[0].toLowerCase()),X+q[0].length):-1}function j(ie,ve,X){var q=v.exec(ve.slice(X));return q?(ie.m=b.get(q[0].toLowerCase()),X+q[0].length):-1}function O(ie,ve,X){var q=x.exec(ve.slice(X));return q?(ie.m=y.get(q[0].toLowerCase()),X+q[0].length):-1}function $(ie,ve,X){return k(ie,e,ve,X)}function M(ie,ve,X){return k(ie,n,ve,X)}function D(ie,ve,X){return k(ie,r,ve,X)}function V(ie){return s[ie.getDay()]}function F(ie){return a[ie.getDay()]}function U(ie){return l[ie.getMonth()]}function H(ie){return o[ie.getMonth()]}function G(ie){return i[+(ie.getHours()>=12)]}function W(ie){return 1+~~(ie.getMonth()/3)}function ee(ie){return s[ie.getUTCDay()]}function le(ie){return a[ie.getUTCDay()]}function pe(ie){return l[ie.getUTCMonth()]}function Z(ie){return o[ie.getUTCMonth()]}function _e(ie){return i[+(ie.getUTCHours()>=12)]}function Ce(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ve=P(ie+="",w);return ve.toString=function(){return ie},ve},parse:function(ie){var ve=_(ie+="",!1);return ve.toString=function(){return ie},ve},utcFormat:function(ie){var ve=P(ie+="",S);return ve.toString=function(){return ie},ve},utcParse:function(ie){var ve=_(ie+="",!0);return ve.toString=function(){return ie},ve}}}var wN={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,f2e=/^%/,h2e=/[\\^$*+?|[\]().{}]/g;function xt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function p2e(t){return t.replace(h2e,"\\$&")}function Sd(t){return new RegExp("^(?:"+t.map(p2e).join("|")+")","i")}function Ed(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function m2e(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function g2e(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function y2e(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function v2e(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function x2e(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _N(t,e,n){var r=Wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function SN(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function b2e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function w2e(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function _2e(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function EN(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function S2e(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function kN(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function E2e(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function k2e(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function P2e(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function T2e(t,e,n){var r=Wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function N2e(t,e,n){var r=f2e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function A2e(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function I2e(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function PN(t,e){return xt(t.getDate(),e,2)}function C2e(t,e){return xt(t.getHours(),e,2)}function O2e(t,e){return xt(t.getHours()%12||12,e,2)}function j2e(t,e){return xt(1+O4.count(C0(t),t),e,3)}function MF(t,e){return xt(t.getMilliseconds(),e,3)}function R2e(t,e){return MF(t,e)+"000"}function M2e(t,e){return xt(t.getMonth()+1,e,2)}function $2e(t,e){return xt(t.getMinutes(),e,2)}function D2e(t,e){return xt(t.getSeconds(),e,2)}function L2e(t){var e=t.getDay();return e===0?7:e}function F2e(t,e){return xt($2.count(C0(t)-1,t),e,2)}function $F(t){var e=t.getDay();return e>=4||e===0?Jc(t):Jc.ceil(t)}function V2e(t,e){return t=$F(t),xt(Jc.count(C0(t),t)+(C0(t).getDay()===4),e,2)}function U2e(t){return t.getDay()}function B2e(t,e){return xt(t1.count(C0(t)-1,t),e,2)}function z2e(t,e){return xt(t.getFullYear()%100,e,2)}function q2e(t,e){return t=$F(t),xt(t.getFullYear()%100,e,2)}function W2e(t,e){return xt(t.getFullYear()%1e4,e,4)}function H2e(t,e){var n=t.getDay();return t=n>=4||n===0?Jc(t):Jc.ceil(t),xt(t.getFullYear()%1e4,e,4)}function G2e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xt(e/60|0,"0",2)+xt(e%60,"0",2)}function TN(t,e){return xt(t.getUTCDate(),e,2)}function K2e(t,e){return xt(t.getUTCHours(),e,2)}function Q2e(t,e){return xt(t.getUTCHours()%12||12,e,2)}function Y2e(t,e){return xt(1+M2.count(O0(t),t),e,3)}function DF(t,e){return xt(t.getUTCMilliseconds(),e,3)}function X2e(t,e){return DF(t,e)+"000"}function J2e(t,e){return xt(t.getUTCMonth()+1,e,2)}function Z2e(t,e){return xt(t.getUTCMinutes(),e,2)}function e5e(t,e){return xt(t.getUTCSeconds(),e,2)}function t5e(t){var e=t.getUTCDay();return e===0?7:e}function n5e(t,e){return xt(D2.count(O0(t)-1,t),e,2)}function LF(t){var e=t.getUTCDay();return e>=4||e===0?Zc(t):Zc.ceil(t)}function r5e(t,e){return t=LF(t),xt(Zc.count(O0(t),t)+(O0(t).getUTCDay()===4),e,2)}function i5e(t){return t.getUTCDay()}function a5e(t,e){return xt(n1.count(O0(t)-1,t),e,2)}function s5e(t,e){return xt(t.getUTCFullYear()%100,e,2)}function o5e(t,e){return t=LF(t),xt(t.getUTCFullYear()%100,e,2)}function l5e(t,e){return xt(t.getUTCFullYear()%1e4,e,4)}function c5e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Zc(t):Zc.ceil(t),xt(t.getUTCFullYear()%1e4,e,4)}function u5e(){return"+0000"}function NN(){return"%"}function AN(t){return+t}function IN(t){return Math.floor(+t/1e3)}var Ll,FF,VF;d5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d5e(t){return Ll=d2e(t),FF=Ll.format,Ll.parse,VF=Ll.utcFormat,Ll.utcParse,Ll}function f5e(t){return new Date(t)}function h5e(t){return t instanceof Date?+t:+new Date(+t)}function iw(t,e,n,r,i,a,s,o,l,c){var u=qb(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),x=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function E(P){return(l(P)<P?p:o(P)<P?g:s(P)<P?x:a(P)<P?y:r(P)<P?i(P)<P?v:b:n(P)<P?w:S)(P)}return u.invert=function(P){return new Date(d(P))},u.domain=function(P){return arguments.length?h(Array.from(P,h5e)):h().map(f5e)},u.ticks=function(P){var _=h();return t(_[0],_[_.length-1],P??10)},u.tickFormat=function(P,_){return _==null?E:c(_)},u.nice=function(P){var _=h();return(!P||typeof P.range!="function")&&(P=e(_[0],_[_.length-1],P??10)),P?h(PF(_,P)):u},u.copy=function(){return C4(u,iw(t,e,n,r,i,a,s,o,l,c))},u}function p5e(){return Bi.apply(iw(c2e,u2e,C0,nw,$2,O4,ew,Jb,$o,FF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function m5e(){return Bi.apply(iw(o2e,l2e,O0,rw,D2,M2,tw,Zb,$o,VF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function L2(){var t=0,e=1,n,r,i,a,s=kr,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(qu),c.rangeRound=u(zb),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function so(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UF(){var t=ao(L2()(kr));return t.copy=function(){return so(t,UF())},U0.apply(t,arguments)}function BF(){var t=Gb(L2()).domain([1,10]);return t.copy=function(){return so(t,BF()).base(t.base())},U0.apply(t,arguments)}function zF(){var t=Kb(L2());return t.copy=function(){return so(t,zF()).constant(t.constant())},U0.apply(t,arguments)}function aw(){var t=Qb(L2());return t.copy=function(){return so(t,aw()).exponent(t.exponent())},U0.apply(t,arguments)}function g5e(){return aw.apply(null,arguments).exponent(.5)}function qF(){var t=[],e=kr;function n(r){if(r!=null&&!isNaN(r=+r))return e((A4(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Rs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>tge(t,a/r))},n.copy=function(){return qF(e).domain(t)},U0.apply(n,arguments)}function F2(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=kr,u,d=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-a)*(r*x<r*a?o:l),c(d?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,n]=x,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(x){return arguments.length?(d=!!x,p):d},p.interpolator=function(x){return arguments.length?(c=x,p):c};function g(x){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=Nge(x,[v,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(qu),p.rangeRound=g(zb),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return u=x,i=x(t),a=x(e),s=x(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function WF(){var t=ao(F2()(kr));return t.copy=function(){return so(t,WF())},U0.apply(t,arguments)}function HF(){var t=Gb(F2()).domain([.1,1,10]);return t.copy=function(){return so(t,HF()).base(t.base())},U0.apply(t,arguments)}function GF(){var t=Kb(F2());return t.copy=function(){return so(t,GF()).constant(t.constant())},U0.apply(t,arguments)}function sw(){var t=Qb(F2());return t.copy=function(){return so(t,sw()).exponent(t.exponent())},U0.apply(t,arguments)}function y5e(){return sw.apply(null,arguments).exponent(.5)}const CN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vh,scaleDiverging:WF,scaleDivergingLog:HF,scaleDivergingPow:sw,scaleDivergingSqrt:y5e,scaleDivergingSymlog:GF,scaleIdentity:kF,scaleImplicit:fv,scaleLinear:Sh,scaleLog:TF,scaleOrdinal:Vb,scalePoint:Pf,scalePow:Yb,scaleQuantile:IF,scaleQuantize:CF,scaleRadial:AF,scaleSequential:UF,scaleSequentialLog:BF,scaleSequentialPow:aw,scaleSequentialQuantile:qF,scaleSequentialSqrt:g5e,scaleSequentialSymlog:zF,scaleSqrt:Xge,scaleSymlog:NF,scaleThreshold:OF,scaleTime:p5e,scaleUtc:m5e,tickFormat:EF},Symbol.toStringTag,{value:"Module"}));var v5e=Ru;function x5e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!v5e(s):n(s,o)))var o=s,l=a}return l}var KF=x5e;function b5e(t,e){return t>e}var w5e=b5e,_5e=KF,S5e=w5e,E5e=Bu;function k5e(t){return t&&t.length?_5e(t,E5e,S5e):void 0}var P5e=k5e;const ms=$t(P5e);function T5e(t,e){return t<e}var N5e=T5e,A5e=KF,I5e=N5e,C5e=Bu;function O5e(t){return t&&t.length?A5e(t,C5e,I5e):void 0}var j5e=O5e;const V2=$t(j5e);var R5e=bb,M5e=io,$5e=nF,D5e=Qr;function L5e(t,e){var n=D5e(t)?R5e:$5e;return n(t,M5e(e))}var F5e=L5e,V5e=eF,U5e=F5e;function B5e(t,e){return V5e(U5e(t,e),1)}var z5e=B5e;const q5e=$t(z5e);var W5e=Mb;function H5e(t,e){return W5e(t,e)}var G5e=H5e;const Eh=$t(G5e);var Wu=1e9,K5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lw,Qt=!0,Fi="[DecimalError] ",Ho=Fi+"Invalid argument: ",ow=Fi+"Exponent out of range: ",Hu=Math.floor,Eo=Math.pow,Q5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ni,Vn=1e7,Wt=7,QF=9007199254740991,r1=Hu(QF/Wt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return w0(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return Mt(w0(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return Pn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ni))throw Error(Fi+"NaN");if(n.s<1)throw Error(Fi+(n.s?"NaN":"-Infinity"));return n.eq(ni)?new r(0):(Qt=!1,e=w0(kh(n,a),kh(t,a),a),Qt=!0,Mt(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JF(e,t):YF(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fi+"NaN");return n.s?(Qt=!1,e=w0(n,t,0,1).times(t),Qt=!0,n.minus(e)):Mt(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return XF(this)};Ae.naturalLogarithm=Ae.ln=function(){return kh(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YF(e,t):JF(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ho+t);if(e=Pn(i)+1,r=i.d.length-1,n=r*Wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Fi+"NaN")}for(t=Pn(o),Qt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ia(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Hu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(w0(o,a,s+2)).times(.5),Ia(a.d).slice(0,s)===(e=Ia(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Mt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Qt=!0,Mt(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%Vn|0,e=o/Vn|0;a[i]=(a[i]+e)%Vn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Qt?Mt(t,d.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wa(t,0,Wu),e===void 0?e=r.rounding:Wa(e,0,8),Mt(n,t+Pn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=dl(r,!0):(Wa(t,0,Wu),e===void 0?e=i.rounding:Wa(e,0,8),r=Mt(new i(r),t+1,e),n=dl(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?dl(i):(Wa(t,0,Wu),e===void 0?e=a.rounding:Wa(e,0,8),r=Mt(new a(i),t+Pn(i)+1,e),n=dl(r.abs(),!1,t+Pn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return Mt(new e(t),Pn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(ni);if(o=new l(o),!o.s){if(t.s<1)throw Error(Fi+"Infinity");return o}if(o.eq(ni))return o;if(r=l.precision,t.eq(ni))return Mt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=QF){for(i=new l(ni),e=Math.ceil(r/Wt+4),Qt=!1;n%2&&(i=i.times(o),jN(i.d,e)),n=Hu(n/2),n!==0;)o=o.times(o),jN(o.d,e);return Qt=!0,t.s<0?new l(ni).div(i):Mt(i,r)}}else if(a<0)throw Error(Fi+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Qt=!1,i=t.times(kh(o,r+c)),Qt=!0,i=XF(i),i.s=a,i};Ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Pn(i),r=dl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Wa(t,1,Wu),e===void 0?e=a.rounding:Wa(e,0,8),i=Mt(new a(i),t,e),n=Pn(i),r=dl(i,t<=n||n<=a.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wa(t,1,Wu),e===void 0?e=r.rounding:Wa(e,0,8)),Mt(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pn(t),n=t.constructor;return dl(t,e<=n.toExpNeg||e>=n.toExpPos)};function YF(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Qt?Mt(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(d/Wt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Vn|0,l[a]%=Vn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Qt?Mt(e,d):e}function Wa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ho+t)}function Ia(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Wt-r.length,n&&(a+=es(n)),a+=r;s=t[e],r=s+"",n=Wt-r.length,n&&(a+=es(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var w0=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Vn|0,s=a/Vn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Vn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,d,h,p,g,x,y,v,b,w,S,E,P,_,k,N=r.constructor,A=r.s==i.s?1:-1,I=r.d,j=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Fi+"Division by zero");for(l=r.e-i.e,_=j.length,E=I.length,p=new N(A),g=p.d=[],c=0;j[c]==(I[c]||0);)++c;if(j[c]>(I[c]||0)&&--l,a==null?b=a=N.precision:s?b=a+(Pn(r)-Pn(i))+1:b=a,b<0)return new N(0);if(b=b/Wt+2|0,c=0,_==1)for(u=0,j=j[0],b++;(c<E||u)&&b--;c++)w=u*Vn+(I[c]||0),g[c]=w/j|0,u=w%j|0;else{for(u=Vn/(j[0]+1)|0,u>1&&(j=t(j,u),I=t(I,u),_=j.length,E=I.length),S=_,x=I.slice(0,_),y=x.length;y<_;)x[y++]=0;k=j.slice(),k.unshift(0),P=j[0],j[1]>=Vn/2&&++P;do u=0,o=e(j,x,_,y),o<0?(v=x[0],_!=y&&(v=v*Vn+(x[1]||0)),u=v/P|0,u>1?(u>=Vn&&(u=Vn-1),d=t(j,u),h=d.length,y=x.length,o=e(d,x,h,y),o==1&&(u--,n(d,_<h?k:j,h))):(u==0&&(o=u=1),d=j.slice()),h=d.length,h<y&&d.unshift(0),n(x,d,y),o==-1&&(y=x.length,o=e(j,x,_,y),o<1&&(u++,n(x,_<y?k:j,y))),y=x.length):o===0&&(u++,x=[0]),g[c++]=u,o&&x[0]?x[y++]=I[S]||0:(x=[I[S]],y=1);while((S++<E||x[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Mt(p,s?a+Pn(p)+1:a)}}();function XF(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,d=u.precision;if(Pn(t)>16)throw Error(ow+Pn(t));if(!t.s)return new u(ni);for(Qt=!1,o=d,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Eo(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(ni),u.precision=o;;){if(i=Mt(i.times(t),o),n=n.times(++l),s=a.plus(w0(i,n,o)),Ia(s.d).slice(0,o)===Ia(a.d).slice(0,o)){for(;c--;)a=Mt(a.times(a),o);return u.precision=d,e==null?(Qt=!0,Mt(a,d)):a}a=s}}function Pn(t){for(var e=t.e*Wt,n=t.d[0];n>=10;n/=10)e++;return e}function R6(t,e,n){if(e>t.LN10.sd())throw Qt=!0,n&&(t.precision=n),Error(Fi+"LN10 precision limit exceeded");return Mt(new t(t.LN10),e)}function es(t){for(var e="";t--;)e+="0";return e}function kh(t,e){var n,r,i,a,s,o,l,c,u,d=1,h=10,p=t,g=p.d,x=p.constructor,y=x.precision;if(p.s<1)throw Error(Fi+(p.s?"NaN":"-Infinity"));if(p.eq(ni))return new x(0);if(e==null?(Qt=!1,c=y):c=e,p.eq(10))return e==null&&(Qt=!0),R6(x,c);if(c+=h,x.precision=c,n=Ia(g),r=n.charAt(0),a=Pn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Ia(p.d),r=n.charAt(0),d++;a=Pn(p),r>1?(p=new x("0."+n),a++):p=new x(r+"."+n.slice(1))}else return l=R6(x,c+2,y).times(a+""),p=kh(new x(r+"."+n.slice(1)),c-h).plus(l),x.precision=y,e==null?(Qt=!0,Mt(p,y)):p;for(o=s=p=w0(p.minus(ni),p.plus(ni),c),u=Mt(p.times(p),c),i=3;;){if(s=Mt(s.times(u),c),l=o.plus(w0(s,new x(i),c)),Ia(l.d).slice(0,c)===Ia(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(R6(x,c+2,y).times(a+""))),o=w0(o,new x(d),c),x.precision=y,e==null?(Qt=!0,Mt(o,y)):o;o=l,i+=2}}function ON(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Hu(n/Wt),t.d=[],r=(n+1)%Wt,n<0&&(r+=Wt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Wt;r<i;)t.d.push(+e.slice(r,r+=Wt));e=e.slice(r),r=Wt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Qt&&(t.e>r1||t.e<-r1))throw Error(ow+n)}else t.s=0,t.e=0,t.d=[0];return t}function Mt(t,e,n){var r,i,a,s,o,l,c,u,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Wt,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Wt),a=d.length,u>=a)return t;for(c=a=d[u],s=1;a>=10;a/=10)s++;r%=Wt,i=r-Wt+s}if(n!==void 0&&(a=Eo(10,s-i-1),o=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Eo(10,s-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=Pn(t),d.length=1,e=e-a-1,d[0]=Eo(10,(Wt-e%Wt)%Wt),t.e=Hu(-e/Wt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=Eo(10,Wt-r),d[u]=i>0?(c/Eo(10,s-i)%Eo(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==Vn&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=Vn)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Qt&&(t.e>r1||t.e<-r1))throw Error(ow+Pn(t));return t}function JF(t,e){var n,r,i,a,s,o,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Qt?Mt(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(p/Wt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Vn-1;--l[a],l[i]+=Vn}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Qt?Mt(e,p):e):new h(0)}function dl(t,e,n){var r,i=Pn(t),a=Ia(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+es(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+es(-i-1)+a,n&&(r=n-s)>0&&(a+=es(r))):i>=s?(a+=es(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+es(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=es(r))),t.s<0?"-"+a:a}function jN(t,e){if(t.length>e)return t.length=e,!0}function ZF(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ho+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return ON(s,a.toString())}else if(typeof a!="string")throw Error(Ho+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Q5e.test(a))ON(s,a);else throw Error(Ho+a)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZF,i.config=i.set=Y5e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Y5e(t){if(!t||typeof t!="object")throw Error(Fi+"Object expected");var e,n,r,i=["precision",1,Wu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Hu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ho+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ho+n+": "+r);return this}var lw=ZF(K5e);ni=new lw(1);const Ct=lw;function X5e(t){return t6e(t)||e6e(t)||Z5e(t)||J5e()}function J5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z5e(t,e){if(t){if(typeof t=="string")return gv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gv(t,e)}}function e6e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function t6e(t){if(Array.isArray(t))return gv(t)}function gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var n6e=function(e){return e},eV={},tV=function(e){return e===eV},RN=function(e){return function n(){return arguments.length===0||arguments.length===1&&tV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},r6e=function t(e,n){return e===1?n:RN(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==eV}).length;return s>=e?n.apply(void 0,i):t(e-s,RN(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return tV(d)?l.shift():d});return n.apply(void 0,X5e(u).concat(l))}))})},U2=function(e){return r6e(e.length,e)},yv=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},i6e=U2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),a6e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return n6e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},vv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function s6e(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function o6e(t,e,n){for(var r=new Ct(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var l6e=U2(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),c6e=U2(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),u6e=U2(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const B2={rangeStep:o6e,getDigitCount:s6e,interpolateNumber:l6e,uninterpolateNumber:c6e,uninterpolateTruncation:u6e};function xv(t){return h6e(t)||f6e(t)||rV(t)||d6e()}function d6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f6e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function h6e(t){if(Array.isArray(t))return bv(t)}function Ph(t,e){return g6e(t)||m6e(t,e)||rV(t,e)||p6e()}function p6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rV(t,e){if(t){if(typeof t=="string")return bv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bv(t,e)}}function bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m6e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function g6e(t){if(Array.isArray(t))return t}function iV(t){var e=Ph(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function aV(t,e,n){if(t.lte(0))return new Ct(0);var r=B2.getDigitCount(t.toNumber()),i=new Ct(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Ct(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new Ct(Math.ceil(l))}function y6e(t,e,n){var r=1,i=new Ct(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ct(10).pow(B2.getDigitCount(t)-1),i=new Ct(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ct(Math.floor(t)))}else t===0?i=new Ct(Math.floor((e-1)/2)):n||(i=new Ct(Math.floor(t)));var s=Math.floor((e-1)/2),o=a6e(i6e(function(l){return i.add(new Ct(l-s).mul(r)).toNumber()}),yv);return o(0,e)}function sV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var a=aV(new Ct(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ct(0):(s=new Ct(t).add(e).div(2),s=s.sub(new Ct(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Ct(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?sV(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new Ct(o).mul(a)),tickMax:s.add(new Ct(l).mul(a))})}function v6e(t){var e=Ph(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=iV([n,r]),l=Ph(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(xv(yv(0,i-1).map(function(){return 1/0}))):[].concat(xv(yv(0,i-1).map(function(){return-1/0})),[u]);return n>r?vv(d):d}if(c===u)return y6e(c,i,a);var h=sV(c,u,s,a),p=h.step,g=h.tickMin,x=h.tickMax,y=B2.rangeStep(g,x.add(new Ct(.1).mul(p)),p);return n>r?vv(y):y}function x6e(t,e){var n=Ph(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=iV([r,i]),o=Ph(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=aV(new Ct(c).sub(l).div(u-1),a,0),h=[].concat(xv(B2.rangeStep(new Ct(l),new Ct(c).sub(new Ct(.99).mul(d)),d)),[c]);return r>i?vv(h):h}var b6e=nV(v6e),w6e=nV(x6e),_6e="Invariant failed";function fl(t,e){throw new Error(_6e)}var S6e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i1.apply(this,arguments)}function E6e(t,e){return N6e(t)||T6e(t,e)||P6e(t,e)||k6e()}function k6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P6e(t,e){if(t){if(typeof t=="string")return MN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MN(t,e)}}function MN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function N6e(t){if(Array.isArray(t))return t}function A6e(t,e){if(t==null)return{};var n=I6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function C6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cV(r.key),r)}}function j6e(t,e,n){return e&&O6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R6e(t,e,n){return e=a1(e),M6e(t,oV()?Reflect.construct(e,n||[],a1(t).constructor):e.apply(t,n))}function M6e(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $6e(t)}function $6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a1(t)}function D6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wv(t,e)}function wv(t,e){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wv(t,e)}function lV(t,e,n){return e=cV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cV(t){var e=L6e(t,"string");return eu(e)=="symbol"?e:e+""}function L6e(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z2=function(t){function e(){return C6e(this,e),R6e(this,e,arguments)}return D6e(e,t),j6e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=A6e(r,S6e),p=ot(h,!1);this.props.direction==="x"&&u.type!=="number"&&fl();var g=l.map(function(x){var y=c(x,o),v=y.x,b=y.y,w=y.value,S=y.errorVal;if(!S)return null;var E=[],P,_;if(Array.isArray(S)){var k=E6e(S,2);P=k[0],_=k[1]}else P=_=S;if(a==="vertical"){var N=u.scale,A=b+i,I=A+s,j=A-s,O=N(w-P),$=N(w+_);E.push({x1:$,y1:I,x2:$,y2:j}),E.push({x1:O,y1:A,x2:$,y2:A}),E.push({x1:O,y1:I,x2:O,y2:j})}else if(a==="horizontal"){var M=d.scale,D=v+i,V=D-s,F=D+s,U=M(w-P),H=M(w+_);E.push({x1:V,y1:H,x2:F,y2:H}),E.push({x1:D,y1:U,x2:D,y2:H}),E.push({x1:V,y1:U,x2:F,y2:U})}return B.createElement(tn,i1({className:"recharts-errorBar",key:"bar-".concat(E.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},p),E.map(function(G){return B.createElement("line",i1({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return B.createElement(tn,{className:"recharts-errorBars"},g)}}])}(B.Component);lV(z2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lV(z2,"displayName","ErrorBar");function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){F6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F6e(t,e,n){return e=V6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V6e(t){var e=U6e(t,"string");return Th(e)=="symbol"?e:e+""}function U6e(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Zr(n,Pc);if(!s)return null;var o=Pc.defaultProps,l=o!==void 0?go(go({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(x){return{type:s.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?go(go({},h),d.props):{},g=p.dataKey,x=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:g,type:l.iconType||y||"square",color:cw(d),value:x||g,payload:p}}),go(go(go({},l),Pc.getWithHeight(s,i)),{},{payload:c,item:s})};function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function DN(t){return W6e(t)||q6e(t)||z6e(t)||B6e()}function B6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z6e(t,e){if(t){if(typeof t=="string")return _v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _v(t,e)}}function q6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W6e(t){if(Array.isArray(t))return _v(t)}function _v(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){Nc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nc(t,e,n){return e=H6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H6e(t){var e=G6e(t,"string");return Nh(e)=="symbol"?e:e+""}function G6e(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fi(t,e,n){return ft(t)||ft(e)?n:jn(e)?Ri(t,e,n):tt(e)?e(t):n}function Tf(t,e,n,r){var i=q5e(t,function(o){return fi(o,e)});if(n==="number"){var a=i.filter(function(o){return ge(o)||parseFloat(o)});return a.length?[V2(a),ms(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!ft(o)}):i;return s.map(function(o){return jn(o)||o instanceof Date?o:""})}var K6e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Zi(d-u)!==Zi(h-d)){var g=[];if(Zi(h-d)===Zi(l[1]-l[0])){p=h;var x=d+l[1]-l[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{p=u;var y=h+l[1]-l[0];g[0]=Math.min(d,(y+d)/2),g[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){s=i[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(e>(b+d)/2&&e<=(w+d)/2){s=i[c].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){s=r[S].index;break}return s},cw=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?hn(hn({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Q6e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],x=g.items,y=g.cateAxisId,v=x.filter(function(_){return x0(_.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,w=b!==void 0?hn(hn({},b),v[0].props):v[0].props,S=w.barSize,E=w[y];s[E]||(s[E]=[]);var P=ft(S)?n:S;s[E].push({item:v[0],stackList:v.slice(1),barSize:ft(P)?void 0:ul(P,r,0)})}}return s},Y6e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=ul(n,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,g=s.reduce(function(S,E){return S+E.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var x=(i-g)/2>>0,y={offset:x-c,size:0};u=s.reduce(function(S,E){var P={item:E.item,position:{offset:y.offset+y.size+c,size:h?p:E.barSize}},_=[].concat(DN(S),[P]);return y=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(k){_.push({item:k,position:y})}),_},d)}else{var v=ul(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var b=(i-2*v-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(S,E,P){var _=[].concat(DN(S),[{item:E.item,position:{offset:v+(b+c)*P+(b-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(k){_.push({item:k,position:_[_.length-1].position})}),_},d)}return u},X6e=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=uV({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&g==="middle")&&p!=="center"&&ge(e[p]))return hn(hn({},e),{},Nc({},p,e[p]+(d||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&g!=="middle"&&ge(e[g]))return hn(hn({},e),{},Nc({},g,e[g]+(h||0)))}return e},J6e=function(e,n,r){return ft(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},dV=function(e,n,r,i,a){var s=n.props.children,o=la(s,z2).filter(function(c){return J6e(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=fi(u,r);if(ft(d))return c;var h=Array.isArray(d)?[V2(d),ms(d)]:[d,d],p=l.reduce(function(g,x){var y=fi(u,x,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Z6e=function(e,n,r,i,a){var s=n.map(function(o){return dV(e,o,r,a,i)}).filter(function(o){return!ft(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},fV=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&dV(e,l,c,i)||Tf(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},hV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},pV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},h0=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Zi(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!Fu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:a?a[d]:d,index:h,offset:c}})},M6=new WeakMap,Rp=function(e,n){if(typeof n!="function")return e;M6.has(e)||M6.set(e,new WeakMap);var r=M6.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},eye=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:vh(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Sh(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Pf(),realScaleType:"point"}:a==="category"?{scale:vh(),realScaleType:"band"}:{scale:Sh(),realScaleType:"linear"};if(cl(i)){var l="scale".concat(T2(i));return{scale:(CN[l]||Pf)(),realScaleType:CN[l]?l:"point"}}return tt(i)?{scale:i}:{scale:Pf(),realScaleType:"point"}},FN=1e-4,tye=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-FN,s=Math.max(i[0],i[1])+FN,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},nye=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},rye=function(e,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ge(e[0])||e[0]<r)&&(a[0]=r),(!ge(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},iye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Fu(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},aye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Fu(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},sye={sign:iye,expand:xce,none:Hc,silhouette:bce,wiggle:wce,positive:aye},oye=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=sye[r],s=vce().keys(i).value(function(o,l){return+fi(o,l,0)}).order(G7).offset(a);return s(e)},lye=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?hn(hn({},h.type.defaultProps),h.props):h.props,x=g.stackId,y=g.hide;if(y)return d;var v=g[r],b=d[v]||{hasStack:!1,stackGroups:{}};if(jn(x)){var w=b.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[x]=w}else b.stackGroups[T4("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return hn(hn({},d),{},Nc({},v,b))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,y){var v=p.stackGroups[y];return hn(hn({},x),{},Nc({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:oye(e,v.items,a)}))},g)}return hn(hn({},d),{},Nc({},h,p))},u)},cye=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=b6e(c,a,o);return e.domain([V2(u),ms(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),h=w6e(d,a,o);return{niceTicks:h}}return null};function VN(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ft(i[e.dataKey])){var o=Im(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=fi(i,ft(s)?e.dataKey:s);return ft(l)?null:e.scale(l)}var UN=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=fi(s,n.dataKey,n.domain[o]);return ft(l)?null:n.scale(l)-a/2+i},uye=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},dye=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?hn(hn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(jn(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},fye=function(e){return e.reduce(function(n,r){return[V2(r.concat([n[0]]).filter(ge)),ms(r.concat([n[1]]).filter(ge))]},[1/0,-1/0])},mV=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var d=fye(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sv=function(e,n,r){if(tt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ge(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(BN.test(e[0])){var a=+BN.exec(e[0])[1];i[0]=n[0]-a}else tt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ge(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(zN.test(e[1])){var s=+zN.exec(e[1])[1];i[1]=n[1]+s}else tt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},s1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=Db(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},qN=function(e,n,r){return!e||!e.length||Eh(e,Ri(r,"type.defaultProps.domain"))?n:e},gV=function(e,n){var r=e.type.defaultProps?hn(hn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return hn(hn({},ot(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:cw(e),value:fi(n,i),type:l,payload:n,chartType:c,hide:u})};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){hye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hye(t,e,n){return e=pye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pye(t){var e=mye(t,"string");return Ah(e)=="symbol"?e:e+""}function mye(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o1=Math.PI/180,gye=function(e){return e*180/Math.PI},Zn=function(e,n,r,i){return{x:e+Math.cos(-o1*i)*r,y:n+Math.sin(-o1*i)*r}},yye=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},vye=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=yye({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:gye(c),angleInRadian:c}},xye=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},bye=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},GN=function(e,n){var r=e.x,i=e.y,a=vye({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=xye(n),d=u.startAngle,h=u.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?HN(HN({},n),{},{radius:s,angle:bye(p,n)}):null};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}var wye=["offset"];function _ye(t){return Pye(t)||kye(t)||Eye(t)||Sye()}function Sye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eye(t,e){if(t){if(typeof t=="string")return Ev(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ev(t,e)}}function kye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pye(t){if(Array.isArray(t))return Ev(t)}function Ev(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tye(t,e){if(t==null)return{};var n=Nye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){Aye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aye(t,e,n){return e=Iye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iye(t){var e=Cye(t,"string");return Ih(e)=="symbol"?e:e+""}function Cye(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ch.apply(this,arguments)}var Oye=function(e){var n=e.value,r=e.formatter,i=ft(e.children)?n:e.children;return tt(r)?r(i):i},jye=function(e,n){var r=Zi(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Rye=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,x=l.clockWise,y=(d+h)/2,v=jye(p,g),b=v>=0?1:-1,w,S;i==="insideStart"?(w=p+b*s,S=x):i==="insideEnd"?(w=g-b*s,S=!x):i==="end"&&(w=g+b*s,S=x),S=v<=0?S:!S;var E=Zn(c,u,y,w),P=Zn(c,u,y,w+(S?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(P.x,",").concat(P.y),k=ft(e.id)?T4("recharts-radial-line-"):e.id;return B.createElement("text",Ch({},r,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",o)}),B.createElement("defs",null,B.createElement("path",{id:k,d:_})),B.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Mye=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,h=(u+d)/2;if(i==="outside"){var p=Zn(s,o,c+r,h),g=p.x,x=p.y;return{x:g,y:x,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=Zn(s,o,y,h),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},$ye=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*i,p=d>0?"end":"start",g=d>0?"start":"end",x=c>=0?1:-1,y=x*i,v=x>0?"end":"start",b=x>0?"start":"end";if(a==="top"){var w={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return In(In({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var S={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return In(In({},S),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var E={x:o-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return In(In({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(a==="right"){var P={x:o+c+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return In(In({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:u}:{})}var _=r?{width:c,height:u}:{};return a==="insideLeft"?In({x:o+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?In({x:o+c-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},_):a==="insideTop"?In({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},_):a==="insideBottom"?In({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},_):a==="insideTopLeft"?In({x:o+y,y:l+h,textAnchor:b,verticalAnchor:g},_):a==="insideTopRight"?In({x:o+c-y,y:l+h,textAnchor:v,verticalAnchor:g},_):a==="insideBottomLeft"?In({x:o+y,y:l+u-h,textAnchor:b,verticalAnchor:p},_):a==="insideBottomRight"?In({x:o+c-y,y:l+u-h,textAnchor:v,verticalAnchor:p},_):Mu(a)&&(ge(a.x)||Ro(a.x))&&(ge(a.y)||Ro(a.y))?In({x:o+ul(a.x,c),y:l+ul(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):In({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Dye=function(e){return"cx"in e&&ge(e.cx)};function ur(t){var e=t.offset,n=e===void 0?5:e,r=Tye(t,wye),i=In({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!a||ft(o)&&ft(l)&&!R.isValidElement(c)&&!tt(c))return null;if(R.isValidElement(c))return R.cloneElement(c,i);var p;if(tt(c)){if(p=R.createElement(c,i),R.isValidElement(p))return p}else p=Oye(i);var g=Dye(a),x=ot(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Rye(i,p,x);var y=g?Mye(i):$ye(i);return B.createElement(Hm,Ch({className:yt("recharts-label",d)},x,y,{breakAll:h}),p)}ur.displayName="Label";var yV=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,p=e.top,g=e.left,x=e.width,y=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(ge(x)&&ge(y)){if(ge(d)&&ge(h))return{x:d,y:h,width:x,height:y};if(ge(p)&&ge(g))return{x:p,y:g,width:x,height:y}}return ge(d)&&ge(h)?{x:d,y:h,width:0,height:0}:ge(n)&&ge(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v}:e.viewBox?e.viewBox:{}},Lye=function(e,n){return e?e===!0?B.createElement(ur,{key:"label-implicit",viewBox:n}):jn(e)?B.createElement(ur,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===ur?R.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(ur,{key:"label-implicit",content:e,viewBox:n}):tt(e)?B.createElement(ur,{key:"label-implicit",content:e,viewBox:n}):Mu(e)?B.createElement(ur,Ch({viewBox:n},e,{key:"label-implicit"})):null:null},Fye=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=yV(e),s=la(i,ur).map(function(l,c){return R.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=Lye(e.label,n||a);return[o].concat(_ye(s))};ur.parseViewBox=yV;ur.renderCallByParent=Fye;function Vye(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Uye=Vye;const Bye=$t(Uye);function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}var zye=["valueAccessor"],qye=["data","dataKey","clockWise","id","textBreakAll"];function Wye(t){return Qye(t)||Kye(t)||Gye(t)||Hye()}function Hye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gye(t,e){if(t){if(typeof t=="string")return kv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kv(t,e)}}function Kye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qye(t){if(Array.isArray(t))return kv(t)}function kv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l1.apply(this,arguments)}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){Yye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yye(t,e,n){return e=Xye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xye(t){var e=Jye(t,"string");return Oh(e)=="symbol"?e:e+""}function Jye(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XN(t,e){if(t==null)return{};var n=Zye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var e7e=function(e){return Array.isArray(e.value)?Bye(e.value):e.value};function Ms(t){var e=t.valueAccessor,n=e===void 0?e7e:e,r=XN(t,zye),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=XN(r,qye);return!i||!i.length?null:B.createElement(tn,{className:"recharts-label-list"},i.map(function(u,d){var h=ft(a)?n(u,d):fi(u&&u.payload,a),p=ft(o)?{}:{id:"".concat(o,"-").concat(d)};return B.createElement(ur,l1({},ot(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:ur.parseViewBox(ft(s)?u:YN(YN({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Ms.displayName="LabelList";function t7e(t,e){return t?t===!0?B.createElement(Ms,{key:"labelList-implicit",data:e}):B.isValidElement(t)||tt(t)?B.createElement(Ms,{key:"labelList-implicit",data:e,content:t}):Mu(t)?B.createElement(Ms,l1({data:e},t,{key:"labelList-implicit"})):null:null}function n7e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=la(r,Ms).map(function(s,o){return R.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=t7e(t.label,e);return[a].concat(Wye(i))}Ms.renderCallByParent=n7e;function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){r7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r7e(t,e,n){return e=i7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i7e(t){var e=a7e(t,"string");return jh(e)=="symbol"?e:e+""}function a7e(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s7e=function(e,n){var r=Zi(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Mp=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/o1,h=c?a:a+s*d,p=Zn(n,r,u,h),g=Zn(n,r,i,h),x=c?a-s*d:a,y=Zn(n,r,u*Math.cos(d*o1),x);return{center:p,circleTangency:g,lineTangency:y,theta:d}},vV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=s7e(s,o),c=s+l,u=Zn(n,r,a,s),d=Zn(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Zn(n,r,i,s),g=Zn(n,r,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},o7e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Zi(u-c),h=Mp({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,x=h.theta,y=Mp({cx:n,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),v=y.circleTangency,b=y.lineTangency,w=y.theta,S=l?Math.abs(c-u):Math.abs(c-u)-x-w;if(S<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vV({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=Mp({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=P.circleTangency,k=P.lineTangency,N=P.theta,A=Mp({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=A.circleTangency,j=A.lineTangency,O=A.theta,$=l?Math.abs(c-u):Math.abs(c-u)-N-O;if($<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},l7e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xV=function(e){var n=ZN(ZN({},l7e),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(s<a||u===d)return null;var p=yt("recharts-sector",h),g=s-a,x=ul(o,g,0,!0),y;return x>0&&Math.abs(u-d)<360?y=o7e({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=vV({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),B.createElement("path",Pv({},ot(n,!0),{className:p,d:y,role:"img"}))};function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tv.apply(this,arguments)}function eA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(n),!0).forEach(function(r){c7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c7e(t,e,n){return e=u7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u7e(t){var e=d7e(t,"string");return Rh(e)=="symbol"?e:e+""}function d7e(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nA={curveBasisClosed:oce,curveBasisOpen:lce,curveBasis:sce,curveBumpX:Hle,curveBumpY:Gle,curveLinearClosed:cce,curveLinear:A2,curveMonotoneX:uce,curveMonotoneY:dce,curveNatural:fce,curveStep:hce,curveStepAfter:mce,curveStepBefore:pce},$p=function(e){return e.x===+e.x&&e.y===+e.y},kd=function(e){return e.x},Pd=function(e){return e.y},f7e=function(e,n){if(tt(e))return e;var r="curve".concat(T2(e));return(r==="curveMonotone"||r==="curveBump")&&n?nA["".concat(r).concat(n==="vertical"?"Y":"X")]:nA[r]||A2},h7e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=f7e(r,o),d=c?a.filter(function(x){return $p(x)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(x){return $p(x)}):s,g=d.map(function(x,y){return tA(tA({},x),{},{base:p[y]})});return o==="vertical"?h=Pp().y(Pd).x1(kd).x0(function(x){return x.base.x}):h=Pp().x(kd).y1(Pd).y0(function(x){return x.base.y}),h.defined($p).curve(u),h(g)}return o==="vertical"&&ge(s)?h=Pp().y(Pd).x1(kd).x0(s):ge(s)?h=Pp().x(kd).y1(Pd).y0(s):h=xL().x(kd).y(Pd),h.defined($p).curve(u),h(d)},Nf=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?h7e(e):i;return R.createElement("path",Tv({},ot(e,!1),Cm(e),{className:yt("recharts-curve",n),d:s,ref:a}))},bV={exports:{}},p7e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",m7e=p7e,g7e=m7e;function wV(){}function _V(){}_V.resetWarningCache=wV;var y7e=function(){function t(r,i,a,s,o,l){if(l!==g7e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_V,resetWarningCache:wV};return n.PropTypes=n,n};bV.exports=y7e();var v7e=bV.exports;const se=$t(v7e),{getOwnPropertyNames:x7e,getOwnPropertySymbols:b7e}=Object,{hasOwnProperty:w7e}=Object.prototype;function $6(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Dp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function _7e(t){return t!=null?t[Symbol.toStringTag]:void 0}function rA(t){return x7e(t).concat(b7e(t))}const S7e=Object.hasOwn||((t,e)=>w7e.call(t,e));function Cl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const E7e="__v",k7e="__o",P7e="_owner",{getOwnPropertyDescriptor:iA,keys:aA}=Object;function T7e(t,e){return t.byteLength===e.byteLength&&c1(new Uint8Array(t),new Uint8Array(e))}function N7e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function A7e(t,e){return t.byteLength===e.byteLength&&c1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function I7e(t,e){return Cl(t.getTime(),e.getTime())}function C7e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function O7e(t,e){return t===e}function sA(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let u=!1,d=0;for(;(o=c.next())&&!o.done;){if(i[d]){d++;continue}const h=s.value,p=o.value;if(n.equals(h[0],p[0],l,d,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const j7e=Cl;function R7e(t,e,n){const r=aA(t);let i=r.length;if(aA(e).length!==i)return!1;for(;i-- >0;)if(!SV(t,e,n,r[i]))return!1;return!0}function Td(t,e,n){const r=rA(t);let i=r.length;if(rA(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!SV(t,e,n,a)||(s=iA(t,a),o=iA(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function M7e(t,e){return Cl(t.valueOf(),e.valueOf())}function $7e(t,e){return t.source===e.source&&t.flags===e.flags}function oA(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function c1(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function D7e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function SV(t,e,n,r){return(r===P7e||r===k7e||r===E7e)&&(t.$$typeof||e.$$typeof)?!0:S7e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const L7e="[object ArrayBuffer]",F7e="[object Arguments]",V7e="[object Boolean]",U7e="[object DataView]",B7e="[object Date]",z7e="[object Error]",q7e="[object Map]",W7e="[object Number]",H7e="[object Object]",G7e="[object RegExp]",K7e="[object Set]",Q7e="[object String]",Y7e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},X7e="[object URL]",J7e=Object.prototype.toString;function Z7e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(y,v,b){if(y===v)return!0;if(y==null||v==null)return!1;const w=typeof y;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?o(y,v,b):w==="function"?a(y,v,b):!1;const S=y.constructor;if(S!==v.constructor)return!1;if(S===Object)return l(y,v,b);if(Array.isArray(y))return e(y,v,b);if(S===Date)return r(y,v,b);if(S===RegExp)return u(y,v,b);if(S===Map)return s(y,v,b);if(S===Set)return d(y,v,b);const E=J7e.call(y);if(E===B7e)return r(y,v,b);if(E===G7e)return u(y,v,b);if(E===q7e)return s(y,v,b);if(E===K7e)return d(y,v,b);if(E===H7e)return typeof y.then!="function"&&typeof v.then!="function"&&l(y,v,b);if(E===X7e)return p(y,v,b);if(E===z7e)return i(y,v,b);if(E===F7e)return l(y,v,b);if(Y7e[E])return h(y,v,b);if(E===L7e)return t(y,v,b);if(E===U7e)return n(y,v,b);if(E===V7e||E===W7e||E===Q7e)return c(y,v,b);if(g){let P=g[E];if(!P){const _=_7e(y);_&&(P=g[_])}if(P)return P(y,v,b)}return!1}}function eve({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:T7e,areArraysEqual:n?Td:N7e,areDataViewsEqual:A7e,areDatesEqual:I7e,areErrorsEqual:C7e,areFunctionsEqual:O7e,areMapsEqual:n?$6(sA,Td):sA,areNumbersEqual:j7e,areObjectsEqual:n?Td:R7e,arePrimitiveWrappersEqual:M7e,areRegExpsEqual:$7e,areSetsEqual:n?$6(oA,Td):oA,areTypedArraysEqual:n?$6(c1,Td):c1,areUrlsEqual:D7e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Dp(r.areArraysEqual),a=Dp(r.areMapsEqual),s=Dp(r.areObjectsEqual),o=Dp(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function tve(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function nve({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const rve=oo();oo({strict:!0});oo({circular:!0});oo({circular:!0,strict:!0});oo({createInternalComparator:()=>Cl});oo({strict:!0,createInternalComparator:()=>Cl});oo({circular:!0,createInternalComparator:()=>Cl});oo({circular:!0,createInternalComparator:()=>Cl,strict:!0});function oo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=eve(t),s=Z7e(a),o=n?n(s):tve(s);return nve({circular:e,comparator:s,createState:r,equals:o,strict:i})}function ive(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function lA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):ive(i)};requestAnimationFrame(r)}function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function ave(t){return cve(t)||lve(t)||ove(t)||sve()}function sve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ove(t,e){if(t){if(typeof t=="string")return cA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(t,e)}}function cA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cve(t){if(Array.isArray(t))return t}function uve(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=ave(s),l=o[0],c=o.slice(1);if(typeof l=="number"){lA(i.bind(null,c),l);return}i(l),lA(i.bind(null,c));return}Nv(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function uA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(n),!0).forEach(function(r){EV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EV(t,e,n){return e=dve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dve(t){var e=fve(t,"string");return Mh(e)==="symbol"?e:String(e)}function fve(t,e){if(Mh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hve=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},pve=function(e){return e},mve=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Af=function(e,n){return Object.keys(n).reduce(function(r,i){return dA(dA({},r),{},EV({},i,e(i,n[i])))},{})},fA=function(e,n,r){return e.map(function(i){return"".concat(mve(i)," ").concat(n,"ms ").concat(r)}).join(",")};function gve(t,e){return xve(t)||vve(t,e)||kV(t,e)||yve()}function yve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function xve(t){if(Array.isArray(t))return t}function bve(t){return Sve(t)||_ve(t)||kV(t)||wve()}function wve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kV(t,e){if(t){if(typeof t=="string")return Av(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Av(t,e)}}function _ve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sve(t){if(Array.isArray(t))return Av(t)}function Av(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u1=1e-4,PV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},TV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},hA=function(e,n){return function(r){var i=PV(e,n);return TV(i,r)}},Eve=function(e,n){return function(r){var i=PV(e,n),a=[].concat(bve(i.map(function(s,o){return s*o}).slice(1)),[0]);return TV(a,r)}},pA=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=gve(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var d=hA(i,s),h=hA(a,o),p=Eve(i,s),g=function(v){return v>1?1:v<0?0:v},x=function(v){for(var b=v>1?1:v,w=b,S=0;S<8;++S){var E=d(w)-b,P=p(w);if(Math.abs(E-b)<u1||P<u1)return h(w);w=g(w-E/P)}return h(w)};return x.isStepper=!1,x},kve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*r,g=h*a,x=h+(p-g)*o/1e3,y=h*o/1e3+u;return Math.abs(y-d)<u1&&Math.abs(x)<u1?[d,0]:[y,x]};return l.isStepper=!0,l.dt=o,l},Pve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pA(i);case"spring":return kve();default:if(i.split("(")[0]==="cubic-bezier")return pA(i)}return typeof i=="function"?i:null};function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function mA(t){return Ave(t)||Nve(t)||NV(t)||Tve()}function Tve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ave(t){if(Array.isArray(t))return Cv(t)}function gA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gA(Object(n),!0).forEach(function(r){Iv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iv(t,e,n){return e=Ive(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ive(t){var e=Cve(t,"string");return $h(e)==="symbol"?e:String(e)}function Cve(t,e){if($h(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ove(t,e){return Mve(t)||Rve(t,e)||NV(t,e)||jve()}function jve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NV(t,e){if(t){if(typeof t=="string")return Cv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cv(t,e)}}function Cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Mve(t){if(Array.isArray(t))return t}var d1=function(e,n,r){return e+(n-e)*r},Ov=function(e){var n=e.from,r=e.to;return n!==r},$ve=function t(e,n,r){var i=Af(function(a,s){if(Ov(s)){var o=e(s.from,s.to,s.velocity),l=Ove(o,2),c=l[0],u=l[1];return Gn(Gn({},s),{},{from:c,velocity:u})}return s},n);return r<1?Af(function(a,s){return Ov(s)?Gn(Gn({},s),{},{velocity:d1(s.velocity,i[a].velocity,r),from:d1(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const Dve=function(t,e,n,r,i){var a=hve(t,e),s=a.reduce(function(y,v){return Gn(Gn({},y),{},Iv({},v,[t[v],e[v]]))},{}),o=a.reduce(function(y,v){return Gn(Gn({},y),{},Iv({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return Af(function(v,b){return b.from},o)},p=function(){return!Object.values(o).filter(Ov).length},g=function(v){c||(c=v);var b=v-c,w=b/n.dt;o=$ve(n,o,w),i(Gn(Gn(Gn({},t),e),h())),c=v,p()||(l=requestAnimationFrame(d))},x=function(v){u||(u=v);var b=(v-u)/r,w=Af(function(E,P){return d1.apply(void 0,mA(P).concat([n(b)]))},s);if(i(Gn(Gn(Gn({},t),e),w)),b<1)l=requestAnimationFrame(d);else{var S=Af(function(E,P){return d1.apply(void 0,mA(P).concat([n(1)]))},s);i(Gn(Gn(Gn({},t),e),S))}};return d=n.isStepper?g:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}var Lve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Fve(t,e){if(t==null)return{};var n=Vve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function D6(t){return qve(t)||zve(t)||Bve(t)||Uve()}function Uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bve(t,e){if(t){if(typeof t=="string")return jv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jv(t,e)}}function zve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qve(t){if(Array.isArray(t))return jv(t)}function jv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(n),!0).forEach(function(r){Wd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wd(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AV(r.key),r)}}function Gve(t,e,n){return e&&Hve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AV(t){var e=Kve(t,"string");return tu(e)==="symbol"?e:String(e)}function Kve(t,e){if(tu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rv(t,e)}function Rv(t,e){return Rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rv(t,e)}function Yve(t){var e=Xve();return function(){var r=f1(t),i;if(e){var a=f1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Mv(this,i)}}function Mv(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $v(t)}function $v(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f1(t){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f1(t)}var j0=function(t){Qve(n,t);var e=Yve(n);function n(r,i){var a;Wve(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind($v(a)),a.changeStyle=a.changeStyle.bind($v(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),Mv(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof h=="function")return a.state={style:c},Mv(a);a.state={style:l?Wd({},l,c):c}}else a.state={style:{}};return a}return Gve(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Wd({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(rve(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||c?d:i.to;if(this.state&&h){var y={style:l?Wd({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(y)}this.runAnimation(Wi(Wi({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=Dve(s,o,Pve(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(x,y,v){if(v===0)return x;var b=y.duration,w=y.easing,S=w===void 0?"ease":w,E=y.style,P=y.properties,_=y.onAnimationEnd,k=v>0?s[v-1]:y,N=P||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(D6(x),[a.runJSAnimation.bind(a,{from:k.style,to:E,duration:b,easing:S}),b]);var A=fA(N,b,S),I=Wi(Wi(Wi({},k.style),E),{},{transition:A});return[].concat(D6(x),[I,b,_]).filter(pve)};return this.manager.start([l].concat(D6(s.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uve());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=o?Wd({},o,l):l,y=fA(Object.keys(x),s,c);g.start([u,a,Wi(Wi({},x),{},{transition:y}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Fve(i,Lve),c=R.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var d=function(p){var g=p.props,x=g.style,y=x===void 0?{}:x,v=g.className,b=R.cloneElement(p,Wi(Wi({},l),{},{style:Wi(Wi({},y),u),className:v}));return b};return c===1?d(R.Children.only(a)):B.createElement("div",null,R.Children.map(a,function(h){return d(h)}))}}]),n}(R.PureComponent);j0.displayName="Animate";j0.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};j0.propTypes={from:se.oneOfType([se.object,se.string]),to:se.oneOfType([se.object,se.string]),attributeName:se.string,duration:se.number,begin:se.number,easing:se.oneOfType([se.string,se.func]),steps:se.arrayOf(se.shape({duration:se.number.isRequired,style:se.object.isRequired,easing:se.oneOfType([se.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),se.func]),properties:se.arrayOf("string"),onAnimationEnd:se.func})),children:se.oneOfType([se.node,se.func]),isActive:se.bool,canBegin:se.bool,onAnimationEnd:se.func,shouldReAnimate:se.bool,onAnimationStart:se.func,onAnimationReStart:se.func};function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h1.apply(this,arguments)}function Jve(t,e){return n9e(t)||t9e(t,e)||e9e(t,e)||Zve()}function Zve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9e(t,e){if(t){if(typeof t=="string")return vA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vA(t,e)}}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function n9e(t){if(Array.isArray(t))return t}function xA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xA(Object(n),!0).forEach(function(r){r9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r9e(t,e,n){return e=i9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9e(t){var e=a9e(t,"string");return Dh(e)=="symbol"?e:e+""}function a9e(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wA=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>s?s:a[h];u="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),u+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);u="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*g," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},s9e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},o9e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uw=function(e){var n=bA(bA({},o9e),e),r=R.useRef(),i=R.useState(-1),a=Jve(i,2),s=a[0],o=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,p=n.className,g=n.animationEasing,x=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=yt("recharts-rectangle",p);return b?B.createElement(j0,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:x,animationEasing:g,isActive:b},function(S){var E=S.width,P=S.height,_=S.x,k=S.y;return B.createElement(j0,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:v,easing:g},B.createElement("path",h1({},ot(n,!0),{className:w,d:wA(_,k,E,P,h),ref:r})))}):B.createElement("path",h1({},ot(n,!0),{className:w,d:wA(l,c,u,d,h)}))};function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}var dw=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=yt("recharts-dot",a);return n===+n&&r===+r&&i===+i?R.createElement("circle",Dv({},ot(e,!1),Cm(e),{className:s,cx:n,cy:r,r:i})):null};function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}var l9e=["x","y","top","left","width","height","className"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function _A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c9e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(n),!0).forEach(function(r){u9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u9e(t,e,n){return e=d9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d9e(t){var e=f9e(t,"string");return Lh(e)=="symbol"?e:e+""}function f9e(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h9e(t,e){if(t==null)return{};var n=p9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var m9e=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},g9e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,p=h===void 0?0:h,g=e.className,x=h9e(e,l9e),y=c9e({x:r,y:a,top:o,left:c,width:d,height:p},x);return!ge(r)||!ge(a)||!ge(d)||!ge(p)||!ge(o)||!ge(c)?null:B.createElement("path",Lv({},ot(y,!0),{className:yt("recharts-cross",g),d:m9e(r,a,d,p,o,c)}))},y9e=zL,v9e=y9e(Object.getPrototypeOf,Object),x9e=v9e,b9e=F0,w9e=x9e,_9e=V0,S9e="[object Object]",E9e=Function.prototype,k9e=Object.prototype,IV=E9e.toString,P9e=k9e.hasOwnProperty,T9e=IV.call(Object);function N9e(t){if(!_9e(t)||b9e(t)!=S9e)return!1;var e=w9e(t);if(e===null)return!0;var n=P9e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&IV.call(n)==T9e}var A9e=N9e;const I9e=$t(A9e);var C9e=F0,O9e=V0,j9e="[object Boolean]";function R9e(t){return t===!0||t===!1||O9e(t)&&C9e(t)==j9e}var M9e=R9e;const $9e=$t(M9e);function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p1.apply(this,arguments)}function D9e(t,e){return U9e(t)||V9e(t,e)||F9e(t,e)||L9e()}function L9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9e(t,e){if(t){if(typeof t=="string")return SA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SA(t,e)}}function SA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function U9e(t){if(Array.isArray(t))return t}function EA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(n),!0).forEach(function(r){B9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B9e(t,e,n){return e=z9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z9e(t){var e=q9e(t,"string");return Fh(e)=="symbol"?e:e+""}function q9e(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PA=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},W9e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},H9e=function(e){var n=kA(kA({},W9e),e),r=R.useRef(),i=R.useState(-1),a=D9e(i,2),s=a[0],o=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,x=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var b=yt("recharts-trapezoid",p);return v?B.createElement(j0,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:x,animationEasing:g,isActive:v},function(w){var S=w.upperWidth,E=w.lowerWidth,P=w.height,_=w.x,k=w.y;return B.createElement(j0,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:g},B.createElement("path",p1({},ot(n,!0),{className:b,d:PA(_,k,S,E,P),ref:r})))}):B.createElement("g",null,B.createElement("path",p1({},ot(n,!0),{className:b,d:PA(l,c,u,d,h)})))},G9e=["option","shapeType","propTransformer","activeClassName","isActive"];function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function K9e(t,e){if(t==null)return{};var n=Q9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TA(Object(n),!0).forEach(function(r){Y9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y9e(t,e,n){return e=X9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X9e(t){var e=J9e(t,"string");return Vh(e)=="symbol"?e:e+""}function J9e(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z9e(t,e){return m1(m1({},e),t)}function e8e(t,e){return t==="symbols"}function NA(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(uw,n);case"trapezoid":return B.createElement(H9e,n);case"sector":return B.createElement(xV,n);case"symbols":if(e8e(e))return B.createElement(Ab,n);break;default:return null}}function t8e(t){return R.isValidElement(t)?t.props:t}function n8e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Z9e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=K9e(t,G9e),c;if(R.isValidElement(e))c=R.cloneElement(e,m1(m1({},l),t8e(e)));else if(tt(e))c=e(l);else if(I9e(e)&&!$9e(e)){var u=i(e,l);c=B.createElement(NA,{shapeType:n,elementProps:u})}else{var d=l;c=B.createElement(NA,{shapeType:n,elementProps:d})}return o?B.createElement(tn,{className:s},c):c}function q2(t,e){return e!=null&&"trapezoids"in t.props}function W2(t,e){return e!=null&&"sectors"in t.props}function Uh(t,e){return e!=null&&"points"in t.props}function r8e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function i8e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function a8e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function s8e(t,e){var n;return q2(t,e)?n=r8e:W2(t,e)?n=i8e:Uh(t,e)&&(n=a8e),n}function o8e(t,e){var n;return q2(t,e)?n="trapezoids":W2(t,e)?n="sectors":Uh(t,e)&&(n="points"),n}function l8e(t,e){if(q2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(W2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Uh(t,e)?e.payload:{}}function c8e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=o8e(n,e),a=l8e(n,e),s=r.filter(function(l,c){var u=Eh(a,l),d=n.props[i].filter(function(g){var x=s8e(n,e);return x(g,e)}),h=n.props[i].indexOf(d[d.length-1]),p=c===h;return u&&p}),o=r.indexOf(s[s.length-1]);return o}var u8e=Math.ceil,d8e=Math.max;function f8e(t,e,n,r){for(var i=-1,a=d8e(u8e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var h8e=f8e,p8e=lF,AA=1/0,m8e=17976931348623157e292;function g8e(t){if(!t)return t===0?t:0;if(t=p8e(t),t===AA||t===-AA){var e=t<0?-1:1;return e*m8e}return t===t?t:0}var CV=g8e,y8e=h8e,v8e=j2,L6=CV;function x8e(t){return function(e,n,r){return r&&typeof r!="number"&&v8e(e,n,r)&&(n=r=void 0),e=L6(e),n===void 0?(n=e,e=0):n=L6(n),r=r===void 0?e<n?1:-1:L6(r),y8e(e,n,r,t)}}var b8e=x8e,w8e=b8e,_8e=w8e(),S8e=_8e;const g1=$t(S8e);function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function IA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IA(Object(n),!0).forEach(function(r){OV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OV(t,e,n){return e=E8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E8e(t){var e=k8e(t,"string");return Bh(e)=="symbol"?e:e+""}function k8e(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P8e=["Webkit","Moz","O","ms"],T8e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=P8e.reduce(function(a,s){return CA(CA({},a),{},OV({},s+r,n))},{});return i[e]=n,i};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y1.apply(this,arguments)}function OA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(n),!0).forEach(function(r){Xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RV(r.key),r)}}function A8e(t,e,n){return e&&jA(t.prototype,e),n&&jA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I8e(t,e,n){return e=v1(e),C8e(t,jV()?Reflect.construct(e,n||[],v1(t).constructor):e.apply(t,n))}function C8e(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O8e(t)}function O8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jV=function(){return!!t})()}function v1(t){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v1(t)}function j8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fv(t,e)}function Xr(t,e,n){return e=RV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RV(t){var e=R8e(t,"string");return nu(e)=="symbol"?e:e+""}function R8e(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M8e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Pf().domain(g1(0,l)).range([a,a+s-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},RA=function(e){return e.changedTouches&&!!e.changedTouches.length},ru=function(t){function e(n){var r;return N8e(this,e),r=I8e(this,e,[n]),Xr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Xr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Xr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Xr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Xr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Xr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Xr(r,"handleSlideDragStart",function(i){var a=RA(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return j8e(e,t),A8e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,d),g=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=fi(a[r],o,r);return tt(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,x=r.pageX-a;x>0?x=Math.min(x,c+u-d-o,c+u-d-s):x<0&&(x=Math.max(x,c-s,c-o));var y=this.getIndex({startX:s+x,endX:o+x});(y.startIndex!==h||y.endIndex!==p)&&g&&g(y),this.setState({startX:s+x,endX:o+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=RA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,x=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,d+h-p-c):b<0&&(b=Math.max(b,d-c)),v[s]=c+b;var w=this.getIndex(v),S=w.startIndex,E=w.endIndex,P=function(){var k=y.length-1;return s==="startX"&&(o>l?S%x===0:E%x===0)||o<l&&E===k||s==="endX"&&(o>l?E%x===0:S%x===0)||o>l&&E===k};this.setState(Xr(Xr({},s,c+b),"brushMoveStartX",r.pageX),function(){g&&P()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Xr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return B.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=R.Children.only(c);return d?B.cloneElement(d,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,x=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),b=F6(F6({},ot(this.props,!1)),{},{x:v,y:c,width:u,height:d}),w=p||"Min value: ".concat((a=g[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[y])===null||s===void 0?void 0:s.name);return B.createElement(tn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return B.createElement(tn,{className:"recharts-brush-texts"},B.createElement(Hm,y1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(i)),B.createElement(Hm,y1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,x=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!ge(o)||!ge(l)||!ge(c)||!ge(u)||c<=0||u<=0)return null;var w=yt("recharts-brush",a),S=B.Children.count(s)===1,E=T8e("userSelect","none");return B.createElement(tn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(x||y||v||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),B.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return B.isValidElement(r)?a=B.cloneElement(r,i):tt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return F6({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?M8e({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(R.PureComponent);Xr(ru,"displayName","Brush");Xr(ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $8e=$b;function D8e(t,e){var n;return $8e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var L8e=D8e,F8e=ML,V8e=io,U8e=L8e,B8e=Qr,z8e=j2;function q8e(t,e,n){var r=B8e(t)?F8e:U8e;return n&&z8e(t,e,n)&&(e=void 0),r(t,V8e(e))}var W8e=q8e;const H8e=$t(W8e);var Ba=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},MA=rF;function G8e(t,e,n){e=="__proto__"&&MA?MA(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var K8e=G8e,Q8e=K8e,Y8e=tF,X8e=io;function J8e(t,e){var n={};return e=X8e(e),Y8e(t,function(r,i,a){Q8e(n,i,e(r,i,a))}),n}var Z8e=J8e;const exe=$t(Z8e);function txe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var nxe=txe,rxe=$b;function ixe(t,e){var n=!0;return rxe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var axe=ixe,sxe=nxe,oxe=axe,lxe=io,cxe=Qr,uxe=j2;function dxe(t,e,n){var r=cxe(t)?sxe:oxe;return n&&uxe(t,e,n)&&(e=void 0),r(t,lxe(e))}var fxe=dxe;const MV=$t(fxe);var hxe=["x","y"];function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(this,arguments)}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){pxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pxe(t,e,n){return e=mxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mxe(t){var e=gxe(t,"string");return zh(e)=="symbol"?e:e+""}function gxe(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yxe(t,e){if(t==null)return{};var n=vxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xxe(t,e){var n=t.x,r=t.y,i=yxe(t,hxe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Nd(Nd(Nd(Nd(Nd({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function DA(t){return B.createElement(n8e,Vv({shapeType:"rectangle",propTransformer:xxe,activeClassName:"recharts-active-bar"},t))}var bxe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=ge(r)||Coe(r);return a?e(r,i):(a||fl(),n)}},wxe=["value","background"],$V;function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function _xe(t,e){if(t==null)return{};var n=Sxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x1.apply(this,arguments)}function LA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LA(Object(n),!0).forEach(function(r){gs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Exe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LV(r.key),r)}}function kxe(t,e,n){return e&&FA(t.prototype,e),n&&FA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pxe(t,e,n){return e=b1(e),Txe(t,DV()?Reflect.construct(e,n||[],b1(t).constructor):e.apply(t,n))}function Txe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nxe(t)}function Nxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!t})()}function b1(t){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b1(t)}function Axe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}function Uv(t,e){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uv(t,e)}function gs(t,e,n){return e=LV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LV(t){var e=Ixe(t,"string");return iu(e)=="symbol"?e:e+""}function Ixe(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var j4=function(t){function e(){var n;Exe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pxe(this,e,[].concat(i)),gs(n,"state",{isAnimationFinished:!1}),gs(n,"id",T4("recharts-bar-")),gs(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),gs(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Axe(e,t),kxe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=ot(this.props,!1);return r&&r.map(function(d,h){var p=h===l,g=p?c:s,x=_n(_n(_n({},u),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(tn,x1({className:"recharts-bar-rectangle"},Om(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),B.createElement(DA,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return B.createElement(j0,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,x=a.map(function(y,v){var b=h&&h[v];if(b){var w=Ei(b.x,y.x),S=Ei(b.y,y.y),E=Ei(b.width,y.width),P=Ei(b.height,y.height);return _n(_n({},y),{},{x:w(g),y:S(g),width:E(g),height:P(g)})}if(s==="horizontal"){var _=Ei(0,y.height),k=_(g);return _n(_n({},y),{},{y:y.y+y.height-k,height:k})}var N=Ei(0,y.width),A=N(g);return _n(_n({},y),{},{width:A})});return B.createElement(tn,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Eh(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=ot(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,h=_xe(c,wxe);if(!d)return null;var p=_n(_n(_n(_n(_n({},h),{},{fill:"#eee"},d),l),Om(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return B.createElement(DA,x1({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=la(u,z2);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(y,v){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:fi(y,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(tn,g,d.map(function(x){return B.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,p=r.isAnimationActive,g=r.background,x=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,v=yt("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,S=b||w,E=ft(x)?this.id:x;return B.createElement(tn,{className:v},b||w?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(E)},B.createElement("rect",{x:b?c:c-d/2,y:w?u:u-h/2,width:b?d:d*2,height:w?h:h*2}))):null,B.createElement(tn,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!p||y)&&Ms.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);$V=j4;gs(j4,"displayName","Bar");gs(j4,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!zu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gs(j4,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=nye(r,n);if(!p)return null;var g=e.layout,x=n.type.defaultProps,y=x!==void 0?_n(_n({},x),n.props):n.props,v=y.dataKey,b=y.children,w=y.minPointSize,S=g==="horizontal"?s:a,E=c?S.scale.domain():null,P=uye({numericAxis:S}),_=la(b,uF),k=d.map(function(N,A){var I,j,O,$,M,D;c?I=rye(c[u+A],E):(I=fi(N,v),Array.isArray(I)||(I=[P,I]));var V=bxe(w,$V.defaultProps.minPointSize)(I[1],A);if(g==="horizontal"){var F,U=[s.scale(I[0]),s.scale(I[1])],H=U[0],G=U[1];j=UN({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:N,index:A}),O=(F=G??H)!==null&&F!==void 0?F:void 0,$=p.size;var W=H-G;if(M=Number.isNaN(W)?0:W,D={x:j,y:s.y,width:$,height:s.height},Math.abs(V)>0&&Math.abs(M)<Math.abs(V)){var ee=Zi(M||V)*(Math.abs(V)-Math.abs(M));O-=ee,M+=ee}}else{var le=[a.scale(I[0]),a.scale(I[1])],pe=le[0],Z=le[1];if(j=pe,O=UN({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:N,index:A}),$=Z-pe,M=p.size,D={x:a.x,y:O,width:a.width,height:M},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var _e=Zi($||V)*(Math.abs(V)-Math.abs($));$+=_e}}return _n(_n(_n({},N),{},{x:j,y:O,width:$,height:M,value:c?I:I[1],payload:N,background:D},_&&_[A]&&_[A].props),{},{tooltipPayload:[gV(n,N)],tooltipPosition:{x:j+$/2,y:O+M/2}})});return _n({data:k,layout:g},h)});function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function Cxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FV(r.key),r)}}function Oxe(t,e,n){return e&&VA(t.prototype,e),n&&VA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function UA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(n),!0).forEach(function(r){H2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H2(t,e,n){return e=FV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FV(t){var e=jxe(t,"string");return qh(e)=="symbol"?e:e+""}function jxe(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rxe=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Zr(c,j4);return u.reduce(function(p,g){var x=n[g],y=x.orientation,v=x.domain,b=x.padding,w=b===void 0?{}:b,S=x.mirror,E=x.reversed,P="".concat(y).concat(S?"Mirror":""),_,k,N,A,I;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var j=v[1]-v[0],O=1/0,$=x.categoricalDomain.sort(Roe);if($.forEach(function(le,pe){pe>0&&(O=Math.min((le||0)-($[pe-1]||0),O))}),Number.isFinite(O)){var M=O/j,D=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(_=M*D/2),x.padding==="no-gap"){var V=ul(e.barCategoryGap,M*D),F=M*D/2;_=F-V-(F-V)/D*V}}}i==="xAxis"?k=[r.left+(w.left||0)+(_||0),r.left+r.width-(w.right||0)-(_||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(_||0),r.top+r.height-(w.bottom||0)-(_||0)]:k=x.range,E&&(k=[k[1],k[0]]);var U=eye(x,a,h),H=U.scale,G=U.realScaleType;H.domain(v).range(k),tye(H);var W=cye(H,Ki(Ki({},x),{},{realScaleType:G}));i==="xAxis"?(I=y==="top"&&!S||y==="bottom"&&S,N=r.left,A=d[P]-I*x.height):i==="yAxis"&&(I=y==="left"&&!S||y==="right"&&S,N=d[P]-I*x.width,A=r.top);var ee=Ki(Ki(Ki({},x),W),{},{realScaleType:G,x:N,y:A,scale:H,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return ee.bandSize=s1(ee,W),!x.hide&&i==="xAxis"?d[P]+=(I?-1:1)*ee.height:x.hide||(d[P]+=(I?-1:1)*ee.width),Ki(Ki({},p),{},H2({},g,ee))},{})},VV=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},Mxe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return VV({x:n,y:r},{x:i,y:a})},UV=function(){function t(e){Cxe(this,t),this.scale=e}return Oxe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();H2(UV,"EPS",1e-4);var fw=function(e){var n=Object.keys(e).reduce(function(r,i){return Ki(Ki({},r),{},H2({},i,UV.create(e[i])))},{});return Ki(Ki({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return exe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return MV(i,function(a,s){return n[s].isInRange(a)})}})};function $xe(t){return(t%180+180)%180}var Dxe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$xe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Lxe=io,Fxe=N4,Vxe=C2;function Uxe(t){return function(e,n,r){var i=Object(e);if(!Fxe(e)){var a=Lxe(n);e=Vxe(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var Bxe=Uxe,zxe=CV;function qxe(t){var e=zxe(t),n=e%1;return e===e?n?e-n:e:0}var Wxe=qxe,Hxe=QL,Gxe=io,Kxe=Wxe,Qxe=Math.max;function Yxe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Kxe(n);return i<0&&(i=Qxe(r+i,0)),Hxe(t,Gxe(e),i)}var Xxe=Yxe,Jxe=Bxe,Zxe=Xxe,ebe=Jxe(Zxe),tbe=ebe;const nbe=$t(tbe);var rbe=Dse(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),hw=R.createContext(void 0),pw=R.createContext(void 0),BV=R.createContext(void 0),zV=R.createContext({}),qV=R.createContext(void 0),WV=R.createContext(0),HV=R.createContext(0),BA=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=rbe(a);return B.createElement(hw.Provider,{value:r},B.createElement(pw.Provider,{value:i},B.createElement(zV.Provider,{value:a},B.createElement(BV.Provider,{value:u},B.createElement(qV.Provider,{value:s},B.createElement(WV.Provider,{value:c},B.createElement(HV.Provider,{value:l},o)))))))},ibe=function(){return R.useContext(qV)},GV=function(e){var n=R.useContext(hw);n==null&&fl();var r=n[e];return r==null&&fl(),r},abe=function(){var e=R.useContext(hw);return cs(e)},sbe=function(){var e=R.useContext(pw),n=nbe(e,function(r){return MV(r.domain,Number.isFinite)});return n||cs(e)},KV=function(e){var n=R.useContext(pw);n==null&&fl();var r=n[e];return r==null&&fl(),r},obe=function(){var e=R.useContext(BV);return e},lbe=function(){return R.useContext(zV)},mw=function(){return R.useContext(HV)},gw=function(){return R.useContext(WV)};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function cbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ube(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YV(r.key),r)}}function dbe(t,e,n){return e&&ube(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fbe(t,e,n){return e=w1(e),hbe(t,QV()?Reflect.construct(e,n||[],w1(t).constructor):e.apply(t,n))}function hbe(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pbe(t)}function pbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!t})()}function w1(t){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w1(t)}function mbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bv(t,e)}function zA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zA(Object(n),!0).forEach(function(r){yw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yw(t,e,n){return e=YV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YV(t){var e=gbe(t,"string");return au(e)=="symbol"?e:e+""}function gbe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ybe(t,e){return wbe(t)||bbe(t,e)||xbe(t,e)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xbe(t,e){if(t){if(typeof t=="string")return WA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WA(t,e)}}function WA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function wbe(t){if(Array.isArray(t))return t}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}var _be=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):tt(e)?r=e(n):r=B.createElement("line",zv({},n,{className:"recharts-reference-line-line"})),r},Sbe=function(e,n,r,i,a,s,o,l,c){var u=a.x,d=a.y,h=a.width,p=a.height;if(r){var g=c.y,x=e.y.apply(g,{position:s});if(Ba(c,"discard")&&!e.y.isInRange(x))return null;var y=[{x:u+h,y:x},{x:u,y:x}];return l==="left"?y.reverse():y}if(n){var v=c.x,b=e.x.apply(v,{position:s});if(Ba(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+p},{x:b,y:d}];return o==="top"?w.reverse():w}if(i){var S=c.segment,E=S.map(function(P){return e.apply(P,{position:s})});return Ba(c,"discard")&&H8e(E,function(P){return!e.isInRange(P)})?null:E}return null};function Ebe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=ibe(),u=GV(i),d=KV(a),h=obe();if(!c||!h)return null;b0(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=fw({x:u.scale,y:d.scale}),g=jn(e),x=jn(n),y=r&&r.length===2,v=Sbe(p,g,x,y,h,t.position,u.orientation,d.orientation,t);if(!v)return null;var b=ybe(v,2),w=b[0],S=w.x,E=w.y,P=b[1],_=P.x,k=P.y,N=Ba(t,"hidden")?"url(#".concat(c,")"):void 0,A=qA(qA({clipPath:N},ot(t,!0)),{},{x1:S,y1:E,x2:_,y2:k});return B.createElement(tn,{className:yt("recharts-reference-line",o)},_be(s,A),ur.renderCallByParent(t,Mxe({x1:S,y1:E,x2:_,y2:k})))}var vw=function(t){function e(){return cbe(this,e),fbe(this,e,arguments)}return mbe(e,t),dbe(e,[{key:"render",value:function(){return B.createElement(Ebe,this.props)}}])}(B.Component);yw(vw,"displayName","ReferenceLine");yw(vw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qv.apply(this,arguments)}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function HA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(n),!0).forEach(function(r){G2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JV(r.key),r)}}function Tbe(t,e,n){return e&&Pbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nbe(t,e,n){return e=_1(e),Abe(t,XV()?Reflect.construct(e,n||[],_1(t).constructor):e.apply(t,n))}function Abe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ibe(t)}function Ibe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XV=function(){return!!t})()}function _1(t){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_1(t)}function Cbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}function Wv(t,e){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wv(t,e)}function G2(t,e,n){return e=JV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JV(t){var e=Obe(t,"string");return su(e)=="symbol"?e:e+""}function Obe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jbe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=fw({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return Ba(e,"discard")&&!s.isInRange(o)?null:o},K2=function(t){function e(){return kbe(this,e),Nbe(this,e,arguments)}return Cbe(e,t),Tbe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=jn(i),u=jn(a);if(b0(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=jbe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,x=g.shape,y=g.className,v=Ba(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=GA(GA({clipPath:v},ot(this.props,!0)),{},{cx:h,cy:p});return B.createElement(tn,{className:yt("recharts-reference-dot",y)},e.renderDot(x,b),ur.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(B.Component);G2(K2,"displayName","ReferenceDot");G2(K2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});G2(K2,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):tt(t)?n=t(e):n=B.createElement(dw,qv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(this,arguments)}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function KA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(n),!0).forEach(function(r){Q2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eU(r.key),r)}}function $be(t,e,n){return e&&Mbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dbe(t,e,n){return e=S1(e),Lbe(t,ZV()?Reflect.construct(e,n||[],S1(t).constructor):e.apply(t,n))}function Lbe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fbe(t)}function Fbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZV=function(){return!!t})()}function S1(t){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S1(t)}function Vbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gv(t,e)}function Gv(t,e){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gv(t,e)}function Q2(t,e,n){return e=eU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eU(t){var e=Ube(t,"string");return ou(e)=="symbol"?e:e+""}function Ube(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bbe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var h=fw({x:u.scale,y:d.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ba(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:VV(p,g)},Y2=function(t){function e(){return Rbe(this,e),Dbe(this,e,arguments)}return Vbe(e,t),$be(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;b0(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=jn(i),h=jn(a),p=jn(s),g=jn(o),x=this.props.shape;if(!d&&!h&&!p&&!g&&!x)return null;var y=Bbe(d,h,p,g,this.props);if(!y&&!x)return null;var v=Ba(this.props,"hidden")?"url(#".concat(u,")"):void 0;return B.createElement(tn,{className:yt("recharts-reference-area",l)},e.renderRect(x,QA(QA({clipPath:v},ot(this.props,!0)),y)),ur.renderCallByParent(this.props,y))}}])}(B.Component);Q2(Y2,"displayName","ReferenceArea");Q2(Y2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Q2(Y2,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):tt(t)?n=t(e):n=B.createElement(uw,Hv({},e,{className:"recharts-reference-area-rect"})),n});function tU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function zbe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Dxe(r,n)}function qbe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function E1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Wbe(t,e){return tU(t,e+1)}function Hbe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:tU(r,c)};var x=l,y,v=function(){return y===void 0&&(y=n(g,x)),y},b=g.coordinate,w=l===0||E1(t,b,v,u,o);w||(l=0,u=s,c+=1),w&&(u=b+t*(v()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){Gbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gbe(t,e,n){return e=Kbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kbe(t){var e=Qbe(t,"string");return Wh(e)=="symbol"?e:e+""}function Qbe(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ybe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],g,x=function(){return g===void 0&&(g=n(p,h)),g};if(h===s-1){var y=t*(p.coordinate+t*x()/2-l);a[h]=p=sr(sr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else a[h]=p=sr(sr({},p),{},{tickCoord:p.coordinate});var v=E1(t,p.tickCoord,x,o,l);v&&(l=p.tickCoord-t*(x()/2+i),a[h]=sr(sr({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Xbe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=r[o-1],d=n(u,o-1),h=t*(u.coordinate+t*d/2-c);s[o-1]=u=sr(sr({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=E1(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),s[o-1]=sr(sr({},u),{},{isShow:!0}))}for(var g=a?o-1:o,x=function(b){var w=s[b],S,E=function(){return S===void 0&&(S=n(w,b)),S};if(b===0){var P=t*(w.coordinate-t*E()/2-l);s[b]=w=sr(sr({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else s[b]=w=sr(sr({},w),{},{tickCoord:w.coordinate});var _=E1(t,w.tickCoord,E,l,c);_&&(l=w.tickCoord+t*(E()/2+i),s[b]=sr(sr({},w),{},{isShow:!0}))},y=0;y<g;y++)x(y);return s}function xw(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ge(l)||zu.isSsr)return Wbe(i,typeof l=="number"&&ge(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?kf(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(w,S){var E=tt(c)?c(w.value,S):w.value;return p==="width"?zbe(kf(E,{fontSize:e,letterSpacing:n}),g,d):kf(E,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?Zi(i[1].coordinate-i[0].coordinate):1,v=qbe(a,y,p);return l==="equidistantPreserveStart"?Hbe(y,v,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Xbe(y,v,x,i,s,l==="preserveStartEnd"):h=Ybe(y,v,x,i,s),h.filter(function(b){return b.isShow}))}var Jbe=["viewBox"],Zbe=["viewBox"],ewe=["ticks"];function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){bw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V6(t,e){if(t==null)return{};var n=twe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function twe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rU(r.key),r)}}function rwe(t,e,n){return e&&JA(t.prototype,e),n&&JA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iwe(t,e,n){return e=k1(e),awe(t,nU()?Reflect.construct(e,n||[],k1(t).constructor):e.apply(t,n))}function awe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return swe(t)}function swe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nU=function(){return!!t})()}function k1(t){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k1(t)}function owe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kv(t,e)}function Kv(t,e){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kv(t,e)}function bw(t,e,n){return e=rU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rU(t){var e=lwe(t,"string");return lu(e)=="symbol"?e:e+""}function lwe(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gu=function(t){function e(n){var r;return nwe(this,e),r=iwe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return owe(e,t),rwe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=V6(r,Jbe),o=this.props,l=o.viewBox,c=V6(o,Zbe);return!kc(a,l)||!kc(s,c)||!kc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,p,g,x,y,v,b,w=d?-1:1,S=r.tickSize||u,E=ge(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=g=r.coordinate,y=s+ +!d*l,x=y-w*S,b=x-w*h,v=E;break;case"left":x=y=r.coordinate,g=a+ +!d*o,p=g-w*S,v=p-w*h,b=E;break;case"right":x=y=r.coordinate,g=a+ +d*o,p=g+w*S,v=p+w*h,b=E;break;default:p=g=r.coordinate,y=s+ +d*l,x=y+w*S,b=x+w*h,v=E;break}return{line:{x1:p,y1:x,x2:g,y2:y},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=An(An(An({},ot(this.props,!1)),ot(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=An(An({},d),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=An(An({},d),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return B.createElement("line",oc({},d,{className:yt("recharts-cartesian-axis-line",Ri(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,p=xw(An(An({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=ot(this.props,!1),v=ot(u,!1),b=An(An({},y),{},{fill:"none"},ot(l,!1)),w=p.map(function(S,E){var P=s.getTickLineCoord(S),_=P.line,k=P.tick,N=An(An(An(An({textAnchor:g,verticalAnchor:x},y),{},{stroke:"none",fill:c},v),k),{},{index:E,payload:S,visibleTicksCount:p.length,tickFormatter:d});return B.createElement(tn,oc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Om(s.props,S,E)),l&&B.createElement("line",oc({},b,_,{className:yt("recharts-cartesian-axis-tick-line",Ri(l,"className"))})),u&&e.renderTickItem(u,N,"".concat(tt(d)?d(S.value,E):S.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,p=V6(d,ewe),g=h;return tt(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:B.createElement(tn,{className:yt("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ur.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=yt(i.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?s=B.cloneElement(r,An(An({},i),{},{className:o})):tt(r)?s=r(An(An({},i),{},{className:o})):s=B.createElement(Hm,oc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(R.Component);bw(Gu,"displayName","CartesianAxis");bw(Gu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cwe=["x1","y1","x2","y2","key"],uwe=["offset"];function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){dwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dwe(t,e,n){return e=fwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fwe(t){var e=hwe(t,"string");return hl(e)=="symbol"?e:e+""}function hwe(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Do(){return Do=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Do.apply(this,arguments)}function eI(t,e){if(t==null)return{};var n=pwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mwe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return B.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function iU(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(tt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=eI(e,cwe),c=ot(l,!1);c.offset;var u=eI(c,uwe);n=B.createElement("line",Do({},u,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function gwe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=dr(dr({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return iU(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function ywe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=dr(dr({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return iU(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function vwe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],x=g?i+s-h:u[p+1]-h;if(x<=0)return null;var y=p%e.length;return B.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:x,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function xwe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],x=g?a+o-h:u[p+1]-h;if(x<=0)return null;var y=p%r.length;return B.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:x,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var bwe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return pV(xw(dr(dr(dr({},Gu.defaultProps),r),{},{ticks:h0(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},wwe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return pV(xw(dr(dr(dr({},Gu.defaultProps),r),{},{ticks:h0(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Fl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function aU(t){var e,n,r,i,a,s,o=mw(),l=gw(),c=lbe(),u=dr(dr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Fl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Fl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Fl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Fl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Fl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Fl.verticalFill,x:ge(t.x)?t.x:c.left,y:ge(t.y)?t.y:c.top,width:ge(t.width)?t.width:c.width,height:ge(t.height)?t.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,x=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,b=abe(),w=sbe();if(!ge(p)||p<=0||!ge(g)||g<=0||!ge(d)||d!==+d||!ge(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||bwe,E=u.horizontalCoordinatesGenerator||wwe,P=u.horizontalPoints,_=u.verticalPoints;if((!P||!P.length)&&tt(E)){var k=y&&y.length,N=E({yAxis:w?dr(dr({},w),{},{ticks:k?y:w.ticks}):void 0,width:o,height:l,offset:c},k?!0:x);b0(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hl(N),"]")),Array.isArray(N)&&(P=N)}if((!_||!_.length)&&tt(S)){var A=v&&v.length,I=S({xAxis:b?dr(dr({},b),{},{ticks:A?v:b.ticks}):void 0,width:o,height:l,offset:c},A?!0:x);b0(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hl(I),"]")),Array.isArray(I)&&(_=I)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(mwe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),B.createElement(gwe,Do({},u,{offset:c,horizontalPoints:P,xAxis:b,yAxis:w})),B.createElement(ywe,Do({},u,{offset:c,verticalPoints:_,xAxis:b,yAxis:w})),B.createElement(vwe,Do({},u,{horizontalPoints:P})),B.createElement(xwe,Do({},u,{verticalPoints:_})))}aU.displayName="CartesianGrid";var _we=["layout","type","stroke","connectNulls","isRange","ref"],Swe=["key"],sU;function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function oU(t,e){if(t==null)return{};var n=Ewe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ewe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(this,arguments)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Ca(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cU(r.key),r)}}function Pwe(t,e,n){return e&&nI(t.prototype,e),n&&nI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Twe(t,e,n){return e=P1(e),Nwe(t,lU()?Reflect.construct(e,n||[],P1(t).constructor):e.apply(t,n))}function Nwe(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Awe(t)}function Awe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lU=function(){return!!t})()}function P1(t){return P1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P1(t)}function Iwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qv(t,e)}function Qv(t,e){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qv(t,e)}function Ca(t,e,n){return e=cU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cU(t){var e=Cwe(t,"string");return cu(e)=="symbol"?e:e+""}function Cwe(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lo=function(t){function e(){var n;kwe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Twe(this,e,[].concat(i)),Ca(n,"state",{isAnimationFinished:!0}),Ca(n,"id",T4("recharts-area-")),Ca(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),tt(s)&&s()}),Ca(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),tt(s)&&s()}),n}return Iwe(e,t),Pwe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=ot(this.props,!1),p=ot(c,!0),g=u.map(function(y,v){var b=X0(X0(X0({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:y.x,cy:y.y,dataKey:d,value:y.value,payload:y.payload,points:u});return e.renderDotItem(c,b)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return B.createElement(tn,Lo({className:"recharts-area-dots"},x),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),d=ms(s.map(function(h){return h.y||0}));return ge(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(ms(a.map(function(h){return h.y||0})),d)),ge(d)?B.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),d=ms(s.map(function(h){return h.x||0}));return ge(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(ms(a.map(function(h){return h.x||0})),d)),ge(d)?B.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,d=o.connectNulls,h=o.isRange;o.ref;var p=oU(o,_we);return B.createElement(tn,{clipPath:a?"url(#clipPath-".concat(s,")"):null},B.createElement(Nf,Lo({},ot(p,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&B.createElement(Nf,Lo({},ot(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&h&&B.createElement(Nf,Lo({},ot(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,x=g.prevPoints,y=g.prevBaseLine;return B.createElement(j0,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(x){var w=x.length/o.length,S=o.map(function(k,N){var A=Math.floor(N*w);if(x[A]){var I=x[A],j=Ei(I.x,k.x),O=Ei(I.y,k.y);return X0(X0({},k),{},{x:j(b),y:O(b)})}return k}),E;if(ge(l)&&typeof l=="number"){var P=Ei(y,l);E=P(b)}else if(ft(l)||Fu(l)){var _=Ei(y,0);E=_(b)}else E=l.map(function(k,N){var A=Math.floor(N*w);if(y[A]){var I=y[A],j=Ei(I.x,k.x),O=Ei(I.y,k.y);return X0(X0({},k),{},{x:j(b),y:O(b)})}return k});return a.renderAreaStatically(S,E,r,i)}return B.createElement(tn,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),B.createElement(tn,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!Eh(u,s)||!Eh(d,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,p=i.width,g=i.height,x=i.isAnimationActive,y=i.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=o.length===1,w=yt("recharts-area",l),S=d&&d.allowDataOverflow,E=h&&h.allowDataOverflow,P=S||E,_=ft(y)?this.id:y,k=(r=ot(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=k.r,A=N===void 0?3:N,I=k.strokeWidth,j=I===void 0?2:I,O=zoe(s)?s:{},$=O.clipDot,M=$===void 0?!0:$,D=A*2+j;return B.createElement(tn,{className:w},S||E?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(_)},B.createElement("rect",{x:S?u:u-p/2,y:E?c:c-g/2,width:S?p:p*2,height:E?g:g*2})),!M&&B.createElement("clipPath",{id:"clipPath-dots-".concat(_)},B.createElement("rect",{x:u-D/2,y:c-D/2,width:p+D,height:g+D}))):null,b?null:this.renderArea(P,_),(s||b)&&this.renderDots(P,M,_),(!x||v)&&Ms.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(R.PureComponent);sU=lo;Ca(lo,"displayName","Area");Ca(lo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!zu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ca(lo,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(ge(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Ca(lo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=e.layout,g=c&&c.length,x=sU.getBaseValue(e,n,r,i),y=p==="horizontal",v=!1,b=d.map(function(S,E){var P;g?P=c[u+E]:(P=fi(S,l),Array.isArray(P)?v=!0:P=[x,P]);var _=P[1]==null||g&&fi(S,l)==null;return y?{x:VN({axis:r,ticks:a,bandSize:o,entry:S,index:E}),y:_?null:i.scale(P[1]),value:P,payload:S}:{x:_?null:r.scale(P[1]),y:VN({axis:i,ticks:s,bandSize:o,entry:S,index:E}),value:P,payload:S}}),w;return g||v?w=b.map(function(S){var E=Array.isArray(S.value)?S.value[0]:null;return y?{x:S.x,y:E!=null&&S.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:S.y}}):w=y?i.scale(x):r.scale(x),X0({points:b,baseLine:w,layout:p,isRange:v},h)});Ca(lo,"renderDotItem",function(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(tt(t))n=t(e);else{var r=yt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=oU(e,Swe);n=B.createElement(dw,Lo({},a,{key:i,className:r}))}return n});function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function Owe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fU(r.key),r)}}function Rwe(t,e,n){return e&&jwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mwe(t,e,n){return e=T1(e),$we(t,uU()?Reflect.construct(e,n||[],T1(t).constructor):e.apply(t,n))}function $we(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dwe(t)}function Dwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uU=function(){return!!t})()}function T1(t){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T1(t)}function Lwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yv(t,e)}function dU(t,e,n){return e=fU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fU(t){var e=Fwe(t,"string");return uu(e)=="symbol"?e:e+""}function Fwe(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xv.apply(this,arguments)}function Vwe(t){var e=t.xAxisId,n=mw(),r=gw(),i=GV(e);return i==null?null:R.createElement(Gu,Xv({},i,{className:yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return h0(s,!0)}}))}var X2=function(t){function e(){return Owe(this,e),Mwe(this,e,arguments)}return Lwe(e,t),Rwe(e,[{key:"render",value:function(){return R.createElement(Vwe,this.props)}}])}(R.Component);dU(X2,"displayName","XAxis");dU(X2,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function Uwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mU(r.key),r)}}function zwe(t,e,n){return e&&Bwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qwe(t,e,n){return e=N1(e),Wwe(t,hU()?Reflect.construct(e,n||[],N1(t).constructor):e.apply(t,n))}function Wwe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hwe(t)}function Hwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hU=function(){return!!t})()}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N1(t)}function Gwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jv(t,e)}function Jv(t,e){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jv(t,e)}function pU(t,e,n){return e=mU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mU(t){var e=Kwe(t,"string");return du(e)=="symbol"?e:e+""}function Kwe(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zv.apply(this,arguments)}var Qwe=function(e){var n=e.yAxisId,r=mw(),i=gw(),a=KV(n);return a==null?null:R.createElement(Gu,Zv({},a,{className:yt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return h0(o,!0)}}))},J2=function(t){function e(){return Uwe(this,e),qwe(this,e,arguments)}return Gwe(e,t),zwe(e,[{key:"render",value:function(){return R.createElement(Qwe,this.props)}}])}(R.Component);pU(J2,"displayName","YAxis");pU(J2,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function rI(t){return Zwe(t)||Jwe(t)||Xwe(t)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xwe(t,e){if(t){if(typeof t=="string")return e9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e9(t,e)}}function Jwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zwe(t){if(Array.isArray(t))return e9(t)}function e9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var t9=function(e,n,r,i,a){var s=la(e,vw),o=la(e,K2),l=[].concat(rI(s),rI(o)),c=la(e,Y2),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(x,y){if(y.props[u]===r&&Ba(y.props,"extendDomain")&&ge(y.props[d])){var v=y.props[d];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(x,y){if(y.props[u]===r&&Ba(y.props,"extendDomain")&&ge(y.props[p])&&ge(y.props[g])){var v=y.props[p],b=y.props[g];return[Math.min(x[0],v,b),Math.max(x[1],v,b)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,y){return ge(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},h)),h},gU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,p,g){var x=n?n+c:c;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,p),!0;case 6:return y.fn.call(y.context,u,d,h,p,g),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,E;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,h);break;default:if(!b)for(E=1,b=new Array(v-1);E<v;E++)b[E-1]=arguments[E];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var x=0,y=[],v=g.length;x<v;x++)(g[x].fn!==u||h&&!g[x].once||d&&g[x].context!==d)&&y.push(g[x]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(gU);var e_e=gU.exports;const t_e=$t(e_e);var U6=new t_e,B6="recharts.syncMouseEvents";function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function n_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yU(r.key),r)}}function i_e(t,e,n){return e&&r_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z6(t,e,n){return e=yU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yU(t){var e=a_e(t,"string");return Hh(e)=="symbol"?e:e+""}function a_e(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var s_e=function(){function t(){n_e(this,t),z6(this,"activeIndex",0),z6(this,"coordinateList",[]),z6(this,"layout","horizontal")}return i_e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function o_e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ge(r)&&ge(i))return!0}return!1}function l_e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function vU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Zn(e,n,r,i),o=Zn(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function c_e(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=Zn(o,l,c,d),p=Zn(o,l,u,d);r=h.x,i=h.y,a=p.x,s=p.y}else return vU(e);return[{x:r,y:i},{x:a,y:s}]}function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){u_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u_e(t,e,n){return e=d_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d_e(t){var e=f_e(t,"string");return Gh(e)=="symbol"?e:e+""}function f_e(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h_e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,x=Nf;if(h==="ScatterChart")g=s,x=g9e;else if(h==="BarChart")g=l_e(d,s,l,u),x=uw;else if(d==="radial"){var y=vU(s),v=y.cx,b=y.cy,w=y.radius,S=y.startAngle,E=y.endAngle;g={cx:v,cy:b,startAngle:S,endAngle:E,innerRadius:w,outerRadius:w},x=xV}else g={points:c_e(d,s,l)},x=Nf;var P=Lp(Lp(Lp(Lp({stroke:"#ccc",pointerEvents:"none"},l),g),ot(p,!1)),{},{payload:o,payloadIndex:c,className:yt("recharts-tooltip-cursor",p.className)});return R.isValidElement(p)?R.cloneElement(p,P):R.createElement(x,P)}var p_e=["item"],m_e=["children","className","width","height","style","compact","title","desc"];function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(this,arguments)}function aI(t,e){return v_e(t)||y_e(t,e)||bU(t,e)||g_e()}function g_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function v_e(t){if(Array.isArray(t))return t}function sI(t,e){if(t==null)return{};var n=x_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wU(r.key),r)}}function __e(t,e,n){return e&&w_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S_e(t,e,n){return e=A1(e),E_e(t,xU()?Reflect.construct(e,n||[],A1(t).constructor):e.apply(t,n))}function E_e(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k_e(t)}function k_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xU=function(){return!!t})()}function A1(t){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A1(t)}function P_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n9(t,e)}function n9(t,e){return n9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n9(t,e)}function hu(t){return A_e(t)||N_e(t)||bU(t)||T_e()}function T_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bU(t,e){if(t){if(typeof t=="string")return r9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r9(t,e)}}function N_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A_e(t){if(Array.isArray(t))return r9(t)}function r9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){Be(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Be(t,e,n){return e=wU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wU(t){var e=I_e(t,"string");return fu(e)=="symbol"?e:e+""}function I_e(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C_e={xAxis:["bottom","top"],yAxis:["left","right"]},O_e={width:"100%",height:"100%"},_U={x:0,y:0};function Fp(t){return t}var j_e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},R_e=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return te(te(te({},i),Zn(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return te(te(te({},i),Zn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return _U},Z2=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(hu(o),hu(c)):o},[]);return s.length>0?s:e&&e.length&&ge(i)&&ge(a)?e.slice(i,a+1):[]};function SU(t){return t==="number"?[0,"auto"]:void 0}var i9=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Z2(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=Im(p,s.dataKey,i)}else h=d&&d[r]||o[r];return h?[].concat(hu(l),[gV(c,h)]):l},[])},lI=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=j_e(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=K6e(s,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=i9(e,n,u,d),p=R_e(r,o,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},M_e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,p=hV(u,a);return r.reduce(function(g,x){var y,v=x.type.defaultProps!==void 0?te(te({},x.type.defaultProps),x.props):x.props,b=v.type,w=v.dataKey,S=v.allowDataOverflow,E=v.allowDuplicatedCategory,P=v.scale,_=v.ticks,k=v.includeHidden,N=v[s];if(g[N])return g;var A=Z2(e.data,{graphicalItems:i.filter(function(W){var ee,le=s in W.props?W.props[s]:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee[s];return le===N}),dataStartIndex:l,dataEndIndex:c}),I=A.length,j,O,$;o_e(v.domain,S,b)&&(j=Sv(v.domain,null,S),p&&(b==="number"||P!=="auto")&&($=Tf(A,w,"category")));var M=SU(b);if(!j||j.length===0){var D,V=(D=v.domain)!==null&&D!==void 0?D:M;if(w){if(j=Tf(A,w,b),b==="category"&&p){var F=joe(j);E&&F?(O=j,j=g1(0,I)):E||(j=qN(V,j,x).reduce(function(W,ee){return W.indexOf(ee)>=0?W:[].concat(hu(W),[ee])},[]))}else if(b==="category")E?j=j.filter(function(W){return W!==""&&!ft(W)}):j=qN(V,j,x).reduce(function(W,ee){return W.indexOf(ee)>=0||ee===""||ft(ee)?W:[].concat(hu(W),[ee])},[]);else if(b==="number"){var U=Z6e(A,i.filter(function(W){var ee,le,pe=s in W.props?W.props[s]:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee[s],Z="hide"in W.props?W.props.hide:(le=W.type.defaultProps)===null||le===void 0?void 0:le.hide;return pe===N&&(k||!Z)}),w,a,u);U&&(j=U)}p&&(b==="number"||P!=="auto")&&($=Tf(A,w,"category"))}else p?j=g1(0,I):o&&o[N]&&o[N].hasStack&&b==="number"?j=h==="expand"?[0,1]:mV(o[N].stackGroups,l,c):j=fV(A,i.filter(function(W){var ee=s in W.props?W.props[s]:W.type.defaultProps[s],le="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return ee===N&&(k||!le)}),b,u,!0);if(b==="number")j=t9(d,j,N,a,_),V&&(j=Sv(V,j,S));else if(b==="category"&&V){var H=V,G=j.every(function(W){return H.indexOf(W)>=0});G&&(j=H)}}return te(te({},g),{},Be({},N,te(te({},v),{},{axisType:a,domain:j,categoricalDomain:$,duplicateDomain:O,originalDomain:(y=v.domain)!==null&&y!==void 0?y:M,isCategorical:p,layout:u})))},{})},$_e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=Z2(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=hV(u,a),x=-1;return r.reduce(function(y,v){var b=v.type.defaultProps!==void 0?te(te({},v.type.defaultProps),v.props):v.props,w=b[s],S=SU("number");if(!y[w]){x++;var E;return g?E=g1(0,p):o&&o[w]&&o[w].hasStack?(E=mV(o[w].stackGroups,l,c),E=t9(d,E,w,a)):(E=Sv(S,fV(h,r.filter(function(P){var _,k,N=s in P.props?P.props[s]:(_=P.type.defaultProps)===null||_===void 0?void 0:_[s],A="hide"in P.props?P.props.hide:(k=P.type.defaultProps)===null||k===void 0?void 0:k.hide;return N===w&&!A}),"number",u),i.defaultProps.allowDataOverflow),E=t9(d,E,w,a)),te(te({},y),{},Be({},w,te(te({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ri(C_e,"".concat(a,".").concat(x%2),null),domain:E,originalDomain:S,isCategorical:g,layout:u})))}return y},{})},D_e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=la(u,a),p={};return h&&h.length?p=M_e(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=$_e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},L_e=function(e){var n=cs(e),r=h0(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Db(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:s1(n,r)}},cI=function(e){var n=e.children,r=e.defaultShowTooltip,i=Zr(n,ru),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},F_e=function(e){return!e||!e.length?!1:e.some(function(n){var r=x0(n&&n.type);return r&&r.indexOf("Bar")>=0})},uI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},V_e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,h=r.margin||{},p=Zr(d,ru),g=Zr(d,Pc),x=Object.keys(l).reduce(function(E,P){var _=l[P],k=_.orientation;return!_.mirror&&!_.hide?te(te({},E),{},Be({},k,E[k]+_.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(E,P){var _=s[P],k=_.orientation;return!_.mirror&&!_.hide?te(te({},E),{},Be({},k,Ri(E,"".concat(k))+_.height)):E},{top:h.top||0,bottom:h.bottom||0}),v=te(te({},y),x),b=v.bottom;p&&(v.bottom+=p.props.height||ru.defaultProps.height),g&&n&&(v=X6e(v,i,r,n));var w=c-v.left-v.right,S=u-v.top-v.bottom;return te(te({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(S,0)})},U_e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},B_e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(v,b){var w=b.graphicalItems,S=b.stackGroups,E=b.offset,P=b.updateId,_=b.dataStartIndex,k=b.dataEndIndex,N=v.barSize,A=v.layout,I=v.barGap,j=v.barCategoryGap,O=v.maxBarSize,$=uI(A),M=$.numericAxisName,D=$.cateAxisName,V=F_e(w),F=[];return w.forEach(function(U,H){var G=Z2(v.data,{graphicalItems:[U],dataStartIndex:_,dataEndIndex:k}),W=U.type.defaultProps!==void 0?te(te({},U.type.defaultProps),U.props):U.props,ee=W.dataKey,le=W.maxBarSize,pe=W["".concat(M,"Id")],Z=W["".concat(D,"Id")],_e={},Ce=l.reduce(function(Y,ue){var Ie=b["".concat(ue.axisType,"Map")],bt=W["".concat(ue.axisType,"Id")];Ie&&Ie[bt]||ue.axisType==="zAxis"||fl();var Ye=Ie[bt];return te(te({},Y),{},Be(Be({},ue.axisType,Ye),"".concat(ue.axisType,"Ticks"),h0(Ye)))},_e),ie=Ce[D],ve=Ce["".concat(D,"Ticks")],X=S&&S[pe]&&S[pe].hasStack&&dye(U,S[pe].stackGroups),q=x0(U.type).indexOf("Bar")>=0,de=s1(ie,ve),ke=[],me=V&&Q6e({barSize:N,stackGroups:S,totalSize:U_e(Ce,D)});if(q){var we,Ue,St=ft(le)?O:le,Me=(we=(Ue=s1(ie,ve,!0))!==null&&Ue!==void 0?Ue:St)!==null&&we!==void 0?we:0;ke=Y6e({barGap:I,barCategoryGap:j,bandSize:Me!==de?Me:de,sizeList:me[Z],maxBarSize:St}),Me!==de&&(ke=ke.map(function(Y){return te(te({},Y),{},{position:te(te({},Y.position),{},{offset:Y.position.offset-Me/2})})}))}var He=U&&U.type&&U.type.getComposedData;He&&F.push({props:te(te({},He(te(te({},Ce),{},{displayedData:G,props:v,dataKey:ee,item:U,bandSize:de,barPosition:ke,offset:E,stackedData:X,layout:A,dataStartIndex:_,dataEndIndex:k}))),{},Be(Be(Be({key:U.key||"item-".concat(H)},M,Ce[M]),D,Ce[D]),"animationId",P)),childIndex:Hoe(U,v.children),item:U})}),F},p=function(v,b){var w=v.props,S=v.dataStartIndex,E=v.dataEndIndex,P=v.updateId;if(!DP({props:w}))return null;var _=w.children,k=w.layout,N=w.stackOffset,A=w.data,I=w.reverseStackOrder,j=uI(k),O=j.numericAxisName,$=j.cateAxisName,M=la(_,r),D=lye(A,M,"".concat(O,"Id"),"".concat($,"Id"),N,I),V=l.reduce(function(W,ee){var le="".concat(ee.axisType,"Map");return te(te({},W),{},Be({},le,D_e(w,te(te({},ee),{},{graphicalItems:M,stackGroups:ee.axisType===O&&D,dataStartIndex:S,dataEndIndex:E}))))},{}),F=V_e(te(te({},V),{},{props:w,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(V).forEach(function(W){V[W]=u(w,V[W],F,W.replace("Map",""),n)});var U=V["".concat($,"Map")],H=L_e(U),G=h(w,te(te({},V),{},{dataStartIndex:S,dataEndIndex:E,updateId:P,graphicalItems:M,stackGroups:D,offset:F}));return te(te({formattedGraphicalItems:G,graphicalItems:M,offset:F,stackGroups:D},H),V)},g=function(y){function v(b){var w,S,E;return b_e(this,v),E=S_e(this,v,[b]),Be(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(E,"accessibilityManager",new s_e),Be(E,"handleLegendBBoxUpdate",function(P){if(P){var _=E.state,k=_.dataStartIndex,N=_.dataEndIndex,A=_.updateId;E.setState(te({legendBBox:P},p({props:E.props,dataStartIndex:k,dataEndIndex:N,updateId:A},te(te({},E.state),{},{legendBBox:P}))))}}),Be(E,"handleReceiveSyncEvent",function(P,_,k){if(E.props.syncId===P){if(k===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),Be(E,"handleBrushChange",function(P){var _=P.startIndex,k=P.endIndex;if(_!==E.state.dataStartIndex||k!==E.state.dataEndIndex){var N=E.state.updateId;E.setState(function(){return te({dataStartIndex:_,dataEndIndex:k},p({props:E.props,dataStartIndex:_,dataEndIndex:k,updateId:N},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:k})}}),Be(E,"handleMouseEnter",function(P){var _=E.getMouseInfo(P);if(_){var k=te(te({},_),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var N=E.props.onMouseEnter;tt(N)&&N(k,P)}}),Be(E,"triggeredAfterMouseMove",function(P){var _=E.getMouseInfo(P),k=_?te(te({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(k),E.triggerSyncEvent(k);var N=E.props.onMouseMove;tt(N)&&N(k,P)}),Be(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Be(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Be(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),Be(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var k=E.props.onMouseLeave;tt(k)&&k(_,P)}),Be(E,"handleOuterEvent",function(P){var _=Woe(P),k=Ri(E.props,"".concat(_));if(_&&tt(k)){var N,A;/.*touch.*/i.test(_)?A=E.getMouseInfo(P.changedTouches[0]):A=E.getMouseInfo(P),k((N=A)!==null&&N!==void 0?N:{},P)}}),Be(E,"handleClick",function(P){var _=E.getMouseInfo(P);if(_){var k=te(te({},_),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var N=E.props.onClick;tt(N)&&N(k,P)}}),Be(E,"handleMouseDown",function(P){var _=E.props.onMouseDown;if(tt(_)){var k=E.getMouseInfo(P);_(k,P)}}),Be(E,"handleMouseUp",function(P){var _=E.props.onMouseUp;if(tt(_)){var k=E.getMouseInfo(P);_(k,P)}}),Be(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Be(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),Be(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),Be(E,"handleDoubleClick",function(P){var _=E.props.onDoubleClick;if(tt(_)){var k=E.getMouseInfo(P);_(k,P)}}),Be(E,"handleContextMenu",function(P){var _=E.props.onContextMenu;if(tt(_)){var k=E.getMouseInfo(P);_(k,P)}}),Be(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&U6.emit(B6,E.props.syncId,P,E.eventEmitterSymbol)}),Be(E,"applySyncEvent",function(P){var _=E.props,k=_.layout,N=_.syncMethod,A=E.state.updateId,I=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(te({dataStartIndex:I,dataEndIndex:j},p({props:E.props,dataStartIndex:I,dataEndIndex:j,updateId:A},E.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,$=P.chartY,M=P.activeTooltipIndex,D=E.state,V=D.offset,F=D.tooltipTicks;if(!V)return;if(typeof N=="function")M=N(F,P);else if(N==="value"){M=-1;for(var U=0;U<F.length;U++)if(F[U].value===P.activeLabel){M=U;break}}var H=te(te({},V),{},{x:V.left,y:V.top}),G=Math.min(O,H.x+H.width),W=Math.min($,H.y+H.height),ee=F[M]&&F[M].value,le=i9(E.state,E.props.data,M),pe=F[M]?{x:k==="horizontal"?F[M].coordinate:G,y:k==="horizontal"?W:F[M].coordinate}:_U;E.setState(te(te({},P),{},{activeLabel:ee,activeCoordinate:pe,activePayload:le,activeTooltipIndex:M}))}else E.setState(P)}),Be(E,"renderCursor",function(P){var _,k=E.state,N=k.isTooltipActive,A=k.activeCoordinate,I=k.activePayload,j=k.offset,O=k.activeTooltipIndex,$=k.tooltipAxisBandSize,M=E.getTooltipEventType(),D=(_=P.props.active)!==null&&_!==void 0?_:N,V=E.props.layout,F=P.key||"_recharts-cursor";return B.createElement(h_e,{key:F,activeCoordinate:A,activePayload:I,activeTooltipIndex:O,chartName:n,element:P,isActive:D,layout:V,offset:j,tooltipAxisBandSize:$,tooltipEventType:M})}),Be(E,"renderPolarAxis",function(P,_,k){var N=Ri(P,"type.axisType"),A=Ri(E.state,"".concat(N,"Map")),I=P.type.defaultProps,j=I!==void 0?te(te({},I),P.props):P.props,O=A&&A[j["".concat(N,"Id")]];return R.cloneElement(P,te(te({},O),{},{className:yt(N,O.className),key:P.key||"".concat(_,"-").concat(k),ticks:h0(O,!0)}))}),Be(E,"renderPolarGrid",function(P){var _=P.props,k=_.radialLines,N=_.polarAngles,A=_.polarRadius,I=E.state,j=I.radiusAxisMap,O=I.angleAxisMap,$=cs(j),M=cs(O),D=M.cx,V=M.cy,F=M.innerRadius,U=M.outerRadius;return R.cloneElement(P,{polarAngles:Array.isArray(N)?N:h0(M,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(A)?A:h0($,!0).map(function(H){return H.coordinate}),cx:D,cy:V,innerRadius:F,outerRadius:U,key:P.key||"polar-grid",radialLines:k})}),Be(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,_=E.props,k=_.children,N=_.width,A=_.height,I=E.props.margin||{},j=N-(I.left||0)-(I.right||0),O=uV({children:k,formattedGraphicalItems:P,legendWidth:j,legendContent:c});if(!O)return null;var $=O.item,M=sI(O,p_e);return R.cloneElement($,te(te({},M),{},{chartWidth:N,chartHeight:A,margin:I,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Be(E,"renderTooltip",function(){var P,_=E.props,k=_.children,N=_.accessibilityLayer,A=Zr(k,ba);if(!A)return null;var I=E.state,j=I.isTooltipActive,O=I.activeCoordinate,$=I.activePayload,M=I.activeLabel,D=I.offset,V=(P=A.props.active)!==null&&P!==void 0?P:j;return R.cloneElement(A,{viewBox:te(te({},D),{},{x:D.left,y:D.top}),active:V,label:M,payload:V?$:[],coordinate:O,accessibilityLayer:N})}),Be(E,"renderBrush",function(P){var _=E.props,k=_.margin,N=_.data,A=E.state,I=A.offset,j=A.dataStartIndex,O=A.dataEndIndex,$=A.updateId;return R.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Rp(E.handleBrushChange,P.props.onChange),data:N,x:ge(P.props.x)?P.props.x:I.left,y:ge(P.props.y)?P.props.y:I.top+I.height+I.brushBottom-(k.bottom||0),width:ge(P.props.width)?P.props.width:I.width,startIndex:j,endIndex:O,updateId:"brush-".concat($)})}),Be(E,"renderReferenceElement",function(P,_,k){if(!P)return null;var N=E,A=N.clipPathId,I=E.state,j=I.xAxisMap,O=I.yAxisMap,$=I.offset,M=P.type.defaultProps||{},D=P.props,V=D.xAxisId,F=V===void 0?M.xAxisId:V,U=D.yAxisId,H=U===void 0?M.yAxisId:U;return R.cloneElement(P,{key:P.key||"".concat(_,"-").concat(k),xAxis:j[F],yAxis:O[H],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:A})}),Be(E,"renderActivePoints",function(P){var _=P.item,k=P.activePoint,N=P.basePoint,A=P.childIndex,I=P.isRange,j=[],O=_.props.key,$=_.item.type.defaultProps!==void 0?te(te({},_.item.type.defaultProps),_.item.props):_.item.props,M=$.activeDot,D=$.dataKey,V=te(te({index:A,dataKey:D,cx:k.x,cy:k.y,r:4,fill:cw(_.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ot(M,!1)),Cm(M));return j.push(v.renderActiveDot(M,V,"".concat(O,"-activePoint-").concat(A))),N?j.push(v.renderActiveDot(M,te(te({},V),{},{cx:N.x,cy:N.y}),"".concat(O,"-basePoint-").concat(A))):I&&j.push(null),j}),Be(E,"renderGraphicChild",function(P,_,k){var N=E.filterFormatItem(P,_,k);if(!N)return null;var A=E.getTooltipEventType(),I=E.state,j=I.isTooltipActive,O=I.tooltipAxis,$=I.activeTooltipIndex,M=I.activeLabel,D=E.props.children,V=Zr(D,ba),F=N.props,U=F.points,H=F.isRange,G=F.baseLine,W=N.item.type.defaultProps!==void 0?te(te({},N.item.type.defaultProps),N.item.props):N.item.props,ee=W.activeDot,le=W.hide,pe=W.activeBar,Z=W.activeShape,_e=!!(!le&&j&&V&&(ee||pe||Z)),Ce={};A!=="axis"&&V&&V.props.trigger==="click"?Ce={onClick:Rp(E.handleItemMouseEnter,P.props.onClick)}:A!=="axis"&&(Ce={onMouseLeave:Rp(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Rp(E.handleItemMouseEnter,P.props.onMouseEnter)});var ie=R.cloneElement(P,te(te({},N.props),Ce));function ve(ue){return typeof O.dataKey=="function"?O.dataKey(ue.payload):null}if(_e)if($>=0){var X,q;if(O.dataKey&&!O.allowDuplicatedCategory){var de=typeof O.dataKey=="function"?ve:"payload.".concat(O.dataKey.toString());X=Im(U,de,M),q=H&&G&&Im(G,de,M)}else X=U==null?void 0:U[$],q=H&&G&&G[$];if(Z||pe){var ke=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[R.cloneElement(P,te(te(te({},N.props),Ce),{},{activeIndex:ke})),null,null]}if(!ft(X))return[ie].concat(hu(E.renderActivePoints({item:N,activePoint:X,basePoint:q,childIndex:$,isRange:H})))}else{var me,we=(me=E.getItemByXY(E.state.activeCoordinate))!==null&&me!==void 0?me:{graphicalItem:ie},Ue=we.graphicalItem,St=Ue.item,Me=St===void 0?P:St,He=Ue.childIndex,Y=te(te(te({},N.props),Ce),{},{activeIndex:He});return[R.cloneElement(Me,Y),null,null]}return H?[ie,null,null]:[ie,null]}),Be(E,"renderCustomized",function(P,_,k){return R.cloneElement(P,te(te({key:"recharts-customized-".concat(k)},E.props),E.state))}),Be(E,"renderMap",{CartesianGrid:{handler:Fp,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Fp},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Fp},YAxis:{handler:Fp},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:T4("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=cF(E.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return P_e(v,y),__e(v,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,E=w.data,P=w.height,_=w.layout,k=Zr(S,ba);if(k){var N=k.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,I=i9(this.state,E,N,A),j=this.state.tooltipTicks[N].coordinate,O=(this.state.offset.top+P)/2,$=_==="horizontal",M=$?{x:j,y:O}:{y:j,x:O},D=this.state.formattedGraphicalItems.find(function(F){var U=F.item;return U.type.name==="Scatter"});D&&(M=te(te({},M),D.props.points[N].tooltipPosition),I=D.props.points[N].tooltipPayload);var V={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:A,activePayload:I,activeCoordinate:M};this.setState(V),this.renderCursor(k),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){L7([Zr(w.children,ba)],[Zr(this.props.children,ba)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Zr(this.props.children,ba);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),P=x1e(E),_={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},k=E.width/S.offsetWidth||1,N=this.inRange(_.chartX,_.chartY,k);if(!N)return null;var A=this.state,I=A.xAxisMap,j=A.yAxisMap,O=this.getTooltipEventType(),$=lI(this.state,this.props.data,this.props.layout,N);if(O!=="axis"&&I&&j){var M=cs(I).scale,D=cs(j).scale,V=M&&M.invert?M.invert(_.chartX):null,F=D&&D.invert?D.invert(_.chartY):null;return te(te({},_),{},{xValue:V,yValue:F},$)}return $?te(te({},_),$):null}},{key:"inRange",value:function(w,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,_=w/E,k=S/E;if(P==="horizontal"||P==="vertical"){var N=this.state.offset,A=_>=N.left&&_<=N.left+N.width&&k>=N.top&&k<=N.top+N.height;return A?{x:_,y:k}:null}var I=this.state,j=I.angleAxisMap,O=I.radiusAxisMap;if(j&&O){var $=cs(j);return GN({x:_,y:k},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),E=Zr(w,ba),P={};E&&S==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Cm(this.props,this.handleOuterEvent);return te(te({},_),P)}},{key:"addListener",value:function(){U6.on(B6,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){U6.removeListener(B6,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,E){for(var P=this.state.formattedGraphicalItems,_=0,k=P.length;_<k;_++){var N=P[_];if(N.item===w||N.props.key===w.key||S===x0(N.item.type)&&E===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,E=S.left,P=S.top,_=S.height,k=S.width;return B.createElement("defs",null,B.createElement("clipPath",{id:w},B.createElement("rect",{x:E,y:P,height:_,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,E){var P=aI(E,2),_=P[0],k=P[1];return te(te({},S),{},Be({},_,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,E){var P=aI(E,2),_=P[0],k=P[1];return te(te({},S),{},Be({},_,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,E=S.formattedGraphicalItems,P=S.activeItem;if(E&&E.length)for(var _=0,k=E.length;_<k;_++){var N=E[_],A=N.props,I=N.item,j=I.type.defaultProps!==void 0?te(te({},I.type.defaultProps),I.props):I.props,O=x0(I.type);if(O==="Bar"){var $=(A.data||[]).find(function(F){return s9e(w,F)});if($)return{graphicalItem:N,payload:$}}else if(O==="RadialBar"){var M=(A.data||[]).find(function(F){return GN(w,F)});if(M)return{graphicalItem:N,payload:M}}else if(q2(N,P)||W2(N,P)||Uh(N,P)){var D=c8e({graphicalItem:N,activeTooltipItem:P,itemData:j.data}),V=j.activeIndex===void 0?D:j.activeIndex;return{graphicalItem:te(te({},N),{},{childIndex:V}),payload:Uh(N,P)?j.data[D]:N.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!DP(this))return null;var S=this.props,E=S.children,P=S.className,_=S.width,k=S.height,N=S.style,A=S.compact,I=S.title,j=S.desc,O=sI(S,m_e),$=ot(O,!1);if(A)return B.createElement(BA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(V7,lc({},$,{width:_,height:k,title:I,desc:j}),this.renderClipPath(),FP(E,this.renderMap)));if(this.props.accessibilityLayer){var M,D;$.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,$.role=(D=this.props.role)!==null&&D!==void 0?D:"application",$.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},$.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return B.createElement(BA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",lc({className:yt("recharts-wrapper",P),style:te({position:"relative",cursor:"default",width:_,height:k},N)},V,{ref:function(U){w.container=U}}),B.createElement(V7,lc({},$,{width:_,height:k,title:I,desc:j,style:O_e}),this.renderClipPath(),FP(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);Be(g,"displayName",n),Be(g,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Be(g,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,w=y.data,S=y.children,E=y.width,P=y.height,_=y.layout,k=y.stackOffset,N=y.margin,A=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var j=cI(y);return te(te(te({},j),{},{updateId:0},p(te(te({props:y},j),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:w,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:k,prevMargin:N,prevChildren:S})}if(b!==v.prevDataKey||w!==v.prevData||E!==v.prevWidth||P!==v.prevHeight||_!==v.prevLayout||k!==v.prevStackOffset||!kc(N,v.prevMargin)){var O=cI(y),$={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},M=te(te({},lI(v,w,_)),{},{updateId:v.updateId+1}),D=te(te(te({},O),$),M);return te(te(te({},D),p(te({props:y},D),v)),{},{prevDataKey:b,prevData:w,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:k,prevMargin:N,prevChildren:S})}if(!L7(S,v.prevChildren)){var V,F,U,H,G=Zr(S,ru),W=G&&(V=(F=G.props)===null||F===void 0?void 0:F.startIndex)!==null&&V!==void 0?V:A,ee=G&&(U=(H=G.props)===null||H===void 0?void 0:H.endIndex)!==null&&U!==void 0?U:I,le=W!==A||ee!==I,pe=!ft(w),Z=pe&&!le?v.updateId:v.updateId+1;return te(te({updateId:Z},p(te(te({props:y},v),{},{updateId:Z,dataStartIndex:W,dataEndIndex:ee}),v)),{},{prevChildren:S,dataStartIndex:W,dataEndIndex:ee})}return null}),Be(g,"renderActiveDot",function(y,v,b){var w;return R.isValidElement(y)?w=R.cloneElement(y,v):tt(y)?w=y(v):w=B.createElement(dw,v),B.createElement(tn,{className:"recharts-active-dot",key:b},w)});var x=R.forwardRef(function(v,b){return B.createElement(g,lc({},v,{ref:b}))});return x.displayName=g.displayName,x},z_e=B_e({chartName:"AreaChart",GraphicalChild:lo,axisComponents:[{axisType:"xAxis",AxisComp:X2},{axisType:"yAxis",AxisComp:J2}],formatAxisMap:Rxe});const EU=6048e5,q_e=864e5,kU=6e4,PU=36e5,dI=Symbol.for("constructDateFrom");function hi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&dI in t?t[dI](e):t instanceof Date?new t.constructor(e):new Date(e)}function Vt(t,e){return hi(e||t,t)}function TU(t,e,n){const r=Vt(t,n==null?void 0:n.in);return isNaN(e)?hi(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function E3(t,e,n){const r=Vt(t,n==null?void 0:n.in);if(isNaN(e))return hi(t,NaN);if(!e)return r;const i=r.getDate(),a=hi(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let W_e={};function e5(){return W_e}function pu(t,e){var o,l,c,u;const n=e5(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Vt(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function I1(t,e){return pu(t,{...e,weekStartsOn:1})}function NU(t,e){const n=Vt(t,e==null?void 0:e.in),r=n.getFullYear(),i=hi(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=I1(i),s=hi(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=I1(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function fI(t){const e=Vt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function R4(t,...e){const n=hi.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function p0(t,e){const n=Vt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function AU(t,e,n){const[r,i]=R4(n==null?void 0:n.in,t,e),a=p0(r),s=p0(i),o=+a-fI(a),l=+s-fI(s);return Math.round((o-l)/q_e)}function H_e(t,e){const n=NU(t,e),r=hi(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),I1(r)}function ys(t,e,n){const[r,i]=R4(n==null?void 0:n.in,t,e);return+p0(r)==+p0(i)}function G_e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function K_e(t){return!(!G_e(t)&&typeof t!="number"||isNaN(+Vt(t)))}function Q_e(t,e,n){const[r,i]=R4(n==null?void 0:n.in,t,e),a=hI(r,i),s=Math.abs(AU(r,i));r.setDate(r.getDate()-a*s);const o=+(hI(r,i)===-a),l=a*(s-o);return l===0?0:l}function hI(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function k3(t,e){const n=Vt(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function Y_e(t,e){const n=Vt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function X_e(t,e){const[n,r]=R4(t,e.start,e.end);return{start:n,end:r}}function J_e(t,e){const{start:n,end:r}=X_e(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(hi(n,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function Z_e(t,e){const n=Vt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function eSe(t,e){const n=Vt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tSe(t,e){const n=e==null?void 0:e.weekStartsOn,r=Vt(t,e==null?void 0:e.in),i=r.getDay(),a=(i<n?-7:0)+6-(i-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}const nSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rSe=(t,e,n)=>{let r;const i=nSe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function q6(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const iSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aSe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oSe={date:q6({formats:iSe,defaultWidth:"full"}),time:q6({formats:aSe,defaultWidth:"full"}),dateTime:q6({formats:sSe,defaultWidth:"full"})},lSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cSe=(t,e,n,r)=>lSe[t];function Ad(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const uSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gSe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ySe={ordinalNumber:gSe,era:Ad({values:uSe,defaultWidth:"wide"}),quarter:Ad({values:dSe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ad({values:fSe,defaultWidth:"wide"}),day:Ad({values:hSe,defaultWidth:"wide"}),dayPeriod:Ad({values:pSe,defaultWidth:"wide",formattingValues:mSe,defaultFormattingWidth:"wide"})};function Id(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?xSe(o,d=>d.test(s)):vSe(o,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function vSe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function xSe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function bSe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const wSe=/^(\d+)(th|st|nd|rd)?/i,_Se=/\d+/i,SSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ESe={any:[/^b/i,/^(a|c)/i]},kSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PSe={any:[/1/i,/2/i,/3/i,/4/i]},TSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ASe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ISe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jSe={ordinalNumber:bSe({matchPattern:wSe,parsePattern:_Se,valueCallback:t=>parseInt(t,10)}),era:Id({matchPatterns:SSe,defaultMatchWidth:"wide",parsePatterns:ESe,defaultParseWidth:"any"}),quarter:Id({matchPatterns:kSe,defaultMatchWidth:"wide",parsePatterns:PSe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Id({matchPatterns:TSe,defaultMatchWidth:"wide",parsePatterns:NSe,defaultParseWidth:"any"}),day:Id({matchPatterns:ASe,defaultMatchWidth:"wide",parsePatterns:ISe,defaultParseWidth:"any"}),dayPeriod:Id({matchPatterns:CSe,defaultMatchWidth:"any",parsePatterns:OSe,defaultParseWidth:"any"})},RSe={code:"en-US",formatDistance:rSe,formatLong:oSe,formatRelative:cSe,localize:ySe,match:jSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MSe(t,e){const n=Vt(t,e==null?void 0:e.in);return AU(n,eSe(n))+1}function $Se(t,e){const n=Vt(t,e==null?void 0:e.in),r=+I1(n)-+H_e(n);return Math.round(r/EU)+1}function IU(t,e){var u,d,h,p;const n=Vt(t,e==null?void 0:e.in),r=n.getFullYear(),i=e5(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=hi((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=pu(s,e),l=hi((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=pu(l,e);return+n>=+o?r+1:+n>=+c?r:r-1}function DSe(t,e){var o,l,c,u;const n=e5(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=IU(t,e),a=hi((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),pu(a,e)}function LSe(t,e){const n=Vt(t,e==null?void 0:e.in),r=+pu(n,e)-+DSe(n,e);return Math.round(r/EU)+1}function Tt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Y0={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Tt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Tt(n+1,2)},d(t,e){return Tt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Tt(t.getHours()%12||12,e.length)},H(t,e){return Tt(t.getHours(),e.length)},m(t,e){return Tt(t.getMinutes(),e.length)},s(t,e){return Tt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Tt(i,e.length)}},Vl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Y0.y(t,e)},Y:function(t,e,n,r){const i=IU(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Tt(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Tt(a,e.length)},R:function(t,e){const n=NU(t);return Tt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Tt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Tt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Tt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Y0.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Tt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=LSe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Tt(i,e.length)},I:function(t,e,n){const r=$Se(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Tt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Y0.d(t,e)},D:function(t,e,n){const r=MSe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Tt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Tt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Tt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Tt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Vl.noon:r===0?i=Vl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Vl.evening:r>=12?i=Vl.afternoon:r>=4?i=Vl.morning:i=Vl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Y0.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Y0.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Y0.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Y0.s(t,e)},S:function(t,e){return Y0.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return gI(r);case"XXXX":case"XX":return ko(r);case"XXXXX":case"XXX":default:return ko(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return gI(r);case"xxxx":case"xx":return ko(r);case"xxxxx":case"xxx":default:return ko(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+mI(r,":");case"OOOO":default:return"GMT"+ko(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+mI(r,":");case"zzzz":default:return"GMT"+ko(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Tt(r,e.length)},T:function(t,e,n){return Tt(+t,e.length)}};function mI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Tt(a,2)}function gI(t,e){return t%60===0?(t>0?"-":"+")+Tt(Math.abs(t)/60,2):ko(t,e)}function ko(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Tt(Math.trunc(r/60),2),a=Tt(r%60,2);return n+i+e+a}const yI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},CU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},FSe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return yI(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",yI(r,e)).replace("{{time}}",CU(i,e))},VSe={p:CU,P:FSe},USe=/^D+$/,BSe=/^Y+$/,zSe=["D","DD","YY","YYYY"];function qSe(t){return USe.test(t)}function WSe(t){return BSe.test(t)}function HSe(t,e,n){const r=GSe(t,e,n);if(console.warn(r),zSe.includes(t))throw new RangeError(r)}function GSe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YSe=/^'([^]*?)'?$/,XSe=/''/g,JSe=/[a-zA-Z]/;function wi(t,e,n){var u,d,h,p;const r=e5(),i=r.locale??RSe,a=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Vt(t,n==null?void 0:n.in);if(!K_e(o))throw new RangeError("Invalid time value");let l=e.match(QSe).map(g=>{const x=g[0];if(x==="p"||x==="P"){const y=VSe[x];return y(g,i.formatLong)}return g}).join("").match(KSe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:ZSe(g)};if(pI[x])return{isToken:!0,value:g};if(x.match(JSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const x=g.value;(WSe(x)||qSe(x))&&HSe(x,e,String(t));const y=pI[x[0]];return y(o,x,i.localize,c)}).join("")}function ZSe(t){const e=t.match(YSe);return e?e[1].replace(XSe,"'"):t}function OU(t,e){return+Vt(t)>+Vt(e)}function Cd(t,e){return+Vt(t)<+Vt(e)}function eEe(t,e,n){const[r,i]=R4(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Ac(t,e,n){const r=+Vt(t,n==null?void 0:n.in),[i,a]=[+Vt(e.start,n==null?void 0:n.in),+Vt(e.end,n==null?void 0:n.in)].sort((s,o)=>s-o);return r>=i&&r<=a}function ww(t,e,n){return TU(t,-e,n)}function wa(t,e){const n=()=>hi(e==null?void 0:e.in,NaN),i=iEe(t);let a;if(i.date){const c=aEe(i.date,2);a=sEe(c.restDateString,c.year)}if(!a||isNaN(+a))return n();const s=+a;let o=0,l;if(i.time&&(o=oEe(i.time),isNaN(o)))return n();if(i.timezone){if(l=lEe(i.timezone),isNaN(l))return n()}else{const c=new Date(s+o),u=Vt(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return Vt(s+o+l,e==null?void 0:e.in)}const Vp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tEe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nEe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rEe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function iEe(t){const e={},n=t.split(Vp.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Vp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Vp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Vp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function aEe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function sEe(t,e){if(e===null)return new Date(NaN);const n=t.match(tEe);if(!n)return new Date(NaN);const r=!!n[4],i=Od(n[1]),a=Od(n[2])-1,s=Od(n[3]),o=Od(n[4]),l=Od(n[5])-1;if(r)return hEe(e,o,l)?cEe(e,o,l):new Date(NaN);{const c=new Date(0);return!dEe(e,a,s)||!fEe(e,i)?new Date(NaN):(c.setUTCFullYear(e,a,Math.max(i,s)),c)}}function Od(t){return t?parseInt(t):1}function oEe(t){const e=t.match(nEe);if(!e)return NaN;const n=W6(e[1]),r=W6(e[2]),i=W6(e[3]);return pEe(n,r,i)?n*PU+r*kU+i*1e3:NaN}function W6(t){return t&&parseFloat(t.replace(",","."))||0}function lEe(t){if(t==="Z")return 0;const e=t.match(rEe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return mEe(r,i)?n*(r*PU+i*kU):NaN}function cEe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const uEe=[31,null,31,30,31,30,31,31,30,31,30,31];function jU(t){return t%400===0||t%4===0&&t%100!==0}function dEe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(uEe[e]||(jU(t)?29:28))}function fEe(t,e){return e>=1&&e<=(jU(t)?366:365)}function hEe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function pEe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function mEe(t,e){return e>=0&&e<=59}function gEe(t,e,n){return E3(t,-1,n)}const _w=({onChange:t,initialRange:e,range:n,onRangeChange:r,brandColor:i})=>{const[a,s]=R.useState(!1),[o,l]=R.useState(n||e||{from:null,to:null}),[c,u]=R.useState(null),[d,h]=R.useState(new Date),p=R.useRef(null);R.useEffect(()=>{const _=k=>{p.current&&!p.current.contains(k.target)&&s(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const g=_=>{const k=t||r,N=p0(_);if(!o.from||o.from&&o.to)l({from:N,to:null});else{let A;Cd(_,o.from)?A={from:p0(_),to:k3(o.from)}:A={from:p0(o.from),to:k3(_)},l(A),k&&k(A)}},x=_=>{o.from&&!o.to?u(_):u(null)},y=()=>{s(!1);const _=t||r;if(_){const k={...o};o.from&&(k.from=p0(o.from)),o.to&&(k.to=k3(o.to)),_(k)}},v=()=>{s(!1),l(n||e||{from:null,to:null})};R.useEffect(()=>{n&&l(n)},[n]);const b=()=>o.from&&o.to?`${wi(o.from,"d MMM yyyy")}  ${wi(o.to,"d MMM yyyy")}`:o.from?`${wi(o.from,"d MMM yyyy")}  Select end date`:"",w=_=>{const k=Z_e(_),N=Y_e(k),A=pu(k,{weekStartsOn:1}),I=tSe(N,{weekStartsOn:1});let j=A;const O=[];let $=[];for(;j<=I;)$.push(j),$.length===7&&(O.push($),$=[]),j=TU(j,1);return f.jsx("div",{className:"grid grid-cols-7 gap-y-2",children:O.map((M,D)=>M.map((V,F)=>{const U=o.from&&ys(V,o.from),H=o.to&&ys(V,o.to),G=o.from&&o.to&&Ac(V,{start:o.from,end:o.to});let W=!1;if(o.from&&!o.to&&c){const ie=Cd(o.from,c)?o.from:c,ve=OU(o.from,c)?o.from:c;W=Ac(V,{start:ie,end:ve})&&!ys(V,o.from)}const ee=eEe(V,k);let le="relative w-9 h-9 sm:w-10 sm:h-10 flex items-center justify-center",pe="w-9 h-9 sm:w-10 sm:h-10 flex items-center justify-center text-sm relative z-10 cursor-pointer rounded-full transition-colors font-medium",Z="",_e="text-gray-700 dark:text-slate-300";ee?U?(Z="bg-accent text-white font-semibold shadow-accent z-20 brightness-110",_e="text-white"):H?Z="bg-white dark:bg-slate-800 border-2 border-accent text-accent font-semibold z-20 hover:brightness-110":G||W?_e="text-accent font-semibold":pe+=" hover:bg-slate-100 dark:hover:bg-slate-700":_e="text-gray-300 dark:text-slate-600 pointer-events-none";let Ce="";return ee&&(G||W)&&(Ce="absolute h-9 sm:h-10 z-0 top-0 bottom-0",U&&(o.to||c)?Ce+=Cd(o.to||c,o.from)?" left-0 right-1/2":" left-1/2 right-0 rounded-l-none":H?Ce+=" left-0 right-1/2 rounded-r-none":ys(V,c)&&o.from?Ce+=Cd(c,o.from)?" left-1/2 right-0":" left-0 right-1/2":Ce+=" left-0 right-0",U&&o.to&&Cd(o.to,o.from)&&(Ce="absolute h-9 sm:h-10 z-0 top-0 bottom-0 left-0 right-1/2")),f.jsxs("div",{className:le,role:"button","aria-label":`Select ${wi(V,"d MMMM yyyy")}`,tabIndex:ee?0:-1,onMouseEnter:()=>x(V),onClick:()=>g(V),onKeyDown:ie=>{(ie.key==="Enter"||ie.key===" ")&&(ie.preventDefault(),g(V))},children:[Ce&&f.jsx("div",{className:Ce,style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}}),f.jsx("div",{className:`${pe} ${Z} ${_e}`,children:wi(V,"d")})]},V.toISOString())}))})},S=()=>h(E3(d,1)),E=()=>h(gEe(d)),P=["Mo","Tu","We","Th","Fr","Sa","Su"];return f.jsxs("div",{className:"relative w-full max-w-xl font-sans",ref:p,children:[f.jsxs("div",{className:"relative flex items-center w-full outline-none focus-visible:outline-none",onClick:()=>s(!a),role:"button","aria-haspopup":"dialog","aria-expanded":a,"aria-label":"Select date range",tabIndex:0,onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&s(!a)},children:[f.jsx("div",{className:`w-full h-[42px] sm:h-[44px] flex items-center ps-3 sm:ps-4 pe-9 sm:pe-10 bg-white dark:bg-slate-800 border-2 rounded-2xl cursor-pointer transition-all shadow-sm font-bold
            ${a?"border-accent/30 ring-4 ring-accent/10 bg-accent/5 dark:border-slate-500 dark:ring-0 dark:bg-slate-800":"border-slate-100 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}`,children:f.jsx("span",{className:`text-[11px] font-bold truncate ${o.from?"text-gray-900 dark:text-white":"text-gray-500 dark:text-slate-400"}`,children:o.from?b():"Select date range"})}),f.jsx(fR,{className:`absolute end-3 w-4 h-4 pointer-events-none transition-colors ${a?"text-accent":"text-slate-400"}`})]}),a&&f.jsxs("div",{className:"absolute top-full start-0 mt-2 sm:mt-4 z-50 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-100 dark:border-slate-700 p-0 overflow-hidden w-[min(420px,calc(100vw-1rem))] sm:w-[680px] animate-in fade-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true","aria-label":"Calendar date range picker",children:[f.jsxs("div",{className:"flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x dark:md:divide-slate-700 md:divide-gray-100",children:[f.jsxs("div",{className:"p-3 sm:p-6 flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("button",{onClick:E,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Previous month",children:f.jsx(am,{className:"w-5 h-5"})}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:wi(d,"MMMM yyyy")}),f.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors md:hidden","aria-label":"Next month",children:f.jsx(eh,{className:"w-5 h-5"})}),f.jsx("div",{className:"w-7 hidden md:block"})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:_},_))}),w(d)]}),f.jsxs("div",{className:"hidden md:block p-3 sm:p-6 flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("div",{className:"w-7"}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:wi(E3(d,1),"MMMM yyyy")}),f.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Next month",children:f.jsx(eh,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:_},_))}),w(E3(d,1))]})]}),f.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-700 p-3 sm:p-4 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 bg-white dark:bg-slate-800 sm:px-6 sm:py-4",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:o.from&&o.to?`${Q_e(o.to,o.from)+1} days`:o.from?"Select end date":""}),f.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-end",children:[f.jsx("button",{onClick:v,className:"px-6 py-2.5 text-sm font-bold text-gray-700 dark:text-slate-200 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 hover:text-gray-900 dark:hover:text-white transition-all font-sans",children:"Cancel"}),f.jsx("button",{onClick:y,className:"px-8 py-2.5 text-sm font-bold text-white bg-accent rounded-lg shadow-accent transition-all transform active:scale-95 font-sans",children:"Done"})]})]})]})]})},yEe=({title:t,options:e,selectedValues:n,onChange:r,onClear:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,collapsible:l=!1})=>{const{appearance:c}=Mn(),[u,d]=R.useState(""),[h,p]=R.useState(!l),g=y=>{const v=n.includes(y)?n.filter(b=>b!==y):[...n,y];r(v)},x=o?a?e:e.filter(y=>y.label.toLowerCase().includes(u.toLowerCase())):e;return f.jsxs("div",{className:`rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[t&&t.length>0&&f.jsxs("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})}),l&&f.jsx("button",{onClick:()=>p(!h),className:"p-1 rounded-full text-slate-400 hover:text-slate-600",children:h?f.jsx(ix,{className:"w-4 h-4"}):f.jsx(_l,{className:"w-4 h-4"})})]}),!a&&o&&h&&f.jsx("div",{className:"px-3 pb-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(Tu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:y=>d(y.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsx("div",{className:`flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto ${h?"":"hidden"}`,children:x.map(y=>{const v=n.includes(y.value);return f.jsxs("div",{onClick:()=>g(y.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${v?"bg-accent/10":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-5 h-5 rounded-[5px] border flex items-center justify-center transition-all ${v?"bg-accent border-accent shadow-sm":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:v&&f.jsx(hR,{className:"w-3.5 h-3.5 text-white stroke-[3px]"})}),f.jsx("span",{className:`text-sm font-semibold ${v?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:y.label})]}),f.jsx("span",{className:`text-xs font-bold ${v?"text-accent":"text-slate-400 group-hover:text-slate-500"}`,children:y.count})]},y.value)})}),n.length>0&&f.jsx("div",{className:"px-4 py-3 border-t border-slate-50 dark:border-slate-700/50",children:f.jsx("button",{onClick:i,className:"text-xs font-bold text-accent hover:underline transition-colors flex items-center gap-1",children:"Clear All"})})]})},ea=({title:t,options:e,selectedValues:n,onChange:r,icon:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,ariaLabel:l=null})=>{const{appearance:c}=Mn(),[u,d]=R.useState(!1),h=R.useRef(null);R.useEffect(()=>{const y=v=>{h.current&&!h.current.contains(v.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const p=()=>{r([])},g=()=>{d(!1)},x=n.length>0;return f.jsxs("div",{className:"relative",ref:h,children:[f.jsxs("button",{onClick:()=>d(!u),"aria-label":l||t||"Filter",className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${u||x?"bg-accent/10 border-accent/30 dark:border-slate-500 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-600 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60 dark:hover:border-slate-500":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-600 text-slate-500 hover:border-slate-300 dark:hover:border-slate-500"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(ax,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:x?`${n.length} Selected`:t}),f.jsx(_l,{className:`w-4 h-4 transition-transform ${u?"rotate-180":""}`})]}),u&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsx(yEe,{title:"",options:e,selectedValues:n,onChange:r,onClear:p,onClose:g,showProductCount:a,productCount:s,showSearch:o})})]})};class fr{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}function*vEe(t){for(const e of t)yield*e}function RU(t){return Array.from(vEe(t))}function cc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var De=1e-6,Kh=1e-12,at=Math.PI,pn=at/2,C1=at/4,Nr=at*2,jt=180/at,Le=at/180,ht=Math.abs,Ku=Math.atan,Ar=Math.atan2,je=Math.cos,Up=Math.ceil,MU=Math.exp,a9=Math.hypot,O1=Math.log,H6=Math.pow,Te=Math.sin,Ii=Math.sign||function(t){return t>0?1:t<0?-1:0},qn=Math.sqrt,Sw=Math.tan;function $U(t){return t>1?0:t<-1?at:Math.acos(t)}function Ir(t){return t>1?pn:t<-1?-pn:Math.asin(t)}function vI(t){return(t=Te(t/2))*t}function nn(){}function j1(t,e){t&&bI.hasOwnProperty(t.type)&&bI[t.type](t,e)}var xI={Feature:function(t,e){j1(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)j1(n[r].geometry,e)}},bI={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){s9(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)s9(n[r],e,0)},Polygon:function(t,e){wI(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)wI(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)j1(n[r],e)}};function s9(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function wI(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)s9(t[n],e,1);e.polygonEnd()}function Xi(t,e){t&&xI.hasOwnProperty(t.type)?xI[t.type](t,e):j1(t,e)}var R1=new fr,M1=new fr,DU,LU,o9,l9,c9,Ha={point:nn,lineStart:nn,lineEnd:nn,polygonStart:function(){R1=new fr,Ha.lineStart=xEe,Ha.lineEnd=bEe},polygonEnd:function(){var t=+R1;M1.add(t<0?Nr+t:t),this.lineStart=this.lineEnd=this.point=nn},sphere:function(){M1.add(Nr)}};function xEe(){Ha.point=wEe}function bEe(){FU(DU,LU)}function wEe(t,e){Ha.point=FU,DU=t,LU=e,t*=Le,e*=Le,o9=t,l9=je(e=e/2+C1),c9=Te(e)}function FU(t,e){t*=Le,e*=Le,e=e/2+C1;var n=t-o9,r=n>=0?1:-1,i=r*n,a=je(e),s=Te(e),o=c9*s,l=l9*a+o*je(i),c=o*r*Te(i);R1.add(Ar(c,l)),o9=t,l9=a,c9=s}function _Ee(t){return M1=new fr,Xi(t,Ha),M1*2}function $1(t){return[Ar(t[1],t[0]),Ir(t[2])]}function pl(t){var e=t[0],n=t[1],r=je(n);return[r*je(e),r*Te(e),Te(n)]}function Bp(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function mu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function G6(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function zp(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function D1(t){var e=qn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Zt,Dr,dn,ti,Po,VU,UU,Ic,If,ts,R0,t0={point:u9,lineStart:_I,lineEnd:SI,polygonStart:function(){t0.point=zU,t0.lineStart=SEe,t0.lineEnd=EEe,If=new fr,Ha.polygonStart()},polygonEnd:function(){Ha.polygonEnd(),t0.point=u9,t0.lineStart=_I,t0.lineEnd=SI,R1<0?(Zt=-(dn=180),Dr=-(ti=90)):If>De?ti=90:If<-De&&(Dr=-90),R0[0]=Zt,R0[1]=dn},sphere:function(){Zt=-(dn=180),Dr=-(ti=90)}};function u9(t,e){ts.push(R0=[Zt=t,dn=t]),e<Dr&&(Dr=e),e>ti&&(ti=e)}function BU(t,e){var n=pl([t*Le,e*Le]);if(Ic){var r=mu(Ic,n),i=[r[1],-r[0],0],a=mu(i,r);D1(a),a=$1(a);var s=t-Po,o=s>0?1:-1,l=a[0]*jt*o,c,u=ht(s)>180;u^(o*Po<l&&l<o*t)?(c=a[1]*jt,c>ti&&(ti=c)):(l=(l+360)%360-180,u^(o*Po<l&&l<o*t)?(c=-a[1]*jt,c<Dr&&(Dr=c)):(e<Dr&&(Dr=e),e>ti&&(ti=e))),u?t<Po?ei(Zt,t)>ei(Zt,dn)&&(dn=t):ei(t,dn)>ei(Zt,dn)&&(Zt=t):dn>=Zt?(t<Zt&&(Zt=t),t>dn&&(dn=t)):t>Po?ei(Zt,t)>ei(Zt,dn)&&(dn=t):ei(t,dn)>ei(Zt,dn)&&(Zt=t)}else ts.push(R0=[Zt=t,dn=t]);e<Dr&&(Dr=e),e>ti&&(ti=e),Ic=n,Po=t}function _I(){t0.point=BU}function SI(){R0[0]=Zt,R0[1]=dn,t0.point=u9,Ic=null}function zU(t,e){if(Ic){var n=t-Po;If.add(ht(n)>180?n+(n>0?360:-360):n)}else VU=t,UU=e;Ha.point(t,e),BU(t,e)}function SEe(){Ha.lineStart()}function EEe(){zU(VU,UU),Ha.lineEnd(),ht(If)>De&&(Zt=-(dn=180)),R0[0]=Zt,R0[1]=dn,Ic=null}function ei(t,e){return(e-=t)<0?e+360:e}function kEe(t,e){return t[0]-e[0]}function EI(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function PEe(t){var e,n,r,i,a,s,o;if(ti=dn=-(Zt=Dr=1/0),ts=[],Xi(t,t0),n=ts.length){for(ts.sort(kEe),e=1,r=ts[0],a=[r];e<n;++e)i=ts[e],EI(r,i[0])||EI(r,i[1])?(ei(r[0],i[1])>ei(r[0],r[1])&&(r[1]=i[1]),ei(i[0],r[1])>ei(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(o=ei(r[1],i[0]))>s&&(s=o,Zt=i[0],dn=r[1])}return ts=R0=null,Zt===1/0||Dr===1/0?[[NaN,NaN],[NaN,NaN]]:[[Zt,Dr],[dn,ti]]}var Hd,L1,F1,V1,U1,B1,z1,q1,d9,f9,h9,qU,WU,xr,br,wr,ta={sphere:nn,point:Ew,lineStart:kI,lineEnd:PI,polygonStart:function(){ta.lineStart=AEe,ta.lineEnd=IEe},polygonEnd:function(){ta.lineStart=kI,ta.lineEnd=PI}};function Ew(t,e){t*=Le,e*=Le;var n=je(e);M4(n*je(t),n*Te(t),Te(e))}function M4(t,e,n){++Hd,F1+=(t-F1)/Hd,V1+=(e-V1)/Hd,U1+=(n-U1)/Hd}function kI(){ta.point=TEe}function TEe(t,e){t*=Le,e*=Le;var n=je(e);xr=n*je(t),br=n*Te(t),wr=Te(e),ta.point=NEe,M4(xr,br,wr)}function NEe(t,e){t*=Le,e*=Le;var n=je(e),r=n*je(t),i=n*Te(t),a=Te(e),s=Ar(qn((s=br*a-wr*i)*s+(s=wr*r-xr*a)*s+(s=xr*i-br*r)*s),xr*r+br*i+wr*a);L1+=s,B1+=s*(xr+(xr=r)),z1+=s*(br+(br=i)),q1+=s*(wr+(wr=a)),M4(xr,br,wr)}function PI(){ta.point=Ew}function AEe(){ta.point=CEe}function IEe(){HU(qU,WU),ta.point=Ew}function CEe(t,e){qU=t,WU=e,t*=Le,e*=Le,ta.point=HU;var n=je(e);xr=n*je(t),br=n*Te(t),wr=Te(e),M4(xr,br,wr)}function HU(t,e){t*=Le,e*=Le;var n=je(e),r=n*je(t),i=n*Te(t),a=Te(e),s=br*a-wr*i,o=wr*r-xr*a,l=xr*i-br*r,c=a9(s,o,l),u=Ir(c),d=c&&-u/c;d9.add(d*s),f9.add(d*o),h9.add(d*l),L1+=u,B1+=u*(xr+(xr=r)),z1+=u*(br+(br=i)),q1+=u*(wr+(wr=a)),M4(xr,br,wr)}function OEe(t){Hd=L1=F1=V1=U1=B1=z1=q1=0,d9=new fr,f9=new fr,h9=new fr,Xi(t,ta);var e=+d9,n=+f9,r=+h9,i=a9(e,n,r);return i<Kh&&(e=B1,n=z1,r=q1,L1<De&&(e=F1,n=V1,r=U1),i=a9(e,n,r),i<Kh)?[NaN,NaN]:[Ar(n,e)*jt,Ir(r/i)*jt]}function Ul(t){return function(){return t}}function p9(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function m9(t,e){return[ht(t)>at?t+Math.round(-t/Nr)*Nr:t,e]}m9.invert=m9;function kw(t,e,n){return(t%=Nr)?e||n?p9(NI(t),AI(e,n)):NI(t):e||n?AI(e,n):m9}function TI(t){return function(e,n){return e+=t,[e>at?e-Nr:e<-at?e+Nr:e,n]}}function NI(t){var e=TI(t);return e.invert=TI(-t),e}function AI(t,e){var n=je(t),r=Te(t),i=je(e),a=Te(e);function s(o,l){var c=je(l),u=je(o)*c,d=Te(o)*c,h=Te(l),p=h*n+u*r;return[Ar(d*i-p*a,u*n-h*r),Ir(p*i+d*a)]}return s.invert=function(o,l){var c=je(l),u=je(o)*c,d=Te(o)*c,h=Te(l),p=h*i-d*a;return[Ar(d*i+h*a,u*n+p*r),Ir(p*n-u*r)]},s}function GU(t){t=kw(t[0]*Le,t[1]*Le,t.length>2?t[2]*Le:0);function e(n){return n=t(n[0]*Le,n[1]*Le),n[0]*=jt,n[1]*=jt,n}return e.invert=function(n){return n=t.invert(n[0]*Le,n[1]*Le),n[0]*=jt,n[1]*=jt,n},e}function KU(t,e,n,r,i,a){if(n){var s=je(e),o=Te(e),l=r*n;i==null?(i=e+r*Nr,a=e-l/2):(i=II(s,i),a=II(s,a),(r>0?i<a:i>a)&&(i+=r*Nr));for(var c,u=i;r>0?u>a:u<a;u-=l)c=$1([s,-o*je(u),-o*Te(u)]),t.point(c[0],c[1])}}function II(t,e){e=pl(e),e[0]-=t,D1(e);var n=$U(-e[1]);return((-e[2]<0?-n:n)+Nr-De)%Nr}function jEe(){var t=Ul([0,0]),e=Ul(90),n=Ul(6),r,i,a={point:s};function s(l,c){r.push(l=i(l,c)),l[0]*=jt,l[1]*=jt}function o(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*Le,u=n.apply(this,arguments)*Le;return r=[],i=kw(-l[0]*Le,-l[1]*Le,0).invert,KU(a,c,u,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return o.center=function(l){return arguments.length?(t=typeof l=="function"?l:Ul([+l[0],+l[1]]),o):t},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Ul(+l),o):e},o.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Ul(+l),o):n},o}function QU(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:nn,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function P3(t,e){return ht(t[0]-e[0])<De&&ht(t[1]-e[1])<De}function qp(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function YU(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((x=g.length-1)<=0)){var x,y=g[0],v=g[x],b;if(P3(y,v)){if(!y[2]&&!v[2]){for(i.lineStart(),o=0;o<x;++o)i.point((y=g[o])[0],y[1]);i.lineEnd();return}v[0]+=2*De}a.push(b=new qp(y,g,null,!0)),s.push(b.o=new qp(y,null,b,!1)),a.push(b=new qp(v,g,null,!1)),s.push(b.o=new qp(v,null,b,!0))}}),!!a.length){for(s.sort(e),CI(a),CI(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function CI(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function K6(t){return ht(t[0])<=at?t[0]:Ii(t[0])*((ht(t[0])+at)%Nr-at)}function XU(t,e){var n=K6(e),r=e[1],i=Te(r),a=[Te(n),-je(n),0],s=0,o=0,l=new fr;i===1?r=pn+De:i===-1&&(r=-pn-De);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=K6(p),x=p[1]/2+C1,y=Te(x),v=je(x),b=0;b<h;++b,g=S,y=P,v=_,p=w){var w=d[b],S=K6(w),E=w[1]/2+C1,P=Te(E),_=je(E),k=S-g,N=k>=0?1:-1,A=N*k,I=A>at,j=y*P;if(l.add(Ar(j*N*Te(A),v*_+j*je(A))),s+=I?k+N*Nr:k,I^g>=n^S>=n){var O=mu(pl(p),pl(w));D1(O);var $=mu(a,O);D1($);var M=(I^k>=0?-1:1)*Ir($[2]);(r>M||r===M&&(O[0]||O[1]))&&(o+=I^k>=0?1:-1)}}return(s<-De||s<De&&l<-Kh)^o&1}function JU(t,e,n,r){return function(i){var a=e(i),s=QU(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:x,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=x,h.lineEnd=y,u=RU(u);var S=XU(c,r);u.length?(l||(i.polygonStart(),l=!0),YU(u,MEe,S,n,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(S,E){t(S,E)&&i.point(S,E)}function g(S,E){a.point(S,E)}function x(){h.point=g,a.lineStart()}function y(){h.point=p,a.lineEnd()}function v(S,E){d.push([S,E]),o.point(S,E)}function b(){o.lineStart(),d=[]}function w(){v(d[0][0],d[0][1]),o.lineEnd();var S=o.clean(),E=s.result(),P,_=E.length,k,N,A;if(d.pop(),c.push(d),d=null,!!_){if(S&1){if(N=E[0],(k=N.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),P=0;P<k;++P)i.point((A=N[P])[0],A[1]);i.lineEnd()}return}_>1&&S&2&&E.push(E.pop().concat(E.shift())),u.push(E.filter(REe))}}return h}}function REe(t){return t.length>1}function MEe(t,e){return((t=t.x)[0]<0?t[1]-pn-De:pn-t[1])-((e=e.x)[0]<0?e[1]-pn-De:pn-e[1])}const g9=JU(function(){return!0},$Ee,LEe,[-at,-pn]);function $Ee(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?at:-at,l=ht(a-e);ht(l-at)<De?(t.point(e,n=(n+s)/2>0?pn:-pn),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=at&&(ht(e-r)<De&&(e-=r*De),ht(a-o)<De&&(a-=o*De),n=DEe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function DEe(t,e,n,r){var i,a,s=Te(t-n);return ht(s)>De?Ku((Te(e)*(a=je(r))*Te(n)-Te(r)*(i=je(e))*Te(t))/(i*a*s)):(e+r)/2}function LEe(t,e,n,r){var i;if(t==null)i=n*pn,r.point(-at,i),r.point(0,i),r.point(at,i),r.point(at,0),r.point(at,-i),r.point(0,-i),r.point(-at,-i),r.point(-at,0),r.point(-at,i);else if(ht(t[0]-e[0])>De){var a=t[0]<e[0]?at:-at;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function ZU(t){var e=je(t),n=6*Le,r=e>0,i=ht(e)>De;function a(u,d,h,p){KU(p,t,n,h,u,d)}function s(u,d){return je(u)*je(d)>e}function o(u){var d,h,p,g,x;return{lineStart:function(){g=p=!1,x=1},point:function(y,v){var b=[y,v],w,S=s(y,v),E=r?S?0:c(y,v):S?c(y+(y<0?at:-at),v):0;if(!d&&(g=p=S)&&u.lineStart(),S!==p&&(w=l(d,b),(!w||P3(d,w)||P3(b,w))&&(b[2]=1)),S!==p)x=0,S?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^S){var P;!(E&h)&&(P=l(b,d,!0))&&(x=0,r?(u.lineStart(),u.point(P[0][0],P[0][1]),u.point(P[1][0],P[1][1]),u.lineEnd()):(u.point(P[1][0],P[1][1]),u.lineEnd(),u.lineStart(),u.point(P[0][0],P[0][1],3)))}S&&(!d||!P3(d,b))&&u.point(b[0],b[1]),d=b,p=S,h=E},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return x|(g&&p)<<1}}}function l(u,d,h){var p=pl(u),g=pl(d),x=[1,0,0],y=mu(p,g),v=Bp(y,y),b=y[0],w=v-b*b;if(!w)return!h&&u;var S=e*v/w,E=-e*b/w,P=mu(x,y),_=zp(x,S),k=zp(y,E);G6(_,k);var N=P,A=Bp(_,N),I=Bp(N,N),j=A*A-I*(Bp(_,_)-1);if(!(j<0)){var O=qn(j),$=zp(N,(-A-O)/I);if(G6($,_),$=$1($),!h)return $;var M=u[0],D=d[0],V=u[1],F=d[1],U;D<M&&(U=M,M=D,D=U);var H=D-M,G=ht(H-at)<De,W=G||H<De;if(!G&&F<V&&(U=V,V=F,F=U),W?G?V+F>0^$[1]<(ht($[0]-M)<De?V:F):V<=$[1]&&$[1]<=F:H>at^(M<=$[0]&&$[0]<=D)){var ee=zp(N,(-A+O)/I);return G6(ee,_),[$,$1(ee)]}}}function c(u,d){var h=r?t:at-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return JU(s,o,a,r?[0,-t]:[-at,t-at])}function FEe(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var Gd=1e9,Wp=-Gd;function t5(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return ht(c[0]-t)<De?u>0?0:3:ht(c[0]-n)<De?u>0?2:1:ht(c[1]-e)<De?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=QU(),h,p,g,x,y,v,b,w,S,E,P,_={point:k,lineStart:j,lineEnd:O,polygonStart:A,polygonEnd:I};function k(M,D){i(M,D)&&u.point(M,D)}function N(){for(var M=0,D=0,V=p.length;D<V;++D)for(var F=p[D],U=1,H=F.length,G=F[0],W,ee,le=G[0],pe=G[1];U<H;++U)W=le,ee=pe,G=F[U],le=G[0],pe=G[1],ee<=r?pe>r&&(le-W)*(r-ee)>(pe-ee)*(t-W)&&++M:pe<=r&&(le-W)*(r-ee)<(pe-ee)*(t-W)&&--M;return M}function A(){u=d,h=[],p=[],P=!0}function I(){var M=N(),D=P&&M,V=(h=RU(h)).length;(D||V)&&(c.polygonStart(),D&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),V&&YU(h,o,M,a,c),c.polygonEnd()),u=c,h=p=g=null}function j(){_.point=$,p&&p.push(g=[]),E=!0,S=!1,b=w=NaN}function O(){h&&($(x,y),v&&S&&d.rejoin(),h.push(d.result())),_.point=k,S&&u.lineEnd()}function $(M,D){var V=i(M,D);if(p&&g.push([M,D]),E)x=M,y=D,v=V,E=!1,V&&(u.lineStart(),u.point(M,D));else if(V&&S)u.point(M,D);else{var F=[b=Math.max(Wp,Math.min(Gd,b)),w=Math.max(Wp,Math.min(Gd,w))],U=[M=Math.max(Wp,Math.min(Gd,M)),D=Math.max(Wp,Math.min(Gd,D))];FEe(F,U,t,e,n,r)?(S||(u.lineStart(),u.point(F[0],F[1])),u.point(U[0],U[1]),V||u.lineEnd(),P=!1):V&&(u.lineStart(),u.point(M,D),P=!1)}b=M,w=D,S=V}return _}}function VEe(){var t=0,e=0,n=960,r=500,i,a,s;return s={stream:function(o){return i&&a===o?i:i=t5(t,e,n,r)(a=o)},extent:function(o){return arguments.length?(t=+o[0][0],e=+o[0][1],n=+o[1][0],r=+o[1][1],i=a=null,s):[[t,e],[n,r]]}}}var y9,v9,T3,N3,gu={sphere:nn,point:nn,lineStart:UEe,lineEnd:nn,polygonStart:nn,polygonEnd:nn};function UEe(){gu.point=zEe,gu.lineEnd=BEe}function BEe(){gu.point=gu.lineEnd=nn}function zEe(t,e){t*=Le,e*=Le,v9=t,T3=Te(e),N3=je(e),gu.point=qEe}function qEe(t,e){t*=Le,e*=Le;var n=Te(e),r=je(e),i=ht(t-v9),a=je(i),s=Te(i),o=r*s,l=N3*n-T3*r*a,c=T3*n+N3*r*a;y9.add(Ar(qn(o*o+l*l),c)),v9=t,T3=n,N3=r}function eB(t){return y9=new fr,Xi(t,gu),+y9}var x9=[null,null],WEe={type:"LineString",coordinates:x9};function W1(t,e){return x9[0]=t,x9[1]=e,eB(WEe)}var OI={Feature:function(t,e){return H1(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(H1(n[r].geometry,e))return!0;return!1}},jI={Sphere:function(){return!0},Point:function(t,e){return RI(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(RI(n[r],e))return!0;return!1},LineString:function(t,e){return MI(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(MI(n[r],e))return!0;return!1},Polygon:function(t,e){return $I(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if($I(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(H1(n[r],e))return!0;return!1}};function H1(t,e){return t&&jI.hasOwnProperty(t.type)?jI[t.type](t,e):!1}function RI(t,e){return W1(t,e)===0}function MI(t,e){for(var n,r,i,a=0,s=t.length;a<s;a++){if(r=W1(t[a],e),r===0||a>0&&(i=W1(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Kh*i))return!0;n=r}return!1}function $I(t,e){return!!XU(t.map(HEe),tB(e))}function HEe(t){return t=t.map(tB),t.pop(),t}function tB(t){return[t[0]*Le,t[1]*Le]}function GEe(t,e){return(t&&OI.hasOwnProperty(t.type)?OI[t.type]:H1)(t,e)}function DI(t,e,n){var r=cc(t,e-De,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function LI(t,e,n){var r=cc(t,e-De,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function Pw(){var t,e,n,r,i,a,s,o,l=10,c=l,u=90,d=360,h,p,g,x,y=2.5;function v(){return{type:"MultiLineString",coordinates:b()}}function b(){return cc(Up(r/u)*u,n,u).map(g).concat(cc(Up(o/d)*d,s,d).map(x)).concat(cc(Up(e/l)*l,t,l).filter(function(w){return ht(w%u)>De}).map(h)).concat(cc(Up(a/c)*c,i,c).filter(function(w){return ht(w%d)>De}).map(p))}return v.lines=function(){return b().map(function(w){return{type:"LineString",coordinates:w}})},v.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(x(s).slice(1),g(n).reverse().slice(1),x(o).reverse().slice(1))]}},v.extent=function(w){return arguments.length?v.extentMajor(w).extentMinor(w):v.extentMinor()},v.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],o=+w[0][1],s=+w[1][1],r>n&&(w=r,r=n,n=w),o>s&&(w=o,o=s,s=w),v.precision(y)):[[r,o],[n,s]]},v.extentMinor=function(w){return arguments.length?(e=+w[0][0],t=+w[1][0],a=+w[0][1],i=+w[1][1],e>t&&(w=e,e=t,t=w),a>i&&(w=a,a=i,i=w),v.precision(y)):[[e,a],[t,i]]},v.step=function(w){return arguments.length?v.stepMajor(w).stepMinor(w):v.stepMinor()},v.stepMajor=function(w){return arguments.length?(u=+w[0],d=+w[1],v):[u,d]},v.stepMinor=function(w){return arguments.length?(l=+w[0],c=+w[1],v):[l,c]},v.precision=function(w){return arguments.length?(y=+w,h=DI(a,i,90),p=LI(e,t,y),g=DI(o,s,90),x=LI(r,n,y),v):y},v.extentMajor([[-180,-90+De],[180,90-De]]).extentMinor([[-180,-80-De],[180,80+De]])}function KEe(){return Pw()()}function QEe(t,e){var n=t[0]*Le,r=t[1]*Le,i=e[0]*Le,a=e[1]*Le,s=je(r),o=Te(r),l=je(a),c=Te(a),u=s*je(n),d=s*Te(n),h=l*je(i),p=l*Te(i),g=2*Ir(qn(vI(a-r)+s*l*vI(i-n))),x=Te(g),y=g?function(v){var b=Te(v*=g)/x,w=Te(g-v)/x,S=w*u+b*h,E=w*d+b*p,P=w*o+b*c;return[Ar(E,S)*jt,Ar(P,qn(S*S+E*E))*jt]}:function(){return[n*jt,r*jt]};return y.distance=g,y}const Qh=t=>t;var Q6=new fr,b9=new fr,nB,rB,w9,_9,i0={point:nn,lineStart:nn,lineEnd:nn,polygonStart:function(){i0.lineStart=YEe,i0.lineEnd=JEe},polygonEnd:function(){i0.lineStart=i0.lineEnd=i0.point=nn,Q6.add(ht(b9)),b9=new fr},result:function(){var t=Q6/2;return Q6=new fr,t}};function YEe(){i0.point=XEe}function XEe(t,e){i0.point=iB,nB=w9=t,rB=_9=e}function iB(t,e){b9.add(_9*t-w9*e),w9=t,_9=e}function JEe(){iB(nB,rB)}var yu=1/0,G1=yu,Yh=-yu,K1=Yh,Q1={point:ZEe,lineStart:nn,lineEnd:nn,polygonStart:nn,polygonEnd:nn,result:function(){var t=[[yu,G1],[Yh,K1]];return Yh=K1=-(G1=yu=1/0),t}};function ZEe(t,e){t<yu&&(yu=t),t>Yh&&(Yh=t),e<G1&&(G1=e),e>K1&&(K1=e)}var S9=0,E9=0,Kd=0,Y1=0,X1=0,uc=0,k9=0,P9=0,Qd=0,aB,sB,Sa,Ea,Pi={point:ml,lineStart:FI,lineEnd:VI,polygonStart:function(){Pi.lineStart=nke,Pi.lineEnd=rke},polygonEnd:function(){Pi.point=ml,Pi.lineStart=FI,Pi.lineEnd=VI},result:function(){var t=Qd?[k9/Qd,P9/Qd]:uc?[Y1/uc,X1/uc]:Kd?[S9/Kd,E9/Kd]:[NaN,NaN];return S9=E9=Kd=Y1=X1=uc=k9=P9=Qd=0,t}};function ml(t,e){S9+=t,E9+=e,++Kd}function FI(){Pi.point=eke}function eke(t,e){Pi.point=tke,ml(Sa=t,Ea=e)}function tke(t,e){var n=t-Sa,r=e-Ea,i=qn(n*n+r*r);Y1+=i*(Sa+t)/2,X1+=i*(Ea+e)/2,uc+=i,ml(Sa=t,Ea=e)}function VI(){Pi.point=ml}function nke(){Pi.point=ike}function rke(){oB(aB,sB)}function ike(t,e){Pi.point=oB,ml(aB=Sa=t,sB=Ea=e)}function oB(t,e){var n=t-Sa,r=e-Ea,i=qn(n*n+r*r);Y1+=i*(Sa+t)/2,X1+=i*(Ea+e)/2,uc+=i,i=Ea*t-Sa*e,k9+=i*(Sa+t),P9+=i*(Ea+e),Qd+=i*3,ml(Sa=t,Ea=e)}function lB(t){this._context=t}lB.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Nr);break}}},result:nn};var T9=new fr,Y6,cB,uB,Yd,Xd,Xh={point:nn,lineStart:function(){Xh.point=ake},lineEnd:function(){Y6&&dB(cB,uB),Xh.point=nn},polygonStart:function(){Y6=!0},polygonEnd:function(){Y6=null},result:function(){var t=+T9;return T9=new fr,t}};function ake(t,e){Xh.point=dB,cB=Yd=t,uB=Xd=e}function dB(t,e){Yd-=t,Xd-=e,T9.add(qn(Yd*Yd+Xd*Xd)),Yd=t,Xd=e}function fB(){this._string=[]}fB.prototype={_radius:4.5,_circle:UI(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=UI(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function UI(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function hB(t,e){var n=4.5,r,i;function a(s){return s&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Xi(s,r(i))),i.result()}return a.area=function(s){return Xi(s,r(i0)),i0.result()},a.measure=function(s){return Xi(s,r(Xh)),Xh.result()},a.bounds=function(s){return Xi(s,r(Q1)),Q1.result()},a.centroid=function(s){return Xi(s,r(Pi)),Pi.result()},a.projection=function(s){return arguments.length?(r=s==null?(t=null,Qh):(t=s).stream,a):t},a.context=function(s){return arguments.length?(i=s==null?(e=null,new fB):new lB(e=s),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(i.pointRadius(+s),+s),a):n},a.projection(t).context(e)}function ske(t){return{stream:$4(t)}}function $4(t){return function(e){var n=new N9;for(var r in t)n[r]=t[r];return n.stream=e,n}}function N9(){}N9.prototype={constructor:N9,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Tw(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Xi(n,t.stream(Q1)),e(Q1.result()),r!=null&&t.clipExtent(r),t}function n5(t,e,n){return Tw(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function Nw(t,e,n){return n5(t,[[0,0],e],n)}function Aw(t,e,n){return Tw(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function Iw(t,e,n){return Tw(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var BI=16,oke=je(30*Le);function zI(t,e){return+e?cke(t,e):lke(t)}function lke(t){return $4({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function cke(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,x,y){var v=c-r,b=u-i,w=v*v+b*b;if(w>4*e&&x--){var S=s+h,E=o+p,P=l+g,_=qn(S*S+E*E+P*P),k=Ir(P/=_),N=ht(ht(P)-1)<De||ht(a-d)<De?(a+d)/2:Ar(E,S),A=t(N,k),I=A[0],j=A[1],O=I-r,$=j-i,M=b*O-v*$;(M*M/w>e||ht((v*O+b*$)/w-.5)>.3||s*h+o*p+l*g<oke)&&(n(r,i,a,s,o,l,I,j,N,S/=_,E/=_,P,x,y),y.point(I,j),n(I,j,N,S,E,P,c,u,d,h,p,g,x,y))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,x,y={point:v,lineStart:b,lineEnd:S,polygonStart:function(){r.polygonStart(),y.lineStart=E},polygonEnd:function(){r.polygonEnd(),y.lineStart=b}};function v(k,N){k=t(k,N),r.point(k[0],k[1])}function b(){d=NaN,y.point=w,r.lineStart()}function w(k,N){var A=pl([k,N]),I=t(k,N);n(d,h,u,p,g,x,d=I[0],h=I[1],u=k,p=A[0],g=A[1],x=A[2],BI,r),r.point(d,h)}function S(){y.point=v,r.lineEnd()}function E(){b(),y.point=P,y.lineEnd=_}function P(k,N){w(i=k,N),a=d,s=h,o=p,l=g,c=x,y.point=w}function _(){n(d,h,u,p,g,x,a,s,i,o,l,c,BI,r),y.lineEnd=S,S()}return y}}var uke=$4({point:function(t,e){this.stream.point(t*Le,e*Le)}});function dke(t){return $4({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function fke(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function qI(t,e,n,r,i,a){if(!a)return fke(t,e,n,r,i);var s=je(a),o=Te(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(x,y){return x*=r,y*=i,[l*x-c*y+e,n-c*x-l*y]}return g.invert=function(x,y){return[r*(u*x-d*y+h),i*(p-d*x-u*y)]},g}function Qa(t){return Cw(function(){return t})()}function Cw(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,x=g9,y=null,v,b,w,S=Qh,E=.5,P,_,k,N,A;function I(M){return k(M[0]*Le,M[1]*Le)}function j(M){return M=k.invert(M[0],M[1]),M&&[M[0]*jt,M[1]*jt]}I.stream=function(M){return N&&A===M?N:N=uke(dke(u)(x(P(S(A=M)))))},I.preclip=function(M){return arguments.length?(x=M,g=void 0,$()):x},I.postclip=function(M){return arguments.length?(S=M,y=v=b=w=null,$()):S},I.clipAngle=function(M){return arguments.length?(x=+M?ZU(g=M*Le):(g=null,g9),$()):g*jt},I.clipExtent=function(M){return arguments.length?(S=M==null?(y=v=b=w=null,Qh):t5(y=+M[0][0],v=+M[0][1],b=+M[1][0],w=+M[1][1]),$()):y==null?null:[[y,v],[b,w]]},I.scale=function(M){return arguments.length?(n=+M,O()):n},I.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],O()):[r,i]},I.center=function(M){return arguments.length?(a=M[0]%360*Le,s=M[1]%360*Le,O()):[a*jt,s*jt]},I.rotate=function(M){return arguments.length?(o=M[0]%360*Le,l=M[1]%360*Le,c=M.length>2?M[2]%360*Le:0,O()):[o*jt,l*jt,c*jt]},I.angle=function(M){return arguments.length?(d=M%360*Le,O()):d*jt},I.reflectX=function(M){return arguments.length?(h=M?-1:1,O()):h<0},I.reflectY=function(M){return arguments.length?(p=M?-1:1,O()):p<0},I.precision=function(M){return arguments.length?(P=zI(_,E=M*M),$()):qn(E)},I.fitExtent=function(M,D){return n5(I,M,D)},I.fitSize=function(M,D){return Nw(I,M,D)},I.fitWidth=function(M,D){return Aw(I,M,D)},I.fitHeight=function(M,D){return Iw(I,M,D)};function O(){var M=qI(n,0,0,h,p,d).apply(null,e(a,s)),D=qI(n,r-M[0],i-M[1],h,p,d);return u=kw(o,l,c),_=p9(e,D),k=p9(u,_),P=zI(_,E),$()}function $(){return N=A=null,I}return function(){return e=t.apply(this,arguments),I.invert=e.invert&&j,O()}}function Ow(t){var e=0,n=at/3,r=Cw(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Le,n=a[1]*Le):[e*jt,n*jt]},i}function hke(t){var e=je(t);function n(r,i){return[r*e,Te(i)/e]}return n.invert=function(r,i){return[r/e,Ir(i*e)]},n}function pB(t,e){var n=Te(t),r=(n+Te(e))/2;if(ht(r)<De)return hke(t);var i=1+n*(2*r-n),a=qn(i)/r;function s(o,l){var c=qn(i-2*r*Te(l))/r;return[c*Te(o*=r),a-c*je(o)]}return s.invert=function(o,l){var c=a-l,u=Ar(o,ht(c))*Ii(c);return c*r<0&&(u-=at*Ii(o)*Ii(c)),[u/r,Ir((i-(o*o+c*c)*r*r)/(2*r))]},s}function J1(){return Ow(pB).scale(155.424).center([0,33.6442])}function mB(){return J1().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function pke(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function mke(){var t,e,n=mB(),r,i=J1().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=J1().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(h,p){l=[h,p]}};function u(h){var p=h[0],g=h[1];return l=null,r.point(p,g),l||(a.point(p,g),l)||(o.point(p,g),l)}u.invert=function(h){var p=n.scale(),g=n.translate(),x=(h[0]-g[0])/p,y=(h[1]-g[1])/p;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?i:y>=.166&&y<.234&&x>=-.214&&x<-.115?s:n).invert(h)},u.stream=function(h){return t&&e===h?t:t=pke([n.stream(e=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],x=+h[1];return r=n.translate(h).clipExtent([[g-.455*p,x-.238*p],[g+.455*p,x+.238*p]]).stream(c),a=i.translate([g-.307*p,x+.201*p]).clipExtent([[g-.425*p+De,x+.12*p+De],[g-.214*p-De,x+.234*p-De]]).stream(c),o=s.translate([g-.205*p,x+.212*p]).clipExtent([[g-.214*p+De,x+.166*p+De],[g-.115*p-De,x+.234*p-De]]).stream(c),d()},u.fitExtent=function(h,p){return n5(u,h,p)},u.fitSize=function(h,p){return Nw(u,h,p)},u.fitWidth=function(h,p){return Aw(u,h,p)},u.fitHeight=function(h,p){return Iw(u,h,p)};function d(){return t=e=null,u}return u.scale(1070)}function gB(t){return function(e,n){var r=je(e),i=je(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Te(e),a*Te(n)]}}function D4(t){return function(e,n){var r=qn(e*e+n*n),i=t(r),a=Te(i),s=je(i);return[Ar(e*a,r*s),Ir(r&&n*a/r)]}}var jw=gB(function(t){return qn(2/(1+t))});jw.invert=D4(function(t){return 2*Ir(t/2)});function gke(){return Qa(jw).scale(124.75).clipAngle(180-.001)}var Rw=gB(function(t){return(t=$U(t))&&t/Te(t)});Rw.invert=D4(function(t){return t});function yke(){return Qa(Rw).scale(79.4188).clipAngle(180-.001)}function L4(t,e){return[t,O1(Sw((pn+e)/2))]}L4.invert=function(t,e){return[t,2*Ku(MU(e))-pn]};function vke(){return yB(L4).scale(961/Nr)}function yB(t){var e=Qa(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=at*r(),h=e(GU(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===L4?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}function Hp(t){return Sw((pn+t)/2)}function vB(t,e){var n=je(t),r=t===e?Te(t):O1(n/je(e))/O1(Hp(e)/Hp(t)),i=n*H6(Hp(t),r)/r;if(!r)return L4;function a(s,o){i>0?o<-pn+De&&(o=-pn+De):o>pn-De&&(o=pn-De);var l=i/H6(Hp(o),r);return[l*Te(r*s),i-l*je(r*s)]}return a.invert=function(s,o){var l=i-o,c=Ii(r)*qn(s*s+l*l),u=Ar(s,ht(l))*Ii(l);return l*r<0&&(u-=at*Ii(s)*Ii(l)),[u/r,2*Ku(H6(i/c,1/r))-pn]},a}function xke(){return Ow(vB).scale(109.5).parallels([30,30])}function Jh(t,e){return[t,e]}Jh.invert=Jh;function bke(){return Qa(Jh).scale(152.63)}function xB(t,e){var n=je(t),r=t===e?Te(t):(n-je(e))/(e-t),i=n/r+t;if(ht(r)<De)return Jh;function a(s,o){var l=i-o,c=r*s;return[l*Te(c),i-l*je(c)]}return a.invert=function(s,o){var l=i-o,c=Ar(s,ht(l))*Ii(l);return l*r<0&&(c-=at*Ii(s)*Ii(l)),[c/r,i-Ii(r)*qn(s*s+l*l)]},a}function wke(){return Ow(xB).scale(131.154).center([0,13.9389])}var Cf=1.340264,Of=-.081106,jf=893e-6,Rf=.003796,Z1=qn(3)/2,_ke=12;function Mw(t,e){var n=Ir(Z1*Te(e)),r=n*n,i=r*r*r;return[t*je(n)/(Z1*(Cf+3*Of*r+i*(7*jf+9*Rf*r))),n*(Cf+Of*r+i*(jf+Rf*r))]}Mw.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,s,o,l;a<_ke&&(o=n*(Cf+Of*r+i*(jf+Rf*r))-e,l=Cf+3*Of*r+i*(7*jf+9*Rf*r),n-=s=o/l,r=n*n,i=r*r*r,!(ht(s)<Kh));++a);return[Z1*t*(Cf+3*Of*r+i*(7*jf+9*Rf*r))/je(n),Ir(Te(n)/Z1)]};function Ske(){return Qa(Mw).scale(177.158)}function $w(t,e){var n=je(e),r=je(t)*n;return[n*Te(t)/r,Te(e)/r]}$w.invert=D4(Ku);function Eke(){return Qa($w).scale(144.049).clipAngle(60)}function kke(){var t=1,e=0,n=0,r=1,i=1,a=0,s,o,l=null,c,u,d,h=1,p=1,g=$4({point:function(S,E){var P=w([S,E]);this.stream.point(P[0],P[1])}}),x=Qh,y,v;function b(){return h=t*r,p=t*i,y=v=null,w}function w(S){var E=S[0]*h,P=S[1]*p;if(a){var _=P*s-E*o;E=E*s+P*o,P=_}return[E+e,P+n]}return w.invert=function(S){var E=S[0]-e,P=S[1]-n;if(a){var _=P*s+E*o;E=E*s-P*o,P=_}return[E/h,P/p]},w.stream=function(S){return y&&v===S?y:y=g(x(v=S))},w.postclip=function(S){return arguments.length?(x=S,l=c=u=d=null,b()):x},w.clipExtent=function(S){return arguments.length?(x=S==null?(l=c=u=d=null,Qh):t5(l=+S[0][0],c=+S[0][1],u=+S[1][0],d=+S[1][1]),b()):l==null?null:[[l,c],[u,d]]},w.scale=function(S){return arguments.length?(t=+S,b()):t},w.translate=function(S){return arguments.length?(e=+S[0],n=+S[1],b()):[e,n]},w.angle=function(S){return arguments.length?(a=S%360*Le,o=Te(a),s=je(a),b()):a*jt},w.reflectX=function(S){return arguments.length?(r=S?-1:1,b()):r<0},w.reflectY=function(S){return arguments.length?(i=S?-1:1,b()):i<0},w.fitExtent=function(S,E){return n5(w,S,E)},w.fitSize=function(S,E){return Nw(w,S,E)},w.fitWidth=function(S,E){return Aw(w,S,E)},w.fitHeight=function(S,E){return Iw(w,S,E)},w}function Dw(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Dw.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-e)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(ht(i)>De&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function Pke(){return Qa(Dw).scale(175.295)}function Lw(t,e){return[je(e)*Te(t),Te(e)]}Lw.invert=D4(Ir);function Tke(){return Qa(Lw).scale(249.5).clipAngle(90+De)}function Fw(t,e){var n=je(e),r=1+je(t)*n;return[n*Te(t)/r,Te(e)/r]}Fw.invert=D4(function(t){return 2*Ku(t)});function Nke(){return Qa(Fw).scale(250).clipAngle(142)}function Vw(t,e){return[O1(Sw((pn+e)/2)),-t]}Vw.invert=function(t,e){return[-e,2*Ku(MU(t))-pn]};function Ake(){var t=yB(Vw),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const Ike=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:mB,geoAlbersUsa:mke,geoArea:_Ee,geoAzimuthalEqualArea:gke,geoAzimuthalEqualAreaRaw:jw,geoAzimuthalEquidistant:yke,geoAzimuthalEquidistantRaw:Rw,geoBounds:PEe,geoCentroid:OEe,geoCircle:jEe,geoClipAntimeridian:g9,geoClipCircle:ZU,geoClipExtent:VEe,geoClipRectangle:t5,geoConicConformal:xke,geoConicConformalRaw:vB,geoConicEqualArea:J1,geoConicEqualAreaRaw:pB,geoConicEquidistant:wke,geoConicEquidistantRaw:xB,geoContains:GEe,geoDistance:W1,geoEqualEarth:Ske,geoEqualEarthRaw:Mw,geoEquirectangular:bke,geoEquirectangularRaw:Jh,geoGnomonic:Eke,geoGnomonicRaw:$w,geoGraticule:Pw,geoGraticule10:KEe,geoIdentity:kke,geoInterpolate:QEe,geoLength:eB,geoMercator:vke,geoMercatorRaw:L4,geoNaturalEarth1:Pke,geoNaturalEarth1Raw:Dw,geoOrthographic:Tke,geoOrthographicRaw:Lw,geoPath:hB,geoProjection:Qa,geoProjectionMutator:Cw,geoRotation:GU,geoStereographic:Nke,geoStereographicRaw:Fw,geoStream:Xi,geoTransform:ske,geoTransverseMercator:Ake,geoTransverseMercatorRaw:Vw},Symbol.toStringTag,{value:"Module"}));function Cke(t){return t}function Oke(t){if(t==null)return Cke;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(o,l){l||(e=n=0);var c=2,u=o.length,d=new Array(u);for(d[0]=(e+=o[0])*r+a,d[1]=(n+=o[1])*i+s;c<u;)d[c]=o[c],++c;return d}}function jke(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function Rke(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return WI(t,n)})}:WI(t,e)}function WI(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,a=bB(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function bB(t,e){var n=Oke(t.transform),r=t.arcs;function i(u,d){d.length&&d.pop();for(var h=r[u<0?~u:u],p=0,g=h.length;p<g;++p)d.push(n(h[p],p));u<0&&jke(d,g)}function a(u){return n(u)}function s(u){for(var d=[],h=0,p=u.length;h<p;++h)i(u[h],d);return d.length<2&&d.push(d[0]),d}function o(u){for(var d=s(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(o)}function c(u){var d=u.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":h=a(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(a);break;case"LineString":h=s(u.arcs);break;case"MultiLineString":h=u.arcs.map(s);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return c(e)}function Mke(t,e){var n={},r={},i={},a=[],s=-1;e.forEach(function(c,u){var d=t.arcs[c<0?~c:c],h;d.length<3&&!d[1][0]&&!d[1][1]&&(h=e[++s],e[s]=c,e[u]=h)}),e.forEach(function(c){var u=o(c),d=u[0],h=u[1],p,g;if(p=i[d])if(delete i[p.end],p.push(c),p.end=h,g=r[h]){delete r[g.start];var x=g===p?p:p.concat(g);r[x.start=p.start]=i[x.end=g.end]=x}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(c),p.start=d,g=i[d]){delete i[g.end];var y=g===p?p:g.concat(p);r[y.start=g.start]=i[y.end=p.end]=y}else r[p.start]=i[p.end]=p;else p=[c],r[p.start=d]=i[p.end=h]=p});function o(c){var u=t.arcs[c<0?~c:c],d=u[0],h;return t.transform?(h=[0,0],u.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=u[u.length-1],c<0?[h,d]:[d,h]}function l(c,u){for(var d in c){var h=c[d];delete u[h.start],delete h.start,delete h.end,h.forEach(function(p){n[p<0?~p:p]=1}),a.push(h)}}return l(i,r),l(r,i),e.forEach(function(c){n[c<0?~c:c]||a.push([c])}),a}function HI(t){return bB(t,$ke.apply(this,arguments))}function $ke(t,e,n){var r,i,a;if(arguments.length>1)r=Dke(t,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:Mke(t,r)}}function Dke(t,e,n){var r=[],i=[],a;function s(d){var h=d<0?~d:d;(i[h]||(i[h]=[])).push({i:d,g:a})}function o(d){d.forEach(s)}function l(d){d.forEach(o)}function c(d){d.forEach(l)}function u(d){switch(a=d,d.type){case"GeometryCollection":d.geometries.forEach(u);break;case"LineString":o(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return u(e),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}var Lke={value:()=>{}};function Uw(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new A3(n)}function A3(t){this._=t}function Fke(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}A3.prototype=Uw.prototype={constructor:A3,on:function(t,e){var n=this._,r=Fke(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=Vke(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=GI(n[i],t.name,e);else if(e==null)for(i in n)n[i]=GI(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new A3(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Vke(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function GI(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Lke,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var A9="http://www.w3.org/1999/xhtml";const KI={svg:"http://www.w3.org/2000/svg",xhtml:A9,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function r5(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),KI.hasOwnProperty(e)?{space:KI[e],local:t}:t}function Uke(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===A9&&e.documentElement.namespaceURI===A9?e.createElement(t):e.createElementNS(n,t)}}function Bke(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wB(t){var e=r5(t);return(e.local?Bke:Uke)(e)}function zke(){}function Bw(t){return t==null?zke:function(){return this.querySelector(t)}}function qke(t){typeof t!="function"&&(t=Bw(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=a[u])&&(c=t.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new Gr(r,this._parents)}function _B(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wke(){return[]}function SB(t){return t==null?Wke:function(){return this.querySelectorAll(t)}}function Hke(t){return function(){var e=t.apply(this,arguments);return e==null?[]:_B(e)}}function Gke(t){typeof t=="function"?t=Hke(t):t=SB(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),i.push(l));return new Gr(r,i)}function EB(t){return function(){return this.matches(t)}}function kB(t){return function(e){return e.matches(t)}}var Kke=Array.prototype.find;function Qke(t){return function(){return Kke.call(this.children,t)}}function Yke(){return this.firstElementChild}function Xke(t){return this.select(t==null?Yke:Qke(typeof t=="function"?t:kB(t)))}var Jke=Array.prototype.filter;function Zke(){return this.children}function ePe(t){return function(){return Jke.call(this.children,t)}}function tPe(t){return this.selectAll(t==null?Zke:ePe(typeof t=="function"?t:kB(t)))}function nPe(t){typeof t!="function"&&(t=EB(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new Gr(r,this._parents)}function PB(t){return new Array(t.length)}function rPe(){return new Gr(this._enter||this._groups.map(PB),this._parents)}function eg(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}eg.prototype={constructor:eg,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function iPe(t){return function(){return t}}function aPe(t,e,n,r,i,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new eg(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function sPe(t,e,n,r,i,a,s){var o,l,c=new Map,u=e.length,d=a.length,h=new Array(u),p;for(o=0;o<u;++o)(l=e[o])&&(h[o]=p=s.call(l,l.__data__,o,e)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<d;++o)p=s.call(t,a[o],o,a)+"",(l=c.get(p))?(r[o]=l,l.__data__=a[o],c.delete(p)):n[o]=new eg(t,a[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(h[o])===l&&(i[o]=l)}function oPe(t){return t.__data__}function lPe(t,e){if(!arguments.length)return Array.from(this,oPe);var n=e?sPe:aPe,r=this._parents,i=this._groups;typeof t!="function"&&(t=iPe(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=_B(t.call(u,u&&u.__data__,c,r)),g=p.length,x=o[c]=new Array(g),y=s[c]=new Array(g),v=l[c]=new Array(h);n(u,d,x,y,v,p,e);for(var b=0,w=0,S,E;b<g;++b)if(S=x[b]){for(b>=w&&(w=b+1);!(E=y[w])&&++w<g;);S._next=E||null}}return s=new Gr(s,r),s._enter=o,s._exit=l,s}function cPe(){return new Gr(this._exit||this._groups.map(PB),this._parents)}function uPe(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function dPe(t){if(!(t instanceof Gr))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new Gr(s,this._parents)}function fPe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function hPe(t){t||(t=pPe);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),c,u=0;u<o;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new Gr(i,this._parents).order()}function pPe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function mPe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function gPe(){return Array.from(this)}function yPe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function vPe(){let t=0;for(const e of this)++t;return t}function xPe(){return!this.node()}function bPe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function wPe(t){return function(){this.removeAttribute(t)}}function _Pe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function SPe(t,e){return function(){this.setAttribute(t,e)}}function EPe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function kPe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function PPe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function TPe(t,e){var n=r5(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?_Pe:wPe:typeof e=="function"?n.local?PPe:kPe:n.local?EPe:SPe)(n,e))}function TB(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function NPe(t){return function(){this.style.removeProperty(t)}}function APe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function IPe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function CPe(t,e,n){return arguments.length>1?this.each((e==null?NPe:typeof e=="function"?IPe:APe)(t,e,n??"")):vu(this.node(),t)}function vu(t,e){return t.style.getPropertyValue(e)||TB(t).getComputedStyle(t,null).getPropertyValue(e)}function OPe(t){return function(){delete this[t]}}function jPe(t,e){return function(){this[t]=e}}function RPe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function MPe(t,e){return arguments.length>1?this.each((e==null?OPe:typeof e=="function"?RPe:jPe)(t,e)):this.node()[t]}function NB(t){return t.trim().split(/^|\s+/)}function zw(t){return t.classList||new AB(t)}function AB(t){this._node=t,this._names=NB(t.getAttribute("class")||"")}AB.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function IB(t,e){for(var n=zw(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function CB(t,e){for(var n=zw(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function $Pe(t){return function(){IB(this,t)}}function DPe(t){return function(){CB(this,t)}}function LPe(t,e){return function(){(e.apply(this,arguments)?IB:CB)(this,t)}}function FPe(t,e){var n=NB(t+"");if(arguments.length<2){for(var r=zw(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?LPe:e?$Pe:DPe)(n,e))}function VPe(){this.textContent=""}function UPe(t){return function(){this.textContent=t}}function BPe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function zPe(t){return arguments.length?this.each(t==null?VPe:(typeof t=="function"?BPe:UPe)(t)):this.node().textContent}function qPe(){this.innerHTML=""}function WPe(t){return function(){this.innerHTML=t}}function HPe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function GPe(t){return arguments.length?this.each(t==null?qPe:(typeof t=="function"?HPe:WPe)(t)):this.node().innerHTML}function KPe(){this.nextSibling&&this.parentNode.appendChild(this)}function QPe(){return this.each(KPe)}function YPe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function XPe(){return this.each(YPe)}function JPe(t){var e=typeof t=="function"?t:wB(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ZPe(){return null}function eTe(t,e){var n=typeof t=="function"?t:wB(t),r=e==null?ZPe:typeof e=="function"?e:Bw(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function tTe(){var t=this.parentNode;t&&t.removeChild(this)}function nTe(){return this.each(tTe)}function rTe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function iTe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function aTe(t){return this.select(t?iTe:rTe)}function sTe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function oTe(t){return function(e){t.call(this,e,this.__data__)}}function lTe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function cTe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function uTe(t,e,n){return function(){var r=this.__on,i,a=oTe(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function dTe(t,e,n){var r=lTe(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<a;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(o=e?uTe:cTe,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function OB(t,e,n){var r=TB(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function fTe(t,e){return function(){return OB(this,t,e)}}function hTe(t,e){return function(){return OB(this,t,e.apply(this,arguments))}}function pTe(t,e){return this.each((typeof e=="function"?hTe:fTe)(t,e))}function*mTe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var jB=[null];function Gr(t,e){this._groups=t,this._parents=e}function F4(){return new Gr([[document.documentElement]],jB)}function gTe(){return this}Gr.prototype=F4.prototype={constructor:Gr,select:qke,selectAll:Gke,selectChild:Xke,selectChildren:tPe,filter:nPe,data:lPe,enter:rPe,exit:cPe,join:uPe,merge:dPe,selection:gTe,order:fPe,sort:hPe,call:mPe,nodes:gPe,node:yPe,size:vPe,empty:xPe,each:bPe,attr:TPe,style:CPe,property:MPe,classed:FPe,text:zPe,html:GPe,raise:QPe,lower:XPe,append:JPe,insert:eTe,remove:nTe,clone:aTe,datum:sTe,on:dTe,dispatch:pTe,[Symbol.iterator]:mTe};function a0(t){return typeof t=="string"?new Gr([[document.querySelector(t)]],[document.documentElement]):new Gr([[t]],jB)}function yTe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function yo(t,e){if(t=yTe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function I9(t){t.preventDefault(),t.stopImmediatePropagation()}function vTe(t){var e=t.document.documentElement,n=a0(t).on("dragstart.drag",I9,!0);"onselectstart"in e?n.on("selectstart.drag",I9,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function xTe(t,e){var n=t.document.documentElement,r=a0(t).on("dragstart.drag",null);e&&(r.on("click.drag",I9,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var bTe=1e-12;function QI(t){return((t=Math.exp(t))+1/t)/2}function wTe(t){return((t=Math.exp(t))-1/t)/2}function _Te(t){return((t=Math.exp(2*t))-1)/(t+1)}const STe=function t(e,n,r){function i(a,s){var o=a[0],l=a[1],c=a[2],u=s[0],d=s[1],h=s[2],p=u-o,g=d-l,x=p*p+g*g,y,v;if(x<bTe)v=Math.log(h/c)/e,y=function(_){return[o+_*p,l+_*g,c*Math.exp(e*_*v)]};else{var b=Math.sqrt(x),w=(h*h-c*c+r*x)/(2*c*n*b),S=(h*h-c*c-r*x)/(2*h*n*b),E=Math.log(Math.sqrt(w*w+1)-w),P=Math.log(Math.sqrt(S*S+1)-S);v=(P-E)/e,y=function(_){var k=_*v,N=QI(E),A=c/(n*b)*(N*_Te(e*k+E)-wTe(E));return[o+A*p,l+A*g,c*N/QI(e*k+E)]}}return y.duration=v*1e3*e/Math.SQRT2,y}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return t(s,o,l)},i}(Math.SQRT2,2,4);var xu=0,Jd=0,jd=0,RB=1e3,tg,Zd,ng=0,gl=0,i5=0,Zh=typeof performance=="object"&&performance.now?performance:Date,MB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qw(){return gl||(MB(ETe),gl=Zh.now()+i5)}function ETe(){gl=0}function rg(){this._call=this._time=this._next=null}rg.prototype=$B.prototype={constructor:rg,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?qw():+n)+(e==null?0:+e),!this._next&&Zd!==this&&(Zd?Zd._next=this:tg=this,Zd=this),this._call=t,this._time=n,C9()},stop:function(){this._call&&(this._call=null,this._time=1/0,C9())}};function $B(t,e,n){var r=new rg;return r.restart(t,e,n),r}function kTe(){qw(),++xu;for(var t=tg,e;t;)(e=gl-t._time)>=0&&t._call.call(null,e),t=t._next;--xu}function YI(){gl=(ng=Zh.now())+i5,xu=Jd=0;try{kTe()}finally{xu=0,TTe(),gl=0}}function PTe(){var t=Zh.now(),e=t-ng;e>RB&&(i5-=e,ng=t)}function TTe(){for(var t,e=tg,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:tg=n);Zd=t,C9(r)}function C9(t){if(!xu){Jd&&(Jd=clearTimeout(Jd));var e=t-gl;e>24?(t<1/0&&(Jd=setTimeout(YI,t-Zh.now()-i5)),jd&&(jd=clearInterval(jd))):(jd||(ng=Zh.now(),jd=setInterval(PTe,RB)),xu=1,MB(YI))}}function XI(t,e,n){var r=new rg;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var NTe=Uw("start","end","cancel","interrupt"),ATe=[],DB=0,JI=1,O9=2,I3=3,ZI=4,j9=5,C3=6;function a5(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;ITe(t,n,{name:e,index:r,group:i,on:NTe,tween:ATe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:DB})}function Ww(t,e){var n=ha(t,e);if(n.state>DB)throw new Error("too late; already scheduled");return n}function Ya(t,e){var n=ha(t,e);if(n.state>I3)throw new Error("too late; already running");return n}function ha(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ITe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=$B(a,0,n.time);function a(c){n.state=JI,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,h,p;if(n.state!==JI)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===I3)return XI(s);p.state===ZI?(p.state=C3,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=C3,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(XI(function(){n.state===I3&&(n.state=ZI,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=O9,n.on.call("start",t,t.__data__,n.index,n.group),n.state===O9){for(n.state=I3,i=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=j9,1),d=-1,h=i.length;++d<h;)i[d].call(t,u);n.state===j9&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=C3,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function O3(t,e){var n=t.__transition,r,i,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>O9&&r.state<j9,r.state=C3,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function CTe(t){return this.each(function(){O3(this,t)})}function Hw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function LB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function V4(){}var e4=.7,ig=1/e4,Cc="\\s*([+-]?\\d+)\\s*",t4="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OTe=/^#([0-9a-f]{3,8})$/,jTe=new RegExp("^rgb\\("+[Cc,Cc,Cc]+"\\)$"),RTe=new RegExp("^rgb\\("+[za,za,za]+"\\)$"),MTe=new RegExp("^rgba\\("+[Cc,Cc,Cc,t4]+"\\)$"),$Te=new RegExp("^rgba\\("+[za,za,za,t4]+"\\)$"),DTe=new RegExp("^hsl\\("+[t4,za,za]+"\\)$"),LTe=new RegExp("^hsla\\("+[t4,za,za,t4]+"\\)$"),eC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hw(V4,n4,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:tC,formatHex:tC,formatHsl:FTe,formatRgb:nC,toString:nC});function tC(){return this.rgb().formatHex()}function FTe(){return FB(this).formatHsl()}function nC(){return this.rgb().formatRgb()}function n4(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=OTe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rC(e):n===3?new si(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jTe.exec(t))?new si(e[1],e[2],e[3],1):(e=RTe.exec(t))?new si(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MTe.exec(t))?Gp(e[1],e[2],e[3],e[4]):(e=$Te.exec(t))?Gp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=DTe.exec(t))?sC(e[1],e[2]/100,e[3]/100,1):(e=LTe.exec(t))?sC(e[1],e[2]/100,e[3]/100,e[4]):eC.hasOwnProperty(t)?rC(eC[t]):t==="transparent"?new si(NaN,NaN,NaN,0):null}function rC(t){return new si(t>>16&255,t>>8&255,t&255,1)}function Gp(t,e,n,r){return r<=0&&(t=e=n=NaN),new si(t,e,n,r)}function VTe(t){return t instanceof V4||(t=n4(t)),t?(t=t.rgb(),new si(t.r,t.g,t.b,t.opacity)):new si}function R9(t,e,n,r){return arguments.length===1?VTe(t):new si(t,e,n,r??1)}function si(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Hw(si,R9,LB(V4,{brighter:function(t){return t=t==null?ig:Math.pow(ig,t),new si(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?e4:Math.pow(e4,t),new si(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iC,formatHex:iC,formatRgb:aC,toString:aC}));function iC(){return"#"+X6(this.r)+X6(this.g)+X6(this.b)}function aC(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function X6(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function sC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ka(t,e,n,r)}function FB(t){if(t instanceof ka)return new ka(t.h,t.s,t.l,t.opacity);if(t instanceof V4||(t=n4(t)),!t)return new ka;if(t instanceof ka)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ka(s,o,l,t.opacity)}function UTe(t,e,n,r){return arguments.length===1?FB(t):new ka(t,e,n,r??1)}function ka(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Hw(ka,UTe,LB(V4,{brighter:function(t){return t=t==null?ig:Math.pow(ig,t),new ka(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?e4:Math.pow(e4,t),new ka(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new si(J6(t>=240?t-240:t+120,i,r),J6(t,i,r),J6(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function J6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const VB=t=>()=>t;function BTe(t,e){return function(n){return t+n*e}}function zTe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function qTe(t){return(t=+t)==1?UB:function(e,n){return n-e?zTe(e,n,t):VB(isNaN(e)?n:e)}}function UB(t,e){var n=e-t;return n?BTe(t,n):VB(isNaN(t)?e:t)}const oC=function t(e){var n=qTe(e);function r(i,a){var s=n((i=R9(i)).r,(a=R9(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=UB(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function ns(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var M9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Z6=new RegExp(M9.source,"g");function WTe(t){return function(){return t}}function HTe(t){return function(e){return t(e)+""}}function GTe(t,e){var n=M9.lastIndex=Z6.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=M9.exec(t))&&(i=Z6.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:ns(r,i)})),n=Z6.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?HTe(l[0].x):WTe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}var lC=180/Math.PI,$9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function BB(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*lC,skewX:Math.atan(l)*lC,scaleX:s,scaleY:o}}var Kp;function KTe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?$9:BB(e.a,e.b,e.c,e.d,e.e,e.f)}function QTe(t){return t==null||(Kp||(Kp=document.createElementNS("http://www.w3.org/2000/svg","g")),Kp.setAttribute("transform",t),!(t=Kp.transform.baseVal.consolidate()))?$9:(t=t.matrix,BB(t.a,t.b,t.c,t.d,t.e,t.f))}function zB(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,h,p,g){if(c!==d||u!==h){var x=p.push("translate(",null,e,null,n);g.push({i:x-4,x:ns(c,d)},{i:x-2,x:ns(u,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function s(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ns(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function o(c,u,d,h){c!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ns(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,h,p,g){if(c!==d||u!==h){var x=p.push(i(p)+"scale(",null,",",null,")");g.push({i:x-4,x:ns(c,d)},{i:x-2,x:ns(u,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,h),s(c.rotate,u.rotate,d,h),o(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(p){for(var g=-1,x=h.length,y;++g<x;)d[(y=h[g]).i]=y.x(p);return d.join("")}}}var YTe=zB(KTe,"px, ","px)","deg)"),XTe=zB(QTe,", ",")",")");function JTe(t,e){var n,r;return function(){var i=Ya(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function ZTe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Ya(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function eNe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ha(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?JTe:ZTe)(n,t,e))}function Gw(t,e,n){var r=t._id;return t.each(function(){var i=Ya(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ha(i,r).value[e]}}function qB(t,e){var n;return(typeof e=="number"?ns:e instanceof n4?oC:(n=n4(e))?(e=n,oC):GTe)(t,e)}function tNe(t){return function(){this.removeAttribute(t)}}function nNe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rNe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function iNe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function aNe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function sNe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function oNe(t,e){var n=r5(t),r=n==="transform"?XTe:qB;return this.attrTween(t,typeof e=="function"?(n.local?sNe:aNe)(n,r,Gw(this,"attr."+t,e)):e==null?(n.local?nNe:tNe)(n):(n.local?iNe:rNe)(n,r,e))}function lNe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function cNe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function uNe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&cNe(t,a)),n}return i._value=e,i}function dNe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&lNe(t,a)),n}return i._value=e,i}function fNe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=r5(t);return this.tween(n,(r.local?uNe:dNe)(r,e))}function hNe(t,e){return function(){Ww(this,t).delay=+e.apply(this,arguments)}}function pNe(t,e){return e=+e,function(){Ww(this,t).delay=e}}function mNe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?hNe:pNe)(e,t)):ha(this.node(),e).delay}function gNe(t,e){return function(){Ya(this,t).duration=+e.apply(this,arguments)}}function yNe(t,e){return e=+e,function(){Ya(this,t).duration=e}}function vNe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?gNe:yNe)(e,t)):ha(this.node(),e).duration}function xNe(t,e){if(typeof e!="function")throw new Error;return function(){Ya(this,t).ease=e}}function bNe(t){var e=this._id;return arguments.length?this.each(xNe(e,t)):ha(this.node(),e).ease}function wNe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ya(this,t).ease=n}}function _Ne(t){if(typeof t!="function")throw new Error;return this.each(wNe(this._id,t))}function SNe(t){typeof t!="function"&&(t=EB(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new M0(r,this._parents,this._name,this._id)}function ENe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new M0(s,this._parents,this._name,this._id)}function kNe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function PNe(t,e,n){var r,i,a=kNe(e)?Ww:Ya;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function TNe(t,e){var n=this._id;return arguments.length<2?ha(this.node(),n).on.on(t):this.each(PNe(n,t,e))}function NNe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ANe(){return this.on("end.remove",NNe(this._id))}function INe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Bw(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,c=a[s]=new Array(l),u,d,h=0;h<l;++h)(u=o[h])&&(d=t.call(u,u.__data__,h,o))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,a5(c[h],e,n,h,c,ha(u,n)));return new M0(a,this._parents,e,n)}function CNe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=SB(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=t.call(u,u.__data__,d,l),p,g=ha(u,n),x=0,y=h.length;x<y;++x)(p=h[x])&&a5(p,e,n,x,h,g);a.push(h),s.push(u)}return new M0(a,s,e,n)}var ONe=F4.prototype.constructor;function jNe(){return new ONe(this._groups,this._parents)}function RNe(t,e){var n,r,i;return function(){var a=vu(this,t),s=(this.style.removeProperty(t),vu(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function WB(t){return function(){this.style.removeProperty(t)}}function MNe(t,e,n){var r,i=n+"",a;return function(){var s=vu(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function $Ne(t,e,n){var r,i,a;return function(){var s=vu(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),vu(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function DNe(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=Ya(this,t),c=l.on,u=l.value[a]==null?o||(o=WB(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function LNe(t,e,n){var r=(t+="")=="transform"?YTe:qB;return e==null?this.styleTween(t,RNe(t,r)).on("end.style."+t,WB(t)):typeof e=="function"?this.styleTween(t,$Ne(t,r,Gw(this,"style."+t,e))).each(DNe(this._id,t)):this.styleTween(t,MNe(t,r,e),n).on("end.style."+t,null)}function FNe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function VNe(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&FNe(t,s,n)),r}return a._value=e,a}function UNe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,VNe(t,e,n??""))}function BNe(t){return function(){this.textContent=t}}function zNe(t){return function(){var e=t(this);this.textContent=e??""}}function qNe(t){return this.tween("text",typeof t=="function"?zNe(Gw(this,"text",t)):BNe(t==null?"":t+""))}function WNe(t){return function(e){this.textContent=t.call(this,e)}}function HNe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&WNe(i)),e}return r._value=t,r}function GNe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,HNe(t))}function KNe(){for(var t=this._name,e=this._id,n=HB(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var u=ha(l,e);a5(l,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new M0(r,this._parents,t,n)}function QNe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var c=Ya(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&a()})}var YNe=0;function M0(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function HB(){return++YNe}var vo=F4.prototype;M0.prototype={constructor:M0,select:INe,selectAll:CNe,filter:SNe,merge:ENe,selection:jNe,transition:KNe,call:vo.call,nodes:vo.nodes,node:vo.node,size:vo.size,empty:vo.empty,each:vo.each,on:TNe,attr:oNe,attrTween:fNe,style:LNe,styleTween:UNe,text:qNe,textTween:GNe,remove:ANe,tween:eNe,delay:mNe,duration:vNe,ease:bNe,easeVarying:_Ne,end:QNe,[Symbol.iterator]:vo[Symbol.iterator]};function XNe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var JNe={time:null,delay:0,duration:250,ease:XNe};function ZNe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function eAe(t){var e,n;t instanceof M0?(e=t._id,t=t._name):(e=HB(),(n=JNe).time=qw(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&a5(l,t,e,c,s,n||ZNe(l,e));return new M0(r,this._parents,t,e)}F4.prototype.interrupt=CTe;F4.prototype.transition=eAe;const Qp=t=>()=>t;function tAe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function m0(t,e,n){this.k=t,this.x=e,this.y=n}m0.prototype={constructor:m0,scale:function(t){return t===1?this:new m0(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new m0(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kw=new m0(1,0,0);m0.prototype;function ey(t){t.stopImmediatePropagation()}function Rd(t){t.preventDefault(),t.stopImmediatePropagation()}function nAe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function rAe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function cC(){return this.__zoom||Kw}function iAe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function aAe(){return navigator.maxTouchPoints||"ontouchstart"in this}function sAe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function oAe(){var t=nAe,e=rAe,n=sAe,r=iAe,i=aAe,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=STe,c=Uw("start","zoom","end"),u,d,h,p=500,g=150,x=0,y=10;function v($){$.property("__zoom",cC).on("wheel.zoom",k).on("mousedown.zoom",N).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function($,M,D,V){var F=$.selection?$.selection():$;F.property("__zoom",cC),$!==F?E($,M,D,V):F.interrupt().each(function(){P(this,arguments).event(V).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},v.scaleBy=function($,M,D,V){v.scaleTo($,function(){var F=this.__zoom.k,U=typeof M=="function"?M.apply(this,arguments):M;return F*U},D,V)},v.scaleTo=function($,M,D,V){v.transform($,function(){var F=e.apply(this,arguments),U=this.__zoom,H=D==null?S(F):typeof D=="function"?D.apply(this,arguments):D,G=U.invert(H),W=typeof M=="function"?M.apply(this,arguments):M;return n(w(b(U,W),H,G),F,s)},D,V)},v.translateBy=function($,M,D,V){v.transform($,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof D=="function"?D.apply(this,arguments):D),e.apply(this,arguments),s)},null,V)},v.translateTo=function($,M,D,V,F){v.transform($,function(){var U=e.apply(this,arguments),H=this.__zoom,G=V==null?S(U):typeof V=="function"?V.apply(this,arguments):V;return n(Kw.translate(G[0],G[1]).scale(H.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof D=="function"?-D.apply(this,arguments):-D),U,s)},V,F)};function b($,M){return M=Math.max(a[0],Math.min(a[1],M)),M===$.k?$:new m0(M,$.x,$.y)}function w($,M,D){var V=M[0]-D[0]*$.k,F=M[1]-D[1]*$.k;return V===$.x&&F===$.y?$:new m0($.k,V,F)}function S($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function E($,M,D,V){$.on("start.zoom",function(){P(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(V).end()}).tween("zoom",function(){var F=this,U=arguments,H=P(F,U).event(V),G=e.apply(F,U),W=D==null?S(G):typeof D=="function"?D.apply(F,U):D,ee=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),le=F.__zoom,pe=typeof M=="function"?M.apply(F,U):M,Z=l(le.invert(W).concat(ee/le.k),pe.invert(W).concat(ee/pe.k));return function(_e){if(_e===1)_e=pe;else{var Ce=Z(_e),ie=ee/Ce[2];_e=new m0(ie,W[0]-Ce[0]*ie,W[1]-Ce[1]*ie)}H.zoom(null,_e)}})}function P($,M,D){return!D&&$.__zooming||new _($,M)}function _($,M){this.that=$,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply($,M),this.taps=0}_.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,M){return this.mouse&&$!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var M=a0(this.that).datum();c.call($,this.that,new tAe($,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:c}),M)}};function k($,...M){if(!t.apply(this,arguments))return;var D=P(this,M).event($),V=this.__zoom,F=Math.max(a[0],Math.min(a[1],V.k*Math.pow(2,r.apply(this,arguments)))),U=yo($);if(D.wheel)(D.mouse[0][0]!==U[0]||D.mouse[0][1]!==U[1])&&(D.mouse[1]=V.invert(D.mouse[0]=U)),clearTimeout(D.wheel);else{if(V.k===F)return;D.mouse=[U,V.invert(U)],O3(this),D.start()}Rd($),D.wheel=setTimeout(H,g),D.zoom("mouse",n(w(b(V,F),D.mouse[0],D.mouse[1]),D.extent,s));function H(){D.wheel=null,D.end()}}function N($,...M){if(h||!t.apply(this,arguments))return;var D=P(this,M,!0).event($),V=a0($.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",ee,!0),F=yo($,U),U=$.currentTarget,H=$.clientX,G=$.clientY;vTe($.view),ey($),D.mouse=[F,this.__zoom.invert(F)],O3(this),D.start();function W(le){if(Rd(le),!D.moved){var pe=le.clientX-H,Z=le.clientY-G;D.moved=pe*pe+Z*Z>x}D.event(le).zoom("mouse",n(w(D.that.__zoom,D.mouse[0]=yo(le,U),D.mouse[1]),D.extent,s))}function ee(le){V.on("mousemove.zoom mouseup.zoom",null),xTe(le.view,D.moved),Rd(le),D.event(le).end()}}function A($,...M){if(t.apply(this,arguments)){var D=this.__zoom,V=yo($.changedTouches?$.changedTouches[0]:$,this),F=D.invert(V),U=D.k*($.shiftKey?.5:2),H=n(w(b(D,U),V,F),e.apply(this,M),s);Rd($),o>0?a0(this).transition().duration(o).call(E,H,V,$):a0(this).call(v.transform,H,V,$)}}function I($,...M){if(t.apply(this,arguments)){var D=$.touches,V=D.length,F=P(this,M,$.changedTouches.length===V).event($),U,H,G,W;for(ey($),H=0;H<V;++H)G=D[H],W=yo(G,this),W=[W,this.__zoom.invert(W),G.identifier],F.touch0?!F.touch1&&F.touch0[2]!==W[2]&&(F.touch1=W,F.taps=0):(F.touch0=W,U=!0,F.taps=1+!!u);u&&(u=clearTimeout(u)),U&&(F.taps<2&&(d=W[0],u=setTimeout(function(){u=null},p)),O3(this),F.start())}}function j($,...M){if(this.__zooming){var D=P(this,M).event($),V=$.changedTouches,F=V.length,U,H,G,W;for(Rd($),U=0;U<F;++U)H=V[U],G=yo(H,this),D.touch0&&D.touch0[2]===H.identifier?D.touch0[0]=G:D.touch1&&D.touch1[2]===H.identifier&&(D.touch1[0]=G);if(H=D.that.__zoom,D.touch1){var ee=D.touch0[0],le=D.touch0[1],pe=D.touch1[0],Z=D.touch1[1],_e=(_e=pe[0]-ee[0])*_e+(_e=pe[1]-ee[1])*_e,Ce=(Ce=Z[0]-le[0])*Ce+(Ce=Z[1]-le[1])*Ce;H=b(H,Math.sqrt(_e/Ce)),G=[(ee[0]+pe[0])/2,(ee[1]+pe[1])/2],W=[(le[0]+Z[0])/2,(le[1]+Z[1])/2]}else if(D.touch0)G=D.touch0[0],W=D.touch0[1];else return;D.zoom("touch",n(w(H,G,W),D.extent,s))}}function O($,...M){if(this.__zooming){var D=P(this,M).event($),V=$.changedTouches,F=V.length,U,H;for(ey($),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),U=0;U<F;++U)H=V[U],D.touch0&&D.touch0[2]===H.identifier?delete D.touch0:D.touch1&&D.touch1[2]===H.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(H=yo(H,this),Math.hypot(d[0]-H[0],d[1]-H[1])<y)){var G=a0(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return v.wheelDelta=function($){return arguments.length?(r=typeof $=="function"?$:Qp(+$),v):r},v.filter=function($){return arguments.length?(t=typeof $=="function"?$:Qp(!!$),v):t},v.touchable=function($){return arguments.length?(i=typeof $=="function"?$:Qp(!!$),v):i},v.extent=function($){return arguments.length?(e=typeof $=="function"?$:Qp([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),v):e},v.scaleExtent=function($){return arguments.length?(a[0]=+$[0],a[1]=+$[1],v):[a[0],a[1]]},v.translateExtent=function($){return arguments.length?(s[0][0]=+$[0][0],s[1][0]=+$[1][0],s[0][1]=+$[0][1],s[1][1]=+$[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function($){return arguments.length?(n=$,v):n},v.duration=function($){return arguments.length?(o=+$,v):o},v.interpolate=function($){return arguments.length?(l=$,v):l},v.on=function(){var $=c.on.apply(c,arguments);return $===c?v:$},v.clickDistance=function($){return arguments.length?(x=($=+$)*$,v):Math.sqrt(x)},v.tapDistance=function($){return arguments.length?(y=+$,v):y},v}function uC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(n),!0).forEach(function(r){lAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D9(t){"@babel/helpers - typeof";return D9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D9(t)}function lAe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kr(){return Kr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kr.apply(this,arguments)}function cAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zi(t,e){if(t==null)return{};var n=cAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xn(t,e){return uAe(t)||dAe(t,e)||fAe(t,e)||hAe()}function uAe(t){if(Array.isArray(t))return t}function dAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function fAe(t,e){if(t){if(typeof t=="string")return dC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dC(t,e)}}function dC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pAe=["width","height","projection","projectionConfig"],mAe=hB,gAe=zi(Ike,["geoPath"]),Xa=R.createContext(),yAe=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,a=i===void 0?"geoEqualEarth":i,s=e.width,o=s===void 0?800:s,l=e.height,c=l===void 0?600:l,u=typeof a=="function";if(u)return a;var d=gAe[a]().translate([o/2,c/2]),h=[d.center?"center":null,d.rotate?"rotate":null,d.scale?"scale":null,d.parallels?"parallels":null];return h.forEach(function(p){p&&(d=d[p](r[p]||d[p]()))}),d},GB=function(e){var n=e.width,r=e.height,i=e.projection,a=e.projectionConfig,s=zi(e,pAe),o=a.center||[],l=Xn(o,2),c=l[0],u=l[1],d=a.rotate||[],h=Xn(d,3),p=h[0],g=h[1],x=h[2],y=a.parallels||[],v=Xn(y,2),b=v[0],w=v[1],S=a.scale||null,E=R.useMemo(function(){return yAe({projectionConfig:{center:c||c===0||u||u===0?[c,u]:null,rotate:p||p===0||g||g===0?[p,g,x]:null,parallels:b||b===0||w||w===0?[b,w]:null,scale:S},projection:i,width:n,height:r})},[n,r,i,c,u,p,g,x,b,w,S]),P=R.useCallback(E,[E]),_=R.useMemo(function(){return{width:n,height:r,projection:P,path:mAe().projection(P)}},[n,r,P]);return B.createElement(Xa.Provider,Kr({value:_},s))};GB.propTypes={width:se.number,height:se.number,projection:se.oneOfType([se.string,se.func]),projectionConfig:se.object};var vAe=["width","height","projection","projectionConfig","className"],Qw=R.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,a=i===void 0?600:i,s=t.projection,o=s===void 0?"geoEqualEarth":s,l=t.projectionConfig,c=l===void 0?{}:l,u=t.className,d=u===void 0?"":u,h=zi(t,vAe);return B.createElement(GB,{width:r,height:a,projection:o,projectionConfig:c},B.createElement("svg",Kr({ref:e,viewBox:"0 0 ".concat(r," ").concat(a),className:"rsm-svg ".concat(d)},h)))});Qw.displayName="ComposableMap";Qw.propTypes={width:se.number,height:se.number,projection:se.oneOfType([se.string,se.func]),projectionConfig:se.object,className:se.string};function fC(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function xAe(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function hC(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=Rke(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function pC(t){var e=t.type==="Topology";if(!e)return null;var n=HI(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i===a}),r=HI(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i!==a});return{outline:n,borders:r}}function bAe(t,e,n){return t&&e?{outline:dc(dc({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:dc(dc({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function wAe(t,e){return t?t.map(function(n,r){return dc(dc({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function _Ae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],a=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+a," ").concat(-t,",").concat(-e)}function SAe(t){return typeof t=="string"}function EAe(t){var e=t.geography,n=t.parseGeographies,r=R.useContext(Xa),i=r.path,a=R.useState({}),s=Xn(a,2),o=s[0],l=s[1];R.useEffect(function(){(typeof window>"u"?"undefined":D9(window))!=="undefined"&&e&&(SAe(e)?xAe(e).then(function(p){p&&l({geographies:hC(p,n),mesh:pC(p)})}):l({geographies:hC(e,n),mesh:pC(e)}))},[e,n]);var c=R.useMemo(function(){var p=o.mesh||{},g=bAe(p.outline,p.borders,i);return{geographies:wAe(o.geographies,i),outline:g.outline,borders:g.borders}},[o,i]),u=c.geographies,d=c.outline,h=c.borders;return{geographies:u,outline:d,borders:h}}var kAe=["geography","children","parseGeographies","className"],Yw=R.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,a=t.className,s=a===void 0?"":a,o=zi(t,kAe),l=R.useContext(Xa),c=l.path,u=l.projection,d=EAe({geography:n,parseGeographies:i}),h=d.geographies,p=d.outline,g=d.borders;return B.createElement("g",Kr({ref:e,className:"rsm-geographies ".concat(s)},o),h&&h.length>0&&r({geographies:h,outline:p,borders:g,path:c,projection:u}))});Yw.displayName="Geographies";Yw.propTypes={geography:se.oneOfType([se.string,se.object,se.array]),children:se.func,parseGeographies:se.func,className:se.string};var PAe=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Xw=R.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,a=t.onMouseDown,s=t.onMouseUp,o=t.onFocus,l=t.onBlur,c=t.style,u=c===void 0?{}:c,d=t.className,h=d===void 0?"":d,p=zi(t,PAe),g=R.useState(!1),x=Xn(g,2),y=x[0],v=x[1],b=R.useState(!1),w=Xn(b,2),S=w[0],E=w[1];function P(j){E(!0),r&&r(j)}function _(j){E(!1),y&&v(!1),i&&i(j)}function k(j){E(!0),o&&o(j)}function N(j){E(!1),y&&v(!1),l&&l(j)}function A(j){v(!0),a&&a(j)}function I(j){v(!1),s&&s(j)}return B.createElement("path",Kr({ref:e,tabIndex:"0",className:"rsm-geography ".concat(h),d:n.svgPath,onMouseEnter:P,onMouseLeave:_,onFocus:k,onBlur:N,onMouseDown:A,onMouseUp:I,style:u[y||S?y?"pressed":"hover":"default"]},p))});Xw.displayName="Geography";Xw.propTypes={geography:se.object,onMouseEnter:se.func,onMouseLeave:se.func,onMouseDown:se.func,onMouseUp:se.func,onFocus:se.func,onBlur:se.func,style:se.object,className:se.string};var TAe=R.memo(Xw),NAe=["fill","stroke","step","className"],Jw=R.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,a=i===void 0?"currentcolor":i,s=t.step,o=s===void 0?[10,10]:s,l=t.className,c=l===void 0?"":l,u=zi(t,NAe),d=R.useContext(Xa),h=d.path;return B.createElement("path",Kr({ref:e,d:h(Pw().step(o)()),fill:r,stroke:a,className:"rsm-graticule ".concat(c)},u))});Jw.displayName="Graticule";Jw.propTypes={fill:se.string,stroke:se.string,step:se.array,className:se.string};R.memo(Jw);var AAe=["value"],IAe=R.createContext(),CAe={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},KB=function(e){var n=e.value,r=n===void 0?CAe:n,i=zi(e,AAe);return B.createElement(IAe.Provider,Kr({value:r},i))};KB.propTypes={x:se.number,y:se.number,k:se.number,transformString:se.string};function OAe(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,a=t.onMove,s=t.translateExtent,o=s===void 0?[[-1/0,-1/0],[1/0,1/0]]:s,l=t.scaleExtent,c=l===void 0?[1,8]:l,u=t.zoom,d=u===void 0?1:u,h=R.useContext(Xa),p=h.width,g=h.height,x=h.projection,y=Xn(e,2),v=y[0],b=y[1],w=R.useState({x:0,y:0,k:1}),S=Xn(w,2),E=S[0],P=S[1],_=R.useRef({x:0,y:0,k:1}),k=R.useRef(),N=R.useRef(),A=R.useRef(!1),I=Xn(o,2),j=I[0],O=I[1],$=Xn(j,2),M=$[0],D=$[1],V=Xn(O,2),F=V[0],U=V[1],H=Xn(c,2),G=H[0],W=H[1];return R.useEffect(function(){var ee=a0(k.current);function le(ie){!r||A.current||r({coordinates:x.invert(fC(p,g,ie.transform)),zoom:ie.transform.k},ie)}function pe(ie){if(!A.current){var ve=ie.transform,X=ie.sourceEvent;P({x:ve.x,y:ve.y,k:ve.k,dragging:X}),a&&a({x:ve.x,y:ve.y,zoom:ve.k,dragging:X},ie)}}function Z(ie){if(A.current){A.current=!1;return}var ve=x.invert(fC(p,g,ie.transform)),X=Xn(ve,2),q=X[0],de=X[1];_.current={x:q,y:de,k:ie.transform.k},i&&i({coordinates:[q,de],zoom:ie.transform.k},ie)}function _e(ie){return n?n(ie):ie?!ie.ctrlKey&&!ie.button:!1}var Ce=oAe().filter(_e).scaleExtent([G,W]).translateExtent([[M,D],[F,U]]).on("start",le).on("zoom",pe).on("end",Z);N.current=Ce,ee.call(Ce)},[p,g,M,D,F,U,G,W,x,r,a,i,n]),R.useEffect(function(){if(!(v===_.current.x&&b===_.current.y&&d===_.current.k)){var ee=x([v,b]),le=ee[0]*d,pe=ee[1]*d,Z=a0(k.current);A.current=!0,Z.call(N.current.transform,Kw.translate(p/2-le,g/2-pe).scale(d)),P({x:p/2-le,y:g/2-pe,k:d}),_.current={x:v,y:b,k:d}}},[v,b,d,p,g,x]),{mapRef:k,position:E,transformString:"translate(".concat(E.x," ").concat(E.y,") scale(").concat(E.k,")")}}var jAe=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],QB=R.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,a=i===void 0?1:i,s=t.minZoom,o=s===void 0?1:s,l=t.maxZoom,c=l===void 0?8:l,u=t.translateExtent,d=t.filterZoomEvent,h=t.onMoveStart,p=t.onMove,g=t.onMoveEnd,x=t.className,y=zi(t,jAe),v=R.useContext(Xa),b=v.width,w=v.height,S=OAe({center:r,filterZoomEvent:d,onMoveStart:h,onMove:p,onMoveEnd:g,scaleExtent:[o,c],translateExtent:u,zoom:a}),E=S.mapRef,P=S.transformString,_=S.position;return B.createElement(KB,{value:{x:_.x,y:_.y,k:_.k,transformString:P}},B.createElement("g",{ref:E},B.createElement("rect",{width:b,height:w,fill:"transparent"}),B.createElement("g",Kr({ref:e,transform:P,className:"rsm-zoomable-group ".concat(x)},y))))});QB.displayName="ZoomableGroup";QB.propTypes={center:se.array,zoom:se.number,minZoom:se.number,maxZoom:se.number,translateExtent:se.arrayOf(se.array),onMoveStart:se.func,onMove:se.func,onMoveEnd:se.func,className:se.string};var RAe=["id","fill","stroke","strokeWidth","className"],Zw=R.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,a=i===void 0?"transparent":i,s=t.stroke,o=s===void 0?"currentcolor":s,l=t.strokeWidth,c=l===void 0?.5:l,u=t.className,d=u===void 0?"":u,h=zi(t,RAe),p=R.useContext(Xa),g=p.path,x=R.useMemo(function(){return g({type:"Sphere"})},[g]);return B.createElement(R.Fragment,null,B.createElement("defs",null,B.createElement("clipPath",{id:r},B.createElement("path",{d:x}))),B.createElement("path",Kr({ref:e,d:x,fill:a,stroke:o,strokeWidth:c,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(d)},h)))});Zw.displayName="Sphere";Zw.propTypes={id:se.string,fill:se.string,stroke:se.string,strokeWidth:se.number,className:se.string};R.memo(Zw);var MAe=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],e_=R.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,a=t.onMouseLeave,s=t.onMouseDown,o=t.onMouseUp,l=t.onFocus,c=t.onBlur,u=t.style,d=u===void 0?{}:u,h=t.className,p=h===void 0?"":h,g=zi(t,MAe),x=R.useContext(Xa),y=x.projection,v=R.useState(!1),b=Xn(v,2),w=b[0],S=b[1],E=R.useState(!1),P=Xn(E,2),_=P[0],k=P[1],N=y(n),A=Xn(N,2),I=A[0],j=A[1];function O(U){k(!0),i&&i(U)}function $(U){k(!1),w&&S(!1),a&&a(U)}function M(U){k(!0),l&&l(U)}function D(U){k(!1),w&&S(!1),c&&c(U)}function V(U){S(!0),s&&s(U)}function F(U){S(!1),o&&o(U)}return B.createElement("g",Kr({ref:e,transform:"translate(".concat(I,", ").concat(j,")"),className:"rsm-marker ".concat(p),onMouseEnter:O,onMouseLeave:$,onFocus:M,onBlur:D,onMouseDown:V,onMouseUp:F,style:d[w||_?w?"pressed":"hover":"default"]},g),r)});e_.displayName="Marker";e_.propTypes={coordinates:se.array,children:se.oneOfType([se.node,se.arrayOf(se.node)]),onMouseEnter:se.func,onMouseLeave:se.func,onMouseDown:se.func,onMouseUp:se.func,onFocus:se.func,onBlur:se.func,style:se.object,className:se.string};var $Ae=["from","to","coordinates","stroke","strokeWidth","fill","className"],YB=R.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,a=i===void 0?[0,0]:i,s=t.coordinates,o=t.stroke,l=o===void 0?"currentcolor":o,c=t.strokeWidth,u=c===void 0?3:c,d=t.fill,h=d===void 0?"transparent":d,p=t.className,g=p===void 0?"":p,x=zi(t,$Ae),y=R.useContext(Xa),v=y.path,b={type:"LineString",coordinates:s||[r,a]};return B.createElement("path",Kr({ref:e,d:v(b),className:"rsm-line ".concat(g),stroke:l,strokeWidth:u,fill:h},x))});YB.displayName="Line";YB.propTypes={from:se.array,to:se.array,coordinates:se.array,stroke:se.string,strokeWidth:se.number,fill:se.string,className:se.string};var DAe=["subject","children","connectorProps","dx","dy","curve","className"],XB=R.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,a=t.dx,s=a===void 0?30:a,o=t.dy,l=o===void 0?30:o,c=t.curve,u=c===void 0?0:c,d=t.className,h=d===void 0?"":d,p=zi(t,DAe),g=R.useContext(Xa),x=g.projection,y=x(n),v=Xn(y,2),b=v[0],w=v[1],S=_Ae(s,l,u);return B.createElement("g",Kr({ref:e,transform:"translate(".concat(b+s,", ").concat(w+l,")"),className:"rsm-annotation ".concat(h)},p),B.createElement("path",Kr({d:S,fill:"transparent",stroke:"#000"},i)),r)});XB.displayName="Annotation";XB.propTypes={subject:se.array,children:se.oneOfType([se.node,se.arrayOf(se.node)]),dx:se.number,dy:se.number,curve:se.number,connectorProps:se.object,className:se.string};var Rt=1e-6,L9=1e-12,mt=Math.PI,Br=mt/2,mC=mt/4,pi=mt*2,vr=180/mt,Et=mt/180,rn=Math.abs,JB=Math.atan,yl=Math.atan2,wt=Math.cos,LAe=Math.exp,F9=Math.hypot,FAe=Math.log,_t=Math.sin,VAe=Math.sign||function(t){return t>0?1:t<0?-1:0},co=Math.sqrt,UAe=Math.tan;function BAe(t){return t>1?0:t<-1?mt:Math.acos(t)}function vl(t){return t>1?Br:t<-1?-Br:Math.asin(t)}function oi(){}function ag(t,e){t&&yC.hasOwnProperty(t.type)&&yC[t.type](t,e)}var gC={Feature:function(t,e){ag(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ag(n[r].geometry,e)}},yC={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){V9(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)V9(n[r],e,0)},Polygon:function(t,e){vC(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)vC(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ag(n[r],e)}};function V9(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function vC(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)V9(t[n],e,1);e.polygonEnd()}function To(t,e){t&&gC.hasOwnProperty(t.type)?gC[t.type](t,e):ag(t,e)}function U9(t){return[yl(t[1],t[0]),vl(t[2])]}function bu(t){var e=t[0],n=t[1],r=wt(n);return[r*wt(e),r*_t(e),_t(n)]}function Yp(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function sg(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ty(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Xp(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function B9(t){var e=co(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ef,og,lg,cg,ug,dg,fg,hg,z9,q9,W9,ZB,ez,_r,Sr,Er,na={sphere:oi,point:t_,lineStart:xC,lineEnd:bC,polygonStart:function(){na.lineStart=WAe,na.lineEnd=HAe},polygonEnd:function(){na.lineStart=xC,na.lineEnd=bC}};function t_(t,e){t*=Et,e*=Et;var n=wt(e);U4(n*wt(t),n*_t(t),_t(e))}function U4(t,e,n){++ef,lg+=(t-lg)/ef,cg+=(e-cg)/ef,ug+=(n-ug)/ef}function xC(){na.point=zAe}function zAe(t,e){t*=Et,e*=Et;var n=wt(e);_r=n*wt(t),Sr=n*_t(t),Er=_t(e),na.point=qAe,U4(_r,Sr,Er)}function qAe(t,e){t*=Et,e*=Et;var n=wt(e),r=n*wt(t),i=n*_t(t),a=_t(e),s=yl(co((s=Sr*a-Er*i)*s+(s=Er*r-_r*a)*s+(s=_r*i-Sr*r)*s),_r*r+Sr*i+Er*a);og+=s,dg+=s*(_r+(_r=r)),fg+=s*(Sr+(Sr=i)),hg+=s*(Er+(Er=a)),U4(_r,Sr,Er)}function bC(){na.point=t_}function WAe(){na.point=GAe}function HAe(){tz(ZB,ez),na.point=t_}function GAe(t,e){ZB=t,ez=e,t*=Et,e*=Et,na.point=tz;var n=wt(e);_r=n*wt(t),Sr=n*_t(t),Er=_t(e),U4(_r,Sr,Er)}function tz(t,e){t*=Et,e*=Et;var n=wt(e),r=n*wt(t),i=n*_t(t),a=_t(e),s=Sr*a-Er*i,o=Er*r-_r*a,l=_r*i-Sr*r,c=F9(s,o,l),u=vl(c),d=c&&-u/c;z9.add(d*s),q9.add(d*o),W9.add(d*l),og+=u,dg+=u*(_r+(_r=r)),fg+=u*(Sr+(Sr=i)),hg+=u*(Er+(Er=a)),U4(_r,Sr,Er)}function KAe(t){ef=og=lg=cg=ug=dg=fg=hg=0,z9=new Va,q9=new Va,W9=new Va,To(t,na);var e=+z9,n=+q9,r=+W9,i=F9(e,n,r);return i<L9&&(e=dg,n=fg,r=hg,og<Rt&&(e=lg,n=cg,r=ug),i=F9(e,n,r),i<L9)?[NaN,NaN]:[yl(n,e)*vr,vl(r/i)*vr]}function H9(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function G9(t,e){return rn(t)>mt&&(t-=Math.round(t/pi)*pi),[t,e]}G9.invert=G9;function nz(t,e,n){return(t%=pi)?e||n?H9(_C(t),SC(e,n)):_C(t):e||n?SC(e,n):G9}function wC(t){return function(e,n){return e+=t,rn(e)>mt&&(e-=Math.round(e/pi)*pi),[e,n]}}function _C(t){var e=wC(t);return e.invert=wC(-t),e}function SC(t,e){var n=wt(t),r=_t(t),i=wt(e),a=_t(e);function s(o,l){var c=wt(l),u=wt(o)*c,d=_t(o)*c,h=_t(l),p=h*n+u*r;return[yl(d*i-p*a,u*n-h*r),vl(p*i+d*a)]}return s.invert=function(o,l){var c=wt(l),u=wt(o)*c,d=_t(o)*c,h=_t(l),p=h*i-d*a;return[yl(d*i+h*a,u*n+p*r),vl(p*n-u*r)]},s}function QAe(t){t=nz(t[0]*Et,t[1]*Et,t.length>2?t[2]*Et:0);function e(n){return n=t(n[0]*Et,n[1]*Et),n[0]*=vr,n[1]*=vr,n}return e.invert=function(n){return n=t.invert(n[0]*Et,n[1]*Et),n[0]*=vr,n[1]*=vr,n},e}function YAe(t,e,n,r,i,a){if(n){var s=wt(e),o=_t(e),l=r*n;i==null?(i=e+r*pi,a=e-l/2):(i=EC(s,i),a=EC(s,a),(r>0?i<a:i>a)&&(i+=r*pi));for(var c,u=i;r>0?u>a:u<a;u-=l)c=U9([s,-o*wt(u),-o*_t(u)]),t.point(c[0],c[1])}}function EC(t,e){e=bu(e),e[0]-=t,B9(e);var n=BAe(-e[1]);return((-e[2]<0?-n:n)+pi-Rt)%pi}function rz(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:oi,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function j3(t,e){return rn(t[0]-e[0])<Rt&&rn(t[1]-e[1])<Rt}function Jp(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function iz(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((x=g.length-1)<=0)){var x,y=g[0],v=g[x],b;if(j3(y,v)){if(!y[2]&&!v[2]){for(i.lineStart(),o=0;o<x;++o)i.point((y=g[o])[0],y[1]);i.lineEnd();return}v[0]+=2*Rt}a.push(b=new Jp(y,g,null,!0)),s.push(b.o=new Jp(y,null,b,!1)),a.push(b=new Jp(v,g,null,!1)),s.push(b.o=new Jp(v,null,b,!0))}}),!!a.length){for(s.sort(e),kC(a),kC(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function kC(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function ny(t){return rn(t[0])<=mt?t[0]:VAe(t[0])*((rn(t[0])+mt)%pi-mt)}function XAe(t,e){var n=ny(e),r=e[1],i=_t(r),a=[_t(n),-wt(n),0],s=0,o=0,l=new Va;i===1?r=Br+Rt:i===-1&&(r=-Br-Rt);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=ny(p),x=p[1]/2+mC,y=_t(x),v=wt(x),b=0;b<h;++b,g=S,y=P,v=_,p=w){var w=d[b],S=ny(w),E=w[1]/2+mC,P=_t(E),_=wt(E),k=S-g,N=k>=0?1:-1,A=N*k,I=A>mt,j=y*P;if(l.add(yl(j*N*_t(A),v*_+j*wt(A))),s+=I?k+N*pi:k,I^g>=n^S>=n){var O=sg(bu(p),bu(w));B9(O);var $=sg(a,O);B9($);var M=(I^k>=0?-1:1)*vl($[2]);(r>M||r===M&&(O[0]||O[1]))&&(o+=I^k>=0?1:-1)}}return(s<-Rt||s<Rt&&l<-L9)^o&1}function az(t,e,n,r){return function(i){var a=e(i),s=rz(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:x,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=x,h.lineEnd=y,u=vF(u);var S=XAe(c,r);u.length?(l||(i.polygonStart(),l=!0),iz(u,ZAe,S,n,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(S,E){t(S,E)&&i.point(S,E)}function g(S,E){a.point(S,E)}function x(){h.point=g,a.lineStart()}function y(){h.point=p,a.lineEnd()}function v(S,E){d.push([S,E]),o.point(S,E)}function b(){o.lineStart(),d=[]}function w(){v(d[0][0],d[0][1]),o.lineEnd();var S=o.clean(),E=s.result(),P,_=E.length,k,N,A;if(d.pop(),c.push(d),d=null,!!_){if(S&1){if(N=E[0],(k=N.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),P=0;P<k;++P)i.point((A=N[P])[0],A[1]);i.lineEnd()}return}_>1&&S&2&&E.push(E.pop().concat(E.shift())),u.push(E.filter(JAe))}}return h}}function JAe(t){return t.length>1}function ZAe(t,e){return((t=t.x)[0]<0?t[1]-Br-Rt:Br-t[1])-((e=e.x)[0]<0?e[1]-Br-Rt:Br-e[1])}const PC=az(function(){return!0},eIe,nIe,[-mt,-Br]);function eIe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?mt:-mt,l=rn(a-e);rn(l-mt)<Rt?(t.point(e,n=(n+s)/2>0?Br:-Br),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=mt&&(rn(e-r)<Rt&&(e-=r*Rt),rn(a-o)<Rt&&(a-=o*Rt),n=tIe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function tIe(t,e,n,r){var i,a,s=_t(t-n);return rn(s)>Rt?JB((_t(e)*(a=wt(r))*_t(n)-_t(r)*(i=wt(e))*_t(t))/(i*a*s)):(e+r)/2}function nIe(t,e,n,r){var i;if(t==null)i=n*Br,r.point(-mt,i),r.point(0,i),r.point(mt,i),r.point(mt,0),r.point(mt,-i),r.point(0,-i),r.point(-mt,-i),r.point(-mt,0),r.point(-mt,i);else if(rn(t[0]-e[0])>Rt){var a=t[0]<e[0]?mt:-mt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function rIe(t){var e=wt(t),n=2*Et,r=e>0,i=rn(e)>Rt;function a(u,d,h,p){YAe(p,t,n,h,u,d)}function s(u,d){return wt(u)*wt(d)>e}function o(u){var d,h,p,g,x;return{lineStart:function(){g=p=!1,x=1},point:function(y,v){var b=[y,v],w,S=s(y,v),E=r?S?0:c(y,v):S?c(y+(y<0?mt:-mt),v):0;if(!d&&(g=p=S)&&u.lineStart(),S!==p&&(w=l(d,b),(!w||j3(d,w)||j3(b,w))&&(b[2]=1)),S!==p)x=0,S?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^S){var P;!(E&h)&&(P=l(b,d,!0))&&(x=0,r?(u.lineStart(),u.point(P[0][0],P[0][1]),u.point(P[1][0],P[1][1]),u.lineEnd()):(u.point(P[1][0],P[1][1]),u.lineEnd(),u.lineStart(),u.point(P[0][0],P[0][1],3)))}S&&(!d||!j3(d,b))&&u.point(b[0],b[1]),d=b,p=S,h=E},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return x|(g&&p)<<1}}}function l(u,d,h){var p=bu(u),g=bu(d),x=[1,0,0],y=sg(p,g),v=Yp(y,y),b=y[0],w=v-b*b;if(!w)return!h&&u;var S=e*v/w,E=-e*b/w,P=sg(x,y),_=Xp(x,S),k=Xp(y,E);ty(_,k);var N=P,A=Yp(_,N),I=Yp(N,N),j=A*A-I*(Yp(_,_)-1);if(!(j<0)){var O=co(j),$=Xp(N,(-A-O)/I);if(ty($,_),$=U9($),!h)return $;var M=u[0],D=d[0],V=u[1],F=d[1],U;D<M&&(U=M,M=D,D=U);var H=D-M,G=rn(H-mt)<Rt,W=G||H<Rt;if(!G&&F<V&&(U=V,V=F,F=U),W?G?V+F>0^$[1]<(rn($[0]-M)<Rt?V:F):V<=$[1]&&$[1]<=F:H>mt^(M<=$[0]&&$[0]<=D)){var ee=Xp(N,(-A+O)/I);return ty(ee,_),[$,U9(ee)]}}}function c(u,d){var h=r?t:mt-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return az(s,o,a,r?[0,-t]:[-mt,t-mt])}function iIe(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var tf=1e9,Zp=-tf;function aIe(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return rn(c[0]-t)<Rt?u>0?0:3:rn(c[0]-n)<Rt?u>0?2:1:rn(c[1]-e)<Rt?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=rz(),h,p,g,x,y,v,b,w,S,E,P,_={point:k,lineStart:j,lineEnd:O,polygonStart:A,polygonEnd:I};function k(M,D){i(M,D)&&u.point(M,D)}function N(){for(var M=0,D=0,V=p.length;D<V;++D)for(var F=p[D],U=1,H=F.length,G=F[0],W,ee,le=G[0],pe=G[1];U<H;++U)W=le,ee=pe,G=F[U],le=G[0],pe=G[1],ee<=r?pe>r&&(le-W)*(r-ee)>(pe-ee)*(t-W)&&++M:pe<=r&&(le-W)*(r-ee)<(pe-ee)*(t-W)&&--M;return M}function A(){u=d,h=[],p=[],P=!0}function I(){var M=N(),D=P&&M,V=(h=vF(h)).length;(D||V)&&(c.polygonStart(),D&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),V&&iz(h,o,M,a,c),c.polygonEnd()),u=c,h=p=g=null}function j(){_.point=$,p&&p.push(g=[]),E=!0,S=!1,b=w=NaN}function O(){h&&($(x,y),v&&S&&d.rejoin(),h.push(d.result())),_.point=k,S&&u.lineEnd()}function $(M,D){var V=i(M,D);if(p&&g.push([M,D]),E)x=M,y=D,v=V,E=!1,V&&(u.lineStart(),u.point(M,D));else if(V&&S)u.point(M,D);else{var F=[b=Math.max(Zp,Math.min(tf,b)),w=Math.max(Zp,Math.min(tf,w))],U=[M=Math.max(Zp,Math.min(tf,M)),D=Math.max(Zp,Math.min(tf,D))];iIe(F,U,t,e,n,r)?(S||(u.lineStart(),u.point(F[0],F[1])),u.point(U[0],U[1]),V||u.lineEnd(),P=!1):V&&(u.lineStart(),u.point(M,D),P=!1)}b=M,w=D,S=V}return _}}const K9=t=>t;var ry=new Va,Q9=new Va,sz,oz,Y9,X9,s0={point:oi,lineStart:oi,lineEnd:oi,polygonStart:function(){s0.lineStart=sIe,s0.lineEnd=lIe},polygonEnd:function(){s0.lineStart=s0.lineEnd=s0.point=oi,ry.add(rn(Q9)),Q9=new Va},result:function(){var t=ry/2;return ry=new Va,t}};function sIe(){s0.point=oIe}function oIe(t,e){s0.point=lz,sz=Y9=t,oz=X9=e}function lz(t,e){Q9.add(X9*t-Y9*e),Y9=t,X9=e}function lIe(){lz(sz,oz)}var wu=1/0,pg=wu,r4=-wu,mg=r4,gg={point:cIe,lineStart:oi,lineEnd:oi,polygonStart:oi,polygonEnd:oi,result:function(){var t=[[wu,pg],[r4,mg]];return r4=mg=-(pg=wu=1/0),t}};function cIe(t,e){t<wu&&(wu=t),t>r4&&(r4=t),e<pg&&(pg=e),e>mg&&(mg=e)}var J9=0,Z9=0,nf=0,yg=0,vg=0,fc=0,e8=0,t8=0,rf=0,cz,uz,Pa,Ta,Ti={point:xl,lineStart:TC,lineEnd:NC,polygonStart:function(){Ti.lineStart=fIe,Ti.lineEnd=hIe},polygonEnd:function(){Ti.point=xl,Ti.lineStart=TC,Ti.lineEnd=NC},result:function(){var t=rf?[e8/rf,t8/rf]:fc?[yg/fc,vg/fc]:nf?[J9/nf,Z9/nf]:[NaN,NaN];return J9=Z9=nf=yg=vg=fc=e8=t8=rf=0,t}};function xl(t,e){J9+=t,Z9+=e,++nf}function TC(){Ti.point=uIe}function uIe(t,e){Ti.point=dIe,xl(Pa=t,Ta=e)}function dIe(t,e){var n=t-Pa,r=e-Ta,i=co(n*n+r*r);yg+=i*(Pa+t)/2,vg+=i*(Ta+e)/2,fc+=i,xl(Pa=t,Ta=e)}function NC(){Ti.point=xl}function fIe(){Ti.point=pIe}function hIe(){dz(cz,uz)}function pIe(t,e){Ti.point=dz,xl(cz=Pa=t,uz=Ta=e)}function dz(t,e){var n=t-Pa,r=e-Ta,i=co(n*n+r*r);yg+=i*(Pa+t)/2,vg+=i*(Ta+e)/2,fc+=i,i=Ta*t-Pa*e,e8+=i*(Pa+t),t8+=i*(Ta+e),rf+=i*3,xl(Pa=t,Ta=e)}function fz(t){this._context=t}fz.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,pi);break}}},result:oi};var n8=new Va,iy,hz,pz,af,sf,i4={point:oi,lineStart:function(){i4.point=mIe},lineEnd:function(){iy&&mz(hz,pz),i4.point=oi},polygonStart:function(){iy=!0},polygonEnd:function(){iy=null},result:function(){var t=+n8;return n8=new Va,t}};function mIe(t,e){i4.point=mz,hz=af=t,pz=sf=e}function mz(t,e){af-=t,sf-=e,n8.add(co(af*af+sf*sf)),af=t,sf=e}let AC,xg,IC,CC;class OC{constructor(e){this._append=e==null?gz:gIe(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==IC||this._append!==xg){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,IC=r,xg=this._append,CC=this._,this._=i}this._+=CC;break}}}result(){const e=this._;return this._="",e.length?e:null}}function gz(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gIe(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return gz;if(e!==AC){const n=10**e;AC=e,xg=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return xg}function yIe(t,e){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),To(o,i(a))),a.result()}return s.area=function(o){return To(o,i(s0)),s0.result()},s.measure=function(o){return To(o,i(i4)),i4.result()},s.bounds=function(o){return To(o,i(gg)),gg.result()},s.centroid=function(o){return To(o,i(Ti)),Ti.result()},s.projection=function(o){return arguments.length?(i=o==null?(t=null,K9):(t=o).stream,s):t},s.context=function(o){return arguments.length?(a=o==null?(e=null,new OC(n)):new fz(e=o),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return e===null&&(a=new OC(n)),s},s.projection(t).digits(n).context(e)}function n_(t){return function(e){var n=new r8;for(var r in t)n[r]=t[r];return n.stream=e,n}}function r8(){}r8.prototype={constructor:r8,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function r_(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),To(n,t.stream(gg)),e(gg.result()),r!=null&&t.clipExtent(r),t}function yz(t,e,n){return r_(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function vIe(t,e,n){return yz(t,[[0,0],e],n)}function xIe(t,e,n){return r_(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function bIe(t,e,n){return r_(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var jC=16,wIe=wt(30*Et);function RC(t,e){return+e?SIe(t,e):_Ie(t)}function _Ie(t){return n_({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function SIe(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,x,y){var v=c-r,b=u-i,w=v*v+b*b;if(w>4*e&&x--){var S=s+h,E=o+p,P=l+g,_=co(S*S+E*E+P*P),k=vl(P/=_),N=rn(rn(P)-1)<Rt||rn(a-d)<Rt?(a+d)/2:yl(E,S),A=t(N,k),I=A[0],j=A[1],O=I-r,$=j-i,M=b*O-v*$;(M*M/w>e||rn((v*O+b*$)/w-.5)>.3||s*h+o*p+l*g<wIe)&&(n(r,i,a,s,o,l,I,j,N,S/=_,E/=_,P,x,y),y.point(I,j),n(I,j,N,S,E,P,c,u,d,h,p,g,x,y))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,x,y={point:v,lineStart:b,lineEnd:S,polygonStart:function(){r.polygonStart(),y.lineStart=E},polygonEnd:function(){r.polygonEnd(),y.lineStart=b}};function v(k,N){k=t(k,N),r.point(k[0],k[1])}function b(){d=NaN,y.point=w,r.lineStart()}function w(k,N){var A=bu([k,N]),I=t(k,N);n(d,h,u,p,g,x,d=I[0],h=I[1],u=k,p=A[0],g=A[1],x=A[2],jC,r),r.point(d,h)}function S(){y.point=v,r.lineEnd()}function E(){b(),y.point=P,y.lineEnd=_}function P(k,N){w(i=k,N),a=d,s=h,o=p,l=g,c=x,y.point=w}function _(){n(d,h,u,p,g,x,a,s,i,o,l,c,jC,r),y.lineEnd=S,S()}return y}}var EIe=n_({point:function(t,e){this.stream.point(t*Et,e*Et)}});function kIe(t){return n_({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function PIe(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function MC(t,e,n,r,i,a){if(!a)return PIe(t,e,n,r,i);var s=wt(a),o=_t(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(x,y){return x*=r,y*=i,[l*x-c*y+e,n-c*x-l*y]}return g.invert=function(x,y){return[r*(u*x-d*y+h),i*(p-d*x-u*y)]},g}function TIe(t){return NIe(function(){return t})()}function NIe(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,x=PC,y=null,v,b,w,S=K9,E=.5,P,_,k,N,A;function I(M){return k(M[0]*Et,M[1]*Et)}function j(M){return M=k.invert(M[0],M[1]),M&&[M[0]*vr,M[1]*vr]}I.stream=function(M){return N&&A===M?N:N=EIe(kIe(u)(x(P(S(A=M)))))},I.preclip=function(M){return arguments.length?(x=M,g=void 0,$()):x},I.postclip=function(M){return arguments.length?(S=M,y=v=b=w=null,$()):S},I.clipAngle=function(M){return arguments.length?(x=+M?rIe(g=M*Et):(g=null,PC),$()):g*vr},I.clipExtent=function(M){return arguments.length?(S=M==null?(y=v=b=w=null,K9):aIe(y=+M[0][0],v=+M[0][1],b=+M[1][0],w=+M[1][1]),$()):y==null?null:[[y,v],[b,w]]},I.scale=function(M){return arguments.length?(n=+M,O()):n},I.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],O()):[r,i]},I.center=function(M){return arguments.length?(a=M[0]%360*Et,s=M[1]%360*Et,O()):[a*vr,s*vr]},I.rotate=function(M){return arguments.length?(o=M[0]%360*Et,l=M[1]%360*Et,c=M.length>2?M[2]%360*Et:0,O()):[o*vr,l*vr,c*vr]},I.angle=function(M){return arguments.length?(d=M%360*Et,O()):d*vr},I.reflectX=function(M){return arguments.length?(h=M?-1:1,O()):h<0},I.reflectY=function(M){return arguments.length?(p=M?-1:1,O()):p<0},I.precision=function(M){return arguments.length?(P=RC(_,E=M*M),$()):co(E)},I.fitExtent=function(M,D){return yz(I,M,D)},I.fitSize=function(M,D){return vIe(I,M,D)},I.fitWidth=function(M,D){return xIe(I,M,D)},I.fitHeight=function(M,D){return bIe(I,M,D)};function O(){var M=MC(n,0,0,h,p,d).apply(null,e(a,s)),D=MC(n,r-M[0],i-M[1],h,p,d);return u=nz(o,l,c),_=H9(e,D),k=H9(u,_),P=RC(_,E),$()}function $(){return N=A=null,I}return function(){return e=t.apply(this,arguments),I.invert=e.invert&&j,O()}}function i_(t,e){return[t,FAe(UAe((Br+e)/2))]}i_.invert=function(t,e){return[t,2*JB(LAe(e))-Br]};function AIe(){return IIe(i_).scale(961/pi)}function IIe(t){var e=TIe(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=mt*r(),h=e(QAe(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===i_?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}const CIe=`{\r
"type": "FeatureCollection",\r
"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },\r
"features": [\r
{ "type": "Feature", "properties": { "shapeName": "Al-Anbar", "shapeISO": "IQ-AN", "shapeID": "90741666B95383716564687", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 41.215106344000048, 35.13619847800004 ], [ 41.215106344000048, 35.005016305000026 ], [ 41.225123991000032, 34.970135611000046 ], [ 41.220115167000074, 34.791396081000073 ], [ 41.195071049000035, 34.76053965400007 ], [ 41.17253134200007, 34.735846206000076 ], [ 41.124947516000077, 34.68849646700005 ], [ 41.112425457000029, 34.659661619000076 ], [ 41.079868102000034, 34.612268295000035 ], [ 41.072354866000069, 34.593715711000073 ], [ 41.029779864000034, 34.523590780000063 ], [ 41.002231334000044, 34.484377579000068 ], [ 40.98219603900003, 34.447211218000064 ], [ 40.964665155000034, 34.426556090000076 ], [ 40.949638684000035, 34.414160563000053 ], [ 40.909568094000065, 34.399696793000032 ], [ 40.859479856000064, 34.395563827000046 ], [ 40.819409266000036, 34.389363997000032 ], [ 40.769321029000025, 34.387297285000045 ], [ 40.726746027000047, 34.387297285000045 ], [ 40.674153377000039, 34.376962959000025 ], [ 40.621560728000077, 34.354222952000043 ], [ 38.794905311000036, 33.408622035000064 ], [ 39.088391079000075, 32.535391729000025 ], [ 38.991188592000071, 32.508863753000071 ], [ 39.056303301000071, 32.316467330000023 ], [ 39.256656252000028, 32.37782499900004 ], [ 39.304240078000078, 32.267774774000031 ], [ 39.204063602000076, 32.176670758000057 ], [ 40.413694541000041, 31.966573059000041 ], [ 40.997222510000029, 31.638797245000035 ], [ 41.317787231000068, 31.448839288000045 ], [ 41.52314900500005, 31.352646144000062 ], [ 41.668404894000048, 31.294882969000071 ], [ 42.094154914000057, 31.117093041000032 ], [ 42.935637307000036, 30.510549738000066 ], [ 42.935751249000077, 30.513761097000042 ], [ 42.953168190000042, 31.003389915000071 ], [ 42.988229956000055, 31.074202168000056 ], [ 43.005760839000061, 31.10422781300008 ], [ 43.025796134000075, 31.127812733000042 ], [ 43.053344665000054, 31.151391792000027 ], [ 43.080893196000034, 31.166393594000056 ], [ 43.113450550000039, 31.185678136000035 ], [ 43.123468198000069, 31.209242797000059 ], [ 43.123468198000069, 31.339812946000052 ], [ 43.168547612000054, 31.406098950000057 ], [ 43.181069671000046, 31.421060285000067 ], [ 43.203609378000067, 31.448839288000045 ], [ 43.216131437000058, 31.474474136000026 ], [ 43.226149085000031, 31.495831148000036 ], [ 43.223644673000081, 31.608941852000044 ], [ 43.311299089000045, 31.681431185000065 ], [ 43.35387409100008, 31.745345395000072 ], [ 43.386431445000028, 31.798573566000073 ], [ 43.40396232900008, 31.830495763000044 ], [ 43.429006447000063, 31.858152740000037 ], [ 43.456554978000042, 31.881548319000046 ], [ 43.49662556800007, 31.900685739000039 ], [ 43.544209394000063, 31.91131591900006 ], [ 43.586784396000041, 31.926196109000045 ], [ 43.636872634000042, 31.953824360000056 ], [ 43.674438812000062, 31.975071208000031 ], [ 43.714509402000033, 31.998437061000061 ], [ 43.837225584000066, 32.087597364000032 ], [ 43.273732911000025, 32.576422065000031 ], [ 43.426502036000045, 32.61018215200005 ], [ 43.589288808000049, 32.646038305000047 ], [ 43.709500578000075, 32.669231689000071 ], [ 43.797154994000039, 32.707171515000027 ], [ 43.829712349000033, 32.734562471000061 ], [ 43.872287351000068, 32.755626712000037 ], [ 43.902340293000066, 32.772474518000024 ], [ 43.944915295000044, 32.787213733000044 ], [ 43.982481473000064, 32.793529792000072 ], [ 44.025056475000042, 32.793529792000072 ], [ 44.062622654000052, 32.797740248000025 ], [ 44.080153537000058, 32.875597721000076 ], [ 44.10519765600003, 32.91765440000006 ], [ 44.107702068000037, 32.953386873000056 ], [ 44.097684420000064, 32.99960746000005 ], [ 44.097684420000064, 33.039505764000069 ], [ 44.097684420000064, 33.073090328000035 ], [ 44.095180008000057, 33.100368350000053 ], [ 44.090171184000042, 33.127637908000054 ], [ 44.072640301000035, 33.150705537000078 ], [ 44.050100594000071, 33.175863307000043 ], [ 44.030065299000057, 33.194726896000077 ], [ 44.00001235700006, 33.213586423000038 ], [ 43.979977062000046, 33.194726896000077 ], [ 43.967455002000065, 33.196822599000029 ], [ 43.942410883000036, 33.230347035000079 ], [ 43.917366764000064, 33.240820787000075 ], [ 43.907349117000081, 33.259670379000056 ], [ 43.919871176000072, 33.284796842000048 ], [ 43.942410883000036, 33.29317072300006 ], [ 44.125232951000044, 33.29317072300006 ], [ 44.260471192000068, 33.433313682000062 ], [ 44.215391778000026, 33.508521089000055 ], [ 44.165303541000071, 33.577403846000038 ], [ 44.132746186000077, 33.598266566000063 ], [ 44.10519765600003, 33.614953109000055 ], [ 44.082657949000065, 33.631636423000032 ], [ 44.082657949000065, 33.671246343000064 ], [ 44.072640301000035, 33.700420932000043 ], [ 44.045091770000056, 33.725419841000075 ], [ 44.020047652000073, 33.742081736000046 ], [ 43.732040285000039, 33.750411470000074 ], [ 43.70449175400006, 33.773314066000069 ], [ 43.671934400000055, 33.789966656000047 ], [ 43.629359398000076, 33.792048002000058 ], [ 43.60181086700004, 33.792048002000058 ], [ 43.571757925000043, 33.792048002000058 ], [ 43.551722630000029, 33.79412929700004 ], [ 43.521669687000042, 33.79621054200004 ], [ 43.326325560000043, 33.84406520400006 ], [ 43.183574083000053, 33.968777321000061 ], [ 43.183574083000053, 34.004079235000063 ], [ 43.115954962000046, 34.022762546000024 ], [ 43.115954962000046, 34.055967167000063 ], [ 43.103432903000055, 34.08708469100003 ], [ 43.045831429000032, 34.12233739800007 ], [ 42.998247604000028, 34.147212816000035 ], [ 42.920610835000048, 34.228007339000044 ], [ 42.923115247000055, 34.515336902000058 ], [ 42.770346122000035, 34.374895940000044 ], [ 42.442268166000076, 34.558660635000024 ], [ 42.422232871000062, 34.931133724000063 ], [ 41.901315199000067, 34.922920436000027 ], [ 41.743537251000078, 34.974239994000072 ], [ 41.653378423000049, 34.998861968000028 ], [ 41.578246067000066, 35.019374623000033 ], [ 41.52314900500005, 35.03373042000004 ], [ 41.488087239000038, 35.029629021000062 ], [ 41.450521061000074, 35.03373042000004 ], [ 41.415459294000073, 35.048083696000049 ], [ 41.372884292000037, 35.072683445000052 ], [ 41.320291643000076, 35.095226702000048 ], [ 41.280221053000048, 35.113666551000051 ], [ 41.250168110000061, 35.125957466000045 ], [ 41.215106344000048, 35.13619847800004 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Karbala", "shapeISO": "IQ-KA", "shapeID": "90741666B6541054971840", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.273732911000025, 32.576422065000031 ], [ 43.729914548000067, 32.18089201600003 ], [ 44.250453545000028, 32.358787418000077 ], [ 44.222905014000048, 32.420116378000046 ], [ 44.192852072000051, 32.456048469000052 ], [ 44.177825600000062, 32.475065541000049 ], [ 44.167807953000079, 32.489853821000054 ], [ 44.157790305000049, 32.506751736000069 ], [ 44.145268246000057, 32.519423089000043 ], [ 44.125232951000044, 32.542649263000044 ], [ 44.110206479000055, 32.561648028000036 ], [ 44.095180008000057, 32.580642771000043 ], [ 44.082657949000065, 32.593303698000057 ], [ 44.082657949000065, 32.608072519000075 ], [ 44.092675596000049, 32.622838905000037 ], [ 44.102693244000079, 32.637602856000058 ], [ 44.11521530300007, 32.658689988000049 ], [ 44.152781481000034, 32.696634291000066 ], [ 44.165303541000071, 32.707171515000027 ], [ 44.187843248000036, 32.71560039700006 ], [ 44.205374131000042, 32.730349026000056 ], [ 44.207878543000049, 32.740882266000028 ], [ 44.202869719000034, 32.755626712000037 ], [ 44.187843248000036, 32.770368717000053 ], [ 44.170312365000029, 32.772474518000024 ], [ 44.137755010000035, 32.774580270000058 ], [ 44.120224127000029, 32.780897226000036 ], [ 44.085162361000073, 32.791424489000065 ], [ 44.062622654000052, 32.797740248000025 ], [ 44.025056475000042, 32.793529792000072 ], [ 43.982481473000064, 32.793529792000072 ], [ 43.944915295000044, 32.787213733000044 ], [ 43.902340293000066, 32.772474518000024 ], [ 43.872287351000068, 32.755626712000037 ], [ 43.829712349000033, 32.734562471000061 ], [ 43.797154994000039, 32.707171515000027 ], [ 43.709500578000075, 32.669231689000071 ], [ 43.589288808000049, 32.646038305000047 ], [ 43.426502036000045, 32.61018215200005 ], [ 43.273732911000025, 32.576422065000031 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "An-Najaf", "shapeISO": "IQ-NA", "shapeID": "90741666B48190773870201", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 42.935751249000077, 30.513761097000042 ], [ 42.978112132000035, 30.476453047000064 ], [ 43.813614360613677, 29.850955358773959 ], [ 43.813584493000064, 29.850980567000079 ], [ 43.814786054000081, 29.850078172000053 ], [ 43.898132881000038, 29.954287058000034 ], [ 43.95583453100005, 30.034800458000063 ], [ 44.011933357000032, 30.095835997000052 ], [ 44.031167240000059, 30.115248500000064 ], [ 44.039181358000064, 30.134657188000062 ], [ 44.071237831000076, 30.203942774000041 ], [ 44.080854772000066, 30.223334007000062 ], [ 44.088868890000072, 30.245490736000079 ], [ 44.096883008000077, 30.264873776000059 ], [ 44.109705597000072, 30.293941164000046 ], [ 44.116116891000047, 30.321616382000059 ], [ 44.152981834000059, 30.412889127000028 ], [ 44.257165369000063, 30.607595038000056 ], [ 44.278002075000074, 30.629664674000026 ], [ 44.362951727000052, 30.711002950000079 ], [ 44.454312672000071, 30.806040425000049 ], [ 44.53445385200007, 30.892731767000043 ], [ 44.545673617000034, 30.916111240000077 ], [ 44.552084912000055, 30.935360635000052 ], [ 44.563304677000076, 30.964227462000053 ], [ 44.571318795000025, 30.984841283000037 ], [ 44.57933291300003, 31.045282799000063 ], [ 44.592155502000026, 31.083725614000059 ], [ 44.606580914000062, 31.108430646000045 ], [ 44.624211974000048, 31.127641227000026 ], [ 44.643445857000074, 31.142732528000067 ], [ 44.675502329000039, 31.194847629000037 ], [ 44.712367272000051, 31.260636223000063 ], [ 44.771671746000038, 31.378392812000072 ], [ 44.779685864000044, 31.39891666300008 ], [ 44.775333671000055, 31.409131973000058 ], [ 44.77327456900008, 31.41396463500007 ], [ 44.758849157000043, 31.422171603000038 ], [ 44.712367272000051, 31.420803825000064 ], [ 44.68191362400006, 31.424907099000052 ], [ 44.667488211000034, 31.431745491000072 ], [ 44.640240210000059, 31.437215845000026 ], [ 44.612992209000026, 31.438583384000026 ], [ 44.572921619000056, 31.44405333900005 ], [ 44.550482088000081, 31.453624992000073 ], [ 44.537659499000029, 31.465929966000033 ], [ 44.52964538100008, 31.479600263000066 ], [ 44.521631263000074, 31.493268564000061 ], [ 44.516822793000074, 31.504201766000051 ], [ 44.504000204000079, 31.517866470000058 ], [ 44.489574791000052, 31.531529177000039 ], [ 44.475149379000072, 31.549287707000076 ], [ 44.462326790000077, 31.564311517000078 ], [ 44.44309290700005, 31.595717117000049 ], [ 44.44309290700005, 31.610733445000051 ], [ 44.444695730000035, 31.625747352000076 ], [ 44.455915496000046, 31.627112132000036 ], [ 44.489574791000052, 31.629841633000069 ], [ 44.513617145000069, 31.636665035000078 ], [ 44.515219969000043, 31.651674757000023 ], [ 44.512014322000027, 31.674866832000077 ], [ 44.497588909000058, 31.699416836000069 ], [ 44.489574791000052, 31.713052921000042 ], [ 44.478355026000031, 31.73214007100006 ], [ 44.478355026000031, 31.747134359000029 ], [ 44.491177615000026, 31.759400608000078 ], [ 44.513617145000069, 31.771665231000043 ], [ 44.520028440000033, 31.788015533000078 ], [ 44.513617145000069, 31.804362944000047 ], [ 44.502397380000048, 31.839772412000059 ], [ 44.504000204000079, 31.856110662000049 ], [ 44.518425616000059, 31.867001221000066 ], [ 44.539262323000059, 31.877890493000052 ], [ 44.556893383000045, 31.886056603000043 ], [ 44.56490750100005, 31.905108043000041 ], [ 44.561701853000045, 31.921434711000074 ], [ 44.547276441000065, 31.941838970000049 ], [ 44.532851029000028, 31.958159116000047 ], [ 44.523234087000048, 31.977195623000057 ], [ 44.516822793000074, 31.99758749800003 ], [ 44.512014322000027, 32.020692810000071 ], [ 44.512014322000027, 32.032922675000066 ], [ 44.512014322000027, 32.05330215500004 ], [ 44.515219969000043, 32.072318909000046 ], [ 44.515219969000043, 32.094047500000045 ], [ 44.516822793000074, 32.113055779000035 ], [ 44.526439734000064, 32.130702780000036 ], [ 44.544070794000049, 32.14291793600006 ], [ 44.558496206000029, 32.153774479000049 ], [ 44.584141384000077, 32.16734333900007 ], [ 44.587347031000036, 32.178196972000023 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.576127266000071, 32.187692840000068 ], [ 44.552084912000055, 32.206681604000039 ], [ 44.483163497000078, 32.241935936000061 ], [ 44.470340908000026, 32.250069609000036 ], [ 44.44790137800004, 32.263624112000059 ], [ 44.41744772900006, 32.251425150000046 ], [ 44.40302231700008, 32.233801534000065 ], [ 44.385391257000038, 32.216174500000079 ], [ 44.358143256000062, 32.183623303000047 ], [ 44.305250077000039, 32.176840338000034 ], [ 44.287619017000054, 32.184979835000036 ], [ 44.282810546000064, 32.201256647000037 ], [ 44.278002075000074, 32.220242580000047 ], [ 44.278002075000074, 32.237868826000067 ], [ 44.276399252000033, 32.256847113000049 ], [ 44.271590781000043, 32.274466257000029 ], [ 44.265179487000069, 32.293436893000035 ], [ 44.263576663000038, 32.308339609000029 ], [ 44.250453545000028, 32.358787418000077 ], [ 43.729914548000067, 32.18089201600003 ], [ 43.837225584000066, 32.087597364000032 ], [ 43.714509402000033, 31.998437061000061 ], [ 43.674438812000062, 31.975071208000031 ], [ 43.636872634000042, 31.953824360000056 ], [ 43.586784396000041, 31.926196109000045 ], [ 43.544209394000063, 31.91131591900006 ], [ 43.49662556800007, 31.900685739000039 ], [ 43.456554978000042, 31.881548319000046 ], [ 43.429006447000063, 31.858152740000037 ], [ 43.40396232900008, 31.830495763000044 ], [ 43.386431445000028, 31.798573566000073 ], [ 43.35387409100008, 31.745345395000072 ], [ 43.311299089000045, 31.681431185000065 ], [ 43.223644673000081, 31.608941852000044 ], [ 43.226149085000031, 31.495831148000036 ], [ 43.216131437000058, 31.474474136000026 ], [ 43.203609378000067, 31.448839288000045 ], [ 43.181069671000046, 31.421060285000067 ], [ 43.168547612000054, 31.406098950000057 ], [ 43.123468198000069, 31.339812946000052 ], [ 43.123468198000069, 31.209242797000059 ], [ 43.113450550000039, 31.185678136000035 ], [ 43.080893196000034, 31.166393594000056 ], [ 43.053344665000054, 31.151391792000027 ], [ 43.025796134000075, 31.127812733000042 ], [ 43.005760839000061, 31.10422781300008 ], [ 42.988229956000055, 31.074202168000056 ], [ 42.953168190000042, 31.003389915000071 ], [ 42.935751249000077, 30.513761097000042 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Babil", "shapeISO": "IQ-BB", "shapeID": "90741666B44177402341950", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.062622654000052, 32.797740248000025 ], [ 44.085162361000073, 32.791424489000065 ], [ 44.120224127000029, 32.780897226000036 ], [ 44.137755010000035, 32.774580270000058 ], [ 44.170312365000029, 32.772474518000024 ], [ 44.187843248000036, 32.770368717000053 ], [ 44.202869719000034, 32.755626712000037 ], [ 44.207878543000049, 32.740882266000028 ], [ 44.205374131000042, 32.730349026000056 ], [ 44.187843248000036, 32.71560039700006 ], [ 44.165303541000071, 32.707171515000027 ], [ 44.152781481000034, 32.696634291000066 ], [ 44.11521530300007, 32.658689988000049 ], [ 44.102693244000079, 32.637602856000058 ], [ 44.092675596000049, 32.622838905000037 ], [ 44.082657949000065, 32.608072519000075 ], [ 44.082657949000065, 32.593303698000057 ], [ 44.095180008000057, 32.580642771000043 ], [ 44.110206479000055, 32.561648028000036 ], [ 44.125232951000044, 32.542649263000044 ], [ 44.145268246000057, 32.519423089000043 ], [ 44.157790305000049, 32.506751736000069 ], [ 44.167807953000079, 32.489853821000054 ], [ 44.177825600000062, 32.475065541000049 ], [ 44.192852072000051, 32.456048469000052 ], [ 44.222905014000048, 32.420116378000046 ], [ 44.250453545000028, 32.358787418000077 ], [ 44.263576663000038, 32.308339609000029 ], [ 44.265179487000069, 32.293436893000035 ], [ 44.271590781000043, 32.274466257000029 ], [ 44.276399252000033, 32.256847113000049 ], [ 44.278002075000074, 32.237868826000067 ], [ 44.278002075000074, 32.220242580000047 ], [ 44.282810546000064, 32.201256647000037 ], [ 44.287619017000054, 32.184979835000036 ], [ 44.305250077000039, 32.176840338000034 ], [ 44.358143256000062, 32.183623303000047 ], [ 44.385391257000038, 32.216174500000079 ], [ 44.40302231700008, 32.233801534000065 ], [ 44.41744772900006, 32.251425150000046 ], [ 44.44790137800004, 32.263624112000059 ], [ 44.470340908000026, 32.250069609000036 ], [ 44.483163497000078, 32.241935936000061 ], [ 44.552084912000055, 32.206681604000039 ], [ 44.576127266000071, 32.187692840000068 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.608183738000037, 32.168700113000057 ], [ 44.621006327000032, 32.170056868000074 ], [ 44.635431739000069, 32.161916037000026 ], [ 44.649857152000038, 32.153774479000049 ], [ 44.673899506000055, 32.149703427000077 ], [ 44.704353154000046, 32.148346369000024 ], [ 44.721984214000031, 32.144275074000063 ], [ 44.746026568000048, 32.133417401000031 ], [ 44.771671746000038, 32.132060101000036 ], [ 44.805331041000045, 32.132060101000036 ], [ 44.826167748000046, 32.140203598000028 ], [ 44.830976219000036, 32.15513145500006 ], [ 44.830976219000036, 32.171413603000076 ], [ 44.830976219000036, 32.189049311000076 ], [ 44.829373395000061, 32.205325395000045 ], [ 44.829373395000061, 32.227022310000052 ], [ 44.847004455000047, 32.259557973000028 ], [ 44.863032691000058, 32.266334770000071 ], [ 44.877458104000027, 32.267690068000036 ], [ 44.893486340000038, 32.269045346000041 ], [ 44.907911752000075, 32.274466257000029 ], [ 44.93035128300005, 32.281241940000029 ], [ 44.946379519000061, 32.286662122000052 ], [ 44.960804931000041, 32.296146660000034 ], [ 44.980038814000068, 32.325948749000077 ], [ 44.991258580000078, 32.339491912000028 ], [ 45.031329170000049, 32.343554466000057 ], [ 45.04254893500007, 32.350324983000064 ], [ 45.053768700000035, 32.36251063800006 ], [ 45.06178281800004, 32.376048328000024 ], [ 45.06659128900003, 32.389583990000062 ], [ 45.069796936000046, 32.400411060000067 ], [ 45.081016701000067, 32.407177319000027 ], [ 45.098647761000052, 32.412589962000027 ], [ 45.111470350000047, 32.418002279000063 ], [ 45.125895762000027, 32.423414272000059 ], [ 45.143526822000069, 32.435590069000057 ], [ 45.157952234000049, 32.45587941000008 ], [ 45.146732469000028, 32.473459810000065 ], [ 45.127498586000058, 32.482924758000024 ], [ 45.108264703000032, 32.484276812000076 ], [ 45.087427996000031, 32.488332853000031 ], [ 45.069796936000046, 32.497796237000045 ], [ 45.06659128900003, 32.518071563000035 ], [ 45.071399760000077, 32.528883201000042 ], [ 45.079413878000025, 32.542395919000057 ], [ 45.093839290000062, 32.558608496000033 ], [ 45.116278821000037, 32.573467452000045 ], [ 45.137115528000038, 32.580220710000049 ], [ 45.151540940000075, 32.597776798000041 ], [ 45.146732469000028, 32.60722865200006 ], [ 45.103456232000042, 32.60722865200006 ], [ 45.084222349000072, 32.608578836000049 ], [ 45.064988465000056, 32.62207955100007 ], [ 45.058577171000081, 32.669316018000075 ], [ 45.063385642000071, 32.680109421000054 ], [ 45.082619525000041, 32.696297080000079 ], [ 45.079413878000025, 32.70304107100003 ], [ 45.063385642000071, 32.707087222000041 ], [ 45.04254893500007, 32.709784553000077 ], [ 45.018506581000054, 32.717876059000048 ], [ 44.997669874000053, 32.735405137000043 ], [ 44.988052932000073, 32.747538633000033 ], [ 44.957599284000025, 32.779886543000032 ], [ 44.936762577000081, 32.797403419000034 ], [ 44.91432304600005, 32.809528466000074 ], [ 44.874252456000079, 32.814916845000027 ], [ 44.835784690000025, 32.821651860000031 ], [ 44.80853668900005, 32.835120356000061 ], [ 44.752437862000079, 32.880897962000063 ], [ 44.741218097000058, 32.915888421000034 ], [ 44.728395508000062, 32.929342609000059 ], [ 44.678707977000045, 32.933378467000068 ], [ 44.654665623000028, 32.925306568000053 ], [ 44.632226092000053, 32.910506174000034 ], [ 44.593758326000057, 32.913197338000032 ], [ 44.571318795000025, 32.923961180000049 ], [ 44.568113148000066, 32.936068936000026 ], [ 44.556893383000045, 32.953554992000079 ], [ 44.53445385200007, 32.973726912000075 ], [ 44.513617145000069, 32.981794390000061 ], [ 44.500794557000063, 32.989861131000055 ], [ 44.495986086000073, 33.000615639000046 ], [ 44.492780439000057, 33.018088919000036 ], [ 44.500794557000063, 33.032871298000032 ], [ 44.515219969000043, 33.039589742000032 ], [ 44.531248205000054, 33.040933369000072 ], [ 44.548879265000039, 33.050338186000033 ], [ 44.552084912000055, 33.062428617000023 ], [ 44.550482088000081, 33.079889642000069 ], [ 44.548879265000039, 33.102718061000076 ], [ 44.556893383000045, 33.116143773000033 ], [ 44.568113148000066, 33.129567433000034 ], [ 44.566510324000035, 33.142989042000067 ], [ 44.556893383000045, 33.176534082000046 ], [ 44.545673617000034, 33.192631142000039 ], [ 44.528042558000038, 33.202019728000039 ], [ 44.507205851000037, 33.212748308000073 ], [ 44.495986086000073, 33.224816388000079 ], [ 44.492780439000057, 33.240904572000034 ], [ 44.492780439000057, 33.256989796000028 ], [ 44.483163497000078, 33.275752148000038 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.449504201000025, 33.275752148000038 ], [ 44.419050553000034, 33.275752148000038 ], [ 44.396611022000059, 33.269051771000079 ], [ 44.370965845000057, 33.256989796000028 ], [ 44.350129138000057, 33.24894755400004 ], [ 44.324483960000066, 33.242245120000064 ], [ 44.289221841000028, 33.234201522000035 ], [ 44.252356898000073, 33.230179445000033 ], [ 44.228314544000057, 33.231520158000023 ], [ 44.201066542000035, 33.238223414000061 ], [ 44.15939312900008, 33.258330098000044 ], [ 44.125232951000044, 33.29317072300006 ], [ 43.942410883000036, 33.29317072300006 ], [ 43.919871176000072, 33.284796842000048 ], [ 43.907349117000081, 33.259670379000056 ], [ 43.917366764000064, 33.240820787000075 ], [ 43.942410883000036, 33.230347035000079 ], [ 43.967455002000065, 33.196822599000029 ], [ 43.979977062000046, 33.194726896000077 ], [ 44.00001235700006, 33.213586423000038 ], [ 44.030065299000057, 33.194726896000077 ], [ 44.050100594000071, 33.175863307000043 ], [ 44.072640301000035, 33.150705537000078 ], [ 44.090171184000042, 33.127637908000054 ], [ 44.095180008000057, 33.100368350000053 ], [ 44.097684420000064, 33.073090328000035 ], [ 44.097684420000064, 33.039505764000069 ], [ 44.097684420000064, 32.99960746000005 ], [ 44.107702068000037, 32.953386873000056 ], [ 44.10519765600003, 32.91765440000006 ], [ 44.080153537000058, 32.875597721000076 ], [ 44.062622654000052, 32.797740248000025 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Baghdad", "shapeISO": "IQ-BG", "shapeID": "90741666B78865175105083", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.125232951000044, 33.29317072300006 ], [ 44.15939312900008, 33.258330098000044 ], [ 44.201066542000035, 33.238223414000061 ], [ 44.228314544000057, 33.231520158000023 ], [ 44.252356898000073, 33.230179445000033 ], [ 44.289221841000028, 33.234201522000035 ], [ 44.324483960000066, 33.242245120000064 ], [ 44.350129138000057, 33.24894755400004 ], [ 44.370965845000057, 33.256989796000028 ], [ 44.396611022000059, 33.269051771000079 ], [ 44.419050553000034, 33.275752148000038 ], [ 44.449504201000025, 33.275752148000038 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.523234087000048, 33.279772128000047 ], [ 44.542467970000075, 33.283791923000024 ], [ 44.56490750100005, 33.289151361000052 ], [ 44.580935737000061, 33.295850195000071 ], [ 44.592155502000026, 33.306567261000055 ], [ 44.598566796000057, 33.318622385000026 ], [ 44.596963973000072, 33.329336652000052 ], [ 44.598566796000057, 33.385564935000048 ], [ 44.595361149000041, 33.409651647000032 ], [ 44.593758326000057, 33.437744371000065 ], [ 44.590552678000051, 33.457805036000025 ], [ 44.55368773500004, 33.492565863000038 ], [ 44.345320667000067, 33.495239195000067 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.260471192000068, 33.433313682000062 ], [ 44.125232951000044, 33.29317072300006 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Qadisiyah", "shapeISO": "IQ-QA", "shapeID": "90741666B96348295205066", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.775333671000055, 31.409131973000058 ], [ 44.821359277000056, 31.404388932000074 ], [ 44.827770572000077, 31.400284760000034 ], [ 44.843798808000031, 31.38933942400007 ], [ 44.855018573000052, 31.377024396000024 ], [ 44.867841162000047, 31.360601848000044 ], [ 44.882266574000028, 31.340069627000048 ], [ 44.89989763400007, 31.322271411000031 ], [ 44.923939988000029, 31.308578186000034 ], [ 44.955996460000051, 31.288034615000072 ], [ 44.964010578000057, 31.290774016000057 ], [ 44.978435991000026, 31.305839302000038 ], [ 44.986450109000032, 31.319532925000033 ], [ 44.994464227000037, 31.349651888000039 ], [ 44.999272698000027, 31.367444925000029 ], [ 45.007286816000033, 31.381129585000053 ], [ 45.018506581000054, 31.401652837000029 ], [ 45.031329170000049, 31.418068209000069 ], [ 45.039343288000055, 31.431745491000072 ], [ 45.039343288000055, 31.44405333900005 ], [ 45.04254893500007, 31.459094069000059 ], [ 45.050563053000076, 31.472765364000054 ], [ 45.052165876000061, 31.489168283000026 ], [ 45.060179995000055, 31.508301387000074 ], [ 45.073002583000061, 31.524698073000025 ], [ 45.119484468000053, 31.569774121000023 ], [ 45.130704233000074, 31.587525372000073 ], [ 45.13871835100008, 31.60390814200008 ], [ 45.133909880000033, 31.616193328000065 ], [ 45.119484468000053, 31.627112132000036 ], [ 45.105059055000027, 31.640758836000032 ], [ 45.098647761000052, 31.653039157000023 ], [ 45.089030819000072, 31.663953636000031 ], [ 45.071399760000077, 31.683050889000071 ], [ 45.05697434700005, 31.693961841000032 ], [ 45.055371524000066, 31.703507872000046 ], [ 45.064988465000056, 31.711689402000047 ], [ 45.085825172000057, 31.713052921000042 ], [ 45.124292939000043, 31.711689402000047 ], [ 45.165966352000055, 31.708962306000046 ], [ 45.194817177000061, 31.710325864000026 ], [ 45.217256708000036, 31.721233609000024 ], [ 45.230079297000032, 31.744408305000036 ], [ 45.241299062000053, 31.767577204000077 ], [ 45.258930121000049, 31.774390482000058 ], [ 45.292589417000045, 31.76621448800006 ], [ 45.302206359000081, 31.756674915000076 ], [ 45.324645889000067, 31.751223289000052 ], [ 45.363113656000053, 31.751223289000052 ], [ 45.391964481000059, 31.744408305000036 ], [ 45.456077425000046, 31.73077683300005 ], [ 45.491339544000027, 31.723960345000023 ], [ 45.597125902000073, 31.693961841000032 ], [ 45.717337672000042, 31.656259061000071 ], [ 45.752022775000057, 31.647963487000027 ], [ 45.774590532000047, 31.646216957000036 ], [ 45.778693760000067, 31.649709986000062 ], [ 45.78279698800003, 31.654949283000064 ], [ 45.783822795000049, 31.663680789000068 ], [ 45.783822795000049, 31.670665404000033 ], [ 45.783822795000049, 31.682887214000061 ], [ 45.783822795000049, 31.69336177200006 ], [ 45.783822795000049, 31.706453306000071 ], [ 45.781771181000067, 31.717797808000057 ], [ 45.777667953000048, 31.731758366000065 ], [ 45.774590532000047, 31.753567528000076 ], [ 45.769461496000076, 31.786707615000068 ], [ 45.765358268000057, 31.803273206000028 ], [ 45.759203425000067, 31.828551804000028 ], [ 45.754074389000039, 31.839881343000059 ], [ 45.740738897000028, 31.854694795000057 ], [ 45.728429212000037, 31.867763512000067 ], [ 45.721248562000028, 31.87560385300003 ], [ 45.717145334000065, 31.95135940800003 ], [ 45.714067912000075, 31.985298537000062 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.704835648000028, 32.001828439000064 ], [ 45.696629191000056, 32.013136655000039 ], [ 45.691500156000075, 32.023573769000052 ], [ 45.690474349000056, 32.040096770000048 ], [ 45.684319506000065, 32.053139137000073 ], [ 45.679190471000027, 32.068787525000062 ], [ 45.672009821000074, 32.081825803000072 ], [ 45.664829171000065, 32.089647877000061 ], [ 45.645338836000064, 32.107896780000033 ], [ 45.622771080000064, 32.14612075000008 ], [ 45.589945252000064, 32.186065047000056 ], [ 45.545835547000081, 32.228595135000035 ], [ 45.489416156000061, 32.273707349000063 ], [ 45.478132278000032, 32.290185066000049 ], [ 45.466848399000071, 32.306659789000037 ], [ 45.440177415000051, 32.320530917000042 ], [ 45.42068708000005, 32.331799644000057 ], [ 45.405299973000069, 32.33873354900004 ], [ 45.385809638000069, 32.347400182000058 ], [ 45.376577374000078, 32.356065985000043 ], [ 45.370422531000031, 32.364730958000052 ], [ 45.357087039000078, 32.379459506000046 ], [ 45.337596704000077, 32.395051823000074 ], [ 45.312977333000049, 32.407177319000027 ], [ 45.293486998000049, 32.413239457000032 ], [ 45.266816014000028, 32.41930118700003 ], [ 45.252454714000066, 32.424496632000057 ], [ 45.222706308000056, 32.426228380000055 ], [ 45.188854673000037, 32.441812619000075 ], [ 45.157952234000049, 32.45587941000008 ], [ 45.143526822000069, 32.435590069000057 ], [ 45.125895762000027, 32.423414272000059 ], [ 45.111470350000047, 32.418002279000063 ], [ 45.098647761000052, 32.412589962000027 ], [ 45.081016701000067, 32.407177319000027 ], [ 45.069796936000046, 32.400411060000067 ], [ 45.06659128900003, 32.389583990000062 ], [ 45.06178281800004, 32.376048328000024 ], [ 45.053768700000035, 32.36251063800006 ], [ 45.04254893500007, 32.350324983000064 ], [ 45.031329170000049, 32.343554466000057 ], [ 44.991258580000078, 32.339491912000028 ], [ 44.980038814000068, 32.325948749000077 ], [ 44.960804931000041, 32.296146660000034 ], [ 44.946379519000061, 32.286662122000052 ], [ 44.93035128300005, 32.281241940000029 ], [ 44.907911752000075, 32.274466257000029 ], [ 44.893486340000038, 32.269045346000041 ], [ 44.877458104000027, 32.267690068000036 ], [ 44.863032691000058, 32.266334770000071 ], [ 44.847004455000047, 32.259557973000028 ], [ 44.829373395000061, 32.227022310000052 ], [ 44.829373395000061, 32.205325395000045 ], [ 44.830976219000036, 32.189049311000076 ], [ 44.830976219000036, 32.171413603000076 ], [ 44.830976219000036, 32.15513145500006 ], [ 44.826167748000046, 32.140203598000028 ], [ 44.805331041000045, 32.132060101000036 ], [ 44.771671746000038, 32.132060101000036 ], [ 44.746026568000048, 32.133417401000031 ], [ 44.721984214000031, 32.144275074000063 ], [ 44.704353154000046, 32.148346369000024 ], [ 44.673899506000055, 32.149703427000077 ], [ 44.649857152000038, 32.153774479000049 ], [ 44.635431739000069, 32.161916037000026 ], [ 44.621006327000032, 32.170056868000074 ], [ 44.608183738000037, 32.168700113000057 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.587347031000036, 32.178196972000023 ], [ 44.584141384000077, 32.16734333900007 ], [ 44.558496206000029, 32.153774479000049 ], [ 44.544070794000049, 32.14291793600006 ], [ 44.526439734000064, 32.130702780000036 ], [ 44.516822793000074, 32.113055779000035 ], [ 44.515219969000043, 32.094047500000045 ], [ 44.515219969000043, 32.072318909000046 ], [ 44.512014322000027, 32.05330215500004 ], [ 44.512014322000027, 32.032922675000066 ], [ 44.512014322000027, 32.020692810000071 ], [ 44.516822793000074, 31.99758749800003 ], [ 44.523234087000048, 31.977195623000057 ], [ 44.532851029000028, 31.958159116000047 ], [ 44.547276441000065, 31.941838970000049 ], [ 44.561701853000045, 31.921434711000074 ], [ 44.56490750100005, 31.905108043000041 ], [ 44.556893383000045, 31.886056603000043 ], [ 44.539262323000059, 31.877890493000052 ], [ 44.518425616000059, 31.867001221000066 ], [ 44.504000204000079, 31.856110662000049 ], [ 44.502397380000048, 31.839772412000059 ], [ 44.513617145000069, 31.804362944000047 ], [ 44.520028440000033, 31.788015533000078 ], [ 44.513617145000069, 31.771665231000043 ], [ 44.491177615000026, 31.759400608000078 ], [ 44.478355026000031, 31.747134359000029 ], [ 44.478355026000031, 31.73214007100006 ], [ 44.489574791000052, 31.713052921000042 ], [ 44.497588909000058, 31.699416836000069 ], [ 44.512014322000027, 31.674866832000077 ], [ 44.515219969000043, 31.651674757000023 ], [ 44.513617145000069, 31.636665035000078 ], [ 44.489574791000052, 31.629841633000069 ], [ 44.455915496000046, 31.627112132000036 ], [ 44.444695730000035, 31.625747352000076 ], [ 44.44309290700005, 31.610733445000051 ], [ 44.44309290700005, 31.595717117000049 ], [ 44.462326790000077, 31.564311517000078 ], [ 44.475149379000072, 31.549287707000076 ], [ 44.489574791000052, 31.531529177000039 ], [ 44.504000204000079, 31.517866470000058 ], [ 44.516822793000074, 31.504201766000051 ], [ 44.521631263000074, 31.493268564000061 ], [ 44.52964538100008, 31.479600263000066 ], [ 44.537659499000029, 31.465929966000033 ], [ 44.550482088000081, 31.453624992000073 ], [ 44.572921619000056, 31.44405333900005 ], [ 44.612992209000026, 31.438583384000026 ], [ 44.640240210000059, 31.437215845000026 ], [ 44.667488211000034, 31.431745491000072 ], [ 44.68191362400006, 31.424907099000052 ], [ 44.712367272000051, 31.420803825000064 ], [ 44.758849157000043, 31.422171603000038 ], [ 44.77327456900008, 31.41396463500007 ], [ 44.775333671000055, 31.409131973000058 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Muthanna", "shapeISO": "IQ-MU", "shapeID": "90741666B65782159470120", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.813614360613677, 29.850955358773959 ], [ 43.914862353000046, 29.765502188000028 ], [ 44.727241475000028, 29.13533424700006 ], [ 44.965228724000042, 29.114723861000073 ], [ 45.349420784000074, 29.084658041000068 ], [ 45.482467665000058, 29.07439841300004 ], [ 45.666385413000057, 29.064137764000066 ], [ 46.026394621000065, 29.026506647000076 ], [ 46.456840413000066, 28.99912994400006 ], [ 46.570321576000026, 29.033349689000033 ], [ 46.571063096000046, 29.06360058000007 ], [ 46.573245477000057, 29.152581068000075 ], [ 46.590876537000042, 29.313430266000069 ], [ 46.611713244000043, 29.33858377200005 ], [ 46.622933009000064, 29.349761117000071 ], [ 46.643769716000065, 29.376302396000028 ], [ 46.653386657000055, 29.398647580000045 ], [ 46.65498948100003, 29.416799428000047 ], [ 46.651783834000071, 29.427968184000065 ], [ 46.646975363000081, 29.443323219000035 ], [ 46.64537253900005, 29.580020019000074 ], [ 46.65498948100003, 29.64690613700003 ], [ 46.671017717000041, 29.730451324000057 ], [ 46.680634659000077, 29.758284278000076 ], [ 46.688648777000026, 29.780545077000056 ], [ 46.701471366000078, 29.822270737000053 ], [ 46.712691131000042, 29.884826576000023 ], [ 46.730322190000038, 29.98622259900003 ], [ 46.735130661000028, 30.012596389000066 ], [ 46.744747603000064, 30.040350699000044 ], [ 46.746350426000049, 30.160991448000061 ], [ 46.719102425000074, 30.208098360000065 ], [ 46.677429011000072, 30.256567227000062 ], [ 46.656592305000061, 30.285637074000078 ], [ 46.638961245000075, 30.31469831000004 ], [ 46.627741480000054, 30.343750930000056 ], [ 46.624535833000039, 30.356199414000059 ], [ 46.611713244000043, 30.374177762000045 ], [ 46.606904773000053, 30.400447861000032 ], [ 46.605301949000079, 30.437766901000032 ], [ 46.605301949000079, 30.462638330000061 ], [ 46.600493478000033, 30.486122183000077 ], [ 46.584465242000078, 30.502695611000036 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.573245477000057, 30.513742993000051 ], [ 46.557217241000046, 30.516504643000076 ], [ 46.52355794500005, 30.523408423000035 ], [ 46.50913253300007, 30.538595014000066 ], [ 46.497912768000049, 30.55653974300003 ], [ 46.483487355000079, 30.578621008000027 ], [ 46.462650648000078, 30.611733478000076 ], [ 46.408154646000071, 30.680681431000039 ], [ 46.388920763000044, 30.699978045000023 ], [ 46.361672761000079, 30.722026594000056 ], [ 46.324807818000068, 30.745447655000078 ], [ 46.28954569900003, 30.768863021000072 ], [ 46.249475109000059, 30.79778002200004 ], [ 46.204596048000042, 30.801910312000075 ], [ 46.090795572000047, 30.803287036000029 ], [ 46.005845921000059, 30.804663740000024 ], [ 45.920896270000071, 30.814300118000062 ], [ 45.810301441000036, 30.830817373000059 ], [ 45.672458611000081, 30.840451126000062 ], [ 45.650019081000039, 30.855587928000034 ], [ 45.638799316000075, 30.870722341000032 ], [ 45.635593669000059, 30.924361455000053 ], [ 45.635593669000059, 30.949107831000049 ], [ 45.635593669000059, 30.975222054000028 ], [ 45.640402139000059, 30.987589456000023 ], [ 45.669252964000066, 30.999955256000078 ], [ 45.690089671000067, 31.015066833000049 ], [ 45.701309436000031, 31.035669668000025 ], [ 45.707720731000052, 31.054894959000023 ], [ 45.710926378000067, 31.075489176000076 ], [ 45.718940496000073, 31.093333890000054 ], [ 45.742982850000033, 31.109802959000035 ], [ 45.762216733000059, 31.127641227000026 ], [ 45.762216733000059, 31.145476142000064 ], [ 45.76862802800008, 31.214040699000066 ], [ 45.762216733000059, 31.233229874000074 ], [ 45.750996968000038, 31.24556371500006 ], [ 45.742982850000033, 31.277076213000043 ], [ 45.742982850000033, 31.301730826000039 ], [ 45.750996968000038, 31.315425047000076 ], [ 45.762216733000059, 31.33322455800004 ], [ 45.759011086000044, 31.351020703000074 ], [ 45.747791321000079, 31.360601848000044 ], [ 45.725351790000047, 31.367444925000029 ], [ 45.728557438000053, 31.382497941000054 ], [ 45.741380026000058, 31.397548546000053 ], [ 45.757408262000069, 31.41396463500007 ], [ 45.770230851000065, 31.435848286000066 ], [ 45.779847793000044, 31.456359571000064 ], [ 45.779847793000044, 31.471398325000052 ], [ 45.779847793000044, 31.489168283000026 ], [ 45.779847793000044, 31.506934866000051 ], [ 45.779847793000044, 31.527430575000039 ], [ 45.779847793000044, 31.549287707000076 ], [ 45.781450617000075, 31.576601925000034 ], [ 45.78786191100005, 31.597082338000064 ], [ 45.79747885300003, 31.616193328000065 ], [ 45.795876029000055, 31.632571054000039 ], [ 45.774590532000047, 31.646216957000036 ], [ 45.752022775000057, 31.647963487000027 ], [ 45.717337672000042, 31.656259061000071 ], [ 45.597125902000073, 31.693961841000032 ], [ 45.491339544000027, 31.723960345000023 ], [ 45.456077425000046, 31.73077683300005 ], [ 45.391964481000059, 31.744408305000036 ], [ 45.363113656000053, 31.751223289000052 ], [ 45.324645889000067, 31.751223289000052 ], [ 45.302206359000081, 31.756674915000076 ], [ 45.292589417000045, 31.76621448800006 ], [ 45.258930121000049, 31.774390482000058 ], [ 45.241299062000053, 31.767577204000077 ], [ 45.230079297000032, 31.744408305000036 ], [ 45.217256708000036, 31.721233609000024 ], [ 45.194817177000061, 31.710325864000026 ], [ 45.165966352000055, 31.708962306000046 ], [ 45.124292939000043, 31.711689402000047 ], [ 45.085825172000057, 31.713052921000042 ], [ 45.064988465000056, 31.711689402000047 ], [ 45.055371524000066, 31.703507872000046 ], [ 45.05697434700005, 31.693961841000032 ], [ 45.071399760000077, 31.683050889000071 ], [ 45.089030819000072, 31.663953636000031 ], [ 45.098647761000052, 31.653039157000023 ], [ 45.105059055000027, 31.640758836000032 ], [ 45.119484468000053, 31.627112132000036 ], [ 45.133909880000033, 31.616193328000065 ], [ 45.13871835100008, 31.60390814200008 ], [ 45.130704233000074, 31.587525372000073 ], [ 45.119484468000053, 31.569774121000023 ], [ 45.073002583000061, 31.524698073000025 ], [ 45.060179995000055, 31.508301387000074 ], [ 45.052165876000061, 31.489168283000026 ], [ 45.050563053000076, 31.472765364000054 ], [ 45.04254893500007, 31.459094069000059 ], [ 45.039343288000055, 31.44405333900005 ], [ 45.039343288000055, 31.431745491000072 ], [ 45.031329170000049, 31.418068209000069 ], [ 45.018506581000054, 31.401652837000029 ], [ 45.007286816000033, 31.381129585000053 ], [ 44.999272698000027, 31.367444925000029 ], [ 44.994464227000037, 31.349651888000039 ], [ 44.986450109000032, 31.319532925000033 ], [ 44.978435991000026, 31.305839302000038 ], [ 44.964010578000057, 31.290774016000057 ], [ 44.955996460000051, 31.288034615000072 ], [ 44.923939988000029, 31.308578186000034 ], [ 44.89989763400007, 31.322271411000031 ], [ 44.882266574000028, 31.340069627000048 ], [ 44.867841162000047, 31.360601848000044 ], [ 44.855018573000052, 31.377024396000024 ], [ 44.843798808000031, 31.38933942400007 ], [ 44.827770572000077, 31.400284760000034 ], [ 44.821359277000056, 31.404388932000074 ], [ 44.775333671000055, 31.409131973000058 ], [ 44.779685864000044, 31.39891666300008 ], [ 44.771671746000038, 31.378392812000072 ], [ 44.712367272000051, 31.260636223000063 ], [ 44.675502329000039, 31.194847629000037 ], [ 44.643445857000074, 31.142732528000067 ], [ 44.624211974000048, 31.127641227000026 ], [ 44.606580914000062, 31.108430646000045 ], [ 44.592155502000026, 31.083725614000059 ], [ 44.57933291300003, 31.045282799000063 ], [ 44.571318795000025, 30.984841283000037 ], [ 44.563304677000076, 30.964227462000053 ], [ 44.552084912000055, 30.935360635000052 ], [ 44.545673617000034, 30.916111240000077 ], [ 44.53445385200007, 30.892731767000043 ], [ 44.454312672000071, 30.806040425000049 ], [ 44.362951727000052, 30.711002950000079 ], [ 44.278002075000074, 30.629664674000026 ], [ 44.257165369000063, 30.607595038000056 ], [ 44.152981834000059, 30.412889127000028 ], [ 44.116116891000047, 30.321616382000059 ], [ 44.109705597000072, 30.293941164000046 ], [ 44.096883008000077, 30.264873776000059 ], [ 44.088868890000072, 30.245490736000079 ], [ 44.080854772000066, 30.223334007000062 ], [ 44.071237831000076, 30.203942774000041 ], [ 44.039181358000064, 30.134657188000062 ], [ 44.031167240000059, 30.115248500000064 ], [ 44.011933357000032, 30.095835997000052 ], [ 43.95583453100005, 30.034800458000063 ], [ 43.898132881000038, 29.954287058000034 ], [ 43.814786054000081, 29.850078172000053 ], [ 43.813584493000064, 29.850980567000079 ], [ 43.813614360613677, 29.850955358773959 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Dhi Qar", "shapeISO": "IQ-DQ", "shapeID": "90741666B18034483497899", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 45.774590532000047, 31.646216957000036 ], [ 45.795876029000055, 31.632571054000039 ], [ 45.79747885300003, 31.616193328000065 ], [ 45.78786191100005, 31.597082338000064 ], [ 45.781450617000075, 31.576601925000034 ], [ 45.779847793000044, 31.549287707000076 ], [ 45.779847793000044, 31.527430575000039 ], [ 45.779847793000044, 31.506934866000051 ], [ 45.779847793000044, 31.489168283000026 ], [ 45.779847793000044, 31.471398325000052 ], [ 45.779847793000044, 31.456359571000064 ], [ 45.770230851000065, 31.435848286000066 ], [ 45.757408262000069, 31.41396463500007 ], [ 45.741380026000058, 31.397548546000053 ], [ 45.728557438000053, 31.382497941000054 ], [ 45.725351790000047, 31.367444925000029 ], [ 45.747791321000079, 31.360601848000044 ], [ 45.759011086000044, 31.351020703000074 ], [ 45.762216733000059, 31.33322455800004 ], [ 45.750996968000038, 31.315425047000076 ], [ 45.742982850000033, 31.301730826000039 ], [ 45.742982850000033, 31.277076213000043 ], [ 45.750996968000038, 31.24556371500006 ], [ 45.762216733000059, 31.233229874000074 ], [ 45.76862802800008, 31.214040699000066 ], [ 45.762216733000059, 31.145476142000064 ], [ 45.762216733000059, 31.127641227000026 ], [ 45.742982850000033, 31.109802959000035 ], [ 45.718940496000073, 31.093333890000054 ], [ 45.710926378000067, 31.075489176000076 ], [ 45.707720731000052, 31.054894959000023 ], [ 45.701309436000031, 31.035669668000025 ], [ 45.690089671000067, 31.015066833000049 ], [ 45.669252964000066, 30.999955256000078 ], [ 45.640402139000059, 30.987589456000023 ], [ 45.635593669000059, 30.975222054000028 ], [ 45.635593669000059, 30.949107831000049 ], [ 45.635593669000059, 30.924361455000053 ], [ 45.638799316000075, 30.870722341000032 ], [ 45.650019081000039, 30.855587928000034 ], [ 45.672458611000081, 30.840451126000062 ], [ 45.810301441000036, 30.830817373000059 ], [ 45.920896270000071, 30.814300118000062 ], [ 46.005845921000059, 30.804663740000024 ], [ 46.090795572000047, 30.803287036000029 ], [ 46.204596048000042, 30.801910312000075 ], [ 46.249475109000059, 30.79778002200004 ], [ 46.28954569900003, 30.768863021000072 ], [ 46.324807818000068, 30.745447655000078 ], [ 46.361672761000079, 30.722026594000056 ], [ 46.388920763000044, 30.699978045000023 ], [ 46.408154646000071, 30.680681431000039 ], [ 46.462650648000078, 30.611733478000076 ], [ 46.483487355000079, 30.578621008000027 ], [ 46.497912768000049, 30.55653974300003 ], [ 46.50913253300007, 30.538595014000066 ], [ 46.52355794500005, 30.523408423000035 ], [ 46.557217241000046, 30.516504643000076 ], [ 46.573245477000057, 30.513742993000051 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.594583066000041, 30.534280883000065 ], [ 46.727316896000048, 30.566632194000078 ], [ 46.842519843000048, 30.605439531000059 ], [ 46.907634552000047, 30.631302455000025 ], [ 46.960227201000066, 30.644231325000078 ], [ 46.995288968000068, 30.644231325000078 ], [ 47.017828675000032, 30.635612270000024 ], [ 47.050386029000038, 30.605439531000059 ], [ 47.097969855000031, 30.594661274000032 ], [ 47.105483090000064, 30.611905909000029 ], [ 47.105483090000064, 30.633457386000032 ], [ 47.097969855000031, 30.650695112000051 ], [ 47.090456619000065, 30.661467131000052 ], [ 47.082943383000043, 30.674391968000066 ], [ 47.09546544300008, 30.704543197000078 ], [ 47.107987502000071, 30.723921156000074 ], [ 47.107987502000071, 30.743295221000039 ], [ 47.110491914000079, 30.775576671000067 ], [ 47.12301397400006, 30.801394035000044 ], [ 47.133031621000043, 30.833655990000068 ], [ 47.130527209000036, 30.865907105000076 ], [ 47.138040445000058, 31.162107607000053 ], [ 47.066081679000035, 31.159412479000025 ], [ 46.999404217000063, 31.154145443000061 ], [ 46.991197760000034, 31.150633923000044 ], [ 46.976836461000062, 31.138342579000039 ], [ 46.89272027800007, 31.140098583000054 ], [ 46.863997679000079, 31.146244340000067 ], [ 46.84655895800006, 31.152389700000072 ], [ 46.83630088700005, 31.165556985000023 ], [ 46.829120237000041, 31.176089495000042 ], [ 46.81988797300005, 31.191008547000024 ], [ 46.805526674000077, 31.203293059000032 ], [ 46.785010532000058, 31.208557362000079 ], [ 46.773726654000029, 31.217330549000053 ], [ 46.766546004000077, 31.226980114000071 ], [ 46.761416968000049, 31.241891140000064 ], [ 46.76039116100003, 31.253292102000046 ], [ 46.759365354000067, 31.326050391000024 ], [ 46.750133090000077, 31.338317337000035 ], [ 46.736797598000067, 31.347078463000059 ], [ 46.718333070000028, 31.355838772000027 ], [ 46.695765314000028, 31.36459826600003 ], [ 46.680378207000047, 31.375108580000074 ], [ 46.635242694000056, 31.40313033800004 ], [ 46.632165273000055, 31.404881420000038 ], [ 46.616778166000074, 31.418013495000025 ], [ 46.607545902000027, 31.432019016000027 ], [ 46.605494288000045, 31.442521784000064 ], [ 46.603442674000064, 31.453898454000068 ], [ 46.603442674000064, 31.467023664000067 ], [ 46.609597517000054, 31.478397357000063 ], [ 46.614726552000036, 31.488020172000063 ], [ 46.618829781000045, 31.496767327000043 ], [ 46.618829781000045, 31.505513664000034 ], [ 46.619855588000064, 31.530873413000052 ], [ 46.615752359000055, 31.546610484000041 ], [ 46.609597517000054, 31.562344901000074 ], [ 46.598313638000036, 31.57632882200005 ], [ 46.588055567000026, 31.582446128000072 ], [ 46.563436197000044, 31.596427034000044 ], [ 46.548049090000063, 31.61215304600006 ], [ 46.535739405000072, 31.623509068000033 ], [ 46.530610369000044, 31.635737082000048 ], [ 46.526507141000081, 31.647090226000046 ], [ 46.501887770000053, 31.668046235000077 ], [ 46.48444905000008, 31.681141340000067 ], [ 46.469061943000042, 31.69336177200006 ], [ 46.455726451000032, 31.709944070000063 ], [ 46.447519994000061, 31.732630831000051 ], [ 46.437261923000051, 31.811990746000049 ], [ 46.430081273000042, 31.837266958000043 ], [ 46.423926430000051, 31.854694795000057 ], [ 46.412642552000079, 31.879959309000071 ], [ 46.38186833900005, 31.926114488000053 ], [ 46.360326390000068, 31.93569096300007 ], [ 46.339810247000059, 31.947007330000076 ], [ 46.320319912000059, 31.959192628000039 ], [ 46.31621668400004, 31.971376310000039 ], [ 46.320319912000059, 31.980077949000076 ], [ 46.34904251100005, 31.982688280000048 ], [ 46.373661882000079, 31.985298537000062 ], [ 46.376739303000079, 31.988778764000074 ], [ 46.374687689000041, 32.003568255000062 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.354171547000078, 32.014876256000036 ], [ 46.330577983000069, 32.014876256000036 ], [ 46.317242491000059, 32.013136655000039 ], [ 46.227997273000028, 32.010527190000062 ], [ 46.077203628000063, 32.010527190000062 ], [ 45.837164765000068, 32.007917651000071 ], [ 45.776642146000029, 32.007917651000071 ], [ 45.750996968000038, 32.004438151000045 ], [ 45.738687283000047, 31.996608792000075 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.714067912000075, 31.985298537000062 ], [ 45.717145334000065, 31.95135940800003 ], [ 45.721248562000028, 31.87560385300003 ], [ 45.728429212000037, 31.867763512000067 ], [ 45.740738897000028, 31.854694795000057 ], [ 45.754074389000039, 31.839881343000059 ], [ 45.759203425000067, 31.828551804000028 ], [ 45.765358268000057, 31.803273206000028 ], [ 45.769461496000076, 31.786707615000068 ], [ 45.774590532000047, 31.753567528000076 ], [ 45.777667953000048, 31.731758366000065 ], [ 45.781771181000067, 31.717797808000057 ], [ 45.783822795000049, 31.706453306000071 ], [ 45.783822795000049, 31.69336177200006 ], [ 45.783822795000049, 31.682887214000061 ], [ 45.783822795000049, 31.670665404000033 ], [ 45.783822795000049, 31.663680789000068 ], [ 45.78279698800003, 31.654949283000064 ], [ 45.778693760000067, 31.649709986000062 ], [ 45.774590532000047, 31.646216957000036 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Basrah", "shapeISO": "IQ-BA", "shapeID": "90741666B36076314760085", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 46.571063096000046, 29.06360058000007 ], [ 46.599591890000056, 29.071799145000057 ], [ 46.614618361000055, 29.082742988000064 ], [ 46.634653657000058, 29.102438975000041 ], [ 46.652184540000064, 29.117755471000066 ], [ 46.664706599000056, 29.128694429000063 ], [ 46.682237482000062, 29.144007016000046 ], [ 46.699768365000068, 29.165878181000039 ], [ 46.712290425000049, 29.178998645000036 ], [ 46.739838956000028, 29.211792463000052 ], [ 46.804953665000028, 29.307927110000037 ], [ 46.832502195000075, 29.338496444000043 ], [ 46.855041902000039, 29.364691437000033 ], [ 46.865059550000069, 29.382151024000052 ], [ 46.870068373000038, 29.408334787000058 ], [ 46.902625728000032, 29.480305356000031 ], [ 46.910138964000055, 29.502104540000062 ], [ 46.920156611000039, 29.530436464000047 ], [ 46.935183082000037, 29.563117288000058 ], [ 46.960227201000066, 29.591432118000057 ], [ 47.005306615000052, 29.676328926000053 ], [ 47.010315439000067, 29.695910330000061 ], [ 47.015324263000025, 29.728537524000046 ], [ 47.025341910000066, 29.754631643000039 ], [ 47.035359558000039, 29.776371554000036 ], [ 47.045377205000079, 29.793760086000077 ], [ 47.060403677000068, 29.819837218000032 ], [ 47.082943383000043, 29.858940164000046 ], [ 47.105483090000064, 29.937100102000045 ], [ 47.173102211000071, 30.023872514000061 ], [ 47.20065074200005, 30.039049889000069 ], [ 47.23821692000007, 30.049889448000044 ], [ 47.273278686000026, 30.058560241000066 ], [ 47.308340453000028, 30.067230275000043 ], [ 47.340897807000033, 30.082401006000055 ], [ 47.363437514000054, 30.097569411000052 ], [ 47.390986045000034, 30.106236026000033 ], [ 47.73158606100003, 30.091068951000068 ], [ 47.954478718000075, 29.995679797000037 ], [ 47.996552838000071, 29.988999118000038 ], [ 48.007772603000035, 29.995940074000032 ], [ 48.025403663000077, 30.008432572000061 ], [ 48.051048841000068, 30.019535695000059 ], [ 48.067077077000079, 30.030637574000025 ], [ 48.111956138000039, 30.034800458000063 ], [ 48.134395668000082, 30.034800458000063 ], [ 48.164849317000062, 30.029249907000064 ], [ 48.185686023000073, 30.026474515000075 ], [ 48.198508612000069, 30.026474515000075 ], [ 48.228962261000049, 30.020923498000059 ], [ 48.26422438000003, 30.005656597000041 ], [ 48.309103441000047, 29.980669329000079 ], [ 48.36199662000007, 29.948732003000032 ], [ 48.414889799000036, 29.916784416000041 ], [ 48.475797096000065, 29.914005881000037 ], [ 48.499839450000081, 29.916784416000041 ], [ 48.530293098000072, 29.912616584000034 ], [ 48.563952394000069, 29.900112040000067 ], [ 48.583186277000038, 29.901501511000049 ], [ 48.607228631000055, 29.914005881000037 ], [ 48.607228631000055, 29.919562875000054 ], [ 48.587994748000028, 29.927897784000038 ], [ 48.563952394000069, 29.945954359000041 ], [ 48.543115687000068, 29.955675773000053 ], [ 48.522278980000067, 29.965396236000061 ], [ 48.501442273000066, 29.973727305000068 ], [ 48.48861968500006, 29.980669329000079 ], [ 48.474194272000034, 29.987610868000047 ], [ 48.45816603600008, 29.995940074000032 ], [ 48.448549095000033, 30.009820531000059 ], [ 48.443740624000043, 30.051450247000048 ], [ 48.437329329000079, 30.073645611000074 ], [ 48.429315211000073, 30.091675679000048 ], [ 48.416492622000078, 30.104156108000041 ], [ 48.398861563000025, 30.11108899900006 ], [ 48.38603897400003, 30.127725952000048 ], [ 48.389244621000046, 30.142974030000062 ], [ 48.398861563000025, 30.155447977000051 ], [ 48.413286975000062, 30.167920347000063 ], [ 48.413286975000062, 30.181776686000035 ], [ 48.408478504000072, 30.20117228600003 ], [ 48.397258739000051, 30.210868653000034 ], [ 48.310706265000078, 30.296709037000028 ], [ 48.289869558000078, 30.317465598000069 ], [ 48.272238498000036, 30.335451061000072 ], [ 48.248196144000076, 30.335451061000072 ], [ 48.228962261000049, 30.32991742400003 ], [ 48.21453684800008, 30.322999938000066 ], [ 48.201714259000028, 30.331300863000024 ], [ 48.195302965000053, 30.34098438500007 ], [ 48.188891671000079, 30.352050095000038 ], [ 48.185686023000073, 30.368646314000046 ], [ 48.171260611000037, 30.41980025600003 ], [ 48.153629551000051, 30.437766901000032 ], [ 48.140806962000056, 30.444676268000023 ], [ 48.103942020000034, 30.455730236000079 ], [ 48.089516607000064, 30.464019890000031 ], [ 48.057460135000042, 30.486122183000077 ], [ 48.052651664000052, 30.497171449000064 ], [ 48.046240370000078, 30.508219459000031 ], [ 48.035020605000057, 30.568961073000025 ], [ 48.038226252000072, 30.595178657000076 ], [ 48.043034723000062, 30.615871741000035 ], [ 48.047843193000062, 30.643455642000049 ], [ 48.047843193000062, 30.662759693000055 ], [ 48.030212134000067, 31.005450652000036 ], [ 48.014183898000056, 31.015066833000049 ], [ 47.700030471000048, 31.00957199100003 ], [ 47.698427648000063, 31.038416376000043 ], [ 47.698427648000063, 31.050775581000039 ], [ 47.698427648000063, 31.069997821000072 ], [ 47.701633295000079, 31.094706422000058 ], [ 47.704838942000038, 31.12078075200003 ], [ 47.708044589000053, 31.146847920000027 ], [ 47.706441766000069, 31.171536523000043 ], [ 47.703236118000063, 31.189363179000054 ], [ 47.698427648000063, 31.278446083000063 ], [ 47.677590941000062, 31.281185763000053 ], [ 47.639123174000076, 31.285295134000023 ], [ 47.613477997000075, 31.286664884000061 ], [ 47.578215877000048, 31.286664884000061 ], [ 47.531733993000046, 31.288034615000072 ], [ 47.499677521000081, 31.289404326000067 ], [ 47.482046461000039, 31.294882969000071 ], [ 47.448387165000042, 31.298991743000045 ], [ 47.403508104000025, 31.300361295000073 ], [ 47.369848809000075, 31.300361295000073 ], [ 47.332983866000063, 31.297622172000047 ], [ 47.294516099000077, 31.292143687000078 ], [ 47.252842686000065, 31.285295134000023 ], [ 47.223991861000059, 31.272966484000051 ], [ 47.198346683000068, 31.253785381000057 ], [ 47.169495858000062, 31.227747650000026 ], [ 47.138040445000058, 31.162107607000053 ], [ 47.130527209000036, 30.865907105000076 ], [ 47.133031621000043, 30.833655990000068 ], [ 47.12301397400006, 30.801394035000044 ], [ 47.110491914000079, 30.775576671000067 ], [ 47.107987502000071, 30.743295221000039 ], [ 47.107987502000071, 30.723921156000074 ], [ 47.09546544300008, 30.704543197000078 ], [ 47.082943383000043, 30.674391968000066 ], [ 47.090456619000065, 30.661467131000052 ], [ 47.097969855000031, 30.650695112000051 ], [ 47.105483090000064, 30.633457386000032 ], [ 47.105483090000064, 30.611905909000029 ], [ 47.097969855000031, 30.594661274000032 ], [ 47.050386029000038, 30.605439531000059 ], [ 47.017828675000032, 30.635612270000024 ], [ 46.995288968000068, 30.644231325000078 ], [ 46.960227201000066, 30.644231325000078 ], [ 46.907634552000047, 30.631302455000025 ], [ 46.842519843000048, 30.605439531000059 ], [ 46.727316896000048, 30.566632194000078 ], [ 46.594583066000041, 30.534280883000065 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.584465242000078, 30.502695611000036 ], [ 46.600493478000033, 30.486122183000077 ], [ 46.605301949000079, 30.462638330000061 ], [ 46.605301949000079, 30.437766901000032 ], [ 46.606904773000053, 30.400447861000032 ], [ 46.611713244000043, 30.374177762000045 ], [ 46.624535833000039, 30.356199414000059 ], [ 46.627741480000054, 30.343750930000056 ], [ 46.638961245000075, 30.31469831000004 ], [ 46.656592305000061, 30.285637074000078 ], [ 46.677429011000072, 30.256567227000062 ], [ 46.719102425000074, 30.208098360000065 ], [ 46.746350426000049, 30.160991448000061 ], [ 46.744747603000064, 30.040350699000044 ], [ 46.735130661000028, 30.012596389000066 ], [ 46.730322190000038, 29.98622259900003 ], [ 46.712691131000042, 29.884826576000023 ], [ 46.701471366000078, 29.822270737000053 ], [ 46.688648777000026, 29.780545077000056 ], [ 46.680634659000077, 29.758284278000076 ], [ 46.671017717000041, 29.730451324000057 ], [ 46.65498948100003, 29.64690613700003 ], [ 46.64537253900005, 29.580020019000074 ], [ 46.646975363000081, 29.443323219000035 ], [ 46.651783834000071, 29.427968184000065 ], [ 46.65498948100003, 29.416799428000047 ], [ 46.653386657000055, 29.398647580000045 ], [ 46.643769716000065, 29.376302396000028 ], [ 46.622933009000064, 29.349761117000071 ], [ 46.611713244000043, 29.33858377200005 ], [ 46.590876537000042, 29.313430266000069 ], [ 46.573245477000057, 29.152581068000075 ], [ 46.571063096000046, 29.06360058000007 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Maysan", "shapeISO": "IQ-MA", "shapeID": "90741666B47130783728166", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 47.138040445000058, 31.162107607000053 ], [ 47.169495858000062, 31.227747650000026 ], [ 47.198346683000068, 31.253785381000057 ], [ 47.223991861000059, 31.272966484000051 ], [ 47.252842686000065, 31.285295134000023 ], [ 47.294516099000077, 31.292143687000078 ], [ 47.332983866000063, 31.297622172000047 ], [ 47.369848809000075, 31.300361295000073 ], [ 47.403508104000025, 31.300361295000073 ], [ 47.448387165000042, 31.298991743000045 ], [ 47.482046461000039, 31.294882969000071 ], [ 47.499677521000081, 31.289404326000067 ], [ 47.531733993000046, 31.288034615000072 ], [ 47.578215877000048, 31.286664884000061 ], [ 47.613477997000075, 31.286664884000061 ], [ 47.639123174000076, 31.285295134000023 ], [ 47.677590941000062, 31.281185763000053 ], [ 47.695537006000052, 31.278826159000062 ], [ 47.700030471000048, 31.407124947000057 ], [ 47.704838942000038, 31.424907099000052 ], [ 47.709647413000027, 31.446788197000046 ], [ 47.717661531000033, 31.46866418500008 ], [ 47.730484120000028, 31.493268564000061 ], [ 47.74330670900008, 31.513767269000027 ], [ 47.759334945000035, 31.539725841000063 ], [ 47.770554710000056, 31.56567719800006 ], [ 47.77696600400003, 31.584794630000033 ], [ 47.788185769000052, 31.609368425000071 ], [ 47.794597064000072, 31.629841633000069 ], [ 47.802611182000078, 31.663953636000031 ], [ 47.812228124000058, 31.688506525000037 ], [ 47.861658953000074, 31.790059117000055 ], [ 47.86415960800008, 31.857308687000057 ], [ 47.852875730000051, 31.865149917000053 ], [ 47.836462816000051, 31.872119339000051 ], [ 47.821075710000059, 31.876474961000042 ], [ 47.811843446000069, 31.888669605000075 ], [ 47.80979183200003, 31.899991758000056 ], [ 47.80774021700006, 31.913054050000028 ], [ 47.794404725000049, 31.93743203300005 ], [ 47.788249882000059, 31.946136890000048 ], [ 47.765682126000058, 31.952229798000076 ], [ 47.753372441000067, 31.96267384500004 ], [ 47.749269212000058, 31.978337687000078 ], [ 47.748243405000039, 31.993128862000049 ], [ 47.731830492000029, 32.003568255000062 ], [ 47.725675649000038, 32.014876256000036 ], [ 47.722598228000038, 32.028791881000075 ], [ 47.720546613000067, 32.048791888000039 ], [ 47.715417578000029, 32.059224940000036 ], [ 47.689772400000038, 32.066179646000023 ], [ 47.678488522000066, 32.081825803000072 ], [ 47.678488522000066, 32.097469282000077 ], [ 47.674385294000047, 32.111372348000032 ], [ 47.635404623000056, 32.138303514000029 ], [ 47.622069131000046, 32.150463370000068 ], [ 47.599501375000045, 32.166095088000077 ], [ 47.591294918000074, 32.156542690000038 ], [ 47.574882004000074, 32.155674241000042 ], [ 47.555391669000073, 32.161753213000054 ], [ 47.553340055000035, 32.177382994000027 ], [ 47.549236826000026, 32.214709946000028 ], [ 47.555391669000073, 32.223388438000029 ], [ 47.576933618000055, 32.236404622000066 ], [ 47.583088461000045, 32.248551379000048 ], [ 47.581036847000064, 32.261563958000067 ], [ 47.562572319000026, 32.280645700000036 ], [ 47.541030370000044, 32.293653678000055 ], [ 47.525643263000063, 32.301457568000046 ], [ 47.518462613000054, 32.317063334000068 ], [ 47.521540035000044, 32.330066085000055 ], [ 47.523591649000025, 32.340466942000035 ], [ 47.518462613000054, 32.35346633100005 ], [ 47.499998085000072, 32.35433289100007 ], [ 47.477430329000072, 32.359532074000072 ], [ 47.469223872000043, 32.368196715000067 ], [ 47.458965801000033, 32.383790975000068 ], [ 47.453836766000052, 32.402846972000077 ], [ 47.458965801000033, 32.413239457000032 ], [ 47.470249679000062, 32.421898947000045 ], [ 47.475378715000033, 32.431423426000038 ], [ 47.470249679000062, 32.441812619000075 ], [ 47.459991608000053, 32.453066228000068 ], [ 47.443578694000053, 32.460856364000051 ], [ 47.430243202000042, 32.476434616000063 ], [ 47.40562383200006, 32.499796939000078 ], [ 47.39331414600008, 32.513638416000049 ], [ 47.358436705000031, 32.516233455000076 ], [ 47.345101212000031, 32.521423310000046 ], [ 47.315352806000078, 32.540450213000042 ], [ 47.291759243000058, 32.529207530000065 ], [ 47.269191486000068, 32.509313183000074 ], [ 47.220978552000076, 32.508448112000053 ], [ 47.191230146000066, 32.503257508000047 ], [ 47.164559161000057, 32.506717944000059 ], [ 47.149172055000065, 32.517963440000074 ], [ 47.123526877000074, 32.532666967000068 ], [ 47.101984928000036, 32.54304447800007 ], [ 47.081468786000073, 32.550826824000069 ], [ 47.071210715000063, 32.562066800000025 ], [ 47.054797801000063, 32.576763105000055 ], [ 47.032230045000063, 32.596642509000048 ], [ 46.994275182000081, 32.625157429000069 ], [ 46.966578390000052, 32.643298559000073 ], [ 46.94195901900008, 32.657117903000028 ], [ 46.90913319200007, 32.668344547000061 ], [ 46.889642857000069, 32.676116013000069 ], [ 46.871178329000031, 32.695973355000035 ], [ 46.843481537000059, 32.717552413000078 ], [ 46.811681517000068, 32.753793478000034 ], [ 46.797320217000049, 32.771908484000051 ], [ 46.780907303000049, 32.794331478000061 ], [ 46.759365354000067, 32.814162492000037 ], [ 46.704997577000029, 32.840022382000029 ], [ 46.670120136000037, 32.85122599500005 ], [ 46.644474958000046, 32.861566537000044 ], [ 46.627036237000027, 32.873628979000046 ], [ 46.603442674000064, 32.892580929000076 ], [ 46.591132989000073, 32.905500389000053 ], [ 46.583952339000064, 32.916695730000072 ], [ 46.573694268000054, 32.906361620000041 ], [ 46.551126511000064, 32.886551203000067 ], [ 46.540868440000054, 32.872767430000067 ], [ 46.544971669000063, 32.862428195000064 ], [ 46.553178126000034, 32.852949503000048 ], [ 46.563436197000044, 32.844331631000045 ], [ 46.563436197000044, 32.838298623000071 ], [ 46.559332968000035, 32.821921250000059 ], [ 46.547023283000044, 32.807265250000057 ], [ 46.538816826000073, 32.794331478000061 ], [ 46.529584562000025, 32.779670929000076 ], [ 46.525481334000062, 32.760694867000041 ], [ 46.522403912000073, 32.734811901000057 ], [ 46.517274877000034, 32.71668935100007 ], [ 46.512145841000063, 32.698563118000038 ], [ 46.505990999000062, 32.680433203000064 ], [ 46.496758735000071, 32.658845171000053 ], [ 46.490603892000081, 32.641570991000037 ], [ 46.488552278000043, 32.553420790000075 ], [ 46.488552278000043, 32.549962152000035 ], [ 46.486500664000062, 32.539585441000042 ], [ 46.473165171000062, 32.52834265000007 ], [ 46.461881293000033, 32.525747960000047 ], [ 46.454700643000081, 32.516233455000076 ], [ 46.449571608000042, 32.49806660400003 ], [ 46.44136515100007, 32.479896083000028 ], [ 46.434184501000061, 32.465183926000066 ], [ 46.42187481600007, 32.440081170000042 ], [ 46.40238448100007, 32.423630745000025 ], [ 46.390074796000079, 32.417569306000075 ], [ 46.389048989000059, 32.40024866400006 ], [ 46.39828125300005, 32.378593187000035 ], [ 46.406487709000032, 32.367330288000062 ], [ 46.427003852000041, 32.350866603000043 ], [ 46.459829679000052, 32.323131517000036 ], [ 46.459829679000052, 32.313595618000079 ], [ 46.459829679000052, 32.305792773000064 ], [ 46.459829679000052, 32.294520810000051 ], [ 46.460855486000071, 32.283247445000029 ], [ 46.46803613600008, 32.275441986000033 ], [ 46.477268400000071, 32.269370610000067 ], [ 46.491629699000043, 32.264166250000073 ], [ 46.508042613000043, 32.256359150000037 ], [ 46.520352298000034, 32.245081042000038 ], [ 46.522403912000073, 32.238139972000056 ], [ 46.522403912000073, 32.225991824000062 ], [ 46.522403912000073, 32.216445711000063 ], [ 46.519326491000072, 32.212106237000057 ], [ 46.516249070000072, 32.200822636000055 ], [ 46.510094227000081, 32.196482417000027 ], [ 46.497784542000034, 32.190405763000058 ], [ 46.481371628000034, 32.186065047000056 ], [ 46.459829679000052, 32.17825123700004 ], [ 46.437261923000051, 32.170436756000072 ], [ 46.410590938000041, 32.16522672900004 ], [ 46.386997374000032, 32.159147989000076 ], [ 46.368532846000051, 32.147857823000038 ], [ 46.364429618000031, 32.129616909000049 ], [ 46.364429618000031, 32.107896780000033 ], [ 46.373661882000079, 32.089647877000061 ], [ 46.383919953000031, 32.077479917000062 ], [ 46.39520383100006, 32.067048948000036 ], [ 46.400332867000031, 32.054008562000035 ], [ 46.396229638000079, 32.042705392000073 ], [ 46.380842532000031, 32.034009695000066 ], [ 46.366481232000069, 32.025313173000029 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.374687689000041, 32.003568255000062 ], [ 46.376739303000079, 31.988778764000074 ], [ 46.373661882000079, 31.985298537000062 ], [ 46.34904251100005, 31.982688280000048 ], [ 46.320319912000059, 31.980077949000076 ], [ 46.31621668400004, 31.971376310000039 ], [ 46.320319912000059, 31.959192628000039 ], [ 46.339810247000059, 31.947007330000076 ], [ 46.360326390000068, 31.93569096300007 ], [ 46.38186833900005, 31.926114488000053 ], [ 46.412642552000079, 31.879959309000071 ], [ 46.423926430000051, 31.854694795000057 ], [ 46.430081273000042, 31.837266958000043 ], [ 46.437261923000051, 31.811990746000049 ], [ 46.447519994000061, 31.732630831000051 ], [ 46.455726451000032, 31.709944070000063 ], [ 46.469061943000042, 31.69336177200006 ], [ 46.48444905000008, 31.681141340000067 ], [ 46.501887770000053, 31.668046235000077 ], [ 46.526507141000081, 31.647090226000046 ], [ 46.530610369000044, 31.635737082000048 ], [ 46.535739405000072, 31.623509068000033 ], [ 46.548049090000063, 31.61215304600006 ], [ 46.563436197000044, 31.596427034000044 ], [ 46.588055567000026, 31.582446128000072 ], [ 46.598313638000036, 31.57632882200005 ], [ 46.609597517000054, 31.562344901000074 ], [ 46.615752359000055, 31.546610484000041 ], [ 46.619855588000064, 31.530873413000052 ], [ 46.618829781000045, 31.505513664000034 ], [ 46.618829781000045, 31.496767327000043 ], [ 46.614726552000036, 31.488020172000063 ], [ 46.609597517000054, 31.478397357000063 ], [ 46.603442674000064, 31.467023664000067 ], [ 46.603442674000064, 31.453898454000068 ], [ 46.605494288000045, 31.442521784000064 ], [ 46.607545902000027, 31.432019016000027 ], [ 46.616778166000074, 31.418013495000025 ], [ 46.632165273000055, 31.404881420000038 ], [ 46.635242694000056, 31.40313033800004 ], [ 46.680378207000047, 31.375108580000074 ], [ 46.695765314000028, 31.36459826600003 ], [ 46.718333070000028, 31.355838772000027 ], [ 46.736797598000067, 31.347078463000059 ], [ 46.750133090000077, 31.338317337000035 ], [ 46.759365354000067, 31.326050391000024 ], [ 46.76039116100003, 31.253292102000046 ], [ 46.761416968000049, 31.241891140000064 ], [ 46.766546004000077, 31.226980114000071 ], [ 46.773726654000029, 31.217330549000053 ], [ 46.785010532000058, 31.208557362000079 ], [ 46.805526674000077, 31.203293059000032 ], [ 46.81988797300005, 31.191008547000024 ], [ 46.829120237000041, 31.176089495000042 ], [ 46.83630088700005, 31.165556985000023 ], [ 46.84655895800006, 31.152389700000072 ], [ 46.863997679000079, 31.146244340000067 ], [ 46.89272027800007, 31.140098583000054 ], [ 46.976836461000062, 31.138342579000039 ], [ 46.991197760000034, 31.150633923000044 ], [ 46.999404217000063, 31.154145443000061 ], [ 47.066081679000035, 31.159412479000025 ], [ 47.138040445000058, 31.162107607000053 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Wasit", "shapeISO": "IQ-WA", "shapeID": "90741666B22138095387242", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 45.157952234000049, 32.45587941000008 ], [ 45.188854673000037, 32.441812619000075 ], [ 45.222706308000056, 32.426228380000055 ], [ 45.252454714000066, 32.424496632000057 ], [ 45.266816014000028, 32.41930118700003 ], [ 45.293486998000049, 32.413239457000032 ], [ 45.312977333000049, 32.407177319000027 ], [ 45.337596704000077, 32.395051823000074 ], [ 45.357087039000078, 32.379459506000046 ], [ 45.370422531000031, 32.364730958000052 ], [ 45.376577374000078, 32.356065985000043 ], [ 45.385809638000069, 32.347400182000058 ], [ 45.405299973000069, 32.33873354900004 ], [ 45.42068708000005, 32.331799644000057 ], [ 45.440177415000051, 32.320530917000042 ], [ 45.466848399000071, 32.306659789000037 ], [ 45.478132278000032, 32.290185066000049 ], [ 45.489416156000061, 32.273707349000063 ], [ 45.545835547000081, 32.228595135000035 ], [ 45.589945252000064, 32.186065047000056 ], [ 45.622771080000064, 32.14612075000008 ], [ 45.645338836000064, 32.107896780000033 ], [ 45.664829171000065, 32.089647877000061 ], [ 45.672009821000074, 32.081825803000072 ], [ 45.679190471000027, 32.068787525000062 ], [ 45.684319506000065, 32.053139137000073 ], [ 45.690474349000056, 32.040096770000048 ], [ 45.691500156000075, 32.023573769000052 ], [ 45.696629191000056, 32.013136655000039 ], [ 45.704835648000028, 32.001828439000064 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.738687283000047, 31.996608792000075 ], [ 45.750996968000038, 32.004438151000045 ], [ 45.776642146000029, 32.007917651000071 ], [ 45.837164765000068, 32.007917651000071 ], [ 46.077203628000063, 32.010527190000062 ], [ 46.227997273000028, 32.010527190000062 ], [ 46.317242491000059, 32.013136655000039 ], [ 46.330577983000069, 32.014876256000036 ], [ 46.354171547000078, 32.014876256000036 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.366481232000069, 32.025313173000029 ], [ 46.380842532000031, 32.034009695000066 ], [ 46.396229638000079, 32.042705392000073 ], [ 46.400332867000031, 32.054008562000035 ], [ 46.39520383100006, 32.067048948000036 ], [ 46.383919953000031, 32.077479917000062 ], [ 46.373661882000079, 32.089647877000061 ], [ 46.364429618000031, 32.107896780000033 ], [ 46.364429618000031, 32.129616909000049 ], [ 46.368532846000051, 32.147857823000038 ], [ 46.386997374000032, 32.159147989000076 ], [ 46.410590938000041, 32.16522672900004 ], [ 46.437261923000051, 32.170436756000072 ], [ 46.459829679000052, 32.17825123700004 ], [ 46.481371628000034, 32.186065047000056 ], [ 46.497784542000034, 32.190405763000058 ], [ 46.510094227000081, 32.196482417000027 ], [ 46.516249070000072, 32.200822636000055 ], [ 46.519326491000072, 32.212106237000057 ], [ 46.522403912000073, 32.216445711000063 ], [ 46.522403912000073, 32.225991824000062 ], [ 46.522403912000073, 32.238139972000056 ], [ 46.520352298000034, 32.245081042000038 ], [ 46.508042613000043, 32.256359150000037 ], [ 46.491629699000043, 32.264166250000073 ], [ 46.477268400000071, 32.269370610000067 ], [ 46.46803613600008, 32.275441986000033 ], [ 46.460855486000071, 32.283247445000029 ], [ 46.459829679000052, 32.294520810000051 ], [ 46.459829679000052, 32.305792773000064 ], [ 46.459829679000052, 32.313595618000079 ], [ 46.459829679000052, 32.323131517000036 ], [ 46.427003852000041, 32.350866603000043 ], [ 46.406487709000032, 32.367330288000062 ], [ 46.39828125300005, 32.378593187000035 ], [ 46.389048989000059, 32.40024866400006 ], [ 46.390074796000079, 32.417569306000075 ], [ 46.40238448100007, 32.423630745000025 ], [ 46.42187481600007, 32.440081170000042 ], [ 46.434184501000061, 32.465183926000066 ], [ 46.44136515100007, 32.479896083000028 ], [ 46.449571608000042, 32.49806660400003 ], [ 46.454700643000081, 32.516233455000076 ], [ 46.461881293000033, 32.525747960000047 ], [ 46.473165171000062, 32.52834265000007 ], [ 46.486500664000062, 32.539585441000042 ], [ 46.488552278000043, 32.549962152000035 ], [ 46.488552278000043, 32.553420790000075 ], [ 46.490603892000081, 32.641570991000037 ], [ 46.496758735000071, 32.658845171000053 ], [ 46.505990999000062, 32.680433203000064 ], [ 46.512145841000063, 32.698563118000038 ], [ 46.517274877000034, 32.71668935100007 ], [ 46.522403912000073, 32.734811901000057 ], [ 46.525481334000062, 32.760694867000041 ], [ 46.529584562000025, 32.779670929000076 ], [ 46.538816826000073, 32.794331478000061 ], [ 46.547023283000044, 32.807265250000057 ], [ 46.559332968000035, 32.821921250000059 ], [ 46.563436197000044, 32.838298623000071 ], [ 46.563436197000044, 32.844331631000045 ], [ 46.553178126000034, 32.852949503000048 ], [ 46.544971669000063, 32.862428195000064 ], [ 46.540868440000054, 32.872767430000067 ], [ 46.551126511000064, 32.886551203000067 ], [ 46.573694268000054, 32.906361620000041 ], [ 46.583164065000062, 32.915901656000074 ], [ 46.545997476000025, 32.929342609000059 ], [ 46.531572063000056, 32.938759324000046 ], [ 46.507529709000039, 32.94952005500005 ], [ 46.486693003000028, 32.960279477000029 ], [ 46.459445001000063, 32.973726912000075 ], [ 46.427388529000041, 32.987172299000065 ], [ 46.40655182200004, 32.995238549000078 ], [ 46.38731793900007, 32.996582852000074 ], [ 46.332821937000062, 33.014056931000027 ], [ 46.268708992000029, 33.015400948000035 ], [ 46.196581930000036, 33.008680660000039 ], [ 46.193376283000077, 33.007336541000029 ], [ 46.182156518000056, 33.000615639000046 ], [ 46.16773110500003, 32.996582852000074 ], [ 46.151702869000076, 33.003304062000041 ], [ 46.137277457000039, 33.019432874000074 ], [ 46.119646397000054, 33.027496175000067 ], [ 46.110029455000074, 33.034215028000062 ], [ 46.111632279000048, 33.050338186000033 ], [ 46.114837926000064, 33.05974199800005 ], [ 46.132468986000049, 33.07183113800005 ], [ 46.135674633000065, 33.082575646000066 ], [ 46.15330569300005, 33.091976014000068 ], [ 46.169333929000061, 33.108088592000058 ], [ 46.164525458000071, 33.120171086000028 ], [ 46.15330569300005, 33.126882865000027 ], [ 46.129263339000033, 33.129567433000034 ], [ 46.108426632000032, 33.134936323000034 ], [ 46.090795572000047, 33.138962775000039 ], [ 46.066753218000031, 33.145673117000058 ], [ 46.058739100000025, 33.15372485100005 ], [ 46.058739100000025, 33.160434064000071 ], [ 46.065150395000046, 33.171167738000065 ], [ 46.076370160000067, 33.176534082000046 ], [ 46.103618161000043, 33.177875616000051 ], [ 46.129263339000033, 33.177875616000051 ], [ 46.142085928000029, 33.180558624000071 ], [ 46.15811416400004, 33.191289833000042 ], [ 46.16773110500003, 33.20470199600004 ], [ 46.190170636000062, 33.21945300200008 ], [ 46.199274674000037, 33.235595799000066 ], [ 46.209532745000047, 33.241601660000072 ], [ 46.208506938000028, 33.250180746000069 ], [ 46.190042410000046, 33.26047453800004 ], [ 46.191068217000065, 33.269051771000079 ], [ 46.197223060000056, 33.278485755000077 ], [ 46.206455324000046, 33.282773592000069 ], [ 46.200300481000056, 33.299065453000026 ], [ 46.190042410000046, 33.317925912000078 ], [ 46.175681110000028, 33.322211812000035 ], [ 46.157216582000046, 33.331640048000054 ], [ 46.151061740000046, 33.334211208000056 ], [ 46.125416562000055, 33.36077541700007 ], [ 46.118235912000046, 33.373626157000047 ], [ 46.113106877000064, 33.38647499800004 ], [ 46.109003648000055, 33.400178336000067 ], [ 46.089513313000054, 33.407029195000064 ], [ 46.080281049000064, 33.416448244000037 ], [ 46.080281049000064, 33.432715104000067 ], [ 46.079255242000045, 33.448978915000055 ], [ 46.071048785000073, 33.462672391000069 ], [ 46.051558450000073, 33.474652409000043 ], [ 46.047455222000053, 33.484064118000049 ], [ 46.048481029000072, 33.498607476000075 ], [ 46.054635872000063, 33.51913511500004 ], [ 46.035145537000062, 33.536237761000052 ], [ 46.015655202000062, 33.538802866000026 ], [ 46.001293902000043, 33.529397109000058 ], [ 45.992061638000052, 33.514858925000055 ], [ 45.982829374000062, 33.500318298000025 ], [ 45.966416461000051, 33.48577522800008 ], [ 45.940771283000061, 33.475508061000028 ], [ 45.917177719000051, 33.466951159000075 ], [ 45.89460996300005, 33.458393412000078 ], [ 45.887429313000041, 33.450690718000033 ], [ 45.87511962800005, 33.426722405000078 ], [ 45.86178413600004, 33.399321941000039 ], [ 45.853577679000068, 33.387331520000032 ], [ 45.84537122200004, 33.368486089000044 ], [ 45.817674430000068, 33.352207203000034 ], [ 45.789977638000039, 33.350493459000063 ], [ 45.769461496000076, 33.347922779000044 ], [ 45.757151811000028, 33.334211208000056 ], [ 45.746893740000075, 33.312782555000069 ], [ 45.738687283000047, 33.292206093000061 ], [ 45.727403405000075, 33.265620979000062 ], [ 45.718171141000028, 33.249322875000075 ], [ 45.692525963000037, 33.220150261000072 ], [ 45.679190471000027, 33.203843679000045 ], [ 45.641235608000045, 33.17379728700007 ], [ 45.619693658000074, 33.160917107000046 ], [ 45.600203323000073, 33.155764506000025 ], [ 45.578661374000035, 33.159199607000062 ], [ 45.565325882000081, 33.16692809400007 ], [ 45.547887161000062, 33.175514502000055 ], [ 45.525319405000062, 33.186675574000049 ], [ 45.495570998000062, 33.198693601000059 ], [ 45.468900014000042, 33.198693601000059 ], [ 45.45453871400008, 33.206418605000067 ], [ 45.41042900900004, 33.215859350000073 ], [ 45.332467668000049, 33.21757573900004 ], [ 45.293486998000049, 33.220150261000072 ], [ 45.270919242000048, 33.227873371000044 ], [ 45.253480521000029, 33.23988574200007 ], [ 45.238093415000037, 33.249322875000075 ], [ 45.218603080000037, 33.26047453800004 ], [ 45.191932095000027, 33.273340072000053 ], [ 45.171415953000064, 33.282773592000069 ], [ 45.140641739000046, 33.293920984000067 ], [ 45.101661069000045, 33.307638895000025 ], [ 45.042164257000081, 33.325640379000049 ], [ 45.018570694000061, 33.321354649000057 ], [ 44.999080359000061, 33.311068036000052 ], [ 44.97035776000007, 33.306781589000025 ], [ 44.944712582000079, 33.300780209000038 ], [ 44.906757719000041, 33.291348635000077 ], [ 44.892396420000068, 33.282773592000069 ], [ 44.87085447000004, 33.252754308000078 ], [ 44.862648013000069, 33.229589525000051 ], [ 44.855467364000049, 33.208993454000051 ], [ 44.844183486000077, 33.183241550000048 ], [ 44.830847993000077, 33.159199607000062 ], [ 44.792893130000039, 33.130855997000026 ], [ 44.749809232000075, 33.092190867000056 ], [ 44.732370511000056, 33.073281723000036 ], [ 44.719035019000046, 33.069843260000027 ], [ 44.706725333000065, 33.067264325000053 ], [ 44.693389841000055, 33.06124651500005 ], [ 44.673899506000055, 33.057807582000066 ], [ 44.656460785000036, 33.062965931000065 ], [ 44.645176907000064, 33.071562508000056 ], [ 44.644151100000045, 33.08789369200008 ], [ 44.647228521000045, 33.105940419000035 ], [ 44.634918836000054, 33.116251170000055 ], [ 44.608247851000044, 33.118828669000038 ], [ 44.591834937000044, 33.113673596000069 ], [ 44.582602673000054, 33.107658961000027 ], [ 44.579525252000053, 33.115391987000066 ], [ 44.568113148000066, 33.129567433000034 ], [ 44.556893383000045, 33.116143773000033 ], [ 44.548879265000039, 33.102718061000076 ], [ 44.550482088000081, 33.079889642000069 ], [ 44.552084912000055, 33.062428617000023 ], [ 44.548879265000039, 33.050338186000033 ], [ 44.531248205000054, 33.040933369000072 ], [ 44.515219969000043, 33.039589742000032 ], [ 44.500794557000063, 33.032871298000032 ], [ 44.492780439000057, 33.018088919000036 ], [ 44.495986086000073, 33.000615639000046 ], [ 44.500794557000063, 32.989861131000055 ], [ 44.513617145000069, 32.981794390000061 ], [ 44.53445385200007, 32.973726912000075 ], [ 44.556893383000045, 32.953554992000079 ], [ 44.568113148000066, 32.936068936000026 ], [ 44.571318795000025, 32.923961180000049 ], [ 44.593758326000057, 32.913197338000032 ], [ 44.632226092000053, 32.910506174000034 ], [ 44.654665623000028, 32.925306568000053 ], [ 44.678707977000045, 32.933378467000068 ], [ 44.728395508000062, 32.929342609000059 ], [ 44.741218097000058, 32.915888421000034 ], [ 44.752437862000079, 32.880897962000063 ], [ 44.80853668900005, 32.835120356000061 ], [ 44.835784690000025, 32.821651860000031 ], [ 44.874252456000079, 32.814916845000027 ], [ 44.91432304600005, 32.809528466000074 ], [ 44.936762577000081, 32.797403419000034 ], [ 44.957599284000025, 32.779886543000032 ], [ 44.988052932000073, 32.747538633000033 ], [ 44.997669874000053, 32.735405137000043 ], [ 45.018506581000054, 32.717876059000048 ], [ 45.04254893500007, 32.709784553000077 ], [ 45.063385642000071, 32.707087222000041 ], [ 45.079413878000025, 32.70304107100003 ], [ 45.082619525000041, 32.696297080000079 ], [ 45.063385642000071, 32.680109421000054 ], [ 45.058577171000081, 32.669316018000075 ], [ 45.064988465000056, 32.62207955100007 ], [ 45.084222349000072, 32.608578836000049 ], [ 45.103456232000042, 32.60722865200006 ], [ 45.146732469000028, 32.60722865200006 ], [ 45.151540940000075, 32.597776798000041 ], [ 45.137115528000038, 32.580220710000049 ], [ 45.116278821000037, 32.573467452000045 ], [ 45.093839290000062, 32.558608496000033 ], [ 45.079413878000025, 32.542395919000057 ], [ 45.071399760000077, 32.528883201000042 ], [ 45.06659128900003, 32.518071563000035 ], [ 45.069796936000046, 32.497796237000045 ], [ 45.087427996000031, 32.488332853000031 ], [ 45.108264703000032, 32.484276812000076 ], [ 45.127498586000058, 32.482924758000024 ], [ 45.146732469000028, 32.473459810000065 ], [ 45.157952234000049, 32.45587941000008 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Ninawa", "shapeISO": "IQ-NI", "shapeID": "90741666B29902093370976", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 42.422232871000062, 34.931133724000063 ], [ 42.419728459000055, 35.095226702000048 ], [ 42.995743192000077, 35.105471578000049 ], [ 42.973303661000045, 35.143243547000054 ], [ 42.905985070000042, 35.228391437000028 ], [ 42.84347494900004, 35.295137292000049 ], [ 42.816226948000065, 35.323912644000075 ], [ 42.809815654000033, 35.340911450000078 ], [ 42.809815654000033, 35.364442355000051 ], [ 42.805007183000043, 35.381432633000031 ], [ 42.795390241000064, 35.404951727000025 ], [ 42.796993065000038, 35.478078364000055 ], [ 42.81462412500008, 35.501569243000063 ], [ 42.83866647900004, 35.526357720000078 ], [ 42.859503185000051, 35.542009656000062 ], [ 42.885148363000042, 35.556354581000051 ], [ 42.997346015000062, 35.637159782000026 ], [ 43.09832390300005, 35.637159782000026 ], [ 43.164039670000079, 35.648882787000048 ], [ 43.191287672000044, 35.663208568000073 ], [ 43.221741320000035, 35.677531780000038 ], [ 43.248989321000067, 35.686645213000077 ], [ 43.273031675000027, 35.694455898000058 ], [ 43.300279677000049, 35.707472007000035 ], [ 43.317910736000044, 35.721787273000075 ], [ 43.321116384000049, 35.732196760000079 ], [ 43.322277968000037, 35.738325517000078 ], [ 43.327527678000081, 35.766018196000061 ], [ 43.33554179600003, 35.78162324200008 ], [ 43.349967208000066, 35.797225225000034 ], [ 43.351570032000041, 35.819322791000047 ], [ 43.353172856000072, 35.838815537000073 ], [ 43.367598268000052, 35.869993969000063 ], [ 43.378818033000073, 35.886877166000033 ], [ 43.391640622000068, 35.902458462000027 ], [ 43.406066035000038, 35.912844289000077 ], [ 43.417285800000059, 35.925824655000042 ], [ 43.417285800000059, 35.93620741400008 ], [ 43.415682976000028, 35.959563636000041 ], [ 43.407668858000079, 35.979021880000062 ], [ 43.401257564000048, 35.997178580000025 ], [ 43.402860387000032, 36.007551961000047 ], [ 43.418888623000043, 36.016627550000067 ], [ 43.442930978000049, 36.021813132000034 ], [ 43.463767684000061, 36.026998373000026 ], [ 43.479795920000072, 36.034775593000063 ], [ 43.492618509000067, 36.047735922000072 ], [ 43.505441098000063, 36.068468009000071 ], [ 43.511852393000026, 36.084013490000075 ], [ 43.518263687000058, 36.102146001000051 ], [ 43.529483452000079, 36.128042329000039 ], [ 43.540703217000043, 36.144870362000063 ], [ 43.542306041000074, 36.157812547000049 ], [ 43.56474557100006, 36.182396813000025 ], [ 43.579170984000029, 36.194039300000043 ], [ 43.588787926000066, 36.206973367000046 ], [ 43.619369800000072, 36.239299183000071 ], [ 43.625524643000062, 36.246745157000078 ], [ 43.657324663000054, 36.273213987000076 ], [ 43.683995648000064, 36.282310575000054 ], [ 43.709640825000065, 36.294713306000062 ], [ 43.721950511000045, 36.302980698000056 ], [ 43.740415039000027, 36.317033253000034 ], [ 43.756827952000037, 36.333562427000061 ], [ 43.773240866000037, 36.350088096000036 ], [ 43.789653780000037, 36.365784232000067 ], [ 43.806066693000048, 36.378173683000057 ], [ 43.811195729000076, 36.389735390000055 ], [ 43.815298957000039, 36.407900313000027 ], [ 43.823505414000067, 36.431838497000058 ], [ 43.828634450000038, 36.443392221000067 ], [ 43.846073171000057, 36.452468939000028 ], [ 43.859408663000067, 36.456594370000062 ], [ 43.866589313000077, 36.468969343000026 ], [ 43.864537698000049, 36.487940467000044 ], [ 43.87376996200004, 36.493713365000076 ], [ 43.90044094700005, 36.497011971000063 ], [ 43.918905475000031, 36.511853959000064 ], [ 43.927111932000059, 36.525044448000074 ], [ 43.94249903900004, 36.530814580000026 ], [ 43.95275711000005, 36.539056878000054 ], [ 43.961989374000041, 36.551418679000051 ], [ 43.980453902000079, 36.567074122000065 ], [ 44.014305536000052, 36.593434013000035 ], [ 44.029692643000033, 36.60002257900004 ], [ 44.046105556000043, 36.604140148000056 ], [ 44.066621699000052, 36.588492219000045 ], [ 44.092266876000053, 36.588492219000045 ], [ 44.106628176000072, 36.595904791000066 ], [ 44.115860440000063, 36.59837549100007 ], [ 44.126118511000072, 36.586844884000072 ], [ 44.141505617000064, 36.592610403000037 ], [ 44.151763688000074, 36.602493147000075 ], [ 44.170228216000055, 36.603316652000046 ], [ 44.181512094000027, 36.609904374000052 ], [ 44.194847587000027, 36.623901416000024 ], [ 44.212286308000046, 36.63542648300006 ], [ 44.229725029000065, 36.640365270000075 ], [ 44.235879871000066, 36.646949827000071 ], [ 44.250241171000027, 36.663408756000024 ], [ 44.257421820000047, 36.674105174000033 ], [ 44.267679891000057, 36.684800104000033 ], [ 44.276912155000048, 36.694671028000073 ], [ 44.288196034000066, 36.69960601400004 ], [ 44.298454105000076, 36.707007900000065 ], [ 44.302557333000038, 36.716053681000062 ], [ 44.296402490000048, 36.725098398000057 ], [ 44.283066998000038, 36.733319943000026 ], [ 44.271783120000066, 36.741540608000037 ], [ 44.267679891000057, 36.749760392000042 ], [ 44.259473435000075, 36.775236128000074 ], [ 44.234854064000046, 36.788381584000035 ], [ 44.207157272000074, 36.79577491200007 ], [ 44.192795973000045, 36.801524785000026 ], [ 44.156892724000045, 36.815486965000048 ], [ 44.132273353000073, 36.817129407000039 ], [ 44.122015282000064, 36.824519959000042 ], [ 44.104576561000044, 36.835193942000046 ], [ 44.075853962000053, 36.839298924000047 ], [ 44.058415242000081, 36.842582750000076 ], [ 44.053286206000053, 36.858999768000047 ], [ 44.044053942000062, 36.87131021700003 ], [ 44.025589414000081, 36.880336620000037 ], [ 44.020460379000042, 36.894284416000062 ], [ 43.996866815000033, 36.913150907000045 ], [ 43.974299059000032, 36.926272671000049 ], [ 43.948653881000041, 36.935292574000073 ], [ 43.91993128200005, 36.94677090700003 ], [ 43.889157069000078, 36.954968657000052 ], [ 43.855305435000048, 36.968083223000065 ], [ 43.832737678000058, 36.980376076000027 ], [ 43.82860239300004, 36.981477214000051 ], [ 43.808118308000076, 36.986931453000068 ], [ 43.744518267000046, 36.986112062000075 ], [ 43.716821475000074, 36.986112062000075 ], [ 43.689124683000045, 36.982014973000048 ], [ 43.661427891000073, 36.97300060200007 ], [ 43.645014978000063, 36.967263629000058 ], [ 43.625524643000062, 36.969722385000068 ], [ 43.602956886000072, 36.968083223000065 ], [ 43.594750429000044, 36.955788384000073 ], [ 43.596802044000071, 36.941851833000044 ], [ 43.606034308000062, 36.928732750000052 ], [ 43.621421414000054, 36.917251701000055 ], [ 43.634756907000053, 36.90576892200005 ], [ 43.653221434000045, 36.894284416000062 ], [ 43.662453698000036, 36.885259662000067 ], [ 43.662453698000036, 36.862282748000041 ], [ 43.655273049000073, 36.845045528000071 ], [ 43.648092399000063, 36.831088740000041 ], [ 43.633731099000045, 36.822877676000076 ], [ 43.610137536000025, 36.81302323500006 ], [ 43.584492358000034, 36.80234616000007 ], [ 43.55166653100008, 36.794132012000034 ], [ 43.51884070300008, 36.789203100000066 ], [ 43.474730998000041, 36.794132012000034 ], [ 43.454214856000078, 36.803167526000038 ], [ 43.43985355600006, 36.816308190000029 ], [ 43.418311607000078, 36.829446598000061 ], [ 43.40600192200003, 36.838477945000079 ], [ 43.394718044000058, 36.844224611000072 ], [ 43.376253516000077, 36.851612546000069 ], [ 43.364969637000058, 36.860641276000024 ], [ 43.342401881000058, 36.870489582000062 ], [ 43.323937353000076, 36.880336620000037 ], [ 43.315730896000048, 36.889361955000027 ], [ 43.299317983000037, 36.895104795000066 ], [ 43.256234084000027, 36.890182387000038 ], [ 43.245976013000075, 36.882798180000066 ], [ 43.214175993000026, 36.881977669000037 ], [ 43.199814693000064, 36.868027625000025 ], [ 43.182375972000045, 36.845866436000051 ], [ 43.171092094000073, 36.83273084800004 ], [ 43.157756602000063, 36.81959300300008 ], [ 43.144421109000064, 36.801524785000026 ], [ 43.136214653000025, 36.78591698300005 ], [ 43.114672703000053, 36.769484282000064 ], [ 43.095182368000053, 36.744006636000051 ], [ 43.086975911000025, 36.732497828000078 ], [ 43.081846876000043, 36.721809533000055 ], [ 43.059279120000042, 36.716875972000025 ], [ 43.032608135000032, 36.709475037000061 ], [ 43.01824683500007, 36.702895829000056 ], [ 42.99465327200005, 36.702073389000077 ], [ 42.977214551000031, 36.698783538000043 ], [ 42.966956480000078, 36.686445346000028 ], [ 42.951569373000041, 36.685622729000045 ], [ 42.903356439000049, 36.691380860000038 ], [ 42.893098368000039, 36.693848499000069 ], [ 42.869504805000076, 36.696316058000036 ], [ 42.857195119000039, 36.693025962000036 ], [ 42.845911241000067, 36.680686845000025 ], [ 42.832575749000057, 36.674927913000033 ], [ 42.820266064000066, 36.67821878400008 ], [ 42.819240257000047, 36.687267954000049 ], [ 42.817188642000076, 36.69960601400004 ], [ 42.804878957000028, 36.71523138200007 ], [ 42.780259586000057, 36.705363098000078 ], [ 42.767949901000065, 36.690558297000052 ], [ 42.760769251000056, 36.687267954000049 ], [ 42.742304724000064, 36.690558297000052 ], [ 42.734098267000036, 36.697138560000042 ], [ 42.735124074000055, 36.704540684000051 ], [ 42.749485373000027, 36.720987295000043 ], [ 42.751536987000065, 36.732497828000078 ], [ 42.731020845000046, 36.74647258400006 ], [ 42.714607932000035, 36.755513717000042 ], [ 42.702298246000055, 36.76291021600008 ], [ 42.701272439000036, 36.774414462000038 ], [ 42.691014368000026, 36.780987543000037 ], [ 42.666394998000044, 36.786738525000032 ], [ 42.648956277000025, 36.782630725000047 ], [ 42.637672399000053, 36.763732005000065 ], [ 42.624336906000053, 36.75797929600003 ], [ 42.597665921000043, 36.762088418000076 ], [ 42.592536886000062, 36.770306001000051 ], [ 42.577149779000081, 36.78591698300005 ], [ 42.572020744000042, 36.799882008000054 ], [ 42.558685251000043, 36.81384448700004 ], [ 42.55047879500006, 36.816308190000029 ], [ 42.500214246000041, 36.81959300300008 ], [ 42.493033597000078, 36.824519959000042 ], [ 42.493033597000078, 36.836835961000077 ], [ 42.494059404000041, 36.843403685000055 ], [ 42.505343282000069, 36.857358225000041 ], [ 42.51149812400007, 36.87377206900004 ], [ 42.51149812400007, 36.881977669000037 ], [ 42.513549739000041, 36.90576892200005 ], [ 42.51867877400008, 36.922992442000066 ], [ 42.51149812400007, 36.943491560000041 ], [ 42.49508521100006, 36.941851833000044 ], [ 42.473543261000032, 36.921352274000071 ], [ 42.459181962000059, 36.918891957000028 ], [ 42.449949698000069, 36.922992442000066 ], [ 42.439691627000059, 36.929552759000046 ], [ 42.430459363000068, 36.941031957000064 ], [ 42.42225290600004, 36.950869892000071 ], [ 42.40583999200004, 36.964804793000042 ], [ 42.399685150000039, 36.97300060200007 ], [ 42.394556114000068, 36.982834409000077 ], [ 42.387375465000048, 36.994305576000045 ], [ 42.378143201000057, 37.015604583000027 ], [ 42.372144633000062, 37.070431006000035 ], [ 42.342091691000064, 37.04844698200003 ], [ 42.32205639600005, 37.024457147000078 ], [ 42.297012277000078, 37.000459733000071 ], [ 42.27196815800005, 36.974453986000071 ], [ 42.239410803000055, 36.952442179000059 ], [ 42.191826978000051, 36.916409134000048 ], [ 42.119199033000029, 36.840283445000068 ], [ 42.094154914000057, 36.814223030000051 ], [ 42.056588736000037, 36.780130635000035 ], [ 41.966429908000066, 36.711900335000053 ], [ 41.936376966000068, 36.681779451000068 ], [ 41.888793140000075, 36.649637502000076 ], [ 41.831191667000041, 36.599388840000074 ], [ 41.400432823000074, 36.522948160000055 ], [ 41.285229876000074, 36.353705845000036 ], [ 41.282725465000055, 36.275003669000057 ], [ 41.282725465000055, 36.228552332000049 ], [ 41.255176934000076, 36.06271864200005 ], [ 41.372884292000037, 35.833617939000078 ], [ 41.375388704000045, 35.734067070000037 ], [ 41.382901940000067, 35.611998362000065 ], [ 41.275212229000033, 35.499938154000063 ], [ 41.272707817000025, 35.471388733000026 ], [ 41.272707817000025, 35.412218393000046 ], [ 41.270203405000075, 35.367301546000078 ], [ 41.260185758000034, 35.336662084000068 ], [ 41.23764605100007, 35.287614774000076 ], [ 41.215106344000048, 35.13619847800004 ], [ 41.250168110000061, 35.125957466000045 ], [ 41.280221053000048, 35.113666551000051 ], [ 41.320291643000076, 35.095226702000048 ], [ 41.372884292000037, 35.072683445000052 ], [ 41.415459294000073, 35.048083696000049 ], [ 41.450521061000074, 35.03373042000004 ], [ 41.488087239000038, 35.029629021000062 ], [ 41.52314900500005, 35.03373042000004 ], [ 41.578246067000066, 35.019374623000033 ], [ 41.653378423000049, 34.998861968000028 ], [ 41.743537251000078, 34.974239994000072 ], [ 41.901315199000067, 34.922920436000027 ], [ 42.422232871000062, 34.931133724000063 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Dohuk", "shapeISO": "IQ-DA", "shapeID": "90741666B81100048725045", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.82860239300004, 36.981477214000051 ], [ 43.853253820000077, 37.003419824000048 ], [ 43.867679233000047, 37.017498677000049 ], [ 43.893324410000048, 37.027736205000053 ], [ 43.91576394100008, 37.039251774000036 ], [ 43.939806295000039, 37.052044804000047 ], [ 43.954231707000076, 37.063556686000027 ], [ 43.975068414000077, 37.076345619000051 ], [ 43.999110768000037, 37.092968006000035 ], [ 44.019947475000038, 37.109586749000073 ], [ 44.031167240000059, 37.122367915000041 ], [ 44.035975711000049, 37.133869121000032 ], [ 44.047437990000049, 37.146432883000045 ], [ 44.057389434000072, 37.150632191000057 ], [ 44.076879770000062, 37.152267413000061 ], [ 44.086112033000063, 37.152267413000061 ], [ 44.092266876000053, 37.152267413000061 ], [ 44.091241069000034, 37.242966808000062 ], [ 44.087137841000072, 37.247866373000079 ], [ 44.075853963000043, 37.257664547000047 ], [ 44.066621699000052, 37.270726798000055 ], [ 44.058415242000081, 37.281338207000033 ], [ 44.046105557000033, 37.28623527700006 ], [ 44.013279729000033, 37.282970600000056 ], [ 43.990711972000042, 37.269910473000039 ], [ 43.978402287000051, 37.256031607000068 ], [ 43.94967968800006, 37.251949100000047 ], [ 43.945576460000041, 37.234800158000041 ], [ 43.94044742400007, 37.221731678000026 ], [ 43.928137739000078, 37.205392894000056 ], [ 43.914802247000068, 37.188233363000052 ], [ 43.90351836800005, 37.180060787000059 ], [ 43.885053841000058, 37.179243480000025 ], [ 43.853253820000077, 37.180878084000028 ], [ 43.840944135000029, 37.175156816000026 ], [ 43.821453800000029, 37.16453045600008 ], [ 43.808118307000029, 37.180060787000059 ], [ 43.784524744000066, 37.192319319000035 ], [ 43.780421515000057, 37.193953640000075 ], [ 43.760931181000046, 37.195587925000041 ], [ 43.693227911000065, 37.192319319000035 ], [ 43.660402084000054, 37.190684963000024 ], [ 43.650144013000045, 37.182512652000071 ], [ 43.629627871000025, 37.182512652000071 ], [ 43.608085922000043, 37.188233363000052 ], [ 43.588595587000043, 37.198856389000071 ], [ 43.584492358000034, 37.20620991800007 ], [ 43.558847181000033, 37.218464204000043 ], [ 43.53833103900007, 37.222548524000047 ], [ 43.523969739000052, 37.210294901000054 ], [ 43.51268586100008, 37.209477922000076 ], [ 43.480885840000042, 37.212745785000038 ], [ 43.461395505000041, 37.220914823000044 ], [ 43.452163241000051, 37.232349990000046 ], [ 43.426518064000049, 37.238066924000066 ], [ 43.413182572000039, 37.23970025400007 ], [ 43.397795465000058, 37.250316036000072 ], [ 43.394718043000069, 37.259297453000045 ], [ 43.38958900800003, 37.265828720000059 ], [ 43.37009867300003, 37.26909414000005 ], [ 43.365995444000077, 37.276440820000062 ], [ 43.347530917000029, 37.282154408000054 ], [ 43.330092196000066, 37.282970600000056 ], [ 43.315730896000048, 37.28052199800004 ], [ 43.302395404000038, 37.272359420000043 ], [ 43.291111526000066, 37.269910473000039 ], [ 43.281879262000075, 37.269910473000039 ], [ 43.268543770000065, 37.276440820000062 ], [ 43.251105048000056, 37.290315925000073 ], [ 43.226485678000074, 37.302556540000069 ], [ 43.193659851000064, 37.313979317000076 ], [ 43.165963059000035, 37.315611 ], [ 43.148524338000072, 37.326216080000052 ], [ 43.123904968000033, 37.330294559000038 ], [ 43.080821068000034, 37.328663194000058 ], [ 43.05825331300008, 37.318058459000042 ], [ 43.039788784000052, 37.313163462000034 ], [ 43.020298450000041, 37.310715843000025 ], [ 42.990550044000031, 37.287867562000031 ], [ 42.977214551000031, 37.28052199800004 ], [ 42.95875002300005, 37.279705780000029 ], [ 42.921820967000031, 37.281338207000033 ], [ 42.890020947000039, 37.287051424000026 ], [ 42.880788683000048, 37.291948122000065 ], [ 42.836678977000076, 37.304188471000032 ], [ 42.825395100000037, 37.314795163000042 ], [ 42.817188643000065, 37.323768887000028 ], [ 42.798724114000038, 37.33355718200005 ], [ 42.782311201000027, 37.329478881000057 ], [ 42.758717637000075, 37.313163462000034 ], [ 42.744356338000046, 37.300108576000071 ], [ 42.735124074000055, 37.290315925000073 ], [ 42.723840196000026, 37.279705780000029 ], [ 42.711530510000046, 37.270726798000055 ], [ 42.689988561000064, 37.254398631000072 ], [ 42.682807911000054, 37.242966808000062 ], [ 42.662291769000035, 37.231533250000041 ], [ 42.643827241000054, 37.217647314000033 ], [ 42.639724013000034, 37.20457586200007 ], [ 42.630491748000054, 37.193953640000075 ], [ 42.619207871000071, 37.183329923000031 ], [ 42.605872379000061, 37.168617694000034 ], [ 42.598691729000052, 37.154720181000073 ], [ 42.586382043000071, 37.137549137000065 ], [ 42.572020743000053, 37.113830336000035 ], [ 42.559711058000062, 37.108103994000032 ], [ 42.543298144000062, 37.11792031400006 ], [ 42.515601353000079, 37.111376242000063 ], [ 42.500214246000041, 37.104831604000026 ], [ 42.48482713900006, 37.102377219000061 ], [ 42.45200131200005, 37.102377219000061 ], [ 42.427381941000078, 37.100740918000042 ], [ 42.40583999200004, 37.088467535000063 ], [ 42.382246429000077, 37.090104101000065 ], [ 42.369936744000029, 37.087649239000029 ], [ 42.374390237000057, 37.081051241000068 ], [ 42.371578035000027, 37.080938877000051 ], [ 42.372144633000062, 37.070431006000035 ], [ 42.378143201000057, 37.015604583000027 ], [ 42.387375465000048, 36.994305576000045 ], [ 42.394556114000068, 36.982834409000077 ], [ 42.399685150000039, 36.97300060200007 ], [ 42.40583999200004, 36.964804793000042 ], [ 42.42225290600004, 36.950869892000071 ], [ 42.430459363000068, 36.941031957000064 ], [ 42.439691627000059, 36.929552759000046 ], [ 42.449949698000069, 36.922992442000066 ], [ 42.459181962000059, 36.918891957000028 ], [ 42.473543261000032, 36.921352274000071 ], [ 42.49508521100006, 36.941851833000044 ], [ 42.51149812400007, 36.943491560000041 ], [ 42.51867877400008, 36.922992442000066 ], [ 42.513549739000041, 36.90576892200005 ], [ 42.51149812400007, 36.881977669000037 ], [ 42.51149812400007, 36.87377206900004 ], [ 42.505343282000069, 36.857358225000041 ], [ 42.494059404000041, 36.843403685000055 ], [ 42.493033597000078, 36.836835961000077 ], [ 42.493033597000078, 36.824519959000042 ], [ 42.500214246000041, 36.81959300300008 ], [ 42.55047879500006, 36.816308190000029 ], [ 42.558685251000043, 36.81384448700004 ], [ 42.572020744000042, 36.799882008000054 ], [ 42.577149779000081, 36.78591698300005 ], [ 42.592536886000062, 36.770306001000051 ], [ 42.597665921000043, 36.762088418000076 ], [ 42.624336906000053, 36.75797929600003 ], [ 42.637672399000053, 36.763732005000065 ], [ 42.648956277000025, 36.782630725000047 ], [ 42.666394998000044, 36.786738525000032 ], [ 42.691014368000026, 36.780987543000037 ], [ 42.701272439000036, 36.774414462000038 ], [ 42.702298246000055, 36.76291021600008 ], [ 42.714607932000035, 36.755513717000042 ], [ 42.731020845000046, 36.74647258400006 ], [ 42.751536987000065, 36.732497828000078 ], [ 42.749485373000027, 36.720987295000043 ], [ 42.735124074000055, 36.704540684000051 ], [ 42.734098267000036, 36.697138560000042 ], [ 42.742304724000064, 36.690558297000052 ], [ 42.760769251000056, 36.687267954000049 ], [ 42.767949901000065, 36.690558297000052 ], [ 42.780259586000057, 36.705363098000078 ], [ 42.804878957000028, 36.71523138200007 ], [ 42.817188642000076, 36.69960601400004 ], [ 42.819240257000047, 36.687267954000049 ], [ 42.820266064000066, 36.67821878400008 ], [ 42.832575749000057, 36.674927913000033 ], [ 42.845911241000067, 36.680686845000025 ], [ 42.857195119000039, 36.693025962000036 ], [ 42.869504805000076, 36.696316058000036 ], [ 42.893098368000039, 36.693848499000069 ], [ 42.903356439000049, 36.691380860000038 ], [ 42.951569373000041, 36.685622729000045 ], [ 42.966956480000078, 36.686445346000028 ], [ 42.977214551000031, 36.698783538000043 ], [ 42.99465327200005, 36.702073389000077 ], [ 43.01824683500007, 36.702895829000056 ], [ 43.032608135000032, 36.709475037000061 ], [ 43.059279120000042, 36.716875972000025 ], [ 43.081846876000043, 36.721809533000055 ], [ 43.086975911000025, 36.732497828000078 ], [ 43.095182368000053, 36.744006636000051 ], [ 43.114672703000053, 36.769484282000064 ], [ 43.136214653000025, 36.78591698300005 ], [ 43.144421109000064, 36.801524785000026 ], [ 43.157756602000063, 36.81959300300008 ], [ 43.171092094000073, 36.83273084800004 ], [ 43.182375972000045, 36.845866436000051 ], [ 43.199814693000064, 36.868027625000025 ], [ 43.214175993000026, 36.881977669000037 ], [ 43.245976013000075, 36.882798180000066 ], [ 43.256234084000027, 36.890182387000038 ], [ 43.299317983000037, 36.895104795000066 ], [ 43.315730896000048, 36.889361955000027 ], [ 43.323937353000076, 36.880336620000037 ], [ 43.342401881000058, 36.870489582000062 ], [ 43.364969637000058, 36.860641276000024 ], [ 43.376253516000077, 36.851612546000069 ], [ 43.394718044000058, 36.844224611000072 ], [ 43.40600192200003, 36.838477945000079 ], [ 43.418311607000078, 36.829446598000061 ], [ 43.43985355600006, 36.816308190000029 ], [ 43.454214856000078, 36.803167526000038 ], [ 43.474730998000041, 36.794132012000034 ], [ 43.51884070300008, 36.789203100000066 ], [ 43.55166653100008, 36.794132012000034 ], [ 43.584492358000034, 36.80234616000007 ], [ 43.610137536000025, 36.81302323500006 ], [ 43.633731099000045, 36.822877676000076 ], [ 43.648092399000063, 36.831088740000041 ], [ 43.655273049000073, 36.845045528000071 ], [ 43.662453698000036, 36.862282748000041 ], [ 43.662453698000036, 36.885259662000067 ], [ 43.653221434000045, 36.894284416000062 ], [ 43.634756907000053, 36.90576892200005 ], [ 43.621421414000054, 36.917251701000055 ], [ 43.606034308000062, 36.928732750000052 ], [ 43.596802044000071, 36.941851833000044 ], [ 43.594750429000044, 36.955788384000073 ], [ 43.602956886000072, 36.968083223000065 ], [ 43.625524643000062, 36.969722385000068 ], [ 43.645014978000063, 36.967263629000058 ], [ 43.661427891000073, 36.97300060200007 ], [ 43.689124683000045, 36.982014973000048 ], [ 43.716821475000074, 36.986112062000075 ], [ 43.744518267000046, 36.986112062000075 ], [ 43.808118308000076, 36.986931453000068 ], [ 43.82860239300004, 36.981477214000051 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Salah al-Din", "shapeISO": "IQ-SD", "shapeID": "90741666B48099694344995", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.260471192000068, 33.433313682000062 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.327689607000025, 33.50860461700006 ], [ 44.32127831300005, 33.516622879000067 ], [ 44.314867018000029, 33.521967975000052 ], [ 44.310058548000029, 33.532657175000054 ], [ 44.306852900000081, 33.584748099000024 ], [ 44.32127831300005, 33.599434729000052 ], [ 44.327689607000025, 33.608779465000055 ], [ 44.33089525400004, 33.631469606000053 ], [ 44.33089525400004, 33.650151118000053 ], [ 44.346923490000052, 33.66616061600007 ], [ 44.364554550000037, 33.667494606000048 ], [ 44.386994081000068, 33.670162525000023 ], [ 44.391802551000069, 33.678165784000043 ], [ 44.398213846000033, 33.714171233000059 ], [ 44.401419493000049, 33.739499354000031 ], [ 44.414242082000044, 33.751494276000074 ], [ 44.41744772900006, 33.763487520000069 ], [ 44.414242082000044, 33.776811379000037 ], [ 44.406227964000038, 33.788801080000042 ], [ 44.385391257000038, 33.799457183000072 ], [ 44.383788433000063, 33.81410715800007 ], [ 44.385391257000038, 33.834080355000026 ], [ 44.385391257000038, 33.848724401000027 ], [ 44.386994081000068, 33.863365936000037 ], [ 44.40302231700008, 33.87401274900003 ], [ 44.420653376000075, 33.888649948000079 ], [ 44.431873142000029, 33.905945219000046 ], [ 44.439887260000035, 33.932546477000074 ], [ 44.444695730000035, 33.939195494000046 ], [ 44.460723966000046, 33.94850324500004 ], [ 44.45751831900003, 33.976420391000033 ], [ 44.455915496000046, 33.98971104900005 ], [ 44.439887260000035, 33.997684446000051 ], [ 44.427064671000039, 34.002999629000044 ], [ 44.419050553000034, 34.016286130000026 ], [ 44.406227964000038, 34.024257033000026 ], [ 44.395008199000074, 34.037540207000063 ], [ 44.382185610000079, 34.046837192000055 ], [ 44.359746079000047, 34.052149297000028 ], [ 44.340512196000077, 34.053477271000077 ], [ 44.314867018000029, 34.056133157000033 ], [ 44.300441606000049, 34.062772509000069 ], [ 44.300441606000049, 34.073394389000043 ], [ 44.300441606000049, 34.084014937000063 ], [ 44.300441606000049, 34.101270487000079 ], [ 44.306852900000081, 34.119849453000029 ], [ 44.319675489000076, 34.133117645000027 ], [ 44.324483960000066, 34.145057236000071 ], [ 44.33089525400004, 34.162300335000054 ], [ 44.350129138000057, 34.198101672000064 ], [ 44.362951727000052, 34.211357571000065 ], [ 44.370965845000057, 34.221960789000036 ], [ 44.390199728000027, 34.221960789000036 ], [ 44.404625140000064, 34.223286098000074 ], [ 44.420653376000075, 34.229912327000079 ], [ 44.428667494000081, 34.248462996000058 ], [ 44.43828443600006, 34.264360315000033 ], [ 44.451107025000056, 34.274956859000042 ], [ 44.467135261000067, 34.282903390000058 ], [ 44.479957850000062, 34.28820066000003 ], [ 44.491177615000026, 34.301442375000079 ], [ 44.491177615000026, 34.319977269000049 ], [ 44.491469970000026, 34.358827946000076 ], [ 44.479652672000043, 34.365873222000062 ], [ 44.471774473000039, 34.377794646000041 ], [ 44.473087507000059, 34.392964914000061 ], [ 44.479652672000043, 34.402715778000072 ], [ 44.488843904000078, 34.41138225800006 ], [ 44.492783003000056, 34.420047841000041 ], [ 44.503287268000065, 34.432503043000054 ], [ 44.501974235000034, 34.44874616900006 ], [ 44.499348169000029, 34.455783876000055 ], [ 44.495409069000061, 34.464444856000057 ], [ 44.49409603600003, 34.473104936000027 ], [ 44.489574791000052, 34.499817398000062 ], [ 44.507205851000037, 34.510384183000042 ], [ 44.516822793000074, 34.519629021000071 ], [ 44.520028440000033, 34.531513733000054 ], [ 44.516822793000074, 34.542076498000029 ], [ 44.510411498000053, 34.548677545000032 ], [ 44.507205851000037, 34.560558111000034 ], [ 44.505603027000063, 34.579035619000024 ], [ 44.507205851000037, 34.59882839200003 ], [ 44.513617145000069, 34.606744181000067 ], [ 44.528042558000038, 34.609382609000079 ], [ 44.540865147000034, 34.610701792000043 ], [ 44.55368773500004, 34.609382609000079 ], [ 44.576127266000071, 34.596189628000047 ], [ 44.595361149000041, 34.577715933000036 ], [ 44.611389385000052, 34.560558111000034 ], [ 44.635431739000069, 34.543396749000067 ], [ 44.657871270000044, 34.540756226000042 ], [ 44.669091035000065, 34.555278069000053 ], [ 44.675502329000039, 34.571117190000052 ], [ 44.680310800000029, 34.589592351000078 ], [ 44.683516447000045, 34.609382609000079 ], [ 44.68672209500005, 34.623892468000065 ], [ 44.699544683000056, 34.63312469300007 ], [ 44.723587038000062, 34.643674550000071 ], [ 44.725189861000047, 34.70299248300006 ], [ 44.729998332000036, 34.738562847000026 ], [ 44.742820921000032, 34.754366984000058 ], [ 44.757246333000069, 34.764901396000027 ], [ 44.776480217000028, 34.782016948000035 ], [ 44.797316923000039, 34.801761250000027 ], [ 44.814947983000081, 34.855704882000055 ], [ 44.869443986000078, 34.867541436000067 ], [ 44.901500458000044, 34.867541436000067 ], [ 44.912720223000065, 34.872801580000043 ], [ 44.91432304600005, 34.895153438000079 ], [ 44.92073434100007, 34.918813484000054 ], [ 44.933556930000066, 34.938524980000068 ], [ 44.936762577000081, 34.958231740000031 ], [ 44.931954106000035, 34.98187359800005 ], [ 44.931954106000035, 35.002882854000063 ], [ 44.923939988000029, 35.030449317000034 ], [ 44.903103281000028, 35.052758219000054 ], [ 44.879060927000069, 35.071125681000069 ], [ 44.840593161000072, 35.089489010000079 ], [ 44.80853668900005, 35.09473491600005 ], [ 44.768466098000033, 35.09473491600005 ], [ 44.68672209500005, 35.102603142000078 ], [ 44.649857152000038, 35.102603142000078 ], [ 44.609786562000068, 35.10391443900005 ], [ 44.56971597200004, 35.11047060900006 ], [ 44.544070794000049, 35.120959384000059 ], [ 44.528042558000038, 35.131446808000078 ], [ 44.507205851000037, 35.149796551000065 ], [ 44.490068760000042, 35.157969887000036 ], [ 44.487971968000068, 35.158969871000068 ], [ 44.473546555000041, 35.135379244000035 ], [ 44.467135261000067, 35.109159418000047 ], [ 44.460723966000046, 35.07374926600005 ], [ 44.451107025000056, 35.05013395800006 ], [ 44.414242082000044, 34.988439570000025 ], [ 44.380582786000048, 34.930640950000054 ], [ 44.318072666000035, 34.810973640000043 ], [ 44.271590781000043, 34.749099274000059 ], [ 44.252356898000073, 34.743831228000033 ], [ 44.229917367000041, 34.753050088000066 ], [ 44.212286308000046, 34.770168098000056 ], [ 44.19305242400003, 34.783333382000023 ], [ 44.175421365000034, 34.795180341000048 ], [ 44.154584658000033, 34.804393466000079 ], [ 44.140159246000053, 34.814921491000064 ], [ 44.106499950000057, 34.841235669000071 ], [ 44.05200394700006, 34.878061388000049 ], [ 44.024755946000028, 34.888579993000064 ], [ 44.000713592000068, 34.893838791000064 ], [ 43.963848649000056, 34.900411815000041 ], [ 43.928586530000075, 34.906984313000066 ], [ 43.906146999000043, 34.916184927000074 ], [ 43.883707469000058, 34.937211028000036 ], [ 43.869282056000031, 34.952977067000063 ], [ 43.853253820000077, 34.973993737000058 ], [ 43.805169112000044, 35.018636257000026 ], [ 43.774715464000053, 35.051446099000032 ], [ 43.750673110000037, 35.067190144000051 ], [ 43.72182228500003, 35.077684487000056 ], [ 43.689765813000065, 35.085554358000024 ], [ 43.665723459000048, 35.093423471000051 ], [ 43.632064163000052, 35.101291824000043 ], [ 43.616035927000041, 35.106536971000025 ], [ 43.579170984000029, 35.120959384000059 ], [ 43.556731453000054, 35.131446808000078 ], [ 43.513455216000068, 35.14586481200007 ], [ 43.441328154000075, 35.164211304000048 ], [ 43.420491447000074, 35.16683189400004 ], [ 43.399654740000074, 35.170762620000062 ], [ 43.374009563000072, 35.17862350300004 ], [ 43.353172856000072, 35.189103497000076 ], [ 43.345158738000066, 35.20482095400007 ], [ 43.337144620000061, 35.223154144000034 ], [ 43.324322031000065, 35.241483192000032 ], [ 43.301882500000033, 35.283362607000072 ], [ 43.289059911000038, 35.304294196000058 ], [ 43.282648617000063, 35.319989336000049 ], [ 43.274634499000058, 35.34221890200007 ], [ 43.266620381000052, 35.360521013000039 ], [ 43.253797792000057, 35.382739429000026 ], [ 43.239372380000077, 35.402338833000044 ], [ 43.224946967000051, 35.465024908000032 ], [ 43.232961085000056, 35.472857236000038 ], [ 43.252194969000072, 35.481993987000067 ], [ 43.271428852000042, 35.485909420000041 ], [ 43.303485324000064, 35.492434717000037 ], [ 43.319513560000075, 35.497654573000034 ], [ 43.340350267000076, 35.502874090000034 ], [ 43.357981326000072, 35.510702730000048 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.369201092000026, 35.52896658800006 ], [ 43.361186974000077, 35.540705445000071 ], [ 43.351570032000041, 35.548530395000057 ], [ 43.332336149000071, 35.556354581000051 ], [ 43.314705089000029, 35.568089429000054 ], [ 43.309896618000039, 35.578518963000079 ], [ 43.309896618000039, 35.591553970000064 ], [ 43.313102266000044, 35.603283662000024 ], [ 43.321116384000049, 35.620223516000067 ], [ 43.329130502000055, 35.63455443600003 ], [ 43.33554179600003, 35.646277823000048 ], [ 43.340350267000076, 35.657999491000055 ], [ 43.341953090000061, 35.672323637000034 ], [ 43.343555914000035, 35.691852421000078 ], [ 43.341953090000061, 35.711376425000026 ], [ 43.33554179600003, 35.725690990000032 ], [ 43.322277968000037, 35.738325517000078 ], [ 43.321116384000049, 35.732196760000079 ], [ 43.317910736000044, 35.721787273000075 ], [ 43.300279677000049, 35.707472007000035 ], [ 43.273031675000027, 35.694455898000058 ], [ 43.248989321000067, 35.686645213000077 ], [ 43.221741320000035, 35.677531780000038 ], [ 43.191287672000044, 35.663208568000073 ], [ 43.164039670000079, 35.648882787000048 ], [ 43.09832390300005, 35.637159782000026 ], [ 42.997346015000062, 35.637159782000026 ], [ 42.885148363000042, 35.556354581000051 ], [ 42.859503185000051, 35.542009656000062 ], [ 42.83866647900004, 35.526357720000078 ], [ 42.81462412500008, 35.501569243000063 ], [ 42.796993065000038, 35.478078364000055 ], [ 42.795390241000064, 35.404951727000025 ], [ 42.805007183000043, 35.381432633000031 ], [ 42.809815654000033, 35.364442355000051 ], [ 42.809815654000033, 35.340911450000078 ], [ 42.816226948000065, 35.323912644000075 ], [ 42.84347494900004, 35.295137292000049 ], [ 42.905985070000042, 35.228391437000028 ], [ 42.973303661000045, 35.143243547000054 ], [ 42.995743192000077, 35.105471578000049 ], [ 42.419728459000055, 35.095226702000048 ], [ 42.422232871000062, 34.931133724000063 ], [ 42.442268166000076, 34.558660635000024 ], [ 42.770346122000035, 34.374895940000044 ], [ 42.923115247000055, 34.515336902000058 ], [ 42.920610835000048, 34.228007339000044 ], [ 42.998247604000028, 34.147212816000035 ], [ 43.045831429000032, 34.12233739800007 ], [ 43.103432903000055, 34.08708469100003 ], [ 43.115954962000046, 34.055967167000063 ], [ 43.115954962000046, 34.022762546000024 ], [ 43.183574083000053, 34.004079235000063 ], [ 43.183574083000053, 33.968777321000061 ], [ 43.326325560000043, 33.84406520400006 ], [ 43.521669687000042, 33.79621054200004 ], [ 43.551722630000029, 33.79412929700004 ], [ 43.571757925000043, 33.792048002000058 ], [ 43.60181086700004, 33.792048002000058 ], [ 43.629359398000076, 33.792048002000058 ], [ 43.671934400000055, 33.789966656000047 ], [ 43.70449175400006, 33.773314066000069 ], [ 43.732040285000039, 33.750411470000074 ], [ 44.020047652000073, 33.742081736000046 ], [ 44.045091770000056, 33.725419841000075 ], [ 44.072640301000035, 33.700420932000043 ], [ 44.082657949000065, 33.671246343000064 ], [ 44.082657949000065, 33.631636423000032 ], [ 44.10519765600003, 33.614953109000055 ], [ 44.132746186000077, 33.598266566000063 ], [ 44.165303541000071, 33.577403846000038 ], [ 44.215391778000026, 33.508521089000055 ], [ 44.260471192000068, 33.433313682000062 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Diyala", "shapeISO": "IQ-DI", "shapeID": "90741666B43715208964458", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.568113148000066, 33.129567433000034 ], [ 44.579525252000053, 33.115391987000066 ], [ 44.582602673000054, 33.107658961000027 ], [ 44.591834937000044, 33.113673596000069 ], [ 44.608247851000044, 33.118828669000038 ], [ 44.634918836000054, 33.116251170000055 ], [ 44.647228521000045, 33.105940419000035 ], [ 44.644151100000045, 33.08789369200008 ], [ 44.645176907000064, 33.071562508000056 ], [ 44.656460785000036, 33.062965931000065 ], [ 44.673899506000055, 33.057807582000066 ], [ 44.693389841000055, 33.06124651500005 ], [ 44.706725333000065, 33.067264325000053 ], [ 44.719035019000046, 33.069843260000027 ], [ 44.732370511000056, 33.073281723000036 ], [ 44.749809232000075, 33.092190867000056 ], [ 44.792893130000039, 33.130855997000026 ], [ 44.830847993000077, 33.159199607000062 ], [ 44.844183486000077, 33.183241550000048 ], [ 44.855467364000049, 33.208993454000051 ], [ 44.862648013000069, 33.229589525000051 ], [ 44.87085447000004, 33.252754308000078 ], [ 44.892396420000068, 33.282773592000069 ], [ 44.906757719000041, 33.291348635000077 ], [ 44.944712582000079, 33.300780209000038 ], [ 44.97035776000007, 33.306781589000025 ], [ 44.999080359000061, 33.311068036000052 ], [ 45.018570694000061, 33.321354649000057 ], [ 45.042164257000081, 33.325640379000049 ], [ 45.101661069000045, 33.307638895000025 ], [ 45.140641739000046, 33.293920984000067 ], [ 45.171415953000064, 33.282773592000069 ], [ 45.191932095000027, 33.273340072000053 ], [ 45.218603080000037, 33.26047453800004 ], [ 45.238093415000037, 33.249322875000075 ], [ 45.253480521000029, 33.23988574200007 ], [ 45.270919242000048, 33.227873371000044 ], [ 45.293486998000049, 33.220150261000072 ], [ 45.332467668000049, 33.21757573900004 ], [ 45.41042900900004, 33.215859350000073 ], [ 45.45453871400008, 33.206418605000067 ], [ 45.468900014000042, 33.198693601000059 ], [ 45.495570998000062, 33.198693601000059 ], [ 45.525319405000062, 33.186675574000049 ], [ 45.547887161000062, 33.175514502000055 ], [ 45.565325882000081, 33.16692809400007 ], [ 45.578661374000035, 33.159199607000062 ], [ 45.600203323000073, 33.155764506000025 ], [ 45.619693658000074, 33.160917107000046 ], [ 45.641235608000045, 33.17379728700007 ], [ 45.679190471000027, 33.203843679000045 ], [ 45.692525963000037, 33.220150261000072 ], [ 45.718171141000028, 33.249322875000075 ], [ 45.727403405000075, 33.265620979000062 ], [ 45.738687283000047, 33.292206093000061 ], [ 45.746893740000075, 33.312782555000069 ], [ 45.757151811000028, 33.334211208000056 ], [ 45.769461496000076, 33.347922779000044 ], [ 45.789977638000039, 33.350493459000063 ], [ 45.817674430000068, 33.352207203000034 ], [ 45.84537122200004, 33.368486089000044 ], [ 45.853577679000068, 33.387331520000032 ], [ 45.86178413600004, 33.399321941000039 ], [ 45.87511962800005, 33.426722405000078 ], [ 45.887429313000041, 33.450690718000033 ], [ 45.89460996300005, 33.458393412000078 ], [ 45.917177719000051, 33.466951159000075 ], [ 45.940771283000061, 33.475508061000028 ], [ 45.966416461000051, 33.48577522800008 ], [ 45.982829374000062, 33.500318298000025 ], [ 45.992061638000052, 33.514858925000055 ], [ 46.001293902000043, 33.529397109000058 ], [ 46.015655202000062, 33.538802866000026 ], [ 46.019319516000053, 33.538320615000032 ], [ 46.001037450000069, 33.562796940000055 ], [ 45.978497743000048, 33.569057345000033 ], [ 45.963471272000049, 33.556536081000047 ], [ 45.943435977000036, 33.539838239000062 ], [ 45.923400682000079, 33.53357571600003 ], [ 45.888338916000066, 33.535663274000058 ], [ 45.895852151000042, 33.554449027000032 ], [ 45.915887446000056, 33.575317296000037 ], [ 45.938427153000077, 33.589922083000033 ], [ 45.958462448000034, 33.598266566000063 ], [ 45.978497743000048, 33.61703870000008 ], [ 45.970984508000072, 33.633721610000066 ], [ 45.945940389000043, 33.64206185300003 ], [ 45.920896270000071, 33.658739917000048 ], [ 45.920896270000071, 33.671246343000064 ], [ 45.915887446000056, 33.685834875000069 ], [ 45.888338916000066, 33.685834875000069 ], [ 45.855781561000072, 33.685834875000069 ], [ 45.813206559000037, 33.677498874000037 ], [ 45.798180088000038, 33.660824447000039 ], [ 45.778144793000081, 33.648316506000072 ], [ 45.753100674000052, 33.664993357000071 ], [ 45.775640381000073, 33.679582950000054 ], [ 45.773135969000066, 33.687918749000062 ], [ 45.758109498000067, 33.698337362000075 ], [ 45.725552143000073, 33.717087680000077 ], [ 45.708021260000066, 33.733751193000046 ], [ 45.685481553000045, 33.746246704000043 ], [ 45.670455082000046, 33.762904554000045 ], [ 45.657933023000055, 33.783722314000045 ], [ 45.655428611000048, 33.798291736000067 ], [ 45.642906551000067, 33.819100895000076 ], [ 45.620366844000046, 33.833664294000073 ], [ 45.602835961000039, 33.848225213000035 ], [ 45.587809490000041, 33.879418825000073 ], [ 45.577791842000067, 33.900208234000047 ], [ 45.557756547000054, 33.925148836000062 ], [ 45.542730076000055, 33.943849496000041 ], [ 45.522694781000041, 33.981238494000024 ], [ 45.522241983000072, 34.000129472000026 ], [ 45.500700034000033, 34.005231906000063 ], [ 45.478132278000032, 33.999279036000075 ], [ 45.462745171000051, 33.988222599000039 ], [ 45.439151608000032, 33.991624733000037 ], [ 45.43094515100006, 34.004381522000074 ], [ 45.42786772900007, 34.009483701000079 ], [ 45.415558044000079, 34.029039215000068 ], [ 45.435048379000079, 34.047740273000045 ], [ 45.455564521000042, 34.055389518000027 ], [ 45.467874207000079, 34.06303807200004 ], [ 45.47402904900008, 34.075784128000066 ], [ 45.485312927000052, 34.089377808000052 ], [ 45.488390349000042, 34.098722197000029 ], [ 45.492493577000062, 34.120804832000033 ], [ 45.503777455000034, 34.138636599000051 ], [ 45.515061333000062, 34.153069083000048 ], [ 45.527371019000043, 34.159011154000041 ], [ 45.541732318000072, 34.168347849000043 ], [ 45.554042004000053, 34.177683511000055 ], [ 45.577635567000073, 34.179380794000053 ], [ 45.584816217000025, 34.187018141000067 ], [ 45.583790410000063, 34.193806314000028 ], [ 45.580712988000073, 34.216712363000056 ], [ 45.571480724000025, 34.22264995200004 ], [ 45.562248460000035, 34.234523875000036 ], [ 45.560196846000053, 34.247244077000062 ], [ 45.564300075000062, 34.254027399000051 ], [ 45.574558146000072, 34.260810174000028 ], [ 45.574558146000072, 34.273526403000062 ], [ 45.577635567000073, 34.289630866000039 ], [ 45.595074288000035, 34.299800516000062 ], [ 45.597125902000073, 34.31759444000005 ], [ 45.597125902000073, 34.326913562000072 ], [ 45.593022674000053, 34.344701739000072 ], [ 45.584816217000025, 34.357405271000061 ], [ 45.573532339000053, 34.365873222000062 ], [ 45.560196846000053, 34.376880279000034 ], [ 45.559171039000034, 34.381113377000077 ], [ 45.532500054000081, 34.387039356000059 ], [ 45.518138755000052, 34.387885890000064 ], [ 45.486338734000071, 34.396350760000075 ], [ 45.481209699000033, 34.403968411000051 ], [ 45.473003242000061, 34.412431654000045 ], [ 45.47402904900008, 34.423432590000061 ], [ 45.476080663000062, 34.441200276000075 ], [ 45.473003242000061, 34.458964184000024 ], [ 45.455564521000042, 34.476724313000034 ], [ 45.44735806400007, 34.491098793000049 ], [ 45.44735806400007, 34.503780100000029 ], [ 45.461719364000032, 34.513923756000054 ], [ 45.482235506000052, 34.516459478000058 ], [ 45.501725841000052, 34.518995122000035 ], [ 45.520190369000034, 34.524066178000055 ], [ 45.527371019000043, 34.534207365000043 ], [ 45.529422633000081, 34.551106599000036 ], [ 45.529422633000081, 34.611071160000051 ], [ 45.535577476000071, 34.626266567000073 ], [ 45.543783932000053, 34.639771260000032 ], [ 45.558145232000072, 34.637239297000065 ], [ 45.567377496000063, 34.614448157000027 ], [ 45.579687181000054, 34.603472413000077 ], [ 45.602254938000044, 34.595028545000048 ], [ 45.621745273000045, 34.592495218000067 ], [ 45.672009821000074, 34.594184111000061 ], [ 45.704835648000028, 34.594184111000061 ], [ 45.723300176000066, 34.584894771000052 ], [ 45.736635669000066, 34.577293630000042 ], [ 45.741764704000047, 34.587428331000069 ], [ 45.741764704000047, 34.606849720000071 ], [ 45.740738897000028, 34.622045899000057 ], [ 45.738687283000047, 34.636395293000078 ], [ 45.738687283000047, 34.656649034000054 ], [ 45.733558247000076, 34.669305109000049 ], [ 45.723300176000066, 34.68195925200007 ], [ 45.721248562000028, 34.700515162000045 ], [ 45.717145334000065, 34.708105018000026 ], [ 45.705861455000047, 34.724968870000055 ], [ 45.697654999000065, 34.738457476000065 ], [ 45.682267892000027, 34.744358048000038 ], [ 45.669958207000036, 34.75447233500006 ], [ 45.668932400000074, 34.767113452000046 ], [ 45.674061435000056, 34.780595176000077 ], [ 45.682267892000027, 34.789020135000044 ], [ 45.690474349000056, 34.799128949000078 ], [ 45.697654999000065, 34.80502518600008 ], [ 45.703809841000066, 34.813447649000068 ], [ 45.704835648000028, 34.837025965000066 ], [ 45.706887262000066, 34.857230578000042 ], [ 45.720222755000066, 34.864806028000032 ], [ 45.741764704000047, 34.868172671000025 ], [ 45.754074389000039, 34.869014311000058 ], [ 45.775616339000067, 34.877430229000026 ], [ 45.788951831000077, 34.88836963500006 ], [ 45.795106674000067, 34.89762491700003 ], [ 45.794080867000048, 34.911926485000038 ], [ 45.794531307000057, 34.942209687000059 ], [ 45.795106674000067, 34.980875524000055 ], [ 45.791003445000058, 35.003565564000041 ], [ 45.78279698800003, 35.016168424000057 ], [ 45.771513110000058, 35.038008780000041 ], [ 45.771513110000058, 35.119438595000076 ], [ 45.771513110000058, 35.155510341000024 ], [ 45.764332460000048, 35.172282450000068 ], [ 45.747919547000038, 35.174797968000064 ], [ 45.733558247000076, 35.16725118100004 ], [ 45.723300176000066, 35.159703692000051 ], [ 45.706887262000066, 35.158026378000045 ], [ 45.702784034000047, 35.143767806000028 ], [ 45.697654999000065, 35.128667773000075 ], [ 45.684319506000065, 35.104334050000034 ], [ 45.667906592000065, 35.095941426000024 ], [ 45.652519486000074, 35.088387326000031 ], [ 45.637132379000036, 35.076635113000066 ], [ 45.630977537000035, 35.060682973000041 ], [ 45.608409780000045, 35.043048034000037 ], [ 45.607383973000026, 35.025409287000059 ], [ 45.618667851000055, 35.009447140000077 ], [ 45.628925922000064, 35.001885036000033 ], [ 45.630977537000035, 34.990960763000032 ], [ 45.615590430000054, 34.97835402000004 ], [ 45.612513009000054, 34.956497735000028 ], [ 45.601229130000036, 34.950612354000043 ], [ 45.580712988000073, 34.943044816000054 ], [ 45.563274268000043, 34.925384509000025 ], [ 45.544809740000062, 34.910244077000073 ], [ 45.540706511000053, 34.877430229000026 ], [ 45.535577476000071, 34.865647702000047 ], [ 45.526345212000081, 34.857230578000042 ], [ 45.514035526000043, 34.847128892000057 ], [ 45.501725841000052, 34.837025965000066 ], [ 45.48736454200008, 34.822711364000043 ], [ 45.479158085000051, 34.80502518600008 ], [ 45.476080663000062, 34.788177677000078 ], [ 45.469925821000061, 34.755315136000036 ], [ 45.469925821000061, 34.734242523000034 ], [ 45.446332257000051, 34.715694177000046 ], [ 45.421712887000069, 34.698828433000074 ], [ 45.39811932300006, 34.696298275000061 ], [ 45.369396724000069, 34.696298275000061 ], [ 45.350932196000031, 34.692924611000024 ], [ 45.337596704000077, 34.681115702000056 ], [ 45.326312826000049, 34.670148779000044 ], [ 45.306822491000048, 34.652429912000059 ], [ 45.284254734000058, 34.633863227000063 ], [ 45.266816014000028, 34.637239297000065 ], [ 45.258609557000057, 34.649054461000048 ], [ 45.251428907000047, 34.66086794000006 ], [ 45.252454714000066, 34.679428578000056 ], [ 45.251428907000047, 34.698828433000074 ], [ 45.249377293000066, 34.714850971000033 ], [ 45.243222450000076, 34.723282640000036 ], [ 45.240145029000075, 34.735928530000024 ], [ 45.236041800000066, 34.755315136000036 ], [ 45.224757922000038, 34.768798788000026 ], [ 45.213474044000066, 34.775539787000071 ], [ 45.205267587000037, 34.78480776300006 ], [ 45.207319201000075, 34.801655959000072 ], [ 45.200138552000055, 34.812605441000073 ], [ 45.195009516000027, 34.828605913000047 ], [ 45.195009516000027, 34.842077583000048 ], [ 45.187828866000075, 34.853863487000069 ], [ 45.168338531000074, 34.864806028000032 ], [ 45.151925618000064, 34.863964346000046 ], [ 45.140641739000046, 34.853021693000073 ], [ 45.117048176000026, 34.847970746000044 ], [ 45.106790105000073, 34.842077583000048 ], [ 45.091402998000035, 34.83618399900007 ], [ 45.081144927000025, 34.847128892000057 ], [ 45.077041699000063, 34.860597531000053 ], [ 45.067809435000072, 34.872380781000061 ], [ 45.060628785000063, 34.884162343000071 ], [ 45.046267486000033, 34.895100853000031 ], [ 45.030880379000052, 34.899307584000042 ], [ 45.012415851000071, 34.886686744000031 ], [ 44.997028744000033, 34.874063965000062 ], [ 44.982667445000061, 34.865647702000047 ], [ 44.95702226700007, 34.861439248000067 ], [ 44.941635161000079, 34.863122655000041 ], [ 44.928299668000079, 34.865647702000047 ], [ 44.912720223000065, 34.872801580000043 ], [ 44.901500458000044, 34.867541436000067 ], [ 44.869443986000078, 34.867541436000067 ], [ 44.814947983000081, 34.855704882000055 ], [ 44.797316923000039, 34.801761250000027 ], [ 44.776480217000028, 34.782016948000035 ], [ 44.757246333000069, 34.764901396000027 ], [ 44.742820921000032, 34.754366984000058 ], [ 44.729998332000036, 34.738562847000026 ], [ 44.725189861000047, 34.70299248300006 ], [ 44.723587038000062, 34.643674550000071 ], [ 44.699544683000056, 34.63312469300007 ], [ 44.68672209500005, 34.623892468000065 ], [ 44.683516447000045, 34.609382609000079 ], [ 44.680310800000029, 34.589592351000078 ], [ 44.675502329000039, 34.571117190000052 ], [ 44.669091035000065, 34.555278069000053 ], [ 44.657871270000044, 34.540756226000042 ], [ 44.635431739000069, 34.543396749000067 ], [ 44.611389385000052, 34.560558111000034 ], [ 44.595361149000041, 34.577715933000036 ], [ 44.576127266000071, 34.596189628000047 ], [ 44.55368773500004, 34.609382609000079 ], [ 44.540865147000034, 34.610701792000043 ], [ 44.528042558000038, 34.609382609000079 ], [ 44.513617145000069, 34.606744181000067 ], [ 44.507205851000037, 34.59882839200003 ], [ 44.505603027000063, 34.579035619000024 ], [ 44.507205851000037, 34.560558111000034 ], [ 44.510411498000053, 34.548677545000032 ], [ 44.516822793000074, 34.542076498000029 ], [ 44.520028440000033, 34.531513733000054 ], [ 44.516822793000074, 34.519629021000071 ], [ 44.507205851000037, 34.510384183000042 ], [ 44.489574791000052, 34.499817398000062 ], [ 44.49409603600003, 34.473104936000027 ], [ 44.495409069000061, 34.464444856000057 ], [ 44.499348169000029, 34.455783876000055 ], [ 44.501974235000034, 34.44874616900006 ], [ 44.503287268000065, 34.432503043000054 ], [ 44.492783003000056, 34.420047841000041 ], [ 44.488843904000078, 34.41138225800006 ], [ 44.479652672000043, 34.402715778000072 ], [ 44.473087507000059, 34.392964914000061 ], [ 44.471774473000039, 34.377794646000041 ], [ 44.479652672000043, 34.365873222000062 ], [ 44.491469970000026, 34.358827946000076 ], [ 44.491177615000026, 34.319977269000049 ], [ 44.491177615000026, 34.301442375000079 ], [ 44.479957850000062, 34.28820066000003 ], [ 44.467135261000067, 34.282903390000058 ], [ 44.451107025000056, 34.274956859000042 ], [ 44.43828443600006, 34.264360315000033 ], [ 44.428667494000081, 34.248462996000058 ], [ 44.420653376000075, 34.229912327000079 ], [ 44.404625140000064, 34.223286098000074 ], [ 44.390199728000027, 34.221960789000036 ], [ 44.370965845000057, 34.221960789000036 ], [ 44.362951727000052, 34.211357571000065 ], [ 44.350129138000057, 34.198101672000064 ], [ 44.33089525400004, 34.162300335000054 ], [ 44.324483960000066, 34.145057236000071 ], [ 44.319675489000076, 34.133117645000027 ], [ 44.306852900000081, 34.119849453000029 ], [ 44.300441606000049, 34.101270487000079 ], [ 44.300441606000049, 34.084014937000063 ], [ 44.300441606000049, 34.073394389000043 ], [ 44.300441606000049, 34.062772509000069 ], [ 44.314867018000029, 34.056133157000033 ], [ 44.340512196000077, 34.053477271000077 ], [ 44.359746079000047, 34.052149297000028 ], [ 44.382185610000079, 34.046837192000055 ], [ 44.395008199000074, 34.037540207000063 ], [ 44.406227964000038, 34.024257033000026 ], [ 44.419050553000034, 34.016286130000026 ], [ 44.427064671000039, 34.002999629000044 ], [ 44.439887260000035, 33.997684446000051 ], [ 44.455915496000046, 33.98971104900005 ], [ 44.45751831900003, 33.976420391000033 ], [ 44.460723966000046, 33.94850324500004 ], [ 44.444695730000035, 33.939195494000046 ], [ 44.439887260000035, 33.932546477000074 ], [ 44.431873142000029, 33.905945219000046 ], [ 44.420653376000075, 33.888649948000079 ], [ 44.40302231700008, 33.87401274900003 ], [ 44.386994081000068, 33.863365936000037 ], [ 44.385391257000038, 33.848724401000027 ], [ 44.385391257000038, 33.834080355000026 ], [ 44.383788433000063, 33.81410715800007 ], [ 44.385391257000038, 33.799457183000072 ], [ 44.406227964000038, 33.788801080000042 ], [ 44.414242082000044, 33.776811379000037 ], [ 44.41744772900006, 33.763487520000069 ], [ 44.414242082000044, 33.751494276000074 ], [ 44.401419493000049, 33.739499354000031 ], [ 44.398213846000033, 33.714171233000059 ], [ 44.391802551000069, 33.678165784000043 ], [ 44.386994081000068, 33.670162525000023 ], [ 44.364554550000037, 33.667494606000048 ], [ 44.346923490000052, 33.66616061600007 ], [ 44.33089525400004, 33.650151118000053 ], [ 44.33089525400004, 33.631469606000053 ], [ 44.327689607000025, 33.608779465000055 ], [ 44.32127831300005, 33.599434729000052 ], [ 44.306852900000081, 33.584748099000024 ], [ 44.310058548000029, 33.532657175000054 ], [ 44.314867018000029, 33.521967975000052 ], [ 44.32127831300005, 33.516622879000067 ], [ 44.327689607000025, 33.50860461700006 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.345320667000067, 33.495239195000067 ], [ 44.55368773500004, 33.492565863000038 ], [ 44.590552678000051, 33.457805036000025 ], [ 44.593758326000057, 33.437744371000065 ], [ 44.595361149000041, 33.409651647000032 ], [ 44.598566796000057, 33.385564935000048 ], [ 44.596963973000072, 33.329336652000052 ], [ 44.598566796000057, 33.318622385000026 ], [ 44.592155502000026, 33.306567261000055 ], [ 44.580935737000061, 33.295850195000071 ], [ 44.56490750100005, 33.289151361000052 ], [ 44.542467970000075, 33.283791923000024 ], [ 44.523234087000048, 33.279772128000047 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.483163497000078, 33.275752148000038 ], [ 44.492780439000057, 33.256989796000028 ], [ 44.492780439000057, 33.240904572000034 ], [ 44.495986086000073, 33.224816388000079 ], [ 44.507205851000037, 33.212748308000073 ], [ 44.528042558000038, 33.202019728000039 ], [ 44.545673617000034, 33.192631142000039 ], [ 44.556893383000045, 33.176534082000046 ], [ 44.566510324000035, 33.142989042000067 ], [ 44.568113148000066, 33.129567433000034 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Kirkuk", "shapeISO": "IQ-KI", "shapeID": "90741666B18027903150762", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.490068760000042, 35.157969887000036 ], [ 44.530947676000039, 35.173055456000043 ], [ 44.553487383000061, 35.177149645000043 ], [ 44.591053561000081, 35.183290542000066 ], [ 44.606080032000079, 35.18943097500005 ], [ 44.621106503000078, 35.201710449000075 ], [ 44.641141798000035, 35.222172114000045 ], [ 44.658672682000031, 35.236492210000051 ], [ 44.676203565000037, 35.252854939000031 ], [ 44.681212389000052, 35.273303707000025 ], [ 44.686221212000078, 35.29579139100008 ], [ 44.693734448000043, 35.326446347000058 ], [ 44.706256507000035, 35.338705076000053 ], [ 44.716274155000065, 35.357089683000027 ], [ 44.728796214000056, 35.377512117000038 ], [ 44.756344745000035, 35.40201221600006 ], [ 44.771371216000034, 35.414259474000062 ], [ 44.78890209900004, 35.426504871000077 ], [ 44.811441806000062, 35.436707947000059 ], [ 44.82646827800005, 35.455070225000043 ], [ 44.82646827800005, 35.471388733000026 ], [ 44.818955042000027, 35.493821274000027 ], [ 44.793910923000055, 35.524401013000045 ], [ 44.778884452000057, 35.546818752000036 ], [ 44.756344745000035, 35.57534135800006 ], [ 44.751335921000077, 35.591635432000032 ], [ 44.74883150900007, 35.620142083000076 ], [ 44.74883150900007, 35.652708673000063 ], [ 44.763857981000058, 35.66695238300008 ], [ 44.776380040000049, 35.681193552000025 ], [ 44.781388864000064, 35.699499892000063 ], [ 44.763857981000058, 35.713735252000049 ], [ 44.746327097000062, 35.732034122000073 ], [ 44.731300626000063, 35.748296255000071 ], [ 44.716274155000065, 35.762522896000064 ], [ 44.706256507000035, 35.782842257000027 ], [ 44.716274155000065, 35.807218636000073 ], [ 44.738813862000029, 35.821434736000072 ], [ 44.738813862000029, 35.841739035000046 ], [ 44.731300626000063, 35.862038138000059 ], [ 44.71126533100005, 35.876244418000056 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.696238860000051, 35.884361148000039 ], [ 44.666185917000064, 35.896534685000063 ], [ 44.638637387000074, 35.902620751000029 ], [ 44.621583343000054, 35.907651546000068 ], [ 44.600041394000073, 35.907651546000068 ], [ 44.576447831000053, 35.904328011000075 ], [ 44.566189760000043, 35.895187572000054 ], [ 44.557983303000071, 35.890201433000072 ], [ 44.543622003000053, 35.870253737000041 ], [ 44.517976826000051, 35.868591203000051 ], [ 44.506692947000033, 35.874409922000041 ], [ 44.487202612000033, 35.881059363000077 ], [ 44.468738084000051, 35.881059363000077 ], [ 44.44309290700005, 35.881059363000077 ], [ 44.41334450100004, 35.880228213000066 ], [ 44.391802551000069, 35.869422474000032 ], [ 44.372312216000068, 35.85196393700005 ], [ 44.348718653000049, 35.848638065000046 ], [ 44.298454105000076, 35.850301019000028 ], [ 44.262550856000075, 35.854458249000061 ], [ 44.244086328000037, 35.86194071500006 ], [ 44.105602369000053, 35.864434713000037 ], [ 44.095344298000043, 35.856121080000037 ], [ 44.075853962000053, 35.836996416000034 ], [ 44.060466856000062, 35.826184783000031 ], [ 44.035847485000033, 35.820362525000064 ], [ 44.018408765000061, 35.821194302000038 ], [ 44.008150693000061, 35.830343278000043 ], [ 44.000970044000042, 35.833669917000066 ], [ 43.985582937000061, 35.842817454000055 ], [ 43.97224744500005, 35.84946954600008 ], [ 43.953782917000069, 35.853626821000034 ], [ 43.94044742400007, 35.861109365000061 ], [ 43.915828054000031, 35.866097335000063 ], [ 43.89326029700004, 35.866097335000063 ], [ 43.838892521000048, 35.867759922000062 ], [ 43.829660257000057, 35.857783877000031 ], [ 43.816324764000058, 35.84032277600005 ], [ 43.804015079000067, 35.831174951000037 ], [ 43.793757008000057, 35.818698944000062 ], [ 43.779395709000028, 35.805389042000058 ], [ 43.773240866000037, 35.786252150000053 ], [ 43.765034409000066, 35.770439937000049 ], [ 43.755802145000075, 35.747964541000044 ], [ 43.748621495000066, 35.716321747000052 ], [ 43.738363424000056, 35.692997962000049 ], [ 43.738363424000056, 35.672167387000059 ], [ 43.735286003000056, 35.657999491000055 ], [ 43.726053739000065, 35.644662703000051 ], [ 43.720924703000037, 35.625487170000042 ], [ 43.713744054000074, 35.609643043000062 ], [ 43.711692440000036, 35.59880051600004 ], [ 43.704511790000026, 35.563760774000059 ], [ 43.695279526000036, 35.556250264000028 ], [ 43.685021455000026, 35.545400506000078 ], [ 43.683995648000064, 35.52787087400003 ], [ 43.682969841000045, 35.504492072000062 ], [ 43.669634348000045, 35.501151687000061 ], [ 43.648092399000063, 35.502821897000047 ], [ 43.636808521000034, 35.511172424000051 ], [ 43.629627871000025, 35.519522083000027 ], [ 43.614240764000044, 35.52870570500005 ], [ 43.599879465000072, 35.529540527000051 ], [ 43.575260094000043, 35.527036034000048 ], [ 43.552692338000043, 35.525366328000075 ], [ 43.547563302000071, 35.517017277000036 ], [ 43.546537495000052, 35.50198679600004 ], [ 43.546537495000052, 35.484447681000063 ], [ 43.544485881000071, 35.459385160000068 ], [ 43.53525361700008, 35.448522309000055 ], [ 43.527047160000052, 35.460220703000061 ], [ 43.516789089000042, 35.467740202000073 ], [ 43.510634247000041, 35.476929745000064 ], [ 43.507556825000052, 35.486953503000052 ], [ 43.49216971900006, 35.496140850000074 ], [ 43.473705191000079, 35.501151687000061 ], [ 43.466524541000069, 35.491964913000061 ], [ 43.460369698000079, 35.471081975000061 ], [ 43.44908582000005, 35.466069263000065 ], [ 43.43267290600005, 35.469411106000052 ], [ 43.424466450000068, 35.476094375000059 ], [ 43.415234186000077, 35.48945924700007 ], [ 43.408053536000068, 35.498646308000048 ], [ 43.390614815000049, 35.51200742900005 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.357981326000072, 35.510702730000048 ], [ 43.340350267000076, 35.502874090000034 ], [ 43.319513560000075, 35.497654573000034 ], [ 43.303485324000064, 35.492434717000037 ], [ 43.271428852000042, 35.485909420000041 ], [ 43.252194969000072, 35.481993987000067 ], [ 43.232961085000056, 35.472857236000038 ], [ 43.224946967000051, 35.465024908000032 ], [ 43.239372380000077, 35.402338833000044 ], [ 43.253797792000057, 35.382739429000026 ], [ 43.266620381000052, 35.360521013000039 ], [ 43.274634499000058, 35.34221890200007 ], [ 43.282648617000063, 35.319989336000049 ], [ 43.289059911000038, 35.304294196000058 ], [ 43.301882500000033, 35.283362607000072 ], [ 43.324322031000065, 35.241483192000032 ], [ 43.337144620000061, 35.223154144000034 ], [ 43.345158738000066, 35.20482095400007 ], [ 43.353172856000072, 35.189103497000076 ], [ 43.374009563000072, 35.17862350300004 ], [ 43.399654740000074, 35.170762620000062 ], [ 43.420491447000074, 35.16683189400004 ], [ 43.441328154000075, 35.164211304000048 ], [ 43.513455216000068, 35.14586481200007 ], [ 43.556731453000054, 35.131446808000078 ], [ 43.579170984000029, 35.120959384000059 ], [ 43.616035927000041, 35.106536971000025 ], [ 43.632064163000052, 35.101291824000043 ], [ 43.665723459000048, 35.093423471000051 ], [ 43.689765813000065, 35.085554358000024 ], [ 43.72182228500003, 35.077684487000056 ], [ 43.750673110000037, 35.067190144000051 ], [ 43.774715464000053, 35.051446099000032 ], [ 43.805169112000044, 35.018636257000026 ], [ 43.853253820000077, 34.973993737000058 ], [ 43.869282056000031, 34.952977067000063 ], [ 43.883707469000058, 34.937211028000036 ], [ 43.906146999000043, 34.916184927000074 ], [ 43.928586530000075, 34.906984313000066 ], [ 43.963848649000056, 34.900411815000041 ], [ 44.000713592000068, 34.893838791000064 ], [ 44.024755946000028, 34.888579993000064 ], [ 44.05200394700006, 34.878061388000049 ], [ 44.106499950000057, 34.841235669000071 ], [ 44.140159246000053, 34.814921491000064 ], [ 44.154584658000033, 34.804393466000079 ], [ 44.175421365000034, 34.795180341000048 ], [ 44.19305242400003, 34.783333382000023 ], [ 44.212286308000046, 34.770168098000056 ], [ 44.229917367000041, 34.753050088000066 ], [ 44.252356898000073, 34.743831228000033 ], [ 44.271590781000043, 34.749099274000059 ], [ 44.318072666000035, 34.810973640000043 ], [ 44.380582786000048, 34.930640950000054 ], [ 44.414242082000044, 34.988439570000025 ], [ 44.451107025000056, 35.05013395800006 ], [ 44.460723966000046, 35.07374926600005 ], [ 44.467135261000067, 35.109159418000047 ], [ 44.473546555000041, 35.135379244000035 ], [ 44.487971968000068, 35.158969871000068 ], [ 44.490068760000042, 35.157969887000036 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Erbil", "shapeISO": "IQ-AR", "shapeID": "90741666B26956950402634", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.322277968000037, 35.738325517000078 ], [ 43.33554179600003, 35.725690990000032 ], [ 43.341953090000061, 35.711376425000026 ], [ 43.343555914000035, 35.691852421000078 ], [ 43.341953090000061, 35.672323637000034 ], [ 43.340350267000076, 35.657999491000055 ], [ 43.33554179600003, 35.646277823000048 ], [ 43.329130502000055, 35.63455443600003 ], [ 43.321116384000049, 35.620223516000067 ], [ 43.313102266000044, 35.603283662000024 ], [ 43.309896618000039, 35.591553970000064 ], [ 43.309896618000039, 35.578518963000079 ], [ 43.314705089000029, 35.568089429000054 ], [ 43.332336149000071, 35.556354581000051 ], [ 43.351570032000041, 35.548530395000057 ], [ 43.361186974000077, 35.540705445000071 ], [ 43.369201092000026, 35.52896658800006 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.390614815000049, 35.51200742900005 ], [ 43.408053536000068, 35.498646308000048 ], [ 43.415234186000077, 35.48945924700007 ], [ 43.424466450000068, 35.476094375000059 ], [ 43.43267290600005, 35.469411106000052 ], [ 43.44908582000005, 35.466069263000065 ], [ 43.460369698000079, 35.471081975000061 ], [ 43.466524541000069, 35.491964913000061 ], [ 43.473705191000079, 35.501151687000061 ], [ 43.49216971900006, 35.496140850000074 ], [ 43.507556825000052, 35.486953503000052 ], [ 43.510634247000041, 35.476929745000064 ], [ 43.516789089000042, 35.467740202000073 ], [ 43.527047160000052, 35.460220703000061 ], [ 43.53525361700008, 35.448522309000055 ], [ 43.544485881000071, 35.459385160000068 ], [ 43.546537495000052, 35.484447681000063 ], [ 43.546537495000052, 35.50198679600004 ], [ 43.547563302000071, 35.517017277000036 ], [ 43.552692338000043, 35.525366328000075 ], [ 43.575260094000043, 35.527036034000048 ], [ 43.599879465000072, 35.529540527000051 ], [ 43.614240764000044, 35.52870570500005 ], [ 43.629627871000025, 35.519522083000027 ], [ 43.636808521000034, 35.511172424000051 ], [ 43.648092399000063, 35.502821897000047 ], [ 43.669634348000045, 35.501151687000061 ], [ 43.682969841000045, 35.504492072000062 ], [ 43.683995648000064, 35.52787087400003 ], [ 43.685021455000026, 35.545400506000078 ], [ 43.695279526000036, 35.556250264000028 ], [ 43.704511790000026, 35.563760774000059 ], [ 43.711692440000036, 35.59880051600004 ], [ 43.713744054000074, 35.609643043000062 ], [ 43.720924703000037, 35.625487170000042 ], [ 43.726053739000065, 35.644662703000051 ], [ 43.735286003000056, 35.657999491000055 ], [ 43.738363424000056, 35.672167387000059 ], [ 43.738363424000056, 35.692997962000049 ], [ 43.748621495000066, 35.716321747000052 ], [ 43.755802145000075, 35.747964541000044 ], [ 43.765034409000066, 35.770439937000049 ], [ 43.773240866000037, 35.786252150000053 ], [ 43.779395709000028, 35.805389042000058 ], [ 43.793757008000057, 35.818698944000062 ], [ 43.804015079000067, 35.831174951000037 ], [ 43.816324764000058, 35.84032277600005 ], [ 43.829660257000057, 35.857783877000031 ], [ 43.838892521000048, 35.867759922000062 ], [ 43.89326029700004, 35.866097335000063 ], [ 43.915828054000031, 35.866097335000063 ], [ 43.94044742400007, 35.861109365000061 ], [ 43.953782917000069, 35.853626821000034 ], [ 43.97224744500005, 35.84946954600008 ], [ 43.985582937000061, 35.842817454000055 ], [ 44.000970044000042, 35.833669917000066 ], [ 44.008150693000061, 35.830343278000043 ], [ 44.018408765000061, 35.821194302000038 ], [ 44.035847485000033, 35.820362525000064 ], [ 44.060466856000062, 35.826184783000031 ], [ 44.075853962000053, 35.836996416000034 ], [ 44.095344298000043, 35.856121080000037 ], [ 44.105602369000053, 35.864434713000037 ], [ 44.244086328000037, 35.86194071500006 ], [ 44.262550856000075, 35.854458249000061 ], [ 44.298454105000076, 35.850301019000028 ], [ 44.348718653000049, 35.848638065000046 ], [ 44.372312216000068, 35.85196393700005 ], [ 44.391802551000069, 35.869422474000032 ], [ 44.41334450100004, 35.880228213000066 ], [ 44.44309290700005, 35.881059363000077 ], [ 44.468738084000051, 35.881059363000077 ], [ 44.487202612000033, 35.881059363000077 ], [ 44.506692947000033, 35.874409922000041 ], [ 44.517976826000051, 35.868591203000051 ], [ 44.543622003000053, 35.870253737000041 ], [ 44.557983303000071, 35.890201433000072 ], [ 44.566189760000043, 35.895187572000054 ], [ 44.576447831000053, 35.904328011000075 ], [ 44.600041394000073, 35.907651546000068 ], [ 44.621583343000054, 35.907651546000068 ], [ 44.638637387000074, 35.902620751000029 ], [ 44.666185917000064, 35.896534685000063 ], [ 44.696238860000051, 35.884361148000039 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.726792685000078, 35.90116013800008 ], [ 44.749232215000063, 35.903756765000026 ], [ 44.776480217000028, 35.902458462000027 ], [ 44.790905629000065, 35.886877166000033 ], [ 44.80853668900005, 35.885578586000065 ], [ 44.819756454000071, 35.89336974500003 ], [ 44.832579043000067, 35.898563425000077 ], [ 44.855018573000052, 35.882981363000056 ], [ 44.864635515000032, 35.895966628000053 ], [ 44.874252456000079, 35.908949763000066 ], [ 44.887075045000074, 35.914142421000065 ], [ 44.909514576000049, 35.899861792000024 ], [ 44.911117399000034, 35.910247960000049 ], [ 44.911117399000034, 35.920632764000061 ], [ 44.903103281000028, 35.932314039000062 ], [ 44.880663751000043, 35.94139828200008 ], [ 44.863032691000058, 35.949183945000073 ], [ 44.845401632000062, 35.964752970000063 ], [ 44.797316923000039, 35.986803835000046 ], [ 44.779685864000044, 36.001068758000031 ], [ 44.760451980000028, 36.012738140000067 ], [ 44.746026568000048, 36.024405795000064 ], [ 44.736409626000068, 36.041256024000063 ], [ 44.725189861000047, 36.054215286000044 ], [ 44.712367272000051, 36.064581159000056 ], [ 44.693133389000025, 36.082718151000051 ], [ 44.659474093000028, 36.112505557000077 ], [ 44.635431739000069, 36.122863746000064 ], [ 44.622609150000073, 36.137104026000031 ], [ 44.598566796000057, 36.157812547000049 ], [ 44.593758326000057, 36.169458687000031 ], [ 44.593758326000057, 36.183690508000041 ], [ 44.595361149000041, 36.204386725000063 ], [ 44.603375267000047, 36.239299183000071 ], [ 44.622609150000073, 36.241884671000037 ], [ 44.70114750700003, 36.244470074000048 ], [ 44.734806803000026, 36.245762743000057 ], [ 44.738012450000042, 36.258688259000053 ], [ 44.733203979000052, 36.279364637000072 ], [ 44.709161625000036, 36.28970077300005 ], [ 44.68191362400006, 36.293576471000051 ], [ 44.664282564000075, 36.300035540000067 ], [ 44.659474093000028, 36.320700966000061 ], [ 44.65145997500008, 36.33748759100007 ], [ 44.630623268000079, 36.33877872000005 ], [ 44.612992209000026, 36.327157788000079 ], [ 44.595361149000041, 36.318118087000073 ], [ 44.571318795000025, 36.325866467000026 ], [ 44.572921619000056, 36.454892656000027 ], [ 44.611612498000056, 36.455637289000038 ], [ 44.616208114000074, 36.458805510000047 ], [ 44.628025412000056, 36.464613578000069 ], [ 44.64115574300007, 36.474116751000054 ], [ 44.644438326000056, 36.485730158000024 ], [ 44.668072921000032, 36.50736868000007 ], [ 44.67398157000008, 36.518977102000065 ], [ 44.691051001000062, 36.523725500000069 ], [ 44.712716047000072, 36.526363373000038 ], [ 44.729785477000064, 36.525308235000068 ], [ 44.744228841000051, 36.515811342000063 ], [ 44.75998523800007, 36.496286290000057 ], [ 44.784276351000074, 36.484146614000053 ], [ 44.815132628000072, 36.484146614000053 ], [ 44.84073677400005, 36.497341824000046 ], [ 44.853867105000063, 36.505257871000026 ], [ 44.884066866000069, 36.520032327000024 ], [ 44.901792813000043, 36.526363373000038 ], [ 44.925427408000076, 36.52847360700008 ], [ 44.964161885000067, 36.527418497000042 ], [ 44.997644229000059, 36.530056244000036 ], [ 45.002239845000076, 36.533748939000077 ], [ 45.003450298000075, 36.534721539000031 ], [ 45.007491977000029, 36.537968945000046 ], [ 45.010118043000034, 36.545880837000027 ], [ 45.01865275800003, 36.551154981000025 ], [ 45.029157023000039, 36.556428766000067 ], [ 45.038348255000074, 36.560120201000075 ], [ 45.042287354000052, 36.569084381000039 ], [ 45.040974321000078, 36.580156343000056 ], [ 45.038348255000074, 36.587009619000071 ], [ 45.033752639000056, 36.596497766000027 ], [ 45.048196003000044, 36.608619812000029 ], [ 45.056074202000048, 36.613362703000064 ], [ 45.065921950000075, 36.619686104000039 ], [ 45.071174082000027, 36.627062749000061 ], [ 45.071174082000027, 36.632858189000046 ], [ 45.070517566000035, 36.642867468000077 ], [ 45.071174082000027, 36.651822037000045 ], [ 45.071830599000066, 36.666568468000037 ], [ 45.064608917000044, 36.689209273000074 ], [ 45.058043751000071, 36.696579260000078 ], [ 45.052135102000079, 36.702369468000029 ], [ 45.042943871000034, 36.719737476000034 ], [ 45.036378705000061, 36.729735457000061 ], [ 45.027843990000065, 36.739732137000033 ], [ 45.004209394000043, 36.746045159000062 ], [ 44.998300745000051, 36.747097278000069 ], [ 44.981231315000059, 36.752357661000076 ], [ 44.972696600000063, 36.759721591000073 ], [ 44.962192335000054, 36.766558892000035 ], [ 44.949062004000041, 36.772343825000064 ], [ 44.934618640000053, 36.773921459000064 ], [ 44.922801342000071, 36.77339558500006 ], [ 44.904418879000048, 36.773921459000064 ], [ 44.886692932000074, 36.772869707000041 ], [ 44.855836654000029, 36.770766160000051 ], [ 44.845332390000067, 36.779180002000032 ], [ 44.843362840000054, 36.792324781000048 ], [ 44.858462720000034, 36.819133138000041 ], [ 44.871593051000048, 36.828592670000035 ], [ 44.893258098000047, 36.844881345000033 ], [ 44.903762362000066, 36.85381237100006 ], [ 44.910984044000031, 36.866419103000055 ], [ 44.912297077000062, 36.881649462000041 ], [ 44.908357978000026, 36.897401810000076 ], [ 44.89982326300003, 36.907376615000032 ], [ 44.895884164000051, 36.917350117000069 ], [ 44.896540680000044, 36.929421558000058 ], [ 44.89522764700007, 36.969820733000063 ], [ 44.896540680000044, 36.983981603000075 ], [ 44.887349449000055, 37.003382960000067 ], [ 44.878158217000077, 37.00600438500004 ], [ 44.855180138000037, 37.01439233800005 ], [ 44.842706323000073, 37.020158519000063 ], [ 44.804628364000052, 37.023827680000068 ], [ 44.792154549000031, 37.03955064400003 ], [ 44.778367702000025, 37.063128987000027 ], [ 44.767863437000074, 37.075177311000061 ], [ 44.751450523000074, 37.086176283000043 ], [ 44.759328722000078, 37.094031715000028 ], [ 44.771802536000052, 37.101886332000049 ], [ 44.781650284000079, 37.112357889000066 ], [ 44.780337251000049, 37.12858594000005 ], [ 44.770489503000078, 37.135390216000076 ], [ 44.745541874000025, 37.13696034700007 ], [ 44.720594245000029, 37.135390216000076 ], [ 44.706150881000042, 37.134866832000057 ], [ 44.681859769000027, 37.140100510000025 ], [ 44.666759888000058, 37.142717214000072 ], [ 44.658225173000062, 37.147427052000069 ], [ 44.644438326000056, 37.148473643000045 ], [ 44.618177664000029, 37.147950349000041 ], [ 44.592573518000052, 37.142193880000036 ], [ 44.581412737000051, 37.133296658000063 ], [ 44.568282406000037, 37.121257573000037 ], [ 44.55515207500008, 37.111310798000034 ], [ 44.545304327000053, 37.098220946000026 ], [ 44.530860963000066, 37.093508045000078 ], [ 44.505256817000031, 37.083033883000041 ], [ 44.490813453000044, 37.066796071000056 ], [ 44.475713573000064, 37.056318218000058 ], [ 44.455361560000028, 37.044790909000028 ], [ 44.42516179900008, 37.036930376000043 ], [ 44.412031468000066, 37.032737759000042 ], [ 44.364105760000029, 37.032213666000075 ], [ 44.353601495000078, 37.026972533000048 ], [ 44.350318912000034, 37.00914997600006 ], [ 44.337188581000078, 36.982932740000024 ], [ 44.322745217000033, 36.976114778000067 ], [ 44.310927919000051, 36.960903278000046 ], [ 44.297797588000037, 36.955657228000064 ], [ 44.279415125000071, 36.955657228000064 ], [ 44.257750079000061, 36.959854097000061 ], [ 44.255124012000067, 36.964050734000068 ], [ 44.248558847000027, 36.986603697000078 ], [ 44.239367615000049, 36.99394508000006 ], [ 44.236741549000044, 37.001810061000072 ], [ 44.234115483000039, 37.015964977000067 ], [ 44.22886335100003, 37.025400123000054 ], [ 44.217046053000047, 37.031689569000036 ], [ 44.201289656000029, 37.058413905000066 ], [ 44.194724490000056, 37.074653511000065 ], [ 44.196694040000068, 37.094555382000067 ], [ 44.210480887000074, 37.106075129000033 ], [ 44.221641669000064, 37.114975552000033 ], [ 44.227550317000066, 37.121781051000028 ], [ 44.260376145000066, 37.12230452600005 ], [ 44.270880410000075, 37.128062508000028 ], [ 44.272193443000049, 37.14114720300006 ], [ 44.27810209200004, 37.171494978000055 ], [ 44.270880410000075, 37.193463347000034 ], [ 44.264315244000045, 37.207582496000043 ], [ 44.251184913000031, 37.219607837000069 ], [ 44.24068064800008, 37.229540367000027 ], [ 44.226893801000074, 37.237903589000041 ], [ 44.209167854000043, 37.243130132000033 ], [ 44.185533258000078, 37.24992409500004 ], [ 44.170433378000041, 37.253582129000051 ], [ 44.162555179000037, 37.257239986000059 ], [ 44.147455299000057, 37.268212490000053 ], [ 44.131042385000057, 37.275526605000039 ], [ 44.115942504000031, 37.279705780000029 ], [ 44.090994875000035, 37.284407075000047 ], [ 44.058415242000081, 37.281338207000033 ], [ 44.066621699000052, 37.270726798000055 ], [ 44.075853963000043, 37.257664547000047 ], [ 44.087137841000072, 37.247866373000079 ], [ 44.091241069000034, 37.242966808000062 ], [ 44.092266876000053, 37.152267413000061 ], [ 44.086112033000063, 37.152267413000061 ], [ 44.076879770000062, 37.152267413000061 ], [ 44.057389434000072, 37.150632191000057 ], [ 44.047437990000049, 37.146432883000045 ], [ 44.035975711000049, 37.133869121000032 ], [ 44.031167240000059, 37.122367915000041 ], [ 44.019947475000038, 37.109586749000073 ], [ 43.999110768000037, 37.092968006000035 ], [ 43.975068414000077, 37.076345619000051 ], [ 43.954231707000076, 37.063556686000027 ], [ 43.939806295000039, 37.052044804000047 ], [ 43.91576394100008, 37.039251774000036 ], [ 43.893324410000048, 37.027736205000053 ], [ 43.867679233000047, 37.017498677000049 ], [ 43.853253820000077, 37.003419824000048 ], [ 43.82860239300004, 36.981477214000051 ], [ 43.832737678000058, 36.980376076000027 ], [ 43.855305435000048, 36.968083223000065 ], [ 43.889157069000078, 36.954968657000052 ], [ 43.91993128200005, 36.94677090700003 ], [ 43.948653881000041, 36.935292574000073 ], [ 43.974299059000032, 36.926272671000049 ], [ 43.996866815000033, 36.913150907000045 ], [ 44.020460379000042, 36.894284416000062 ], [ 44.025589414000081, 36.880336620000037 ], [ 44.044053942000062, 36.87131021700003 ], [ 44.053286206000053, 36.858999768000047 ], [ 44.058415242000081, 36.842582750000076 ], [ 44.075853962000053, 36.839298924000047 ], [ 44.104576561000044, 36.835193942000046 ], [ 44.122015282000064, 36.824519959000042 ], [ 44.132273353000073, 36.817129407000039 ], [ 44.156892724000045, 36.815486965000048 ], [ 44.192795973000045, 36.801524785000026 ], [ 44.207157272000074, 36.79577491200007 ], [ 44.234854064000046, 36.788381584000035 ], [ 44.259473435000075, 36.775236128000074 ], [ 44.267679891000057, 36.749760392000042 ], [ 44.271783120000066, 36.741540608000037 ], [ 44.283066998000038, 36.733319943000026 ], [ 44.296402490000048, 36.725098398000057 ], [ 44.302557333000038, 36.716053681000062 ], [ 44.298454105000076, 36.707007900000065 ], [ 44.288196034000066, 36.69960601400004 ], [ 44.276912155000048, 36.694671028000073 ], [ 44.267679891000057, 36.684800104000033 ], [ 44.257421820000047, 36.674105174000033 ], [ 44.250241171000027, 36.663408756000024 ], [ 44.235879871000066, 36.646949827000071 ], [ 44.229725029000065, 36.640365270000075 ], [ 44.212286308000046, 36.63542648300006 ], [ 44.194847587000027, 36.623901416000024 ], [ 44.181512094000027, 36.609904374000052 ], [ 44.170228216000055, 36.603316652000046 ], [ 44.151763688000074, 36.602493147000075 ], [ 44.141505617000064, 36.592610403000037 ], [ 44.126118511000072, 36.586844884000072 ], [ 44.115860440000063, 36.59837549100007 ], [ 44.106628176000072, 36.595904791000066 ], [ 44.092266876000053, 36.588492219000045 ], [ 44.066621699000052, 36.588492219000045 ], [ 44.046105556000043, 36.604140148000056 ], [ 44.029692643000033, 36.60002257900004 ], [ 44.014305536000052, 36.593434013000035 ], [ 43.980453902000079, 36.567074122000065 ], [ 43.961989374000041, 36.551418679000051 ], [ 43.95275711000005, 36.539056878000054 ], [ 43.94249903900004, 36.530814580000026 ], [ 43.927111932000059, 36.525044448000074 ], [ 43.918905475000031, 36.511853959000064 ], [ 43.90044094700005, 36.497011971000063 ], [ 43.87376996200004, 36.493713365000076 ], [ 43.864537698000049, 36.487940467000044 ], [ 43.866589313000077, 36.468969343000026 ], [ 43.859408663000067, 36.456594370000062 ], [ 43.846073171000057, 36.452468939000028 ], [ 43.828634450000038, 36.443392221000067 ], [ 43.823505414000067, 36.431838497000058 ], [ 43.815298957000039, 36.407900313000027 ], [ 43.811195729000076, 36.389735390000055 ], [ 43.806066693000048, 36.378173683000057 ], [ 43.789653780000037, 36.365784232000067 ], [ 43.773240866000037, 36.350088096000036 ], [ 43.756827952000037, 36.333562427000061 ], [ 43.740415039000027, 36.317033253000034 ], [ 43.721950511000045, 36.302980698000056 ], [ 43.709640825000065, 36.294713306000062 ], [ 43.683995648000064, 36.282310575000054 ], [ 43.657324663000054, 36.273213987000076 ], [ 43.625524643000062, 36.246745157000078 ], [ 43.619369800000072, 36.239299183000071 ], [ 43.588787926000066, 36.206973367000046 ], [ 43.579170984000029, 36.194039300000043 ], [ 43.56474557100006, 36.182396813000025 ], [ 43.542306041000074, 36.157812547000049 ], [ 43.540703217000043, 36.144870362000063 ], [ 43.529483452000079, 36.128042329000039 ], [ 43.518263687000058, 36.102146001000051 ], [ 43.511852393000026, 36.084013490000075 ], [ 43.505441098000063, 36.068468009000071 ], [ 43.492618509000067, 36.047735922000072 ], [ 43.479795920000072, 36.034775593000063 ], [ 43.463767684000061, 36.026998373000026 ], [ 43.442930978000049, 36.021813132000034 ], [ 43.418888623000043, 36.016627550000067 ], [ 43.402860387000032, 36.007551961000047 ], [ 43.401257564000048, 35.997178580000025 ], [ 43.407668858000079, 35.979021880000062 ], [ 43.415682976000028, 35.959563636000041 ], [ 43.417285800000059, 35.93620741400008 ], [ 43.417285800000059, 35.925824655000042 ], [ 43.406066035000038, 35.912844289000077 ], [ 43.391640622000068, 35.902458462000027 ], [ 43.378818033000073, 35.886877166000033 ], [ 43.367598268000052, 35.869993969000063 ], [ 43.353172856000072, 35.838815537000073 ], [ 43.351570032000041, 35.819322791000047 ], [ 43.349967208000066, 35.797225225000034 ], [ 43.33554179600003, 35.78162324200008 ], [ 43.327527678000081, 35.766018196000061 ], [ 43.322277968000037, 35.738325517000078 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Sulaimaniyah", "shapeISO": "IQ-SU", "shapeID": "90741666B75227633199275", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.912720223000065, 34.872801580000043 ], [ 44.928299668000079, 34.865647702000047 ], [ 44.941635161000079, 34.863122655000041 ], [ 44.95702226700007, 34.861439248000067 ], [ 44.982667445000061, 34.865647702000047 ], [ 44.997028744000033, 34.874063965000062 ], [ 45.012415851000071, 34.886686744000031 ], [ 45.030880379000052, 34.899307584000042 ], [ 45.046267486000033, 34.895100853000031 ], [ 45.060628785000063, 34.884162343000071 ], [ 45.067809435000072, 34.872380781000061 ], [ 45.077041699000063, 34.860597531000053 ], [ 45.081144927000025, 34.847128892000057 ], [ 45.091402998000035, 34.83618399900007 ], [ 45.106790105000073, 34.842077583000048 ], [ 45.117048176000026, 34.847970746000044 ], [ 45.140641739000046, 34.853021693000073 ], [ 45.151925618000064, 34.863964346000046 ], [ 45.168338531000074, 34.864806028000032 ], [ 45.187828866000075, 34.853863487000069 ], [ 45.195009516000027, 34.842077583000048 ], [ 45.195009516000027, 34.828605913000047 ], [ 45.200138552000055, 34.812605441000073 ], [ 45.207319201000075, 34.801655959000072 ], [ 45.205267587000037, 34.78480776300006 ], [ 45.213474044000066, 34.775539787000071 ], [ 45.224757922000038, 34.768798788000026 ], [ 45.236041800000066, 34.755315136000036 ], [ 45.240145029000075, 34.735928530000024 ], [ 45.243222450000076, 34.723282640000036 ], [ 45.249377293000066, 34.714850971000033 ], [ 45.251428907000047, 34.698828433000074 ], [ 45.252454714000066, 34.679428578000056 ], [ 45.251428907000047, 34.66086794000006 ], [ 45.258609557000057, 34.649054461000048 ], [ 45.266816014000028, 34.637239297000065 ], [ 45.284254734000058, 34.633863227000063 ], [ 45.306822491000048, 34.652429912000059 ], [ 45.326312826000049, 34.670148779000044 ], [ 45.337596704000077, 34.681115702000056 ], [ 45.350932196000031, 34.692924611000024 ], [ 45.369396724000069, 34.696298275000061 ], [ 45.39811932300006, 34.696298275000061 ], [ 45.421712887000069, 34.698828433000074 ], [ 45.446332257000051, 34.715694177000046 ], [ 45.469925821000061, 34.734242523000034 ], [ 45.469925821000061, 34.755315136000036 ], [ 45.476080663000062, 34.788177677000078 ], [ 45.479158085000051, 34.80502518600008 ], [ 45.48736454200008, 34.822711364000043 ], [ 45.501725841000052, 34.837025965000066 ], [ 45.514035526000043, 34.847128892000057 ], [ 45.526345212000081, 34.857230578000042 ], [ 45.535577476000071, 34.865647702000047 ], [ 45.540706511000053, 34.877430229000026 ], [ 45.544809740000062, 34.910244077000073 ], [ 45.563274268000043, 34.925384509000025 ], [ 45.580712988000073, 34.943044816000054 ], [ 45.601229130000036, 34.950612354000043 ], [ 45.612513009000054, 34.956497735000028 ], [ 45.615590430000054, 34.97835402000004 ], [ 45.630977537000035, 34.990960763000032 ], [ 45.628925922000064, 35.001885036000033 ], [ 45.618667851000055, 35.009447140000077 ], [ 45.607383973000026, 35.025409287000059 ], [ 45.608409780000045, 35.043048034000037 ], [ 45.630977537000035, 35.060682973000041 ], [ 45.637132379000036, 35.076635113000066 ], [ 45.652519486000074, 35.088387326000031 ], [ 45.667906592000065, 35.095941426000024 ], [ 45.684319506000065, 35.104334050000034 ], [ 45.697654999000065, 35.128667773000075 ], [ 45.702784034000047, 35.143767806000028 ], [ 45.706887262000066, 35.158026378000045 ], [ 45.723300176000066, 35.159703692000051 ], [ 45.733558247000076, 35.16725118100004 ], [ 45.747919547000038, 35.174797968000064 ], [ 45.764332460000048, 35.172282450000068 ], [ 45.771513110000058, 35.155510341000024 ], [ 45.771513110000058, 35.119438595000076 ], [ 45.771513110000058, 35.038008780000041 ], [ 45.78279698800003, 35.016168424000057 ], [ 45.791003445000058, 35.003565564000041 ], [ 45.795106674000067, 34.980875524000055 ], [ 45.794531307000057, 34.942209687000059 ], [ 45.820751851000068, 34.940522147000024 ], [ 45.836138958000049, 34.938840326000047 ], [ 45.847422836000078, 34.933794653000064 ], [ 45.856655100000069, 34.929589689000068 ], [ 45.862809943000059, 34.932112693000079 ], [ 45.869990592000079, 34.944726551000031 ], [ 45.87511962800005, 34.957338469000035 ], [ 45.87819704900005, 34.975832439000044 ], [ 45.887429313000041, 34.989279976000034 ], [ 45.895635770000069, 34.997683565000045 ], [ 45.90179061300006, 35.010287331000029 ], [ 45.90179061300006, 35.022049094000067 ], [ 45.88845512000006, 35.041368317000035 ], [ 45.88127447100004, 35.05060633100004 ], [ 45.882300278000059, 35.060682973000041 ], [ 45.88537769900006, 35.072437484000034 ], [ 45.899738999000078, 35.082511431000057 ], [ 45.919229334000079, 35.08335087100005 ], [ 45.932564826000032, 35.085869137000032 ], [ 45.936668054000052, 35.103494827000077 ], [ 45.938719669000079, 35.122794781000039 ], [ 45.953080968000052, 35.120277655000052 ], [ 45.975648724000052, 35.106012471000042 ], [ 45.987958410000033, 35.097620020000079 ], [ 46.007448745000033, 35.095941426000024 ], [ 46.021810044000063, 35.094262798000045 ], [ 46.035145537000062, 35.088387326000031 ], [ 46.047455222000053, 35.075795605000053 ], [ 46.068997171000035, 35.078314104000071 ], [ 46.077203628000063, 35.094262798000045 ], [ 46.077203628000063, 35.110208373000034 ], [ 46.084384278000073, 35.120277655000052 ], [ 46.106952034000074, 35.115243169000053 ], [ 46.135674633000065, 35.114404058000048 ], [ 46.159716987000081, 35.127514183000073 ], [ 46.156511340000066, 35.132757642000058 ], [ 46.14849722200006, 35.144554190000065 ], [ 46.16292263400004, 35.172072820000039 ], [ 46.164525458000071, 35.183863669000061 ], [ 46.175745223000035, 35.191723284000034 ], [ 46.191773459000046, 35.196962606000056 ], [ 46.186964989000046, 35.206130605000055 ], [ 46.177348047000066, 35.217916512000045 ], [ 46.159716987000081, 35.225772833000065 ], [ 46.137277457000039, 35.221844768000039 ], [ 46.135674633000065, 35.225772833000065 ], [ 46.124454868000043, 35.23362839300006 ], [ 46.124454868000043, 35.24410129000006 ], [ 46.132468986000049, 35.261116863000041 ], [ 46.145291575000044, 35.274203334000049 ], [ 46.15330569300005, 35.289904310000054 ], [ 46.14368875100007, 35.300369935000049 ], [ 46.129263339000033, 35.319989336000049 ], [ 46.114837926000064, 35.339603976000035 ], [ 46.098809690000053, 35.346141132000071 ], [ 46.082781454000042, 35.353985021000028 ], [ 46.074767336000036, 35.368363506000037 ], [ 46.057136277000041, 35.384046204000072 ], [ 46.04110804000004, 35.395806228000026 ], [ 46.023476981000044, 35.414096189000077 ], [ 46.010654392000049, 35.427157907000037 ], [ 45.996228980000069, 35.463719446000027 ], [ 45.988214862000063, 35.476773114000025 ], [ 45.978597920000027, 35.495044688000064 ], [ 45.986612038000032, 35.510702730000048 ], [ 46.002640274000044, 35.515921399000035 ], [ 46.009051568000075, 35.526357720000078 ], [ 45.997831803000054, 35.542009656000062 ], [ 45.989817685000048, 35.548530395000057 ], [ 45.972186625000063, 35.561570282000048 ], [ 45.972571303000052, 35.576276728000039 ], [ 45.988984217000052, 35.577111055000046 ], [ 45.993087445000072, 35.574608047000027 ], [ 46.011551973000053, 35.568767390000062 ], [ 46.015655202000062, 35.574608047000027 ], [ 46.011551973000053, 35.592127462000064 ], [ 46.011551973000053, 35.601302768000039 ], [ 46.014629395000043, 35.61881634100007 ], [ 46.011551973000053, 35.629656156000067 ], [ 45.988984217000052, 35.628822376000073 ], [ 45.986932603000071, 35.637159782000026 ], [ 45.998216481000043, 35.646329923000053 ], [ 46.010526166000034, 35.652998456000034 ], [ 46.014629395000043, 35.663000212000043 ], [ 46.017706816000043, 35.674667343000067 ], [ 46.028990694000072, 35.683833179000032 ], [ 46.046429415000034, 35.691331716000036 ], [ 46.064893943000072, 35.695497265000029 ], [ 46.093616542000063, 35.692997962000049 ], [ 46.114132684000026, 35.693831071000034 ], [ 46.127468176000036, 35.699662597000042 ], [ 46.145932704000074, 35.699662597000042 ], [ 46.158242390000055, 35.694664173000035 ], [ 46.170552075000046, 35.701328668000031 ], [ 46.179784339000037, 35.711324368000078 ], [ 46.203377902000057, 35.720485991000032 ], [ 46.217739202000075, 35.720485991000032 ], [ 46.241332765000038, 35.721318814000028 ], [ 46.251590836000048, 35.726315567000029 ], [ 46.274158593000038, 35.734642792000045 ], [ 46.282365049000077, 35.740471331000037 ], [ 46.287494085000048, 35.750462120000066 ], [ 46.308010227000068, 35.760451656000043 ], [ 46.315190877000077, 35.765445953000039 ], [ 46.326474755000049, 35.774601350000069 ], [ 46.340836055000068, 35.787084285000049 ], [ 46.340836055000068, 35.799565259000076 ], [ 46.33570701900004, 35.815371678000076 ], [ 46.328526369000031, 35.823689582000043 ], [ 46.314165070000058, 35.828679906000048 ], [ 46.270055364000029, 35.816203507000068 ], [ 46.260823100000039, 35.807052902000066 ], [ 46.229023080000047, 35.808716727000046 ], [ 46.210558552000066, 35.806220976000077 ], [ 46.193119831000047, 35.803725148000069 ], [ 46.172603689000027, 35.806220976000077 ], [ 46.151061740000046, 35.817867141000079 ], [ 46.143881090000036, 35.827848207000045 ], [ 46.141829476000055, 35.84032277600005 ], [ 46.129519791000064, 35.842817454000055 ], [ 46.107977841000036, 35.848638065000046 ], [ 46.095668156000045, 35.857783877000031 ], [ 46.063868136000053, 35.860278006000044 ], [ 46.039248765000025, 35.846975077000025 ], [ 46.014629395000043, 35.838659614000051 ], [ 45.995139060000042, 35.838659614000051 ], [ 45.969493882000052, 35.845312054000033 ], [ 45.953080968000052, 35.842817454000055 ], [ 45.93769386200006, 35.830343278000043 ], [ 45.928461598000069, 35.829511597000078 ], [ 45.903842227000041, 35.838659614000051 ], [ 45.86178413600004, 35.818698944000062 ], [ 45.85562929300005, 35.815371678000076 ], [ 45.83511315100003, 35.816203507000068 ], [ 45.822803466000039, 35.814539839000076 ], [ 45.807416359000058, 35.821194302000038 ], [ 45.785874410000076, 35.816203507000068 ], [ 45.777667953000048, 35.802893187000052 ], [ 45.762280846000067, 35.801229240000055 ], [ 45.743816318000029, 35.818698944000062 ], [ 45.737661476000028, 35.828679906000048 ], [ 45.728429212000037, 35.852795383000057 ], [ 45.719196948000047, 35.86277205600004 ], [ 45.712016298000037, 35.869422474000032 ], [ 45.705861455000047, 35.880228213000066 ], [ 45.698680806000027, 35.88937037900007 ], [ 45.684319506000065, 35.898511490000033 ], [ 45.676113049000037, 35.905989796000028 ], [ 45.670984014000055, 35.918452068000079 ], [ 45.645338836000064, 35.945862156000032 ], [ 45.637132379000036, 35.958318145000078 ], [ 45.627900115000045, 35.967451289000053 ], [ 45.607383973000026, 35.971602369000038 ], [ 45.595074288000035, 35.976583376000065 ], [ 45.589945252000064, 35.984884357000055 ], [ 45.580712988000073, 35.987374481000074 ], [ 45.571480724000025, 35.990694524000048 ], [ 45.560196846000053, 35.999823922000076 ], [ 45.542758125000034, 36.003973299000052 ], [ 45.517112948000033, 36.005632989000048 ], [ 45.493519384000081, 36.003973299000052 ], [ 45.476080663000062, 35.99733419100005 ], [ 45.462745171000051, 35.99318446500007 ], [ 45.43812580000008, 35.99235449300005 ], [ 45.415558044000079, 35.980733976000067 ], [ 45.405299973000069, 35.969941963000053 ], [ 45.38786125200005, 35.974923075000049 ], [ 45.36426768900003, 35.979903873000069 ], [ 45.357087039000078, 35.989034520000075 ], [ 45.354009618000077, 35.998164110000062 ], [ 45.348880582000049, 36.008122458000059 ], [ 45.34477735400003, 36.013101160000076 ], [ 45.350932196000031, 36.028035380000063 ], [ 45.35503542500004, 36.03964892700003 ], [ 45.359138653000059, 36.050431402000072 ], [ 45.36837091700005, 36.061212400000045 ], [ 45.373499953000078, 36.071991921000063 ], [ 45.373499953000078, 36.082769965000068 ], [ 45.37144833900004, 36.094375437000053 ], [ 45.36426768900003, 36.104321621000054 ], [ 45.35503542500004, 36.111780432000046 ], [ 45.345803161000049, 36.127524486000027 ], [ 45.336570897000058, 36.136638021000067 ], [ 45.335545090000039, 36.149892183000077 ], [ 45.332467668000049, 36.157346665000034 ], [ 45.32836444000003, 36.173909644000048 ], [ 45.33144186100003, 36.182189820000076 ], [ 45.33144186100003, 36.194608444000039 ], [ 45.32836444000003, 36.207025099000077 ], [ 45.326312826000049, 36.21695700500004 ], [ 45.32220959700004, 36.22606014400003 ], [ 45.315028948000077, 36.236817034000069 ], [ 45.296564420000038, 36.24343592300005 ], [ 45.287332156000048, 36.245917862000056 ], [ 45.273996663000048, 36.248399722000045 ], [ 45.270919242000048, 36.253363205000028 ], [ 45.275022470000067, 36.261634978000075 ], [ 45.295538613000076, 36.269078824000076 ], [ 45.299641841000039, 36.272386972000049 ], [ 45.300667648000058, 36.279829793000033 ], [ 45.295538613000076, 36.288925610000035 ], [ 45.289383770000029, 36.294713306000062 ], [ 45.276048278000076, 36.302980698000056 ], [ 45.270919242000048, 36.314553574000058 ], [ 45.271945049000067, 36.323645343000067 ], [ 45.276048278000076, 36.334388794000063 ], [ 45.276048278000076, 36.35421896500003 ], [ 45.277074085000038, 36.36248004600003 ], [ 45.279125699000076, 36.390561161000051 ], [ 45.264764399000057, 36.397992700000032 ], [ 45.253480521000029, 36.405423528000028 ], [ 45.249377293000066, 36.414504687000033 ], [ 45.239119222000056, 36.421108500000059 ], [ 45.225783729000057, 36.422759365000047 ], [ 45.206293394000056, 36.421108500000059 ], [ 45.176544988000046, 36.415330195000024 ], [ 45.161157882000055, 36.409551460000046 ], [ 45.145770775000074, 36.406249132000028 ], [ 45.130383668000036, 36.406249132000028 ], [ 45.121151404000045, 36.408725891000074 ], [ 45.111919140000055, 36.414504687000033 ], [ 45.101661069000045, 36.419457599000054 ], [ 45.090377191000073, 36.426886375000038 ], [ 45.083196541000063, 36.436790304000056 ], [ 45.080119120000063, 36.448343290000025 ], [ 45.077041699000063, 36.458244480000076 ], [ 45.068835242000034, 36.467319461000045 ], [ 45.064732014000072, 36.47556852200006 ], [ 45.060628785000063, 36.488765193000063 ], [ 45.051396521000072, 36.500310437000053 ], [ 45.043190064000044, 36.507731470000067 ], [ 45.031906186000072, 36.512678430000051 ], [ 45.018570694000061, 36.516800656000044 ], [ 45.012415851000071, 36.525868779000064 ], [ 45.003450298000075, 36.534721539000031 ], [ 45.002239845000076, 36.533748939000077 ], [ 44.997644229000059, 36.530056244000036 ], [ 44.964161885000067, 36.527418497000042 ], [ 44.925427408000076, 36.52847360700008 ], [ 44.901792813000043, 36.526363373000038 ], [ 44.884066866000069, 36.520032327000024 ], [ 44.853867105000063, 36.505257871000026 ], [ 44.84073677400005, 36.497341824000046 ], [ 44.815132628000072, 36.484146614000053 ], [ 44.784276351000074, 36.484146614000053 ], [ 44.75998523800007, 36.496286290000057 ], [ 44.744228841000051, 36.515811342000063 ], [ 44.729785477000064, 36.525308235000068 ], [ 44.712716047000072, 36.526363373000038 ], [ 44.691051001000062, 36.523725500000069 ], [ 44.67398157000008, 36.518977102000065 ], [ 44.668072921000032, 36.50736868000007 ], [ 44.644438326000056, 36.485730158000024 ], [ 44.64115574300007, 36.474116751000054 ], [ 44.628025412000056, 36.464613578000069 ], [ 44.616208114000074, 36.458805510000047 ], [ 44.611612498000056, 36.455637289000038 ], [ 44.572921619000056, 36.454892656000027 ], [ 44.571318795000025, 36.325866467000026 ], [ 44.595361149000041, 36.318118087000073 ], [ 44.612992209000026, 36.327157788000079 ], [ 44.630623268000079, 36.33877872000005 ], [ 44.65145997500008, 36.33748759100007 ], [ 44.659474093000028, 36.320700966000061 ], [ 44.664282564000075, 36.300035540000067 ], [ 44.68191362400006, 36.293576471000051 ], [ 44.709161625000036, 36.28970077300005 ], [ 44.733203979000052, 36.279364637000072 ], [ 44.738012450000042, 36.258688259000053 ], [ 44.734806803000026, 36.245762743000057 ], [ 44.70114750700003, 36.244470074000048 ], [ 44.622609150000073, 36.241884671000037 ], [ 44.603375267000047, 36.239299183000071 ], [ 44.595361149000041, 36.204386725000063 ], [ 44.593758326000057, 36.183690508000041 ], [ 44.593758326000057, 36.169458687000031 ], [ 44.598566796000057, 36.157812547000049 ], [ 44.622609150000073, 36.137104026000031 ], [ 44.635431739000069, 36.122863746000064 ], [ 44.659474093000028, 36.112505557000077 ], [ 44.693133389000025, 36.082718151000051 ], [ 44.712367272000051, 36.064581159000056 ], [ 44.725189861000047, 36.054215286000044 ], [ 44.736409626000068, 36.041256024000063 ], [ 44.746026568000048, 36.024405795000064 ], [ 44.760451980000028, 36.012738140000067 ], [ 44.779685864000044, 36.001068758000031 ], [ 44.797316923000039, 35.986803835000046 ], [ 44.845401632000062, 35.964752970000063 ], [ 44.863032691000058, 35.949183945000073 ], [ 44.880663751000043, 35.94139828200008 ], [ 44.903103281000028, 35.932314039000062 ], [ 44.911117399000034, 35.920632764000061 ], [ 44.911117399000034, 35.910247960000049 ], [ 44.909514576000049, 35.899861792000024 ], [ 44.887075045000074, 35.914142421000065 ], [ 44.874252456000079, 35.908949763000066 ], [ 44.864635515000032, 35.895966628000053 ], [ 44.855018573000052, 35.882981363000056 ], [ 44.832579043000067, 35.898563425000077 ], [ 44.819756454000071, 35.89336974500003 ], [ 44.80853668900005, 35.885578586000065 ], [ 44.790905629000065, 35.886877166000033 ], [ 44.776480217000028, 35.902458462000027 ], [ 44.749232215000063, 35.903756765000026 ], [ 44.726792685000078, 35.90116013800008 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.71126533100005, 35.876244418000056 ], [ 44.731300626000063, 35.862038138000059 ], [ 44.738813862000029, 35.841739035000046 ], [ 44.738813862000029, 35.821434736000072 ], [ 44.716274155000065, 35.807218636000073 ], [ 44.706256507000035, 35.782842257000027 ], [ 44.716274155000065, 35.762522896000064 ], [ 44.731300626000063, 35.748296255000071 ], [ 44.746327097000062, 35.732034122000073 ], [ 44.763857981000058, 35.713735252000049 ], [ 44.781388864000064, 35.699499892000063 ], [ 44.776380040000049, 35.681193552000025 ], [ 44.763857981000058, 35.66695238300008 ], [ 44.74883150900007, 35.652708673000063 ], [ 44.74883150900007, 35.620142083000076 ], [ 44.751335921000077, 35.591635432000032 ], [ 44.756344745000035, 35.57534135800006 ], [ 44.778884452000057, 35.546818752000036 ], [ 44.793910923000055, 35.524401013000045 ], [ 44.818955042000027, 35.493821274000027 ], [ 44.82646827800005, 35.471388733000026 ], [ 44.82646827800005, 35.455070225000043 ], [ 44.811441806000062, 35.436707947000059 ], [ 44.78890209900004, 35.426504871000077 ], [ 44.771371216000034, 35.414259474000062 ], [ 44.756344745000035, 35.40201221600006 ], [ 44.728796214000056, 35.377512117000038 ], [ 44.716274155000065, 35.357089683000027 ], [ 44.706256507000035, 35.338705076000053 ], [ 44.693734448000043, 35.326446347000058 ], [ 44.686221212000078, 35.29579139100008 ], [ 44.681212389000052, 35.273303707000025 ], [ 44.676203565000037, 35.252854939000031 ], [ 44.658672682000031, 35.236492210000051 ], [ 44.641141798000035, 35.222172114000045 ], [ 44.621106503000078, 35.201710449000075 ], [ 44.606080032000079, 35.18943097500005 ], [ 44.591053561000081, 35.183290542000066 ], [ 44.553487383000061, 35.177149645000043 ], [ 44.530947676000039, 35.173055456000043 ], [ 44.490068760000042, 35.157969887000036 ], [ 44.507205851000037, 35.149796551000065 ], [ 44.528042558000038, 35.131446808000078 ], [ 44.544070794000049, 35.120959384000059 ], [ 44.56971597200004, 35.11047060900006 ], [ 44.609786562000068, 35.10391443900005 ], [ 44.649857152000038, 35.102603142000078 ], [ 44.68672209500005, 35.102603142000078 ], [ 44.768466098000033, 35.09473491600005 ], [ 44.80853668900005, 35.09473491600005 ], [ 44.840593161000072, 35.089489010000079 ], [ 44.879060927000069, 35.071125681000069 ], [ 44.903103281000028, 35.052758219000054 ], [ 44.923939988000029, 35.030449317000034 ], [ 44.931954106000035, 35.002882854000063 ], [ 44.931954106000035, 34.98187359800005 ], [ 44.936762577000081, 34.958231740000031 ], [ 44.933556930000066, 34.938524980000068 ], [ 44.92073434100007, 34.918813484000054 ], [ 44.91432304600005, 34.895153438000079 ], [ 44.912720223000065, 34.872801580000043 ] ] ] } }\r
]\r
}\r
`,Ge=({className:t=""})=>f.jsx("div",{className:`animate-pulse bg-slate-200 dark:bg-slate-700/50 rounded-lg ${t}`}),OIe=t=>{const e=t==null?void 0:t.geometry;return e?e.type==="Polygon"?{...t,geometry:{...e,coordinates:e.coordinates.map((n,r)=>r===0?[...n].reverse():n)}}:e.type==="MultiPolygon"?{...t,geometry:{...e,coordinates:e.coordinates.map(n=>n.map((r,i)=>i===0?[...r].reverse():r))}}:t:t},jIe=({data:t,selectedGovernorates:e=[],onSelect:n})=>{const{theme:r,appearance:i}=Mn(),a=i.accentType==="solid"?i.accentColor:i.accentGradient.start,s=R.useMemo(()=>{const h=JSON.parse(CIe);return{...h,features:(h.features||[]).map(OIe)}},[]),o=R.useMemo(()=>{const g=AIe().fitExtent([[35,15],[765,585]],s);g.scale(g.scale()*1.05);const[[x,y],[v,b]]=yIe(g).bounds(s),[w,S]=g.translate();return g.translate([w+(800/2-(x+v)/2),S+(600/2-(y+b)/2)]),g},[s]),{maxValue:l,minPositive:c}=R.useMemo(()=>{const h=Object.values(t||{}).filter(y=>typeof y=="number"),p=h.length>0?Math.max(...h):0,g=h.filter(y=>y>0),x=g.length>0?Math.min(...g):1;return{maxValue:p,minPositive:x}},[t]),u=R.useMemo(()=>Sh().domain([c||1,l||c||1]).range([`${a}40`,a]),[c,l,a]),d=r==="dark"?"#0f172a":"#f1f5f9";return f.jsx("div",{className:"w-full h-full bg-slate-50 dark:bg-slate-900/50 rounded-2xl overflow-hidden relative flex items-center justify-center border border-slate-100 dark:border-slate-800",children:s?f.jsx(Qw,{projection:o,className:"w-full h-full",children:f.jsx(Yw,{geography:s,children:({geographies:h})=>f.jsxs(f.Fragment,{children:[h.map(p=>{const g=p.properties||{},x=g.name||g.shapeName||g.ADM1_EN||"Unknown",y=_=>typeof _=="string"?_.toLowerCase().replace(/[^a-z0-9]/g,""):"",v=y(x),b=Object.keys(t||{}).find(_=>{const k=y(_);return v&&k&&(v.includes(k)||k.includes(v))}),w=b||x,S=b&&t[b]||0,E=e.includes(w);let P=d;return E?P="#94a3b8":S>0&&(P=u(S)),f.jsx(TAe,{geography:p,fill:P,stroke:E?"#ffffff":r==="dark"?"#334155":"#cbd5e1",strokeWidth:E?2:.5,onClick:()=>{n&&n(w)},style:{default:{outline:"none",transition:"all 250ms"},hover:{fill:"#94a3b8",outline:"none",stroke:"#fff",strokeWidth:2,cursor:"pointer",opacity:.8},pressed:{outline:"none"}},title:`${w}: ${S} Orders`},p.rsmKey)}),h.map(p=>{const g=KAe(p);if(!g||isNaN(g[0])||isNaN(g[1]))return null;const x=p.properties||{},y=x.name||x.shapeName||x.ADM1_EN||"Unknown",v=P=>typeof P=="string"?P.toLowerCase().replace(/[^a-z0-9]/g,""):"",b=v(y),w=Object.keys(t||{}).find(P=>{const _=v(P);return b&&_&&(b.includes(_)||_.includes(b))}),S=w||y,E=w&&t[w]||0;return f.jsx(e_,{coordinates:g,children:f.jsxs("g",{className:"pointer-events-none",style:{transform:"translateY(-6px)"},children:[f.jsx("text",{y:"-6",textAnchor:"middle",style:{fontSize:10,fill:r==="dark"?"#fff":"#1e293b",fontWeight:"bold",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:S}),f.jsx("text",{y:"8",textAnchor:"middle",style:{fontSize:12,fill:r==="dark"?"#e6f0ff":"#0f172a",fontWeight:"800",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:E>0?E:""})]})},`${p.rsmKey}-label`)})]})})}):f.jsxs("div",{className:"absolute inset-0 z-10 bg-white dark:bg-slate-900 overflow-hidden",children:[f.jsx(Ge,{className:"w-full h-full rounded-none"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("span",{className:"bg-white/50 dark:bg-slate-900/50 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Loading Map..."})})]})})},RIe=({regions:t,selectedRegion:e,onSelect:n})=>{const r=[...t].sort((a,s)=>s.count-a.count).slice(0,5),i=a=>{n(a)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 h-full flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Ra,{className:"w-5 h-5 text-accent"})," Top Regions"]}),f.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pe-2",children:[r.map((a,s)=>{const o=e===a.name||Array.isArray(e)&&e.includes(a.name);return f.jsxs("div",{onClick:()=>i(a.name),className:`flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all ltr:hover:translate-x-1 rtl:hover:-translate-x-1 ${o?"bg-accent text-white shadow-accent":"bg-slate-50 dark:bg-slate-700/30 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-black transition-all ${s===0?"bg-amber-100 text-amber-600":s===1?"bg-slate-200 text-slate-600":s===2?"bg-orange-100 text-orange-600":""}`,style:s>2?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:s+1}),f.jsx("span",{className:`font-bold transition-colors ${o?"text-white":"text-slate-700 dark:text-slate-300"}`,children:a.name})]}),f.jsx("span",{className:`font-black transition-colors ${o?"text-white":"text-slate-800 dark:text-white"}`,children:a.count})]},a.name)}),r.length===0&&f.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No data available"})]})]})},MIe=({products:t,orders:e,formatCurrency:n})=>{const r=B.useMemo(()=>{const o={};return t.forEach(l=>{const c=l._id||l.id||l.id_str||l.sku||l.name;o[c]={...l,_id:c,totalSales:0,orderCount:0,distinctOrders:[]}}),e.forEach(l=>{l.items&&l.items.forEach(c=>{var d,h;const u=((d=c.product)==null?void 0:d._id)||c.productId;u&&o[u]&&(o[u].totalSales+=c.price*c.quantity,o[u].orderCount+=c.quantity,o[u].distinctOrders.push({id:l._id||l.id,customer:((h=l.customer)==null?void 0:h.name)||l.customer||"",date:l.date||l.createdAt||l.updatedAt,quantity:c.quantity,total:c.price*c.quantity}))})}),Object.values(o).sort((l,c)=>c.orderCount-l.orderCount).slice(0,10)},[t,e]),[i,a]=R.useState(null),s=o=>{a(i===o?null:o)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Jo,{className:"w-5 h-5 text-accent"})," Top Selling Products"]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700",children:[f.jsx("th",{className:"py-3 ps-2",children:"Product Name"}),f.jsx("th",{className:"py-3 text-center",children:"Sales"}),f.jsx("th",{className:"py-3 text-end pe-2",children:"Total Revenue"}),f.jsx("th",{className:"py-3 w-10"})]})}),f.jsxs("tbody",{className:"text-sm",children:[r.filter(o=>o.orderCount>0).map(o=>{var l;return f.jsxs(B.Fragment,{children:[f.jsxs("tr",{onClick:()=>s(o._id),className:`group cursor-pointer transition-colors border-b border-slate-50 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${i===o._id?"bg-slate-50 dark:bg-slate-800":""}`,children:[f.jsxs("td",{className:"py-4 ps-2 font-bold text-slate-700 dark:text-slate-200 flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-700 overflow-hidden shrink-0",children:f.jsx("img",{src:((l=o.images)==null?void 0:l[0])||"https://via.placeholder.com/40",alt:o.name||"Product image",className:"w-full h-full object-cover"})}),o.name]}),f.jsx("td",{className:"py-4 text-center text-slate-600 dark:text-slate-300",children:f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-black transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[o.orderCount," Orders"]})}),f.jsx("td",{className:"py-4 text-end pe-2 font-bold text-slate-800 dark:text-white",children:n(o.totalSales)}),f.jsx("td",{className:"py-4 text-center text-slate-400 group-hover:text-accent",children:i===o._id?f.jsx(ix,{className:"w-4 h-4"}):f.jsx(_l,{className:"w-4 h-4"})})]}),i===o._id&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"bg-slate-50/50 dark:bg-slate-900/30 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[f.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-700/30 border-b border-slate-100 dark:border-slate-700 text-xs font-bold text-slate-500 uppercase flex justify-between",children:f.jsxs("span",{children:["Order Details (",o.distinctOrders.length,")"]})}),f.jsxs("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:[o.distinctOrders.map((c,u)=>f.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-50 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-700/20 transition-colors",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 flex items-center gap-1",children:[f.jsx(hs,{className:"w-3 h-3 text-slate-400"})," ",c.customer]}),f.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1 mt-0.5",children:[f.jsx(fR,{className:"w-3 h-3"})," ",c.date&&!isNaN(new Date(c.date).getTime())?wi(new Date(c.date),"dd MMM yyyy"):"N/A"]})]})}),f.jsxs("div",{className:"text-end",children:[f.jsxs("span",{className:"block text-xs font-bold text-slate-800 dark:text-white",children:["Qty: ",c.quantity]}),f.jsx("span",{className:"block text-[10px] font-semibold text-emerald-600 dark:text-emerald-400",children:n(c.total)})]})]},u)),o.distinctOrders.length===0&&f.jsx("div",{className:"text-center py-4 text-slate-400 text-xs",children:"No order details available"})]})]})})})]},o._id)}),r.filter(o=>o.orderCount>0).length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"text-center py-8 text-slate-400",children:"No sales data matches current filters"})})]})]})})]})},a4=["Al Anbar","Babil","Baghdad","Basra","Dhi Qar","Al-Qadisiyyah","Diyala","Duhok","Erbil","Karbala","Kirkuk","Maysan","Muthanna","Najaf","Nineveh","Saladin","Sulaymaniyah","Wasit"],s4=["Facebook","Instagram","TikTok","Snapchat","Telegram","WhatsApp","Other"],$Ie=()=>{var _e,Ce,ie,ve;const{t}=jr(),{orders:e,products:n,customers:r,loading:i,formatCurrency:a,brand:s,categories:o,theme:l,appearance:c}=Mn(),u=R.useMemo(()=>e.length===0?ww(new Date,30):e.reduce((X,q)=>{try{const de=wa(q.date);return de<X?de:X}catch{return X}},new Date),[e]),d=R.useMemo(()=>({from:u,to:new Date}),[u]),[h,p]=R.useState(d),[g,x]=R.useState(!1);B.useEffect(()=>{!i&&e.length>0&&!g&&(p(d),x(!0))},[i,e.length,d,g]);const[y,v]=R.useState([]),[b,w]=R.useState([]),[S,E]=R.useState([]),[P,_]=R.useState([]),k=R.useMemo(()=>e.filter(X=>{var St,Me;let q;try{q=X.date?wa(X.date):null}catch{return!1}if(!q||isNaN(q.getTime()))return!1;const de=!(h!=null&&h.from)||!(h!=null&&h.to)||Ac(q,{start:h.from,end:h.to}),ke=y.length===0||y.includes(X.status),me=b.length===0||((St=X.customer)==null?void 0:St.governorate)&&b.includes(X.customer.governorate),we=S.length===0||((Me=X.customer)==null?void 0:Me.social)&&S.includes(X.customer.social),Ue=P.length===0||X.items&&X.items.some(He=>{var Y;return((Y=He.product)==null?void 0:Y.category)&&P.includes(He.product.category)});return de&&ke&&me&&we&&Ue}),[e,h,y,b,S,P]),N=R.useMemo(()=>{if(!(h!=null&&h.from)||!(h!=null&&h.to))return 0;const X=h.from,de=h.to.getTime()-X.getTime();if(de<0)return 0;const ke=new Date(X.getTime()-1),me=new Date(ke.getTime()-de);return e.reduce((we,Ue)=>{var bt,Ye;let St;try{St=Ue.date?wa(Ue.date):null}catch{return we}if(!St||isNaN(St.getTime()))return we;const Me=Ac(St,{start:me,end:ke}),He=y.length===0||y.includes(Ue.status),Y=b.length===0||((bt=Ue.customer)==null?void 0:bt.governorate)&&b.includes(Ue.customer.governorate),ue=S.length===0||((Ye=Ue.customer)==null?void 0:Ye.social)&&S.includes(Ue.customer.social),Ie=P.length===0||Ue.items&&Ue.items.some(vt=>{var Pt;return((Pt=vt.product)==null?void 0:Pt.category)&&P.includes(vt.product.category)});return!Me||!He||!Y||!ue||!Ie?we:we+(Number(Ue.total)||0)},0)},[e,h,y,b,S,P]),A=R.useMemo(()=>k.reduce((X,q)=>X+q.total,0),[k]),I=R.useMemo(()=>a(A).replace(/\u00A0/g," "),[a,A]),j=R.useMemo(()=>N<=0?A>0?100:0:(A-N)/N*100,[A,N]),O=j>=0?"+":"-",$=R.useMemo(()=>`${O}${Math.abs(j).toFixed(1)}% vs last period`,[O,j,h,y,b,S,P]),M=k.length,D=R.useMemo(()=>new Set(k.map(X=>{var q,de;return((q=X.customer)==null?void 0:q.phone)||((de=X.customer)==null?void 0:de.id)||X.customer}).filter(Boolean)).size,[k]),V=R.useMemo(()=>{const X={};return k.forEach(q=>{var ke;const de=(ke=q.customer)==null?void 0:ke.governorate;de&&(X[de]=(X[de]||0)+1)}),Object.entries(X).map(([q,de])=>({name:q,count:de}))},[k]),F=R.useMemo(()=>V.length===0?{name:"N/A",count:0}:V.reduce((X,q)=>X.count>q.count?X:q),[V]),U=R.useMemo(()=>e.filter(X=>{let q;try{q=X.date?wa(X.date):null}catch{return!1}return!q||isNaN(q.getTime())?!1:!(h!=null&&h.from)||!(h!=null&&h.to)||Ac(q,{start:h.from,end:h.to})}),[e,h]),H=R.useMemo(()=>{const X={};return U.forEach(q=>X[q.status]=(X[q.status]||0)+1),["Processing","Completed","Cancelled"].map(q=>({value:q,label:q,count:X[q]||0}))},[U]),G=R.useMemo(()=>{const X={};return U.forEach(q=>{var ke;const de=(ke=q.customer)==null?void 0:ke.governorate;de&&(X[de]=(X[de]||0)+1)}),a4.map(q=>({value:q,label:q,count:X[q]||0})).sort((q,de)=>de.count-q.count)},[U]),W=R.useMemo(()=>{const X={};return U.forEach(q=>{var ke;const de=(ke=q.customer)==null?void 0:ke.social;de&&(X[de]=(X[de]||0)+1)}),s4.map(q=>({value:q,label:q,count:X[q]||0})).sort((q,de)=>de.count-q.count)},[U]),ee=R.useMemo(()=>{const X={};return U.forEach(q=>{var ke;const de=new Set;(ke=q.items)==null||ke.forEach(me=>{var Ue;const we=(Ue=me.product)==null?void 0:Ue.category;we&&!de.has(we)&&(X[we]=(X[we]||0)+1,de.add(we))})}),o.map(q=>({value:q,label:q,count:X[q]||0})).sort((q,de)=>de.count-q.count)},[U,o]),le=R.useMemo(()=>{if(!(h!=null&&h.from)||!(h!=null&&h.to)||OU(h.from,h.to))return[];let X=[];try{X=J_e({start:h.from,end:h.to})}catch(de){return console.error("Invalid date range for chart:",de),[]}const q={};return X.forEach(de=>q[wi(de,"yyyy-MM-dd")]=0),k.forEach(de=>{const ke=wi(wa(de.date),"yyyy-MM-dd");q[ke]!==void 0&&(q[ke]+=de.total)}),Object.entries(q).map(([de,ke])=>({date:wi(wa(de),"MMM d"),value:ke}))},[k,h]),pe=R.useMemo(()=>V.reduce((X,q)=>(X[q.name]=q.count,X),{}),[V]),Z=l==="dark"?{text:"#94A3B8",grid:"#334155",tooltipBg:"#1E293B"}:{text:"#64748B",grid:"#E2E8F0",tooltipBg:"#FFFFFF"};return f.jsxs(ju,{title:t("dashboard.title"),children:[f.jsx("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(_w,{range:h,onRangeChange:p,brandColor:s.color})}),f.jsx(ea,{title:t("dashboard.governorate"),options:G,selectedValues:b,onChange:w,icon:Ra,showSearch:!1}),f.jsx(ea,{title:t("dashboard.socialMedia"),options:W,selectedValues:S,onChange:E,icon:Ts,showSearch:!1}),f.jsx(ea,{title:t("dashboard.categories"),options:ee,selectedValues:P,onChange:_,icon:Jo,showSearch:!1}),f.jsx(ea,{title:t("dashboard.status"),options:H,selectedValues:y,onChange:v,icon:Yn,showSearch:!1}),f.jsxs("div",{className:"ms-auto flex items-center gap-3 flex-wrap",children:[(y.length>0||b.length>0||S.length>0||P.length>0||((_e=h.from)==null?void 0:_e.getTime())!==((Ce=d.from)==null?void 0:Ce.getTime())||((ie=h.to)==null?void 0:ie.getTime())!==((ve=d.to)==null?void 0:ve.getTime()))&&f.jsx("button",{onClick:()=>{v([]),w([]),E([]),_([]),p(d)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Jo,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:k.length})," ",t("dashboard.filteredOrders")]})]})]})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:i?Array.from({length:4}).map((X,q)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx(Ge,{className:"h-4 w-24"}),f.jsx(Ge,{className:"h-5 w-5 rounded-full"})]}),f.jsx(Ge,{className:"h-8 w-32 mb-2"}),f.jsx(Ge,{className:"h-3 w-40"})]},q)):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-accent rounded-3xl p-6 text-white shadow-accent",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 opacity-80",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalRevenue")}),f.jsx(kG,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-[clamp(0.95rem,2.6vw,1.85rem)] font-black mb-1 leading-tight whitespace-nowrap tracking-tight",children:I}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium opacity-80",children:[f.jsx(hE,{className:"w-3 h-3"}),f.jsx("span",{children:$})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalOrders")}),f.jsx(bR,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:M}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersPlaced")})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.topRegion")}),f.jsx(Ra,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-1 truncate",children:F.name}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersCount",{count:F.count})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.activeCustomers")}),f.jsx(ox,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:D}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.uniqueBuyers")})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[400px]",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(hE,{className:"w-5 h-5",style:{color:c.accentType==="solid"?c.accentColor:c.accentGradient.start}})," ",t("dashboard.revenueTrend")]}),f.jsx("div",{className:"flex-1 min-h-0",children:i?f.jsx(Ge,{className:"w-full h-full rounded-xl"}):f.jsx(f1e,{width:"100%",height:"100%",children:f.jsxs(z_e,{data:le,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:0})]})}),f.jsx(aU,{strokeDasharray:"3 3",vertical:!1,stroke:Z.grid}),f.jsx(X2,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:Z.text},dy:10}),f.jsx(J2,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:Z.text},tickFormatter:X=>`${X/1e3}k`}),f.jsx(ba,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 8px 16px rgba(0,0,0,0.1)",backgroundColor:Z.tooltipBg,color:l==="dark"?"#F8FAFC":"#1E293B"},itemStyle:{color:l==="dark"?"#F8FAFC":"#1E293B"},formatter:X=>[a(X),t("dashboard.revenue")]}),f.jsx(lo,{type:"monotone",dataKey:"value",stroke:c.accentType==="solid"?c.accentColor:c.accentGradient.start,strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),f.jsxs("div",{className:"lg:col-span-1 border border-slate-100 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm h-full relative",children:[f.jsx(jIe,{data:pe,selectedGovernorates:b,onSelect:X=>{b.includes(X)?w(b.filter(q=>q!==X)):w([...b,X])}}),f.jsx("div",{className:"absolute top-4 start-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 shadow-sm border border-slate-100",children:f.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[f.jsx(Ra,{className:"w-3.5 h-3.5",style:{color:c.accentType==="solid"?c.accentColor:c.accentGradient.start}}),f.jsx("span",{children:"Map"})]})})]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[400px]",children:i?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(Ge,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ge,{className:"h-10 w-full"}),f.jsx(Ge,{className:"h-10 w-full"}),f.jsx(Ge,{className:"h-10 w-full"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(Ge,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ge,{className:"h-12 w-full"}),f.jsx(Ge,{className:"h-12 w-full"}),f.jsx(Ge,{className:"h-12 w-full"})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(RIe,{regions:V,selectedRegion:b,onSelect:X=>{b.includes(X)?w(b.filter(q=>q!==X)):w([...b,X])}}),f.jsx("div",{className:"h-full",children:f.jsx(MIe,{products:n,orders:U,formatCurrency:a})})]})})]})]})},B4=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>{const{t:a}=jr();return t?f.jsxs("div",{className:"fixed inset-0 z-[1001] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-red-50 dark:bg-red-500/10 rounded-2xl flex items-center justify-center mb-4",children:f.jsx(Ma,{className:"w-8 h-8 text-red-500"})}),f.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white mb-2",children:r||a("common.delete")}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-8 leading-relaxed",children:i||a("common.confirmDelete")}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:e,className:"py-3 px-4 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 font-bold rounded-2xl transition-all active:scale-95 text-sm",children:a("common.cancel")}),f.jsx("button",{onClick:()=>{n(),e()},className:"py-3 px-4 bg-red-500 hover:bg-red-600 text-white font-bold rounded-2xl transition-all shadow-lg shadow-red-500/25 active:scale-95 text-sm",children:a("common.delete")})]})]}),f.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-400 transition-colors",children:f.jsx(ci,{className:"w-4 h-4"})})]})]}):null},DIe=({categories:t,products:e,onClose:n,onAdd:r,onUpdate:i,onDelete:a})=>{const{addToast:s}=Mn(),[o,l]=R.useState(""),[c,u]=R.useState(null),[d,h]=R.useState(""),[p,g]=R.useState({}),[x,y]=R.useState(!1),[v,b]=R.useState(null);R.useEffect(()=>{const _={};t.forEach(k=>{_[k]=e.filter(N=>N.category===k).length}),g(_)},[t,e]);const w=()=>{o.trim()&&(r(o.trim()),l(""))},S=()=>{c&&d.trim()&&d!==c&&(i(c,d.trim()),u(null),h(""))},E=_=>{if(p[_]>0){s(`Cannot delete category "${_}" because it is used by ${p[_]} products.`,"error");return}b(_),y(!0)},P=()=>{v&&(a(v),y(!1),b(null))};return f.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Manage Categories"}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:f.jsx(ci,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"New Category Name",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent dark:text-white",onKeyDown:_=>_.key==="Enter"&&w()}),f.jsx("button",{onClick:w,disabled:!o.trim(),className:"px-4 py-2 bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl shadow-lg shadow-accent/20 transition-all flex items-center justify-center",children:f.jsx(y0,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/20",children:[t.map(_=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm group hover:border-indigo-100 dark:hover:border-slate-600 transition-colors",children:c===_?f.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[f.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:k=>h(k.target.value),className:"flex-1 px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-accent rounded-lg text-sm outline-none dark:text-white",onKeyDown:k=>{k.key==="Enter"&&S(),k.key==="Escape"&&u(null)}}),f.jsx("button",{onClick:S,className:"text-emerald-500 hover:bg-emerald-50 rounded p-1",children:f.jsx(sx,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:bg-red-50 rounded p-1",children:f.jsx(ci,{className:"w-4 h-4"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:_}),f.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:[p[_]||0," products"]})]}),f.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{u(_),h(_)},className:"p-2 text-slate-400 hover:text-accent hover:bg-accent/10 rounded-lg transition-colors",title:"Rename",children:f.jsx(DG,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>E(_),className:`p-2 rounded-lg transition-colors ${p[_]>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:p[_]>0?"Cannot delete used category":"Delete",children:p[_]>0?f.jsx(EG,{className:"w-4 h-4"}):f.jsx(Ma,{className:"w-4 h-4"})})]})]})},_)),t.length===0&&f.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No categories found. Add one above."})]})]}),f.jsx(B4,{isOpen:x,onClose:()=>{y(!1),b(null)},onConfirm:P,title:"Delete Category",message:`Are you sure you want to delete category "${v}"?`})]})},n0=({title:t,options:e,selectedValue:n,onChange:r,icon:i,placeholder:a="Search...",showSearch:s=!0,customAction:o=null,disabled:l=!1,direction:c="down"})=>{const{appearance:u}=Mn(),[d,h]=R.useState(!1),[p,g]=R.useState(""),x=R.useRef(null);R.useEffect(()=>{const S=E=>{x.current&&!x.current.contains(E.target)&&h(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]),R.useEffect(()=>{d&&g("")},[d]);const y=S=>{r(S),h(!1)},v=R.useMemo(()=>p?e.filter(S=>S.label.toLowerCase().includes(p.toLowerCase())):e,[e,p]),b=e.find(S=>S.value===n),w=b?b.label:t;return f.jsxs("div",{className:"relative w-full",ref:x,children:[f.jsxs("button",{type:"button",disabled:l,onClick:()=>h(!d),className:`flex items-center justify-between w-full px-3 h-[44px] rounded-xl border-2 transition-all font-bold text-[11px] outline-none shadow-sm ${l?"bg-slate-50 dark:bg-slate-900/50 border-slate-100 dark:border-slate-800 text-slate-400 cursor-not-allowed opacity-60":d?"bg-accent/10 border-accent/40 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-700 dark:text-white hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800 text-slate-700 dark:text-white hover:border-slate-200 dark:hover:border-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-1 truncate",children:[i&&f.jsx(i,{className:`w-3.5 h-3.5 ${d?"text-accent":"text-slate-400"}`}),f.jsx("span",{className:"truncate",children:w})]}),f.jsx(_l,{className:`w-3 h-3 transition-transform flex-shrink-0 ${d?"rotate-180 text-accent":"text-slate-400"}`})]}),d&&f.jsx("div",{className:`absolute start-0 z-[100] w-full animate-in fade-in zoom-in-95 duration-200 ${c==="up"?"bottom-full mb-2":"top-full mt-2"}`,children:f.jsxs("div",{className:`rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col transition-all ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[s&&f.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"relative",children:[f.jsx(Tu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{autoFocus:!0,type:"text",placeholder:a,value:p,onChange:S=>g(S.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsxs("div",{className:"flex-1 max-h-48 overflow-y-auto p-2 space-y-1",children:[o&&f.jsxs("div",{onClick:()=>{o.onClick(),h(!1)},className:"flex items-center gap-3 px-3 py-2 rounded-xl cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 text-accent font-bold text-sm border border-dashed border-accent/30 mb-1",children:[o.icon&&f.jsx(o.icon,{className:"w-4 h-4"}),f.jsx("span",{children:o.label})]}),v.length===0?f.jsx("div",{className:"px-4 py-8 text-center text-slate-400",children:f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No results found"})}):v.map(S=>{const E=n===S.value;return f.jsxs("div",{onClick:()=>y(S.value),className:`flex items-center justify-between px-3 py-2 rounded-xl cursor-pointer transition-all group ${E?"bg-accent/10 text-accent font-bold":"hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-600 dark:text-slate-300"}`,children:[f.jsx("span",{className:`text-xs font-semibold ${E?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:S.label}),E&&f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent shadow-[0_0_8px_var(--accent-color)]"})]},S.value)})]})]})})]})},ra=({src:t,alt:e,className:n="bg-slate-100 dark:bg-slate-700",imageClassName:r="",imageStyle:i=void 0,fallback:a=null})=>{const[s,o]=R.useState(!0),[l,c]=R.useState(!1),u=R.useRef(null);R.useEffect(()=>{var p;if(!t){o(!1),c(!1);return}c(!1),(p=u.current)!=null&&p.complete?o(!1):o(!0)},[t]);const d=()=>{o(!1)},h=()=>{c(!0),o(!1)};return f.jsxs("div",{className:`relative overflow-hidden ${n}`,children:[!t&&f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800",children:a||f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(uE,{className:"w-1/3 h-1/3 opacity-50"}),f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-50",children:"No Image"})]})}),t&&f.jsxs(f.Fragment,{children:[s&&!l&&f.jsx("div",{className:"absolute inset-0 animate-pulse bg-slate-200 dark:bg-slate-600 z-10"}),l?f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800",children:a||f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(uE,{className:"w-1/3 h-1/3 opacity-50"}),f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-50 text-center px-2",children:"Image Error"})]})}):f.jsx("img",{ref:u,src:t,alt:e,className:`w-full h-full object-cover transition-opacity duration-300 ${s?"opacity-0":"opacity-100"} ${r}`,style:i,onLoad:d,onError:h})]})]})},LIe=({images:t,currentIndex:e,onChange:n,onDelete:r,onDownload:i})=>{const{t:a}=jr(),{language:s}=Mn(),o=s==="ar",l=t.length>0&&e<t.length?e:0,c=t[l],u=(typeof c=="string"?c:c==null?void 0:c.url)||"https://via.placeholder.com/600";return!t||t.length===0?f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-800",children:[f.jsx(Uo,{className:"w-12 h-12 text-slate-300 mb-4"}),f.jsx("p",{className:"text-sm font-bold text-slate-400",children:a("productPicture.modal.noImages")})]}):f.jsxs("div",{className:"relative w-full h-full flex flex-col group",children:[f.jsxs("div",{className:"relative h-[300px] sm:h-[400px] md:h-[500px] rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 flex items-center justify-center shadow-lg w-full",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("img",{src:u,alt:"",className:"w-full h-full object-cover blur-3xl opacity-50 scale-125 transition-opacity duration-500"}),f.jsx("div",{className:"absolute inset-0 bg-white/20 dark:bg-black/40"})]}),f.jsx(ra,{src:u,alt:"Product",className:"w-full h-full flex items-center justify-center relative z-10 bg-transparent",imageClassName:"w-auto h-auto max-w-full max-h-full object-contain drop-shadow-2xl"},u),f.jsxs("div",{className:`absolute top-4 ${o?"right-4":"left-4"} flex gap-2 z-30`,children:[f.jsx("button",{onClick:i,className:"p-2 bg-white/90 dark:bg-slate-800/90 hover:bg-white dark:hover:bg-slate-700 text-slate-800 dark:text-white rounded-lg backdrop-blur transition-all shadow-md border border-slate-200/50 dark:border-slate-700/50",title:a("common.download"),children:f.jsx(Fg,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>r(l),className:"p-2 bg-red-500/90 hover:bg-red-600 text-white rounded-lg backdrop-blur transition-all shadow-md border border-red-400/20",title:a("common.delete"),children:f.jsx(Ma,{className:"w-4 h-4"})})]}),t.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>n((l-1+t.length)%t.length),className:`absolute ${o?"right-4":"left-4"} top-[55%] md:top-1/2 -translate-y-1/2 p-2.5 md:p-3 bg-slate-900/40 hover:bg-slate-900/60 text-white rounded-full backdrop-blur-md transition-all z-20 shadow-lg border border-white/10`,children:o?f.jsx(eh,{className:"w-5 h-5 md:w-6 md:h-6"}):f.jsx(am,{className:"w-5 h-5 md:w-6 md:h-6"})}),f.jsx("button",{onClick:()=>n((l+1)%t.length),className:`absolute ${o?"left-4":"right-4"} top-[55%] md:top-1/2 -translate-y-1/2 p-2.5 md:p-3 bg-slate-900/40 hover:bg-slate-900/60 text-white rounded-full backdrop-blur-md transition-all z-20 shadow-lg border border-white/10`,children:o?f.jsx(am,{className:"w-5 h-5 md:w-6 md:h-6"}):f.jsx(eh,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]}),t.length>1&&f.jsx("div",{className:"flex gap-2 mt-6 px-2 overflow-x-auto py-2 hide-scrollbar",children:t.map((d,h)=>f.jsx("button",{onClick:()=>n(h),className:`w-12 h-12 rounded-xl border-2 transition-all flex-shrink-0 bg-white dark:bg-slate-900 shadow-sm overflow-hidden ${h===l?"border-accent ring-2 ring-accent/20":"border-transparent opacity-60 hover:opacity-100"}`,children:f.jsx(ra,{src:typeof d=="string"?d:d==null?void 0:d.url,alt:`Thumb ${h}`,className:"w-full h-full",imageClassName:"object-cover"})},h))})]})},vz=({product:t,onClose:e,onSave:n,onUpload:r})=>{var O;const{t:i}=jr(),{formatCurrency:a,isSidebarCollapsed:s,language:o}=Mn(),l=o==="ar",[c,u]=R.useState(0),[d,h]=R.useState(t.name||""),[p,g]=R.useState(t.description||""),[x,y]=R.useState(t.images||[]),[v,b]=R.useState(!1),[w,S]=R.useState(!1);R.useEffect(()=>{const $=M=>{M.key==="Escape"&&e()};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[e]),R.useEffect(()=>{h(t.name||""),g(t.description||""),y(t.images||[]),u(0)},[t._id]);const E=async()=>{if(d.trim()){b(!0);try{await n({...t,name:d,description:p,images:x})}catch($){console.error("Failed to save product:",$)}finally{b(!1)}}},P=async $=>{if($.target.files&&$.target.files.length>0){const M=Array.from($.target.files),D=V=>new Promise(F=>{const U=new FileReader;U.onload=H=>{const G=new Image;G.onload=()=>{const W=document.createElement("canvas");let ee=G.width,le=G.height;const pe=1200;ee>le?ee>pe&&(le*=pe/ee,ee=pe):le>pe&&(ee*=pe/le,le=pe),W.width=ee,W.height=le,W.getContext("2d").drawImage(G,0,0,ee,le),F({url:W.toDataURL("image/jpeg",.8),name:V.name})},G.src=H.target.result},U.readAsDataURL(V)});try{const V=await Promise.all(M.map(D));if(r){const F=await r(V);F&&y(U=>[...U,...F])}else y(F=>[...F,...V])}catch(V){console.error("Image processing failed:",V)}}},_=()=>{S(!0)},k=()=>{const $=c,M=x.filter((D,V)=>V!==$);y(M),c>=M.length&&M.length>0?u(M.length-1):M.length===0&&u(0),S(!1)},N=x.length>0?x[c]:((O=t.images)==null?void 0:O[0])||t.image,A=typeof N=="string"?N:(N==null?void 0:N.url)||"https://via.placeholder.com/600",I=()=>{const $=document.createElement("a");$.href=A,$.download=`product-${t.sku}-${c}.jpg`,document.body.appendChild($),$.click(),document.body.removeChild($)},j=l?s?"lg:pr-20":"lg:pr-56":s?"lg:pl-20":"lg:pl-56";return f.jsxs("div",{className:`fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300 transition-all ${j}`,children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full h-full md:h-auto md:max-h-[95vh] md:max-w-6xl bg-white dark:bg-slate-800 md:rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row animate-in zoom-in slide-in-from-bottom-10 duration-500",children:[f.jsx("button",{onClick:e,className:`absolute top-16 ${l?"left-8":"right-8"} md:top-4 ${l?"md:left-4":"md:right-4"} z-[150] p-2 bg-slate-100/80 dark:bg-slate-900/80 hover:bg-slate-200 text-slate-500 dark:text-slate-400 rounded-lg transition-all active:scale-95 border border-slate-200/50 dark:border-slate-700/50 backdrop-blur shadow-sm`,children:f.jsx(ci,{className:"w-4 h-4"})}),f.jsxs("div",{className:"flex flex-col md:flex-row flex-1 overflow-hidden",children:[f.jsxs("div",{className:"w-full h-[70vh] md:h-auto md:w-2/3 bg-slate-100 dark:bg-slate-900/50 flex flex-col p-4 pt-12 md:p-6 overflow-hidden relative",children:[f.jsx("div",{className:"flex-1 min-h-0",children:f.jsx(LIe,{images:x,currentIndex:c,onChange:$=>u($),onDelete:()=>_(),onDownload:I})}),f.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-center",children:f.jsxs("label",{className:"w-full sm:w-auto flex items-center justify-center gap-2 px-8 py-3 bg-accent text-white rounded-2xl text-sm font-black hover:brightness-110 cursor-pointer transition-all shadow-xl shadow-accent/20 active:scale-95",children:[f.jsx(y0,{className:"w-5 h-5"}),f.jsx("span",{children:i("productPicture.modal.addPhoto")}),f.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:P})]})})]}),f.jsxs("div",{className:"w-full md:w-1/3 flex-1 p-6 md:p-8 flex flex-col bg-white dark:bg-slate-800 md:border-s border-slate-100 dark:border-slate-700 overflow-y-auto scrollbar-none",children:[f.jsxs("div",{className:"space-y-6 flex-1",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.productTitle")}),f.jsx("input",{type:"text",value:d,onChange:$=>h($.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-800 dark:text-white focus:ring-2 focus:ring-accent outline-none transition-all",placeholder:i("productPicture.modal.enterTitle")})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.description")}),f.jsx("textarea",{value:p,onChange:$=>g($.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 focus:ring-2 focus:ring-accent outline-none transition-all resize-none h-32",placeholder:i("productPicture.modal.enterDescription")})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:i("productPicture.modal.sellingPrice")}),f.jsx("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:a(t.sellingPriceIQD||t.price||0)})]}),f.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:f.jsx(wR,{className:"w-5 h-5 text-accent"})})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:E,disabled:v||!d.trim(),className:"w-full py-3.5 bg-accent text-white font-bold rounded-xl shadow-accent transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:v?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(sx,{className:"w-5 h-5"}),i("settings.saveChanges")]})})})]})]}),f.jsx(B4,{isOpen:w,onClose:()=>S(!1),onConfirm:k,title:i("common.delete"),message:i("productPicture.modal.confirmDeleteImage")})]})]})},o4=({limit:t,onChange:e})=>{const{t:n}=jr(),{appearance:r}=Mn(),[i,a]=R.useState(!1),[s,o]=R.useState(![50,100,500,1e3].includes(t)),l=R.useRef(null),c=R.useRef(null),u=[50,100,500,1e3];R.useEffect(()=>{const p=g=>{l.current&&!l.current.contains(g.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=p=>{p==="custom"?o(!0):(o(!1),e(Number(p)),a(!1))},h=p=>{const g=Number(p.target.value);g>0&&e(g)};return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>a(!i),className:`shrink-0 flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${i?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(r==null?void 0:r.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[f.jsx(yR,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate",children:t}),f.jsx(_l,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&f.jsx("div",{className:"absolute top-full start-0 sm:start-auto sm:end-0 mt-2 z-50 w-48 max-w-[calc(100vw-1rem)] animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden py-2 ${["liquid","default_glass"].includes(r==null?void 0:r.theme)?"glass-panel":""}`,children:[u.map(p=>f.jsx("button",{onClick:()=>d(p),className:`w-full text-start px-4 py-2 text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${t===p&&!s?"text-accent bg-accent/5":"text-slate-600 dark:text-slate-300"}`,children:p},p)),f.jsxs("div",{className:"px-2 pt-2 mt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("button",{onClick:()=>d("custom"),className:`w-full text-start px-2 py-1.5 text-xs font-black uppercase tracking-widest ${s?"text-accent":"text-slate-400"}`,children:n("common.custom")||"Custom"}),s&&f.jsx("div",{className:"px-2 pb-2",children:f.jsx("input",{ref:c,type:"number",value:t,onChange:h,className:"w-full mt-1 px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold outline-none focus:border-accent transition-all dark:text-white",placeholder:"Value...",autoFocus:!0})})]})]})})]})},a_=(t,e=null)=>{if(!t||t.length===0)return"";const n=e||Object.keys(t[0]),r=n.map(a=>`"${a}"`).join(","),i=t.map(a=>n.map(s=>{let o=a[s];return typeof o=="object"&&o!==null&&(o=JSON.stringify(o)),o==null&&(o=""),`"${String(o).replace(/"/g,'""')}"`}).join(","));return[r,...i].join(`
`)},s_=(t,e)=>{const n="\uFEFF",r=new Blob([n+t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),a=URL.createObjectURL(r);i.setAttribute("href",a),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},FIe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>{var s,o,l,c,u,d,h;return{"Order ID":a.orderId||a._id,Date:a.date,Status:a.status,"Customer Name":((s=a.customer)==null?void 0:s.name)||"","Customer Phone":((o=a.customer)==null?void 0:o.phone)||"","Customer Email":((l=a.customer)==null?void 0:l.email)||"","Customer Address":((c=a.customer)==null?void 0:c.address)||"",Governorate:((u=a.customer)==null?void 0:u.governorate)||"","Social Platform":((d=a.customer)==null?void 0:d.social)||"","Items Count":((h=a.items)==null?void 0:h.length)||0,Subtotal:a.subtotal||a.total,"Discount %":a.discount||0,Total:a.total,Notes:a.notes||""}}),r=a_(n),i=e||`orders_export_${new Date().toISOString().split("T")[0]}.csv`;s_(r,i)},VIe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,Phone:a.phone,Email:a.email||"",Address:a.address||"",Governorate:a.governorate||"","Social Platform":a.social||"",Notes:a.notes||"","Created On":a.createdOn||""})),r=a_(n),i=e||`customers_export_${new Date().toISOString().split("T")[0]}.csv`;s_(r,i)},UIe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,SKU:a.sku,Category:a.category,Stock:a.stock,Status:a.status,"Selling Price (IQD)":a.sellingPriceIQD||a.price,"Unit Price ($)":a.unitPriceUSD||a.unitPrice,"Profit per Unit (IQD)":a.profitPerUnitIQD||0,"Units Sold":a.unitsSold||0,"Total Profit (IQD)":a.totalProfitIQD||0})),r=a_(n),i=e||`products_export_${new Date().toISOString().split("T")[0]}.csv`;s_(r,i)},e3=t=>{const e=Number(t);return e<=0?"Out of Stock":e<10?"Low Stock":"In Stock"},$C=t=>Math.round(t/500)*500,BIe=["In Stock","Low Stock","Out of Stock"],DC=({status:t})=>{const{t:e}=jr(),n=i=>{switch(i){case"In Stock":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400";case"Low Stock":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Out of Stock":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200"}},r=i=>{switch(i){case"In Stock":return e("products.stockStatus.instock");case"Low Stock":return e("products.stockStatus.lowstock");case"Out of Stock":return e("products.stockStatus.outofstock");default:return i}};return f.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold ${n(t)}`,children:r(t)})},zIe=()=>{const{t,i18n:e}=jr(),{products:n,addProduct:r,updateProduct:i,deleteProduct:a,categories:s,addCategory:o,updateCategory:l,deleteCategory:c,formatCurrency:u,loading:d,brand:h,addToast:p,appearance:g,setIsModalOpen:x}=Mn(),[y,v]=R.useState(""),[b,w]=R.useState([]),[S,E]=R.useState([]),[P,_]=R.useState(!1),[k,N]=R.useState(!1),[A,I]=R.useState(!1),[j,O]=R.useState(100),[$,M]=R.useState(null),[D,V]=R.useState(null),[F,U]=R.useState({key:null,direction:"ascending"}),H=R.useRef(null),[G,W]=R.useState(!1),[ee,le]=R.useState(null);R.useEffect(()=>(x(P||k||A||G),()=>x(!1)),[P,k,A,G,x]);const pe={name:"",sku:"",category:"",unitPrice:"",price:"",stock:"",status:"In Stock",images:[],alibabaProductLink:"",alibabaMessageLink:"",alibabaOrderLink:"",alibabaOrderNumber:"",unitPriceUSD:"",exchangeRate:"1380",unitPriceIQD:0,additionalFeesIQD:"",shippingToIraqIQD:"",marginPercent:"",sellingPriceIQD:0,profitPerUnitIQD:0,unitsSold:0,totalProfitIQD:0,alibabaFeeUSD:"",isSellingPriceOverridden:!1,costPriceIQD_total:0,costPriceIQD_perUnit:0,recommendedSellingPriceIQD_perUnit:0,alibabaNote:"",description:"",profitPerUnitUSD:0,totalProfitUSD:0},[Z,_e]=R.useState(pe),[Ce,ie]=R.useState(""),[ve,X]=R.useState(!1),q=R.useMemo(()=>{const re={};return n.forEach(be=>{be.category&&(re[be.category]=(re[be.category]||0)+1)}),s.map(be=>({value:be,label:be,count:re[be]||0})).sort((be,Xe)=>Xe.count-be.count)},[s,n]),de=R.useMemo(()=>{const re={};return n.forEach(be=>{be.status&&(re[be.status]=(re[be.status]||0)+1)}),BIe.map(be=>({value:be,label:t(`products.stockStatus.${be.replace(/\s/g,"").toLowerCase()}`),count:re[be]||0}))},[n,t]),we=R.useMemo(()=>{let re=[...n];return F.key&&re.sort((be,Xe)=>{let st=be[F.key],ln=Xe[F.key];return typeof st=="string"&&(st=st.toLowerCase()),typeof ln=="string"&&(ln=ln.toLowerCase()),st<ln?F.direction==="ascending"?-1:1:st>ln?F.direction==="ascending"?1:-1:0}),re},[n,F]).filter(re=>{const be=re.name.toLowerCase().includes(y.toLowerCase())||re.sku.toLowerCase().includes(y.toLowerCase()),Xe=b.length===0||b.includes(re.category),st=S.length===0||S.includes(re.status);return be&&Xe&&st}).slice(0,j),Ue=re=>{let be="ascending";F.key===re&&F.direction==="ascending"&&(be="descending"),U({key:re,direction:be})};R.useEffect(()=>{const re=parseFloat(Z.unitPriceUSD)||0,be=parseFloat(Z.alibabaFeeUSD)||0,Xe=parseInt(Z.stock)||0,st=parseFloat(Z.exchangeRate)||1320,ln=parseFloat(Z.shippingToIraqIQD)||0,ne=parseFloat(Z.additionalFeesIQD)||0,fe=parseFloat(Z.marginPercent)||0,Ee=parseInt(Z.unitsSold)||0,Q=(re+be)*Xe*st+ln+ne,Oe=Xe>0?Q/Xe:0,it=Oe*(1+fe/100),Yt=$C(it);_e(et=>{let Ve=et.sellingPriceIQD;et.isSellingPriceOverridden||(Ve=Yt);const Xt=(parseFloat(Ve)||0)-Oe,Tn=Xt*Ee,Hn=st>0?Xt/st:0,z=Hn*Ee;return et.costPriceIQD_total===Q&&et.costPriceIQD_perUnit===Oe&&et.recommendedSellingPriceIQD_perUnit===Yt&&et.sellingPriceIQD===Ve&&et.profitPerUnitIQD===Xt&&et.totalProfitIQD===Tn&&et.profitPerUnitUSD===Hn&&et.totalProfitUSD===z?et:{...et,costPriceIQD_total:Q,costPriceIQD_perUnit:Oe,recommendedSellingPriceIQD_perUnit:Yt,sellingPriceIQD:Ve,profitPerUnitIQD:Xt,totalProfitIQD:Tn,profitPerUnitUSD:Hn,totalProfitUSD:z,unitPrice:re,price:Ve}})},[Z.unitPriceUSD,Z.alibabaFeeUSD,Z.stock,Z.exchangeRate,Z.shippingToIraqIQD,Z.additionalFeesIQD,Z.marginPercent,Z.unitsSold,Z.isSellingPriceOverridden]);const St=()=>{M(null),_e(pe),_(!0)},Me=re=>{M(re),_e({...pe,...re,images:re.images||[]}),_(!0)},He=re=>{le(re),W(!0)},Y=()=>{ee&&(a(ee),W(!1),le(null))},ue=re=>{const{name:be,value:Xe}=re.target;if(be==="category"&&Xe==="new")X(!0),_e(st=>({...st,category:""}));else if(be==="sellingPriceIQD"){const st=Xe===""?"":parseFloat(Xe);_e(ln=>({...ln,sellingPriceIQD:st,isSellingPriceOverridden:!0}))}else _e(st=>({...st,[be]:Xe}))},Ie=()=>{_e(re=>{if(!re.isSellingPriceOverridden)return re;const be=$C(parseFloat(re.sellingPriceIQD)||0),Xe=re.costPriceIQD_perUnit,st=Xe>0?(be/Xe-1)*100:0;return{...re,sellingPriceIQD:be,marginPercent:st.toFixed(2)}})},bt=re=>{const be=Array.from(re.target.files);be.length!==0&&be.forEach(Xe=>{const st=new FileReader;st.onloadend=()=>{_e(ln=>({...ln,images:[...ln.images,st.result]}))},st.readAsDataURL(Xe)})},Ye=re=>{const be=Z.images.filter((Xe,st)=>st!==re);_e(Xe=>({...Xe,images:be}))},vt=re=>{if(re.preventDefault(),parseFloat(Z.marginPercent)>=100){p(t("products.marginTooHigh"),"error");return}const be={...Z,unitPriceUSD:parseFloat(Z.unitPriceUSD)||0,alibabaFeeUSD:parseFloat(Z.alibabaFeeUSD)||0,exchangeRate:parseFloat(Z.exchangeRate)||1380,additionalFeesIQD:parseFloat(Z.additionalFeesIQD)||0,shippingToIraqIQD:parseFloat(Z.shippingToIraqIQD)||0,marginPercent:parseFloat(Z.marginPercent)||0,unitsSold:parseInt(Z.unitsSold)||0,stock:parseInt(Z.stock)||0,status:e3(Z.stock),unitPrice:parseFloat(Z.unitPriceUSD)||0,price:Z.sellingPriceIQD||0,images:Z.images||[]};$?i({...be,_id:$._id}):r(be),_(!1)},Pt=({column:re,label:be,border:Xe=!1})=>{const st=F.key===re;return f.jsx("th",{onClick:()=>Ue(re),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${Xe?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[be,st&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:F.direction==="ascending"?"":""})]})})};return f.jsxs(ju,{title:t("products.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-2 sm:gap-3 items-center w-full sm:w-auto flex-nowrap",children:[f.jsxs("button",{onClick:St,className:"flex-1 sm:flex-none min-w-0 flex items-center justify-center gap-1 sm:gap-2 px-2.5 sm:px-6 py-2.5 text-white rounded-xl font-bold text-[13px] sm:text-base transition-all bg-accent shadow-accent hover:brightness-110 active:scale-95",children:[f.jsx(y0,{className:"w-4 h-4 sm:w-5 sm:h-5 shrink-0"}),f.jsx("span",{className:"truncate",children:t("products.addProduct")})]}),f.jsxs("button",{onClick:()=>{if(we.length===0)return p(t("common.noDataToExport"),"info");UIe(we)},className:"flex-1 sm:flex-none min-w-0 flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold text-[13px] sm:text-base transition-all shadow-lg hover:bg-green-700 active:scale-95",children:[f.jsx(Fg,{className:"w-5 h-5"}),f.jsx("span",{className:"truncate sm:hidden",children:"CSV"}),f.jsx("span",{className:"truncate hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("button",{onClick:()=>N(!0),className:"hidden sm:flex flex-1 sm:flex-none min-w-0 items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-6 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700 active:scale-95",children:[f.jsx(ax,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate",children:t("products.manageCategories")})]}),f.jsx("button",{onClick:()=>{(b.length>0||S.length>0||y)&&(v(""),w([]),E([]))},className:`sm:hidden flex-1 min-w-0 flex items-center justify-center gap-1.5 px-3 py-2.5 rounded-xl font-bold text-sm transition-all border active:scale-95 ${b.length>0||S.length>0||y?"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 border-slate-200 dark:border-slate-700":"opacity-0 pointer-events-none border-transparent"}`,children:f.jsx("span",{className:"truncate",children:t("common.clearFilters")})})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(b.length>0||S.length>0||y)&&f.jsx("button",{onClick:()=>{v(""),w([]),E([])},className:"hidden sm:inline-flex px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx("button",{onClick:()=>N(!0),className:"sm:hidden shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700 active:scale-95",children:t("products.manageCategories")}),f.jsx(o4,{limit:j,onChange:O}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Uo,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:we.length})," ",t("products.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap lg:flex-nowrap items-center",children:[f.jsxs("div",{className:"relative order-last w-full sm:order-none sm:min-w-[200px] sm:flex-1 lg:flex-none lg:w-[320px] h-[44px]",children:[f.jsx(Tu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:y,onChange:re=>v(re.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx(ea,{title:t("products.categories"),options:q,selectedValues:b,onChange:w,icon:Jo,showProductCount:!0}),f.jsx(ea,{title:t("products.status"),options:de,selectedValues:S,onChange:E,icon:Yn,showSearch:!1})]})]}),k&&f.jsx(DIe,{categories:s,products:n,onClose:()=>N(!1),onAdd:o,onUpdate:l,onDelete:c}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(Pt,{column:"name",label:t("products.table.product")}),f.jsx(Pt,{column:"category",label:t("products.table.category")}),f.jsx(Pt,{column:"stock",label:t("products.table.stock"),border:!0}),f.jsx(Pt,{column:"sellingPriceIQD",label:t("products.table.price"),border:!0}),f.jsx(Pt,{column:"status",label:t("products.table.status"),border:!0}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:d?Array.from({length:5}).map((re,be)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Ge,{className:"w-12 h-12 rounded-xl"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ge,{className:"w-24 h-4"}),f.jsx(Ge,{className:"w-16 h-3"})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-20 h-6 rounded-lg"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-12 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-20 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-16 h-8 ms-auto rounded-lg"})})]},be)):we.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"text-center py-12 text-slate-400",children:[f.jsx(Uo,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]})}):we.map(re=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0 cursor-zoom-in hover:brightness-90 transition-all shadow-sm",onClick:()=>{V(re),I(!0)},children:f.jsx(ra,{src:re.images&&re.images[0]?typeof re.images[0]=="string"?re.images[0]:re.images[0].url:re.image||"https://via.placeholder.com/400x400?text=No+Image",alt:re.name,className:"w-full h-full"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:re.name}),f.jsx("p",{className:"text-xs font-mono text-slate-400 uppercase tracking-tighter",children:re.sku})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-bold",children:re.category})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:re.stock})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(re.sellingPriceIQD||re.price||0)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(DC,{status:e3(re.stock)})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>Me(re),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(Ns,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>He(re._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Ma,{className:"w-4 h-4"})})]})})]},re._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:d?Array.from({length:3}).map((re,be)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex gap-4",children:[f.jsx(Ge,{className:"w-16 h-16 rounded-xl flex-shrink-0"}),f.jsxs("div",{className:"flex-1 space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ge,{className:"w-32 h-4"}),f.jsx(Ge,{className:"w-20 h-3"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ge,{className:"w-16 h-4"}),f.jsx(Ge,{className:"w-12 h-3"})]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(Ge,{className:"w-20 h-3"}),f.jsx(Ge,{className:"w-16 h-8 rounded-lg"})]})]})]},be)):we.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(Uo,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]}):we.map(re=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0",children:f.jsx(ra,{src:re.images&&re.images[0]?typeof re.images[0]=="string"?re.images[0]:re.images[0].url:re.image||"https://via.placeholder.com/400x400?text=No+Image",alt:re.name,className:"w-full h-full"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:re.name}),f.jsxs("p",{className:"text-xs text-slate-400",children:[re.sku,"  ",f.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-slate-100 dark:bg-slate-700",children:re.category})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(re.sellingPriceIQD||re.price||0)}),f.jsx("div",{className:"text-[10px] text-slate-400",children:e3(re.stock)})]})]}),f.jsxs("div",{className:"flex items-center justify-between mt-3",children:[f.jsxs("div",{className:"text-[11px] text-slate-600",children:[t("products.table.stock"),": ",f.jsx("span",{className:"font-bold",children:re.stock})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>Me(re),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(Ns,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>He(re._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Ma,{className:"w-4 h-4"})})]})]})]})]},re._id))})]}),P&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/50 backdrop-blur-sm p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-2xl my-4 sm:my-8 animate-in fade-in zoom-in duration-200 flex flex-col relative max-h-[90vh]",children:[f.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-20 rounded-t-3xl",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:t($?"products.editProduct":"products.addProduct")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:$?`${t("products.sku")}: ${Z.sku}`:t("products.fillInfo")})]}),f.jsx("button",{onClick:()=>_(!1),className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-all",children:f.jsx(ci,{className:"w-6 h-6"})})]}),f.jsxs("form",{id:"productForm",onSubmit:vt,className:"overflow-y-auto p-6 space-y-8 custom-scrollbar relative",children:[f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.basicInfo")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productName")}),f.jsx("input",{required:!0,name:"name",value:Z.name,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.productNamePlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.sku")}),f.jsx("input",{required:!0,name:"sku",value:Z.sku,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.skuPlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.category")}),f.jsx(n0,{title:t("products.form.selectCategory"),options:s.map(re=>({value:re,label:re})),selectedValue:Z.category,onChange:re=>_e(be=>({...be,category:re})),icon:Jo,showSearch:!1,customAction:{label:t("products.form.createCategory"),icon:y0,onClick:()=>N(!0)}})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.stock")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"stock",value:Z.stock,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all shadow-sm"}),f.jsx("div",{className:"absolute end-3 top-1/2 -translate-y-1/2",children:f.jsx(DC,{status:e3(Z.stock)})})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.alibabaSourcing")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productLink")}),f.jsx("input",{name:"alibabaProductLink",value:Z.alibabaProductLink,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.messageLink")}),f.jsx("input",{name:"alibabaMessageLink",value:Z.alibabaMessageLink,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.orderLink")}),f.jsx("input",{name:"alibabaOrderLink",value:Z.alibabaOrderLink,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaOrderNo")}),f.jsx("input",{name:"alibabaOrderNumber",value:Z.alibabaOrderNumber,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold shadow-sm",placeholder:"1234..."})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaNote")}),f.jsxs("div",{className:"relative",children:[f.jsx(MG,{className:"absolute start-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"alibabaNote",value:Z.alibabaNote,onChange:ue,className:"w-full ps-10 pe-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[80px] resize-none",placeholder:t("products.form.notePlaceholder")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.costAndPricing")}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.unitPrice")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{required:!0,type:"number",step:"0.01",name:"unitPriceUSD",value:Z.unitPriceUSD,onChange:ue,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaFee")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{type:"number",step:"0.01",name:"alibabaFeeUSD",value:Z.alibabaFeeUSD,onChange:ue,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.exchangeRate")}),f.jsx("input",{required:!0,type:"number",name:"exchangeRate",value:Z.exchangeRate,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.margin")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"marginPercent",value:Z.marginPercent,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"}),f.jsx("span",{className:"absolute end-3 top-1/2 -translate-y-1/2 text-slate-400",children:"%"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.shippingIQD")}),f.jsx("input",{type:"number",name:"shippingToIraqIQD",value:Z.shippingToIraqIQD,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.otherFeesIQD")}),f.jsx("input",{type:"number",name:"additionalFeesIQD",value:Z.additionalFeesIQD,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costTotal")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(Z.costPriceIQD_total||0).toLocaleString()]})]}),f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costPerUnit")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(Z.costPriceIQD_perUnit||0).toLocaleString()]})]})]}),f.jsxs("div",{className:"col-span-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:t("products.form.recommendedPrice")}),f.jsxs("span",{className:"text-xl font-bold text-slate-600 dark:text-slate-400",children:["IQD ",(Z.recommendedSellingPriceIQD_perUnit||0).toLocaleString()]})]}),f.jsxs("div",{className:`p-4 rounded-2xl border-2 transition-all ${Z.isSellingPriceOverridden?"bg-orange-50 border-orange-200 dark:bg-orange-900/10 dark:border-orange-800/50":"bg-[var(--brand-color)]/5 border-[var(--brand-color)]/20"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-[var(--brand-color)] uppercase tracking-wider",children:t("products.form.finalPrice")}),Z.isSellingPriceOverridden&&f.jsxs("button",{type:"button",onClick:()=>_e(re=>({...re,isSellingPriceOverridden:!1})),className:"text-[10px] font-bold text-orange-600 hover:underline flex items-center gap-1",children:[f.jsx(ci,{className:"w-3 h-3"})," ",t("common.reset")]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg font-black text-[var(--brand-color)]",children:"IQD"}),f.jsx("input",{type:"number",name:"sellingPriceIQD",value:Z.sellingPriceIQD,onChange:ue,onBlur:Ie,className:"w-full bg-transparent border-b-2 border-[var(--brand-color)] animate-pulse-slow outline-none text-2xl font-black text-[var(--brand-color)]"})]}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-medium italic",children:Z.isSellingPriceOverridden?t("products.form.manualOverride"):t("products.form.autoCalculated")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.profitAnalysis")}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-green-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:t("products.form.iqdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${Z.profitPerUnitIQD>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:[Z.profitPerUnitIQD>=0?"+":"-"," IQD ",Math.abs(Z.profitPerUnitIQD||0).toLocaleString()]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${Z.totalProfitIQD>=0?"text-green-500":"text-red-400"}`,children:["IQD ",(Z.totalProfitIQD||0).toLocaleString()]})]})]})]}),f.jsxs("div",{className:"p-4 bg-slate-900 dark:bg-slate-950 rounded-2xl border border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-blue-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:t("products.form.usdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${Z.profitPerUnitUSD>=0?"text-blue-500":"text-red-400"}`,children:[Z.profitPerUnitUSD>=0?"+":"-"," $",Math.abs(Z.profitPerUnitUSD||0).toFixed(2)]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${Z.totalProfitUSD>=0?"text-blue-400":"text-red-400"}`,children:["$",(Z.totalProfitUSD||0).toFixed(2)]})]})]})]}),f.jsxs("div",{className:"col-span-full p-4 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:f.jsx(Yn,{className:"w-4 h-4 text-slate-500"})}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.qtyCalculation")}),f.jsx("span",{className:"text-xs font-medium text-slate-500 italic",children:t("products.form.unitsExpected")})]})]}),f.jsx("input",{type:"number",name:"unitsSold",value:Z.unitsSold,onChange:ue,className:"w-24 text-right p-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg outline-none text-base font-black text-accent focus:ring-2 focus:ring-accent/20"})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.generalInfo")}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.description")}),f.jsxs("div",{className:"relative",children:[f.jsx(gR,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"description",value:Z.description,onChange:ue,className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[120px] resize-none",placeholder:t("products.form.descriptionPlaceholder")})]})]})})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.gallery")}),f.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[Z.images.map((re,be)=>f.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 group",children:[f.jsx(ra,{src:re,alt:"Product",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>Ye(be),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity transform hover:scale-110",children:f.jsx(ci,{className:"w-3 h-3"})})]},be)),f.jsxs("button",{type:"button",onClick:()=>{var re;return(re=H.current)==null?void 0:re.click()},className:"aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400 hover:border-[var(--brand-color)] hover:text-[var(--brand-color)] transition-all hover:bg-slate-50 dark:hover:bg-slate-900 group",children:[f.jsx(BG,{className:"w-5 h-5 mb-1 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"text-[9px] font-black uppercase",children:t("products.form.addImage")})]})]}),f.jsx("input",{type:"file",ref:H,className:"hidden",onChange:bt,multiple:!0,accept:"image/*"})]}),f.jsx("div",{className:"h-28 sm:h-20"})]}),f.jsxs("div",{className:"fixed sm:sticky bottom-0 left-2 right-2 sm:left-auto sm:right-auto w-auto sm:w-auto max-w-2xl p-4 sm:p-6 border-t border-slate-100 dark:border-slate-700 flex flex-row justify-end gap-3 bg-white dark:bg-slate-800 rounded-b-3xl sm:rounded-b-2xl shadow-[0_-10px_20px_rgba(0,0,0,0.05)] z-30",children:[f.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 sm:px-6 py-2.5 text-slate-500 dark:text-slate-400 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-all",children:t("common.cancel")}),f.jsxs("button",{type:"submit",form:"productForm",className:"px-5 sm:px-8 py-2.5 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 flex items-center justify-center gap-2",children:[f.jsx(sx,{className:"w-5 h-5"}),t($?"products.update":"products.create")]})]})]})}),A&&D&&f.jsx(vz,{product:D,onClose:()=>{I(!1),V(null)},onSave:async(re,be=!1)=>{await i(re),V(re),be||(I(!1),V(null))}}),f.jsx(B4,{isOpen:G,onClose:()=>{W(!1),le(null)},onConfirm:Y,title:t("common.delete"),message:t("products.confirmDelete")})]})},bg=({title:t,options:e,selectedValue:n,onChange:r,icon:i})=>{var d;const{appearance:a}=Mn(),[s,o]=R.useState(!1),l=R.useRef(null);R.useEffect(()=>{const h=p=>{l.current&&!l.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const c=h=>{r(h),o(!1)},u=((d=e.find(h=>h.value===n))==null?void 0:d.label)||t;return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>o(!s),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${s?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(ax,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:u}),f.jsx(_l,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`})]}),s&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(a==null?void 0:a.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})})}),f.jsx("div",{className:"flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto",children:e.map(h=>{const p=n===h.value;return f.jsx("div",{onClick:()=>c(h.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${p?"bg-accent/10":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:f.jsx("span",{className:`text-sm font-semibold ${p?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:h.label})},h.value)})})]})})]})},LC=({order:t,onUpdate:e})=>{const[n,r]=R.useState(!1),i=B.useRef(null);B.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const{t:a}=jr(),s=c=>{switch(c){case"Processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},o=c=>{c!==t.status&&e({...t,status:c}),r(!1)},l=c=>a(`common.status.${c.toLowerCase()}`,c);return f.jsxs("div",{className:"relative",ref:i,children:[f.jsxs("button",{onClick:()=>r(!n),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-all hover:brightness-95 active:scale-95 ${s(t.status)}`,children:[l(t.status),f.jsx("div",{className:`w-0 h-0 border-s-[3px] border-s-transparent border-t-[4px] border-t-current border-e-[3px] border-e-transparent opacity-50 ${document.dir==="rtl"?"me-1":"ms-1"}`})]}),n&&f.jsx("div",{className:`absolute top-full mt-1 w-32 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-100 dark:border-slate-700 py-1 z-50 animate-in fade-in zoom-in-95 duration-100 ${document.dir==="rtl"?"end-0":"start-0"}`,children:["Processing","Completed","Cancelled","Pending"].map(c=>f.jsx("button",{onClick:()=>o(c),className:`w-full text-start px-3 py-2 text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${t.status===c?"text-accent bg-slate-50 dark:bg-slate-700/30":"text-slate-600 dark:text-slate-300"}`,children:l(c)},c))})]})},qIe=()=>{var Q,Oe,it,Yt,et,Ve,Xt,Tn,Hn;const{t}=jr(),{orders:e,products:n,customers:r,addOrder:i,updateOrder:a,deleteOrder:s,addCustomer:o,formatCurrency:l,brand:c,loading:u,appearance:d,addToast:h,setIsModalOpen:p}=Mn(),[g,x]=R.useState(""),[y,v]=R.useState(!1),[b,w]=R.useState(!1),[S,E]=R.useState(null),[P,_]=R.useState(null),[k,N]=R.useState(!1),[A,I]=R.useState(!1),[j,O]=R.useState(null);R.useEffect(()=>(p(y||b||A),()=>p(!1)),[y,b,A,p]);const[$,M]=R.useState(100),D=R.useMemo(()=>e.length===0?ww(new Date,30):e.reduce((z,ce)=>{try{const ye=wa(ce.date);return ye<z?ye:z}catch{return z}},new Date),[e]),V=R.useMemo(()=>({from:D,to:new Date}),[D]),[F,U]=R.useState(V),[H,G]=R.useState(!1);B.useEffect(()=>{!u&&e.length>0&&!H&&(U(V),G(!0))},[u,e.length,V,H]);const[W,ee]=R.useState([]),[le,pe]=R.useState([]),[Z,_e]=R.useState([]),[Ce,ie]=R.useState("date-new"),[ve,X]=R.useState({column:"date",direction:"desc"}),q=R.useMemo(()=>{const z={};return e.forEach(ce=>{var Je;const ye=(Je=ce.customer)==null?void 0:Je.governorate;ye&&(z[ye]=(z[ye]||0)+1)}),a4.map(ce=>({value:ce,label:ce,count:z[ce]||0})).sort((ce,ye)=>ye.count-ce.count)},[e]),de=R.useMemo(()=>{const z={};return e.forEach(ce=>{var Je;const ye=(Je=ce.customer)==null?void 0:Je.social;ye&&(z[ye]=(z[ye]||0)+1)}),s4.map(ce=>({value:ce,label:ce,count:z[ce]||0})).sort((ce,ye)=>ye.count-ce.count)},[e]),ke=R.useMemo(()=>{const z={};return e.forEach(ce=>{const ye=ce.status;ye&&(z[ye]=(z[ye]||0)+1)}),["Processing","Completed","Cancelled","Pending"].map(ce=>({value:ce,label:t(`common.status.${ce.toLowerCase()}`,ce),count:z[ce]||0}))},[e,t]),[me,we]=R.useState({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0}),[Ue,St]=R.useState(""),[Me,He]=R.useState(1),Y=R.useMemo(()=>e.filter(ye=>{const Je=g.toLowerCase(),Ut=ye.orderId.toLowerCase().includes(Je)||ye.customer.name.toLowerCase().includes(Je),Jt=wa(ye.date),Rr=!(F!=null&&F.from)||!(F!=null&&F.to)||Ac(Jt,{start:F.from,end:F.to}),uo=W.length===0||W.includes(ye.customer.governorate),cn=le.length===0||le.includes(ye.customer.social),Ol=Z.length===0||Z.includes(ye.status);return Ut&&Rr&&uo&&cn&&Ol}).sort((ye,Je)=>{let Ut=0;return ve.column==="orderId"?Ut=ye.orderId.localeCompare(Je.orderId):ve.column==="customer"?Ut=ye.customer.name.localeCompare(Je.customer.name):ve.column==="date"?Ut=new Date(ye.date)-new Date(Je.date):ve.column==="total"?Ut=ye.total-Je.total:ve.column==="status"&&(Ut=ye.status.localeCompare(Je.status)),ve.direction==="asc"?Ut:-Ut}).slice(0,$),[e,g,W,le,Z,Ce,F,ve,$]),ue=z=>{ie(z),z==="date-new"?X({column:"date",direction:"desc"}):z==="date-old"?X({column:"date",direction:"asc"}):z==="total-high"?X({column:"total",direction:"desc"}):z==="total-low"?X({column:"total",direction:"asc"}):z==="name-asc"&&X({column:"customer",direction:"asc"})},Ie=()=>{if(!Ue)return;const z=n.find(cn=>cn._id===Ue);if(!z)return;const ce=parseInt(Me),ye=e.find(cn=>cn._id===P),Je=ye==null?void 0:ye.items.find(cn=>cn.product._id===z._id),Ut=Je?Je.quantity:0,Jt=z.stock+Ut;if(ce>Jt)return h(t("orders.stockError",{available:Jt}),"error");const Rr=me.items.findIndex(cn=>cn.product._id===z._id),uo=z.sellingPriceIQD||z.price||0;if(Rr>-1){const cn=[...me.items],Ol=cn[Rr].quantity+ce;if(Ol>Jt)return h(t("orders.limitReached",{available:Jt}),"error");cn[Rr].quantity=Ol,we(pa=>({...pa,items:cn}))}else we(cn=>({...cn,items:[...cn.items,{product:z,quantity:ce,price:uo}]}));He(1),St("")},bt=z=>{const ce=me.items.filter((ye,Je)=>Je!==z);we(ye=>({...ye,items:ce}))},Ye=(z,ce)=>{const ye=[...me.items];ye[z].price=parseFloat(ce||0),we(Je=>({...Je,items:ye}))},vt=(z,ce)=>{me.items[z].product;const ye=parseInt(ce||0),Je=[...me.items];Je[z].quantity=ye,we(Ut=>({...Ut,items:Je}))},Pt=z=>z.reduce((ce,ye)=>ce+ye.price*ye.quantity,0),re=()=>{const z=Pt(me.items),ce=z*(me.discount/100);let ye=z-ce;return ye=Math.ceil(ye/500)*500,ye},be=z=>{if(we(ce=>({...ce,customerId:z})),z==="new")we(ce=>({...ce,customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:""}));else if(z){const ce=r.find(ye=>ye._id===z);ce&&we(ye=>({...ye,customerName:ce.name,customerPhone:ce.phone,customerGender:ce.gender||"",customerAddress:ce.address,customerGovernorate:ce.governorate,customerSocial:ce.social}))}},Xe=z=>{w(!1),_(z._id);const ce=r.find(ye=>ye.name===z.customer.name&&ye.phone===z.customer.phone);we({customerId:ce?ce._id:"new",customerName:z.customer.name,customerPhone:z.customer.phone,customerGender:z.customer.gender||"",customerAddress:z.customer.address||"",customerGovernorate:z.customer.governorate||"",customerSocial:z.customer.social||"",customerNotes:z.notes||"",items:z.items,discount:z.discount||0}),v(!0)},st=z=>{E(z),w(!0)},ln=async()=>{if(me.items.length===0)return h(t("orders.addItemsError"),"error");if(!me.customerName||!me.customerPhone)return h(t("orders.customerError"),"error");const z=e.find(ce=>ce._id===P);for(const ce of me.items){const ye=n.find(Rr=>Rr._id===ce.product._id),Je=z==null?void 0:z.items.find(Rr=>Rr.product._id===ce.product._id),Ut=Je?Je.quantity:0,Jt=((ye==null?void 0:ye.stock)||0)+Ut;if(ce.quantity>Jt)return h(t("orders.stockErrorWithName",{name:ce.product.name,available:Jt}),"error")}N(!0);try{let ce={_id:me.customerId!=="new"?me.customerId:void 0,name:me.customerName,phone:me.customerPhone,gender:me.customerGender,address:me.customerAddress,governorate:me.customerGovernorate,social:me.customerSocial};if(me.customerId==="new"){const Jt=await o({...ce,email:""});ce._id=Jt._id}const ye=Pt(me.items),Je=re(),Ut={customer:ce,date:P&&z?z.date:new Date().toISOString(),total:Je,subtotal:ye,discount:me.discount,status:P&&z?z.status:"Processing",items:me.items,notes:me.customerNotes};if(P&&z)await a({...Ut,_id:P,orderId:z.orderId});else{const Jt=await i(Ut);Jt&&setTimeout(()=>{try{ne(Jt)}catch(Rr){console.error("Print error:",Rr)}},800)}v(!1),_(null),we({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})}catch(ce){console.error("Order submission error:",ce),h(t("orders.errors.submitError",{message:ce.message||t("orders.errors.unknown")}),"error")}finally{N(!1)}},ne=z=>{const ce=window.open("","","width=600,height=800"),ye=document.dir==="rtl";ce.document.write(`
            <html dir="${ye?"rtl":"ltr"}">
                <head>
                    <title>${t("orders.receipt.title")}</title>
                    <style>
                        body { font-family: 'Cairo', 'Courier New', monospace; padding: 20px; font-size: 14px; direction: ${ye?"rtl":"ltr"}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .item { display: flex; justify-content: space-between; margin-bottom: 5px; }
                        .divider { border-top: 1px dashed black; margin: 10px 0; }
                        .totals { text-align: ${ye?"left":"right"}; margin-top: 10px; }
                        .total-row { display: flex; justify-content: space-between; font-weight: bold; margin-top: 5px; }
                        .discount { color: red; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>${t("orders.receipt.companyName")}</h2>
                        <p>${t("orders.receipt.address")}</p>
                        <p>${t("orders.receipt.order")}: ${z.orderId||"###"}</p>
                        <p>${z.date}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        <p><strong>${t("orders.receipt.customer")}:</strong> ${z.customer.name}</p>
                        <p><strong>${t("orders.receipt.phone")}:</strong> ${z.customer.phone||t("orders.receipt.na")}</p>
                        <p><strong>${t("orders.receipt.gov")}:</strong> ${z.customer.governorate||t("orders.receipt.na")}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        ${z.items.map(Je=>`
                            <div class="item">
                                <span>${Je.product.name} <br> <small>x${Je.quantity} @ ${l(Je.price)}</small></span>
                                <span>${l(Je.price*Je.quantity)}</span>
                            </div>
                        `).join("")}
                    </div>
                    <div class="divider"></div>
                    <div class="totals">
                        <div class="total-row" style="font-weight: normal;">
                            <span>${t("orders.receipt.subtotal")}:</span>
                            <span>${l(z.subtotal||z.total)}</span>
                        </div>
                        ${z.discount?`
                        <div class="total-row discount" style="font-weight: normal;">
                            <span>${t("orders.receipt.discount")} (${z.discount}%):</span>
                            <span>-${l((z.subtotal||z.total)-z.total)}</span>
                        </div>
                        `:""}
                        <div class="total-row" style="font-size: 18px; margin-top: 10px;">
                            <span>${t("orders.receipt.total")}:</span>
                            <span>${l(z.total)}</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <p>${t("orders.receipt.thankYou")}</p>
                        <p>${t("orders.receipt.noReturn")}</p>
                    </div>
                </body>
            </html>
        `),ce.document.close(),ce.print()},fe=z=>{ve.column===z?X(ce=>({...ce,direction:ce.direction==="asc"?"desc":"asc"})):X({column:z,direction:"asc"})},Ee=({column:z,label:ce,border:ye=!1})=>{const Je=ve.column===z;return f.jsx("th",{onClick:()=>fe(z),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors select-none ${ye?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[ce,Je&&f.jsx("span",{className:"text-accent font-bold",children:ve.direction==="asc"?"":""})]})})},Fe=k||me.items.length===0||me.items.some(z=>{const ce=n.find(Jt=>Jt._id===z.product._id),ye=e.find(Jt=>Jt._id===P),Je=ye==null?void 0:ye.items.find(Jt=>Jt.product._id===z.product._id),Ut=Je?Je.quantity:0;return z.quantity>((ce==null?void 0:ce.stock)||0)+Ut}),Ze=t(P?"orders.updateOrder":"orders.saveOrder");return f.jsxs(ju,{title:t("orders.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:()=>{v(!0),_(null),we({customerId:"new",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})},className:"flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(y0,{className:"w-5 h-5"}),f.jsx("span",{children:t("orders.createOrder")})]}),f.jsxs("button",{onClick:()=>{if(Y.length===0)return h(t("common.noDataToExport"),"info");FIe(Y)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(Fg,{className:"w-5 h-5"}),f.jsx("span",{className:"sm:hidden",children:"CSV"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]})]}),(W.length>0||Z.length>0||le.length>0||g||((Q=F.from)==null?void 0:Q.getTime())!==((Oe=V.from)==null?void 0:Oe.getTime())||((it=F.to)==null?void 0:it.getTime())!==((Yt=V.to)==null?void 0:Yt.getTime()))&&f.jsx("button",{onClick:()=>{x(""),_e([]),ee([]),pe([]),U(V)},className:"sm:hidden ms-auto shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"hidden sm:flex gap-2 sm:gap-3 items-center w-full sm:w-auto flex-nowrap overflow-visible",children:[(W.length>0||Z.length>0||le.length>0||g||((et=F.from)==null?void 0:et.getTime())!==((Ve=V.from)==null?void 0:Ve.getTime())||((Xt=F.to)==null?void 0:Xt.getTime())!==((Tn=V.to)==null?void 0:Tn.getTime()))&&f.jsx("button",{onClick:()=>{x(""),_e([]),ee([]),pe([]),U(V)},className:"shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(o4,{limit:$,onChange:M}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Yn,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:Y.length})," ",t("orders.title")]})]})]})]}),f.jsxs("div",{className:"flex sm:hidden gap-2 items-center w-full flex-nowrap overflow-visible",children:[f.jsx(bg,{title:t("common.sort"),options:[{value:"date-new",label:t("common.dateNew")},{value:"date-old",label:t("common.dateOld")},{value:"total-high",label:t("common.priceHigh")},{value:"total-low",label:t("common.priceLow")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:Ce,onChange:ue}),f.jsx(o4,{limit:$,onChange:M}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Yn,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:Y.length})," ",t("orders.title")]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap lg:flex-nowrap items-center",children:[f.jsxs("div",{className:"relative order-last w-full sm:order-none sm:min-w-[200px] sm:flex-1 lg:flex-none lg:w-[280px] h-[44px]",children:[f.jsx(Tu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("orders.searchPlaceholder"),value:g,onChange:z=>x(z.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(_w,{range:F,onRangeChange:U,brandColor:c.color})}),f.jsx(ea,{title:t("orders.status"),options:ke,selectedValues:Z,onChange:_e,icon:Yn,showSearch:!1}),f.jsx(ea,{title:t("orders.governorate"),options:q,selectedValues:W,onChange:ee,icon:Ra,showSearch:!1}),f.jsx(ea,{title:t("orders.socialMedia"),options:de,selectedValues:le,onChange:pe,icon:Ts,showSearch:!1}),f.jsx("div",{className:"hidden sm:block",children:f.jsx(bg,{title:t("common.sort"),options:[{value:"date-new",label:t("common.dateNew")},{value:"date-old",label:t("common.dateOld")},{value:"total-high",label:t("common.priceHigh")},{value:"total-low",label:t("common.priceLow")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:Ce,onChange:ue})})]})]}),f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[f.jsx(Ee,{column:"orderId",label:t("orders.table.orderId")}),f.jsx(Ee,{column:"customer",label:t("orders.table.customer")}),f.jsx(Ee,{column:"date",label:t("orders.table.date"),border:!0}),f.jsx(Ee,{column:"total",label:t("orders.table.total"),border:!0}),f.jsx(Ee,{column:"status",label:t("orders.table.status"),border:!0}),f.jsx("th",{className:"ps-6 pe-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:u?Array.from({length:5}).map((z,ce)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-20 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ge,{className:"w-32 h-5"}),f.jsx(Ge,{className:"w-24 h-3"})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-24 h-4"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-24 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-20 h-8 ms-auto rounded-lg"})})]},ce)):Y.map(z=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-[var(--brand-color)]",children:z.orderId}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:z.customer.name}),f.jsxs("span",{className:"text-xs text-slate-500 flex gap-1 items-center",children:[z.customer.governorate&&f.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1 rounded",children:z.customer.governorate}),z.customer.phone]})]})}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400 border-s dark:border-slate-700",children:z.date}),f.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-white border-s dark:border-slate-700",children:l(z.total)}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(LC,{order:z,onUpdate:a})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>st(z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"View Details",children:f.jsx(cE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Xe(z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"Edit Order",children:f.jsx(Ns,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>ne(z),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Print Receipt",children:f.jsx(n7,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{O(z._id),I(!0)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete Order",children:f.jsx(Ma,{className:"w-4 h-4"})})]})})]},z._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:u?f.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((z,ce)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ge,{className:"w-24 h-5"}),f.jsx(Ge,{className:"w-32 h-4"})]}),f.jsx(Ge,{className:"w-20 h-8 rounded-lg"})]}),f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx(Ge,{className:"w-24 h-3"}),f.jsx(Ge,{className:"w-24 h-6"})]})]},ce))}):Y.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(Yn,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("orders.noOrders")||t("orders.title")})]}):Y.map(z=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black text-[var(--brand-color)]",children:z.orderId}),f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white",children:z.customer.name}),f.jsx("div",{className:"text-xs text-slate-400",children:z.date})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsx("div",{className:"font-black text-lg",children:l(z.total)}),f.jsx("div",{children:f.jsx(LC,{order:z,onUpdate:a})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>st(z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(cE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Xe(z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(Ns,{className:"w-4 h-4"})})]})]})]},z._id))})]}),y&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/60 backdrop-blur-md p-2 md:p-4 overflow-hidden",children:f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-5xl my-4 sm:my-8 min-h-0 flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 relative max-h-[90vh]",children:f.jsxs("div",{className:"flex-1 min-h-0 flex flex-col md:flex-row overflow-y-auto overflow-x-hidden md:overflow-hidden custom-scrollbar",children:[f.jsxs("div",{className:"order-2 md:order-1 w-full shrink-0 md:shrink md:flex-1 p-4 md:p-6 border-t md:border-t-0 md:border-e border-slate-100 dark:border-slate-700 flex flex-col md:min-h-0 overflow-x-hidden overflow-visible md:overflow-visible relative z-20",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 pb-4 z-10 md:sticky md:top-0 lg:static",children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Add Items"}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"grid grid-cols-[minmax(0,1fr)_68px_40px] sm:grid-cols-[minmax(0,1fr)_96px_52px] gap-2 items-end",children:[f.jsxs("div",{className:"min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.searchProduct")}),f.jsx(n0,{title:t("orders.chooseProduct"),options:n.filter(z=>z.stock>0).map(z=>({value:z._id,label:`${z.name} (${z.stock}) - ${l(z.price)}`})),selectedValue:Ue,onChange:St,icon:Jo,placeholder:t("orders.searchPlaceholder")})]}),f.jsxs("div",{className:"w-full",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.qty")}),f.jsx("input",{type:"number",min:"1",value:Me,onChange:z=>He(z.target.value),className:`w-full p-3 border-2 rounded-xl dark:bg-slate-900 dark:text-white outline-none text-center font-bold ${Ue&&parseInt(Me)>(((Hn=n.find(z=>z._id===Ue))==null?void 0:Hn.stock)||0)?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-[var(--brand-color)]"}`})]}),f.jsx("button",{type:"button",onClick:Ie,disabled:!Ue||!Me,className:"h-11 sm:h-[52px] w-11 sm:w-[52px] text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 disabled:opacity-50 flex items-center justify-center",children:f.jsx(y0,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})})]}),f.jsx("div",{className:"overflow-visible mt-6 space-y-3 custom-scrollbar md:min-h-[300px] md:pr-1 md:flex-1 md:overflow-y-auto",children:me.items.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 dark:border-slate-700/50 rounded-3xl py-12",children:[f.jsx(Yn,{className:"w-12 h-12 mb-2 opacity-20"}),f.jsx("p",{className:"font-bold",children:t("orders.cartEmpty")}),f.jsx("p",{className:"text-xs",children:t("orders.cartEmptySub")})]}):me.items.map((z,ce)=>f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-700/50 group hover:border-indigo-500/50 transition-all overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white dark:bg-slate-800 border dark:border-slate-700 shrink-0",children:f.jsx(ra,{src:z.product.images&&z.product.images[0]?typeof z.product.images[0]=="string"?z.product.images[0]:z.product.images[0].url:"",alt:z.product.name||"Product image",className:"w-full h-full",imageClassName:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"text-sm font-black text-slate-800 dark:text-white truncate",children:z.product.name}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mt-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.price")}),f.jsx("input",{type:"number",value:z.price,onChange:ye=>Ye(ce,ye.target.value),className:"w-20 sm:w-24 p-1.5 text-xs font-black border-2 border-slate-100 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-colors focus:border-[var(--brand-color)]"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.qty")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"number",min:"1",value:z.quantity,onChange:ye=>vt(ce,ye.target.value),className:`w-14 sm:w-16 p-1.5 text-xs font-black border-2 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-all text-center ${z.quantity>z.product.stock?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-indigo-500"}`}),z.quantity>z.product.stock&&f.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[8px] px-1.5 py-0.5 rounded font-black whitespace-nowrap animate-bounce",children:t("orders.onlyLeft",{count:z.product.stock})})]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full sm:w-auto justify-between sm:justify-end mt-3 sm:mt-0 sm:ml-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t("orders.subtotal")}),f.jsx("span",{className:"text-sm font-black dark:text-white break-words",children:l(z.price*z.quantity)})]}),f.jsx("button",{onClick:()=>bt(ce),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:f.jsx(Ma,{className:"w-4 h-4"})})]})]},ce))}),f.jsx("div",{className:"mt-8 pt-6 pb-8 md:pb-8 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 md:sticky md:bottom-0",children:f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"font-bold text-slate-400 uppercase tracking-widest text-[10px]",children:t("orders.orderSubtotal")}),f.jsx("span",{className:"font-black dark:text-white text-lg",children:l(Pt(me.items))})]}),f.jsxs("div",{className:"flex justify-between items-center p-3.5 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-2",children:[f.jsx(wR,{className:"w-4 h-4 text-accent"})," ",t("orders.applyDiscount")]}),f.jsx("div",{className:"w-48",children:f.jsx(n0,{title:t("orders.noDiscount"),options:[0,5,10,15,20,30,40,50,75,100].map(z=>({value:z,label:z===0?t("orders.noDiscount"):t("orders.offDiscount",{percent:z})})),selectedValue:me.discount,onChange:z=>we(ce=>({...ce,discount:z})),showSearch:!1,direction:"up"})})]}),f.jsxs("div",{className:"flex justify-between items-center pt-2",children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tighter text-sm",children:t("orders.grandTotal")}),f.jsx("span",{className:"font-black text-3xl text-accent",children:l(re())})]})]})})]}),f.jsxs("div",{className:"order-1 md:order-2 w-full shrink-0 md:w-1/3 p-4 bg-slate-50 dark:bg-slate-900/50 md:flex md:flex-col md:min-h-0 border-b md:border-b-0 md:border-l border-slate-100 dark:border-slate-700 relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:t("orders.customerInfo")}),f.jsx("button",{onClick:()=>v(!1),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:f.jsx(ci,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-2 pb-2 md:pb-0 md:pr-1 custom-scrollbar",children:[f.jsx("div",{className:"space-y-2",children:f.jsx(n0,{title:t("orders.chooseCustomer"),options:r.map(z=>({value:z._id,label:z.name})),selectedValue:me.customerId,onChange:be,icon:hs,placeholder:t("orders.searchCustomers"),customAction:{label:t("orders.createNewCustomer"),icon:y0,onClick:()=>be("new")}})}),f.jsxs("div",{className:`space-y-2 transition-all duration-300 ${me.customerId?"opacity-100 pointer-events-auto":"opacity-30 pointer-events-none grayscale"}`,children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.fullName")}),f.jsx("input",{placeholder:"e.g. Ahmed Ali",value:me.customerName,onChange:z=>we({...me,customerName:z.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:me.customerId!=="new"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.phone")}),f.jsx("input",{placeholder:"07XX XXX XXXX",value:me.customerPhone,onChange:z=>we({...me,customerPhone:z.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:me.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.gender")}),f.jsx(n0,{title:t("common.select"),options:[{value:"Male",label:t("common.male")},{value:"Female",label:t("common.female")}],selectedValue:me.customerGender,onChange:z=>we({...me,customerGender:z}),showSearch:!1,disabled:me.customerId!=="new"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.governorate")}),f.jsx(n0,{title:t("common.select"),options:a4.map(z=>({value:z,label:z})),selectedValue:me.customerGovernorate,onChange:z=>we({...me,customerGovernorate:z}),icon:Ra,showSearch:!1,disabled:me.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.social")}),f.jsx(n0,{title:t("common.select"),options:s4.map(z=>({value:z,label:z})),selectedValue:me.customerSocial,onChange:z=>we({...me,customerSocial:z}),icon:Ts,showSearch:!1,disabled:me.customerId!=="new"})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.shippingAddress")}),f.jsx("textarea",{placeholder:"House/District/Street...",value:me.customerAddress,onChange:z=>we({...me,customerAddress:z.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",disabled:me.customerId!=="new",rows:"1"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.internalNotes")}),f.jsx("textarea",{placeholder:"Special instructions...",value:me.customerNotes,onChange:z=>we({...me,customerNotes:z.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",rows:"2"})]})]})]}),f.jsx("div",{className:"mt-auto pt-2 border-t border-slate-100 dark:border-slate-700 hidden md:block",children:f.jsx("button",{onClick:ln,disabled:Fe,className:"w-full py-3 bg-accent text-white rounded-2xl font-black shadow-accent active:scale-[0.98] transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",children:k?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(Yn,{className:"w-5 h-5"}),Ze]})})})]}),f.jsx("div",{className:"order-3 md:hidden mt-2 bg-white dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700 p-4",children:f.jsx("button",{onClick:ln,disabled:Fe,className:"w-full py-3 bg-accent text-white rounded-2xl font-black shadow-accent active:scale-[0.98] transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",children:k?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(Yn,{className:"w-5 h-5"}),Ze]})})})]})})}),b&&S&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/40 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative",children:[f.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Order Details"}),f.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:[S.orderId,"  ",S.date]})]}),f.jsx("button",{onClick:()=>w(!1),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(ci,{className:"w-6 h-6 text-slate-400"})})]}),f.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar flex-1 bg-slate-50 dark:bg-slate-900/50",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(hs,{className:"w-3.5 h-3.5"}),"Customer Information"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black text-slate-900 dark:text-white",children:S.customer.name}),f.jsx("div",{className:"text-xs text-slate-500 font-bold",children:S.customer.phone})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx(Ra,{className:"w-4 h-4 text-slate-300 mt-0.5 shrink-0"}),f.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:S.customer.governorate}),f.jsx("br",{}),S.customer.address]})]}),S.customer.social&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ts,{className:"w-4 h-4 text-slate-300 shrink-0"}),f.jsx("span",{className:"text-[10px] font-black text-accent uppercase tracking-wider bg-accent/5 px-2 py-0.5 rounded-lg",children:S.customer.social})]})]})]}),S.notes&&f.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-6 rounded-3xl border border-amber-100 dark:border-amber-900/30",children:[f.jsx("h4",{className:"text-[11px] font-black text-amber-600 dark:text-amber-500 uppercase tracking-widest mb-2",children:"Order Notes"}),f.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 italic",children:['"',S.notes,'"']})]})]}),f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(Jo,{className:"w-3.5 h-3.5"}),"Items Summary"]}),f.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto custom-scrollbar pr-2",children:S.items.map((z,ce)=>f.jsxs("div",{className:"flex justify-between items-center p-3 rounded-2xl bg-slate-50 dark:bg-slate-900/50 border border-slate-100 dark:border-slate-800 group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"w-10 h-10 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center font-black text-xs text-accent border border-slate-100 dark:border-slate-700 shadow-sm",children:[z.quantity,""]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white line-clamp-1",children:z.product.name}),f.jsxs("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[l(z.price)," each"]})]})]}),f.jsx("span",{className:"text-sm font-black text-slate-900 dark:text-white whitespace-nowrap",children:l(z.price*z.quantity)})]},ce))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 space-y-3",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Subtotal"}),f.jsx("span",{className:"font-black text-slate-700 dark:text-slate-300",children:l(S.subtotal||S.total)})]}),S.discount>0&&f.jsxs("div",{className:"flex justify-between text-sm text-red-500",children:[f.jsxs("span",{className:"font-bold uppercase tracking-widest text-[10px]",children:["Discount ($",S.discount,"%)"]}),f.jsxs("span",{className:"font-black",children:["-",l((S.subtotal||S.total)-S.total)]})]}),f.jsxs("div",{className:"flex justify-between items-end pt-2",children:[f.jsx("span",{className:"text-slate-900 dark:text-white font-black uppercase tracking-tighter text-sm",children:"Final Total"}),f.jsx("span",{className:"text-2xl font-black text-accent",children:l(S.total)})]})]})]})})]})}),f.jsxs("div",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-700 flex justify-end items-center gap-3 bg-white dark:bg-slate-800",children:[f.jsxs("button",{onClick:()=>Xe(S),className:"px-6 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-95",children:[f.jsx(Ns,{className:"w-4 h-4"}),"Edit Order"]}),f.jsxs("button",{onClick:()=>ne(S),className:"px-6 py-2.5 bg-green-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-green-700 shadow-lg shadow-green-600/20 transition-all active:scale-95",children:[f.jsx(n7,{className:"w-4 h-4"}),"Print Receipt"]})]})]})}),f.jsx(B4,{isOpen:A,onClose:()=>{I(!1),O(null)},onConfirm:()=>{j&&(s(j),I(!1),O(null))},title:t("common.delete"),message:t("orders.deleteConfirm")})]})},WIe=()=>{const{t}=jr(),{customers:e,orders:n,addCustomer:r,updateCustomer:i,formatCurrency:a,brand:s,addToast:o,loading:l,appearance:c,setIsModalOpen:u}=Mn(),[d,h]=R.useState(""),[p,g]=R.useState([]),[x,y]=R.useState([]),[v,b]=R.useState(!1),[w,S]=R.useState(!1);R.useEffect(()=>(u(v||w),()=>u(!1)),[v,w,u]);const[E,P]=R.useState("orders-high"),_=R.useMemo(()=>e.length===0?ww(new Date,90):e.reduce((Y,ue)=>{try{const Ie=ue.createdOn?wa(ue.createdOn):new Date;return Ie<Y?Ie:Y}catch{return Y}},new Date),[e]),k=R.useMemo(()=>({from:_,to:new Date}),[_]),[N,A]=R.useState(k),[I,j]=R.useState(!1);R.useEffect(()=>{e.length>0&&!I&&(A({from:_,to:new Date}),j(!0))},[e.length,I,_]);const[O,$]=R.useState(null),[M,D]=R.useState(null),[V,F]=R.useState(null),[U,H]=R.useState({column:"orders",direction:"desc"}),[G,W]=R.useState("table"),[ee,le]=R.useState(100),pe=Y=>{U.column===Y?H(ue=>({...ue,direction:ue.direction==="asc"?"desc":"asc"})):H({column:Y,direction:"asc"})},Z=({column:Y,label:ue,border:Ie=!1})=>{const bt=U.column===Y;return f.jsx("th",{onClick:()=>pe(Y),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${Ie?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[ue,bt&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:U.direction==="asc"?"":""})]})})},[_e,Ce]=R.useState({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),ie=R.useMemo(()=>{const Y={};return e.forEach(ue=>{const Ie=ue.governorate;Ie&&(Y[Ie]=(Y[Ie]||0)+1)}),a4.map(ue=>({value:ue,label:ue,count:Y[ue]||0})).sort((ue,Ie)=>Ie.count-ue.count)},[e]),ve=R.useMemo(()=>{const Y={};return e.forEach(ue=>{const Ie=ue.social;Ie&&(Y[Ie]=(Y[Ie]||0)+1)}),s4.map(ue=>({value:ue,label:ue,count:Y[ue]||0})).sort((ue,Ie)=>Ie.count-ue.count)},[e]),X=Y=>n.filter(ue=>{var bt,Ye,vt;const Ie=e.find(Pt=>Pt._id===Y);return Ie?((bt=ue.customer)==null?void 0:bt._id)===Y||((Ye=ue.customer)==null?void 0:Ye.name)===Ie.name&&((vt=ue.customer)==null?void 0:vt.phone)===Ie.phone:!1}),q=Y=>{const ue=Y.createdOn||Y.createdAt;if(!ue)return null;try{return typeof ue=="string"?wa(ue):ue.toDate?ue.toDate():new Date(ue)}catch{return null}},de=R.useMemo(()=>e.filter(Ie=>{const bt=Ie.name.toLowerCase().includes(d.toLowerCase())||Ie.phone.includes(d),Ye=q(Ie);let vt=!0;if(N!=null&&N.from&&(N!=null&&N.to)&&Ye){const be=p0(N.from),Xe=k3(N.to);vt=Ye>=be&&Ye<=Xe}const Pt=p.length===0||p.includes(Ie.governorate),re=x.length===0||x.includes(Ie.social);return bt&&vt&&Pt&&re}).sort((Ie,bt)=>{if(U.column==="name"){const Ye=Ie.name.toLowerCase(),vt=bt.name.toLowerCase();return U.direction==="asc"?Ye.localeCompare(vt):vt.localeCompare(Ye)}if(U.column==="orders"){const Ye=X(Ie._id).length,vt=X(bt._id).length;return U.direction==="asc"?Ye-vt:vt-Ye}if(U.column==="spent"){const Ye=X(Ie._id).reduce((Pt,re)=>Pt+re.total,0),vt=X(bt._id).reduce((Pt,re)=>Pt+re.total,0);return U.direction==="asc"?Ye-vt:vt-Ye}if(U.column==="governorate"){const Ye=(Ie.governorate||"").toLowerCase(),vt=(bt.governorate||"").toLowerCase();return U.direction==="asc"?Ye.localeCompare(vt):vt.localeCompare(Ye)}return 0}).slice(0,ee),[e,d,p,x,E,U,n,N,ee]),ke=Y=>{P(Y),Y==="orders-high"?H({column:"orders",direction:"desc"}):Y==="orders-low"?H({column:"orders",direction:"asc"}):Y==="name-asc"?H({column:"name",direction:"asc"}):Y==="date-new"&&H({column:"orders",direction:"desc"})};R.useEffect(()=>{(()=>{try{window.innerWidth<640&&G==="table"&&W("card")}catch{}})();const ue=()=>{window.innerWidth<640&&W("card")};return window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]);const me=()=>{D(null),Ce({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),b(!0)},we=Y=>{D(Y),Ce(Y),b(!0)},Ue=Y=>{$(Y),S(!0),F(null)},St=Y=>{Y.preventDefault(),M?i({..._e,_id:M._id}):r(_e),b(!1)},Me=Y=>{const ue=window.open("","_blank");ue.document.write(`
            <html>
                <head>
                    <title>${t("customers.receipt.title")} ${Y.orderId}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; direction: ${document.dir}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .order-info { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { text-align: ${document.dir==="rtl"?"right":"left"}; padding: 8px; border-bottom: 1px solid #eee; }
                        .total { text-align: ${document.dir==="rtl"?"left":"right"}; font-weight: bold; font-size: 1.2em; margin-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>${t("customers.receipt.title")}</h1>
                        <h3>${Y.orderId}</h3>
                    </div>
                    <div class="order-info">
                        <p><strong>${t("customers.receipt.customer")}:</strong> ${Y.customer.name}</p>
                        <p><strong>${t("customers.receipt.date")}:</strong> ${Y.date}</p>
                        <p><strong>${t("customers.receipt.status")}:</strong> ${Y.status}</p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>${t("customers.receipt.item")}</th>
                                <th>${t("customers.receipt.qty")}</th>
                                <th>${t("customers.receipt.price")}</th>
                                <th>${t("customers.receipt.total")}</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${Y.items.map(Ie=>`
                                <tr>
                                    <td>${Ie.product.name}</td>
                                    <td>${Ie.quantity}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Ie.price)}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Ie.price*Ie.quantity)}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="total">
                        ${t("customers.receipt.total")}: ${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Y.total)}
                    </div>
                    <script>window.onload = function() { window.print(); window.close(); }<\/script>
                </body>
            </html>
        `),ue.document.close()},He=Y=>{switch(Y==null?void 0:Y.toLowerCase()){case"facebook":return f.jsx(TG,{className:"w-4 h-4"});case"instagram":return f.jsx(NG,{className:"w-4 h-4"});case"twitter":return f.jsx(UG,{className:"w-4 h-4"});case"tiktok":return f.jsx("div",{className:"w-4 h-4 font-bold text-xs flex items-center justify-center",children:"TT"});case"whatsapp":return f.jsx(RG,{className:"w-4 h-4"});default:return f.jsx(Ts,{className:"w-4 h-4"})}};return f.jsxs(ju,{title:t("customers.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:me,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(y0,{className:"w-5 h-5"}),f.jsx("span",{children:t("customers.addCustomer")})]}),f.jsxs("button",{onClick:()=>{if(de.length===0)return o(t("customers.noMatch"),"info");VIe(de)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(Fg,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]})]}),(p.length>0||x.length>0||d||!ys(N.from,k.from)||!ys(N.to,k.to))&&f.jsx("button",{onClick:()=>{h(""),g([]),y([]),A(k)},className:"sm:hidden ms-auto shrink-0 whitespace-nowrap px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"hidden sm:flex gap-3 items-center flex-wrap",children:[(p.length>0||x.length>0||d||!ys(N.from,k.from)||!ys(N.to,k.to))&&f.jsx("button",{onClick:()=>{h(""),g([]),y([]),A(k)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(o4,{limit:ee,onChange:le}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(hs,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:de.length})," ",t("customers.title")]})]})]})]}),f.jsxs("div",{className:"flex sm:hidden gap-2 items-center w-full flex-nowrap overflow-visible",children:[f.jsx(bg,{title:t("common.sort"),options:[{value:"orders-high",label:t("customers.totalSpent")+" (High)"},{value:"orders-low",label:t("customers.totalSpent")+" (Low)"},{value:"date-new",label:t("common.dateNew")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:E,onChange:ke}),f.jsx(o4,{limit:ee,onChange:le}),f.jsxs("div",{className:"shrink-0 whitespace-nowrap flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(hs,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:de.length})," ",t("customers.title")]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap lg:flex-nowrap items-center",children:[f.jsxs("div",{className:"relative order-last w-full sm:order-none sm:min-w-[200px] sm:flex-1 lg:flex-none lg:w-[320px] h-[44px]",children:[f.jsx(Tu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("customers.searchPlaceholder"),value:d,onChange:Y=>h(Y.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-slate-50 dark:bg-slate-900/50 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-blue-200 dark:focus:border-blue-800 focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold text-sm dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0 order-2 sm:order-none",children:f.jsx(_w,{range:N,onRangeChange:A,brandColor:s.color})}),f.jsx(ea,{title:t("customers.form.governorate"),options:ie,selectedValues:p,onChange:g,icon:Ra,showSearch:!1}),f.jsx("div",{className:"order-1 sm:order-none",children:f.jsx(ea,{title:t("customers.social"),options:ve,selectedValues:x,onChange:y,icon:Ts,showSearch:!1})}),f.jsx("div",{className:"hidden sm:block",children:f.jsx(bg,{title:t("common.sort"),options:[{value:"orders-high",label:t("common.priceHigh")},{value:"orders-low",label:t("common.priceLow")},{value:"date-new",label:t("common.dateNew")},{value:"name-asc",label:t("common.nameAZ")}].map(Y=>({...Y,label:Y.value==="orders-high"?t("customers.totalSpent")+" (High)":Y.value==="orders-low"?t("customers.totalSpent")+" (Low)":Y.label})),selectedValue:E,onChange:ke})}),f.jsxs("div",{className:"hidden lg:flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl border border-slate-200 dark:border-slate-600 ms-auto",children:[f.jsx("button",{onClick:()=>W("table"),className:`p-1.5 rounded-lg transition-all ${G==="table"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:"Table View",children:f.jsx(yR,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>W("card"),className:`p-1.5 rounded-lg transition-all ${G==="card"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:t("customers.viewCard"),children:f.jsx(IG,{className:"w-4 h-4"})})]})]})]}),G==="table"?f.jsx("div",{className:`rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(Z,{column:"name",label:t("customers.name")}),f.jsx(Z,{column:"governorate",label:t("customers.location"),border:!0}),f.jsx(Z,{column:"orders",label:t("customers.orders"),border:!0}),f.jsx(Z,{column:"spent",label:t("customers.totalSpent"),border:!0}),f.jsx("th",{className:"px-6 py-4 border-s dark:border-slate-700 select-none",children:t("customers.createdOn")}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("customers.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:l?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-12",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/3 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]})})}):de.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400",children:[f.jsx(hs,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("customers.noData")})]})}):de.map(Y=>{const ue=X(Y._id),Ie=ue.reduce((bt,Ye)=>bt+Ye.total,0);return f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-bold text-lg border border-slate-100 dark:border-slate-800 shadow-sm",children:Y.name.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:Y.name}),f.jsx("p",{className:"text-xs text-slate-400",children:Y.phone})]})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:Y.governorate}),f.jsx("span",{className:"text-[11px] text-slate-400 line-clamp-1",children:Y.address})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-xl text-xs font-black inline-flex transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[f.jsx(Yn,{className:"w-3.5 h-3.5"}),ue.length]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:a(Ie)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-xs font-bold text-slate-500 whitespace-nowrap",children:q(Y)?wi(q(Y),"MMM dd, yyyy"):t("orders.receipt.na")})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>Ue(Y),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Order History",children:f.jsx(Yn,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>we(Y),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Edit",children:f.jsx(Ns,{className:"w-4 h-4"})})]})})]},Y._id)})})]})})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in duration-500",children:l?[1,2,3].map(Y=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:[f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 animate-pulse mb-4"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse mb-2"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]},Y)):de.length===0?f.jsxs("div",{className:"col-span-full py-20 text-center bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700",children:[f.jsx(hs,{className:"w-16 h-16 mx-auto mb-4 text-slate-200"}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-sm",children:t("customers.noMatch")})]}):de.map(Y=>{const ue=X(Y._id),Ie=ue.reduce((bt,Ye)=>bt+Ye.total,0);return f.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group overflow-hidden flex flex-col h-full ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:f.jsxs("div",{className:"p-6 flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-black text-xl border border-slate-100 dark:border-slate-800 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900 transition-colors",children:Y.name.charAt(0)}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>Ue(Y),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Order History",children:f.jsx(Yn,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>we(Y),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Edit Profile",children:f.jsx(Ns,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg mb-2 truncate",children:Y.name}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[f.jsx(Yn,{className:"w-3 h-3"}),ue.length," ",ue.length===1?t("customers.receipt.order"):t("customers.orders")]}),f.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:a(Ie)})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:f.jsx(LG,{className:"w-4 h-4 text-slate-400"})}),f.jsx("span",{className:"font-bold",children:Y.phone||"No phone"})]}),f.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0 mt-0.5",children:f.jsx(Ra,{className:"w-4 h-4 text-slate-400"})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-xs",children:Y.governorate}),f.jsx("span",{className:"text-[10px] text-slate-400 line-clamp-1",children:Y.address})]})]}),Y.social&&f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:He(Y.social)}),f.jsx("span",{className:"text-[10px] font-black uppercase text-blue-500 tracking-wider",children:Y.social})]})]})]})},Y._id)})}),v&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/80 backdrop-blur-md p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-md my-4 sm:my-8 flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 relative ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{className:`px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 z-10 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white",children:t(M?"customers.form.edit":"customers.form.new")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:t("customers.form.sub")})]}),f.jsx("button",{onClick:()=>b(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(ci,{className:"w-5 h-5 text-slate-400"})})]}),f.jsx("div",{className:"p-5 overflow-y-auto custom-scrollbar",children:f.jsx("form",{id:"customer-form",onSubmit:St,className:"space-y-4",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.fullName")}),f.jsx("input",{required:!0,placeholder:"Ahmed Ali",value:_e.name,onChange:Y=>Ce({..._e,name:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.phone")}),f.jsx("input",{required:!0,placeholder:"07XX XXX XXXX",value:_e.phone,onChange:Y=>Ce({..._e,phone:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.email")}),f.jsx("input",{placeholder:"customer@example.com",type:"email",value:_e.email,onChange:Y=>Ce({..._e,email:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.governorate")}),f.jsx(n0,{title:t("common.select"),options:a4.map(Y=>({value:Y,label:Y})),selectedValue:_e.governorate,onChange:Y=>Ce(ue=>({...ue,governorate:Y})),icon:Ra,showSearch:!1})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.channel")}),f.jsx(n0,{title:t("common.select"),options:s4.map(Y=>({value:Y,label:Y})),selectedValue:_e.social,onChange:Y=>Ce(ue=>({...ue,social:Y})),icon:Ts,showSearch:!1})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.shippingAddress")}),f.jsx("textarea",{rows:"2",placeholder:"Street name, landmark, house number...",value:_e.address,onChange:Y=>Ce({..._e,address:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold resize-none placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]})})}),f.jsx("div",{className:`p-6 pt-0 mt-auto border-t border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-3 border-2 border-slate-100 dark:border-slate-800 rounded-2xl font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:t("common.cancel")}),f.jsx("button",{onClick:()=>document.getElementById("customer-form").requestSubmit(),className:"flex-2 py-3 text-white rounded-2xl font-black transition-all active:scale-95 bg-accent shadow-accent hover:brightness-110 flex-[2]",children:t(M?"customers.form.save":"customers.form.register")})]})})]})}),w&&O&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in slide-in-from-bottom-8 duration-500 ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:`px-10 py-8 border-b border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:f.jsx(Yn,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t("customers.history.title")})]}),f.jsxs("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-[0.2em] ms-13",children:[t("customers.receipt.customer"),": ",f.jsx("span",{className:"text-[var(--brand-color)]",children:O.name})]})]}),f.jsx("button",{onClick:()=>S(!1),className:"w-12 h-12 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(ci,{className:"w-8 h-8 text-slate-400"})})]})}),f.jsx("div",{className:"p-10 overflow-y-auto custom-scrollbar bg-slate-50 dark:bg-slate-900/50",children:X(O._id).length===0?f.jsxs("div",{className:"text-center py-24",children:[f.jsx("div",{className:"w-24 h-24 bg-white dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-6 text-slate-200",children:f.jsx(Yn,{className:"w-12 h-12"})}),f.jsx("h4",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:t("customers.history.noRecords")})]}):f.jsx("div",{className:"space-y-4",children:X(O._id).map(Y=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl sm:rounded-[28px] border-2 border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden transition-all hover:shadow-xl hover:border-accent group",children:[f.jsxs("div",{className:"p-4 sm:p-6 flex items-center justify-between cursor-pointer",onClick:()=>F(V===Y._id?null:Y._id),children:[f.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[f.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-slate-50 dark:bg-slate-900 rounded-xl sm:rounded-2xl flex items-center justify-center text-[var(--brand-color)] group-hover:bg-[var(--brand-color)] group-hover:text-white transition-all",children:f.jsx(Yn,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-base sm:text-lg",children:Y.orderId}),f.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:Y.date})]})]}),f.jsxs("div",{className:"flex items-center gap-4 sm:gap-8",children:[f.jsxs("div",{className:"text-end",children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-lg sm:text-xl",children:a(Y.total)}),f.jsx("div",{className:`text-[10px] font-black uppercase px-2.5 py-1 rounded-lg inline-block mt-1 ${Y.status==="Completed"?"bg-emerald-50 text-emerald-600 border border-emerald-100":Y.status==="Processing"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-slate-50 text-slate-600 border border-slate-100"}`,children:Y.status})]}),f.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-transform ${V===Y._id?"rotate-180":"bg-slate-50 dark:bg-slate-900 text-slate-300"}`,style:V===Y._id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:f.jsx(_l,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]}),V===Y._id&&f.jsxs("div",{className:"px-8 pb-8 pt-0 border-t border-slate-50 dark:border-slate-800 animate-in slide-in-from-top-4 duration-300",children:[f.jsx("div",{className:"grid grid-cols-1 gap-3 mt-6",children:Y.items.map((ue,Ie)=>f.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-900/80 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center font-black text-sm text-[var(--brand-color)] border border-slate-100 dark:border-slate-700 shadow-sm",children:[ue.quantity,""]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white block text-sm",children:ue.product.name}),f.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a(ue.price)," ",t("common.perUnit")]})]})]}),f.jsx("span",{className:"font-black text-slate-900 dark:text-white",children:a(ue.price*ue.quantity)})]},Ie))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.paymentMethod")}),f.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:t("common.cashOnDelivery")})]}),f.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.itemsCount")}),f.jsxs("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:[Y.items.length," ",t("customers.receipt.item")]})]})]}),f.jsxs("button",{onClick:ue=>{ue.stopPropagation(),Me(Y)},className:"flex items-center gap-2 px-8 py-4 bg-slate-900 dark:bg-slate-700 text-white rounded-2xl font-black text-sm transition-all shadow-xl active:scale-95 hover:brightness-125 hover:shadow-2xl",children:[f.jsx(n7,{className:"w-5 h-5"}),t("customers.history.printThermal")]})]})]})]},Y._id))})})]})})]})},HIe=()=>{const{t}=jr(),{products:e,updateProduct:n,loading:r,isDesktop:i,isOnline:a,addToast:s,setIsModalOpen:o}=Mn(),[l,c]=R.useState(null),[u,d]=R.useState("");R.useEffect(()=>(o(!!l),()=>o(!1)),[l,o]);const h=v=>{c(v)},p=()=>{c(null)},g=async(v,b=!1)=>{await n(v),b||c(null)},x=async v=>{if(i&&!a)return s("Image upload is disabled while offline. Reconnect and try again.","warning"),[];const b=await Promise.all(v.map(async w=>w.url?w:new Promise(S=>{const E=new FileReader;E.onloadend=()=>S({url:E.result,name:w.name}),E.readAsDataURL(w)})));if(l){const w=[...l.images||[],...b],S={...l,images:w};c(S),await n(S)}return b},y=e.filter(v=>{var b;return v.name.toLowerCase().includes(u.toLowerCase())||((b=v.sku)==null?void 0:b.toLowerCase().includes(u.toLowerCase()))});return f.jsxs(ju,{title:t("productPicture.title"),children:[f.jsx("div",{className:"sticky top-14 sm:top-16 md:top-0 z-40 bg-slate-50/90 dark:bg-slate-900/95 backdrop-blur-xl -mx-4 md:-mx-8 px-4 md:px-8 py-3 md:py-4 mb-3 md:mb-8 border-b border-slate-200/50 dark:border-slate-700/50 flex flex-col md:flex-row items-center justify-start gap-3 md:gap-4",children:f.jsxs("div",{className:"relative w-full md:w-96",children:[f.jsx(Tu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:u,onChange:v=>d(v.target.value),className:"w-full ps-10 pe-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl text-sm font-bold focus:ring-2 focus:ring-accent outline-none transition-all shadow-sm"})]})}),r?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((v,b)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsx(Ge,{className:"aspect-[4/5] w-full rounded-2xl mb-4"}),f.jsxs("div",{className:"px-1 space-y-2",children:[f.jsx(Ge,{className:"h-5 w-3/4 rounded-lg"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(Ge,{className:"h-4 w-16"}),f.jsx(Ge,{className:"h-4 w-12"})]})]})]},b))}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(v=>{const b=v.images&&v.images[0]?typeof v.images[0]=="string"?v.images[0]:v.images[0].url:v.image||"https://via.placeholder.com/400x400?text=No+Image";return f.jsxs("div",{onClick:()=>h(v),className:"group bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-accent",children:[f.jsxs("div",{className:"aspect-[4/5] w-full rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 relative",children:[f.jsx(ra,{src:b,alt:v.name,className:"w-full h-full",imageClassName:"transition-transform duration-700 group-hover:scale-110"}),v.stock<=5&&f.jsx("div",{className:"absolute top-3 start-3 bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-md shadow-md",children:t("products.stockStatus.lowStock")}),f.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),f.jsxs("div",{className:"mt-4 px-1",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white truncate text-base mb-1 group-hover:text-accent transition-colors",children:v.name}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs font-mono font-bold text-slate-400 uppercase tracking-wider",children:v.sku||"NO-SKU"}),f.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 rounded-lg",children:v.category||"General"})]})]})]},v._id||v.id)})}),y.length===0&&!r&&f.jsxs("div",{className:"text-center py-20 text-slate-400",children:[f.jsx(Uo,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),f.jsx("p",{children:t("productPicture.noProducts")})]}),l&&f.jsx(vz,{product:l,onClose:p,onSave:g,onUpload:x})]})},GIe=({image:t,onCrop:e,onClose:n,aspect:r=1})=>{const[i,a]=R.useState(1),[s,o]=R.useState(0),[l,c]=R.useState({x:0,y:0}),[u,d]=R.useState(!1),[h,p]=R.useState({x:0,y:0}),[g,x]=R.useState({width:0,height:0}),y=320,v=512,b=r===1,w=R.useRef(null);R.useRef(null),R.useEffect(()=>{a(1),o(0),c({x:0,y:0})},[t]);const S=A=>{const{naturalWidth:I,naturalHeight:j}=A.currentTarget;x({width:I,height:j}),a(1)},E=A=>{d(!0),p({x:A.clientX-l.x,y:A.clientY-l.y})},P=A=>{u&&(A.preventDefault(),c({x:A.clientX-h.x,y:A.clientY-h.y}))},_=()=>{d(!1)},k=()=>{const A=document.createElement("canvas"),I=A.getContext("2d"),j=w.current;A.width=v,A.height=v/r,I.clearRect(0,0,A.width,A.height),I.save();const O=v/y;if(I.translate(A.width/2,A.height/2),b){const V=Math.min(A.width,A.height)/2;I.beginPath(),I.arc(0,0,V,0,Math.PI*2),I.closePath(),I.clip()}I.translate(l.x*O,l.y*O),I.rotate(s*Math.PI/180);const $=i*O;I.scale($,$);const M=j.naturalWidth,D=j.naturalHeight;return I.imageSmoothingEnabled=!0,I.imageSmoothingQuality="high",I.drawImage(j,-M/2,-D/2,M,D),I.restore(),A.toDataURL("image/png",1)},N=()=>{const A=k();e(A)};return f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800",children:[f.jsxs("div",{className:"px-8 py-5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900 z-20",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Uo,{className:"w-6 h-6 text-accent"})," Editor Studio"]}),f.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-wider",children:"Customize your brand identity"})]}),f.jsx("button",{onClick:n,className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx(ci,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[f.jsxs("div",{className:"flex-1 relative bg-slate-100 dark:bg-slate-950 overflow-hidden flex items-center justify-center cursor-move select-none",style:{backgroundImage:"linear-gradient(45deg, #e5e7eb 25%, transparent 25%), linear-gradient(-45deg, #e5e7eb 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #e5e7eb 75%), linear-gradient(-45deg, transparent 75% , #e5e7eb 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"},onMouseDown:E,onMouseMove:P,onMouseUp:_,onMouseLeave:_,children:[f.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none z-0"}),f.jsxs("div",{className:`relative z-10 border-2 border-white/80 shadow-[0_0_0_9999px_rgba(0,0,0,0.7)] overflow-visible ${b?"rounded-full":"rounded-xl"}`,style:{width:y,height:y/r,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)"},children:[f.jsxs("div",{className:`absolute inset-0 grid grid-cols-3 grid-rows-3 pointer-events-none opacity-50 ${b?"rounded-full overflow-hidden":""}`,children:[f.jsx("div",{className:"border-r border-white/30 h-full col-start-2"}),f.jsx("div",{className:"border-r border-white/30 h-full col-start-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-2 col-span-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-3 col-span-3"})]}),!b&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute -top-1 -left-1 w-4 h-4 border-t-4 border-l-4 border-white rounded-tl-sm shadow-sm"}),f.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 border-t-4 border-r-4 border-white rounded-tr-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 border-b-4 border-l-4 border-white rounded-bl-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 border-b-4 border-r-4 border-white rounded-br-sm shadow-sm"})]})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none overflow-hidden",children:f.jsx("img",{ref:w,src:t,alt:"To crop",onLoad:S,draggable:!1,className:"max-none transition-transform duration-75 origin-center will-change-transform",style:{transform:`translate(${l.x}px, ${l.y}px) rotate(${s}deg) scale(${i})`}})})]}),f.jsxs("div",{className:"w-full lg:w-80 bg-white dark:bg-slate-900 border-s border-slate-100 dark:border-slate-800 p-6 flex flex-col z-20 shadow-xl",children:[f.jsxs("div",{className:"space-y-8 flex-1 overflow-y-auto custom-scrollbar",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:"Zoom & Scale"}),f.jsxs("span",{className:"font-mono text-accent",children:[Math.round(i*100),"%"]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>a(A=>Math.max(.1,A-.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(WG,{className:"w-5 h-5 text-slate-400"})}),f.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.01",value:i,onChange:A=>a(parseFloat(A.target.value)),className:"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-accent"}),f.jsx("button",{onClick:()=>a(A=>Math.min(3,A+.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(qG,{className:"w-5 h-5 text-slate-400"})})]})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Orientation"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>o(A=>A-90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(fE,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"-90"})]}),f.jsxs("button",{onClick:()=>o(A=>A+90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(fE,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors scale-x-[-1]"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"+90"})]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 text-center",children:f.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["Current Rotation: ",s,""]})})]})]}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800 flex flex-col gap-3",children:[f.jsxs("button",{onClick:N,className:"w-full py-4 bg-accent text-white font-black rounded-2xl shadow-accent shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-3 hover:brightness-110",children:[f.jsx(hR,{className:"w-5 h-5"}),"Apply Changes"]}),f.jsx("button",{onClick:n,className:"w-full py-3 text-slate-500 hover:text-slate-800 dark:hover:text-white font-bold transition-colors",children:"Cancel"})]})]})]})]})})},KIe=()=>{var Fe,Ze;const{t}=jr(),{theme:e,toggleTheme:n,appearance:r,setAppearance:i,users:a,addUser:s,updateUser:o,deleteUser:l,currentUser:c,updateUserProfile:u,brand:d,updateBrand:h,addToast:p,language:g,changeLanguage:x,isDesktop:y,isOnline:v,pendingSyncCount:b,syncNow:w,desktopOfflineModeEnabled:S,setDesktopOfflineModeEnabled:E,conflicts:P}=Mn(),{user:_,updateAuthProfile:k,changeAuthPassword:N}=k4(),[A,I]=R.useState("general"),[j,O]=bG(),[$,M]=R.useState(!1),[D,V]=R.useState(!1),[F,U]=R.useState(null),[H,G]=R.useState(!1),[W,ee]=R.useState(null),[le,pe]=R.useState(null),[Z,_e]=R.useState(null),[Ce,ie]=R.useState((_==null?void 0:_.displayName)||""),[ve,X]=R.useState(!1),[q,de]=R.useState({currentPassword:"",newPassword:"",confirmPassword:""});R.useEffect(()=>{_&&ie(_.displayName||"")},[_]),R.useEffect(()=>{const Q=j.get("tab");if(!Q){O({tab:"general"},{replace:!0});return}["general","appearance","branding","users","account"].includes(Q)&&I(Q)},[j,O]);const ke=_!=null&&_.email?_.email.split("@")[0]:"",me=(c==null?void 0:c.photoURL)||(_==null?void 0:_.photoURL)||"",we=Q=>{I(Q),O({tab:Q})},Ue=async()=>{try{await k({displayName:Ce.trim()}),X(!1),p("Profile updated successfully!","success")}catch(Q){console.error("Profile update error:",Q),p("Failed to update profile.","error")}},St=Q=>{const Oe=Q.target.files[0];if(Oe){if(Oe.size>3*1024*1024)return p("Avatar too large. Max 3MB.","error");const it=new FileReader;it.onloadend=()=>{pe(it.result),_e("avatar")},it.readAsDataURL(Oe)}},[Me,He]=R.useState({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,hideHeader:d.hideHeader||!1});R.useEffect(()=>{He({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,hideHeader:d.hideHeader||!1})},[d]);const Y=async()=>{try{const Q=await Ie(Me);await h(Q),He(Q),p("Branding settings saved successfully!","success")}catch(Q){console.error("Branding save error:",Q),p("Failed to save branding settings.","error")}},ue=(Q,Oe,it=.85)=>new Promise((Yt,et)=>{if(!Q){Yt(Q);return}const Ve=new Image;Ve.onload=()=>{const Xt=Math.min(1,Oe/Math.max(Ve.width,Ve.height)),Tn=Math.max(1,Math.round(Ve.width*Xt)),Hn=Math.max(1,Math.round(Ve.height*Xt)),z=document.createElement("canvas");z.width=Tn,z.height=Hn,z.getContext("2d").drawImage(Ve,0,0,Tn,Hn),Yt(z.toDataURL("image/jpeg",it))},Ve.onerror=()=>et(new Error("Image processing failed")),Ve.src=Q}),Ie=async Q=>{const[Oe,it]=await Promise.all([ue(Q.logo,384,.82),ue(Q.favicon,96,.8)]);return{...Q,logo:Oe,favicon:it}},bt=Q=>{const Oe=Q.target.files[0];if(Oe){if(Oe.size>3*1024*1024)return p("File too large. Max 3MB.","error");const it=new FileReader;it.onloadend=()=>{pe(it.result),_e("logo")},it.readAsDataURL(Oe)}},Ye=Q=>{const Oe=Q.target.files[0];if(Oe){if(Oe.size>512*1024)return p("Favicon too large. Max 512KB.","error");const it=new FileReader;it.onloadend=async()=>{try{const Yt=await ue(it.result,96,.8);He(et=>({...et,favicon:Yt})),p("Favicon updated (preview). Save to persist.","success")}catch{p("Failed to process favicon image.","error")}},it.readAsDataURL(Oe)}},vt=async Q=>{if(Z==="avatar")try{await u({photoURL:Q}),p("Avatar updated successfully!","success")}catch(Oe){console.error("Avatar update error:",Oe),p(`Failed to update avatar (${(Oe==null?void 0:Oe.code)||"unknown"}).`,"error")}else Z==="logo"&&(He(Oe=>({...Oe,logo:Q})),p("Logo updated successfully!","success"));pe(null),_e(null)},Pt=(Q,Oe)=>{de(it=>({...it,[Q]:Oe}))},re=async Q=>{Q.preventDefault();const{currentPassword:Oe,newPassword:it,confirmPassword:Yt}=q;if(it!==Yt){p("New passwords do not match.","error");return}if(it.length<6){p("Password must be at least 6 characters.","error");return}try{await N(Oe,it),p(t("settings.toasts.passwordChanged"),"success"),V(!1),de({currentPassword:"",newPassword:"",confirmPassword:""})}catch(et){console.error("Password change error:",et),p("Failed to change password. Please verify your current password.","error")}},[be,Xe]=R.useState({username:"",email:"",role:"Staff",password:"",displayName:""}),st=()=>{U(null),Xe({username:"",email:"",role:"Staff",password:"",displayName:""}),M(!0)},ln=Q=>{U(Q),Xe({...Q,password:""}),M(!0)},ne=async Q=>{Q.preventDefault();try{F?(await o({...be,_id:F._id}),p("User updated successfully!","success")):(await s({...be}),p("User created successfully!","success")),M(!1)}catch(Oe){console.error("User management error:",Oe),p("Failed to save user.","error")}},fe=async Q=>{ee(Q),G(!0)},Ee=async()=>{if(W)try{await l(W),p("User deleted successfully.","success")}catch{p("Failed to delete user.","error")}finally{G(!1),ee(null)}};return f.jsxs(ju,{title:"Settings",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsx("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>we("general"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="general"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(xR,{className:"w-5 h-5"}),t("settings.general")]}),f.jsxs("button",{onClick:()=>we("appearance"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="appearance"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(dE,{className:"w-5 h-5"}),t("settings.appearance")]}),f.jsxs("button",{onClick:()=>we("branding"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="branding"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(FG,{className:"w-5 h-5"}),t("settings.branding")]}),f.jsxs("button",{onClick:()=>we("account"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="account"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(hs,{className:"w-5 h-5"}),t("settings.account")]}),f.jsxs("button",{onClick:()=>we("users"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="users"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(ox,{className:"w-5 h-5"}),t("settings.users")]})]})}),f.jsxs("div",{className:"flex-1",children:[A==="general"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.general")}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[f.jsx(Ts,{className:"w-4 h-4 text-accent"}),t("settings.language")]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>x("en"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${g==="en"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" English"}),f.jsx("button",{onClick:()=>x("ar"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${g==="ar"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" "})]})]}),y&&f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:"Desktop Offline Mode"}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[v?"Online":"Offline","  ",b," queued"]})]}),f.jsx("button",{onClick:()=>E(!S),className:`px-3 py-1.5 rounded-lg text-xs font-bold border ${S?"bg-emerald-50 border-emerald-200 text-emerald-700 dark:bg-emerald-900/20 dark:border-emerald-800/50 dark:text-emerald-300":"bg-slate-100 border-slate-200 text-slate-600 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300"}`,children:S?"Enabled":"Disabled"})]}),f.jsx("button",{onClick:w,className:"px-4 py-2 text-sm font-bold rounded-xl bg-accent text-white shadow-lg shadow-accent/20",children:"Sync Now"}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 mb-2",children:["Conflicts (",P.length,")"]}),f.jsxs("div",{className:"max-h-36 overflow-y-auto space-y-2",children:[P.length===0&&f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No conflicts logged."}),P.slice(0,10).map(Q=>f.jsxs("div",{className:"text-xs p-2 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[f.jsx("span",{className:"font-bold",children:Q.entity})," #",Q.docId]},Q.id))]})]})]})]})]}),A==="branding"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.branding")}),f.jsx("button",{onClick:Y,className:"px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all active:scale-95 bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveBranding")})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"max-w-md",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:t("settings.appName")}),f.jsx("input",{type:"text",value:Me.name,onChange:Q=>He({...Me,name:Q.target.value}),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.logoAndFavicon")||"Logo & Favicon"}),f.jsxs("div",{className:"flex flex-col items-start gap-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("label",{className:"cursor-pointer w-24 h-24 rounded-full flex items-center justify-center border-2 border-white dark:border-slate-700 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-md",style:{backgroundColor:r.accentType==="solid"?r.accentColor:(Fe=r.accentGradient)==null?void 0:Fe.start},children:[Me.logo?f.jsx(ra,{src:Me.logo,alt:"Logo",className:"w-full h-full bg-white/85 dark:bg-slate-900/60",imageClassName:"w-full h-full",imageStyle:{objectFit:"contain"}}):f.jsx("span",{className:"text-white font-bold text-3xl",children:(Me.name||"").charAt(0)}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:bt})]}),Me.logo&&f.jsx("button",{type:"button",onClick:()=>He({...Me,logo:null}),className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center shadow-md hover:bg-red-600 transition-colors","aria-label":t("settings.removeLogo")||"Remove Logo",children:f.jsx(Ma,{className:"w-3 h-3"})})]}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t("settings.logo")})]}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("label",{className:"cursor-pointer w-16 h-16 rounded-full flex items-center justify-center border-2 border-white dark:border-slate-700 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-md",children:[Me.favicon?f.jsx(ra,{src:Me.favicon,alt:"Favicon",className:"w-full h-full bg-white/85 dark:bg-slate-900/60",imageClassName:"w-full h-full",imageStyle:{objectFit:"contain"}}):f.jsx("div",{className:"w-8 h-8 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Ye})]}),Me.favicon&&f.jsx("button",{type:"button",onClick:()=>He(Q=>({...Q,favicon:null})),className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 text-white flex items-center justify-center shadow-md hover:bg-red-600 transition-colors","aria-label":t("settings.removeFavicon")||"Remove Favicon",children:f.jsx(Ma,{className:"w-2.5 h-2.5"})})]}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Favicon"})]})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t("settings.logoSize")})]})]}),f.jsx("div",{className:"pt-8 border-t border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-white",children:t("settings.appHeader")}),f.jsx("p",{className:"text-xs text-slate-500",children:t("settings.appHeaderDesc")})]}),f.jsx("button",{onClick:async()=>{const Q=!Me.hideHeader;He(Oe=>({...Oe,hideHeader:Q})),await h({...d,hideHeader:Q})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:Me.hideHeader?"#e2e8f0":d.color},children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${Me.hideHeader?"translate-x-1":"translate-x-6"}`})})]})})]})]}),A==="appearance"&&f.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(dE,{className:"w-5 h-5 text-[var(--brand-color)]"}),t("settings.themeOptions")]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{id:"liquid",name:"Liquid Glass",icon:PG,desc:"Apple macOS style"},{id:"light",name:"Pro Light",icon:VG,desc:"Clean & minimal"},{id:"dark",name:"Pro Dark",icon:$G,desc:"Deep & elegant"}].map(Q=>f.jsxs("button",{onClick:()=>i({theme:Q.id}),className:`group relative flex flex-col p-4 rounded-2xl border-2 transition-all text-left ${r.theme===Q.id?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}`,style:r.theme===Q.id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors ${r.theme===Q.id?"bg-accent text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500"}`,children:f.jsx(Q.icon,{className:"w-6 h-6"})}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:Q.name}),f.jsx("span",{className:"text-xs text-slate-500 mt-1",children:Q.desc}),r.theme===Q.id&&f.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-accent rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-slate-800 animate-in zoom-in duration-200",children:f.jsx(mR,{className:"w-3.5 h-3.5 text-white"})})]},Q.id))})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-accent"}),t("settings.accentCustomization")]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>i({accentType:"solid"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="solid"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.solid")}),f.jsx("button",{onClick:()=>i({accentType:"gradient"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="gradient"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.gradient")})]})]}),f.jsx("div",{className:"space-y-8",children:r.accentType==="solid"?f.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[["#1e3a5f","#6366f1","#8b5cf6","#ec4899","#f43f5e","#f59e0b","#10b981","#06b6d4"].map(Q=>f.jsx("button",{onClick:()=>i({accentColor:Q}),className:`w-10 h-10 rounded-full border-4 transition-transform hover:scale-110 ${r.accentColor===Q?"border-white dark:border-slate-800 shadow-xl":"border-transparent"}`,style:{backgroundColor:Q}},Q)),f.jsx("div",{className:"h-8 w-[1px] bg-slate-200 dark:bg-slate-700 mx-2"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"color",value:r.accentColor,onChange:Q=>i({accentColor:Q.target.value}),className:"w-10 h-10 rounded-full cursor-pointer border-0 p-0 overflow-hidden bg-transparent"}),f.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap",children:t("settings.customColor")})]}),f.jsx("span",{className:"font-mono text-sm text-slate-500 uppercase",children:r.accentColor})]})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{start:"#8B5CF6",end:"#3B82F6",name:"Royal"},{start:"#F472B6",end:"#FB923C",name:"Sunset"},{start:"#34D399",end:"#3B82F6",name:"Aurora"},{start:"#EC4899",end:"#8B5CF6",name:"Vibrant"}].map((Q,Oe)=>f.jsxs("button",{onClick:()=>i({accentGradient:Q}),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all ${r.accentGradient.start===Q.start&&r.accentGradient.end===Q.end?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200"}`,style:r.accentGradient.start===Q.start&&r.accentGradient.end===Q.end?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:"w-10 h-10 rounded-lg",style:{background:`linear-gradient(135deg, ${Q.start}, ${Q.end})`}}),f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:Q.name})]},Oe))}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.customDualColors")}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.start,onChange:Q=>i({accentGradient:{...r.accentGradient,start:Q.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.start")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.start.toUpperCase()})]})]}),f.jsx("div",{className:"w-8 h-0.5 bg-slate-200 dark:bg-slate-700 rounded-full"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.end,onChange:Q=>i({accentGradient:{...r.accentGradient,end:Q.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.end")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.end.toUpperCase()})]})]})]})]})]})})]}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 rounded-2xl p-8 flex flex-col items-center justify-center min-h-[300px] border border-slate-200 dark:border-slate-800",children:[f.jsx("p",{className:"text-sm font-bold text-slate-500 mb-8 tracking-widest uppercase",children:t("settings.livePreview")}),f.jsxs("div",{className:`w-full max-w-sm p-8 rounded-2xl transition-all glass-panel ${r.theme==="liquid"?"":"bg-white dark:bg-slate-800 shadow-xl"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:t("settings.contentLayoutExample")}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[f.jsx("div",{className:"h-2 w-3/4 bg-slate-200 dark:bg-slate-700 rounded mb-2"}),f.jsx("div",{className:"h-2 w-1/2 bg-slate-200 dark:bg-slate-700 rounded"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"px-4 py-2 bg-[var(--brand-color)] text-white rounded-lg text-sm font-medium shadow-lg shadow-[var(--brand-color)]/20",children:t("settings.primaryButton")}),f.jsx("button",{className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-medium",children:t("common.cancel")})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t("settings.toggleSwitch")}),f.jsx("div",{className:"w-10 h-5 bg-accent rounded-full relative",children:f.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full"})})]})]})]})]})]}),A==="account"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.accountSettings")}),f.jsxs("div",{className:"max-w-xl space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-accent/20 rounded-full flex items-center justify-center text-3xl font-bold text-accent overflow-hidden border-4 border-white dark:border-slate-800 shadow-lg",children:me?f.jsx(ra,{src:me,alt:"Avatar",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):((Ze=(c==null?void 0:c.displayName)||(_==null?void 0:_.displayName))==null?void 0:Ze.charAt(0))||"U"}),f.jsxs("div",{children:[f.jsxs("label",{className:"cursor-pointer px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all inline-block hover:scale-[1.02] bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[t("settings.changeAvatar"),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:St})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:t("settings.avatarRecommendedSize")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.displayName")}),f.jsx("input",{type:"text",id:"displayName",value:Ce,onChange:Q=>ie(Q.target.value),disabled:!ve,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.username")}),f.jsx("input",{type:"text",value:ke,readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.emailAddress")}),f.jsx("input",{type:"email",value:(_==null?void 0:_.email)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsx("div",{className:"flex justify-end pt-4",children:ve?f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{ie((_==null?void 0:_.displayName)||""),X(!1)},className:"px-6 py-3 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{onClick:Ue,className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveChanges")})]}):f.jsx("button",{onClick:()=>X(!0),className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.editProfile")})}),f.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(vR,{className:"w-5 h-5 text-accent"}),t("settings.securitySettings")]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:t("settings.password")}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:t("settings.passwordDescription")}),f.jsx("button",{onClick:()=>V(!0),className:"w-full py-2.5 bg-accent text-white text-sm font-bold rounded-xl shadow-lg hover:brightness-110 transition-all",style:{boxShadow:"0 4px 10px -2px var(--accent-color)44"},children:t("settings.changePassword")})]}),f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:"Two-Factor Authentication"}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:"Add an extra layer of protection to your profile."}),f.jsx("button",{className:"w-full py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 text-sm font-bold rounded-xl hover:bg-slate-300 dark:hover:bg-slate-600 transition-all",children:t("settings.enable2fa")})]})]})]})]})]}),A==="users"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.users")}),f.jsxs("button",{onClick:st,className:"flex items-center gap-2 px-4 py-2 text-white font-medium rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[f.jsx(y0,{className:"w-5 h-5"})," ",t("settings.addUser")]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.user")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.email")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.role")}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.map(Q=>{var Oe,it;return f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden flex-shrink-0 border-2 border-white dark:border-slate-700 shadow-sm",children:Q.photoURL?f.jsx(ra,{src:Q.photoURL,alt:Q.displayName,className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-accent text-white font-bold",children:((Oe=Q.displayName)==null?void 0:Oe.charAt(0))||((it=Q.username)==null?void 0:it.charAt(0))||"U"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:Q.displayName}),f.jsxs("div",{className:"text-xs text-slate-500",children:["@",Q.username]})]})]})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:Q.email}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:f.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${Q.role==="Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"}`,children:Q.role})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>ln(Q),className:"p-2 text-accent hover:bg-accent/10 rounded-lg transition-all",children:f.jsx(Ns,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>fe(Q._id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:f.jsx(Ma,{className:"w-4 h-4"})})]})})]},Q._id)})})]})})]})]})]}),$&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t(F?"settings.editUser":"settings.addNewUser")}),f.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.displayName"),value:be.displayName,onChange:Q=>Xe({...be,displayName:Q.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.username"),value:be.username,onChange:Q=>Xe({...be,username:Q.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.email"),type:"email",value:be.email,onChange:Q=>Xe({...be,email:Q.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("select",{value:be.role,onChange:Q=>Xe({...be,role:Q.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",children:[f.jsx("option",{value:"Manager",children:"Manager"}),f.jsx("option",{value:"Staff",children:"Staff"}),f.jsx("option",{value:"Admin",children:"Admin"})]}),f.jsx("input",{placeholder:t(F?"settings.placeholders.passwordKeep":"settings.placeholders.password"),type:"password",value:be.password,onChange:Q=>Xe({...be,password:Q.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",required:!F}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>M(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t(F?"settings.updateUser":"settings.createUser")})]})]})]})}),D&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t("settings.changePassword")}),f.jsxs("form",{onSubmit:re,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.currentPassword"),type:"password",value:q.currentPassword,onChange:Q=>Pt("currentPassword",Q.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.newPassword"),type:"password",value:q.newPassword,onChange:Q=>Pt("newPassword",Q.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.confirmPassword"),type:"password",value:q.confirmPassword,onChange:Q=>Pt("confirmPassword",Q.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>{V(!1),de({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.changePassword")})]})]})]})}),le&&f.jsx(GIe,{image:le,onCrop:vt,onClose:()=>{pe(null),_e(null)},aspect:1}),f.jsx(B4,{isOpen:H,onClose:()=>{G(!1),ee(null)},onConfirm:Ee,title:"Delete User",message:"Are you sure you want to delete this user?"})]})},QIe=()=>f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48","aria-hidden":"true",children:[f.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303C33.651 32.657 29.251 36 24 36c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.846 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.27 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),f.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819A11.955 11.955 0 0 1 24 12c3.059 0 5.846 1.154 7.961 3.039l5.657-5.657A19.9 19.9 0 0 0 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),f.jsx("path",{fill:"#4CAF50",d:"M24 44c5.17 0 9.86-1.977 13.409-5.197l-6.19-5.238A11.956 11.956 0 0 1 24 36c-5.229 0-9.614-3.316-11.278-7.946l-6.522 5.024C9.514 39.556 16.152 44 24 44z"}),f.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303a12.04 12.04 0 0 1-4.084 5.565l6.19 5.238C36.971 39.15 44 34 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),FC=t=>{const e=(t==null?void 0:t.code)||"";return e.includes("invalid-credential")||e.includes("wrong-password")?"Invalid email or password.":e.includes("user-not-found")?"No account found for this email.":e.includes("email-already-in-use")?"This email is already in use.":e.includes("weak-password")?"Password must be at least 6 characters.":e.includes("popup-closed-by-user")?"Google sign-in was cancelled.":"Authentication failed. Please try again."},YIe=()=>{const{user:t,signInWithGoogle:e,signInWithEmail:n,signUpWithEmail:r}=k4(),i=h4(),a=L0(),s=R.useMemo(()=>{var w,S;return((S=(w=a.state)==null?void 0:w.from)==null?void 0:S.pathname)||"/"},[a.state]),[o,l]=R.useState("signin"),[c,u]=R.useState(""),[d,h]=R.useState(""),[p,g]=R.useState(!1),[x,y]=R.useState("");if(t)return f.jsx(Lg,{to:s,replace:!0});const v=async w=>{w.preventDefault(),y(""),g(!0);try{o==="signup"?await r(c.trim(),d):await n(c.trim(),d),i(s,{replace:!0})}catch(S){y(FC(S))}finally{g(!1)}},b=async()=>{y(""),g(!0);try{await e(),i(s,{replace:!0})}catch(w){y(FC(w))}finally{g(!1)}};return f.jsx("div",{className:"min-h-screen bg-slate-50",children:f.jsxs("div",{className:"grid min-h-screen grid-cols-1 lg:grid-cols-2",children:[f.jsxs("div",{className:"relative hidden lg:flex items-center justify-center overflow-hidden bg-gradient-to-br from-[#1e3a5f] via-[#243b6f] to-[#8b5cf6] p-10",children:[f.jsx("div",{className:"absolute -top-24 -left-16 h-72 w-72 rounded-full bg-white/15 blur-2xl"}),f.jsx("div",{className:"absolute -bottom-24 -right-20 h-80 w-80 rounded-full bg-pink-400/25 blur-2xl"}),f.jsxs("div",{className:"relative max-w-md text-white",children:[f.jsx("h1",{className:"text-5xl font-black leading-tight",children:"Welcome Back"}),f.jsx("p",{className:"mt-4 text-lg text-white/80",children:"Manage inventory, orders, customers, and analytics from one dashboard."})]})]}),f.jsx("div",{className:"flex items-center justify-center p-6 sm:p-10",children:f.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-slate-200 bg-white p-7 shadow-xl sm:p-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-3xl font-black text-slate-900",children:o==="signin"?"Sign in":"Create account"}),f.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Use your email/password or continue with Google."})]}),x&&f.jsxs("div",{className:"mb-5 flex items-start gap-2 rounded-xl border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700",children:[f.jsx(pR,{className:"mt-0.5 h-4 w-4 shrink-0"}),f.jsx("span",{children:x})]}),f.jsxs("button",{type:"button",onClick:b,disabled:p,className:"mb-4 flex w-full items-center justify-center gap-3 rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm font-bold text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:[f.jsx(QIe,{}),"Continue with Google"]}),f.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[f.jsx("div",{className:"h-px flex-1 bg-slate-200"}),f.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"or"}),f.jsx("div",{className:"h-px flex-1 bg-slate-200"})]}),f.jsxs("form",{onSubmit:v,className:"space-y-3",children:[f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"mb-1.5 block text-xs font-bold uppercase tracking-wide text-slate-500",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx(OG,{className:"pointer-events-none absolute start-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"email",required:!0,autoComplete:"email",value:c,onChange:w=>u(w.target.value),className:"w-full rounded-xl border border-slate-300 bg-white py-3 ps-10 pe-3 text-sm font-medium text-slate-900 outline-none transition focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100",placeholder:"you@example.com"})]})]}),f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"mb-1.5 block text-xs font-bold uppercase tracking-wide text-slate-500",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(vR,{className:"pointer-events-none absolute start-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"password",required:!0,minLength:6,autoComplete:o==="signup"?"new-password":"current-password",value:d,onChange:w=>h(w.target.value),className:"w-full rounded-xl border border-slate-300 bg-white py-3 ps-10 pe-3 text-sm font-medium text-slate-900 outline-none transition focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100",placeholder:"Enter your password"})]})]}),f.jsx("button",{type:"submit",disabled:p,className:"w-full rounded-xl bg-gradient-to-r from-pink-500 to-violet-600 px-4 py-3 text-sm font-black text-white shadow-lg shadow-pink-500/20 transition hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60",children:p?"Please wait...":o==="signup"?"Create account":"Sign in"})]}),f.jsxs("p",{className:"mt-6 text-center text-sm text-slate-500",children:[o==="signin"?"Don't have an account?":"Already have an account?"," ",f.jsx("button",{type:"button",onClick:()=>l(o==="signin"?"signup":"signin"),className:"font-bold text-indigo-600 hover:text-indigo-700",children:o==="signin"?"Create one":"Sign in"})]})]})})]})})},xz=()=>f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:f.jsx("div",{className:"h-10 w-10 rounded-full border-4 border-slate-300 border-t-slate-500 animate-spin"})}),XIe=()=>{const{user:t,loading:e}=k4(),n=L0();return e?f.jsx(xz,{}):t?f.jsx(rx,{}):f.jsx(Lg,{to:"/login",replace:!0,state:{from:n}})},JIe=()=>{const{user:t,loading:e}=k4();return e?f.jsx(xz,{}):t?f.jsx(Lg,{to:"/",replace:!0}):f.jsx(rx,{})};function ZIe(){return f.jsx(Yie,{children:f.jsx(mG,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsxs(oG,{children:[f.jsx(bi,{element:f.jsx(JIe,{}),children:f.jsx(bi,{path:"/login",element:f.jsx(YIe,{})})}),f.jsx(bi,{element:f.jsx(XIe,{}),children:f.jsxs(bi,{element:f.jsx(Qie,{children:f.jsx(rx,{})}),children:[f.jsx(bi,{path:"/",element:f.jsx($Ie,{})}),f.jsx(bi,{path:"/products",element:f.jsx(zIe,{})}),f.jsx(bi,{path:"/orders",element:f.jsx(qIe,{})}),f.jsx(bi,{path:"/customers",element:f.jsx(WIe,{})}),f.jsx(bi,{path:"/product-picture",element:f.jsx(HIe,{})}),f.jsx(bi,{path:"/settings",element:f.jsx(KIe,{})})]})}),f.jsx(bi,{path:"*",element:f.jsx(Lg,{to:"/",replace:!0})})]})})})}const{slice:eCe,forEach:tCe}=[];function nCe(t){return tCe.call(eCe.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function rCe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const VC=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,iCe=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!VC.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!VC.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},UC={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=iCe(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var aCe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return UC.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;n&&typeof document<"u"&&UC.create(n,t,r,i,a)}},sCe={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(n=s[o].substring(l+1))}}return n}},oCe={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const s=a.substring(1);if(e){const o=s.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(r=o[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Bl=null;const BC=()=>{if(Bl!==null)return Bl;try{if(Bl=typeof window<"u"&&window.localStorage!==null,!Bl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Bl=!1}return Bl};var lCe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&BC())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&BC()&&window.localStorage.setItem(n,t)}};let zl=null;const zC=()=>{if(zl!==null)return zl;try{if(zl=typeof window<"u"&&window.sessionStorage!==null,!zl)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{zl=!1}return zl};var cCe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&zC())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&zC()&&window.sessionStorage.setItem(n,t)}},uCe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)e.push(n[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},dCe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},fCe={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},hCe={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let bz=!1;try{document.cookie,bz=!0}catch{}const wz=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];bz||wz.splice(1,1);const pCe=()=>({order:wz,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class _z{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=nCe(n,this.options||{},pCe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(aCe),this.addDetector(sCe),this.addDetector(lCe),this.addDetector(cCe),this.addDetector(uCe),this.addDetector(dCe),this.addDetector(fCe),this.addDetector(hCe),this.addDetector(oCe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!rCe(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}_z.type="languageDetector";const mCe={mainMenu:"Main Menu",dashboard:"Dashboard",inventory:"Inventory",productPicture:"Product Picture",orders:"Orders",customers:"Customers",settings:"Settings",logout:"Logout"},gCe={welcome:"Welcome back,",admin:"Admin",switchMode:"Switch to {{mode}} mode",activityLogs:"Activity Logs",new:"New",viewAllActivity:"View All Activity"},yCe={defaultName:"User",defaultRole:"Staff"},vCe={loading:"Loading...",error:"Error",success:"Success",save:"Save",saving:"Saving...",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search...",actions:"Actions",noData:"No data found",noDataToExport:"No data to export",clearFilters:"Clear Filters",exportCSV:"Export CSV",print:"Print",confirmDelete:"Are you sure you want to delete this?",yes:"Yes",no:"No",status:{processing:"Processing",completed:"Completed",cancelled:"Cancelled",pending:"Pending",shipped:"Shipped",delivered:"Delivered",returned:"Returned"},sort:"Sort",dateNew:"Newest First",dateOld:"Oldest First",priceHigh:"Highest Price",priceLow:"Lowest Price",nameAZ:"Name (A-Z)",male:"Male",female:"Female",showRows:"Show Rows",custom:"Custom",select:"Select...",cashOnDelivery:"Cash on Delivery",perUnit:"per unit"},xCe={title:"Dashboard",live:"Live Dashboard",totalRevenue:"Total Revenue",revenueTrend:"Revenue Trend",totalOrders:"Total Orders",ordersPlaced:"Orders placed",totalCustomers:"Total Customers",activeCustomers:"Active Customers",uniqueBuyers:"Unique buyers",topRegion:"Top Region",interactiveMap:"Interactive Map",totalProducts:"Total Products",lowStock:"Low Stock Items",recentActivity:"Recent Activity",filteredOrders:"Filtered Orders",liveDashboard:"Live Dashboard",revenueComparison:"+12.5% vs last period",ordersCount:"{{count}} orders",revenue:"Revenue",governorate:"Governorate",socialMedia:"Social Media",categories:"Categories",status:"Status"},bCe={title:"Inventory",addProduct:"Add Product",productName:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",supplier:"Supplier",description:"Description",image:"Image",sellingPrice:"Selling Price (IQD)",costPrice:"Cost Price (USD)",exchangeRate:"Exchange Rate",profit:"Profit",margin:"Margin",create:"Create Product",update:"Update Product",stockStatus:{inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",instock:"In Stock",lowstock:"Low Stock",outofstock:"Out of Stock"},form:{basicInfo:"Basic Information",generalInfo:"General Information",description:"Description",descriptionPlaceholder:"General product description, features, or internal notes...",gallery:"Product Gallery",addImage:"Add Image",category:"Category",status:"Status",productName:"Product Name",productNamePlaceholder:"e.g. Wireless Headset",sku:"SKU",skuPlaceholder:"e.g. WH-001",stock:"Stock",unitPrice:"Unit Price",alibabaSourcing:"Alibaba Sourcing",productLink:"Product Link",messageLink:"Message Link",orderLink:"Order Link",alibabaOrderNo:"Alibaba Order No",alibabaNote:"Alibaba Note",notePlaceholder:"Enter details...",costAndPricing:"Cost & Pricing",alibabaFee:"Alibaba Fee",exchangeRate:"Exchange Rate",margin:"Margin",shippingIQD:"Shipping (IQD)",otherFeesIQD:"Other Fees (IQD)",costTotal:"Total Cost",costPerUnit:"Cost Per Unit",recommendedPrice:"Recommended Price",finalPrice:"Final Price",manualOverride:"Manual Override Active",autoCalculated:"Auto Calculated",profitAnalysis:"Profit Analysis",iqdAnalysis:"IQD Analysis",usdAnalysis:"USD Analysis",profitPerUnit:"Profit / Unit",totalProfit:"Total Profit",qtyCalculation:"Quantity Calculation",unitsExpected:"Units Expected to Sell",selectCategory:"Select Category",createCategory:"Create New Category"},searchPlaceholder:"Search products...",confirmDelete:"Are you sure you want to delete this product?",marginTooHigh:"Margin percentage must be less than 100%",fillInfo:"Fill in the details below to add a new product.",editProduct:"Edit Product",manageCategories:"Categories",categories:"Categories",table:{product:"Product",category:"Category",stock:"Stock",price:"Price",status:"Status"}},wCe={title:"Orders",createOrder:"Create Order",orderId:"Order ID",customer:"Customer",date:"Date",total:"Total",status:"Status",items:"Items",quantity:"Qty",discount:"Discount",subtotal:"Subtotal",grandTotal:"Grand Total",customerInfo:"Customer Info",shippingAddress:"Shipping Address",internalNotes:"Internal Notes",paymentMethod:"Payment Method",governorate:"Governorate",socialMedia:"Social Media",deleteConfirm:"Are you sure you want to delete this order?",searchPlaceholder:"Search orders...",stockError:"Only {{available}} units available",limitReached:"Limit reached: {{available}}",addItemsError:"Please add items to the order",customerError:"Please fill in customer name and phone",stockErrorWithName:"Not enough stock for {{name}}. Max available: {{available}}",chooseProduct:"Choose Product",searchProduct:"Search & Select Product",qty:"Qty",price:"PRICE",cartEmpty:"Your cart is empty",cartEmptySub:"Add products to start building the order",onlyLeft:"ONLY {{count}} LEFT",orderSubtotal:"Order Subtotal",applyDiscount:"APPLY DISCOUNT",noDiscount:"No Discount",offDiscount:"{{percent}}% OFF DISCOUNT",chooseCustomer:"Choose a Customer",searchCustomers:"Search customers...",createNewCustomer:"Create New Customer",fullName:"Full Name",phone:"Phone Number",gender:"Gender",social:"Social",saveOrder:"SAVE ORDER",updateOrder:"UPDATE ORDER",orderStatus:"Order Status",orderItems:"Order Items",printReceipt:"Print Receipt",editOrder:"Edit Order",receipt:{title:"Receipt",companyName:"SHAN ENTERPRISE",address:"Baghdad, Iraq",order:"Order",customer:"Customer",phone:"Phone",gov:"Gov",subtotal:"Subtotal",discount:"Discount",total:"TOTAL",thankYou:"Thank you for your business!",noReturn:"Items checked out cannot be returned.",na:"N/A"},errors:{submitError:"Failed to submit order: {{message}}",unknown:"Unknown error"},table:{orderId:"Order ID",customer:"Customer",date:"Date",total:"Total (IQD)",status:"Status"}},_Ce={title:"Product Picture Gallery",subtitle:"Product Gallery",description:"Manage your product visual assets.",noProducts:"No products found matching your search.",modal:{images:"Product Images",addPhoto:"Add Photo",details:"Product Details",productTitle:"Product Title",enterTitle:"Enter product title",description:"Description",enterDescription:"Enter product description...",sellingPrice:"Selling Price",confirmDeleteImage:"Are you sure you want to delete this image?"}},SCe={title:"Customers",addCustomer:"Add Customer",name:"Name",phone:"Phone",email:"Email",address:"Address",governorate:"Governorate",social:"Social Media",totalSpent:"Total Spent",lastOrder:"Last Order",joinDate:"Join Date",orders:"Orders",location:"Location",createdOn:"Created On",actions:"Actions",noData:"No customers found",noMatch:"No customers matching filters",searchPlaceholder:"Search by name or phone...",viewTable:"Table View",viewCard:"Card View",form:{new:"New Customer",edit:"Refine Profile",sub:"Customer Database",fullName:"Full Name",phone:"Phone Number",email:"Email (Optional)",governorate:"Governorate",channel:"Channel",shippingAddress:"Shipping Address",save:"Save Profile",register:"Register Customer"},history:{title:"Transaction Logs",customer:"Customer",noRecords:"No Active Records Found",paymentMethod:"Payment Method",itemsCount:"Items Count",printThermal:"Print Thermal Receipt"},receipt:{title:"Order Receipt",order:"Order",customer:"Customer",date:"Date",status:"Status",item:"Item",qty:"Qty",price:"Price",total:"Total"}},ECe={title:"Settings",general:"General",account:"Account",appearance:"Appearance",users:"User Management",language:"Language",saveChanges:"Save Changes",branding:"Branding",appHeader:"Application Header",appHeaderDesc:"Show or hide the top navigation header",saveBranding:"Save Branding Settings",appName:"Application Name",logo:"Logo",logoAndFavicon:"Logo & Favicon",uploadLogo:"Upload Logo",uploadFavicon:"Upload Favicon",logoSize:"Recommended size: 512x512px. Max 3MB.",removeLogo:"Remove Logo",removeFavicon:"Remove Favicon",themeOptions:"Theme Options",themes:{liquid:"Liquid Glass",liquidDesc:"Apple macOS style",light:"Pro Light",lightDesc:"Clean & minimal",dark:"Pro Dark",darkDesc:"Deep & elegant"},accentCustomization:"Accent Customization",solid:"Solid",gradient:"Gradient",customColor:"Custom Color",gradients:{royal:"Royal",sunset:"Sunset",aurora:"Aurora",vibrant:"Vibrant"},customDualColors:"Custom Dual Colors",start:"Start",end:"End",livePreview:"Live Preview",contentLayoutExample:"Content Layout Example",primaryButton:"Primary Button",toggleSwitch:"Toggle Switch",accountSettings:"Account Settings",changeAvatar:"Change Avatar",avatarFormat:"JPG, GIF or PNG. Max size of 3MB",emailAddress:"Email Address",avatarRecommendedSize:"JPG, GIF or PNG. Max size of 3MB",displayName:"Display Name",username:"Username",securitySettings:"Security Settings",password:"Password",passwordDescription:"Change your password to keep your account safe.",changePassword:"Change Password",enable2fa:"Enable 2FA",editProfile:"Edit Profile",addUser:"Add User",editUser:"Edit User",addNewUser:"Add New User",updateUser:"Update User",createUser:"Create User",confirmDeleteUser:"Are you sure you want to delete this user?",table:{user:"User",email:"Email",role:"Role"},placeholders:{displayName:"Display Name",username:"Username",email:"Email",password:"Password",passwordKeep:"Password (leave blank to keep)",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password"},toasts:{profileUpdated:"Profile updated successfully!",avatarTooLarge:"Avatar too large. Max 3MB.",brandingSaved:"Branding settings saved successfully!",fileTooLarge:"File too large. Max 3MB.",userUpdated:"User updated successfully!",userCreated:"User created successfully!",passwordChanged:"Password changed successfully!"}},kCe={menu:mCe,header:gCe,user:yCe,common:vCe,dashboard:xCe,products:bCe,orders:wCe,productPicture:_Ce,customers:SCe,settings:ECe},PCe={mainMenu:" ",dashboard:" ",inventory:"",productPicture:" ",orders:"",customers:"",settings:"",logout:" "},TCe={welcome:" ",admin:"",switchMode:"   {{mode}}",activityLogs:" ",new:"",viewAllActivity:"  "},NCe={defaultName:"",defaultRole:""},ACe={loading:" ...",error:"",success:" ",save:"",saving:" ...",cancel:"",delete:"",edit:"",view:"",search:"...",actions:"",noData:"  ",noDataToExport:"   ",clearFilters:" ",exportCSV:" CSV",print:"",confirmDelete:"    ",yes:"",no:"",status:{processing:" ",completed:"",cancelled:"",pending:" ",shipped:" ",delivered:" ",returned:""},sort:"",dateNew:" ",dateOld:" ",priceHigh:" ",priceLow:" ",nameAZ:" (-)",male:"",female:"",showRows:" ",custom:"",select:"...",cashOnDelivery:"  ",perUnit:" "},ICe={title:" ",live:"  ",totalRevenue:" ",revenueTrend:" ",totalOrders:" ",ordersPlaced:" ",totalCustomers:" ",activeCustomers:" ",uniqueBuyers:" ",topRegion:" ",interactiveMap:" ",totalProducts:" ",lowStock:"  ",recentActivity:" ",filteredOrders:" ",liveDashboard:"  ",revenueComparison:"+12.5%   ",ordersCount:"{{count}} ",revenue:"",governorate:"",socialMedia:" ",categories:"",status:""},CCe={title:"",addProduct:" ",productName:" ",category:"",price:"",stock:"",status:"",supplier:"",description:"",image:"",sellingPrice:"  (.)",costPrice:"  ()",exchangeRate:" ",profit:"",margin:"",create:" ",update:" ",stockStatus:{inStock:"",lowStock:" ",outOfStock:" ",instock:"",lowstock:" ",outofstock:" "},form:{basicInfo:" ",generalInfo:" ",description:"",descriptionPlaceholder:"     ...",gallery:" ",addImage:" ",category:"",status:"",productName:" ",productNamePlaceholder:":  ",sku:"  (SKU)",skuPlaceholder:": WH-001",stock:"",unitPrice:" ",alibabaSourcing:"  ",productLink:" ",messageLink:" ",orderLink:" ",alibabaOrderNo:"   ",alibabaNote:"  ",notePlaceholder:" ...",costAndPricing:" ",alibabaFee:"  ",exchangeRate:" ",margin:" ",shippingIQD:" (.)",otherFeesIQD:"  (.)",costTotal:" ",costPerUnit:" ",recommendedPrice:" ",finalPrice:" ",manualOverride:"  ",autoCalculated:" ",profitAnalysis:" ",iqdAnalysis:"  ",usdAnalysis:"  ",profitPerUnit:" / ",totalProfit:" ",qtyCalculation:" ",unitsExpected:"  ",selectCategory:" ",createCategory:"  "},searchPlaceholder:"  ...",confirmDelete:"      ",marginTooHigh:"       100%",fillInfo:"     .",editProduct:" ",manageCategories:"",categories:"",table:{product:"",category:"",stock:"",price:"",status:""}},OCe={title:"",createOrder:" ",orderId:" ",customer:"",date:"",total:"",status:"",items:"",quantity:"",discount:"",subtotal:" ",grandTotal:" ",customerInfo:" ",shippingAddress:" ",internalNotes:" ",paymentMethod:" ",governorate:"",socialMedia:" ",deleteConfirm:"      ",searchPlaceholder:"  ...",stockError:" {{available}}  ",limitReached:"  : {{available}}",addItemsError:"   ",customerError:"    ",stockErrorWithName:"     {{name}}. : {{available}}",chooseProduct:" ",searchProduct:"  ",qty:"",price:"",cartEmpty:" ",cartEmptySub:"     ",onlyLeft:" {{count}} ",orderSubtotal:" ",applyDiscount:" ",noDiscount:" ",offDiscount:" {{percent}}%",chooseCustomer:" ",searchCustomers:"  ...",createNewCustomer:"  ",fullName:" ",phone:" ",gender:"",social:" ",saveOrder:" ",updateOrder:" ",orderStatus:" ",orderItems:" ",printReceipt:" ",editOrder:" ",receipt:{title:" ",companyName:"SHAN ENTERPRISE",address:" ",order:"",customer:"",phone:"",gov:"",subtotal:" ",discount:"",total:"",thankYou:"  !",noReturn:"     .",na:" "},errors:{submitError:"   : {{message}}",unknown:"  "},table:{orderId:" ",customer:"",date:"",total:" (.)",status:""}},jCe={title:"  ",subtitle:" ",description:"   .",noProducts:"      .",modal:{images:" ",addPhoto:" ",details:" ",productTitle:" ",enterTitle:"  ",description:"",enterDescription:"  ...",sellingPrice:" ",confirmDeleteImage:"      "}},RCe={title:"",addCustomer:" ",name:"",phone:"",email:" ",address:"",governorate:"",social:" ",totalSpent:" ",lastOrder:" ",joinDate:" ",orders:"",location:"",createdOn:" ",actions:"",noData:"  ",noMatch:"   ",searchPlaceholder:"   ...",viewTable:" ",viewCard:" ",form:{new:" ",edit:" ",sub:"  ",fullName:" ",phone:" ",email:"  ()",governorate:"",channel:"",shippingAddress:" ",save:" ",register:" "},history:{title:" ",customer:"",noRecords:"   ",paymentMethod:" ",itemsCount:" ",printThermal:"  "},receipt:{title:" ",order:"",customer:"",date:"",status:"",item:"",qty:"",price:"",total:""}},MCe={title:"",general:"",account:"",appearance:"",users:" ",language:"",saveChanges:" ",branding:" ",appHeader:" ",appHeaderDesc:"     ",saveBranding:"   ",appName:" ",logo:"",logoAndFavicon:" ",uploadLogo:" ",uploadFavicon:" ",logoSize:"  : 512x512 .   3 .",removeLogo:" ",removeFavicon:" ",themeOptions:" ",themes:{liquid:" ",liquidDesc:"  ",light:" ",lightDesc:" ",dark:" ",darkDesc:" "},accentCustomization:"  ",solid:" ",gradient:" ",customColor:" ",gradients:{royal:"",sunset:"",aurora:"",vibrant:""},customDualColors:"  ",start:"",end:"",livePreview:" ",contentLayoutExample:"  ",primaryButton:" ",toggleSwitch:" ",accountSettings:" ",changeAvatar:"  ",avatarFormat:"JPG GIF  PNG.   3 ",emailAddress:" ",avatarRecommendedSize:"JPG GIF  PNG.   3 ",displayName:" ",username:" ",securitySettings:" ",password:" ",passwordDescription:"      .",changePassword:"  ",enable2fa:"  ",editProfile:"  ",addUser:" ",editUser:" ",addNewUser:"  ",updateUser:" ",createUser:" ",confirmDeleteUser:"      ",table:{user:"",email:" ",role:""},placeholders:{displayName:" ",username:" ",email:" ",password:" ",passwordKeep:"  (   )",currentPassword:"  ",newPassword:"  ",confirmPassword:"   "},toasts:{profileUpdated:"    !",avatarTooLarge:"  .   3 .",brandingSaved:"     !",fileTooLarge:"  .   3 .",userUpdated:"   !",userCreated:"   !",passwordChanged:"    !"}},$Ce={menu:PCe,header:TCe,user:NCe,common:ACe,dashboard:ICe,products:CCe,orders:OCe,productPicture:jCe,customers:RCe,settings:MCe};zn.use(_z).use(jie).init({resources:{en:{translation:kCe},ar:{translation:$Ce}},fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}}).then(()=>{const t=zn.language==="ar"?"rtl":"ltr";document.dir=t,document.documentElement.lang=zn.language});zn.on("languageChanged",t=>{const e=t==="ar"?"rtl":"ltr";document.dir=e,document.documentElement.lang=t});ay.createRoot(document.getElementById("root")).render(f.jsx(B.StrictMode,{children:f.jsx(ZIe,{})}));
