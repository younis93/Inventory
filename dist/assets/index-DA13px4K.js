function Vz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var H4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BC={exports:{}},mg={},zC={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n4=Symbol.for("react.element"),Uz=Symbol.for("react.portal"),Bz=Symbol.for("react.fragment"),zz=Symbol.for("react.strict_mode"),qz=Symbol.for("react.profiler"),Wz=Symbol.for("react.provider"),Hz=Symbol.for("react.context"),Gz=Symbol.for("react.forward_ref"),Kz=Symbol.for("react.suspense"),Qz=Symbol.for("react.memo"),Yz=Symbol.for("react.lazy"),B_=Symbol.iterator;function Xz(t){return t===null||typeof t!="object"?null:(t=B_&&t[B_]||t["@@iterator"],typeof t=="function"?t:null)}var qC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WC=Object.assign,HC={};function yu(t,e,n){this.props=t,this.context=e,this.refs=HC,this.updater=n||qC}yu.prototype.isReactComponent={};yu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GC(){}GC.prototype=yu.prototype;function Z9(t,e,n){this.props=t,this.context=e,this.refs=HC,this.updater=n||qC}var e8=Z9.prototype=new GC;e8.constructor=Z9;WC(e8,yu.prototype);e8.isPureReactComponent=!0;var z_=Array.isArray,KC=Object.prototype.hasOwnProperty,t8={current:null},QC={key:!0,ref:!0,__self:!0,__source:!0};function YC(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)KC.call(e,r)&&!QC.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:n4,type:t,key:a,ref:s,props:i,_owner:t8.current}}function Jz(t,e){return{$$typeof:n4,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function n8(t){return typeof t=="object"&&t!==null&&t.$$typeof===n4}function Zz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var q_=/\/+/g;function p5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zz(""+t.key):e.toString(36)}function Qp(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case n4:case Uz:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+p5(s,0):r,z_(i)?(n="",t!=null&&(n=t.replace(q_,"$&/")+"/"),Qp(i,e,n,"",function(c){return c})):i!=null&&(n8(i)&&(i=Jz(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(q_,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",z_(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+p5(a,o);s+=Qp(a,e,n,l,i)}else if(l=Xz(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+p5(a,o++),s+=Qp(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function G4(t,e,n){if(t==null)return t;var r=[],i=0;return Qp(t,r,"","",function(a){return e.call(n,a,i++)}),r}function eq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pr={current:null},Yp={transition:null},tq={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:Yp,ReactCurrentOwner:t8};function XC(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:G4,forEach:function(t,e,n){G4(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return G4(t,function(){e++}),e},toArray:function(t){return G4(t,function(e){return e})||[]},only:function(t){if(!n8(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=yu;ot.Fragment=Bz;ot.Profiler=qz;ot.PureComponent=Z9;ot.StrictMode=zz;ot.Suspense=Kz;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tq;ot.act=XC;ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=WC({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=t8.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)KC.call(e,l)&&!QC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:n4,type:t.type,key:i,ref:a,props:r,_owner:s}};ot.createContext=function(t){return t={$$typeof:Hz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wz,_context:t},t.Consumer=t};ot.createElement=YC;ot.createFactory=function(t){var e=YC.bind(null,t);return e.type=t,e};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:Gz,render:t}};ot.isValidElement=n8;ot.lazy=function(t){return{$$typeof:Yz,_payload:{_status:-1,_result:t},_init:eq}};ot.memo=function(t,e){return{$$typeof:Qz,type:t,compare:e===void 0?null:e}};ot.startTransition=function(t){var e=Yp.transition;Yp.transition={};try{t()}finally{Yp.transition=e}};ot.unstable_act=XC;ot.useCallback=function(t,e){return Pr.current.useCallback(t,e)};ot.useContext=function(t){return Pr.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return Pr.current.useDeferredValue(t)};ot.useEffect=function(t,e){return Pr.current.useEffect(t,e)};ot.useId=function(){return Pr.current.useId()};ot.useImperativeHandle=function(t,e,n){return Pr.current.useImperativeHandle(t,e,n)};ot.useInsertionEffect=function(t,e){return Pr.current.useInsertionEffect(t,e)};ot.useLayoutEffect=function(t,e){return Pr.current.useLayoutEffect(t,e)};ot.useMemo=function(t,e){return Pr.current.useMemo(t,e)};ot.useReducer=function(t,e,n){return Pr.current.useReducer(t,e,n)};ot.useRef=function(t){return Pr.current.useRef(t)};ot.useState=function(t){return Pr.current.useState(t)};ot.useSyncExternalStore=function(t,e,n){return Pr.current.useSyncExternalStore(t,e,n)};ot.useTransition=function(){return Pr.current.useTransition()};ot.version="18.3.1";zC.exports=ot;var R=zC.exports;const B=$t(R),nq=Vz({__proto__:null,default:B},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rq=R,iq=Symbol.for("react.element"),aq=Symbol.for("react.fragment"),sq=Object.prototype.hasOwnProperty,oq=rq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lq={key:!0,ref:!0,__self:!0,__source:!0};function JC(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)sq.call(e,r)&&!lq.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iq,type:t,key:a,ref:s,props:i,_owner:oq.current}}mg.Fragment=aq;mg.jsx=JC;mg.jsxs=JC;BC.exports=mg;var f=BC.exports,ey={},ZC={exports:{}},ui={},eO={exports:{}},tO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var W=F.length;F.push(U);e:for(;0<W;){var G=W-1>>>1,H=F[G];if(0<i(H,U))F[G]=U,F[W]=H,W=G;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],W=F.pop();if(W!==U){F[0]=W;e:for(var G=0,H=F.length,te=H>>>1;G<te;){var ue=2*(G+1)-1,me=F[ue],Z=ue+1,_e=F[Z];if(0>i(me,W))Z<H&&0>i(_e,me)?(F[G]=_e,F[Z]=W,G=Z):(F[G]=me,F[ue]=W,G=ue);else if(Z<H&&0>i(_e,W))F[G]=_e,F[Z]=W,G=Z;else break e}}return U}function i(F,U){var W=F.sortIndex-U.sortIndex;return W!==0?W:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=F)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function S(F){if(x=!1,w(F),!g)if(n(l)!==null)g=!0,D(E);else{var U=n(c);U!==null&&V(S,U.startTime-F)}}function E(F,U){g=!1,x&&(x=!1,v(k),k=-1),p=!0;var W=h;try{for(w(U),d=n(l);d!==null&&(!(d.expirationTime>U)||F&&!I());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var H=G(d.expirationTime<=U);U=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),w(U)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var ue=n(c);ue!==null&&V(S,ue.startTime-U),te=!1}return te}finally{d=null,h=W,p=!1}}var P=!1,_=null,k=-1,N=5,A=-1;function I(){return!(t.unstable_now()-A<N)}function j(){if(_!==null){var F=t.unstable_now();A=F;var U=!0;try{U=_(!0,F)}finally{U?O():(P=!1,_=null)}}else P=!1}var O;if(typeof b=="function")O=function(){b(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,M=$.port2;$.port1.onmessage=j,O=function(){M.postMessage(null)}}else O=function(){y(j,0)};function D(F){_=F,P||(P=!0,O())}function V(F,U){k=y(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,D(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var W=h;h=U;try{return F()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=h;h=F;try{return U()}finally{h=W}},t.unstable_scheduleCallback=function(F,U,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,F){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,F={id:u++,callback:U,priorityLevel:F,startTime:W,expirationTime:H,sortIndex:-1},W>G?(F.sortIndex=W,e(c,F),n(l)===null&&F===n(c)&&(x?(v(k),k=-1):x=!0,V(S,W-G))):(F.sortIndex=H,e(l,F),g||p||(g=!0,D(E))),F},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(F){var U=h;return function(){var W=h;h=U;try{return F.apply(this,arguments)}finally{h=W}}}})(tO);eO.exports=tO;var cq=eO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uq=R,si=cq;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nO=new Set,Cf={};function hl(t,e){Tc(t,e),Tc(t+"Capture",e)}function Tc(t,e){for(Cf[t]=e,t=0;t<e.length;t++)nO.add(e[t])}var g0=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ty=Object.prototype.hasOwnProperty,dq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W_={},H_={};function fq(t){return ty.call(H_,t)?!0:ty.call(W_,t)?!1:dq.test(t)?H_[t]=!0:(W_[t]=!0,!1)}function hq(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pq(t,e,n,r){if(e===null||typeof e>"u"||hq(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qn[t]=new Tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qn[e]=new Tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qn[t]=new Tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qn[t]=new Tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qn[t]=new Tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qn[t]=new Tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qn[t]=new Tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qn[t]=new Tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qn[t]=new Tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var r8=/[\-:]([a-z])/g;function i8(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(r8,i8);Qn[e]=new Tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(r8,i8);Qn[e]=new Tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(r8,i8);Qn[e]=new Tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qn[t]=new Tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new Tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qn[t]=new Tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function a8(t,e,n,r){var i=Qn.hasOwnProperty(e)?Qn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pq(e,n,i,r)&&(n=null),r||i===null?fq(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var I0=uq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K4=Symbol.for("react.element"),Bl=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),s8=Symbol.for("react.strict_mode"),ny=Symbol.for("react.profiler"),rO=Symbol.for("react.provider"),iO=Symbol.for("react.context"),o8=Symbol.for("react.forward_ref"),ry=Symbol.for("react.suspense"),iy=Symbol.for("react.suspense_list"),l8=Symbol.for("react.memo"),G0=Symbol.for("react.lazy"),aO=Symbol.for("react.offscreen"),G_=Symbol.iterator;function td(t){return t===null||typeof t!="object"?null:(t=G_&&t[G_]||t["@@iterator"],typeof t=="function"?t:null)}var nn=Object.assign,m5;function Cd(t){if(m5===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);m5=e&&e[1]||""}return`
`+m5+t}var g5=!1;function y5(t,e){if(!t||g5)return"";g5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{g5=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cd(t):""}function mq(t){switch(t.tag){case 5:return Cd(t.type);case 16:return Cd("Lazy");case 13:return Cd("Suspense");case 19:return Cd("SuspenseList");case 0:case 2:case 15:return t=y5(t.type,!1),t;case 11:return t=y5(t.type.render,!1),t;case 1:return t=y5(t.type,!0),t;default:return""}}function ay(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zl:return"Fragment";case Bl:return"Portal";case ny:return"Profiler";case s8:return"StrictMode";case ry:return"Suspense";case iy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iO:return(t.displayName||"Context")+".Consumer";case rO:return(t._context.displayName||"Context")+".Provider";case o8:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case l8:return e=t.displayName||null,e!==null?e:ay(t.type)||"Memo";case G0:e=t._payload,t=t._init;try{return ay(t(e))}catch{}}return null}function gq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ay(e);case 8:return e===s8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function As(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yq(t){var e=sO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Q4(t){t._valueTracker||(t._valueTracker=yq(t))}function oO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function N3(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sy(t,e){var n=e.checked;return nn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function K_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=As(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lO(t,e){e=e.checked,e!=null&&a8(t,"checked",e,!1)}function oy(t,e){lO(t,e);var n=As(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ly(t,e.type,n):e.hasOwnProperty("defaultValue")&&ly(t,e.type,As(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Q_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ly(t,e,n){(e!=="number"||N3(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Od=Array.isArray;function lc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+As(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return nn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Y_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(Od(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:As(n)}}function cO(t,e){var n=As(e.value),r=As(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function X_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Y4,dO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Y4=Y4||document.createElement("div"),Y4.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Y4.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Of(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vq=["Webkit","ms","Moz","O"];Object.keys(nf).forEach(function(t){vq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nf[e]=nf[t]})});function fO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nf.hasOwnProperty(t)&&nf[t]?(""+e).trim():e+"px"}function hO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xq=nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dy(t,e){if(e){if(xq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function fy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hy=null;function c8(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var py=null,cc=null,uc=null;function J_(t){if(t=a4(t)){if(typeof py!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=bg(e),py(t.stateNode,t.type,e))}}function pO(t){cc?uc?uc.push(t):uc=[t]:cc=t}function mO(){if(cc){var t=cc,e=uc;if(uc=cc=null,J_(t),e)for(t=0;t<e.length;t++)J_(e[t])}}function gO(t,e){return t(e)}function yO(){}var v5=!1;function vO(t,e,n){if(v5)return t(e,n);v5=!0;try{return gO(t,e,n)}finally{v5=!1,(cc!==null||uc!==null)&&(yO(),mO())}}function jf(t,e){var n=t.stateNode;if(n===null)return null;var r=bg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var my=!1;if(g0)try{var nd={};Object.defineProperty(nd,"passive",{get:function(){my=!0}}),window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{my=!1}function bq(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var rf=!1,A3=null,I3=!1,gy=null,wq={onError:function(t){rf=!0,A3=t}};function _q(t,e,n,r,i,a,s,o,l){rf=!1,A3=null,bq.apply(wq,arguments)}function Sq(t,e,n,r,i,a,s,o,l){if(_q.apply(this,arguments),rf){if(rf){var c=A3;rf=!1,A3=null}else throw Error(pe(198));I3||(I3=!0,gy=c)}}function pl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Z_(t){if(pl(t)!==t)throw Error(pe(188))}function Eq(t){var e=t.alternate;if(!e){if(e=pl(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Z_(i),t;if(a===r)return Z_(i),e;a=a.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function bO(t){return t=Eq(t),t!==null?wO(t):null}function wO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wO(t);if(e!==null)return e;t=t.sibling}return null}var _O=si.unstable_scheduleCallback,eS=si.unstable_cancelCallback,kq=si.unstable_shouldYield,Pq=si.unstable_requestPaint,pn=si.unstable_now,Tq=si.unstable_getCurrentPriorityLevel,u8=si.unstable_ImmediatePriority,SO=si.unstable_UserBlockingPriority,C3=si.unstable_NormalPriority,Nq=si.unstable_LowPriority,EO=si.unstable_IdlePriority,gg=null,Pa=null;function Aq(t){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(gg,t,void 0,(t.current.flags&128)===128)}catch{}}var Zi=Math.clz32?Math.clz32:Oq,Iq=Math.log,Cq=Math.LN2;function Oq(t){return t>>>=0,t===0?32:31-(Iq(t)/Cq|0)|0}var X4=64,J4=4194304;function jd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function O3(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=jd(o):(a&=s,a!==0&&(r=jd(a)))}else s=n&~i,s!==0?r=jd(s):a!==0&&(r=jd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zi(e),i=1<<n,r|=t[n],e&=~i;return r}function jq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rq(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Zi(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=jq(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function yy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kO(){var t=X4;return X4<<=1,!(X4&4194240)&&(X4=64),t}function x5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function r4(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zi(e),t[e]=n}function Mq(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zi(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function d8(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Nt=0;function PO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TO,f8,NO,AO,IO,vy=!1,Z4=[],ds=null,fs=null,hs=null,Rf=new Map,Mf=new Map,J0=[],$q="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tS(t,e){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Rf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mf.delete(e.pointerId)}}function rd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=a4(e),e!==null&&f8(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Dq(t,e,n,r,i){switch(e){case"focusin":return ds=rd(ds,t,e,n,r,i),!0;case"dragenter":return fs=rd(fs,t,e,n,r,i),!0;case"mouseover":return hs=rd(hs,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rf.set(a,rd(Rf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mf.set(a,rd(Mf.get(a)||null,t,e,n,r,i)),!0}return!1}function CO(t){var e=bo(t.target);if(e!==null){var n=pl(e);if(n!==null){if(e=n.tag,e===13){if(e=xO(n),e!==null){t.blockedOn=e,IO(t.priority,function(){NO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hy=r,n.target.dispatchEvent(r),hy=null}else return e=a4(n),e!==null&&f8(e),t.blockedOn=n,!1;e.shift()}return!0}function nS(t,e,n){Xp(t)&&n.delete(e)}function Lq(){vy=!1,ds!==null&&Xp(ds)&&(ds=null),fs!==null&&Xp(fs)&&(fs=null),hs!==null&&Xp(hs)&&(hs=null),Rf.forEach(nS),Mf.forEach(nS)}function id(t,e){t.blockedOn===e&&(t.blockedOn=null,vy||(vy=!0,si.unstable_scheduleCallback(si.unstable_NormalPriority,Lq)))}function $f(t){function e(i){return id(i,t)}if(0<Z4.length){id(Z4[0],t);for(var n=1;n<Z4.length;n++){var r=Z4[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ds!==null&&id(ds,t),fs!==null&&id(fs,t),hs!==null&&id(hs,t),Rf.forEach(e),Mf.forEach(e),n=0;n<J0.length;n++)r=J0[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<J0.length&&(n=J0[0],n.blockedOn===null);)CO(n),n.blockedOn===null&&J0.shift()}var dc=I0.ReactCurrentBatchConfig,j3=!0;function Fq(t,e,n,r){var i=Nt,a=dc.transition;dc.transition=null;try{Nt=1,h8(t,e,n,r)}finally{Nt=i,dc.transition=a}}function Vq(t,e,n,r){var i=Nt,a=dc.transition;dc.transition=null;try{Nt=4,h8(t,e,n,r)}finally{Nt=i,dc.transition=a}}function h8(t,e,n,r){if(j3){var i=xy(t,e,n,r);if(i===null)A5(t,e,r,R3,n),tS(t,r);else if(Dq(i,t,e,n,r))r.stopPropagation();else if(tS(t,r),e&4&&-1<$q.indexOf(t)){for(;i!==null;){var a=a4(i);if(a!==null&&TO(a),a=xy(t,e,n,r),a===null&&A5(t,e,r,R3,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else A5(t,e,r,null,n)}}var R3=null;function xy(t,e,n,r){if(R3=null,t=c8(r),t=bo(t),t!==null)if(e=pl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return R3=t,null}function OO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tq()){case u8:return 1;case SO:return 4;case C3:case Nq:return 16;case EO:return 536870912;default:return 16}default:return 16}}var as=null,p8=null,Jp=null;function jO(){if(Jp)return Jp;var t,e=p8,n=e.length,r,i="value"in as?as.value:as.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Jp=i.slice(t,1<r?1-r:void 0)}function Zp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ep(){return!0}function rS(){return!1}function di(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ep:rS,this.isPropagationStopped=rS,this}return nn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ep)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ep)},persist:function(){},isPersistent:ep}),e}var vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},m8=di(vu),i4=nn({},vu,{view:0,detail:0}),Uq=di(i4),b5,w5,ad,yg=nn({},i4,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:g8,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ad&&(ad&&t.type==="mousemove"?(b5=t.screenX-ad.screenX,w5=t.screenY-ad.screenY):w5=b5=0,ad=t),b5)},movementY:function(t){return"movementY"in t?t.movementY:w5}}),iS=di(yg),Bq=nn({},yg,{dataTransfer:0}),zq=di(Bq),qq=nn({},i4,{relatedTarget:0}),_5=di(qq),Wq=nn({},vu,{animationName:0,elapsedTime:0,pseudoElement:0}),Hq=di(Wq),Gq=nn({},vu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kq=di(Gq),Qq=nn({},vu,{data:0}),aS=di(Qq),Yq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jq[t])?!!e[t]:!1}function g8(){return Zq}var eW=nn({},i4,{key:function(t){if(t.key){var e=Yq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:g8,charCode:function(t){return t.type==="keypress"?Zp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tW=di(eW),nW=nn({},yg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sS=di(nW),rW=nn({},i4,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:g8}),iW=di(rW),aW=nn({},vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),sW=di(aW),oW=nn({},yg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lW=di(oW),cW=[9,13,27,32],y8=g0&&"CompositionEvent"in window,af=null;g0&&"documentMode"in document&&(af=document.documentMode);var uW=g0&&"TextEvent"in window&&!af,RO=g0&&(!y8||af&&8<af&&11>=af),oS=" ",lS=!1;function MO(t,e){switch(t){case"keyup":return cW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $O(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ql=!1;function dW(t,e){switch(t){case"compositionend":return $O(e);case"keypress":return e.which!==32?null:(lS=!0,oS);case"textInput":return t=e.data,t===oS&&lS?null:t;default:return null}}function fW(t,e){if(ql)return t==="compositionend"||!y8&&MO(t,e)?(t=jO(),Jp=p8=as=null,ql=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RO&&e.locale!=="ko"?null:e.data;default:return null}}var hW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hW[t.type]:e==="textarea"}function DO(t,e,n,r){pO(r),e=M3(e,"onChange"),0<e.length&&(n=new m8("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sf=null,Df=null;function pW(t){KO(t,0)}function vg(t){var e=Gl(t);if(oO(e))return t}function mW(t,e){if(t==="change")return e}var LO=!1;if(g0){var S5;if(g0){var E5="oninput"in document;if(!E5){var uS=document.createElement("div");uS.setAttribute("oninput","return;"),E5=typeof uS.oninput=="function"}S5=E5}else S5=!1;LO=S5&&(!document.documentMode||9<document.documentMode)}function dS(){sf&&(sf.detachEvent("onpropertychange",FO),Df=sf=null)}function FO(t){if(t.propertyName==="value"&&vg(Df)){var e=[];DO(e,Df,t,c8(t)),vO(pW,e)}}function gW(t,e,n){t==="focusin"?(dS(),sf=e,Df=n,sf.attachEvent("onpropertychange",FO)):t==="focusout"&&dS()}function yW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vg(Df)}function vW(t,e){if(t==="click")return vg(e)}function xW(t,e){if(t==="input"||t==="change")return vg(e)}function bW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ia=typeof Object.is=="function"?Object.is:bW;function Lf(t,e){if(ia(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ty.call(e,i)||!ia(t[i],e[i]))return!1}return!0}function fS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hS(t,e){var n=fS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fS(n)}}function VO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UO(){for(var t=window,e=N3();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=N3(t.document)}return e}function v8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wW(t){var e=UO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VO(n.ownerDocument.documentElement,n)){if(r!==null&&v8(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=hS(n,a);var s=hS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _W=g0&&"documentMode"in document&&11>=document.documentMode,Wl=null,by=null,of=null,wy=!1;function pS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wy||Wl==null||Wl!==N3(r)||(r=Wl,"selectionStart"in r&&v8(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),of&&Lf(of,r)||(of=r,r=M3(by,"onSelect"),0<r.length&&(e=new m8("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wl)))}function tp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hl={animationend:tp("Animation","AnimationEnd"),animationiteration:tp("Animation","AnimationIteration"),animationstart:tp("Animation","AnimationStart"),transitionend:tp("Transition","TransitionEnd")},k5={},BO={};g0&&(BO=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function xg(t){if(k5[t])return k5[t];if(!Hl[t])return t;var e=Hl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BO)return k5[t]=e[n];return t}var zO=xg("animationend"),qO=xg("animationiteration"),WO=xg("animationstart"),HO=xg("transitionend"),GO=new Map,mS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(t,e){GO.set(t,e),hl(e,[t])}for(var P5=0;P5<mS.length;P5++){var T5=mS[P5],SW=T5.toLowerCase(),EW=T5[0].toUpperCase()+T5.slice(1);Fs(SW,"on"+EW)}Fs(zO,"onAnimationEnd");Fs(qO,"onAnimationIteration");Fs(WO,"onAnimationStart");Fs("dblclick","onDoubleClick");Fs("focusin","onFocus");Fs("focusout","onBlur");Fs(HO,"onTransitionEnd");Tc("onMouseEnter",["mouseout","mouseover"]);Tc("onMouseLeave",["mouseout","mouseover"]);Tc("onPointerEnter",["pointerout","pointerover"]);Tc("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rd));function gS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Sq(r,e,void 0,t),t.currentTarget=null}function KO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;gS(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;gS(i,o,c),a=l}}}if(I3)throw t=gy,I3=!1,gy=null,t}function Bt(t,e){var n=e[Py];n===void 0&&(n=e[Py]=new Set);var r=t+"__bubble";n.has(r)||(QO(e,t,2,!1),n.add(r))}function N5(t,e,n){var r=0;e&&(r|=4),QO(n,t,r,e)}var np="_reactListening"+Math.random().toString(36).slice(2);function Ff(t){if(!t[np]){t[np]=!0,nO.forEach(function(n){n!=="selectionchange"&&(kW.has(n)||N5(n,!1,t),N5(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[np]||(e[np]=!0,N5("selectionchange",!1,e))}}function QO(t,e,n,r){switch(OO(e)){case 1:var i=Fq;break;case 4:i=Vq;break;default:i=h8}n=i.bind(null,e,n,t),i=void 0,!my||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function A5(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=bo(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}vO(function(){var c=a,u=c8(n),d=[];e:{var h=GO.get(t);if(h!==void 0){var p=m8,g=t;switch(t){case"keypress":if(Zp(n)===0)break e;case"keydown":case"keyup":p=tW;break;case"focusin":g="focus",p=_5;break;case"focusout":g="blur",p=_5;break;case"beforeblur":case"afterblur":p=_5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=iS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iW;break;case zO:case qO:case WO:p=Hq;break;case HO:p=sW;break;case"scroll":p=Uq;break;case"wheel":p=lW;break;case"copy":case"cut":case"paste":p=Kq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sS}var x=(e&4)!==0,y=!x&&t==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=jf(b,v),S!=null&&x.push(Vf(b,S,w)))),y)break;b=b.return}0<x.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==hy&&(g=n.relatedTarget||n.fromElement)&&(bo(g)||g[y0]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?bo(g):null,g!==null&&(y=pl(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(x=iS,S="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=sS,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=p==null?h:Gl(p),w=g==null?h:Gl(g),h=new x(S,b+"leave",p,n,u),h.target=y,h.relatedTarget=w,S=null,bo(u)===c&&(x=new x(v,b+"enter",g,n,u),x.target=w,x.relatedTarget=y,S=x),y=S,p&&g)t:{for(x=p,v=g,b=0,w=x;w;w=Al(w))b++;for(w=0,S=v;S;S=Al(S))w++;for(;0<b-w;)x=Al(x),b--;for(;0<w-b;)v=Al(v),w--;for(;b--;){if(x===v||v!==null&&x===v.alternate)break t;x=Al(x),v=Al(v)}x=null}else x=null;p!==null&&yS(d,h,p,x,!1),g!==null&&y!==null&&yS(d,y,g,x,!0)}}e:{if(h=c?Gl(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=mW;else if(cS(h))if(LO)E=xW;else{E=yW;var P=gW}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=vW);if(E&&(E=E(t,c))){DO(d,E,n,u);break e}P&&P(t,h,c),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&ly(h,"number",h.value)}switch(P=c?Gl(c):window,t){case"focusin":(cS(P)||P.contentEditable==="true")&&(Wl=P,by=c,of=null);break;case"focusout":of=by=Wl=null;break;case"mousedown":wy=!0;break;case"contextmenu":case"mouseup":case"dragend":wy=!1,pS(d,n,u);break;case"selectionchange":if(_W)break;case"keydown":case"keyup":pS(d,n,u)}var _;if(y8)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ql?MO(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(RO&&n.locale!=="ko"&&(ql||k!=="onCompositionStart"?k==="onCompositionEnd"&&ql&&(_=jO()):(as=u,p8="value"in as?as.value:as.textContent,ql=!0)),P=M3(c,k),0<P.length&&(k=new aS(k,t,null,n,u),d.push({event:k,listeners:P}),_?k.data=_:(_=$O(n),_!==null&&(k.data=_)))),(_=uW?dW(t,n):fW(t,n))&&(c=M3(c,"onBeforeInput"),0<c.length&&(u=new aS("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}KO(d,e)})}function Vf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function M3(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=jf(t,n),a!=null&&r.unshift(Vf(t,a,i)),a=jf(t,e),a!=null&&r.push(Vf(t,a,i))),t=t.return}return r}function Al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yS(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=jf(n,a),l!=null&&s.unshift(Vf(n,l,o))):i||(l=jf(n,a),l!=null&&s.push(Vf(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var PW=/\r\n?/g,TW=/\u0000|\uFFFD/g;function vS(t){return(typeof t=="string"?t:""+t).replace(PW,`
`).replace(TW,"")}function rp(t,e,n){if(e=vS(e),vS(t)!==e&&n)throw Error(pe(425))}function $3(){}var _y=null,Sy=null;function Ey(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ky=typeof setTimeout=="function"?setTimeout:void 0,NW=typeof clearTimeout=="function"?clearTimeout:void 0,xS=typeof Promise=="function"?Promise:void 0,AW=typeof queueMicrotask=="function"?queueMicrotask:typeof xS<"u"?function(t){return xS.resolve(null).then(t).catch(IW)}:ky;function IW(t){setTimeout(function(){throw t})}function I5(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$f(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$f(e)}function ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xu=Math.random().toString(36).slice(2),ga="__reactFiber$"+xu,Uf="__reactProps$"+xu,y0="__reactContainer$"+xu,Py="__reactEvents$"+xu,CW="__reactListeners$"+xu,OW="__reactHandles$"+xu;function bo(t){var e=t[ga];if(e)return e;for(var n=t.parentNode;n;){if(e=n[y0]||n[ga]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bS(t);t!==null;){if(n=t[ga])return n;t=bS(t)}return e}t=n,n=t.parentNode}return null}function a4(t){return t=t[ga]||t[y0],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function bg(t){return t[Uf]||null}var Ty=[],Kl=-1;function Vs(t){return{current:t}}function Ht(t){0>Kl||(t.current=Ty[Kl],Ty[Kl]=null,Kl--)}function Ft(t,e){Kl++,Ty[Kl]=t.current,t.current=e}var Is={},or=Vs(Is),Dr=Vs(!1),Vo=Is;function Nc(t,e){var n=t.type.contextTypes;if(!n)return Is;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Lr(t){return t=t.childContextTypes,t!=null}function D3(){Ht(Dr),Ht(or)}function wS(t,e,n){if(or.current!==Is)throw Error(pe(168));Ft(or,e),Ft(Dr,n)}function YO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pe(108,gq(t)||"Unknown",i));return nn({},n,r)}function L3(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Is,Vo=or.current,Ft(or,t),Ft(Dr,Dr.current),!0}function _S(t,e,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=YO(t,e,Vo),r.__reactInternalMemoizedMergedChildContext=t,Ht(Dr),Ht(or),Ft(or,t)):Ht(Dr),Ft(Dr,n)}var Ka=null,wg=!1,C5=!1;function XO(t){Ka===null?Ka=[t]:Ka.push(t)}function jW(t){wg=!0,XO(t)}function Us(){if(!C5&&Ka!==null){C5=!0;var t=0,e=Nt;try{var n=Ka;for(Nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ka=null,wg=!1}catch(i){throw Ka!==null&&(Ka=Ka.slice(t+1)),_O(u8,Us),i}finally{Nt=e,C5=!1}}return null}var Ql=[],Yl=0,F3=null,V3=0,yi=[],vi=0,Uo=null,t0=1,n0="";function uo(t,e){Ql[Yl++]=V3,Ql[Yl++]=F3,F3=t,V3=e}function JO(t,e,n){yi[vi++]=t0,yi[vi++]=n0,yi[vi++]=Uo,Uo=t;var r=t0;t=n0;var i=32-Zi(r)-1;r&=~(1<<i),n+=1;var a=32-Zi(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,t0=1<<32-Zi(e)+i|n<<i|r,n0=a+t}else t0=1<<a|n<<i|r,n0=t}function x8(t){t.return!==null&&(uo(t,1),JO(t,1,0))}function b8(t){for(;t===F3;)F3=Ql[--Yl],Ql[Yl]=null,V3=Ql[--Yl],Ql[Yl]=null;for(;t===Uo;)Uo=yi[--vi],yi[vi]=null,n0=yi[--vi],yi[vi]=null,t0=yi[--vi],yi[vi]=null}var ri=null,Jr=null,Kt=!1,qi=null;function ZO(t,e){var n=Si(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function SS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ri=t,Jr=ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ri=t,Jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Uo!==null?{id:t0,overflow:n0}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Si(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ri=t,Jr=null,!0):!1;default:return!1}}function Ny(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ay(t){if(Kt){var e=Jr;if(e){var n=e;if(!SS(t,e)){if(Ny(t))throw Error(pe(418));e=ps(n.nextSibling);var r=ri;e&&SS(t,e)?ZO(r,n):(t.flags=t.flags&-4097|2,Kt=!1,ri=t)}}else{if(Ny(t))throw Error(pe(418));t.flags=t.flags&-4097|2,Kt=!1,ri=t}}}function ES(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ri=t}function ip(t){if(t!==ri)return!1;if(!Kt)return ES(t),Kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ey(t.type,t.memoizedProps)),e&&(e=Jr)){if(Ny(t))throw ej(),Error(pe(418));for(;e;)ZO(t,e),e=ps(e.nextSibling)}if(ES(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jr=ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jr=null}}else Jr=ri?ps(t.stateNode.nextSibling):null;return!0}function ej(){for(var t=Jr;t;)t=ps(t.nextSibling)}function Ac(){Jr=ri=null,Kt=!1}function w8(t){qi===null?qi=[t]:qi.push(t)}var RW=I0.ReactCurrentBatchConfig;function sd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function ap(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kS(t){var e=t._init;return e(t._payload)}function tj(t){function e(v,b){if(t){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=vs(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,S){return b===null||b.tag!==6?(b=L5(w,v.mode,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,S){var E=w.type;return E===zl?u(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===G0&&kS(E)===b.type)?(S=i(b,w.props),S.ref=sd(v,b,w),S.return=v,S):(S=s3(w.type,w.key,w.props,null,v.mode,S),S.ref=sd(v,b,w),S.return=v,S)}function c(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=F5(w,v.mode,S),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function u(v,b,w,S,E){return b===null||b.tag!==7?(b=Oo(w,v.mode,S,E),b.return=v,b):(b=i(b,w),b.return=v,b)}function d(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=L5(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case K4:return w=s3(b.type,b.key,b.props,null,v.mode,w),w.ref=sd(v,null,b),w.return=v,w;case Bl:return b=F5(b,v.mode,w),b.return=v,b;case G0:var S=b._init;return d(v,S(b._payload),w)}if(Od(b)||td(b))return b=Oo(b,v.mode,w,null),b.return=v,b;ap(v,b)}return null}function h(v,b,w,S){var E=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:o(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case K4:return w.key===E?l(v,b,w,S):null;case Bl:return w.key===E?c(v,b,w,S):null;case G0:return E=w._init,h(v,b,E(w._payload),S)}if(Od(w)||td(w))return E!==null?null:u(v,b,w,S,null);ap(v,w)}return null}function p(v,b,w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,o(b,v,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case K4:return v=v.get(S.key===null?w:S.key)||null,l(b,v,S,E);case Bl:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,E);case G0:var P=S._init;return p(v,b,w,P(S._payload),E)}if(Od(S)||td(S))return v=v.get(w)||null,u(b,v,S,E,null);ap(b,S)}return null}function g(v,b,w,S){for(var E=null,P=null,_=b,k=b=0,N=null;_!==null&&k<w.length;k++){_.index>k?(N=_,_=null):N=_.sibling;var A=h(v,_,w[k],S);if(A===null){_===null&&(_=N);break}t&&_&&A.alternate===null&&e(v,_),b=a(A,b,k),P===null?E=A:P.sibling=A,P=A,_=N}if(k===w.length)return n(v,_),Kt&&uo(v,k),E;if(_===null){for(;k<w.length;k++)_=d(v,w[k],S),_!==null&&(b=a(_,b,k),P===null?E=_:P.sibling=_,P=_);return Kt&&uo(v,k),E}for(_=r(v,_);k<w.length;k++)N=p(_,v,k,w[k],S),N!==null&&(t&&N.alternate!==null&&_.delete(N.key===null?k:N.key),b=a(N,b,k),P===null?E=N:P.sibling=N,P=N);return t&&_.forEach(function(I){return e(v,I)}),Kt&&uo(v,k),E}function x(v,b,w,S){var E=td(w);if(typeof E!="function")throw Error(pe(150));if(w=E.call(w),w==null)throw Error(pe(151));for(var P=E=null,_=b,k=b=0,N=null,A=w.next();_!==null&&!A.done;k++,A=w.next()){_.index>k?(N=_,_=null):N=_.sibling;var I=h(v,_,A.value,S);if(I===null){_===null&&(_=N);break}t&&_&&I.alternate===null&&e(v,_),b=a(I,b,k),P===null?E=I:P.sibling=I,P=I,_=N}if(A.done)return n(v,_),Kt&&uo(v,k),E;if(_===null){for(;!A.done;k++,A=w.next())A=d(v,A.value,S),A!==null&&(b=a(A,b,k),P===null?E=A:P.sibling=A,P=A);return Kt&&uo(v,k),E}for(_=r(v,_);!A.done;k++,A=w.next())A=p(_,v,k,A.value,S),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?k:A.key),b=a(A,b,k),P===null?E=A:P.sibling=A,P=A);return t&&_.forEach(function(j){return e(v,j)}),Kt&&uo(v,k),E}function y(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===zl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case K4:e:{for(var E=w.key,P=b;P!==null;){if(P.key===E){if(E=w.type,E===zl){if(P.tag===7){n(v,P.sibling),b=i(P,w.props.children),b.return=v,v=b;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===G0&&kS(E)===P.type){n(v,P.sibling),b=i(P,w.props),b.ref=sd(v,P,w),b.return=v,v=b;break e}n(v,P);break}else e(v,P);P=P.sibling}w.type===zl?(b=Oo(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=s3(w.type,w.key,w.props,null,v.mode,S),S.ref=sd(v,b,w),S.return=v,v=S)}return s(v);case Bl:e:{for(P=w.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=F5(w,v.mode,S),b.return=v,v=b}return s(v);case G0:return P=w._init,y(v,b,P(w._payload),S)}if(Od(w))return g(v,b,w,S);if(td(w))return x(v,b,w,S);ap(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=L5(w,v.mode,S),b.return=v,v=b),s(v)):n(v,b)}return y}var Ic=tj(!0),nj=tj(!1),U3=Vs(null),B3=null,Xl=null,_8=null;function S8(){_8=Xl=B3=null}function E8(t){var e=U3.current;Ht(U3),t._currentValue=e}function Iy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fc(t,e){B3=t,_8=Xl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rr=!0),t.firstContext=null)}function Ii(t){var e=t._currentValue;if(_8!==t)if(t={context:t,memoizedValue:e,next:null},Xl===null){if(B3===null)throw Error(pe(308));Xl=t,B3.dependencies={lanes:0,firstContext:t}}else Xl=Xl.next=t;return e}var wo=null;function k8(t){wo===null?wo=[t]:wo.push(t)}function rj(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,k8(e)):(n.next=i.next,i.next=n),e.interleaved=n,v0(t,r)}function v0(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var K0=!1;function P8(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ij(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function u0(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ms(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,v0(t,n)}return i=r.interleaved,i===null?(e.next=e,k8(r)):(e.next=i.next,i.next=e),r.interleaved=e,v0(t,n)}function e3(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d8(t,n)}}function PS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function z3(t,e,n,r){var i=t.updateQueue;K0=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,u=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,x=o;switch(h=e,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=nn({},d,h);break e;case 2:K0=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);zo|=s,t.lanes=s,t.memoizedState=d}}function TS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var s4={},Ta=Vs(s4),Bf=Vs(s4),zf=Vs(s4);function _o(t){if(t===s4)throw Error(pe(174));return t}function T8(t,e){switch(Ft(zf,e),Ft(Bf,t),Ft(Ta,s4),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uy(e,t)}Ht(Ta),Ft(Ta,e)}function Cc(){Ht(Ta),Ht(Bf),Ht(zf)}function aj(t){_o(zf.current);var e=_o(Ta.current),n=uy(e,t.type);e!==n&&(Ft(Bf,t),Ft(Ta,n))}function N8(t){Bf.current===t&&(Ht(Ta),Ht(Bf))}var Xt=Vs(0);function q3(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var O5=[];function A8(){for(var t=0;t<O5.length;t++)O5[t]._workInProgressVersionPrimary=null;O5.length=0}var t3=I0.ReactCurrentDispatcher,j5=I0.ReactCurrentBatchConfig,Bo=0,tn=null,Tn=null,Dn=null,W3=!1,lf=!1,qf=0,MW=0;function Xn(){throw Error(pe(321))}function I8(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ia(t[n],e[n]))return!1;return!0}function C8(t,e,n,r,i,a){if(Bo=a,tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,t3.current=t===null||t.memoizedState===null?FW:VW,t=n(r,i),lf){a=0;do{if(lf=!1,qf=0,25<=a)throw Error(pe(301));a+=1,Dn=Tn=null,e.updateQueue=null,t3.current=UW,t=n(r,i)}while(lf)}if(t3.current=H3,e=Tn!==null&&Tn.next!==null,Bo=0,Dn=Tn=tn=null,W3=!1,e)throw Error(pe(300));return t}function O8(){var t=qf!==0;return qf=0,t}function fa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?tn.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function Ci(){if(Tn===null){var t=tn.alternate;t=t!==null?t.memoizedState:null}else t=Tn.next;var e=Dn===null?tn.memoizedState:Dn.next;if(e!==null)Dn=e,Tn=t;else{if(t===null)throw Error(pe(310));Tn=t,t={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},Dn===null?tn.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function Wf(t,e){return typeof e=="function"?e(t):e}function R5(t){var e=Ci(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=Tn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Bo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,tn.lanes|=u,zo|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ia(r,e.memoizedState)||(Rr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,tn.lanes|=a,zo|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function M5(t){var e=Ci(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ia(a,e.memoizedState)||(Rr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function sj(){}function oj(t,e){var n=tn,r=Ci(),i=e(),a=!ia(r.memoizedState,i);if(a&&(r.memoizedState=i,Rr=!0),r=r.queue,j8(uj.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,Hf(9,cj.bind(null,n,r,i,e),void 0,null),Ln===null)throw Error(pe(349));Bo&30||lj(n,e,i)}return i}function lj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cj(t,e,n,r){e.value=n,e.getSnapshot=r,dj(e)&&fj(t)}function uj(t,e,n){return n(function(){dj(e)&&fj(t)})}function dj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ia(t,n)}catch{return!0}}function fj(t){var e=v0(t,1);e!==null&&ea(e,t,1,-1)}function NS(t){var e=fa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:t},e.queue=t,t=t.dispatch=LW.bind(null,tn,t),[e.memoizedState,t]}function Hf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hj(){return Ci().memoizedState}function n3(t,e,n,r){var i=fa();tn.flags|=t,i.memoizedState=Hf(1|e,n,void 0,r===void 0?null:r)}function _g(t,e,n,r){var i=Ci();r=r===void 0?null:r;var a=void 0;if(Tn!==null){var s=Tn.memoizedState;if(a=s.destroy,r!==null&&I8(r,s.deps)){i.memoizedState=Hf(e,n,a,r);return}}tn.flags|=t,i.memoizedState=Hf(1|e,n,a,r)}function AS(t,e){return n3(8390656,8,t,e)}function j8(t,e){return _g(2048,8,t,e)}function pj(t,e){return _g(4,2,t,e)}function mj(t,e){return _g(4,4,t,e)}function gj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yj(t,e,n){return n=n!=null?n.concat([t]):null,_g(4,4,gj.bind(null,e,t),n)}function R8(){}function vj(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I8(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xj(t,e){var n=Ci();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I8(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bj(t,e,n){return Bo&21?(ia(n,e)||(n=kO(),tn.lanes|=n,zo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rr=!0),t.memoizedState=n)}function $W(t,e){var n=Nt;Nt=n!==0&&4>n?n:4,t(!0);var r=j5.transition;j5.transition={};try{t(!1),e()}finally{Nt=n,j5.transition=r}}function wj(){return Ci().memoizedState}function DW(t,e,n){var r=ys(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_j(t))Sj(e,n);else if(n=rj(t,e,n,r),n!==null){var i=wr();ea(n,t,r,i),Ej(n,e,r)}}function LW(t,e,n){var r=ys(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_j(t))Sj(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ia(o,s)){var l=e.interleaved;l===null?(i.next=i,k8(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=rj(t,e,i,r),n!==null&&(i=wr(),ea(n,t,r,i),Ej(n,e,r))}}function _j(t){var e=t.alternate;return t===tn||e!==null&&e===tn}function Sj(t,e){lf=W3=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ej(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d8(t,n)}}var H3={readContext:Ii,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},FW={readContext:Ii,useCallback:function(t,e){return fa().memoizedState=[t,e===void 0?null:e],t},useContext:Ii,useEffect:AS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,n3(4194308,4,gj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return n3(4194308,4,t,e)},useInsertionEffect:function(t,e){return n3(4,2,t,e)},useMemo:function(t,e){var n=fa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DW.bind(null,tn,t),[r.memoizedState,t]},useRef:function(t){var e=fa();return t={current:t},e.memoizedState=t},useState:NS,useDebugValue:R8,useDeferredValue:function(t){return fa().memoizedState=t},useTransition:function(){var t=NS(!1),e=t[0];return t=$W.bind(null,t[1]),fa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tn,i=fa();if(Kt){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),Ln===null)throw Error(pe(349));Bo&30||lj(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,AS(uj.bind(null,r,a,t),[t]),r.flags|=2048,Hf(9,cj.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=fa(),e=Ln.identifierPrefix;if(Kt){var n=n0,r=t0;n=(r&~(1<<32-Zi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VW={readContext:Ii,useCallback:vj,useContext:Ii,useEffect:j8,useImperativeHandle:yj,useInsertionEffect:pj,useLayoutEffect:mj,useMemo:xj,useReducer:R5,useRef:hj,useState:function(){return R5(Wf)},useDebugValue:R8,useDeferredValue:function(t){var e=Ci();return bj(e,Tn.memoizedState,t)},useTransition:function(){var t=R5(Wf)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:sj,useSyncExternalStore:oj,useId:wj,unstable_isNewReconciler:!1},UW={readContext:Ii,useCallback:vj,useContext:Ii,useEffect:j8,useImperativeHandle:yj,useInsertionEffect:pj,useLayoutEffect:mj,useMemo:xj,useReducer:M5,useRef:hj,useState:function(){return M5(Wf)},useDebugValue:R8,useDeferredValue:function(t){var e=Ci();return Tn===null?e.memoizedState=t:bj(e,Tn.memoizedState,t)},useTransition:function(){var t=M5(Wf)[0],e=Ci().memoizedState;return[t,e]},useMutableSource:sj,useSyncExternalStore:oj,useId:wj,unstable_isNewReconciler:!1};function Ui(t,e){if(t&&t.defaultProps){e=nn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sg={isMounted:function(t){return(t=t._reactInternals)?pl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wr(),i=ys(t),a=u0(r,i);a.payload=e,n!=null&&(a.callback=n),e=ms(t,a,i),e!==null&&(ea(e,t,i,r),e3(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wr(),i=ys(t),a=u0(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ms(t,a,i),e!==null&&(ea(e,t,i,r),e3(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wr(),r=ys(t),i=u0(n,r);i.tag=2,e!=null&&(i.callback=e),e=ms(t,i,r),e!==null&&(ea(e,t,r,n),e3(e,t,r))}};function IS(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Lf(n,r)||!Lf(i,a):!0}function kj(t,e,n){var r=!1,i=Is,a=e.contextType;return typeof a=="object"&&a!==null?a=Ii(a):(i=Lr(e)?Vo:or.current,r=e.contextTypes,a=(r=r!=null)?Nc(t,i):Is),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function CS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sg.enqueueReplaceState(e,e.state,null)}function Oy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},P8(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ii(a):(a=Lr(e)?Vo:or.current,i.context=Nc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Cy(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sg.enqueueReplaceState(i,i.state,null),z3(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oc(t,e){try{var n="",r=e;do n+=mq(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function $5(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BW=typeof WeakMap=="function"?WeakMap:Map;function Pj(t,e,n){n=u0(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){K3||(K3=!0,zy=r),jy(t,e)},n}function Tj(t,e,n){n=u0(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jy(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){jy(t,e),typeof r!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function OS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nH.bind(null,t,e,n),e.then(t,t))}function jS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function RS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=u0(-1,1),e.tag=2,ms(n,e,1))),n.lanes|=1),t)}var zW=I0.ReactCurrentOwner,Rr=!1;function dr(t,e,n,r){e.child=t===null?nj(e,null,n,r):Ic(e,t.child,n,r)}function MS(t,e,n,r,i){n=n.render;var a=e.ref;return fc(e,i),r=C8(t,e,n,r,a,i),n=O8(),t!==null&&!Rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,x0(t,e,i)):(Kt&&n&&x8(e),e.flags|=1,dr(t,e,r,i),e.child)}function $S(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!B8(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Nj(t,e,a,r,i)):(t=s3(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Lf,n(s,r)&&t.ref===e.ref)return x0(t,e,i)}return e.flags|=1,t=vs(a,r),t.ref=e.ref,t.return=e,e.child=t}function Nj(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Lf(a,r)&&t.ref===e.ref)if(Rr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Rr=!0);else return e.lanes=t.lanes,x0(t,e,i)}return Ry(t,e,n,r,i)}function Aj(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Zl,Gr),Gr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ft(Zl,Gr),Gr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ft(Zl,Gr),Gr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ft(Zl,Gr),Gr|=r;return dr(t,e,i,n),e.child}function Ij(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ry(t,e,n,r,i){var a=Lr(n)?Vo:or.current;return a=Nc(e,a),fc(e,i),n=C8(t,e,n,r,a,i),r=O8(),t!==null&&!Rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,x0(t,e,i)):(Kt&&r&&x8(e),e.flags|=1,dr(t,e,n,i),e.child)}function DS(t,e,n,r,i){if(Lr(n)){var a=!0;L3(e)}else a=!1;if(fc(e,i),e.stateNode===null)r3(t,e),kj(e,n,r),Oy(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ii(c):(c=Lr(n)?Vo:or.current,c=Nc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&CS(e,s,r,c),K0=!1;var h=e.memoizedState;s.state=h,z3(e,r,s,i),l=e.memoizedState,o!==r||h!==l||Dr.current||K0?(typeof u=="function"&&(Cy(e,n,u,r),l=e.memoizedState),(o=K0||IS(e,n,o,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ij(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ui(e.type,o),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ii(l):(l=Lr(n)?Vo:or.current,l=Nc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&CS(e,s,r,l),K0=!1,h=e.memoizedState,s.state=h,z3(e,r,s,i);var g=e.memoizedState;o!==d||h!==g||Dr.current||K0?(typeof p=="function"&&(Cy(e,n,p,r),g=e.memoizedState),(c=K0||IS(e,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return My(t,e,n,r,a,i)}function My(t,e,n,r,i,a){Ij(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&_S(e,n,!1),x0(t,e,a);r=e.stateNode,zW.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ic(e,t.child,null,a),e.child=Ic(e,null,o,a)):dr(t,e,o,a),e.memoizedState=r.state,i&&_S(e,n,!0),e.child}function Cj(t){var e=t.stateNode;e.pendingContext?wS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wS(t,e.context,!1),T8(t,e.containerInfo)}function LS(t,e,n,r,i){return Ac(),w8(i),e.flags|=256,dr(t,e,n,r),e.child}var $y={dehydrated:null,treeContext:null,retryLane:0};function Dy(t){return{baseLanes:t,cachePool:null,transitions:null}}function Oj(t,e,n){var r=e.pendingProps,i=Xt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ft(Xt,i&1),t===null)return Ay(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Pg(s,r,0,null),t=Oo(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Dy(n),e.memoizedState=$y,t):M8(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return qW(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=vs(o,a):(a=Oo(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?Dy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=$y,r}return a=t.child,t=a.sibling,r=vs(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function M8(t,e){return e=Pg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sp(t,e,n,r){return r!==null&&w8(r),Ic(e,t.child,null,n),t=M8(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qW(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=$5(Error(pe(422))),sp(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Pg({mode:"visible",children:r.children},i,0,null),a=Oo(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Ic(e,t.child,null,s),e.child.memoizedState=Dy(s),e.memoizedState=$y,a);if(!(e.mode&1))return sp(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(pe(419)),r=$5(a,r,void 0),sp(t,e,s,r)}if(o=(s&t.childLanes)!==0,Rr||o){if(r=Ln,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,v0(t,i),ea(r,t,i,-1))}return U8(),r=$5(Error(pe(421))),sp(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rH.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Jr=ps(i.nextSibling),ri=e,Kt=!0,qi=null,t!==null&&(yi[vi++]=t0,yi[vi++]=n0,yi[vi++]=Uo,t0=t.id,n0=t.overflow,Uo=e),e=M8(e,r.children),e.flags|=4096,e)}function FS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Iy(t.return,e,n)}function D5(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function jj(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(dr(t,e,r.children,n),r=Xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FS(t,n,e);else if(t.tag===19)FS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ft(Xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&q3(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),D5(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&q3(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}D5(e,!0,n,null,a);break;case"together":D5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function r3(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function x0(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=vs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WW(t,e,n){switch(e.tag){case 3:Cj(e),Ac();break;case 5:aj(e);break;case 1:Lr(e.type)&&L3(e);break;case 4:T8(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ft(U3,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ft(Xt,Xt.current&1),e.flags|=128,null):n&e.child.childLanes?Oj(t,e,n):(Ft(Xt,Xt.current&1),t=x0(t,e,n),t!==null?t.sibling:null);Ft(Xt,Xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jj(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ft(Xt,Xt.current),r)break;return null;case 22:case 23:return e.lanes=0,Aj(t,e,n)}return x0(t,e,n)}var Rj,Ly,Mj,$j;Rj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ly=function(){};Mj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_o(Ta.current);var a=null;switch(n){case"input":i=sy(t,i),r=sy(t,r),a=[];break;case"select":i=nn({},i,{value:void 0}),r=nn({},r,{value:void 0}),a=[];break;case"textarea":i=cy(t,i),r=cy(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$3)}dy(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Bt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};$j=function(t,e,n,r){n!==r&&(e.flags|=4)};function od(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HW(t,e,n){var r=e.pendingProps;switch(b8(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(e),null;case 1:return Lr(e.type)&&D3(),Jn(e),null;case 3:return r=e.stateNode,Cc(),Ht(Dr),Ht(or),A8(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ip(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qi!==null&&(Hy(qi),qi=null))),Ly(t,e),Jn(e),null;case 5:N8(e);var i=_o(zf.current);if(n=e.type,t!==null&&e.stateNode!=null)Mj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return Jn(e),null}if(t=_o(Ta.current),ip(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[ga]=e,r[Uf]=a,t=(e.mode&1)!==0,n){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(i=0;i<Rd.length;i++)Bt(Rd[i],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":K_(r,a),Bt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Bt("invalid",r);break;case"textarea":Y_(r,a),Bt("invalid",r)}dy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&rp(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&rp(r.textContent,o,t),i=["children",""+o]):Cf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Bt("scroll",r)}switch(n){case"input":Q4(r),Q_(r,a,!0);break;case"textarea":Q4(r),X_(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=$3)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ga]=e,t[Uf]=r,Rj(t,e,!1,!1),e.stateNode=t;e:{switch(s=fy(n,r),n){case"dialog":Bt("cancel",t),Bt("close",t),i=r;break;case"iframe":case"object":case"embed":Bt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rd.length;i++)Bt(Rd[i],t);i=r;break;case"source":Bt("error",t),i=r;break;case"img":case"image":case"link":Bt("error",t),Bt("load",t),i=r;break;case"details":Bt("toggle",t),i=r;break;case"input":K_(t,r),i=sy(t,r),Bt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nn({},r,{value:void 0}),Bt("invalid",t);break;case"textarea":Y_(t,r),i=cy(t,r),Bt("invalid",t);break;default:i=r}dy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?hO(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dO(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Of(t,l):typeof l=="number"&&Of(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Cf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Bt("scroll",t):l!=null&&a8(t,a,l,s))}switch(n){case"input":Q4(t),Q_(t,r,!1);break;case"textarea":Q4(t),X_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+As(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?lc(t,!!r.multiple,a,!1):r.defaultValue!=null&&lc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$3)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jn(e),null;case 6:if(t&&e.stateNode!=null)$j(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(n=_o(zf.current),_o(Ta.current),ip(e)){if(r=e.stateNode,n=e.memoizedProps,r[ga]=e,(a=r.nodeValue!==n)&&(t=ri,t!==null))switch(t.tag){case 3:rp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rp(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ga]=e,e.stateNode=r}return Jn(e),null;case 13:if(Ht(Xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kt&&Jr!==null&&e.mode&1&&!(e.flags&128))ej(),Ac(),e.flags|=98560,a=!1;else if(a=ip(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(pe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(pe(317));a[ga]=e}else Ac(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jn(e),a=!1}else qi!==null&&(Hy(qi),qi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xt.current&1?Nn===0&&(Nn=3):U8())),e.updateQueue!==null&&(e.flags|=4),Jn(e),null);case 4:return Cc(),Ly(t,e),t===null&&Ff(e.stateNode.containerInfo),Jn(e),null;case 10:return E8(e.type._context),Jn(e),null;case 17:return Lr(e.type)&&D3(),Jn(e),null;case 19:if(Ht(Xt),a=e.memoizedState,a===null)return Jn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)od(a,!1);else{if(Nn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=q3(t),s!==null){for(e.flags|=128,od(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ft(Xt,Xt.current&1|2),e.child}t=t.sibling}a.tail!==null&&pn()>jc&&(e.flags|=128,r=!0,od(a,!1),e.lanes=4194304)}else{if(!r)if(t=q3(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),od(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Kt)return Jn(e),null}else 2*pn()-a.renderingStartTime>jc&&n!==1073741824&&(e.flags|=128,r=!0,od(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=pn(),e.sibling=null,n=Xt.current,Ft(Xt,r?n&1|2:n&1),e):(Jn(e),null);case 22:case 23:return V8(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gr&1073741824&&(Jn(e),e.subtreeFlags&6&&(e.flags|=8192)):Jn(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function GW(t,e){switch(b8(e),e.tag){case 1:return Lr(e.type)&&D3(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cc(),Ht(Dr),Ht(or),A8(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return N8(e),null;case 13:if(Ht(Xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));Ac()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ht(Xt),null;case 4:return Cc(),null;case 10:return E8(e.type._context),null;case 22:case 23:return V8(),null;case 24:return null;default:return null}}var op=!1,nr=!1,KW=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Jl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){on(t,e,r)}else n.current=null}function Fy(t,e,n){try{n()}catch(r){on(t,e,r)}}var VS=!1;function QW(t,e){if(_y=j3,t=UO(),v8(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sy={focusedElem:t,selectionRange:n},j3=!1,Ne=e;Ne!==null;)if(e=Ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ne=t;else for(;Ne!==null;){e=Ne;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ui(e.type,x),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(S){on(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ne=t;break}Ne=e.return}return g=VS,VS=!1,g}function cf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Fy(e,n,a)}i=i.next}while(i!==r)}}function Eg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Dj(t){var e=t.alternate;e!==null&&(t.alternate=null,Dj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ga],delete e[Uf],delete e[Py],delete e[CW],delete e[OW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lj(t){return t.tag===5||t.tag===3||t.tag===4}function US(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$3));else if(r!==4&&(t=t.child,t!==null))for(Uy(t,e,n),t=t.sibling;t!==null;)Uy(t,e,n),t=t.sibling}function By(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(By(t,e,n),t=t.sibling;t!==null;)By(t,e,n),t=t.sibling}var zn=null,Bi=!1;function B0(t,e,n){for(n=n.child;n!==null;)Fj(t,e,n),n=n.sibling}function Fj(t,e,n){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(gg,n)}catch{}switch(n.tag){case 5:nr||Jl(n,e);case 6:var r=zn,i=Bi;zn=null,B0(t,e,n),zn=r,Bi=i,zn!==null&&(Bi?(t=zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zn.removeChild(n.stateNode));break;case 18:zn!==null&&(Bi?(t=zn,n=n.stateNode,t.nodeType===8?I5(t.parentNode,n):t.nodeType===1&&I5(t,n),$f(t)):I5(zn,n.stateNode));break;case 4:r=zn,i=Bi,zn=n.stateNode.containerInfo,Bi=!0,B0(t,e,n),zn=r,Bi=i;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Fy(n,e,s),i=i.next}while(i!==r)}B0(t,e,n);break;case 1:if(!nr&&(Jl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){on(n,e,o)}B0(t,e,n);break;case 21:B0(t,e,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,B0(t,e,n),nr=r):B0(t,e,n);break;default:B0(t,e,n)}}function BS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KW),e.forEach(function(r){var i=iH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:zn=o.stateNode,Bi=!1;break e;case 3:zn=o.stateNode.containerInfo,Bi=!0;break e;case 4:zn=o.stateNode.containerInfo,Bi=!0;break e}o=o.return}if(zn===null)throw Error(pe(160));Fj(a,s,i),zn=null,Bi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){on(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vj(e,t),e=e.sibling}function Vj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fi(e,t),da(t),r&4){try{cf(3,t,t.return),Eg(3,t)}catch(x){on(t,t.return,x)}try{cf(5,t,t.return)}catch(x){on(t,t.return,x)}}break;case 1:Fi(e,t),da(t),r&512&&n!==null&&Jl(n,n.return);break;case 5:if(Fi(e,t),da(t),r&512&&n!==null&&Jl(n,n.return),t.flags&32){var i=t.stateNode;try{Of(i,"")}catch(x){on(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&lO(i,a),fy(o,s);var c=fy(o,a);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?hO(i,d):u==="dangerouslySetInnerHTML"?dO(i,d):u==="children"?Of(i,d):a8(i,u,d,c)}switch(o){case"input":oy(i,a);break;case"textarea":cO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?lc(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?lc(i,!!a.multiple,a.defaultValue,!0):lc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Uf]=a}catch(x){on(t,t.return,x)}}break;case 6:if(Fi(e,t),da(t),r&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){on(t,t.return,x)}}break;case 3:if(Fi(e,t),da(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$f(e.containerInfo)}catch(x){on(t,t.return,x)}break;case 4:Fi(e,t),da(t);break;case 13:Fi(e,t),da(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(L8=pn())),r&4&&BS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(nr=(c=nr)||u,Fi(e,t),nr=c):Fi(e,t),da(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ne=t,u=t.child;u!==null;){for(d=Ne=u;Ne!==null;){switch(h=Ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:cf(4,h,h.return);break;case 1:Jl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){on(r,n,x)}}break;case 5:Jl(h,h.return);break;case 22:if(h.memoizedState!==null){qS(d);continue}}p!==null?(p.return=h,Ne=p):qS(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=fO("display",s))}catch(x){on(t,t.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){on(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fi(e,t),da(t),r&4&&BS(t);break;case 21:break;default:Fi(e,t),da(t)}}function da(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Lj(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Of(i,""),r.flags&=-33);var a=US(t);By(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=US(t);Uy(t,o,s);break;default:throw Error(pe(161))}}catch(l){on(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YW(t,e,n){Ne=t,Uj(t)}function Uj(t,e,n){for(var r=(t.mode&1)!==0;Ne!==null;){var i=Ne,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||op;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||nr;o=op;var c=nr;if(op=s,(nr=l)&&!c)for(Ne=i;Ne!==null;)s=Ne,l=s.child,s.tag===22&&s.memoizedState!==null?WS(i):l!==null?(l.return=s,Ne=l):WS(i);for(;a!==null;)Ne=a,Uj(a),a=a.sibling;Ne=i,op=o,nr=c}zS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ne=a):zS(t)}}function zS(t){for(;Ne!==null;){var e=Ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nr||Eg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ui(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&TS(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}TS(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&$f(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}nr||e.flags&512&&Vy(e)}catch(h){on(e,e.return,h)}}if(e===t){Ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function qS(t){for(;Ne!==null;){var e=Ne;if(e===t){Ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ne=n;break}Ne=e.return}}function WS(t){for(;Ne!==null;){var e=Ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Eg(4,e)}catch(l){on(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){on(e,i,l)}}var a=e.return;try{Vy(e)}catch(l){on(e,a,l)}break;case 5:var s=e.return;try{Vy(e)}catch(l){on(e,s,l)}}}catch(l){on(e,e.return,l)}if(e===t){Ne=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ne=o;break}Ne=e.return}}var XW=Math.ceil,G3=I0.ReactCurrentDispatcher,$8=I0.ReactCurrentOwner,Pi=I0.ReactCurrentBatchConfig,gt=0,Ln=null,bn=null,Kn=0,Gr=0,Zl=Vs(0),Nn=0,Gf=null,zo=0,kg=0,D8=0,uf=null,Ir=null,L8=0,jc=1/0,Ga=null,K3=!1,zy=null,gs=null,lp=!1,ss=null,Q3=0,df=0,qy=null,i3=-1,a3=0;function wr(){return gt&6?pn():i3!==-1?i3:i3=pn()}function ys(t){return t.mode&1?gt&2&&Kn!==0?Kn&-Kn:RW.transition!==null?(a3===0&&(a3=kO()),a3):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:OO(t.type)),t):1}function ea(t,e,n,r){if(50<df)throw df=0,qy=null,Error(pe(185));r4(t,n,r),(!(gt&2)||t!==Ln)&&(t===Ln&&(!(gt&2)&&(kg|=n),Nn===4&&Z0(t,Kn)),Fr(t,r),n===1&&gt===0&&!(e.mode&1)&&(jc=pn()+500,wg&&Us()))}function Fr(t,e){var n=t.callbackNode;Rq(t,e);var r=O3(t,t===Ln?Kn:0);if(r===0)n!==null&&eS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&eS(n),e===1)t.tag===0?jW(HS.bind(null,t)):XO(HS.bind(null,t)),AW(function(){!(gt&6)&&Us()}),n=null;else{switch(PO(r)){case 1:n=u8;break;case 4:n=SO;break;case 16:n=C3;break;case 536870912:n=EO;break;default:n=C3}n=Qj(n,Bj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Bj(t,e){if(i3=-1,a3=0,gt&6)throw Error(pe(327));var n=t.callbackNode;if(hc()&&t.callbackNode!==n)return null;var r=O3(t,t===Ln?Kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Y3(t,r);else{e=r;var i=gt;gt|=2;var a=qj();(Ln!==t||Kn!==e)&&(Ga=null,jc=pn()+500,Co(t,e));do try{eH();break}catch(o){zj(t,o)}while(!0);S8(),G3.current=a,gt=i,bn!==null?e=0:(Ln=null,Kn=0,e=Nn)}if(e!==0){if(e===2&&(i=yy(t),i!==0&&(r=i,e=Wy(t,i))),e===1)throw n=Gf,Co(t,0),Z0(t,r),Fr(t,pn()),n;if(e===6)Z0(t,r);else{if(i=t.current.alternate,!(r&30)&&!JW(i)&&(e=Y3(t,r),e===2&&(a=yy(t),a!==0&&(r=a,e=Wy(t,a))),e===1))throw n=Gf,Co(t,0),Z0(t,r),Fr(t,pn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:fo(t,Ir,Ga);break;case 3:if(Z0(t,r),(r&130023424)===r&&(e=L8+500-pn(),10<e)){if(O3(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ky(fo.bind(null,t,Ir,Ga),e);break}fo(t,Ir,Ga);break;case 4:if(Z0(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Zi(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XW(r/1960))-r,10<r){t.timeoutHandle=ky(fo.bind(null,t,Ir,Ga),r);break}fo(t,Ir,Ga);break;case 5:fo(t,Ir,Ga);break;default:throw Error(pe(329))}}}return Fr(t,pn()),t.callbackNode===n?Bj.bind(null,t):null}function Wy(t,e){var n=uf;return t.current.memoizedState.isDehydrated&&(Co(t,e).flags|=256),t=Y3(t,e),t!==2&&(e=Ir,Ir=n,e!==null&&Hy(e)),t}function Hy(t){Ir===null?Ir=t:Ir.push.apply(Ir,t)}function JW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ia(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Z0(t,e){for(e&=~D8,e&=~kg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zi(e),r=1<<n;t[n]=-1,e&=~r}}function HS(t){if(gt&6)throw Error(pe(327));hc();var e=O3(t,0);if(!(e&1))return Fr(t,pn()),null;var n=Y3(t,e);if(t.tag!==0&&n===2){var r=yy(t);r!==0&&(e=r,n=Wy(t,r))}if(n===1)throw n=Gf,Co(t,0),Z0(t,e),Fr(t,pn()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fo(t,Ir,Ga),Fr(t,pn()),null}function F8(t,e){var n=gt;gt|=1;try{return t(e)}finally{gt=n,gt===0&&(jc=pn()+500,wg&&Us())}}function qo(t){ss!==null&&ss.tag===0&&!(gt&6)&&hc();var e=gt;gt|=1;var n=Pi.transition,r=Nt;try{if(Pi.transition=null,Nt=1,t)return t()}finally{Nt=r,Pi.transition=n,gt=e,!(gt&6)&&Us()}}function V8(){Gr=Zl.current,Ht(Zl)}function Co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NW(n)),bn!==null)for(n=bn.return;n!==null;){var r=n;switch(b8(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&D3();break;case 3:Cc(),Ht(Dr),Ht(or),A8();break;case 5:N8(r);break;case 4:Cc();break;case 13:Ht(Xt);break;case 19:Ht(Xt);break;case 10:E8(r.type._context);break;case 22:case 23:V8()}n=n.return}if(Ln=t,bn=t=vs(t.current,null),Kn=Gr=e,Nn=0,Gf=null,D8=kg=zo=0,Ir=uf=null,wo!==null){for(e=0;e<wo.length;e++)if(n=wo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}wo=null}return t}function zj(t,e){do{var n=bn;try{if(S8(),t3.current=H3,W3){for(var r=tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}W3=!1}if(Bo=0,Dn=Tn=tn=null,lf=!1,qf=0,$8.current=null,n===null||n.return===null){Nn=1,Gf=e,bn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Kn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=jS(s);if(p!==null){p.flags&=-257,RS(p,s,o,a,e),p.mode&1&&OS(a,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){OS(a,c,e),U8();break e}l=Error(pe(426))}}else if(Kt&&o.mode&1){var y=jS(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),RS(y,s,o,a,e),w8(Oc(l,o));break e}}a=l=Oc(l,o),Nn!==4&&(Nn=2),uf===null?uf=[a]:uf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=Pj(a,l,e);PS(a,v);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gs===null||!gs.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=Tj(a,o,e);PS(a,S);break e}}a=a.return}while(a!==null)}Hj(n)}catch(E){e=E,bn===n&&n!==null&&(bn=n=n.return);continue}break}while(!0)}function qj(){var t=G3.current;return G3.current=H3,t===null?H3:t}function U8(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Ln===null||!(zo&268435455)&&!(kg&268435455)||Z0(Ln,Kn)}function Y3(t,e){var n=gt;gt|=2;var r=qj();(Ln!==t||Kn!==e)&&(Ga=null,Co(t,e));do try{ZW();break}catch(i){zj(t,i)}while(!0);if(S8(),gt=n,G3.current=r,bn!==null)throw Error(pe(261));return Ln=null,Kn=0,Nn}function ZW(){for(;bn!==null;)Wj(bn)}function eH(){for(;bn!==null&&!kq();)Wj(bn)}function Wj(t){var e=Kj(t.alternate,t,Gr);t.memoizedProps=t.pendingProps,e===null?Hj(t):bn=e,$8.current=null}function Hj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GW(n,e),n!==null){n.flags&=32767,bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nn=6,bn=null;return}}else if(n=HW(n,e,Gr),n!==null){bn=n;return}if(e=e.sibling,e!==null){bn=e;return}bn=e=t}while(e!==null);Nn===0&&(Nn=5)}function fo(t,e,n){var r=Nt,i=Pi.transition;try{Pi.transition=null,Nt=1,tH(t,e,n,r)}finally{Pi.transition=i,Nt=r}return null}function tH(t,e,n,r){do hc();while(ss!==null);if(gt&6)throw Error(pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Mq(t,a),t===Ln&&(bn=Ln=null,Kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lp||(lp=!0,Qj(C3,function(){return hc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Pi.transition,Pi.transition=null;var s=Nt;Nt=1;var o=gt;gt|=4,$8.current=null,QW(t,n),Vj(n,t),wW(Sy),j3=!!_y,Sy=_y=null,t.current=n,YW(n),Pq(),gt=o,Nt=s,Pi.transition=a}else t.current=n;if(lp&&(lp=!1,ss=t,Q3=i),a=t.pendingLanes,a===0&&(gs=null),Aq(n.stateNode),Fr(t,pn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(K3)throw K3=!1,t=zy,zy=null,t;return Q3&1&&t.tag!==0&&hc(),a=t.pendingLanes,a&1?t===qy?df++:(df=0,qy=t):df=0,Us(),null}function hc(){if(ss!==null){var t=PO(Q3),e=Pi.transition,n=Nt;try{if(Pi.transition=null,Nt=16>t?16:t,ss===null)var r=!1;else{if(t=ss,ss=null,Q3=0,gt&6)throw Error(pe(331));var i=gt;for(gt|=4,Ne=t.current;Ne!==null;){var a=Ne,s=a.child;if(Ne.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ne=c;Ne!==null;){var u=Ne;switch(u.tag){case 0:case 11:case 15:cf(8,u,a)}var d=u.child;if(d!==null)d.return=u,Ne=d;else for(;Ne!==null;){u=Ne;var h=u.sibling,p=u.return;if(Dj(u),u===c){Ne=null;break}if(h!==null){h.return=p,Ne=h;break}Ne=p}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Ne=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ne=s;else e:for(;Ne!==null;){if(a=Ne,a.flags&2048)switch(a.tag){case 0:case 11:case 15:cf(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Ne=v;break e}Ne=a.return}}var b=t.current;for(Ne=b;Ne!==null;){s=Ne;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ne=w;else e:for(s=b;Ne!==null;){if(o=Ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Eg(9,o)}}catch(E){on(o,o.return,E)}if(o===s){Ne=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Ne=S;break e}Ne=o.return}}if(gt=i,Us(),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(gg,t)}catch{}r=!0}return r}finally{Nt=n,Pi.transition=e}}return!1}function GS(t,e,n){e=Oc(n,e),e=Pj(t,e,1),t=ms(t,e,1),e=wr(),t!==null&&(r4(t,1,e),Fr(t,e))}function on(t,e,n){if(t.tag===3)GS(t,t,n);else for(;e!==null;){if(e.tag===3){GS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gs===null||!gs.has(r))){t=Oc(n,t),t=Tj(e,t,1),e=ms(e,t,1),t=wr(),e!==null&&(r4(e,1,t),Fr(e,t));break}}e=e.return}}function nH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wr(),t.pingedLanes|=t.suspendedLanes&n,Ln===t&&(Kn&n)===n&&(Nn===4||Nn===3&&(Kn&130023424)===Kn&&500>pn()-L8?Co(t,0):D8|=n),Fr(t,e)}function Gj(t,e){e===0&&(t.mode&1?(e=J4,J4<<=1,!(J4&130023424)&&(J4=4194304)):e=1);var n=wr();t=v0(t,e),t!==null&&(r4(t,e,n),Fr(t,n))}function rH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gj(t,n)}function iH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),Gj(t,n)}var Kj;Kj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dr.current)Rr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rr=!1,WW(t,e,n);Rr=!!(t.flags&131072)}else Rr=!1,Kt&&e.flags&1048576&&JO(e,V3,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;r3(t,e),t=e.pendingProps;var i=Nc(e,or.current);fc(e,n),i=C8(null,e,r,t,i,n);var a=O8();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lr(r)?(a=!0,L3(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,P8(e),i.updater=Sg,e.stateNode=i,i._reactInternals=e,Oy(e,r,t,n),e=My(null,e,r,!0,a,n)):(e.tag=0,Kt&&a&&x8(e),dr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(r3(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sH(r),t=Ui(r,t),i){case 0:e=Ry(null,e,r,t,n);break e;case 1:e=DS(null,e,r,t,n);break e;case 11:e=MS(null,e,r,t,n);break e;case 14:e=$S(null,e,r,Ui(r.type,t),n);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ui(r,i),Ry(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ui(r,i),DS(t,e,r,i,n);case 3:e:{if(Cj(e),t===null)throw Error(pe(387));r=e.pendingProps,a=e.memoizedState,i=a.element,ij(t,e),z3(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Oc(Error(pe(423)),e),e=LS(t,e,r,n,i);break e}else if(r!==i){i=Oc(Error(pe(424)),e),e=LS(t,e,r,n,i);break e}else for(Jr=ps(e.stateNode.containerInfo.firstChild),ri=e,Kt=!0,qi=null,n=nj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ac(),r===i){e=x0(t,e,n);break e}dr(t,e,r,n)}e=e.child}return e;case 5:return aj(e),t===null&&Ay(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Ey(r,i)?s=null:a!==null&&Ey(r,a)&&(e.flags|=32),Ij(t,e),dr(t,e,s,n),e.child;case 6:return t===null&&Ay(e),null;case 13:return Oj(t,e,n);case 4:return T8(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ic(e,null,r,n):dr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ui(r,i),MS(t,e,r,i,n);case 7:return dr(t,e,e.pendingProps,n),e.child;case 8:return dr(t,e,e.pendingProps.children,n),e.child;case 12:return dr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ft(U3,r._currentValue),r._currentValue=s,a!==null)if(ia(a.value,s)){if(a.children===i.children&&!Dr.current){e=x0(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=u0(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Iy(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(pe(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Iy(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}dr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fc(e,n),i=Ii(i),r=r(i),e.flags|=1,dr(t,e,r,n),e.child;case 14:return r=e.type,i=Ui(r,e.pendingProps),i=Ui(r.type,i),$S(t,e,r,i,n);case 15:return Nj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ui(r,i),r3(t,e),e.tag=1,Lr(r)?(t=!0,L3(e)):t=!1,fc(e,n),kj(e,r,i),Oy(e,r,i,n),My(null,e,r,!0,t,n);case 19:return jj(t,e,n);case 22:return Aj(t,e,n)}throw Error(pe(156,e.tag))};function Qj(t,e){return _O(t,e)}function aH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(t,e,n,r){return new aH(t,e,n,r)}function B8(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sH(t){if(typeof t=="function")return B8(t)?1:0;if(t!=null){if(t=t.$$typeof,t===o8)return 11;if(t===l8)return 14}return 2}function vs(t,e){var n=t.alternate;return n===null?(n=Si(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function s3(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")B8(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case zl:return Oo(n.children,i,a,e);case s8:s=8,i|=8;break;case ny:return t=Si(12,n,e,i|2),t.elementType=ny,t.lanes=a,t;case ry:return t=Si(13,n,e,i),t.elementType=ry,t.lanes=a,t;case iy:return t=Si(19,n,e,i),t.elementType=iy,t.lanes=a,t;case aO:return Pg(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rO:s=10;break e;case iO:s=9;break e;case o8:s=11;break e;case l8:s=14;break e;case G0:s=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=Si(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Oo(t,e,n,r){return t=Si(7,t,r,e),t.lanes=n,t}function Pg(t,e,n,r){return t=Si(22,t,r,e),t.elementType=aO,t.lanes=n,t.stateNode={isHidden:!1},t}function L5(t,e,n){return t=Si(6,t,null,e),t.lanes=n,t}function F5(t,e,n){return e=Si(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x5(0),this.expirationTimes=x5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x5(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z8(t,e,n,r,i,a,s,o,l){return t=new oH(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Si(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},P8(a),t}function lH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Yj(t){if(!t)return Is;t=t._reactInternals;e:{if(pl(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(Lr(n))return YO(t,n,e)}return e}function Xj(t,e,n,r,i,a,s,o,l){return t=z8(n,r,!0,t,i,a,s,o,l),t.context=Yj(null),n=t.current,r=wr(),i=ys(n),a=u0(r,i),a.callback=e??null,ms(n,a,i),t.current.lanes=i,r4(t,i,r),Fr(t,r),t}function Tg(t,e,n,r){var i=e.current,a=wr(),s=ys(i);return n=Yj(n),e.context===null?e.context=n:e.pendingContext=n,e=u0(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ms(i,e,s),t!==null&&(ea(t,i,s,a),e3(t,i,s)),s}function X3(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function KS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function q8(t,e){KS(t,e),(t=t.alternate)&&KS(t,e)}function cH(){return null}var Jj=typeof reportError=="function"?reportError:function(t){console.error(t)};function W8(t){this._internalRoot=t}Ng.prototype.render=W8.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));Tg(t,e,null,null)};Ng.prototype.unmount=W8.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qo(function(){Tg(null,t,null,null)}),e[y0]=null}};function Ng(t){this._internalRoot=t}Ng.prototype.unstable_scheduleHydration=function(t){if(t){var e=AO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<J0.length&&e!==0&&e<J0[n].priority;n++);J0.splice(n,0,t),n===0&&CO(t)}};function H8(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function QS(){}function uH(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=X3(s);a.call(c)}}var s=Xj(e,r,t,0,null,!1,!1,"",QS);return t._reactRootContainer=s,t[y0]=s.current,Ff(t.nodeType===8?t.parentNode:t),qo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=X3(l);o.call(c)}}var l=z8(t,0,!1,null,null,!1,!1,"",QS);return t._reactRootContainer=l,t[y0]=l.current,Ff(t.nodeType===8?t.parentNode:t),qo(function(){Tg(e,l,n,r)}),l}function Ig(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=X3(s);o.call(l)}}Tg(e,s,t,i)}else s=uH(n,e,t,i,r);return X3(s)}TO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jd(e.pendingLanes);n!==0&&(d8(e,n|1),Fr(e,pn()),!(gt&6)&&(jc=pn()+500,Us()))}break;case 13:qo(function(){var r=v0(t,1);if(r!==null){var i=wr();ea(r,t,1,i)}}),q8(t,1)}};f8=function(t){if(t.tag===13){var e=v0(t,134217728);if(e!==null){var n=wr();ea(e,t,134217728,n)}q8(t,134217728)}};NO=function(t){if(t.tag===13){var e=ys(t),n=v0(t,e);if(n!==null){var r=wr();ea(n,t,e,r)}q8(t,e)}};AO=function(){return Nt};IO=function(t,e){var n=Nt;try{return Nt=t,e()}finally{Nt=n}};py=function(t,e,n){switch(e){case"input":if(oy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bg(r);if(!i)throw Error(pe(90));oO(r),oy(r,i)}}}break;case"textarea":cO(t,n);break;case"select":e=n.value,e!=null&&lc(t,!!n.multiple,e,!1)}};gO=F8;yO=qo;var dH={usingClientEntryPoint:!1,Events:[a4,Gl,bg,pO,mO,F8]},ld={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fH={bundleType:ld.bundleType,version:ld.version,rendererPackageName:ld.rendererPackageName,rendererConfig:ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I0.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bO(t),t===null?null:t.stateNode},findFiberByHostInstance:ld.findFiberByHostInstance||cH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{gg=cp.inject(fH),Pa=cp}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dH;ui.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!H8(e))throw Error(pe(200));return lH(t,e,null,n)};ui.createRoot=function(t,e){if(!H8(t))throw Error(pe(299));var n=!1,r="",i=Jj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=z8(t,1,!1,null,null,n,!1,r,i),t[y0]=e.current,Ff(t.nodeType===8?t.parentNode:t),new W8(e)};ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=bO(e),t=t===null?null:t.stateNode,t};ui.flushSync=function(t){return qo(t)};ui.hydrate=function(t,e,n){if(!Ag(e))throw Error(pe(200));return Ig(null,t,e,!0,n)};ui.hydrateRoot=function(t,e,n){if(!H8(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=Jj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Xj(e,null,t,1,n??null,i,!1,a,s),t[y0]=e.current,Ff(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ng(e)};ui.render=function(t,e,n){if(!Ag(e))throw Error(pe(200));return Ig(null,t,e,!1,n)};ui.unmountComponentAtNode=function(t){if(!Ag(t))throw Error(pe(40));return t._reactRootContainer?(qo(function(){Ig(null,null,t,!1,function(){t._reactRootContainer=null,t[y0]=null})}),!0):!1};ui.unstable_batchedUpdates=F8;ui.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ag(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Ig(t,e,n,!1,r)};ui.version="18.3.1-next-f1338f8080-20240426";function Zj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zj)}catch(t){console.error(t)}}Zj(),ZC.exports=ui;var hH=ZC.exports,YS=hH;ey.createRoot=YS.createRoot,ey.hydrateRoot=YS.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kf.apply(this,arguments)}var os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(os||(os={}));const XS="popstate";function pH(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Gy("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:J3(i)}return gH(e,n,null,t)}function gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function G8(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mH(){return Math.random().toString(36).substr(2,8)}function JS(t,e){return{usr:t.state,key:t.key,idx:e}}function Gy(t,e,n,r){return n===void 0&&(n=null),Kf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bu(e):e,{state:n,key:e&&e.key||r||mH()})}function J3(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gH(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=os.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Kf({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=os.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:o,location:x.location,delta:v})}function h(y,v){o=os.Push;let b=Gy(x.location,y,v);c=u()+1;let w=JS(b,c),S=x.createHref(b);try{s.pushState(w,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}a&&l&&l({action:o,location:x.location,delta:1})}function p(y,v){o=os.Replace;let b=Gy(x.location,y,v);c=u();let w=JS(b,c),S=x.createHref(b);s.replaceState(w,"",S),a&&l&&l({action:o,location:x.location,delta:0})}function g(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:J3(y);return b=b.replace(/ $/,"%20"),gn(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let x={get action(){return o},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(XS,d),l=y,()=>{i.removeEventListener(XS,d),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return s.go(y)}};return x}var ZS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ZS||(ZS={}));function yH(t,e,n){return n===void 0&&(n="/"),vH(t,e,n)}function vH(t,e,n,r){let i=typeof e=="string"?bu(e):e,a=K8(i.pathname||"/",n);if(a==null)return null;let s=eR(t);xH(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=CH(a);o=NH(s[l],c)}return o}function eR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(gn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=xs([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(gn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),eR(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:PH(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of tR(a.path))i(a,s,l)}),e}function tR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=tR(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function xH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bH=/^:[\w-]+$/,wH=3,_H=2,SH=1,EH=10,kH=-2,eE=t=>t==="*";function PH(t,e){let n=t.split("/"),r=n.length;return n.some(eE)&&(r+=kH),e&&(r+=_H),n.filter(i=>!eE(i)).reduce((i,a)=>i+(bH.test(a)?wH:a===""?SH:EH),r)}function TH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function NH(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=AH({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:xs([a,d.pathname]),pathnameBase:$H(xs([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=xs([a,d.pathnameBase]))}return s}function AH(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let x=o[d]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function IH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),G8(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return G8(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function K8(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const OH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jH=t=>OH.test(t);function RH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bu(t):t,a;if(n)if(jH(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),G8(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=tE(n.substring(1),"/"):a=tE(n,e)}else a=e;return{pathname:a,search:DH(r),hash:LH(i)}}function tE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function V5(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Q8(t,e){let n=MH(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Y8(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bu(t):(i=Kf({},t),gn(!i.pathname||!i.pathname.includes("?"),V5("?","pathname","search",i)),gn(!i.pathname||!i.pathname.includes("#"),V5("#","pathname","hash",i)),gn(!i.search||!i.search.includes("#"),V5("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=RH(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const xs=t=>t.join("/").replace(/\/\/+/g,"/"),$H=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nR=["post","put","patch","delete"];new Set(nR);const VH=["get",...nR];new Set(VH);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qf.apply(this,arguments)}const X8=R.createContext(null),UH=R.createContext(null),Bs=R.createContext(null),Cg=R.createContext(null),C0=R.createContext({outlet:null,matches:[],isDataRoute:!1}),rR=R.createContext(null);function BH(t,e){let{relative:n}=e===void 0?{}:e;wu()||gn(!1);let{basename:r,navigator:i}=R.useContext(Bs),{hash:a,pathname:s,search:o}=aR(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:xs([r,s])),i.createHref({pathname:l,search:o,hash:a})}function wu(){return R.useContext(Cg)!=null}function O0(){return wu()||gn(!1),R.useContext(Cg).location}function iR(t){R.useContext(Bs).static||R.useLayoutEffect(t)}function o4(){let{isDataRoute:t}=R.useContext(C0);return t?rG():zH()}function zH(){wu()||gn(!1);let t=R.useContext(X8),{basename:e,future:n,navigator:r}=R.useContext(Bs),{matches:i}=R.useContext(C0),{pathname:a}=O0(),s=JSON.stringify(Q8(i,n.v7_relativeSplatPath)),o=R.useRef(!1);return iR(()=>{o.current=!0}),R.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=Y8(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:xs([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,a,t])}const qH=R.createContext(null);function WH(t){let e=R.useContext(C0).outlet;return e&&R.createElement(qH.Provider,{value:t},e)}function aR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Bs),{matches:i}=R.useContext(C0),{pathname:a}=O0(),s=JSON.stringify(Q8(i,r.v7_relativeSplatPath));return R.useMemo(()=>Y8(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function HH(t,e){return GH(t,e)}function GH(t,e,n,r){wu()||gn(!1);let{navigator:i}=R.useContext(Bs),{matches:a}=R.useContext(C0),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=O0(),u;if(e){var d;let y=typeof e=="string"?bu(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||gn(!1),u=y}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=yH(t,{pathname:p}),x=JH(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:xs([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:xs([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&x?R.createElement(Cg.Provider,{value:{location:Qf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:os.Pop}},x):x}function KH(){let t=nG(),e=FH(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const QH=R.createElement(KH,null);class YH extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(C0.Provider,{value:this.props.routeContext},R.createElement(rR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XH(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(X8);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(C0.Provider,{value:e},r)}function JH(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||gn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,g=!1,x=null,y=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||QH,l&&(c<0&&h===0?(iG("route-fallback"),g=!0,y=null):c===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=x:g?w=y:d.route.Component?w=R.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,R.createElement(XH,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?R.createElement(YH,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var sR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sR||{}),oR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oR||{});function ZH(t){let e=R.useContext(X8);return e||gn(!1),e}function eG(t){let e=R.useContext(UH);return e||gn(!1),e}function tG(t){let e=R.useContext(C0);return e||gn(!1),e}function lR(t){let e=tG(),n=e.matches[e.matches.length-1];return n.route.id||gn(!1),n.route.id}function nG(){var t;let e=R.useContext(rR),n=eG(),r=lR();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rG(){let{router:t}=ZH(sR.UseNavigateStable),e=lR(oR.UseNavigateStable),n=R.useRef(!1);return iR(()=>{n.current=!0}),R.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qf({fromRouteId:e},a)))},[t,e])}const nE={};function iG(t,e,n){nE[t]||(nE[t]=!0)}function aG(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Og(t){let{to:e,replace:n,state:r,relative:i}=t;wu()||gn(!1);let{future:a,static:s}=R.useContext(Bs),{matches:o}=R.useContext(C0),{pathname:l}=O0(),c=o4(),u=Y8(e,Q8(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return R.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function J8(t){return WH(t.context)}function mi(t){gn(!1)}function sG(t){let{basename:e="/",children:n=null,location:r,navigationType:i=os.Pop,navigator:a,static:s=!1,future:o}=t;wu()&&gn(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:a,static:s,future:Qf({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=bu(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,x=R.useMemo(()=>{let y=K8(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:g},navigationType:i}},[l,u,d,h,p,g,i]);return x==null?null:R.createElement(Bs.Provider,{value:c},R.createElement(Cg.Provider,{children:n,value:x}))}function oG(t){let{children:e,location:n}=t;return HH(Ky(e),n)}new Promise(()=>{});function Ky(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Ky(r.props.children,a));return}r.type!==mi&&gn(!1),!r.props.index||!r.props.children||gn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ky(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qy.apply(this,arguments)}function lG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uG(t,e){return t.button===0&&(!e||e==="_self")&&!cG(t)}function Yy(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function dG(t,e){let n=Yy(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const fG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hG="6";try{window.__reactRouterVersion=hG}catch{}const pG="startTransition",rE=nq[pG];function mG(t){let{basename:e,children:n,future:r,window:i}=t,a=R.useRef();a.current==null&&(a.current=pH({window:i,v5Compat:!0}));let s=a.current,[o,l]=R.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=R.useCallback(d=>{c&&rE?rE(()=>l(d)):l(d)},[l,c]);return R.useLayoutEffect(()=>s.listen(u),[s,u]),R.useEffect(()=>aG(r),[r]),R.createElement(sG,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const gG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vG=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=lG(e,fG),{basename:p}=R.useContext(Bs),g,x=!1;if(typeof c=="string"&&yG.test(c)&&(g=c,gG))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),E=K8(S.pathname,p);S.origin===w.origin&&E!=null?c=E+S.search+S.hash:x=!0}catch{}let y=BH(c,{relative:i}),v=xG(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(w){r&&r(w),w.defaultPrevented||v(w)}return R.createElement("a",Qy({},h,{href:g||y,onClick:x||a?r:b,ref:n,target:l}))});var iE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iE||(iE={}));var aE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aE||(aE={}));function xG(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=o4(),c=O0(),u=aR(t,{relative:s});return R.useCallback(d=>{if(uG(d,n)){d.preventDefault();let h=r!==void 0?r:J3(c)===J3(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,t,a,s,o])}function bG(t){let e=R.useRef(Yy(t)),n=R.useRef(!1),r=O0(),i=R.useMemo(()=>dG(r.search,n.current?null:e.current),[r.search]),a=o4(),s=R.useCallback((o,l)=>{const c=Yy(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cR=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _G={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>R.createElement("svg",{ref:l,..._G,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cR("lucide",i),...o},[...s.map(([c,u])=>R.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(SG,{ref:a,iconNode:e,className:cR(`lucide-${wG(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=Me("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=Me("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=Me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=Me("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=Me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=Me("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=Me("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Me("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=Me("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=Me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=Me("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Me("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=Me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=Me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Me("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=Me("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=Me("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=Me("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Me("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Me("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=Me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=Me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Me("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=Me("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=Me("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=Me("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=Me("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),HG=()=>{};var fE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},wR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||d==null)throw new KG;const h=a<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QG=function(t){const e=bR(t);return wR.encodeByteArray(e,!0)},tm=function(t){return QG(t).replace(/\./g,"")},_R=function(t){try{return wR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=()=>YG().__FIREBASE_DEFAULTS__,JG=()=>{if(typeof process>"u"||typeof fE>"u")return;const t=fE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_R(t[1]);return e&&JSON.parse(e)},Rg=()=>{try{return HG()||XG()||JG()||ZG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SR=t=>{var e,n;return(n=(e=Rg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ER=t=>{const e=SR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kR=()=>{var t;return(t=Rg())==null?void 0:t.config},PR=t=>{var e;return(e=Rg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[tm(JSON.stringify(n)),tm(JSON.stringify(s)),""].join(".")}const ff={};function tK(){const t={prod:[],emulator:[]};for(const e of Object.keys(ff))ff[e]?t.emulator.push(e):t.prod.push(e);return t}function nK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hE=!1;function ix(t,e){if(typeof window>"u"||typeof document>"u"||!zs(window.location.host)||ff[t]===e||ff[t]||hE)return;ff[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=tK().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{hE=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=nK(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),x=n("learnmore"),y=document.getElementById(x)||document.createElement("a"),v=n("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,x);const S=c();l(b,v),w.append(b,g,y,S),document.body.appendChild(w)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lr())}function iK(){var e;const t=(e=Rg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oK(){const t=lr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lK(){return!iK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AR(){try{return typeof indexedDB=="object"}catch{return!1}}function IR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function cK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK="FirebaseError";class Mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uK,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?dK(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Mi(i,o,r)}}function dK(t,e){return t.replace(fK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fK=/\{\$([^}]+)}/g;function hK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(pE(a)&&pE(s)){if(!Cs(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Md(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function $d(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pK(t,e){const n=new mK(t,e);return n.subscribe.bind(n)}class mK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=U5),i.error===void 0&&(i.error=U5),i.complete===void 0&&(i.complete=U5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function U5(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK=1e3,vK=2,xK=4*60*60*1e3,bK=.5;function mE(t,e=yK,n=vK){const r=e*Math.pow(n,t),i=Math.round(bK*r*(Math.random()-.5)*2);return Math.min(xK,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SK(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_K(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _K(t){return t===ho?void 0:t}function SK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const kK={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},PK=lt.INFO,TK={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},NK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Mg=class{constructor(e){this.name=e,this._logLevel=PK,this._logHandler=NK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}};const AK=(t,e)=>e.some(n=>t instanceof n);let gE,yE;function IK(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CK(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CR=new WeakMap,Jy=new WeakMap,OR=new WeakMap,B5=new WeakMap,ax=new WeakMap;function OK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(_s(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&CR.set(n,t)}).catch(()=>{}),ax.set(e,t),e}function jK(t){if(Jy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Jy.set(t,e)}let Zy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RK(t){Zy=t(Zy)}function MK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(z5(this),e,...n);return OR.set(r,e.sort?e.sort():[e]),_s(r)}:CK().includes(t)?function(...e){return t.apply(z5(this),e),_s(CR.get(this))}:function(...e){return _s(t.apply(z5(this),e))}}function $K(t){return typeof t=="function"?MK(t):(t instanceof IDBTransaction&&jK(t),AK(t,IK())?new Proxy(t,Zy):t)}function _s(t){if(t instanceof IDBRequest)return OK(t);if(B5.has(t))return B5.get(t);const e=$K(t);return e!==t&&(B5.set(t,e),ax.set(e,t)),e}const z5=t=>ax.get(t);function jR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=_s(s);return r&&s.addEventListener("upgradeneeded",l=>{r(_s(s.result),l.oldVersion,l.newVersion,_s(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const DK=["get","getKey","getAll","getAllKeys","count"],LK=["put","add","delete","clear"],q5=new Map;function vE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(q5.get(e))return q5.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DK.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return q5.set(e,a),a}RK(t=>({...t,get:(e,n,r)=>vE(e,n)||t.get(e,n,r),has:(e,n)=>!!vE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const e7="@firebase/app",xE="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Mg("@firebase/app"),UK="@firebase/app-compat",BK="@firebase/analytics-compat",zK="@firebase/analytics",qK="@firebase/app-check-compat",WK="@firebase/app-check",HK="@firebase/auth",GK="@firebase/auth-compat",KK="@firebase/database",QK="@firebase/data-connect",YK="@firebase/database-compat",XK="@firebase/functions",JK="@firebase/functions-compat",ZK="@firebase/installations",eQ="@firebase/installations-compat",tQ="@firebase/messaging",nQ="@firebase/messaging-compat",rQ="@firebase/performance",iQ="@firebase/performance-compat",aQ="@firebase/remote-config",sQ="@firebase/remote-config-compat",oQ="@firebase/storage",lQ="@firebase/storage-compat",cQ="@firebase/firestore",uQ="@firebase/ai",dQ="@firebase/firestore-compat",fQ="firebase",hQ="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7="[DEFAULT]",pQ={[e7]:"fire-core",[UK]:"fire-core-compat",[zK]:"fire-analytics",[BK]:"fire-analytics-compat",[WK]:"fire-app-check",[qK]:"fire-app-check-compat",[HK]:"fire-auth",[GK]:"fire-auth-compat",[KK]:"fire-rtdb",[QK]:"fire-data-connect",[YK]:"fire-rtdb-compat",[XK]:"fire-fn",[JK]:"fire-fn-compat",[ZK]:"fire-iid",[eQ]:"fire-iid-compat",[tQ]:"fire-fcm",[nQ]:"fire-fcm-compat",[rQ]:"fire-perf",[iQ]:"fire-perf-compat",[aQ]:"fire-rc",[sQ]:"fire-rc-compat",[oQ]:"fire-gcs",[lQ]:"fire-gcs-compat",[cQ]:"fire-fst",[dQ]:"fire-fst-compat",[uQ]:"fire-vertex","fire-js":"fire-js",[fQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Map,mQ=new Map,n7=new Map;function bE(t,e){try{t.container.addComponent(e)}catch(n){b0.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function aa(t){const e=t.name;if(n7.has(e))return b0.debug(`There were multiple attempts to register component ${e}.`),!1;n7.set(e,t);for(const n of nm.values())bE(n,t);for(const n of mQ.values())bE(n,t);return!0}function qs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Or(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new gl("app","Firebase",gQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=hQ;function RR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:t7,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ss.create("bad-app-name",{appName:String(i)});if(n||(n=kR()),!n)throw Ss.create("no-options");const a=nm.get(i);if(a){if(Cs(n,a.options)&&Cs(r,a.config))return a;throw Ss.create("duplicate-app",{appName:i})}const s=new EK(i);for(const l of n7.values())s.addComponent(l);const o=new yQ(n,r,s);return nm.set(i,o),o}function $g(t=t7){const e=nm.get(t);if(!e&&t===t7&&kR())return RR();if(!e)throw Ss.create("no-app",{appName:t});return e}function Vr(t,e,n){let r=pQ[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),b0.warn(s.join(" "));return}aa(new Oi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ="firebase-heartbeat-database",xQ=1,Yf="firebase-heartbeat-store";let W5=null;function MR(){return W5||(W5=jR(vQ,xQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ss.create("idb-open",{originalErrorMessage:t.message})})),W5}async function bQ(t){try{const n=(await MR()).transaction(Yf),r=await n.objectStore(Yf).get($R(t));return await n.done,r}catch(e){if(e instanceof Mi)b0.warn(e.message);else{const n=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});b0.warn(n.message)}}}async function wE(t,e){try{const r=(await MR()).transaction(Yf,"readwrite");await r.objectStore(Yf).put(e,$R(t)),await r.done}catch(n){if(n instanceof Mi)b0.warn(n.message);else{const r=Ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});b0.warn(r.message)}}}function $R(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=1024,_Q=30;class SQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_E();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_Q){const s=PQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){b0.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_E(),{heartbeatsToSend:r,unsentEntries:i}=EQ(this._heartbeatsCache.heartbeats),a=tm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return b0.warn(n),""}}}function _E(){return new Date().toISOString().substring(0,10)}function EQ(t,e=wQ){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),SE(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AR()?IR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bQ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function SE(t){return tm(JSON.stringify({version:2,heartbeats:t})).length}function PQ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TQ(t){aa(new Oi("platform-logger",e=>new FK(e),"PRIVATE")),aa(new Oi("heartbeat",e=>new SQ(e),"PRIVATE")),Vr(e7,xE,t),Vr(e7,xE,"esm2020"),Vr("fire-js","")}TQ("");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,DR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,k){function N(){}N.prototype=k.prototype,_.F=k.prototype,_.prototype=new N,_.prototype.constructor=_,_.D=function(A,I,j){for(var O=Array(arguments.length-2),$=2;$<arguments.length;$++)O[$-2]=arguments[$];return k.prototype[I].apply(A,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,k,N){N||(N=0);const A=Array(16);if(typeof k=="string")for(var I=0;I<16;++I)A[I]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(I=0;I<16;++I)A[I]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=_.g[0],N=_.g[1],I=_.g[2];let j=_.g[3],O;O=k+(j^N&(I^j))+A[0]+3614090360&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(I^k&(N^I))+A[1]+3905402710&4294967295,j=k+(O<<12&4294967295|O>>>20),O=I+(N^j&(k^N))+A[2]+606105819&4294967295,I=j+(O<<17&4294967295|O>>>15),O=N+(k^I&(j^k))+A[3]+3250441966&4294967295,N=I+(O<<22&4294967295|O>>>10),O=k+(j^N&(I^j))+A[4]+4118548399&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(I^k&(N^I))+A[5]+1200080426&4294967295,j=k+(O<<12&4294967295|O>>>20),O=I+(N^j&(k^N))+A[6]+2821735955&4294967295,I=j+(O<<17&4294967295|O>>>15),O=N+(k^I&(j^k))+A[7]+4249261313&4294967295,N=I+(O<<22&4294967295|O>>>10),O=k+(j^N&(I^j))+A[8]+1770035416&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(I^k&(N^I))+A[9]+2336552879&4294967295,j=k+(O<<12&4294967295|O>>>20),O=I+(N^j&(k^N))+A[10]+4294925233&4294967295,I=j+(O<<17&4294967295|O>>>15),O=N+(k^I&(j^k))+A[11]+2304563134&4294967295,N=I+(O<<22&4294967295|O>>>10),O=k+(j^N&(I^j))+A[12]+1804603682&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(I^k&(N^I))+A[13]+4254626195&4294967295,j=k+(O<<12&4294967295|O>>>20),O=I+(N^j&(k^N))+A[14]+2792965006&4294967295,I=j+(O<<17&4294967295|O>>>15),O=N+(k^I&(j^k))+A[15]+1236535329&4294967295,N=I+(O<<22&4294967295|O>>>10),O=k+(I^j&(N^I))+A[1]+4129170786&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^I&(k^N))+A[6]+3225465664&4294967295,j=k+(O<<9&4294967295|O>>>23),O=I+(k^N&(j^k))+A[11]+643717713&4294967295,I=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(I^j))+A[0]+3921069994&4294967295,N=I+(O<<20&4294967295|O>>>12),O=k+(I^j&(N^I))+A[5]+3593408605&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^I&(k^N))+A[10]+38016083&4294967295,j=k+(O<<9&4294967295|O>>>23),O=I+(k^N&(j^k))+A[15]+3634488961&4294967295,I=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(I^j))+A[4]+3889429448&4294967295,N=I+(O<<20&4294967295|O>>>12),O=k+(I^j&(N^I))+A[9]+568446438&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^I&(k^N))+A[14]+3275163606&4294967295,j=k+(O<<9&4294967295|O>>>23),O=I+(k^N&(j^k))+A[3]+4107603335&4294967295,I=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(I^j))+A[8]+1163531501&4294967295,N=I+(O<<20&4294967295|O>>>12),O=k+(I^j&(N^I))+A[13]+2850285829&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^I&(k^N))+A[2]+4243563512&4294967295,j=k+(O<<9&4294967295|O>>>23),O=I+(k^N&(j^k))+A[7]+1735328473&4294967295,I=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(I^j))+A[12]+2368359562&4294967295,N=I+(O<<20&4294967295|O>>>12),O=k+(N^I^j)+A[5]+4294588738&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^I)+A[8]+2272392833&4294967295,j=k+(O<<11&4294967295|O>>>21),O=I+(j^k^N)+A[11]+1839030562&4294967295,I=j+(O<<16&4294967295|O>>>16),O=N+(I^j^k)+A[14]+4259657740&4294967295,N=I+(O<<23&4294967295|O>>>9),O=k+(N^I^j)+A[1]+2763975236&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^I)+A[4]+1272893353&4294967295,j=k+(O<<11&4294967295|O>>>21),O=I+(j^k^N)+A[7]+4139469664&4294967295,I=j+(O<<16&4294967295|O>>>16),O=N+(I^j^k)+A[10]+3200236656&4294967295,N=I+(O<<23&4294967295|O>>>9),O=k+(N^I^j)+A[13]+681279174&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^I)+A[0]+3936430074&4294967295,j=k+(O<<11&4294967295|O>>>21),O=I+(j^k^N)+A[3]+3572445317&4294967295,I=j+(O<<16&4294967295|O>>>16),O=N+(I^j^k)+A[6]+76029189&4294967295,N=I+(O<<23&4294967295|O>>>9),O=k+(N^I^j)+A[9]+3654602809&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^I)+A[12]+3873151461&4294967295,j=k+(O<<11&4294967295|O>>>21),O=I+(j^k^N)+A[15]+530742520&4294967295,I=j+(O<<16&4294967295|O>>>16),O=N+(I^j^k)+A[2]+3299628645&4294967295,N=I+(O<<23&4294967295|O>>>9),O=k+(I^(N|~j))+A[0]+4096336452&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~I))+A[7]+1126891415&4294967295,j=k+(O<<10&4294967295|O>>>22),O=I+(k^(j|~N))+A[14]+2878612391&4294967295,I=j+(O<<15&4294967295|O>>>17),O=N+(j^(I|~k))+A[5]+4237533241&4294967295,N=I+(O<<21&4294967295|O>>>11),O=k+(I^(N|~j))+A[12]+1700485571&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~I))+A[3]+2399980690&4294967295,j=k+(O<<10&4294967295|O>>>22),O=I+(k^(j|~N))+A[10]+4293915773&4294967295,I=j+(O<<15&4294967295|O>>>17),O=N+(j^(I|~k))+A[1]+2240044497&4294967295,N=I+(O<<21&4294967295|O>>>11),O=k+(I^(N|~j))+A[8]+1873313359&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~I))+A[15]+4264355552&4294967295,j=k+(O<<10&4294967295|O>>>22),O=I+(k^(j|~N))+A[6]+2734768916&4294967295,I=j+(O<<15&4294967295|O>>>17),O=N+(j^(I|~k))+A[13]+1309151649&4294967295,N=I+(O<<21&4294967295|O>>>11),O=k+(I^(N|~j))+A[4]+4149444226&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~I))+A[11]+3174756917&4294967295,j=k+(O<<10&4294967295|O>>>22),O=I+(k^(j|~N))+A[2]+718787259&4294967295,I=j+(O<<15&4294967295|O>>>17),O=N+(j^(I|~k))+A[9]+3951481745&4294967295,_.g[0]=_.g[0]+k&4294967295,_.g[1]=_.g[1]+(I+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+I&4294967295,_.g[3]=_.g[3]+j&4294967295}r.prototype.v=function(_,k){k===void 0&&(k=_.length);const N=k-this.blockSize,A=this.C;let I=this.h,j=0;for(;j<k;){if(I==0)for(;j<=N;)i(this,_,j),j+=this.blockSize;if(typeof _=="string"){for(;j<k;)if(A[I++]=_.charCodeAt(j++),I==this.blockSize){i(this,A),I=0;break}}else for(;j<k;)if(A[I++]=_[j++],I==this.blockSize){i(this,A),I=0;break}}this.h=I,this.o+=k},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var k=1;k<_.length-8;++k)_[k]=0;k=this.o*8;for(var N=_.length-8;N<_.length;++N)_[N]=k&255,k/=256;for(this.v(_),_=Array(16),k=0,N=0;N<4;++N)for(let A=0;A<32;A+=8)_[k++]=this.g[N]>>>A&255;return _};function a(_,k){var N=o;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=k(_)}function s(_,k){this.h=k;const N=[];let A=!0;for(let I=_.length-1;I>=0;I--){const j=_[I]|0;A&&j==k||(N[I]=j,A=!1)}this.g=N}var o={};function l(_){return-128<=_&&_<128?a(_,function(k){return new s([k|0],k<0?-1:0)}):new s([_|0],_<0?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return d;if(_<0)return y(c(-_));const k=[];let N=1;for(let A=0;_>=N;A++)k[A]=_/N|0,N*=4294967296;return new s(k,0)}function u(_,k){if(_.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(_.charAt(0)=="-")return y(u(_.substring(1),k));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=c(Math.pow(k,8));let A=d;for(let j=0;j<_.length;j+=8){var I=Math.min(8,_.length-j);const O=parseInt(_.substring(j,j+I),k);I<8?(I=c(Math.pow(k,I)),A=A.j(I).add(c(O))):(A=A.j(N),A=A.add(c(O)))}return A}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(x(this))return-y(this).m();let _=0,k=1;for(let N=0;N<this.g.length;N++){const A=this.i(N);_+=(A>=0?A:4294967296+A)*k,k*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(g(this))return"0";if(x(this))return"-"+y(this).toString(_);const k=c(Math.pow(_,6));var N=this;let A="";for(;;){const I=S(N,k).g;N=v(N,I.j(k));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(_);if(N=I,g(N))return j+A;for(;j.length<6;)j="0"+j;A=j+A}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function g(_){if(_.h!=0)return!1;for(let k=0;k<_.g.length;k++)if(_.g[k]!=0)return!1;return!0}function x(_){return _.h==-1}t.l=function(_){return _=v(this,_),x(_)?-1:g(_)?0:1};function y(_){const k=_.g.length,N=[];for(let A=0;A<k;A++)N[A]=~_.g[A];return new s(N,~_.h).add(h)}t.abs=function(){return x(this)?y(this):this},t.add=function(_){const k=Math.max(this.g.length,_.g.length),N=[];let A=0;for(let I=0;I<=k;I++){let j=A+(this.i(I)&65535)+(_.i(I)&65535),O=(j>>>16)+(this.i(I)>>>16)+(_.i(I)>>>16);A=O>>>16,j&=65535,O&=65535,N[I]=O<<16|j}return new s(N,N[N.length-1]&-2147483648?-1:0)};function v(_,k){return _.add(y(k))}t.j=function(_){if(g(this)||g(_))return d;if(x(this))return x(_)?y(this).j(y(_)):y(y(this).j(_));if(x(_))return y(this.j(y(_)));if(this.l(p)<0&&_.l(p)<0)return c(this.m()*_.m());const k=this.g.length+_.g.length,N=[];for(var A=0;A<2*k;A++)N[A]=0;for(A=0;A<this.g.length;A++)for(let I=0;I<_.g.length;I++){const j=this.i(A)>>>16,O=this.i(A)&65535,$=_.i(I)>>>16,M=_.i(I)&65535;N[2*A+2*I]+=O*M,b(N,2*A+2*I),N[2*A+2*I+1]+=j*M,b(N,2*A+2*I+1),N[2*A+2*I+1]+=O*$,b(N,2*A+2*I+1),N[2*A+2*I+2]+=j*$,b(N,2*A+2*I+2)}for(_=0;_<k;_++)N[_]=N[2*_+1]<<16|N[2*_];for(_=k;_<2*k;_++)N[_]=0;return new s(N,0)};function b(_,k){for(;(_[k]&65535)!=_[k];)_[k+1]+=_[k]>>>16,_[k]&=65535,k++}function w(_,k){this.g=_,this.h=k}function S(_,k){if(g(k))throw Error("division by zero");if(g(_))return new w(d,d);if(x(_))return k=S(y(_),k),new w(y(k.g),y(k.h));if(x(k))return k=S(_,y(k)),new w(y(k.g),k.h);if(_.g.length>30){if(x(_)||x(k))throw Error("slowDivide_ only works with positive integers.");for(var N=h,A=k;A.l(_)<=0;)N=E(N),A=E(A);var I=P(N,1),j=P(A,1);for(A=P(A,2),N=P(N,2);!g(A);){var O=j.add(A);O.l(_)<=0&&(I=I.add(N),j=O),A=P(A,1),N=P(N,1)}return k=v(_,I.j(k)),new w(I,k)}for(I=d;_.l(k)>=0;){for(N=Math.max(1,Math.floor(_.m()/k.m())),A=Math.ceil(Math.log(N)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),j=c(N),O=j.j(k);x(O)||O.l(_)>0;)N-=A,j=c(N),O=j.j(k);g(j)&&(j=h),I=I.add(j),_=v(_,O)}return new w(I,_)}t.B=function(_){return S(this,_).h},t.and=function(_){const k=Math.max(this.g.length,_.g.length),N=[];for(let A=0;A<k;A++)N[A]=this.i(A)&_.i(A);return new s(N,this.h&_.h)},t.or=function(_){const k=Math.max(this.g.length,_.g.length),N=[];for(let A=0;A<k;A++)N[A]=this.i(A)|_.i(A);return new s(N,this.h|_.h)},t.xor=function(_){const k=Math.max(this.g.length,_.g.length),N=[];for(let A=0;A<k;A++)N[A]=this.i(A)^_.i(A);return new s(N,this.h^_.h)};function E(_){const k=_.g.length+1,N=[];for(let A=0;A<k;A++)N[A]=_.i(A)<<1|_.i(A-1)>>>31;return new s(N,_.h)}function P(_,k){const N=k>>5;k%=32;const A=_.g.length-N,I=[];for(let j=0;j<A;j++)I[j]=k>0?_.i(j+N)>>>k|_.i(j+N+1)<<32-k:_.i(j+N);return new s(I,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DR=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Es=s}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LR,Dd,FR,o3,r7,VR,UR,BR;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof up=="object"&&up];for(var T=0;T<m.length;++T){var C=m[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var C=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var K=m[L];if(!(K in C))break e;C=C[K]}m=m[m.length-1],L=C[m],T=T(L),T!=L&&T!=null&&e(C,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var C=[],L;for(L in T)Object.prototype.hasOwnProperty.call(T,L)&&C.push([L,T[L]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,C){return m.call.apply(m.bind,arguments)}function c(m,T,C){return c=l,c.apply(null,arguments)}function u(m,T){var C=Array.prototype.slice.call(arguments,1);return function(){var L=C.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function d(m,T){function C(){}C.prototype=T.prototype,m.Z=T.prototype,m.prototype=new C,m.prototype.constructor=m,m.Ob=function(L,K,J){for(var xe=Array(arguments.length-2),et=2;et<arguments.length;et++)xe[et-2]=arguments[et];return T.prototype[K].apply(L,xe)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const T=m.length;if(T>0){const C=Array(T);for(let L=0;L<T;L++)C[L]=m[L];return C}return[]}function g(m,T){for(let L=1;L<arguments.length;L++){const K=arguments[L];var C=typeof K;if(C=C!="object"?C:K?Array.isArray(K)?"array":C:"null",C=="array"||C=="object"&&typeof K.length=="number"){C=m.length||0;const J=K.length||0;m.length=C+J;for(let xe=0;xe<J;xe++)m[C+xe]=K[xe]}else m.push(K)}}class x{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function y(m){s.setTimeout(()=>{throw m},0)}function v(){var m=_;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class b{constructor(){this.h=this.g=null}add(T,C){const L=w.get();L.set(T,C),this.h?this.h.next=L:this.g=L,this.h=L}}var w=new x(()=>new S,m=>m.reset());class S{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let E,P=!1,_=new b,k=()=>{const m=Promise.resolve(void 0);E=()=>{m.then(N)}};function N(){for(var m;m=v();){try{m.h.call(m.g)}catch(C){y(C)}var T=w;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}P=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};s.addEventListener("test",C,T),s.removeEventListener("test",C,T)}catch{}return m}();function O(m){return/^[\s\xa0]*$/.test(m)}function $(m,T){I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}d($,I),$.prototype.init=function(m,T){const C=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(C=="mouseover"?T=m.fromElement:C=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var M="closure_listenable_"+(Math.random()*1e6|0),D=0;function V(m,T,C,L,K){this.listener=m,this.proxy=null,this.src=T,this.type=C,this.capture=!!L,this.ha=K,this.key=++D,this.da=this.fa=!1}function F(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function U(m,T,C){for(const L in m)T.call(C,m[L],L,m)}function W(m,T){for(const C in m)T.call(void 0,m[C],C,m)}function G(m){const T={};for(const C in m)T[C]=m[C];return T}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(m,T){let C,L;for(let K=1;K<arguments.length;K++){L=arguments[K];for(C in L)m[C]=L[C];for(let J=0;J<H.length;J++)C=H[J],Object.prototype.hasOwnProperty.call(L,C)&&(m[C]=L[C])}}function ue(m){this.src=m,this.g={},this.h=0}ue.prototype.add=function(m,T,C,L,K){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const xe=Z(m,T,L,K);return xe>-1?(T=m[xe],C||(T.fa=!1)):(T=new V(T,this.src,J,!!L,K),T.fa=C,m.push(T)),T};function me(m,T){const C=T.type;if(C in m.g){var L=m.g[C],K=Array.prototype.indexOf.call(L,T,void 0),J;(J=K>=0)&&Array.prototype.splice.call(L,K,1),J&&(F(T),m.g[C].length==0&&(delete m.g[C],m.h--))}}function Z(m,T,C,L){for(let K=0;K<m.length;++K){const J=m[K];if(!J.da&&J.listener==T&&J.capture==!!C&&J.ha==L)return K}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),Ce={};function se(m,T,C,L,K){if(Array.isArray(T)){for(let J=0;J<T.length;J++)se(m,T[J],C,L,K);return null}return C=St(C),m&&m[M]?m.J(T,C,o(L)?!!L.capture:!1,K):ve(m,T,C,!1,L,K)}function ve(m,T,C,L,K,J){if(!T)throw Error("Invalid event type");const xe=o(K)?!!K.capture:!!K;let et=we(m);if(et||(m[_e]=et=new ue(m)),C=et.add(T,C,L,xe,J),C.proxy)return C;if(L=X(),C.proxy=L,L.src=m,L.listener=C,m.addEventListener)j||(K=xe),K===void 0&&(K=!1),m.addEventListener(T.toString(),L,K);else if(m.attachEvent)m.attachEvent(Pe(T.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return C}function X(){function m(C){return T.call(m.src,m.listener,C)}const T=ge;return m}function q(m,T,C,L,K){if(Array.isArray(T))for(var J=0;J<T.length;J++)q(m,T[J],C,L,K);else L=o(L)?!!L.capture:!!L,C=St(C),m&&m[M]?(m=m.i,J=String(T).toString(),J in m.g&&(T=m.g[J],C=Z(T,C,L,K),C>-1&&(F(T[C]),Array.prototype.splice.call(T,C,1),T.length==0&&(delete m.g[J],m.h--)))):m&&(m=we(m))&&(T=m.g[T.toString()],m=-1,T&&(m=Z(T,C,L,K)),(C=m>-1?T[m]:null)&&fe(C))}function fe(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[M])me(T.i,m);else{var C=m.type,L=m.proxy;T.removeEventListener?T.removeEventListener(C,L,m.capture):T.detachEvent?T.detachEvent(Pe(C),L):T.addListener&&T.removeListener&&T.removeListener(L),(C=we(T))?(me(C,m),C.h==0&&(C.src=null,T[_e]=null)):F(m)}}}function Pe(m){return m in Ce?Ce[m]:Ce[m]="on"+m}function ge(m,T){if(m.da)m=!0;else{T=new $(T,this);const C=m.listener,L=m.ha||m.src;m.fa&&fe(m),m=C.call(L,T)}return m}function we(m){return m=m[_e],m instanceof ue?m:null}var Ue="__closure_events_fn_"+(Math.random()*1e9>>>0);function St(m){return typeof m=="function"?m:(m[Ue]||(m[Ue]=function(T){return m.handleEvent(T)}),m[Ue])}function $e(){A.call(this),this.i=new ue(this),this.M=this,this.G=null}d($e,A),$e.prototype[M]=!0,$e.prototype.removeEventListener=function(m,T,C,L){q(this,m,T,C,L)};function He(m,T){var C,L=m.G;if(L)for(C=[];L;L=L.G)C.push(L);if(m=m.M,L=T.type||T,typeof T=="string")T=new I(T,m);else if(T instanceof I)T.target=T.target||m;else{var K=T;T=new I(L,m),te(T,K)}K=!0;let J,xe;if(C)for(xe=C.length-1;xe>=0;xe--)J=T.g=C[xe],K=Y(J,L,!0,T)&&K;if(J=T.g=m,K=Y(J,L,!0,T)&&K,K=Y(J,L,!1,T)&&K,C)for(xe=0;xe<C.length;xe++)J=T.g=C[xe],K=Y(J,L,!1,T)&&K}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const C=m.g[T];for(let L=0;L<C.length;L++)F(C[L]);delete m.g[T],m.h--}}this.G=null},$e.prototype.J=function(m,T,C,L){return this.i.add(String(m),T,!1,C,L)},$e.prototype.K=function(m,T,C,L){return this.i.add(String(m),T,!0,C,L)};function Y(m,T,C,L){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let K=!0;for(let J=0;J<T.length;++J){const xe=T[J];if(xe&&!xe.da&&xe.capture==C){const et=xe.listener,En=xe.ha||xe.src;xe.fa&&me(m.i,xe),K=et.call(En,L)!==!1&&K}}return K&&!L.defaultPrevented}function de(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=c(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(m,T||0)}function Ie(m){m.g=de(()=>{m.g=null,m.i&&(m.i=!1,Ie(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class bt extends A{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(m){A.call(this),this.h=m,this.g={}}d(Ye,A);var vt=[];function Pt(m){U(m.g,function(T,C){this.g.hasOwnProperty(C)&&fe(T)},m),m.g={}}Ye.prototype.N=function(){Ye.Z.N.call(this),Pt(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=s.JSON.stringify,be=s.JSON.parse,Xe=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function it(){}function fn(){}var ie={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){I.call(this,"d")}d(he,I);function Ee(){I.call(this,"c")}d(Ee,I);var Ve={},Je=null;function Q(){return Je=Je||new $e}Ve.Ia="serverreachability";function Oe(m){I.call(this,Ve.Ia,m)}d(Oe,I);function nt(m){const T=Q();He(T,new Oe(T))}Ve.STAT_EVENT="statevent";function z(m,T){I.call(this,Ve.STAT_EVENT,m),this.stat=T}d(z,I);function ee(m){const T=Q();He(T,new z(T,m))}Ve.Ja="timingevent";function ne(m,T){I.call(this,Ve.Ja,m),this.size=T}d(ne,I);function je(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},T)}function at(){this.g=!0}at.prototype.ua=function(){this.g=!1};function ft(m,T,C,L,K,J){m.info(function(){if(m.g)if(J){var xe="",et=J.split("&");for(let Ot=0;Ot<et.length;Ot++){var En=et[Ot].split("=");if(En.length>1){const jn=En[0];En=En[1];const ua=jn.split("_");xe=ua.length>=2&&ua[1]=="type"?xe+(jn+"="+En+"&"):xe+(jn+"=redacted&")}}}else xe=null;else xe=J;return"XMLHTTP REQ ("+L+") [attempt "+K+"]: "+T+`
`+C+`
`+xe})}function Gt(m,T,C,L,K,J,xe){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+K+"]: "+T+`
`+C+`
`+J+" "+xe})}function qr(m,T,C,L){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+kl(m,C)+(L?" "+L:"")})}function yn(m,T){m.info(function(){return"TIMEOUT: "+T})}at.prototype.info=function(){};function kl(m,T){if(!m.g)return T;if(!T)return null;try{const J=JSON.parse(T);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var C=J[m];if(!(C.length<2)){var L=C[1];if(Array.isArray(L)&&!(L.length<1)){var K=L[0];if(K!="noop"&&K!="stop"&&K!="close")for(let xe=1;xe<L.length;xe++)L[xe]=""}}}}return ae(J)}catch{return T}}var Pl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},r_={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},i_;function e5(){}d(e5,it),e5.prototype.g=function(){return new XMLHttpRequest},i_=new e5;function qu(m){return encodeURIComponent(String(m))}function _z(m){var T=1;m=m.split(":");const C=[];for(;T>0&&m.length;)C.push(m.shift()),T--;return m.length&&C.push(m.join(":")),C}function $0(m,T,C,L){this.j=m,this.i=T,this.l=C,this.S=L||1,this.V=new Ye(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new a_}function a_(){this.i=null,this.g="",this.h=!1}var s_={},t5={};function n5(m,T,C){m.M=1,m.A=L4(ca(T)),m.u=C,m.R=!0,o_(m,null)}function o_(m,T){m.F=Date.now(),D4(m),m.B=ca(m.A);var C=m.B,L=m.S;Array.isArray(L)||(L=[String(L)]),b_(C.i,"t",L),m.C=0,C=m.j.L,m.h=new a_,m.g=L_(m.j,C?T:null,!m.u),m.P>0&&(m.O=new bt(c(m.Y,m,m.g),m.P)),T=m.V,C=m.g,L=m.ba;var K="readystatechange";Array.isArray(K)||(K&&(vt[0]=K.toString()),K=vt);for(let J=0;J<K.length;J++){const xe=se(C,K[J],L||T.handleEvent,!1,T.h||T);if(!xe)break;T.g[xe.key]=xe}T=m.J?G(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),nt(),ft(m.i,m.v,m.B,m.l,m.S,m.u)}$0.prototype.ba=function(m){m=m.target;const T=this.O;T&&F0(m)==3?T.j():this.Y(m)},$0.prototype.Y=function(m){try{if(m==this.g)e:{const et=F0(this.g),En=this.g.ya(),Ot=this.g.ca();if(!(et<3)&&(et!=3||this.g&&(this.h.h||this.g.la()||T_(this.g)))){this.K||et!=4||En==7||(En==8||Ot<=0?nt(3):nt(2)),r5(this);var T=this.g.ca();this.X=T;var C=Sz(this);if(this.o=T==200,Gt(this.i,this.v,this.B,this.l,this.S,et,T),this.o){if(this.U&&!this.L){t:{if(this.g){var L,K=this.g;if((L=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(L)){var J=L;break t}}J=null}if(m=J)qr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,i5(this,m);else{this.o=!1,this.m=3,ee(12),ro(this),Wu(this);break e}}if(this.R){m=!0;let jn;for(;!this.K&&this.C<C.length;)if(jn=Ez(this,C),jn==t5){et==4&&(this.m=4,ee(14),m=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==s_){this.m=4,ee(15),qr(this.i,this.l,C,"[Invalid Chunk]"),m=!1;break}else qr(this.i,this.l,jn,null),i5(this,jn);if(l_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||C.length!=0||this.h.h||(this.m=1,ee(16),m=!1),this.o=this.o&&m,!m)qr(this.i,this.l,C,"[Invalid Chunked Response]"),ro(this),Wu(this);else if(C.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),f5(xe),xe.P=!0,ee(11))}}else qr(this.i,this.l,C,null),i5(this,C);et==4&&ro(this),this.o&&!this.K&&(et==4?R_(this.j,this):(this.o=!1,D4(this)))}else Lz(this.g),T==400&&C.indexOf("Unknown SID")>0?(this.m=3,ee(12)):(this.m=0,ee(13)),ro(this),Wu(this)}}}catch{}finally{}};function Sz(m){if(!l_(m))return m.g.la();const T=T_(m.g);if(T==="")return"";let C="";const L=T.length,K=F0(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ro(m),Wu(m),"";m.h.i=new s.TextDecoder}for(let J=0;J<L;J++)m.h.h=!0,C+=m.h.i.decode(T[J],{stream:!(K&&J==L-1)});return T.length=0,m.h.g+=C,m.C=0,m.h.g}function l_(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Ez(m,T){var C=m.C,L=T.indexOf(`
`,C);return L==-1?t5:(C=Number(T.substring(C,L)),isNaN(C)?s_:(L+=1,L+C>T.length?t5:(T=T.slice(L,L+C),m.C=L+C,T)))}$0.prototype.cancel=function(){this.K=!0,ro(this)};function D4(m){m.T=Date.now()+m.H,c_(m,m.H)}function c_(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=je(c(m.aa,m),T)}function r5(m){m.D&&(s.clearTimeout(m.D),m.D=null)}$0.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(yn(this.i,this.B),this.M!=2&&(nt(),ee(17)),ro(this),this.m=2,Wu(this)):c_(this,this.T-m)};function Wu(m){m.j.I==0||m.K||R_(m.j,m)}function ro(m){r5(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,Pt(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function i5(m,T){try{var C=m.j;if(C.I!=0&&(C.g==m||a5(C.h,m))){if(!m.L&&a5(C.h,m)&&C.I==3){try{var L=C.Ba.g.parse(T)}catch{L=null}if(Array.isArray(L)&&L.length==3){var K=L;if(K[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<m.F)z4(C),U4(C);else break e;d5(C),ee(18)}}else C.xa=K[1],0<C.xa-C.K&&K[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=je(c(C.Va,C),6e3));f_(C.h)<=1&&C.ta&&(C.ta=void 0)}else ao(C,11)}else if((m.L||C.g==m)&&z4(C),!O(T))for(K=C.Ba.g.parse(T),T=0;T<K.length;T++){let Ot=K[T];const jn=Ot[0];if(!(jn<=C.K))if(C.K=jn,Ot=Ot[1],C.I==2)if(Ot[0]=="c"){C.M=Ot[1],C.ba=Ot[2];const ua=Ot[3];ua!=null&&(C.ka=ua,C.j.info("VER="+C.ka));const so=Ot[4];so!=null&&(C.za=so,C.j.info("SVER="+C.za));const V0=Ot[5];V0!=null&&typeof V0=="number"&&V0>0&&(L=1.5*V0,C.O=L,C.j.info("backChannelRequestTimeoutMs_="+L)),L=C;const U0=m.g;if(U0){const W4=U0.g?U0.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W4){var J=L.h;J.g||W4.indexOf("spdy")==-1&&W4.indexOf("quic")==-1&&W4.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(s5(J,J.h),J.h=null))}if(L.G){const h5=U0.g?U0.g.getResponseHeader("X-HTTP-Session-Id"):null;h5&&(L.wa=h5,Ut(L.J,L.G,h5))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-m.F,C.j.info("Handshake RTT: "+C.T+"ms")),L=C;var xe=m;if(L.na=D_(L,L.L?L.ba:null,L.W),xe.L){h_(L.h,xe);var et=xe,En=L.O;En&&(et.H=En),et.D&&(r5(et),D4(et)),L.g=xe}else O_(L);C.i.length>0&&B4(C)}else Ot[0]!="stop"&&Ot[0]!="close"||ao(C,7);else C.I==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?ao(C,7):u5(C):Ot[0]!="noop"&&C.l&&C.l.qa(Ot),C.A=0)}}nt(4)}catch{}}var kz=class{constructor(m,T){this.g=m,this.map=T}};function u_(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function d_(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function f_(m){return m.h?1:m.g?m.g.size:0}function a5(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function s5(m,T){m.g?m.g.add(T):m.h=T}function h_(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}u_.prototype.cancel=function(){if(this.i=p_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function p_(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const C of m.g.values())T=T.concat(C.G);return T}return p(m.i)}var m_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pz(m,T){if(m){m=m.split("&");for(let C=0;C<m.length;C++){const L=m[C].indexOf("=");let K,J=null;L>=0?(K=m[C].substring(0,L),J=m[C].substring(L+1)):K=m[C],T(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function D0(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof D0?(this.l=m.l,Hu(this,m.j),this.o=m.o,this.g=m.g,Gu(this,m.u),this.h=m.h,o5(this,w_(m.i)),this.m=m.m):m&&(T=String(m).match(m_))?(this.l=!1,Hu(this,T[1]||"",!0),this.o=Ku(T[2]||""),this.g=Ku(T[3]||"",!0),Gu(this,T[4]),this.h=Ku(T[5]||"",!0),o5(this,T[6]||"",!0),this.m=Ku(T[7]||"")):(this.l=!1,this.i=new Yu(null,this.l))}D0.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(Qu(T,g_,!0),":");var C=this.g;return(C||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Qu(T,g_,!0),"@"),m.push(qu(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&m.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(Qu(C,C.charAt(0)=="/"?Az:Nz,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",Qu(C,Cz)),m.join("")},D0.prototype.resolve=function(m){const T=ca(this);let C=!!m.j;C?Hu(T,m.j):C=!!m.o,C?T.o=m.o:C=!!m.g,C?T.g=m.g:C=m.u!=null;var L=m.h;if(C)Gu(T,m.u);else if(C=!!m.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var K=T.h.lastIndexOf("/");K!=-1&&(L=T.h.slice(0,K+1)+L)}if(K=L,K==".."||K==".")L="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){L=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let xe=0;xe<K.length;){const et=K[xe++];et=="."?L&&xe==K.length&&J.push(""):et==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),L&&xe==K.length&&J.push("")):(J.push(et),L=!0)}L=J.join("/")}else L=K}return C?T.h=L:C=m.i.toString()!=="",C?o5(T,w_(m.i)):C=!!m.m,C&&(T.m=m.m),T};function ca(m){return new D0(m)}function Hu(m,T,C){m.j=C?Ku(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Gu(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function o5(m,T,C){T instanceof Yu?(m.i=T,Oz(m.i,m.l)):(C||(T=Qu(T,Iz)),m.i=new Yu(T,m.l))}function Ut(m,T,C){m.i.set(T,C)}function L4(m){return Ut(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ku(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Qu(m,T,C){return typeof m=="string"?(m=encodeURI(m).replace(T,Tz),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Tz(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var g_=/[#\/\?@]/g,Nz=/[#\?:]/g,Az=/[#\?]/g,Iz=/[#\?@]/g,Cz=/#/g;function Yu(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function io(m){m.g||(m.g=new Map,m.h=0,m.i&&Pz(m.i,function(T,C){m.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}t=Yu.prototype,t.add=function(m,T){io(this),this.i=null,m=Tl(this,m);let C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(T),this.h+=1,this};function y_(m,T){io(m),T=Tl(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function v_(m,T){return io(m),T=Tl(m,T),m.g.has(T)}t.forEach=function(m,T){io(this),this.g.forEach(function(C,L){C.forEach(function(K){m.call(T,K,L,this)},this)},this)};function x_(m,T){io(m);let C=[];if(typeof T=="string")v_(m,T)&&(C=C.concat(m.g.get(Tl(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)C=C.concat(m[T]);return C}t.set=function(m,T){return io(this),this.i=null,m=Tl(this,m),v_(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=x_(this,m),m.length>0?String(m[0]):T):T};function b_(m,T,C){y_(m,T),C.length>0&&(m.i=null,m.g.set(Tl(m,T),p(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let L=0;L<T.length;L++){var C=T[L];const K=qu(C);C=x_(this,C);for(let J=0;J<C.length;J++){let xe=K;C[J]!==""&&(xe+="="+qu(C[J])),m.push(xe)}}return this.i=m.join("&")};function w_(m){const T=new Yu;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function Tl(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Oz(m,T){T&&!m.j&&(io(m),m.i=null,m.g.forEach(function(C,L){const K=L.toLowerCase();L!=K&&(y_(this,L),b_(this,K,C))},m)),m.j=T}function jz(m,T){const C=new at;if(s.Image){const L=new Image;L.onload=u(L0,C,"TestLoadImage: loaded",!0,T,L),L.onerror=u(L0,C,"TestLoadImage: error",!1,T,L),L.onabort=u(L0,C,"TestLoadImage: abort",!1,T,L),L.ontimeout=u(L0,C,"TestLoadImage: timeout",!1,T,L),s.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else T(!1)}function Rz(m,T){const C=new at,L=new AbortController,K=setTimeout(()=>{L.abort(),L0(C,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:L.signal}).then(J=>{clearTimeout(K),J.ok?L0(C,"TestPingServer: ok",!0,T):L0(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(K),L0(C,"TestPingServer: error",!1,T)})}function L0(m,T,C,L,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),L(C)}catch{}}function Mz(){this.g=new Xe}function l5(m){this.i=m.Sb||null,this.h=m.ab||!1}d(l5,it),l5.prototype.g=function(){return new F4(this.i,this.h)};function F4(m,T){$e.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(F4,$e),t=F4.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Ju(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xu(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ju(this)),this.g&&(this.readyState=3,Ju(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;__(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function __(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Xu(this):Ju(this),this.readyState==3&&__(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Xu(this))},t.Na=function(m){this.g&&(this.response=m,Xu(this))},t.ga=function(){this.g&&Xu(this)};function Xu(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Ju(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=T.next();return m.join(`\r
`)};function Ju(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(F4.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function S_(m){let T="";return U(m,function(C,L){T+=L,T+=":",T+=C,T+=`\r
`}),T}function c5(m,T,C){e:{for(L in C){var L=!1;break e}L=!0}L||(C=S_(C),typeof m=="string"?C!=null&&qu(C):Ut(m,T,C))}function an(m){$e.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(an,$e);var $z=/^https?$/i,Dz=["POST","PUT"];t=an.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,C,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():i_.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(J){E_(this,J);return}if(m=C||"",C=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var K in L)C.set(K,L[K]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const J of L.keys())C.set(J,L.get(J));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(C.keys()).find(J=>J.toLowerCase()=="content-type"),K=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(Dz,T,void 0)>=0)||L||K||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,xe]of C)this.g.setRequestHeader(J,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){E_(this,J)}};function E_(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,k_(m),V4(m)}function k_(m){m.A||(m.A=!0,He(m,"complete"),He(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,He(this,"complete"),He(this,"abort"),V4(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),V4(this,!0)),an.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?P_(this):this.Xa())},t.Xa=function(){P_(this)};function P_(m){if(m.h&&typeof a<"u"){if(m.v&&F0(m)==4)setTimeout(m.Ca.bind(m),0);else if(He(m,"readystatechange"),F0(m)==4){m.h=!1;try{const J=m.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var L;if(L=J===0){let xe=String(m.D).match(m_)[1]||null;!xe&&s.self&&s.self.location&&(xe=s.self.location.protocol.slice(0,-1)),L=!$z.test(xe?xe.toLowerCase():"")}C=L}if(C)He(m,"complete"),He(m,"success");else{m.o=6;try{var K=F0(m)>2?m.g.statusText:""}catch{K=""}m.l=K+" ["+m.ca()+"]",k_(m)}}finally{V4(m)}}}}function V4(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const C=m.g;m.g=null,T||He(m,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function F0(m){return m.g?m.g.readyState:0}t.ca=function(){try{return F0(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),be(T)}};function T_(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Lz(m){const T={};m=(m.g&&F0(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(O(m[L]))continue;var C=_z(m[L]);const K=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const J=T[K]||[];T[K]=J,J.push(C)}W(T,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zu(m,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||T}function N_(m){this.za=0,this.i=[],this.j=new at,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zu("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zu("baseRetryDelayMs",5e3,m),this.Za=Zu("retryDelaySeedMs",1e4,m),this.Ta=Zu("forwardChannelMaxRetries",2,m),this.va=Zu("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new u_(m&&m.concurrentRequestLimit),this.Ba=new Mz,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=N_.prototype,t.ka=8,t.I=1,t.connect=function(m,T,C,L){ee(0),this.W=m,this.H=T||{},C&&L!==void 0&&(this.H.OSID=C,this.H.OAID=L),this.F=this.X,this.J=D_(this,null,this.W),B4(this)};function u5(m){if(A_(m),m.I==3){var T=m.V++,C=ca(m.J);if(Ut(C,"SID",m.M),Ut(C,"RID",T),Ut(C,"TYPE","terminate"),ed(m,C),T=new $0(m,m.j,T),T.M=2,T.A=L4(ca(C)),C=!1,s.navigator&&s.navigator.sendBeacon)try{C=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!C&&s.Image&&(new Image().src=T.A,C=!0),C||(T.g=L_(T.j,null),T.g.ea(T.A)),T.F=Date.now(),D4(T)}$_(m)}function U4(m){m.g&&(f5(m),m.g.cancel(),m.g=null)}function A_(m){U4(m),m.v&&(s.clearTimeout(m.v),m.v=null),z4(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function B4(m){if(!d_(m.h)&&!m.m){m.m=!0;var T=m.Ea;E||k(),P||(E(),P=!0),_.add(T,m),m.D=0}}function Fz(m,T){return f_(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=je(c(m.Ea,m,T),M_(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const K=new $0(this,this.j,m);let J=this.o;if(this.U&&(J?(J=G(J),te(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var L=this.i[C];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(T+=L,T>4096){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=C_(this,K,T),C=ca(this.J),Ut(C,"RID",m),Ut(C,"CVER",22),this.G&&Ut(C,"X-HTTP-Session-Id",this.G),ed(this,C),J&&(this.R?T="headers="+qu(S_(J))+"&"+T:this.u&&c5(C,this.u,J)),s5(this.h,K),this.Ra&&Ut(C,"TYPE","init"),this.S?(Ut(C,"$req",T),Ut(C,"SID","null"),K.U=!0,n5(K,C,null)):n5(K,C,T),this.I=2}}else this.I==3&&(m?I_(this,m):this.i.length==0||d_(this.h)||I_(this))};function I_(m,T){var C;T?C=T.l:C=m.V++;const L=ca(m.J);Ut(L,"SID",m.M),Ut(L,"RID",C),Ut(L,"AID",m.K),ed(m,L),m.u&&m.o&&c5(L,m.u,m.o),C=new $0(m,m.j,C,m.D+1),m.u===null&&(C.J=m.o),T&&(m.i=T.G.concat(m.i)),T=C_(m,C,1e3),C.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),s5(m.h,C),n5(C,L,T)}function ed(m,T){m.H&&U(m.H,function(C,L){Ut(T,L,C)}),m.l&&U({},function(C,L){Ut(T,L,C)})}function C_(m,T,C){C=Math.min(m.i.length,C);const L=m.l?c(m.l.Ka,m.l,m):null;e:{var K=m.i;let et=-1;for(;;){const En=["count="+C];et==-1?C>0?(et=K[0].g,En.push("ofs="+et)):et=0:En.push("ofs="+et);let Ot=!0;for(let jn=0;jn<C;jn++){var J=K[jn].g;const ua=K[jn].map;if(J-=et,J<0)et=Math.max(0,K[jn].g-100),Ot=!1;else try{J="req"+J+"_"||"";try{var xe=ua instanceof Map?ua:Object.entries(ua);for(const[so,V0]of xe){let U0=V0;o(V0)&&(U0=ae(V0)),En.push(J+so+"="+encodeURIComponent(U0))}}catch(so){throw En.push(J+"type="+encodeURIComponent("_badmap")),so}}catch{L&&L(ua)}}if(Ot){xe=En.join("&");break e}}xe=void 0}return m=m.i.splice(0,C),T.G=m,xe}function O_(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;E||k(),P||(E(),P=!0),_.add(T,m),m.A=0}}function d5(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=je(c(m.Da,m),M_(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,j_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=je(c(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ee(10),U4(this),j_(this))};function f5(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function j_(m){m.g=new $0(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=ca(m.na);Ut(T,"RID","rpc"),Ut(T,"SID",m.M),Ut(T,"AID",m.K),Ut(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&Ut(T,"TO",m.ia),Ut(T,"TYPE","xmlhttp"),ed(m,T),m.u&&m.o&&c5(T,m.u,m.o),m.O&&(m.g.H=m.O);var C=m.g;m=m.ba,C.M=1,C.A=L4(ca(T)),C.u=null,C.R=!0,o_(C,m)}t.Va=function(){this.C!=null&&(this.C=null,U4(this),d5(this),ee(19))};function z4(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function R_(m,T){var C=null;if(m.g==T){z4(m),f5(m),m.g=null;var L=2}else if(a5(m.h,T))C=T.G,h_(m.h,T),L=1;else return;if(m.I!=0){if(T.o)if(L==1){C=T.u?T.u.length:0,T=Date.now()-T.F;var K=m.D;L=Q(),He(L,new ne(L,C)),B4(m)}else O_(m);else if(K=T.m,K==3||K==0&&T.X>0||!(L==1&&Fz(m,T)||L==2&&d5(m)))switch(C&&C.length>0&&(T=m.h,T.i=T.i.concat(C)),K){case 1:ao(m,5);break;case 4:ao(m,10);break;case 3:ao(m,6);break;default:ao(m,2)}}}function M_(m,T){let C=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(C*=2),C*T}function ao(m,T){if(m.j.info("Error code "+T),T==2){var C=c(m.bb,m),L=m.Ua;const K=!L;L=new D0(L||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Hu(L,"https"),L4(L),K?jz(L.toString(),C):Rz(L.toString(),C)}else ee(2);m.I=0,m.l&&m.l.pa(T),$_(m),A_(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function $_(m){if(m.I=0,m.ja=[],m.l){const T=p_(m.h);(T.length!=0||m.i.length!=0)&&(g(m.ja,T),g(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function D_(m,T,C){var L=C instanceof D0?ca(C):new D0(C);if(L.g!="")T&&(L.g=T+"."+L.g),Gu(L,L.u);else{var K=s.location;L=K.protocol,T=T?T+"."+K.hostname:K.hostname,K=+K.port;const J=new D0(null);L&&Hu(J,L),T&&(J.g=T),K&&Gu(J,K),C&&(J.h=C),L=J}return C=m.G,T=m.wa,C&&T&&Ut(L,C,T),Ut(L,"VER",m.ka),ed(m,L),L}function L_(m,T,C){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new an(new l5({ab:C})):new an(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function F_(){}t=F_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function q4(){}q4.prototype.g=function(m,T){return new Wr(m,T)};function Wr(m,T){$e.call(this),this.g=new N_(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!O(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!O(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Nl(this)}d(Wr,$e),Wr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wr.prototype.close=function(){u5(this.g)},Wr.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.v&&(C={},C.__data__=ae(m),m=C);T.i.push(new kz(T.Ya++,m)),T.I==3&&B4(T)},Wr.prototype.N=function(){this.g.l=null,delete this.j,u5(this.g),delete this.g,Wr.Z.N.call(this)};function V_(m){he.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const C in T){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}d(V_,he);function U_(){Ee.call(this),this.status=1}d(U_,Ee);function Nl(m){this.g=m}d(Nl,F_),Nl.prototype.ra=function(){He(this.g,"a")},Nl.prototype.qa=function(m){He(this.g,new V_(m))},Nl.prototype.pa=function(m){He(this.g,new U_)},Nl.prototype.oa=function(){He(this.g,"b")},q4.prototype.createWebChannel=q4.prototype.g,Wr.prototype.send=Wr.prototype.o,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,BR=function(){return new q4},UR=function(){return Q()},VR=Ve,r7={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pl.NO_ERROR=0,Pl.TIMEOUT=8,Pl.HTTP_ERROR=6,o3=Pl,r_.COMPLETE="complete",FR=r_,fn.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",$e.prototype.listen=$e.prototype.J,Dd=fn,an.prototype.listenOnce=an.prototype.K,an.prototype.getLastError=an.prototype.Ha,an.prototype.getLastErrorCode=an.prototype.ya,an.prototype.getStatus=an.prototype.ca,an.prototype.getResponseJson=an.prototype.La,an.prototype.getResponseText=an.prototype.la,an.prototype.send=an.prototype.ea,an.prototype.setWithCredentials=an.prototype.Fa,LR=an}).apply(typeof up<"u"?up:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su="12.9.0";function NQ(t){Su=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Mg("@firebase/firestore");function Ll(){return Ho.logLevel}function ke(t,...e){if(Ho.logLevel<=lt.DEBUG){const n=e.map(sx);Ho.debug(`Firestore (${Su}): ${t}`,...n)}}function w0(t,...e){if(Ho.logLevel<=lt.ERROR){const n=e.map(sx);Ho.error(`Firestore (${Su}): ${t}`,...n)}}function Go(t,...e){if(Ho.logLevel<=lt.WARN){const n=e.map(sx);Ho.warn(`Firestore (${Su}): ${t}`,...n)}}function sx(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zR(t,r,n)}function zR(t,e,n){let r=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw w0(r),new Error(r)}function kt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||zR(e,i,r)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tr.UNAUTHENTICATED))}shutdown(){}}class IQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CQ{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ks,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ks)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new qR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new tr(e)}}class OQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){kt(this.o===void 0,3512);const r=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=MQ(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function i7(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return H5(i)===H5(a)?ct(i,a):H5(i)?1:-1}return ct(t.length,e.length)}const $Q=55296,DQ=57343;function H5(t){const e=t.charCodeAt(0);return e>=$Q&&e<=DQ}function Rc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="__name__";class ha{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ha.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ha?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ha.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ct(e.length,n.length)}static compareSegments(e,n){const r=ha.isNumericId(e),i=ha.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ha.extractNumericId(e).compare(ha.extractNumericId(n)):i7(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class Lt extends ha{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const LQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends ha{construct(e,n,r){return new Hn(e,n,r)}static isValidIdentifier(e){return LQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PE}static keyField(){return new Hn([PE])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Se(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Se(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Se(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(n)}static emptyPath(){return new Hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Lt.fromString(e))}static fromName(e){return new De(Lt.fromString(e).popFirst(5))}static empty(){return new De(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e,n){if(!n)throw new Se(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FQ(t,e,n,r){if(e===!0&&r===!0)throw new Se(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TE(t){if(!De.isDocumentKey(t))throw new Se(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NE(t){if(De.isDocumentKey(t))throw new Se(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Dg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function Ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dg(t);throw new Se(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,e){const n={typeString:t};return e&&(n.value=e),n}function c4(t,e){if(!HR(t))throw new Se(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Se(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=-62135596800,IE=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*IE);return new Wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AE)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IE}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(c4(e,Wt._jsonSchema))return new Wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:_n("string",Wt._jsonSchemaVersion),seconds:_n("number"),nanoseconds:_n("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Wt(0,0))}static max(){return new Ke(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=-1;function VQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new Wt(n+1,0):new Wt(n,r));return new Os(i,De.empty(),e)}function UQ(t){return new Os(t.readTime,t.key,Xf)}class Os{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Os(Ke.min(),De.empty(),Xf)}static max(){return new Os(Ke.max(),De.empty(),Xf)}}function BQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==zQ)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(i=>i?ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new ce((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function WQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ku(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=-1;function Fg(t){return t==null}function rm(t){return t===0&&1/t==-1/0}function HQ(t){return typeof t=="number"&&Number.isInteger(t)&&!rm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="";function GQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CE(e)),e=KQ(t.get(n),e);return CE(e)}function KQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case GR:n+="";break;default:n+=a}}return n}function CE(t){return t+GR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new rn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dp(this.root,e,this.comparator,!1)}getReverseIterator(){return new dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dp(this.root,e,this.comparator,!0)}}class dp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??qn.RED,this.left=i??qn.EMPTY,this.right=a??qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new qn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new In(this.comparator);return n.data=e,n}}class jE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new In(Hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new QR("Invalid base64 string: "+a):a}}(e);return new Yn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const QQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(t){if(kt(!!t,39018),typeof t=="string"){let e=0;const n=QQ.exec(t);if(kt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(t.seconds),nanos:hn(t.nanos)}}function hn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?Yn.fromBase64String(t):Yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="server_timestamp",XR="__type__",JR="__previous_value__",ZR="__local_write_time__";function cx(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XR])==null?void 0:r.stringValue)===YR}function Vg(t){const e=t.mapValue.fields[JR];return cx(e)?Vg(e):e}function Jf(t){const e=js(t.mapValue.fields[ZR].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,n,r,i,a,s,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=d}}const im="(default)";class Zf{constructor(e,n){this.projectId=e,this.database=n||im}static empty(){return new Zf("","")}get isDefaultDatabase(){return this.database===im}isEqual(e){return e instanceof Zf&&e.projectId===this.projectId&&e.database===this.database}}function XQ(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Se(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zf(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="__type__",JQ="__max__",fp={mapValue:{}},tM="__vector__",am="value";function Ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cx(t)?4:eY(t)?9007199254740991:ZQ(t)?10:11:qe(28295,{value:t})}function La(t,e){if(t===e)return!0;const n=Ms(t);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jf(t).isEqual(Jf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=js(i.timestampValue),o=js(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Rs(i.bytesValue).isEqual(Rs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return hn(i.geoPointValue.latitude)===hn(a.geoPointValue.latitude)&&hn(i.geoPointValue.longitude)===hn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return hn(i.integerValue)===hn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=hn(i.doubleValue),o=hn(a.doubleValue);return s===o?rm(s)===rm(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Rc(t.arrayValue.values||[],e.arrayValue.values||[],La);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(OE(s)!==OE(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!La(s[l],o[l])))return!1;return!0}(t,e);default:return qe(52216,{left:t})}}function eh(t,e){return(t.values||[]).find(n=>La(n,e))!==void 0}function Mc(t,e){if(t===e)return 0;const n=Ms(t),r=Ms(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=hn(a.integerValue||a.doubleValue),l=hn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return RE(t.timestampValue,e.timestampValue);case 4:return RE(Jf(t),Jf(e));case 5:return i7(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Rs(a),l=Rs(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=ct(o[c],l[c]);if(u!==0)return u}return ct(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=ct(hn(a.latitude),hn(s.latitude));return o!==0?o:ct(hn(a.longitude),hn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ME(t.arrayValue,e.arrayValue);case 10:return function(a,s){var h,p,g,x;const o=a.fields||{},l=s.fields||{},c=(h=o[am])==null?void 0:h.arrayValue,u=(p=l[am])==null?void 0:p.arrayValue,d=ct(((g=c==null?void 0:c.values)==null?void 0:g.length)||0,((x=u==null?void 0:u.values)==null?void 0:x.length)||0);return d!==0?d:ME(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===fp.mapValue&&s===fp.mapValue)return 0;if(a===fp.mapValue)return 1;if(s===fp.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=i7(l[d],u[d]);if(h!==0)return h;const p=Mc(o[l[d]],c[u[d]]);if(p!==0)return p}return ct(l.length,u.length)}(t.mapValue,e.mapValue);default:throw qe(23264,{he:n})}}function RE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=js(t),r=js(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function ME(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Mc(n[i],r[i]);if(a)return a}return ct(n.length,r.length)}function $c(t){return a7(t)}function a7(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=a7(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${a7(n.fields[s])}`;return i+"}"}(t.mapValue):qe(61005,{value:t})}function l3(t){switch(Ms(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vg(t);return e?16+l3(e):16;case 5:return 2*t.stringValue.length;case 6:return Rs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+l3(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ws(r.fields,(a,s)=>{i+=a.length+l3(s)}),i}(t.mapValue);default:throw qe(13486,{value:t})}}function $E(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function s7(t){return!!t&&"integerValue"in t}function ux(t){return!!t&&"arrayValue"in t}function DE(t){return!!t&&"nullValue"in t}function LE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function c3(t){return!!t&&"mapValue"in t}function ZQ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[eM])==null?void 0:r.stringValue)===tM}function hf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hf(t.arrayValue.values[n]);return e}return{...t}}function eY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!c3(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hf(n)}setAll(e){let n=Hn.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=hf(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());c3(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return La(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];c3(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ws(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new jr(hf(this.value))}}function nM(t){const e=[];return Ws(t.fields,(n,r)=>{const i=new Hn([n]);if(c3(r)){const a=nM(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new rr(e,0,Ke.min(),Ke.min(),Ke.min(),jr.empty(),0)}static newFoundDocument(e,n,r,i){return new rr(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new rr(e,2,n,Ke.min(),Ke.min(),jr.empty(),0)}static newUnknownDocument(e,n){return new rr(e,3,n,Ke.min(),Ke.min(),jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.position=e,this.inclusive=n}}function FE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=De.comparator(De.fromName(s.referenceValue),n.key):r=Mc(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function VE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!La(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n="asc"){this.field=e,this.dir=n}}function tY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{}class wn extends rM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rY(e,n,r):n==="array-contains"?new sY(e,r):n==="in"?new oY(e,r):n==="not-in"?new lY(e,r):n==="array-contains-any"?new cY(e,r):new wn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iY(e,r):new aY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mc(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(Mc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sa extends rM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sa(e,n)}matches(e){return iM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iM(t){return t.op==="and"}function aM(t){return nY(t)&&iM(t)}function nY(t){for(const e of t.filters)if(e instanceof sa)return!1;return!0}function o7(t){if(t instanceof wn)return t.field.canonicalString()+t.op.toString()+$c(t.value);if(aM(t))return t.filters.map(e=>o7(e)).join(",");{const e=t.filters.map(n=>o7(n)).join(",");return`${t.op}(${e})`}}function sM(t,e){return t instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.field.isEqual(i.field)&&La(r.value,i.value)}(t,e):t instanceof sa?function(r,i){return i instanceof sa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&sM(s,i.filters[o]),!0):!1}(t,e):void qe(19439)}function oM(t){return t instanceof wn?function(n){return`${n.field.canonicalString()} ${n.op} ${$c(n.value)}`}(t):t instanceof sa?function(n){return n.op.toString()+" {"+n.getFilters().map(oM).join(" ,")+"}"}(t):"Filter"}class rY extends wn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class iY extends wn{constructor(e,n){super(e,"in",n),this.keys=lM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aY extends wn{constructor(e,n){super(e,"not-in",n),this.keys=lM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lM(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class sY extends wn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ux(n)&&eh(n.arrayValue,this.value)}}class oY extends wn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eh(this.value.arrayValue,n)}}class lY extends wn{constructor(e,n){super(e,"not-in",n)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eh(this.value.arrayValue,n)}}class cY extends wn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ux(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function UE(t,e=null,n=[],r=[],i=null,a=null,s=null){return new uY(t,e,n,r,i,a,s)}function dx(t){const e=Qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>o7(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Fg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$c(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$c(r)).join(",")),e.Te=n}return e.Te}function fx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VE(t.startAt,e.startAt)&&VE(t.endAt,e.endAt)}function l7(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function dY(t,e,n,r,i,a,s,o){return new Pu(t,e,n,r,i,a,s,o)}function hx(t){return new Pu(t)}function BE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fY(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function cM(t){return t.collectionGroup!==null}function pf(t){const e=Qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new In(Hn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new th(a,r))}),n.has(Hn.keyField().canonicalString())||e.Ie.push(new th(Hn.keyField(),r))}return e.Ie}function Ia(t){const e=Qe(t);return e.Ee||(e.Ee=hY(e,pf(t))),e.Ee}function hY(t,e){if(t.limitType==="F")return UE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new th(i.field,a)});const n=t.endAt?new sm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sm(t.startAt.position,t.startAt.inclusive):null;return UE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function c7(t,e){const n=t.filters.concat([e]);return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pY(t,e){const n=t.explicitOrderBy.concat([e]);return new Pu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function u7(t,e,n){return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ug(t,e){return fx(Ia(t),Ia(e))&&t.limitType===e.limitType}function uM(t){return`${dx(Ia(t))}|lt:${t.limitType}`}function Fl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>oM(i)).join(", ")}]`),Fg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$c(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$c(i)).join(",")),`Target(${r})`}(Ia(t))}; limitType=${t.limitType})`}function Bg(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of pf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=FE(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,pf(r),i)||r.endAt&&!function(s,o,l){const c=FE(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,pf(r),i))}(t,e)}function mY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dM(t){return(e,n)=>{let r=!1;for(const i of pf(t)){const a=gY(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function gY(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?Mc(l,c):qe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return KR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yY=new rn(De.comparator);function _0(){return yY}const fM=new rn(De.comparator);function Ld(...t){let e=fM;for(const n of t)e=e.insert(n.key,n);return e}function hM(t){let e=fM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function So(){return mf()}function pM(){return mf()}function mf(){return new vl(t=>t.toString(),(t,e)=>t.isEqual(e))}const vY=new rn(De.comparator),xY=new In(De.comparator);function ut(...t){let e=xY;for(const n of t)e=e.add(n);return e}const bY=new In(ct);function wY(){return bY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rm(e)?"-0":e}}function mM(t){return{integerValue:""+t}}function _Y(t,e){return HQ(e)?mM(e):px(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this._=void 0}}function SY(t,e,n){return t instanceof om?function(i,a){const s={fields:{[XR]:{stringValue:YR},[ZR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&cx(a)&&(a=Vg(a)),a&&(s.fields[JR]=a),{mapValue:s}}(n,e):t instanceof nh?yM(t,e):t instanceof rh?vM(t,e):function(i,a){const s=gM(i,a),o=zE(s)+zE(i.Ae);return s7(s)&&s7(i.Ae)?mM(o):px(i.serializer,o)}(t,e)}function EY(t,e,n){return t instanceof nh?yM(t,e):t instanceof rh?vM(t,e):n}function gM(t,e){return t instanceof lm?function(r){return s7(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class om extends zg{}class nh extends zg{constructor(e){super(),this.elements=e}}function yM(t,e){const n=xM(e);for(const r of t.elements)n.some(i=>La(i,r))||n.push(r);return{arrayValue:{values:n}}}class rh extends zg{constructor(e){super(),this.elements=e}}function vM(t,e){let n=xM(e);for(const r of t.elements)n=n.filter(i=>!La(i,r));return{arrayValue:{values:n}}}class lm extends zg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zE(t){return hn(t.integerValue||t.doubleValue)}function xM(t){return ux(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof nh&&i instanceof nh||r instanceof rh&&i instanceof rh?Rc(r.elements,i.elements,La):r instanceof lm&&i instanceof lm?La(r.Ae,i.Ae):r instanceof om&&i instanceof om}(t.transform,e.transform)}class PY{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function u3(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qg{}function bM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mx(t.key,Ni.none()):new u4(t.key,t.data,Ni.none());{const n=t.data,r=jr.empty();let i=new In(Hn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Hs(t.key,r,new Zr(i.toArray()),Ni.none())}}function TY(t,e,n){t instanceof u4?function(i,a,s){const o=i.value.clone(),l=WE(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Hs?function(i,a,s){if(!u3(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=WE(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(wM(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function gf(t,e,n,r){return t instanceof u4?function(a,s,o,l){if(!u3(a.precondition,s))return o;const c=a.value.clone(),u=HE(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Hs?function(a,s,o,l){if(!u3(a.precondition,s))return o;const c=HE(a.fieldTransforms,l,s),u=s.data;return u.setAll(wM(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return u3(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function NY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=gM(r.transform,i||null);a!=null&&(n===null&&(n=jr.empty()),n.set(r.field,a))}return n||null}function qE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rc(r,i,(a,s)=>kY(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class u4 extends qg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hs extends qg{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WE(t,e,n){const r=new Map;kt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,EY(s,o,n[i]))}return r}function HE(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,SY(a,s,e))}return r}class mx extends qg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AY extends qg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&TY(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pM();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=bM(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&Rc(this.mutations,e.mutations,(n,r)=>qE(n,r))&&Rc(this.baseMutations,e.baseMutations,(n,r)=>qE(n,r))}}class gx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return vY}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new gx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,pt;function jY(t){switch(t){case oe.OK:return qe(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function _M(t){if(t===void 0)return w0("GRPC error has no .code"),oe.UNKNOWN;switch(t){case vn.OK:return oe.OK;case vn.CANCELLED:return oe.CANCELLED;case vn.UNKNOWN:return oe.UNKNOWN;case vn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case vn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case vn.INTERNAL:return oe.INTERNAL;case vn.UNAVAILABLE:return oe.UNAVAILABLE;case vn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case vn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case vn.NOT_FOUND:return oe.NOT_FOUND;case vn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case vn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case vn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case vn.ABORTED:return oe.ABORTED;case vn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case vn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case vn.DATA_LOSS:return oe.DATA_LOSS;default:return qe(39323,{code:t})}}(pt=vn||(vn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY=new Es([4294967295,4294967295],0);function GE(t){const e=RY().encode(t),n=new DR;return n.update(e),new Uint8Array(n.digest())}function KE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Es([n,r],0),new Es([i,a],0)]}class yx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fd(`Invalid padding: ${n}`);if(r<0)throw new Fd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Es.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Es.fromNumber(r)));return i.compare(MY)===1&&(i=new Es([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GE(e),[r,i]=KE(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new yx(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=GE(e),[r,i]=KE(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,d4.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wg(Ke.min(),i,new rn(ct),_0(),ut())}}class d4{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new d4(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class SM{constructor(e,n){this.targetId=e,this.Ce=n}}class EM{constructor(e,n,r=Yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QE{constructor(){this.ve=0,this.Fe=YE(),this.Me=Yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe(38017,{changeType:a})}}),new d4(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=YE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class $Y{constructor(e){this.Ge=e,this.ze=new Map,this.je=_0(),this.He=hp(),this.Je=hp(),this.Ze=new rn(ct)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(l7(a))if(r===0){const s=new De(a.path);this.et(n,s,rr.newNoDocument(s,Ke.min()))}else kt(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Rs(r).toUint8Array()}catch(l){if(l instanceof QR)return Go("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new yx(s,i,a)}catch(l){return Go(l instanceof Fd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&l7(o.target)){const l=new De(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,rr.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let r=ut();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Wg(e,n,this.Ze,this.je,r);return this.je=_0(),this.He=hp(),this.Je=hp(),this.Ze=new rn(ct),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new QE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new In(ct),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new In(ct),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new QE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hp(){return new rn(De.comparator)}function YE(){return new rn(De.comparator)}const DY={asc:"ASCENDING",desc:"DESCENDING"},LY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FY={and:"AND",or:"OR"};class VY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function d7(t,e){return t.useProto3Json||Fg(e)?e:{value:e}}function cm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UY(t,e){return cm(t,e.toTimestamp())}function Ca(t){return kt(!!t,49232),Ke.fromTimestamp(function(n){const r=js(n);return new Wt(r.seconds,r.nanos)}(t))}function vx(t,e){return f7(t,e).canonicalString()}function f7(t,e){const n=function(i){return new Lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PM(t){const e=Lt.fromString(t);return kt(CM(e),10190,{key:e.toString()}),e}function h7(t,e){return vx(t.databaseId,e.path)}function G5(t,e){const n=PM(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(NM(n))}function TM(t,e){return vx(t.databaseId,e)}function BY(t){const e=PM(t);return e.length===4?Lt.emptyPath():NM(e)}function p7(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NM(t){return kt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XE(t,e,n){return{name:h7(t,e),fields:n.value.mapValue.fields}}function zY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:qe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(kt(u===void 0||typeof u=="string",58123),Yn.fromBase64String(u||"")):(kt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Yn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?oe.UNKNOWN:_M(c.code);return new Se(u,c.message||"")}(s);n=new EM(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=G5(t,r.document.name),a=Ca(r.document.updateTime),s=r.document.createTime?Ca(r.document.createTime):Ke.min(),o=new jr({mapValue:{fields:r.document.fields}}),l=rr.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new d3(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=G5(t,r.document),a=r.readTime?Ca(r.readTime):Ke.min(),s=rr.newNoDocument(i,a),o=r.removedTargetIds||[];n=new d3([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=G5(t,r.document),a=r.removedTargetIds||[];n=new d3([],a,i,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new OY(i,a),o=r.targetId;n=new SM(o,s)}}return n}function qY(t,e){let n;if(e instanceof u4)n={update:XE(t,e.key,e.value)};else if(e instanceof mx)n={delete:h7(t,e.key)};else if(e instanceof Hs)n={update:XE(t,e.key,e.data),updateMask:ZY(e.fieldMask)};else{if(!(e instanceof AY))return qe(16599,{dt:e.type});n={verify:h7(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof om)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof nh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof rh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof lm)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw qe(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:UY(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe(27497)}(t,e.precondition)),n}function WY(t,e){return t&&t.length>0?(kt(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?Ca(i.updateTime):Ca(a);return s.isEqual(Ke.min())&&(s=Ca(a)),new PY(s,i.transformResults||[])}(n,e))):[]}function HY(t,e){return{documents:[TM(t,e.path)]}}function GY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TM(t,i);const a=function(c){if(c.length!==0)return IM(sa.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Vl(h.field),direction:YY(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=d7(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function KY(t){let e=BY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kt(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(d){const h=AM(d);return h instanceof sa&&aM(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(g){return new th(Ul(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,Fg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new sm(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new sm(p,h)}(n.endAt)),dY(e,i,s,a,o,"F",l,c)}function QY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ul(n.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ul(n.unaryFilter.field);return wn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ul(n.unaryFilter.field);return wn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ul(n.unaryFilter.field);return wn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}}(t):t.fieldFilter!==void 0?function(n){return wn.create(Ul(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sa.create(n.compositeFilter.filters.map(r=>AM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}}(n.compositeFilter.op))}(t):qe(30097,{filter:t})}function YY(t){return DY[t]}function XY(t){return LY[t]}function JY(t){return FY[t]}function Vl(t){return{fieldPath:t.canonicalString()}}function Ul(t){return Hn.fromServerFormat(t.fieldPath)}function IM(t){return t instanceof wn?function(n){if(n.op==="=="){if(LE(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NAN"}};if(DE(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LE(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NAN"}};if(DE(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(n.field),op:XY(n.op),value:n.value}}}(t):t instanceof sa?function(n){const r=n.getFilters().map(i=>IM(i));return r.length===1?r[0]:{compositeFilter:{op:JY(n.op),filters:r}}}(t):qe(54877,{filter:t})}function ZY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function OM(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,r,i,a=Ke.min(),s=Ke.min(),o=Yn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.yt=e}}function tX(t){const e=KY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?u7(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(){this.Sn=new rX}addToCollectionParentIndex(e,n){return this.Sn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Os.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class rX{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new In(Lt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new In(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jM=41943040;class Ar{static withCacheSize(e){return new Ar(e,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(jM,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Dc(0)}static ar(){return new Dc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="LruGarbageCollector",iX=1048576;function ek([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class aX{constructor(e){this.Pr=e,this.buffer=new In(ek),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ek(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ke(ZE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ku(n)?ke(ZE,"Ignoring IndexedDB error during garbage collection: ",n):await Eu(n)}await this.Ar(3e5)})}}class oX{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Lg.ce);const r=new aX(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(JE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JE):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Ll()<=lt.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function lX(t,e){return new oX(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(){this.changes=new vl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gf(r.mutation,i,Zr.empty(),Wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ut()){const i=So();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Ld();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=So();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ut()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=_0();const s=mf(),o=function(){return mf()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Hs)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),gf(u.mutation,c,u.mutation.getFieldMask(),Wt.now())):s.set(c.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>o.set(c,new uX(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=mf();let i=new rn((s,o)=>s-o),a=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Zr.empty();u=o.applyToLocalView(c,u),r.set(l,u);const d=(i.get(o.batchId)||ut()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=pM();u.forEach(h=>{if(!a.has(h)){const p=bM(n.get(h),r.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return ce.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return fY(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ce.resolve(So());let o=Xf,l=a;return s.next(c=>ce.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(u)?ce.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,ut())).next(u=>({batchId:o,changes:hM(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let i=Ld();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Ld();return this.indexManager.getCollectionParents(e,a).next(o=>ce.forEach(o,l=>{const c=function(d,h){return new Pu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,rr.newInvalidDocument(u)))});let o=Ld();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&gf(u.mutation,c,Zr.empty(),Wt.now()),Bg(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ce.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ca(i.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:tX(i.bundledQuery),readTime:Ca(i.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(){this.overlays=new rn(De.comparator),this.Lr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=So();return ce.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.bt(e,n,a)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=So(),a=n.length+1,s=new De(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new rn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=So(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=So(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return ce.resolve(o)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new CY(n,r));let a=this.Lr.get(n);a===void 0&&(a=ut(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.kr=new In(Mn.Kr),this.qr=new In(Mn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Mn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Mn(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new De(new Lt([])),r=new Mn(n,e),i=new Mn(n,e+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new De(new Lt([])),r=new Mn(n,e),i=new Mn(n,e+1);let a=ut();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Mn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return De.comparator(e.key,n.key)||ct(e.Hr,n.Hr)}static Ur(e,n){return ct(e.Hr,n.Hr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new In(Mn.Kr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new IY(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new Mn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ce.resolve(s)}lookupMutationBatch(e,n){return ce.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?lx:this.Yn-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mn(n,0),i=new Mn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new In(ct);return n.forEach(i=>{const a=new Mn(i,0),s=new Mn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),ce.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const s=new Mn(new De(a),0);let o=new In(ct);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},s),ce.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){kt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ce.forEach(n.mutations,i=>{const a=new Mn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Mn(n,0),i=this.Jr.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(e){this.ti=e,this.docs=function(){return new rn(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(n))}getEntries(e,n){let r=_0();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():rr.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=_0();const s=n.path,o=new De(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||BQ(UQ(u),r)<=0||(i.has(u.key)||Bg(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return ce.resolve(a)}getAllFromCollectionGroup(e,n,r,i){qe(9500)}ni(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yX(this)}getSize(e){return ce.resolve(this.size)}}class yX extends cX{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(e){this.persistence=e,this.ri=new vl(n=>dx(n),fx),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.ii=0,this.si=new xx,this.targetCount=0,this.oi=Dc._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ce.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Dc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.lr(n),ce.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ce.waitFor(a).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ce.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n){this._i={},this.overlays={},this.ai=new Lg(0),this.ui=!1,this.ui=!0,this.ci=new pX,this.referenceDelegate=e(this),this.li=new vX(this),this.indexManager=new nX,this.remoteDocumentCache=function(i){return new gX(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new eX(n),this.Pi=new fX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new mX(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new xX(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return ce.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class xX extends qQ{constructor(e){super(),this.currentSequenceNumber=e}}class bx{constructor(e){this.persistence=e,this.Ri=new xx,this.Ai=null}static Vi(e){return new bx(e)}get di(){if(this.Ai)return this.Ai;throw qe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.di,r=>{const i=De.fromPath(r);return this.mi(e,i).next(a=>{a||n.removeEntry(i,Ke.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class um{constructor(e,n){this.persistence=e,this.fi=new vl(r=>GQ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=lX(this,n)}static Vi(e,n){return new um(e,n)}Ti(){}Ii(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return ce.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(a=>a?ce.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,n).next(o=>{o||(r++,a.removeEntry(s,Ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ce.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=l3(e.data.value)),n}wr(e,n,r){return ce.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ut(),i=ut();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new wx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return lK()?8:WQ(lr())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new bX;return this.ys(e,n,s).next(o=>{if(a.result=o,this.As)return this.ws(e,n,s,o.size)})}).next(()=>a.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Ll()<=lt.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(Ll()<=lt.DEBUG&&ke("QueryEngine","Query:",Fl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ll()<=lt.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ia(n))):ce.resolve())}gs(e,n){if(BE(n))return ce.resolve(null);let r=Ia(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=u7(n,null,"F"),r=Ia(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=ut(...a);return this.fs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,o);return this.Ss(n,c,s,l.readTime)?this.gs(e,u7(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,i){return BE(n)||i.isEqual(Ke.min())?ce.resolve(null):this.fs.getDocuments(e,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?ce.resolve(null):(Ll()<=lt.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fl(n)),this.Ds(e,s,n,VQ(i,Xf)).next(o=>o))})}bs(e,n){let r=new In(dM(e));return n.forEach((i,a)=>{Bg(e,a)&&(r=r.add(a))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return Ll()<=lt.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Fl(n)),this.fs.getDocumentsMatchingQuery(e,n,Os.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="LocalStore",_X=3e8;class SX{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new rn(ct),this.Fs=new vl(a=>dx(a),fx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dX(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function EX(t,e,n,r){return new SX(t,e,n,r)}async function MM(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=ut();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:o}))})})}function kX(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=ce.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(x=>{const y=c.docVersions.get(g);kt(y!==null,48541),x.version.compareTo(y)<0&&(d.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),u.addEntry(x)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ut();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $M(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function PX(t,e){const n=Qe(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;o.push(n.li.removeMatchingKeys(a,u.removedDocuments,d).next(()=>n.li.addMatchingKeys(a,u.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Yn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(x,y,v){return x.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=_X?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&o.push(n.li.updateTargetData(a,p))});let l=_0(),c=ut();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(TX(a,s,e.documentUpdates).next(u=>{l=u.Bs,c=u.Ls})),!r.isEqual(Ke.min())){const u=n.li.getLastRemoteSnapshotVersion(a).next(d=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return ce.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.vs=i,a))}function TX(t,e,n){let r=ut(),i=ut();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=_0();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ke.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):ke(_x,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function NX(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=lx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AX(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(a=>a?(i=a,ce.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new ls(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function m7(t,e,n){const r=Qe(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ku(s))throw s;ke(_x,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function tk(t,e,n){const r=Qe(t);let i=Ke.min(),a=ut();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Qe(l),h=d.Fs.get(u);return h!==void 0?ce.resolve(d.vs.get(h)):d.li.getTargetData(c,u)}(r,s,Ia(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Ke.min(),n?a:ut())).next(o=>(IX(r,mY(e),o),{documents:o,ks:a})))}function IX(t,e,n){let r=t.Ms.get(e)||Ke.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ms.set(e,r)}class nk{constructor(){this.activeTargetIds=wY()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CX{constructor(){this.vo=new nk,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="ConnectivityMonitor";class ik{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ke(rk,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ke(rk,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp=null;function g7(){return pp===null?pp=function(){return 268435456+Math.round(2147483648*Math.random())}():pp++,"0x"+pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="RestConnection",jX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class RX{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===im?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=g7(),o=this.Qo(e,n.toUriEncodedString());ke(K5,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:c}=new URL(o),u=zs(c);return this.zo(e,o,l,r,u).then(d=>(ke(K5,`Received RPC '${e}' ${s}: `,d),d),d=>{throw Go(K5,`RPC '${e}' ${s} failed with error: `,d,"url: ",o,"request:",r),d})}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Su}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Qo(e,n){const r=jX[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="WebChannelConnection",cd=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class pc extends RX{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!pc.c_){const e=UR();cd(e,VR.STAT_EVENT,n=>{n.stat===r7.PROXY?ke(Zn,"STAT_EVENT: detected buffering proxy"):n.stat===r7.NOPROXY&&ke(Zn,"STAT_EVENT: detected no buffering proxy")}),pc.c_=!0}}zo(e,n,r,i,a){const s=g7();return new Promise((o,l)=>{const c=new LR;c.setWithCredentials(!0),c.listenOnce(FR.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case o3.NO_ERROR:const d=c.getResponseJson();ke(Zn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case o3.TIMEOUT:ke(Zn,`RPC '${e}' ${s} timed out`),l(new Se(oe.DEADLINE_EXCEEDED,"Request time out"));break;case o3.HTTP_ERROR:const h=c.getStatus();if(ke(Zn,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const x=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(b)>=0?b:oe.UNKNOWN}(g.status);l(new Se(x,g.message))}else l(new Se(oe.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Se(oe.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ke(Zn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ke(Zn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=g7(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const c=a.join("");ke(Zn,`Creating RPC '${e}' stream ${i}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new MX({Ho:g=>{h?ke(Zn,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(ke(Zn,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),ke(Zn,`RPC '${e}' stream ${i} sending:`,g),u.send(g))},Jo:()=>u.close()});return cd(u,Dd.EventType.OPEN,()=>{h||(ke(Zn,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),cd(u,Dd.EventType.CLOSE,()=>{h||(h=!0,ke(Zn,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(u))}),cd(u,Dd.EventType.ERROR,g=>{h||(h=!0,Go(Zn,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new Se(oe.UNAVAILABLE,"The operation could not be completed")))}),cd(u,Dd.EventType.MESSAGE,g=>{var x;if(!h){const y=g.data[0];kt(!!y,16349);const v=y,b=(v==null?void 0:v.error)||((x=v[0])==null?void 0:x.error);if(b){ke(Zn,`RPC '${e}' stream ${i} received error:`,b);const w=b.status;let S=function(_){const k=vn[_];if(k!==void 0)return _M(k)}(w),E=b.message;w==="NOT_FOUND"&&E.includes("database")&&E.includes("does not exist")&&E.includes(this.databaseId.database)&&Go(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),S===void 0&&(S=oe.INTERNAL,E="Unknown error status: "+w+" with message "+b.message),h=!0,p.o_(new Se(S,E)),u.close()}else ke(Zn,`RPC '${e}' stream ${i} received:`,y),p.__(y)}}),pc.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return BR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(t){return new pc(t)}function Q5(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){return new VY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pc.c_=!1;class DM{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="PersistentStream";class LM{constructor(e,n,r,i,a,s,o,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(w0(n.toString()),w0("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Se(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ke(ak,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(ke(ak,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DX extends LM{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zY(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ke.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ke.min():s.readTime?Ca(s.readTime):Ke.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=p7(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=l7(l)?{documents:HY(a,l)}:{query:GY(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=kM(a,s.resumeToken);const c=d7(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ke.min())>0){o.readTime=cm(a,s.snapshotVersion.toTimestamp());const c=d7(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=QY(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=p7(this.serializer),n.removeTarget=e,this.K_(n)}}class LX extends LM{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WY(e.writeResults,e.commitTime),r=Ca(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=p7(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qY(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{}class VX extends FX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(e,f7(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(oe.UNKNOWN,a.toString())})}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(e,f7(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(oe.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function UX(t,e,n,r){return new VX(t,e,n,r)}class BX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(w0(n),this.aa=!1):ke("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="RemoteStore";class zX{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{xl(this)&&(ke(Ko,"Restarting streams for network reachability change."),await async function(l){const c=Qe(l);c.Ea.add(4),await f4(c),c.Va.set("Unknown"),c.Ea.delete(4),await Gg(c)}(this))})}),this.Va=new BX(r,i)}}async function Gg(t){if(xl(t))for(const e of t.Ra)await e(!0)}async function f4(t){for(const e of t.Ra)await e(!1)}function FM(t,e){const n=Qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Px(n)?kx(n):Tu(n).O_()&&Ex(n,e))}function Sx(t,e){const n=Qe(t),r=Tu(n);n.Ia.delete(e),r.O_()&&VM(n,e),n.Ia.size===0&&(r.O_()?r.L_():xl(n)&&n.Va.set("Unknown"))}function Ex(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tu(t).Z_(e)}function VM(t,e){t.da.$e(e),Tu(t).X_(e)}function kx(t){t.da=new $Y({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Tu(t).start(),t.Va.ua()}function Px(t){return xl(t)&&!Tu(t).x_()&&t.Ia.size>0}function xl(t){return Qe(t).Ea.size===0}function UM(t){t.da=void 0}async function qX(t){t.Va.set("Online")}async function WX(t){t.Ia.forEach((e,n)=>{Ex(t,e)})}async function HX(t,e){UM(t),Px(t)?(t.Va.ha(e),kx(t)):t.Va.set("Unknown")}async function GX(t,e,n){if(t.Va.set("Online"),e instanceof EM&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))}(t,e)}catch(r){ke(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dm(t,r)}else if(e instanceof d3?t.da.Xe(e):e instanceof SM?t.da.st(e):t.da.tt(e),!n.isEqual(Ke.min()))try{const r=await $M(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(Yn.EMPTY_BYTE_STRING,u.snapshotVersion)),VM(a,l);const d=new ls(u.target,l,c,u.sequenceNumber);Ex(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ke(Ko,"Failed to raise snapshot:",r),await dm(t,r)}}async function dm(t,e,n){if(!ku(e))throw e;t.Ea.add(1),await f4(t),t.Va.set("Offline"),n||(n=()=>$M(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke(Ko,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gg(t)})}function BM(t,e){return e().catch(n=>dm(t,n,e))}async function Kg(t){const e=Qe(t),n=$s(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lx;for(;KX(e);)try{const i=await NX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,QX(e,i)}catch(i){await dm(e,i)}zM(e)&&qM(e)}function KX(t){return xl(t)&&t.Ta.length<10}function QX(t,e){t.Ta.push(e);const n=$s(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function zM(t){return xl(t)&&!$s(t).x_()&&t.Ta.length>0}function qM(t){$s(t).start()}async function YX(t){$s(t).ra()}async function XX(t){const e=$s(t);for(const n of t.Ta)e.ea(n.mutations)}async function JX(t,e,n){const r=t.Ta.shift(),i=gx.from(r,e,n);await BM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kg(t)}async function ZX(t,e){e&&$s(t).Y_&&await async function(r,i){if(function(s){return jY(s)&&s!==oe.ABORTED}(i.code)){const a=r.Ta.shift();$s(r).B_(),await BM(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Kg(r)}}(t,e),zM(t)&&qM(t)}async function sk(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),ke(Ko,"RemoteStore received new credentials");const r=xl(n);n.Ea.add(3),await f4(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gg(n)}async function eJ(t,e){const n=Qe(t);e?(n.Ea.delete(2),await Gg(n)):e||(n.Ea.add(2),await f4(n),n.Va.set("Unknown"))}function Tu(t){return t.ma||(t.ma=function(n,r,i){const a=Qe(n);return a.sa(),new DX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:qX.bind(null,t),Yo:WX.bind(null,t),t_:HX.bind(null,t),J_:GX.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Px(t)?kx(t):t.Va.set("Unknown")):(await t.ma.stop(),UM(t))})),t.ma}function $s(t){return t.fa||(t.fa=function(n,r,i){const a=Qe(n);return a.sa(),new LX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:YX.bind(null,t),t_:ZX.bind(null,t),ta:XX.bind(null,t),na:JX.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Kg(t)):(await t.fa.stop(),t.Ta.length>0&&(ke(Ko,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new Tx(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nx(t,e){if(w0("AsyncQueue",`${e}: ${t}`),ku(t))return new Se(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{static emptySet(e){return new mc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Ld(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.ga=new rn(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):qe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lc{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Lc(e,n,mc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class nJ{constructor(){this.queries=lk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Qe(n),a=i.queries;i.queries=lk(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new Se(oe.ABORTED,"Firestore shutting down"))}}function lk(){return new vl(t=>uM(t),Ug)}async function WM(t,e){const n=Qe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new tJ,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=Nx(s,`Initialization of query '${Fl(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Ax(n)}async function HM(t,e){const n=Qe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rJ(t,e){const n=Qe(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&Ax(n)}function iJ(t,e,n){const r=Qe(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function Ax(t){t.Ca.forEach(e=>{e.next()})}var y7,ck;(ck=y7||(y7={})).Ma="default",ck.Cache="cache";class GM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==y7.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.key=e}}class QM{constructor(e){this.key=e}}class aJ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.eu=dM(e),this.tu=new mc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new ok,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=Bg(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?g!==x&&(r.track({type:3,doc:p}),y=!0):this.su(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(p?(s=s.add(p),a=x?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,d)=>function(p,g){const x=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:y})}};return x(p)-x(g)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Xa;return this.Xa=l,s.length!==0||c?{snapshot:new Lc(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ok,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new QM(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new KM(r))}),n}cu(e){this.Za=e.ks,this.Ya=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Lc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ix="SyncEngine";class sJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oJ{constructor(e){this.key=e,this.hu=!1}}class lJ{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new vl(o=>uM(o),Ug),this.Iu=new Map,this.Eu=new Set,this.Ru=new rn(De.comparator),this.Au=new Map,this.Vu=new xx,this.du={},this.mu=new Map,this.fu=Dc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cJ(t,e,n=!0){const r=t$(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await YM(r,e,n,!0),i}async function uJ(t,e){const n=t$(t);await YM(n,e,!0,!1)}async function YM(t,e,n,r){const i=await AX(t.localStore,Ia(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await dJ(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&FM(t.remoteStore,i),o}async function dJ(t,e,n,r,i){t.pu=(d,h,p)=>async function(x,y,v,b){let w=y.view.ru(v);w.Ss&&(w=await tk(x.localStore,y.query,!1).then(({documents:_})=>y.view.ru(_,w)));const S=b&&b.targetChanges.get(y.targetId),E=b&&b.targetMismatches.get(y.targetId)!=null,P=y.view.applyChanges(w,x.isPrimaryClient,S,E);return dk(x,y.targetId,P.au),P.snapshot}(t,d,h,p);const a=await tk(t.localStore,e,!0),s=new aJ(e,a.ks),o=s.ru(a.documents),l=d4.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);dk(t,n,c.au);const u=new sJ(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function fJ(t,e,n){const r=Qe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Ug(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await m7(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sx(r.remoteStore,i.targetId),v7(r,i.targetId)}).catch(Eu)):(v7(r,i.targetId),await m7(r.localStore,i.targetId,!0))}async function hJ(t,e){const n=Qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sx(n.remoteStore,r.targetId))}async function pJ(t,e,n){const r=wJ(t);try{const i=await function(s,o){const l=Qe(s),c=Wt.now(),u=o.reduce((p,g)=>p.add(g.key),ut());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=_0(),x=ut();return l.xs.getEntries(p,u).next(y=>{g=y,g.forEach((v,b)=>{b.isValidDocument()||(x=x.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{d=y;const v=[];for(const b of o){const w=NY(b,d.get(b.key).overlayedDocument);w!=null&&v.push(new Hs(b.key,w,nM(w.value.mapValue),Ni.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,o)}).next(y=>{h=y;const v=y.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(p,y.batchId,v)})}).then(()=>({batchId:h.batchId,changes:hM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.du[s.currentUser.toKey()];c||(c=new rn(ct)),c=c.insert(o,l),s.du[s.currentUser.toKey()]=c}(r,i.batchId,n),await h4(r,i.changes),await Kg(r.remoteStore)}catch(i){const a=Nx(i,"Failed to persist write");n.reject(a)}}async function XM(t,e){const n=Qe(t);try{const r=await PX(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?kt(s.hu,14607):i.removedDocuments.size>0&&(kt(s.hu,42227),s.hu=!1))}),await h4(n,r,e)}catch(r){await Eu(r)}}function uk(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Qe(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.ba)h.va(o)&&(c=!0)}),c&&Ax(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mJ(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new rn(De.comparator);s=s.insert(a,rr.newNoDocument(a,Ke.min()));const o=ut().add(a),l=new Wg(Ke.min(),new Map,new rn(ct),s,o);await XM(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(e),Cx(r)}else await m7(r.localStore,e,!1).then(()=>v7(r,e,n)).catch(Eu)}async function gJ(t,e){const n=Qe(t),r=e.batch.batchId;try{const i=await kX(n.localStore,e);ZM(n,r,null),JM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await h4(n,i)}catch(i){await Eu(i)}}async function yJ(t,e,n){const r=Qe(t);try{const i=await function(s,o){const l=Qe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(kt(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);ZM(r,e,n),JM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await h4(r,i)}catch(i){await Eu(i)}}function JM(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function ZM(t,e,n){const r=Qe(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function v7(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||e$(t,r)})}function e$(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Sx(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Cx(t))}function dk(t,e,n){for(const r of n)r instanceof KM?(t.Vu.addReference(r.key,e),vJ(t,r)):r instanceof QM?(ke(Ix,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||e$(t,r.key)):qe(19791,{wu:r})}function vJ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(ke(Ix,"New document in limbo: "+n),t.Eu.add(r),Cx(t))}function Cx(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Lt.fromString(e)),r=t.fu.next();t.Au.set(r,new oJ(n)),t.Ru=t.Ru.insert(n,r),FM(t.remoteStore,new ls(Ia(hx(n.path)),r,"TargetPurposeLimboResolution",Lg.ce))}}async function h4(t,e,n){const r=Qe(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=wx.Es(l.targetId,c);a.push(d)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,c){const u=Qe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ce.forEach(c,h=>ce.forEach(h.Ts,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>ce.forEach(h.Is,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!ku(d))throw d;ke(_x,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.vs.get(h),g=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(g);u.vs=u.vs.insert(h,x)}}}(r.localStore,a))}async function xJ(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){ke(Ix,"User change. New user:",e.toKey());const r=await MM(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new Se(oe.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await h4(n,r.Ns)}}function bJ(t,e){const n=Qe(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let i=ut();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function t$(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mJ.bind(null,e),e.Pu.J_=rJ.bind(null,e.eventManager),e.Pu.yu=iJ.bind(null,e.eventManager),e}function wJ(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yJ.bind(null,e),e}class fm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return EX(this.persistence,new wX,e.initialUser,this.serializer)}Cu(e){return new RM(bx.Vi,this.serializer)}Du(e){return new CX}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fm.provider={build:()=>new fm};class _J extends fm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){kt(this.persistence.referenceDelegate instanceof um,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new RM(r=>um.Vi(r,n),this.serializer)}}class x7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xJ.bind(null,this.syncEngine),await eJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nJ}()}createDatastore(e){const n=Hg(e.databaseInfo.databaseId),r=$X(e.databaseInfo);return UX(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new zX(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>uk(this.syncEngine,n,0),function(){return ik.v()?new ik:new OX}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const d=new lJ(i,a,s,o,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Qe(i);ke(Ko,"RemoteStore shutting down."),a.Ea.add(5),await f4(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}x7.provider={build:()=>new x7};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):w0("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class SJ{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=tr.UNAUTHENTICATED,this.clientId=ox.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{ke(Ds,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ke(Ds,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Y5(t,e){t.asyncQueue.verifyOperationInProgress(),ke(Ds,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EJ(t);ke(Ds,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sk(e.remoteStore,i)),t._onlineComponents=e}async function EJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(Ds,"Using user provided OfflineComponentProvider");try{await Y5(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await Y5(t,new fm)}}else ke(Ds,"Using default OfflineComponentProvider"),await Y5(t,new _J(void 0));return t._offlineComponents}async function r$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(Ds,"Using user provided OnlineComponentProvider"),await fk(t,t._uninitializedComponentsProvider._online)):(ke(Ds,"Using default OnlineComponentProvider"),await fk(t,new x7))),t._onlineComponents}function kJ(t){return r$(t).then(e=>e.syncEngine)}async function b7(t){const e=await r$(t),n=e.eventManager;return n.onListen=cJ.bind(null,e.syncEngine),n.onUnlisten=fJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hJ.bind(null,e.syncEngine),n}function PJ(t,e,n,r){const i=new n$(r),a=new GM(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>WM(await b7(t),a)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>HM(await b7(t),a))}}function TJ(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new n$({next:h=>{u.Nu(),s.enqueueAndForget(()=>HM(a,d)),h.fromCache&&l.source==="server"?c.reject(new Se(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new GM(o,u,{includeMetadataChanges:!0,Ka:!0});return WM(a,d)}(await b7(t),t.asyncQueue,e,n,r)),r.promise}function NJ(t,e){const n=new ks;return t.asyncQueue.enqueueAndForget(async()=>pJ(await kJ(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ="ComponentProvider",hk=new Map;function IJ(t,e,n,r,i){return new YQ(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i$(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$="firestore.googleapis.com",pk=!0;class mk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a$,this.ssl=pk}else this.host=e.host,this.ssl=e.ssl??pk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iX)throw new Se(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i$(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AQ;switch(r.type){case"firstParty":return new jQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hk.get(n);r&&(ke(AJ,"Removing Datastore"),hk.delete(n),r.terminate())}(this),Promise.resolve()}}function CJ(t,e,n,r={}){var c;t=Ti(t,Qg);const i=zs(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(rx(`https://${o}`),ix("Firestore",!0)),a.host!==a$&&a.host!==o&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!Cs(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=tr.MOCK_USER;else{u=TR(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Se(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new tr(h)}t._authCredentials=new IQ(new qR(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(c4(n,mn._jsonSchema))return new mn(e,r||null,new De(Lt.fromString(n.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:_n("string",mn._jsonSchemaVersion),referencePath:_n("string")};class Ps extends Gs{constructor(e,n,r){super(e,n,hx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new De(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function ud(t,e,...n){if(t=At(t),WR("collection","path",e),t instanceof Qg){const r=Lt.fromString(e,...n);return NE(r),new Ps(t,null,r)}{if(!(t instanceof mn||t instanceof Ps))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return NE(r),new Ps(t.firestore,null,r)}}function f3(t,e,...n){if(t=At(t),arguments.length===1&&(e=ox.newId()),WR("doc","path",e),t instanceof Qg){const r=Lt.fromString(e,...n);return TE(r),new mn(t,null,new De(r))}{if(!(t instanceof mn||t instanceof Ps))throw new Se(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return TE(r),new mn(t.firestore,t instanceof Ps?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="AsyncQueue";class yk{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DM(this,"async_queue_retry"),this._c=()=>{const r=Q5();r&&ke(gk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Q5();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Q5();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ks;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ku(e))throw e;ke(gk,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,w0("INTERNAL UNHANDLED ERROR: ",vk(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Tx.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&qe(47125,{Pc:vk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ls extends Qg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yk(e),this._firestoreClient=void 0,await e}}}function OJ(t,e){const n=typeof t=="object"?t:$g(),r=typeof t=="string"?t:im,i=qs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=ER("firestore");a&&CJ(i,...a)}return i}function Ox(t){if(t._terminated)throw new Se(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jJ(t),t._firestoreClient}function jJ(t){var r,i,a,s;const e=t._freezeSettings(),n=IJ(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new SJ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bi(Yn.fromBase64String(e))}catch(n){throw new Se(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bi(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(c4(e,bi._jsonSchema))return bi.fromBase64String(e.bytes)}}bi._jsonSchemaVersion="firestore/bytes/1.0",bi._jsonSchema={type:_n("string",bi._jsonSchemaVersion),bytes:_n("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oa._jsonSchemaVersion}}static fromJSON(e){if(c4(e,Oa._jsonSchema))return new Oa(e.latitude,e.longitude)}}Oa._jsonSchemaVersion="firestore/geoPoint/1.0",Oa._jsonSchema={type:_n("string",Oa._jsonSchemaVersion),latitude:_n("number"),longitude:_n("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(c4(e,ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ta(e.vectorValues);throw new Se(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ta._jsonSchemaVersion="firestore/vectorValue/1.0",ta._jsonSchema={type:_n("string",ta._jsonSchemaVersion),vectorValues:_n("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ=/^__.*__$/;class MJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new u4(e,this.data,n,this.fieldTransforms)}}class s${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function o$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{dataSource:t})}}class Mx{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Mx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return hm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(o$(this.dataSource)&&RJ.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class $J{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hg(e)}createContext(e,n,r,i=!1){return new Mx({dataSource:e,methodName:n,targetDoc:r,path:Hn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yg(t){const e=t._freezeSettings(),n=Hg(t._databaseId);return new $J(t._databaseId,!!e.ignoreUndefinedProperties,n)}function l$(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);$x("Data must be an object, but it was:",s,r);const o=c$(r,s);let l,c;if(a.merge)l=new Zr(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=Fc(e,d,n);if(!s.contains(h))throw new Se(oe.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);f$(u,h)||u.push(h)}l=new Zr(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new MJ(new jr(o),l,c)}class Xg extends Rx{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xg}}function DJ(t,e,n,r){const i=t.createContext(1,e,n);$x("Data must be an object, but it was:",i,r);const a=[],s=jr.empty();Ws(r,(l,c)=>{const u=d$(e,l,n);c=At(c);const d=i.childContextForFieldPath(u);if(c instanceof Xg)a.push(u);else{const h=p4(c,d);h!=null&&(a.push(u),s.set(u,h))}});const o=new Zr(a);return new s$(s,o,i.fieldTransforms)}function LJ(t,e,n,r,i,a){const s=t.createContext(1,e,n),o=[Fc(e,r,n)],l=[i];if(a.length%2!=0)throw new Se(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(Fc(e,a[h])),l.push(a[h+1]);const c=[],u=jr.empty();for(let h=o.length-1;h>=0;--h)if(!f$(c,o[h])){const p=o[h];let g=l[h];g=At(g);const x=s.childContextForFieldPath(p);if(g instanceof Xg)c.push(p);else{const y=p4(g,x);y!=null&&(c.push(p),u.set(p,y))}}const d=new Zr(c);return new s$(u,d,s.fieldTransforms)}function FJ(t,e,n,r=!1){return p4(n,t.createContext(r?4:3,e))}function p4(t,e){if(u$(t=At(t)))return $x("Unsupported field value:",e,t),c$(t,e);if(t instanceof Rx)return function(r,i){if(!o$(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=p4(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _Y(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Wt.fromDate(r);return{timestampValue:cm(i.serializer,a)}}if(r instanceof Wt){const a=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cm(i.serializer,a)}}if(r instanceof Oa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bi)return{bytesValue:kM(i.serializer,r._byteString)};if(r instanceof mn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ta)return function(s,o){const l=s instanceof ta?s.toArray():s;return{mapValue:{fields:{[eM]:{stringValue:tM},[am]:{arrayValue:{values:l.map(u=>{if(typeof u!="number")throw o.createError("VectorValues must only contain numeric values.");return px(o.serializer,u)})}}}}}}(r,i);if(OM(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Dg(r)}`)}(t,e)}function c$(t,e){const n={};return KR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(t,(r,i)=>{const a=p4(i,e.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function u$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof Oa||t instanceof bi||t instanceof mn||t instanceof Rx||t instanceof ta||OM(t))}function $x(t,e,n){if(!u$(n)||!HR(n)){const r=Dg(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Fc(t,e,n){if((e=At(e))instanceof jx)return e._internalPath;if(typeof e=="string")return d$(t,e);throw hm("Field path arguments must be of type string or ",t,!1,void 0,n)}const VJ=new RegExp("[~\\*/\\[\\]]");function d$(t,e,n){if(e.search(VJ)>=0)throw hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jx(...e.split("."))._internalPath}catch{throw hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hm(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Se(oe.INVALID_ARGUMENT,o+t+l)}function f$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ws(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[am].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>hn(s.doubleValue));return new ta(n)}convertGeoPoint(e){return new Oa(hn(e.latitude),hn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jf(e));default:return null}}convertTimestamp(e){const n=js(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);kt(CM(r),9688,{name:e});const i=new Zf(r.get(1),r.get(3)),a=new De(r.popFirst(5));return i.isEqual(n)||w0(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends UJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}const xk="@firebase/firestore",bk="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Fc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BJ extends h${data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lx{}class m$ extends Lx{}function zJ(t,e,...n){let r=[];e instanceof Lx&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof Vx).length,o=a.filter(l=>l instanceof Fx).length;if(s>1||s>0&&o>0)throw new Se(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Fx extends m${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fx(e,n,r)}_apply(e){const n=this._parse(e);return g$(e._query,n),new Gs(e.firestore,e.converter,c7(e._query,n))}_parse(e){const n=Yg(e.firestore);return function(a,s,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Sk(d,u);const g=[];for(const x of d)g.push(_k(l,a,x));h={arrayValue:{values:g}}}else h=_k(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Sk(d,u),h=FJ(o,s,d,u==="in"||u==="not-in");return wn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Vx extends Lx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)g$(s,l),s=c7(s,l)}(e._query,n),new Gs(e.firestore,e.converter,c7(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ux extends m${constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ux(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new th(a,s)}(e._query,this._field,this._direction);return new Gs(e.firestore,e.converter,pY(e._query,n))}}function qJ(t,e="asc"){const n=e,r=Fc("orderBy",t);return Ux._create(r,n)}function _k(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new Se(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cM(e)&&n.indexOf("/")!==-1)throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!De.isDocumentKey(r))throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $E(t,new De(r))}if(n instanceof mn)return $E(t,n._key);throw new Se(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dg(n)}.`)}function Sk(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g$(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function y$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Vd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mo extends h${constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new h3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Mo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mo._jsonSchema={type:_n("string",Mo._jsonSchemaVersion),bundleSource:_n("string","DocumentSnapshot"),bundleName:_n("string"),bundle:_n("string")};class h3 extends Mo{data(e={}){return super.data(e)}}class $o{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new h3(this._firestore,this._userDataWriter,r.key,r,new Vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new h3(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Vd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new h3(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Vd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:WJ(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ox.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:_n("string",$o._jsonSchemaVersion),bundleSource:_n("string","QuerySnapshot"),bundleName:_n("string"),bundle:_n("string")};function HJ(t){t=Ti(t,Gs);const e=Ti(t.firestore,Ls),n=Ox(e),r=new Dx(e);return p$(t._query),TJ(n,t._query).then(i=>new $o(e,r,t,i))}function GJ(t,e,n){t=Ti(t,mn);const r=Ti(t.firestore,Ls),i=y$(t.converter,e),a=Yg(r);return Jg(r,[l$(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ni.none())])}function KJ(t,e,n,...r){t=Ti(t,mn);const i=Ti(t.firestore,Ls),a=Yg(i);let s;return s=typeof(e=At(e))=="string"||e instanceof jx?LJ(a,"updateDoc",t._key,e,n,r):DJ(a,"updateDoc",t._key,e),Jg(i,[s.toMutation(t._key,Ni.exists(!0))])}function Ek(t){return Jg(Ti(t.firestore,Ls),[new mx(t._key,Ni.none())])}function QJ(t,e){const n=Ti(t.firestore,Ls),r=f3(t),i=y$(t.converter,e),a=Yg(t.firestore);return Jg(n,[l$(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ni.exists(!1))]).then(()=>r)}function kk(t,...e){var c,u,d;t=At(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wk(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wk(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,s,o;if(t instanceof mn)s=Ti(t.firestore,Ls),o=hx(t._key.path),a={next:h=>{e[r]&&e[r](YJ(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Ti(t,Gs);s=Ti(h.firestore,Ls),o=h._query;const p=new Dx(s);a={next:g=>{e[r]&&e[r](new $o(s,p,h,g))},error:e[r+1],complete:e[r+2]},p$(t._query)}const l=Ox(s);return PJ(l,o,i,a)}function Jg(t,e){const n=Ox(t);return NJ(n,e)}function YJ(t,e,n){const r=n.docs.get(e._key),i=new Dx(t);return new Mo(t,i,e._key,r,new Vd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){NQ(yl),aa(new Oi("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new Ls(new CQ(r.getProvider("auth-internal")),new RQ(s,r.getProvider("app-check-internal")),XQ(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Vr(xk,bk,e),Vr(xk,bk,"esm2020")})();var XJ="firebase",JJ="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(XJ,JJ,"app");function v$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZJ=v$,x$=new gl("auth","Firebase",v$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Mg("@firebase/auth");function eZ(t,...e){pm.logLevel<=lt.WARN&&pm.warn(`Auth (${yl}): ${t}`,...e)}function p3(t,...e){pm.logLevel<=lt.ERROR&&pm.error(`Auth (${yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,...e){throw zx(t,...e)}function na(t,...e){return zx(t,...e)}function Bx(t,e,n){const r={...ZJ(),[e]:n};return new gl("auth","Firebase",r).create(e,{appName:t.name})}function f0(t){return Bx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tZ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ji(t,"argument-error"),Bx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return x$.create(t,...e)}function ze(t,e,...n){if(!t)throw zx(e,...n)}function r0(t){const e="INTERNAL ASSERTION FAILED: "+t;throw p3(e),new Error(e)}function S0(t,e){t||r0(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function nZ(){return Pk()==="http:"||Pk()==="https:"}function Pk(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nZ()||NR()||"connection"in navigator)?navigator.onLine:!0}function iZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n){this.shortDelay=e,this.longDelay=n,S0(n>e,"Short delay should be less than long delay!"),this.isMobile=rK()||sK()}get(){return rZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t,e){S0(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;r0("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;r0("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;r0("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oZ=new m4(3e4,6e4);function Ks(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ua(t,e,n,r,i={}){return w$(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=l4({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return aK()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&zs(t.emulatorConfig.host)&&(c.credentials="include"),b$.fetch()(await _$(t,t.config.apiHost,n,o),c)})}async function w$(t,e,n){t._canInitEmulator=!1;const r={...aZ,...e};try{const i=new cZ(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw mp(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mp(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw mp(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw mp(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Bx(t,u,c);ji(t,u)}}catch(i){if(i instanceof Mi)throw i;ji(t,"network-request-failed",{message:String(i)})}}async function g4(t,e,n,r,i={}){const a=await Ua(t,e,n,r,i);return"mfaPendingCredential"in a&&ji(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function _$(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?qx(t.config,i):`${t.config.apiScheme}://${i}`;return sZ.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function lZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(na(this.auth,"network-request-failed")),oZ.get())})}}function mp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=na(t,e,r);return i.customData._tokenResponse=n,i}function Tk(t){return t!==void 0&&t.enterprise!==void 0}class uZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dZ(t,e){return Ua(t,"GET","/v2/recaptchaConfig",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fZ(t,e){return Ua(t,"POST","/v1/accounts:delete",e)}async function mm(t,e){return Ua(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hZ(t,e=!1){const n=At(t),r=await n.getIdToken(e),i=Wx(r);ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:yf(X5(i.auth_time)),issuedAtTime:yf(X5(i.iat)),expirationTime:yf(X5(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function X5(t){return Number(t)*1e3}function Wx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return p3("JWT malformed, contained fewer than 3 sections"),null;try{const i=_R(n);return i?JSON.parse(i):(p3("Failed to decode base64 JWT payload"),null)}catch(i){return p3("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Nk(t){const e=Wx(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mi&&pZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yf(this.lastLoginAt),this.creationTime=yf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gm(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Qo(t,mm(e,{idToken:n}));ze(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(d=i.providerUserInfo)!=null&&d.length?S$(i.providerUserInfo):[],s=yZ(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _7(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function gZ(t){const e=At(t);await gm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function S$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vZ(t,e){const n=await w$(t,{},async()=>{const r=l4({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await _$(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&zs(t.emulatorConfig.host)&&(l.credentials="include"),b$.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xZ(t,e){return Ua(t,"POST","/v2/accounts:revokeToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=Nk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await vZ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new gc;return r&&(ze(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ze(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ze(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gc,this.toJSON())}_performRefresh(){return r0("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new mZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _7(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hZ(this,e)}reload(){return gZ(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(f0(this.auth));const e=await this.getIdToken();return await Qo(this,fZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:x}=n;ze(d&&x,e,"internal-error");const y=gc.fromJSON(this.name,x);ze(typeof d=="string",e,"internal-error"),z0(r,e.name),z0(i,e.name),ze(typeof h=="boolean",e,"internal-error"),ze(typeof p=="boolean",e,"internal-error"),z0(a,e.name),z0(s,e.name),z0(o,e.name),z0(l,e.name),z0(c,e.name),z0(u,e.name);const v=new Gi({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:y,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(v.providerData=g.map(b=>({...b}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new gc;i.updateFromServerResponse(n);const a=new Gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?S$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new gc;o.updateFromIdToken(r);const l=new Gi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _7(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new Map;function i0(t){S0(t instanceof Function,"Expected a class definition");let e=Ak.get(t);return e?(S0(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ak.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}E$.type="NONE";const Ik=E$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t,e,n){return`firebase:${t}:${e}:${n}`}class yc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=m3(this.userKey,i.apiKey,a),this.fullPersistenceKey=m3("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mm(this.auth,{idToken:e}).catch(()=>{});return n?Gi._fromGetAccountInfoResponse(this.auth,n,e):null}return Gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yc(i0(Ik),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||i0(Ik);const s=m3(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){let d;if(typeof u=="string"){const h=await mm(e,{idToken:u}).catch(()=>{});if(!h)break;d=await Gi._fromGetAccountInfoResponse(e,h,u)}else d=Gi._fromJSON(e,u);c!==a&&(o=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new yc(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new yc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I$(e))return"Blackberry";if(C$(e))return"Webos";if(P$(e))return"Safari";if((e.includes("chrome/")||T$(e))&&!e.includes("edge/"))return"Chrome";if(A$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function k$(t=lr()){return/firefox\//i.test(t)}function P$(t=lr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T$(t=lr()){return/crios\//i.test(t)}function N$(t=lr()){return/iemobile/i.test(t)}function A$(t=lr()){return/android/i.test(t)}function I$(t=lr()){return/blackberry/i.test(t)}function C$(t=lr()){return/webos/i.test(t)}function Hx(t=lr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bZ(t=lr()){var e;return Hx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function wZ(){return oK()&&document.documentMode===10}function O$(t=lr()){return Hx(t)||A$(t)||C$(t)||I$(t)||/windows phone/i.test(t)||N$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t,e=[]){let n;switch(t){case"Browser":n=Ck(lr());break;case"Worker":n=`${Ck(lr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SZ(t,e={}){return Ua(t,"GET","/v2/passwordPolicy",Ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=6;class kZ{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??EZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ok(this),this.idTokenSubscription=new Ok(this),this.beforeStateQueue=new _Z(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=i0(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await yc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mm(this,{idToken:e}),r=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Or(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(f0(this));const n=e?At(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(f0(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(f0(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(i0(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SZ(this),n=new kZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&i0(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await yc.create(this,[i0(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&eZ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qs(t){return At(t)}class Ok{constructor(e){this.auth=e,this.observer=null,this.addObserver=pK(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TZ(t){Zg=t}function R$(t){return Zg.loadJS(t)}function NZ(){return Zg.recaptchaEnterpriseScript}function AZ(){return Zg.gapiScript}function IZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class CZ{constructor(){this.enterprise=new OZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class OZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jZ="recaptcha-enterprise",M$="NO_RECAPTCHA";class RZ{constructor(e){this.type=jZ,this.auth=Qs(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{dZ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new uZ(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;Tk(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(M$)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CZ().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&Tk(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=NZ();l.length!==0&&(l+=o),R$(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function jk(t,e,n,r=!1,i=!1){const a=new RZ(t);let s;if(i)s=M$;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function S7(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await jk(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await jk(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MZ(t,e){const n=qs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Cs(a,e??{}))return i;ji(i,"already-initialized")}return n.initialize({options:e})}function $Z(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(i0);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DZ(t,e,n){const r=Qs(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=$$(e),{host:s,port:o}=LZ(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(Cs(c,r.config.emulator)&&Cs(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,zs(s)?(rx(`${a}//${s}${l}`),ix("Auth",!0)):FZ()}function $$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LZ(t){const e=$$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Rk(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:Rk(s)}}}function Rk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return r0("not implemented")}_getIdTokenResponse(e){return r0("not implemented")}_linkToIdToken(e,n){return r0("not implemented")}_getReauthenticationResolver(e){return r0("not implemented")}}async function VZ(t,e){return Ua(t,"POST","/v1/accounts:update",e)}async function UZ(t,e){return Ua(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BZ(t,e){return g4(t,"POST","/v1/accounts:signInWithPassword",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zZ(t,e){return g4(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}async function qZ(t,e){return g4(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends Gx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ih(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ih(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S7(e,n,"signInWithPassword",BZ);case"emailLink":return zZ(e,{email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S7(e,r,"signUpPassword",UZ);case"emailLink":return qZ(e,{idToken:n,email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t,e){return g4(t,"POST","/v1/accounts:signInWithIdp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZ="http://localhost";class Yo extends Gx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Yo(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return vc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vc(e,n)}buildRequest(){const e={requestUri:WZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=l4(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GZ(t){const e=Md($d(t)).link,n=e?Md($d(e)).deep_link_id:null,r=Md($d(t)).deep_link_id;return(r?Md($d(r)).link:null)||r||n||e||t}class Kx{constructor(e){const n=Md($d(e)),r=n.apiKey??null,i=n.oobCode??null,a=HZ(n.mode??null);ze(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=GZ(e);try{return new Kx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.providerId=bl.PROVIDER_ID}static credential(e,n){return ih._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kx.parseLink(n);return ze(r,"argument-error"),ih._fromEmailAndCode(e,r.code,r.tenantId)}}bl.PROVIDER_ID="password";bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4 extends Qx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends y4{constructor(){super("facebook.com")}static credential(e){return Yo._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends y4{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yo._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xa.credential(n,r)}catch{return null}}}Xa.GOOGLE_SIGN_IN_METHOD="google.com";Xa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends y4{constructor(){super("github.com")}static credential(e){return Yo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends y4{constructor(){super("twitter.com")}static credential(e,n){return Yo._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KZ(t,e){return g4(t,"POST","/v1/accounts:signUp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Gi._fromIdTokenResponse(e,r,i),s=Mk(r);return new Xo({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Mk(r);return new Xo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Mk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends Mi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ym.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ym(e,n,r,i)}}function D$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ym._fromErrorAndOperation(t,a,e,r):a})}async function QZ(t,e,n=!1){const r=await Qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L$(t,e,n=!1){const{auth:r}=t;if(Or(r.app))return Promise.reject(f0(r));const i="reauthenticate";try{const a=await Qo(t,D$(r,i,e,t),n);ze(a.idToken,r,"internal-error");const s=Wx(a.idToken);ze(s,r,"internal-error");const{sub:o}=s;return ze(t.uid===o,r,"user-mismatch"),Xo._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ji(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F$(t,e,n=!1){if(Or(t.app))return Promise.reject(f0(t));const r="signIn",i=await D$(t,r,e),a=await Xo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function YZ(t,e){return F$(Qs(t),e)}async function XZ(t,e){return L$(At(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(t){const e=Qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JZ(t,e,n){if(Or(t.app))return Promise.reject(f0(t));const r=Qs(t),s=await S7(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KZ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&V$(t),l}),o=await Xo._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function ZZ(t,e,n){return Or(t.app)?Promise.reject(f0(t)):YZ(At(t),bl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&V$(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eee(t,e){return Ua(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=At(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Qo(r,eee(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function tee(t,e){return nee(At(t),null,e)}async function nee(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const s=await Qo(t,VZ(r,a));await t._updateTokensIfNecessary(s,!0)}function ree(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function iee(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function aee(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function see(t){return At(t).signOut()}const vm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vm,"1"),this.storage.removeItem(vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee=1e3,lee=10;class B$ extends U${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);wZ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B$.type="LOCAL";const cee=B$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z$ extends U${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z$.type="SESSION";const q$=z$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new e2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await uee(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=Yx("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(){return window}function fee(t){ja().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(){return typeof ja().WorkerGlobalScope<"u"&&typeof ja().importScripts=="function"}async function hee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function mee(){return W$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$="firebaseLocalStorageDb",gee=1,xm="firebaseLocalStorage",G$="fbase_key";class v4{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function t2(t,e){return t.transaction([xm],e?"readwrite":"readonly").objectStore(xm)}function yee(){const t=indexedDB.deleteDatabase(H$);return new v4(t).toPromise()}function E7(){const t=indexedDB.open(H$,gee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xm,{keyPath:G$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xm)?e(r):(r.close(),await yee(),e(await E7()))})})}async function $k(t,e,n){const r=t2(t,!0).put({[G$]:e,value:n});return new v4(r).toPromise()}async function vee(t,e){const n=t2(t,!1).get(e),r=await new v4(n).toPromise();return r===void 0?null:r.value}function Dk(t,e){const n=t2(t,!0).delete(e);return new v4(n).toPromise()}const xee=800,bee=3;class K${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E7(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=e2._getInstance(mee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await hee(),!this.activeServiceWorker)return;this.sender=new dee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E7();return await $k(e,vm,"1"),await Dk(e,vm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$k(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=t2(i,!1).getAll();return new v4(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K$.type="LOCAL";const wee=K$;new m4(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t,e){return e?i0(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx extends Gx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _ee(t){return F$(t.auth,new Xx(t),t.bypassAuthState)}function See(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),L$(n,new Xx(t),t.bypassAuthState)}async function Eee(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),QZ(n,new Xx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _ee;case"linkViaPopup":case"linkViaRedirect":return Eee;case"reauthViaPopup":case"reauthViaRedirect":return See;default:ji(this.auth,"internal-error")}}resolve(e){S0(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){S0(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kee=new m4(2e3,1e4);async function Pee(t,e,n){if(Or(t.app))return Promise.reject(na(t,"operation-not-supported-in-this-environment"));const r=Qs(t);tZ(t,e,Qx);const i=Q$(r,n);return new Eo(r,"signInViaPopup",e,i).executeNotNull()}class Eo extends Y${constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){S0(this.filter.length===1,"Popup operations only handle one event");const e=Yx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kee.get())};e()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee="pendingRedirect",g3=new Map;class Nee extends Y${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=g3.get(this.auth._key());if(!e){try{const r=await Aee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}g3.set(this.auth._key(),e)}return this.bypassAuthState||g3.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Aee(t,e){const n=Oee(e),r=Cee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Iee(t,e){g3.set(t._key(),e)}function Cee(t){return i0(t._redirectPersistence)}function Oee(t){return m3(Tee,t.config.apiKey,t.name)}async function jee(t,e,n=!1){if(Or(t.app))return Promise.reject(f0(t));const r=Qs(t),i=Q$(r,e),s=await new Nee(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=10*60*1e3;class Mee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$ee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!X$(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(na(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ree&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lk(e))}saveEventToCache(e){this.cachedEventUids.add(Lk(e)),this.lastProcessedEventTime=Date.now()}}function Lk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $ee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dee(t,e={}){return Ua(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fee=/^https?/;async function Vee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Dee(t);for(const n of e)try{if(Uee(n))return}catch{}ji(t,"unauthorized-domain")}function Uee(t){const e=w7(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Fee.test(n))return!1;if(Lee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee=new m4(3e4,6e4);function Fk(){const t=ja().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zee(t){return new Promise((e,n)=>{var i,a,s;function r(){Fk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fk(),n(na(t,"network-request-failed"))},timeout:Bee.get()})}if((a=(i=ja().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=ja().gapi)!=null&&s.load)r();else{const o=IZ("iframefcb");return ja()[o]=()=>{gapi.load?r():n(na(t,"network-request-failed"))},R$(`${AZ()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw y3=null,e})}let y3=null;function qee(t){return y3=y3||zee(t),y3}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee=new m4(5e3,15e3),Hee="__/auth/iframe",Gee="emulator/auth/iframe",Kee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yee(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qx(e,Gee):`https://${t.config.authDomain}/${Hee}`,r={apiKey:e.apiKey,appName:t.name,v:yl},i=Qee.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${l4(r).slice(1)}`}async function Xee(t){const e=await qee(t),n=ja().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:Yee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kee,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=na(t,"network-request-failed"),o=ja().setTimeout(()=>{a(s)},Wee.get());function l(){ja().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zee=500,ete=600,tte="_blank",nte="http://localhost";class Vk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rte(t,e,n,r=Zee,i=ete){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Jee,width:r.toString(),height:i.toString(),top:a,left:s},c=lr().toLowerCase();n&&(o=T$(c)?tte:n),k$(c)&&(e=e||nte,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(bZ(c)&&o!=="_self")return ite(e||"",o),new Vk(null);const d=window.open(e||"",o,u);ze(d,t,"popup-blocked");try{d.focus()}catch{}return new Vk(d)}function ite(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate="__/auth/handler",ste="emulator/auth/handler",ote=encodeURIComponent("fac");async function Uk(t,e,n,r,i,a){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yl,eventId:i};if(e instanceof Qx){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",hK(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof y4){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${ote}=${encodeURIComponent(l)}`:"";return`${lte(t)}?${l4(o).slice(1)}${c}`}function lte({config:t}){return t.emulator?qx(t,ste):`https://${t.authDomain}/${ate}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="webStorageSupport";class cte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q$,this._completeRedirectFn=jee,this._overrideRedirectResult=Iee}async _openPopup(e,n,r,i){var s;S0((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Uk(e,n,r,w7(),i);return rte(e,a,Yx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Uk(e,n,r,w7(),i);return fee(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(S0(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xee(e),r=new Mee(e);return n.register("authEvent",i=>(ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Z5,{type:Z5},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Z5];a!==void 0&&n(!!a),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O$()||P$()||Hx()}}const ute=cte;var Bk="@firebase/auth",zk="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hte(t){aa(new Oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ze(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j$(t)},c=new PZ(r,i,a,l);return $Z(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),aa(new Oi("auth-internal",e=>{const n=Qs(e.getProvider("auth").getImmediate());return(r=>new dte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(Bk,zk,fte(t)),Vr(Bk,zk,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte=5*60,mte=PR("authIdTokenMaxAge")||pte;let qk=null;const gte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mte)return;const i=n==null?void 0:n.token;qk!==i&&(qk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yte(t=$g()){const e=qs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MZ(t,{popupRedirectResolver:ute,persistence:[wee,cee,q$]}),r=PR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=gte(a.toString());iee(n,s,()=>s(n.currentUser)),ree(n,o=>s(o))}}const i=SR("auth");return i&&DZ(n,`http://${i}`),n}function vte(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}TZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=na("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",vte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hte("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="firebasestorage.googleapis.com",Z$="storageBucket",xte=2*60*1e3,bte=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends Mi{constructor(e,n,r=0){super(e6(e),`Firebase Storage: ${n} (${e6(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return e6(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var un;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(un||(un={}));function e6(t){return"storage/"+t}function Jx(){const t="An unknown error occurred, please check the error payload for server response.";return new dn(un.UNKNOWN,t)}function wte(t){return new dn(un.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _te(t){return new dn(un.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ste(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dn(un.UNAUTHENTICATED,t)}function Ete(){return new dn(un.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kte(t){return new dn(un.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Pte(){return new dn(un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Tte(){return new dn(un.CANCELED,"User canceled the upload/download.")}function Nte(t){return new dn(un.INVALID_URL,"Invalid URL '"+t+"'.")}function Ate(t){return new dn(un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ite(){return new dn(un.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Z$+"' property when initializing the app?")}function Cte(){return new dn(un.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ote(){return new dn(un.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jte(t){return new dn(un.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function k7(t){return new dn(un.INVALID_ARGUMENT,t)}function eD(){return new dn(un.APP_DELETED,"The Firebase app was deleted.")}function Rte(t){return new dn(un.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vf(t,e){return new dn(un.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function dd(t){throw new dn(un.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ei.makeFromUrl(e,n)}catch{return new ei(e,"")}if(r.path==="")return r;throw Ate(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},x=n===J$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",v=new RegExp(`^https?://${x}/${i}/${y}`,"i"),w=[{regex:o,indices:l,postModify:a},{regex:p,indices:g,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<w.length;S++){const E=w[S],P=E.regex.exec(e);if(P){const _=P[E.indices.bucket];let k=P[E.indices.path];k||(k=""),r=new ei(_,k),E.postModify(r);break}}if(r==null)throw Nte(e);return r}}class Mte{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $te(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){a&&clearTimeout(a)}function p(y,...v){if(c){h();return}if(y){h(),u.call(null,y,...v);return}if(l()||s){h(),u.call(null,y,...v);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function x(y){g||(g=!0,h(),!c&&(i!==null?(y||(o=2),clearTimeout(i),d(0)):y||(o=1)))}return d(0),a=setTimeout(()=>{s=!0,x(!0)},n),x}function Dte(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lte(t){return t!==void 0}function Fte(t){return typeof t=="object"&&!Array.isArray(t)}function Zx(t){return typeof t=="string"||t instanceof String}function Wk(t){return eb()&&t instanceof Blob}function eb(){return typeof Blob<"u"}function Hk(t,e,n,r){if(r<e)throw k7(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw k7(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function tD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Do;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Do||(Do={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vte(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e,n,r,i,a,s,o,l,c,u,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,x)=>{this.resolve_=g,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===Do.NO_ERROR,l=a.getStatus();if(!o||Vte(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===Do.ABORT;r(!1,new gp(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new gp(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Lte(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=Jx();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?eD():Tte();s(l)}else{const l=Pte();s(l)}};this.canceled_?n(!1,new gp(!1,null,!0)):this.backoffId_=$te(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Dte(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Bte(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zte(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qte(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Wte(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Hte(t,e,n,r,i,a,s=!0,o=!1){const l=tD(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return qte(u,e),Bte(u,n),zte(u,a),Wte(u,r),new Ute(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gte(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Kte(...t){const e=Gte();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(eb())return new Blob(t);throw new dn(un.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Qte(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yte(t){if(typeof atob>"u")throw jte("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class t6{constructor(e,n){this.data=e,this.contentType=n||null}}function Xte(t,e){switch(t){case _a.RAW:return new t6(nD(e));case _a.BASE64:case _a.BASE64URL:return new t6(rD(t,e));case _a.DATA_URL:return new t6(Zte(e),ene(e))}throw Jx()}function nD(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,s=t.charCodeAt(++n);r=65536|(a&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Jte(t){let e;try{e=decodeURIComponent(t)}catch{throw vf(_a.DATA_URL,"Malformed data URL.")}return nD(e)}function rD(t,e){switch(t){case _a.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw vf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _a.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw vf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Yte(e)}catch(i){throw i.message.includes("polyfill")?i:vf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class iD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw vf(_a.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=tne(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Zte(t){const e=new iD(t);return e.base64?rD(_a.BASE64,e.rest):Jte(e.rest)}function ene(t){return new iD(t).contentType}function tne(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){let r=0,i="";Wk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Wk(this.data_)){const r=this.data_,i=Qte(r,e,n);return i===null?null:new rs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new rs(r,!0)}}static getBlob(...e){if(eb()){const n=e.map(r=>r instanceof rs?r.data_:r);return new rs(Kte.apply(null,n))}else{const n=e.map(s=>Zx(s)?Xte(_a.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new rs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){let e;try{e=JSON.parse(t)}catch{return null}return Fte(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nne(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rne(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function sD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ine(t,e){return e}class cr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ine}}let yp=null;function ane(t){return!Zx(t)||t.length<2?t:sD(t)}function oD(){if(yp)return yp;const t=[];t.push(new cr("bucket")),t.push(new cr("generation")),t.push(new cr("metageneration")),t.push(new cr("name","fullPath",!0));function e(a,s){return ane(s)}const n=new cr("name");n.xform=e,t.push(n);function r(a,s){return s!==void 0?Number(s):s}const i=new cr("size");return i.xform=r,t.push(i),t.push(new cr("timeCreated")),t.push(new cr("updated")),t.push(new cr("md5Hash",null,!0)),t.push(new cr("cacheControl",null,!0)),t.push(new cr("contentDisposition",null,!0)),t.push(new cr("contentEncoding",null,!0)),t.push(new cr("contentLanguage",null,!0)),t.push(new cr("contentType",null,!0)),t.push(new cr("metadata","customMetadata",!0)),yp=t,yp}function sne(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new ei(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function one(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const s=n[a];r[s.local]=s.xform(r,e[s.server])}return sne(r,t),r}function lD(t,e,n){const r=aD(e);return r===null?null:one(t,r,n)}function lne(t,e,n,r){const i=aD(e);if(i===null||!Zx(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+s(u)+"/o/"+s(d),p=tb(h,n,r),g=tD({alt:"media",token:c});return p+g})[0]}function cne(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class cD{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){if(!t)throw Jx()}function une(t,e){function n(r,i){const a=lD(t,i,e);return uD(a!==null),a}return n}function dne(t,e){function n(r,i){const a=lD(t,i,e);return uD(a!==null),lne(a,i,t.host,t._protocol)}return n}function dD(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Ete():i=Ste():n.getStatus()===402?i=_te(t.bucket):n.getStatus()===403?i=kte(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function fne(t){const e=dD(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=wte(t.path)),a.serverResponse=i.serverResponse,a}return n}function hne(t,e,n){const r=e.fullServerUrl(),i=tb(r,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new cD(i,a,dne(t,n),s);return o.errorHandler=fne(e),o}function pne(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function mne(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=pne(null,e)),r}function gne(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let S=0;S<2;S++)w=w+Math.random().toString().slice(2);return w}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const c=mne(e,r,i),u=cne(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=rs.getBlob(d,r,h);if(p===null)throw Cte();const g={name:c.fullPath},x=tb(a,t.host,t._protocol),y="POST",v=t.maxUploadRetryTime,b=new cD(x,y,une(t,n),v);return b.urlParams=g,b.headers=s,b.body=p.uploadData(),b.errorHandler=dD(e),b}class yne{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Do.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Do.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Do.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw dd("cannot .send() more than once");if(zs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vne extends yne{initXhr(){this.xhr_.responseType="text"}}function fD(){return new vne}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this._service=e,n instanceof ei?this._location=n:this._location=ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Jo(e,n)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sD(this._location.path)}get storage(){return this._service}get parent(){const e=nne(this._location.path);if(e===null)return null;const n=new ei(this._location.bucket,e);return new Jo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Rte(e)}}function xne(t,e,n){t._throwIfRoot("uploadBytes");const r=gne(t.storage,t._location,oD(),new rs(e,!0),n);return t.storage.makeRequestWithTokens(r,fD).then(i=>({metadata:i,ref:t}))}function bne(t){t._throwIfRoot("getDownloadURL");const e=hne(t.storage,t._location,oD());return t.storage.makeRequestWithTokens(e,fD).then(n=>{if(n===null)throw Ote();return n})}function wne(t,e){const n=rne(t._location.path,e),r=new ei(t._location.bucket,n);return new Jo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ne(t){return/^[A-Za-z]+:\/\//.test(t)}function Sne(t,e){return new Jo(t,e)}function hD(t,e){if(t instanceof nb){const n=t;if(n._bucket==null)throw Ite();const r=new Jo(n,n._bucket);return e!=null?hD(r,e):r}else return e!==void 0?wne(t,e):t}function Ene(t,e){if(e&&_ne(e)){if(t instanceof nb)return Sne(t,e);throw k7("To use ref(service, url), the first argument must be a Storage instance.")}else return hD(t,e)}function Gk(t,e){const n=e==null?void 0:e[Z$];return n==null?null:ei.makeFromBucketSpec(n,t)}function kne(t,e,n,r={}){t.host=`${e}:${n}`;const i=zs(e);i&&(rx(`https://${t.host}/b`),ix("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:TR(a,t.app.options.projectId))}class nb{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=J$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xte,this._maxUploadRetryTime=bte,this._requests=new Set,i!=null?this._bucket=ei.makeFromBucketSpec(i,this._host):this._bucket=Gk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,e):this._bucket=Gk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jo(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Mte(eD());{const s=Hte(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Kk="@firebase/storage",Qk="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="storage";function Pne(t,e,n){return t=At(t),xne(t,e,n)}function Tne(t){return t=At(t),bne(t)}function Nne(t,e){return t=At(t),Ene(t,e)}function Ane(t=$g(),e){t=At(t);const r=qs(t,pD).getImmediate({identifier:e}),i=ER("storage");return i&&Ine(r,...i),r}function Ine(t,e,n,r={}){kne(t,e,n,r)}function Cne(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new nb(n,r,i,e,yl)}function One(){aa(new Oi(pD,Cne,"PUBLIC").setMultipleInstances(!0)),Vr(Kk,Qk,""),Vr(Kk,Qk,"esm2020")}One();const mD="@firebase/installations",rb="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1e4,yD=`w:${rb}`,vD="FIS_v2",jne="https://firebaseinstallations.googleapis.com/v1",Rne=60*60*1e3,Mne="installations",$ne="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dne={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zo=new gl(Mne,$ne,Dne);function xD(t){return t instanceof Mi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD({projectId:t}){return`${jne}/projects/${t}/installations`}function wD(t){return{token:t.token,requestStatus:2,expiresIn:Fne(t.expiresIn),creationTime:Date.now()}}async function _D(t,e){const r=(await e.json()).error;return Zo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function SD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Lne(t,{refreshToken:e}){const n=SD(t);return n.append("Authorization",Vne(e)),n}async function ED(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Fne(t){return Number(t.replace("s","000"))}function Vne(t){return`${vD} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Une({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=bD(t),i=SD(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:vD,appId:t.appId,sdkVersion:yD},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await ED(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:wD(c.authToken)}}else throw await _D("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bne(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zne=/^[cdef][\w-]{21}$/,P7="";function qne(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Wne(t);return zne.test(n)?n:P7}catch{return P7}}function Wne(t){return Bne(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Map;function TD(t,e){const n=n2(t);ND(n,e),Hne(n,e)}function ND(t,e){const n=PD.get(t);if(n)for(const r of n)r(e)}function Hne(t,e){const n=Gne();n&&n.postMessage({key:t,fid:e}),Kne()}let ko=null;function Gne(){return!ko&&"BroadcastChannel"in self&&(ko=new BroadcastChannel("[Firebase] FID Change"),ko.onmessage=t=>{ND(t.data.key,t.data.fid)}),ko}function Kne(){PD.size===0&&ko&&(ko.close(),ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qne="firebase-installations-database",Yne=1,el="firebase-installations-store";let n6=null;function ib(){return n6||(n6=jR(Qne,Yne,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(el)}}})),n6}async function bm(t,e){const n=n2(t),i=(await ib()).transaction(el,"readwrite"),a=i.objectStore(el),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&TD(t,e.fid),e}async function AD(t){const e=n2(t),r=(await ib()).transaction(el,"readwrite");await r.objectStore(el).delete(e),await r.done}async function r2(t,e){const n=n2(t),i=(await ib()).transaction(el,"readwrite"),a=i.objectStore(el),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&TD(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(t){let e;const n=await r2(t.appConfig,r=>{const i=Xne(r),a=Jne(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===P7?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Xne(t){const e=t||{fid:qne(),registrationStatus:0};return ID(e)}function Jne(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Zo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Zne(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ere(t)}:{installationEntry:e}}async function Zne(t,e){try{const n=await Une(t,e);return bm(t.appConfig,n)}catch(n){throw xD(n)&&n.customData.serverCode===409?await AD(t.appConfig):await bm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function ere(t){let e=await Yk(t.appConfig);for(;e.registrationStatus===1;)await kD(100),e=await Yk(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ab(t);return r||n}return e}function Yk(t){return r2(t,e=>{if(!e)throw Zo.create("installation-not-found");return ID(e)})}function ID(t){return tre(t)?{fid:t.fid,registrationStatus:0}:t}function tre(t){return t.registrationStatus===1&&t.registrationTime+gD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nre({appConfig:t,heartbeatServiceProvider:e},n){const r=rre(t,n),i=Lne(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:yD,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await ED(()=>fetch(r,o));if(l.ok){const c=await l.json();return wD(c)}else throw await _D("Generate Auth Token",l)}function rre(t,{fid:e}){return`${bD(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sb(t,e=!1){let n;const r=await r2(t.appConfig,a=>{if(!CD(a))throw Zo.create("not-registered");const s=a.authToken;if(!e&&sre(s))return a;if(s.requestStatus===1)return n=ire(t,e),a;{if(!navigator.onLine)throw Zo.create("app-offline");const o=lre(a);return n=are(t,o),o}});return n?await n:r.authToken}async function ire(t,e){let n=await Xk(t.appConfig);for(;n.authToken.requestStatus===1;)await kD(100),n=await Xk(t.appConfig);const r=n.authToken;return r.requestStatus===0?sb(t,e):r}function Xk(t){return r2(t,e=>{if(!CD(e))throw Zo.create("not-registered");const n=e.authToken;return cre(n)?{...e,authToken:{requestStatus:0}}:e})}async function are(t,e){try{const n=await nre(t,e),r={...e,authToken:n};return await bm(t.appConfig,r),n}catch(n){if(xD(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await AD(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await bm(t.appConfig,r)}throw n}}function CD(t){return t!==void 0&&t.registrationStatus===2}function sre(t){return t.requestStatus===2&&!ore(t)}function ore(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Rne}function lre(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function cre(t){return t.requestStatus===1&&t.requestTime+gD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ure(t){const e=t,{installationEntry:n,registrationPromise:r}=await ab(e);return r?r.catch(console.error):sb(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dre(t,e=!1){const n=t;return await fre(n),(await sb(n,e)).token}async function fre(t){const{registrationPromise:e}=await ab(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hre(t){if(!t||!t.options)throw r6("App Configuration");if(!t.name)throw r6("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw r6(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function r6(t){return Zo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="installations",pre="installations-internal",mre=t=>{const e=t.getProvider("app").getImmediate(),n=hre(e),r=qs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gre=t=>{const e=t.getProvider("app").getImmediate(),n=qs(e,OD).getImmediate();return{getId:()=>ure(n),getToken:i=>dre(n,i)}};function yre(){aa(new Oi(OD,mre,"PUBLIC")),aa(new Oi(pre,gre,"PRIVATE"))}yre();Vr(mD,rb);Vr(mD,rb,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="analytics",vre="firebase_id",xre="origin",bre=60*1e3,wre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ob="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Mg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _re={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ai=new gl("analytics","Analytics",_re);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(t){if(!t.startsWith(ob)){const e=ai.create("invalid-gtag-resource",{gtagURL:t});return _r.warn(e.message),""}return t}function jD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Ere(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function kre(t,e){const n=Ere("firebase-js-sdk-policy",{createScriptURL:Sre}),r=document.createElement("script"),i=`${ob}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Pre(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Tre(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const l=(await jD(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){_r.error(o)}t("config",i,a)}async function Nre(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await jD(n);for(const l of s){const c=o.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){_r.error(a)}}function Are(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,l]=s;await Nre(t,e,n,o,l)}else if(a==="config"){const[o,l]=s;await Tre(t,e,n,r,o,l)}else if(a==="consent"){const[o,l]=s;t("consent",o,l)}else if(a==="get"){const[o,l,c]=s;t("get",o,l,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){_r.error(o)}}return i}function Ire(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Are(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function Cre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ob)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ore=30,jre=1e3;class Rre{constructor(e={},n=jre){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const RD=new Rre;function Mre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $re(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Mre(n)},i=wre.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw ai.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function Dre(t,e=RD,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw ai.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw ai.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Vre;return setTimeout(async()=>{o.abort()},bre),MD({appId:r,apiKey:i,measurementId:a},s,o,e)}async function MD(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=RD){var o;const{appId:a,measurementId:s}=t;try{await Lre(r,e)}catch(l){if(s)return _r.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await $re(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!Fre(c)){if(i.deleteThrottleMetadata(a),s)return _r.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?mE(n,i.intervalMillis,Ore):mE(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,d),_r.debug(`Calling attemptFetch again in ${u} millis`),MD(t,d,r,i)}}function Lre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(ai.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Fre(t){if(!(t instanceof Mi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Vre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ure(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function Bre(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zre(){if(AR())try{await IR()}catch(t){return _r.warn(ai.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return _r.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qre(t,e,n,r,i,a,s){const o=Dre(t);o.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&_r.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>_r.error(h)),e.push(o);const l=zre().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([o,l]);Cre(a)||kre(a,c.measurementId),i("js",new Date);const d=(s==null?void 0:s.config)??{};return d[xre]="firebase",d.update=!0,u!=null&&(d[vre]=u),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(e){this.app=e}_delete(){return delete xc[this.app.options.appId],Promise.resolve()}}let xc={},Jk=[];const Zk={};let i6="dataLayer",Hre="gtag",eP,lb,tP=!1;function Gre(){const t=[];if(NR()&&t.push("This is a browser extension environment."),cK()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ai.create("invalid-analytics-context",{errorInfo:e});_r.warn(n.message)}}function Kre(t,e,n){Gre();const r=t.options.appId;if(!r)throw ai.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_r.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ai.create("no-api-key");if(xc[r]!=null)throw ai.create("already-exists",{id:r});if(!tP){Pre(i6);const{wrappedGtag:a,gtagCore:s}=Ire(xc,Jk,Zk,i6,Hre);lb=a,eP=s,tP=!0}return xc[r]=qre(t,Jk,Zk,e,eP,i6,n),new Wre(t)}function Qre(t=$g()){t=At(t);const e=qs(t,wm);return e.isInitialized()?e.getImmediate():Yre(t)}function Yre(t,e={}){const n=qs(t,wm);if(n.isInitialized()){const i=n.getImmediate();if(Cs(e,n.getOptions()))return i;throw ai.create("already-initialized")}return n.initialize({options:e})}function Xre(t,e,n){t=At(t),Bre(lb,xc[t.app.options.appId],e,n).catch(r=>_r.error(r))}function Jre(t,e,n,r){t=At(t),Ure(lb,xc[t.app.options.appId],e,n,r).catch(i=>_r.error(i))}const nP="@firebase/analytics",rP="0.10.19";function Zre(){aa(new Oi(wm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Kre(r,i,n)},"PUBLIC")),aa(new Oi("analytics-internal",t,"PRIVATE")),Vr(nP,rP),Vr(nP,rP,"esm2020");function t(e){try{const n=e.getProvider(wm).getImmediate();return{logEvent:(r,i,a)=>Jre(n,r,i,a),setUserProperties:(r,i)=>Xre(n,r,i)}}catch(n){throw ai.create("interop-component-reg-failed",{reason:n})}}}Zre();const eie={apiKey:"AIzaSyALROg4hIMFvYd8hydNKxKWmP3Cn5JmdcQ",authDomain:"test-inventory-stoe.firebaseapp.com",projectId:"test-inventory-stoe",storageBucket:"test-inventory-stoe.firebasestorage.app",messagingSenderId:"1081430501971",appId:"1:1081430501971:web:bb4e4be92aa2519ae934a6",measurementId:"G-3Y7YENDSHN"},i2=RR(eie),Rn=yte(i2),q0=OJ(i2),tie=Ane(i2,"gs://test-inventory-stoe.firebasestorage.app");typeof window<"u"&&Qre(i2);const fd={subscribeToCollection:(t,e,n="name",r="asc",i)=>{try{if(!t||typeof e!="function")return console.error("subscribeToCollection: invalid arguments",{collectionName:t,callback:e}),()=>{};const a=n?zJ(ud(q0,t),qJ(n,r)):ud(q0,t);return kk(a,s=>{const o=s.docs.map(l=>({_id:l.id,...l.data()}));e(o)},s=>{if(console.error(`Error subscribing to ${t}:`,s),i&&i(s),s.code==="failed-precondition"||s.message.includes("index")){console.log(`Retrying ${t} without orderBy...`);const o=ud(q0,t);return kk(o,l=>{const c=l.docs.map(u=>({_id:u.id,...u.data()}));e(c)},l=>{i&&i(l)})}})}catch(a){return console.error(`Error setting up subscription for ${t}:`,a),()=>{}}},add:async(t,e)=>{if(!t)throw new Error("add: collectionName is required");try{const n=await QJ(ud(q0,t),e);return{...e,_id:n.id}}catch(n){throw console.error(`Error adding to ${t}:`,n),n}},update:async(t,e,n)=>{if(!t||!e)throw new Error("update: collectionName and id are required");try{const r=f3(q0,t,e);await KJ(r,n)}catch(r){throw console.error(`Error updating ${t}:`,r),r}},set:async(t,e,n)=>{if(!t||!e)throw new Error("set: collectionName and id are required");try{const r=f3(q0,t,e);await GJ(r,n)}catch(r){throw console.error(`Error setting in ${t}:`,r),r}},delete:async(t,e)=>{if(!t||!e)throw new Error("delete: collectionName and id are required");try{const n=f3(q0,t,e);await Ek(n)}catch(n){throw console.error(`Error deleting from ${t}:`,n),n}},clearCollection:async t=>{if(!t)throw new Error("clearCollection: collectionName is required");try{const n=(await HJ(ud(q0,t))).docs.map(r=>Ek(r.ref));await Promise.all(n)}catch(e){throw console.error(`Error clearing ${t}:`,e),e}}};function ur(){var t;return typeof window<"u"&&!!((t=window.desktopAPI)!=null&&t.isDesktop)}async function vp(t,e="updatedAt",n="desc"){return window.desktopAPI.list(t,e,n)}const tt={isDesktop:ur,subscribeToCollection:(t,e,n="name",r="asc",i)=>{if(!ur())return fd.subscribeToCollection(t,e,n,r,i);let a=!0;const s=async()=>{try{const l=await vp(t,n,r);a&&e(l)}catch(l){i&&i(l)}};s();const o=window.desktopAPI.onDataChanged(l=>{(!(l!=null&&l.entity)||l.entity===t||l.entity==="*")&&s()});return()=>{a=!1,o==null||o()}},add:async(t,e)=>{if(!ur())return fd.add(t,e);const n=crypto.randomUUID();return window.desktopAPI.upsert(t,{...e,_id:n})},update:async(t,e,n)=>ur()?window.desktopAPI.upsert(t,{...n,_id:e}):fd.update(t,e,n),set:async(t,e,n)=>ur()?window.desktopAPI.upsert(t,{...n,_id:e}):fd.set(t,e,n),delete:async(t,e)=>ur()?window.desktopAPI.remove(t,e):fd.delete(t,e),listProducts:()=>vp("products","name","asc"),getProduct:t=>window.desktopAPI.get("products",t),upsertProduct:t=>window.desktopAPI.upsert("products",t),deleteProduct:t=>window.desktopAPI.remove("products",t),listOrders:()=>vp("orders","date","desc"),getOrder:t=>window.desktopAPI.get("orders",t),upsertOrder:t=>window.desktopAPI.upsert("orders",t),deleteOrder:t=>window.desktopAPI.remove("orders",t),listCustomers:()=>vp("customers","name","asc"),getCustomer:t=>window.desktopAPI.get("customers",t),upsertCustomer:t=>window.desktopAPI.upsert("customers",t),deleteCustomer:t=>window.desktopAPI.remove("customers",t),syncOnce:async()=>ur()?window.desktopAPI.syncOnce():{skipped:!0},getSyncStatus:async()=>ur()?window.desktopAPI.getSyncStatus():{online:navigator.onLine,pendingCount:0,offlineModeEnabled:!1},getPendingSyncCount:async()=>ur()?window.desktopAPI.getPendingCount():0,getConflicts:async()=>ur()?window.desktopAPI.getConflicts():[],setOnlineStatus:async t=>{ur()&&await window.desktopAPI.setOnline(t)},getOfflineModeEnabled:async()=>ur()?window.desktopAPI.getOfflineMode():!1,setOfflineModeEnabled:async t=>{ur()&&await window.desktopAPI.setOfflineMode(t)},onSyncState:t=>ur()?window.desktopAPI.onSyncState(t):()=>{},onConflict:t=>ur()?window.desktopAPI.onConflict(t):()=>{}},We=t=>typeof t=="string",hd=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},iP=t=>t==null?"":""+t,nie=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},rie=/###/g,aP=t=>t&&t.indexOf("###")>-1?t.replace(rie,"."):t,sP=t=>!t||We(t),xf=(t,e,n)=>{const r=We(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(sP(t))return{};const a=aP(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return sP(t)?{}:{obj:t,k:aP(r[i])}},oP=(t,e,n)=>{const{obj:r,k:i}=xf(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],s=e.slice(0,e.length-1),o=xf(t,s,Object);for(;o.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=xf(t,s,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=n},iie=(t,e,n,r)=>{const{obj:i,k:a}=xf(t,e,Object);i[a]=i[a]||[],i[a].push(n)},_m=(t,e)=>{const{obj:n,k:r}=xf(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},aie=(t,e,n)=>{const r=_m(t,n);return r!==void 0?r:_m(e,n)},$D=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?We(t[r])||t[r]instanceof String||We(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):$D(t[r],e[r],n):t[r]=e[r]);return t},Il=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var sie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const oie=t=>We(t)?t.replace(/[&<>"'\/]/g,e=>sie[e]):t;class lie{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const cie=[" ",",","?","!",";"],uie=new lie(20),die=(t,e,n)=>{e=e||"",n=n||"";const r=cie.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=uie.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},T7=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,o="";for(let l=a;l<r.length;++l)if(l!==a&&(o+=n),o+=r[l],s=i[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=s}return i},ah=t=>t==null?void 0:t.replace("_","-"),fie={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class Sm{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||fie,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(We(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Sm(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Sm(this.logger,e)}}var Sa=new Sm;let a2=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...n])})}};class lP extends a2{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,u;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):We(r)&&a?o.push(...r.split(a)):o.push(r)));const l=_m(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!We(r)?l:T7((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),oP(this.data,o,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(We(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,s={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=_m(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?$D(l,r,a):l={...l,...r},oP(this.data,o,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var DD={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var s;e=((s=this.processors[a])==null?void 0:s.process(e,n,r,i))??e}),e}};const LD=Symbol("i18next/PATH_KEY");function hie(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===LD?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function N7(t,e){const{[LD]:n}=t(hie());return n.join((e==null?void 0:e.keySeparator)??".")}const cP={},a6=t=>!We(t)&&typeof t!="boolean"&&typeof t!="number";class Em extends a2{constructor(e,n={}){super(),nie(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Sa.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const a=a6(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!die(e,r,i);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:We(a)?[a]:a};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(i)}return{key:e,namespaces:We(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=N7(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?a?{res:`${c}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o;const p=this.resolve(e,i);let g=p==null?void 0:p.res;const x=(p==null?void 0:p.usedKey)||o,y=(p==null?void 0:p.exactUsedKey)||o,v=["[object Number]","[object Function]","[object RegExp]"],b=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,S=i.count!==void 0&&!We(i.count),E=Em.hasDefaultValue(i),P=S?this.pluralResolver.getSuffix(d,i.count,i):"",_=i.ordinal&&S?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",k=S&&!i.ordinal&&i.count===0,N=k&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${_}`]||i.defaultValue;let A=g;w&&!g&&E&&(A=N);const I=a6(A),j=Object.prototype.toString.apply(A);if(w&&A&&I&&v.indexOf(j)<0&&!(We(b)&&Array.isArray(A))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,A,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(p.res=O,p.usedParams=this.getUsedParamsDetails(i),p):O}if(s){const O=Array.isArray(A),$=O?[]:{},M=O?y:x;for(const D in A)if(Object.prototype.hasOwnProperty.call(A,D)){const V=`${M}${s}${D}`;E&&!g?$[D]=this.translate(V,{...i,defaultValue:a6(N)?N[D]:void 0,joinArrays:!1,ns:l}):$[D]=this.translate(V,{...i,joinArrays:!1,ns:l}),$[D]===V&&($[D]=A[D])}g=$}}else if(w&&We(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,e,i,r));else{let O=!1,$=!1;!this.isValidLookup(g)&&E&&(O=!0,g=N),this.isValidLookup(g)||($=!0,g=o);const D=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:g,V=E&&N!==g&&this.options.updateMissing;if($||O||V){if(this.logger.log(V?"updateKey":"missingKey",d,c,o,V?N:g),s){const G=this.resolve(o,{...i,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let G=0;G<U.length;G++)F.push(U[G]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(i.lng||this.language):F.push(i.lng||this.language);const W=(G,H,te)=>{var me;const ue=E&&te!==g?te:D;this.options.missingKeyHandler?this.options.missingKeyHandler(G,c,H,ue,V,i):(me=this.backendConnector)!=null&&me.saveMissing&&this.backendConnector.saveMissing(G,c,H,ue,V,i),this.emit("missingKey",G,c,H,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?F.forEach(G=>{const H=this.pluralResolver.getSuffixes(G,i);k&&i[`defaultValue${this.options.pluralSeparator}zero`]&&H.indexOf(`${this.options.pluralSeparator}zero`)<0&&H.push(`${this.options.pluralSeparator}zero`),H.forEach(te=>{W([G],o+te,i[`defaultValue${te}`]||N)})}):W(F,o,N))}g=this.extendTranslation(g,e,i,p,r),$&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${o}`),($||O)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${o}`:o,O?g:void 0,i))}return a?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(e,n,r,i,a){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=We(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!We(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(a==null?void 0:a[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,o=We(s)?[s]:s;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=DD.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,s,o;return We(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!We(n.count),p=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(We(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(y=>{var v,b;this.isValidLookup(r)||(o=y,!cP[`${x[0]}-${y}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(o))&&(cP[`${x[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(w=>{var P;if(this.isValidLookup(r))return;s=w;const S=[u];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(S,u,w,y,n);else{let _;h&&(_=this.pluralResolver.getSuffix(w,n.count,n));const k=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&_.indexOf(N)===0&&S.push(u+_.replace(N,this.options.pluralSeparator)),S.push(u+_),p&&S.push(u+k)),g){const A=`${u}${this.options.contextSeparator||"_"}${n.context}`;S.push(A),h&&(n.ordinal&&_.indexOf(N)===0&&S.push(A+_.replace(N,this.options.pluralSeparator)),S.push(A+_),p&&S.push(A+k))}}let E;for(;E=S.pop();)this.isValidLookup(r)||(a=E,r=this.getResource(w,y,E,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!We(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class uP{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Sa.create("languageUtils")}getScriptPartFromCode(e){if(e=ah(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=ah(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(We(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),We(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return We(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):We(e)&&a(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const dP={zero:0,one:1,two:2,few:3,many:4,other:5},fP={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class pie{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Sa.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=ah(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),fP;if(!e.match(/-|_/))return fP;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[a]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>dP[i]-dP[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const hP=(t,e,n,r=".",i=!0)=>{let a=aie(t,e,n);return!a&&i&&We(n)&&(a=T7(t,n,r),a===void 0&&(a=T7(e,n,r))),a},s6=t=>t.replace(/\$/g,"$$$$");class pP{constructor(e={}){var n;this.logger=Sa.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:y,maxReplaces:v,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:oie,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Il(a):s||"{{",this.suffix=o?Il(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?Il(h):p||Il("$t("),this.nestingSuffix=g?Il(g):x||Il(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=v||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const b=hP(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:g}):b}const x=g.split(this.formatSeparator),y=x.shift().trim(),v=x.join(this.formatSeparator).trim();return this.format(hP(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:y})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>s6(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?s6(this.escape(g)):s6(g)}].forEach(g=>{for(o=0;a=g.regex.exec(e);){const x=a[1].trim();if(s=c(x),s===void 0)if(typeof u=="function"){const v=u(e,a,i);s=We(v)?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))s="";else if(d){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),s="";else!We(s)&&!this.useRawValueToEscape&&(s=iP(s));const y=g.safeValue(s);if(e=e.replace(a[0],y),d?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,s;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,s);const p=h.match(/'/g),g=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${u}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!We(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),a=n(o.call(this,i[1].trim(),s),s),a&&i[0]===e&&!We(a))return a;We(a)||(a=iP(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const mie=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},mP=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let o=e[s];return o||(o=t(ah(r),i),e[s]=o),o(n)}},gie=t=>(e,n,r)=>t(ah(n),r)(e);class yie{constructor(e={}){this.logger=Sa.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?mP:gie;this.formats={number:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return o=>s.format(o)}),currency:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return o=>s.format(o)}),datetime:r((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return o=>s.format(o)}),relativetime:r((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return o=>s.format(o,a.range||"day")}),list:r((i,a)=>{const s=new Intl.ListFormat(i,{...a});return o=>s.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=mP(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{var d;const{formatName:c,formatOptions:u}=mie(l);if(this.formats[c]){let h=o;try{const p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[c](o,g,{...u,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const vie=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class xie extends a2{constructor(e,n,r,i={}){var a,s;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Sa.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(a=this.backend)==null?void 0:a.init)==null||s.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},s={},o={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,u=!1,s[h]===void 0&&(s[h]=!0),a[h]===void 0&&(a[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(o[c]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{iie(l.loaded,[a],s),vie(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{o[c][d]===void 0&&(o[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,s)},a);return}s(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,n,o)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();We(e)&&(e=this.languageUtils.toResolveHierarchy(e)),We(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,o),this.loaded(e,s,o)})}saveMissing(e,n,r,i,a,s={},o=()=>{}){var l,c,u,d,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const p={...s,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(e,n,r,i,p):x=g(e,n,r,i),x&&typeof x.then=="function"?x.then(y=>o(null,y)).catch(o):o(null,x)}catch(x){o(x)}else g(e,n,r,i,o,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const o6=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),We(t[1])&&(e.defaultValue=t[1]),We(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),gP=t=>{var e,n;return We(t.ns)&&(t.ns=[t.ns]),We(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),We(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},xp=()=>{},bie=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};let yP=!1;const wie=t=>{var e,n,r,i,a,s,o,l,c;return!!(((r=(n=(e=t==null?void 0:t.modules)==null?void 0:e.backend)==null?void 0:n.name)==null?void 0:r.indexOf("Locize"))>0||((o=(s=(a=(i=t==null?void 0:t.modules)==null?void 0:i.backend)==null?void 0:a.constructor)==null?void 0:s.name)==null?void 0:o.indexOf("Locize"))>0||(c=(l=t==null?void 0:t.options)==null?void 0:l.backend)!=null&&c.backends&&t.options.backend.backends.some(u=>{var d,h,p;return((d=u==null?void 0:u.name)==null?void 0:d.indexOf("Locize"))>0||((p=(h=u==null?void 0:u.constructor)==null?void 0:h.name)==null?void 0:p.indexOf("Locize"))>0}))};class bf extends a2{constructor(e={},n){if(super(),this.options=gP(e),this.services={},this.logger=Sa,this.modules={external:[]},bie(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(We(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=o6();this.options={...r,...this.options,...gP(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!wie(this)&&!yP&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),yP=!0);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Sa.init(i(this.modules.logger),this.options):Sa.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=yie;const u=new uP(this.options);this.store=new lP(this.options.resources,this.options);const d=this.services;d.logger=Sa,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new pie(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new pP(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new xie(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Em(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=xp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const o=hd(),l=()=>{const c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=xp){var a,s;let r=n;const i=We(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(s=(a=this.options.preload)==null?void 0:a.forEach)==null||s.call(a,c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=hd();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=xp),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&DD.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=hd();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(o,(...c)=>this.t(...c))},s=o=>{var u,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=We(o)?o:o&&o[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(We(o)?[o]:o);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,h=>{a(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(a,s,...o)=>{let l;typeof s!="object"?l=this.options.overloadTranslationOptionHandler([a,s].concat(o)):l={...s},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(a)?u=a.map(d=>(typeof d=="function"&&(d=N7(d,{...this.options,...s})),`${l.keyPrefix}${c}${d}`)):(typeof a=="function"&&(a=N7(a,{...this.options,...s})),u=l.keyPrefix?`${l.keyPrefix}${c}${a}`:a),this.t(u,l)};return We(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(a,e)))}loadNamespaces(e,n){const r=hd();return this.options.ns?(We(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=hd();We(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new uP(o6());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new bf(e,n);return r.createInstance=bf.createInstance,r}cloneInstance(e={},n=xp){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new bf(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});a.store=new lP(o,i),a.services.resourceStore=a.store}if(e.interpolation){const l={...o6().interpolation,...this.options.interpolation,...e.interpolation},c={...i,interpolation:l};a.services.interpolator=new pP(c)}return a.translator=new Em(a.services,i),a.translator.on("*",(o,...l)=>{a.emit(o,...l)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Fn=bf.createInstance();Fn.createInstance;Fn.dir;Fn.init;Fn.loadResources;Fn.reloadResources;Fn.use;Fn.changeLanguage;Fn.getFixedT;Fn.t;Fn.exists;Fn.setDefaultNamespace;Fn.hasLoadedNamespace;Fn.loadNamespaces;Fn.loadLanguages;const _ie=(t,e,n,r)=>{var a,s,o,l;const i=[n,{code:e,...r||{}}];if((s=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);tl(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},vP={},FD=(t,e,n,r)=>{tl(n)&&vP[n]||(tl(n)&&(vP[n]=new Date),_ie(t,e,n,r))},VD=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},A7=(t,e,n)=>{t.loadNamespaces(e,VD(t,n))},xP=(t,e,n,r)=>{if(tl(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return A7(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,VD(t,r))},Sie=(t,e,n={})=>!e.languages||!e.languages.length?(FD(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),tl=t=>typeof t=="string",Eie=t=>typeof t=="object"&&t!==null,kie=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Pie={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Tie=t=>Pie[t],Nie=t=>t.replace(kie,Tie);let I7={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Nie,transDefaultProps:void 0};const Aie=(t={})=>{I7={...I7,...t}},Iie=()=>I7;let UD;const Cie=t=>{UD=t},Oie=()=>UD,jie={type:"3rdParty",init(t){Aie(t.options.react),Cie(t)}},Rie=R.createContext();class Mie{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var BD={exports:{}},zD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=R;function $ie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Die=typeof Object.is=="function"?Object.is:$ie,Lie=Vc.useState,Fie=Vc.useEffect,Vie=Vc.useLayoutEffect,Uie=Vc.useDebugValue;function Bie(t,e){var n=e(),r=Lie({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return Vie(function(){i.value=n,i.getSnapshot=e,l6(i)&&a({inst:i})},[t,n,e]),Fie(function(){return l6(i)&&a({inst:i}),t(function(){l6(i)&&a({inst:i})})},[t]),Uie(n),n}function l6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Die(t,n)}catch{return!0}}function zie(t,e){return e()}var qie=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zie:Bie;zD.useSyncExternalStore=Vc.useSyncExternalStore!==void 0?Vc.useSyncExternalStore:qie;BD.exports=zD;var Wie=BD.exports;const Hie=(t,e)=>tl(e)?e:Eie(e)&&tl(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Gie={t:Hie,ready:!1},Kie=()=>()=>{},Nr=(t,e={})=>{var N,A,I;const{i18n:n}=e,{i18n:r,defaultNS:i}=R.useContext(Rie)||{},a=n||r||Oie();a&&!a.reportNamespaces&&(a.reportNamespaces=new Mie),a||FD(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=R.useMemo(()=>{var j;return{...Iie(),...(j=a==null?void 0:a.options)==null?void 0:j.react,...e}},[a,e]),{useSuspense:o,keyPrefix:l}=s,c=i||((N=a==null?void 0:a.options)==null?void 0:N.defaultNS),u=tl(c)?[c]:c||["translation"],d=R.useMemo(()=>u,u);(I=(A=a==null?void 0:a.reportNamespaces)==null?void 0:A.addUsedNamespaces)==null||I.call(A,d);const h=R.useRef(0),p=R.useCallback(j=>{if(!a)return Kie;const{bindI18n:O,bindI18nStore:$}=s,M=()=>{h.current+=1,j()};return O&&a.on(O,M),$&&a.store.on($,M),()=>{O&&O.split(" ").forEach(D=>a.off(D,M)),$&&$.split(" ").forEach(D=>a.store.off(D,M))}},[a,s]),g=R.useRef(),x=R.useCallback(()=>{if(!a)return Gie;const j=!!(a.isInitialized||a.initializedStoreOnce)&&d.every(F=>Sie(F,a,s)),O=e.lng||a.language,$=h.current,M=g.current;if(M&&M.ready===j&&M.lng===O&&M.keyPrefix===l&&M.revision===$)return M;const V={t:a.getFixedT(O,s.nsMode==="fallback"?d:d[0],l),ready:j,lng:O,keyPrefix:l,revision:$};return g.current=V,V},[a,d,l,s,e.lng]),[y,v]=R.useState(0),{t:b,ready:w}=Wie.useSyncExternalStore(p,x,x);R.useEffect(()=>{if(a&&!w&&!o){const j=()=>v(O=>O+1);e.lng?xP(a,e.lng,d,j):A7(a,d,j)}},[a,e.lng,d,w,o,y]);const S=a||{},E=R.useRef(null),P=R.useRef(),_=j=>{const O=Object.getOwnPropertyDescriptors(j);O.__original&&delete O.__original;const $=Object.create(Object.getPrototypeOf(j),O);if(!Object.prototype.hasOwnProperty.call($,"__original"))try{Object.defineProperty($,"__original",{value:j,writable:!1,enumerable:!1,configurable:!1})}catch{}return $},k=R.useMemo(()=>{const j=S,O=j==null?void 0:j.language;let $=j;j&&(E.current&&E.current.__original===j?P.current!==O?($=_(j),E.current=$,P.current=O):$=E.current:($=_(j),E.current=$,P.current=O));const M=[b,$,w];return M.t=b,M.i18n=$,M.ready=w,M},[b,S,w,S.resolvedLanguage,S.language,S.languages]);if(a&&o&&!w)throw new Promise(j=>{const O=()=>j();e.lng?xP(a,e.lng,d,O):A7(a,d,O)});return k},qD=R.createContext(),bP="/brand-logo.svg",c6="/brand-favicon.svg",wP="https://i.imgur.com/9YXqZ5K.png",pd={theme:"light",accentType:"gradient",accentColor:"#1e3a5f",accentGradient:{start:"#EC4899",end:"#8B5CF6"}},Cn=()=>R.useContext(qD),Qie=({children:t})=>{const[e,n]=R.useState(()=>localStorage.getItem("theme")||"light"),[r,i]=R.useState(()=>localStorage.getItem("isSidebarCollapsed")==="true"),[a,s]=R.useState(!1),[o,l]=R.useState(()=>{try{const ie=localStorage.getItem("appearance"),he=ie?JSON.parse(ie):null;return{theme:(he==null?void 0:he.theme)||pd.theme,accentType:(he==null?void 0:he.accentType)||pd.accentType,accentColor:(he==null?void 0:he.accentColor)||pd.accentColor,accentGradient:(he==null?void 0:he.accentGradient)||pd.accentGradient}}catch(ie){return console.error("Error loading appearance settings:",ie),pd}});R.useEffect(()=>{const ie=document.documentElement;ie.classList.remove("theme-liquid","theme-light","theme-dark"),o.theme!=="default"&&ie.classList.add(`theme-${o.theme}`);let he=o.accentColor;if(o.accentColor,o.accentType==="solid")ie.style.setProperty("--accent-color",o.accentColor),ie.style.setProperty("--accent-gradient",o.accentColor);else{const{start:Ee,end:Ve}=o.accentGradient;he=Ee,ie.style.setProperty("--accent-color",Ee),ie.style.setProperty("--accent-gradient",`linear-gradient(135deg, ${Ee} 0%, ${Ve} 100%)`)}if(ie.style.setProperty("--brand-color",he),te(Ee=>({...Ee,color:he})),o.theme==="liquid"&&ie.style.setProperty("--glass-tint",`${he}15`),o.theme==="dark")n("dark");else if(o.theme==="light")n("light");else if(o.theme==="default"){const Ee=localStorage.getItem("theme")||"light";n(Ee)}},[o]);const[c,u]=R.useState([]),[d,h]=R.useState([]),[p,g]=R.useState([]),[x,y]=R.useState([]),[v,b]=R.useState(["Electronics","Clothing","Home","Beauty","Sports"]),[w,S]=R.useState(!0),E=R.useRef(!0),[P,_]=R.useState([]),k=tt.isDesktop(),[N,A]=R.useState(typeof navigator<"u"?navigator.onLine:!0),[I,j]=R.useState(0),[O,$]=R.useState(!0),[M,D]=R.useState([]),V=(ie,he="info")=>{const Ee=Math.random().toString(36).substr(2,9);_(Ve=>[...Ve,{id:Ee,message:ie,type:he}]),setTimeout(()=>{_(Ve=>Ve.filter(Je=>Je.id!==Ee))},3e3)};R.useEffect(()=>{E.current=w},[w]),R.useEffect(()=>{if(!k)return;const ie=()=>{A(!0),tt.setOnlineStatus(!0)},he=()=>{A(!1),tt.setOnlineStatus(!1)};(async()=>{A(navigator.onLine),await tt.setOnlineStatus(navigator.onLine);const Q=await tt.getSyncStatus();j(Q.pendingCount||0),$(!!Q.offlineModeEnabled),D(await tt.getConflicts())})().catch(Q=>console.error("Desktop sync init failed:",Q)),window.addEventListener("online",ie),window.addEventListener("offline",he);const Ve=tt.onSyncState(Q=>{j(Q.pendingCount||0),$(!!Q.offlineModeEnabled)}),Je=tt.onConflict(Q=>{V(`Conflict detected on ${Q.entity} #${Q.docId} - resolved automatically`,"warning"),tt.getConflicts().then(D).catch(()=>{})});return()=>{window.removeEventListener("online",ie),window.removeEventListener("offline",he),Ve==null||Ve(),Je==null||Je()}},[k]);const F=async()=>{k&&(await tt.syncOnce(),j(await tt.getPendingSyncCount()),D(await tt.getConflicts()))},U=async ie=>{k&&(await tt.setOfflineModeEnabled(ie),$(ie))},[W,G]=R.useState(!1),[H,te]=R.useState(()=>{var Ee;const ie=localStorage.getItem("appearance");let he="#1e3a5f";if(ie)try{const Ve=JSON.parse(ie);Ve.accentType==="gradient"&&((Ee=Ve.accentGradient)!=null&&Ee.start)?he=Ve.accentGradient.start:Ve.accentColor&&(he=Ve.accentColor)}catch(Ve){console.error("Error parsing appearance for initial brand color:",Ve)}return{name:"Gem Toys",logo:bP,favicon:c6,color:he,hideHeader:!1}});R.useEffect(()=>{try{H!=null&&H.name&&(document.title=H.name);const ie=he=>{if(!he)return;let Ee=document.querySelector("link[rel~='icon']");Ee||(Ee=document.createElement("link"),Ee.rel="icon",document.getElementsByTagName("head")[0].appendChild(Ee)),Ee.href=he};H!=null&&H.favicon?ie(H.favicon):H!=null&&H.logo?ie(H.logo):ie(c6)}catch{}},[H]);const ue=async ie=>{const{_id:he,...Ee}=ie,Ve=he||"branding";await tt.set("settings",Ve,Ee),te(Je=>({...Je,...Ee}))};R.useEffect(()=>{S(!0);let ie={products:!1,categories:!1,orders:!1,customers:!1,users:!1,settings:!1};const he=()=>{Object.values(ie).every(ne=>ne)&&S(!1)},Ee=(ne,je)=>{console.error(`Error loading ${ne}:`,je),V(`Error loading ${ne}. Refresh page.`,"error"),ie[ne]=!0,he()},Ve=tt.subscribeToCollection("products",ne=>{u(ne),ie.products=!0,he()},"name","asc",ne=>Ee("products",ne)),Je=tt.subscribeToCollection("categories",ne=>{if(ne.length>0){const je=ne.map(at=>at.name).sort();b(je),Z(ne)}else b([]),Z([]);ie.categories=!0,he()},"name","asc",ne=>Ee("categories",ne)),Q=tt.subscribeToCollection("orders",ne=>{h(ne),ie.orders=!0,he()},"date","desc",ne=>Ee("orders",ne)),Oe=tt.subscribeToCollection("customers",ne=>{g(ne),ie.customers=!0,he()},"name","asc",ne=>Ee("customers",ne)),nt=tt.subscribeToCollection("users",ne=>{y(ne),ie.users=!0,he()},"username","asc",ne=>Ee("users",ne)),z=tt.subscribeToCollection("settings",ne=>{const je=ne.find(at=>at._id==="branding");if(je){const{_id:at,...ft}=je,Gt=ft.logo===wP?bP:ft.logo,qr=ft.favicon===wP?Gt||c6:ft.favicon;te(yn=>({...yn,...ft,logo:Gt,favicon:qr}))}ie.settings=!0,he()},"name","asc",ne=>Ee("settings",ne)),ee=setTimeout(()=>{E.current&&(console.warn("Loading safety timeout hit."),S(!1))},8e3);return()=>{clearTimeout(ee),Ve(),Je(),Q(),Oe(),nt(),z()}},[]);const[me,Z]=R.useState([]),_e=async ie=>{v.includes(ie)||(await tt.add("categories",{name:ie}),V(`Category "${ie}" added!`,"success"))},Ce=async(ie,he)=>{const Ee=me.find(Ve=>Ve.name===ie);if(Ee){await tt.update("categories",Ee._id,{name:he}),V(`Category updated to "${he}"`,"success");const Ve=c.filter(Je=>Je.category===ie);for(const Je of Ve)await tt.update("products",Je._id,{category:he})}},se=async ie=>{const he=me.find(Ee=>Ee.name===ie);he&&(await tt.delete("categories",he._id),V(`Category "${ie}" deleted!`,"success"))},[ve,X]=R.useState(null);R.useEffect(()=>{if(x.length>0)if(ve){const ie=x.find(he=>he._id===ve._id||he.username===ve.username);ie&&X(ie)}else{const ie=x.find(he=>he.role==="Admin");X(ie||x[0])}},[x]);const q=ie=>{n(ie)};R.useEffect(()=>{const ie=document.documentElement;e==="dark"?ie.classList.add("dark"):e==="light"?ie.classList.remove("dark"):e==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?ie.classList.add("dark"):ie.classList.remove("dark")),localStorage.setItem("theme",e)},[e]);const{i18n:fe}=Nr(),[Pe,ge]=R.useState(localStorage.getItem("language")||fe.language||"en"),we=ie=>{ge(ie),fe.changeLanguage(ie),localStorage.setItem("language",ie);const he=ie==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",he),document.documentElement.setAttribute("lang",ie)};R.useEffect(()=>{const ie=localStorage.getItem("language")||"en",he=ie==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",he),document.documentElement.setAttribute("lang",ie),ie!==fe.language&&fe.changeLanguage(ie)},[fe]);const Ue=()=>{i(ie=>{const he=!ie;return localStorage.setItem("isSidebarCollapsed",he),he})},St=()=>s(ie=>!ie),$e=()=>s(!1),He=ie=>new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(ie),Y=async ie=>{try{const he=await tt.add("products",ie);return V("Product added successfully","success"),he}catch(he){return V("Error adding product","error"),console.error(he),null}},de=async ie=>{const{_id:he,...Ee}=ie;try{await tt.update("products",he,Ee),V("Product updated successfully","success")}catch(Ve){V("Error updating product","error"),console.error(Ve)}},Ie=async ie=>{try{await tt.delete("products",ie),V("Product deleted successfully","success")}catch(he){V("Error deleting product","error"),console.error(he)}},bt=async ie=>{const he={...ie,createdOn:new Date().toISOString()},Ee=await tt.add("customers",he);return V("Customer added successfully","success"),Ee},Ye=async ie=>{const{_id:he,...Ee}=ie;await tt.update("customers",he,Ee)},vt=async ie=>{try{const he=`#ORD-${Math.floor(1e3+Math.random()*9e3)}`,Ee={...ie,orderId:he,date:new Date().toISOString()},Ve=await tt.add("orders",Ee);for(const Je of ie.items){const Q=c.find(Oe=>Oe._id===Je.product._id);if(Q){const Oe=Math.max(0,Q.stock-Je.quantity);await tt.update("products",Q._id,{stock:Oe,status:Oe===0?"Out of Stock":Oe<=10?"Low Stock":"In Stock"})}}return V("Order created successfully","success"),Ve}catch(he){return V("Error creating order","error"),console.error(he),null}},Pt=async ie=>{const he=d.find(Ee=>Ee._id===ie);if(he)for(const Ee of he.items){const Ve=c.find(Je=>Je._id===Ee.product._id);if(Ve){const Je=Ve.stock+Ee.quantity;await tt.update("products",Ve._id,{stock:Je,status:Je===0?"Out of Stock":Je<=10?"Low Stock":"In Stock"})}}await tt.delete("orders",ie),V("Order deleted and stock restored","info")},ae=async ie=>{const{_id:he,...Ee}=ie,Ve=d.find(Je=>Je._id===he);if(Ve){for(const Je of Ve.items){const Q=c.find(Oe=>Oe._id===Je.product._id);Q&&await tt.update("products",Q._id,{stock:Q.stock+Je.quantity})}for(const Je of ie.items){const Q=c.find(Oe=>Oe._id===Je.product._id);if(Q){const Oe=Ve.items.find(ee=>ee.product._id===Je.product._id),nt=Oe?Oe.quantity:0,z=Math.max(0,Q.stock+nt-Je.quantity);await tt.update("products",Q._id,{stock:z,status:z===0?"Out of Stock":z<=10?"Low Stock":"In Stock"})}}}await tt.update("orders",he,Ee),V("Order updated successfully","success")},be=async ie=>{await tt.add("users",{...ie,displayName:ie.username})},Xe=async ie=>{const{_id:he,...Ee}=ie;await tt.update("users",he,Ee)},it=async ie=>{ve&&(await tt.update("users",ve._id,ie),X(he=>({...he,...ie})))},fn=async ie=>{await tt.delete("users",ie)};return f.jsx(qD.Provider,{value:{products:c,addProduct:Y,updateProduct:de,deleteProduct:Ie,orders:d,addOrder:vt,updateOrder:ae,deleteOrder:Pt,customers:p,addCustomer:bt,updateCustomer:Ye,users:x,addUser:be,updateUser:Xe,deleteUser:fn,categories:v,addCategory:_e,updateCategory:Ce,deleteCategory:se,loading:w,theme:e,toggleTheme:q,brand:H,updateBrand:ue,appearance:o,setAppearance:ie=>{l(he=>{const Ee={...he,...ie};return localStorage.setItem("appearance",JSON.stringify(Ee)),Ee})},currentUser:ve,updateUserProfile:it,language:Pe,changeLanguage:we,formatCurrency:He,isSidebarCollapsed:r,toggleSidebar:Ue,isMobileMenuOpen:a,toggleMobileMenu:St,closeMobileMenu:$e,toasts:P,addToast:V,isModalOpen:W,setIsModalOpen:G,isDesktop:k,isOnline:N,pendingSyncCount:I,syncNow:F,desktopOfflineModeEnabled:O,setDesktopOfflineModeEnabled:U,conflicts:M},children:t})},WD=R.createContext(null),x4=()=>{const t=R.useContext(WD);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t},Yie=({children:t})=>{const[e,n]=R.useState(null),[r,i]=R.useState(!0);R.useEffect(()=>aee(Rn,o=>{n(o),i(!1)}),[]);const a=R.useMemo(()=>({user:e,loading:r,signInWithGoogle:async()=>{const s=new Xa;return Pee(Rn,s)},signInWithEmail:async(s,o)=>ZZ(Rn,s,o),signUpWithEmail:async(s,o)=>JZ(Rn,s,o),signOutUser:async()=>see(Rn),updateAuthProfile:async s=>{if(!Rn.currentUser)throw new Error("No authenticated user");await J5(Rn.currentUser,s),n({...Rn.currentUser})},updateAuthAvatar:async s=>{if(!Rn.currentUser)throw new Error("No authenticated user");try{const o=await Xie(s),l=Nne(tie,`users/${Rn.currentUser.uid}/avatar.jpg`);await Pne(l,o,{contentType:o.type||"image/jpeg"});const c=await Tne(l);return await J5(Rn.currentUser,{photoURL:c}),n({...Rn.currentUser}),c}catch{return await J5(Rn.currentUser,{photoURL:s}),n({...Rn.currentUser}),s}},changeAuthPassword:async(s,o)=>{var c;if(!((c=Rn.currentUser)!=null&&c.email))throw new Error("No authenticated user");const l=bl.credential(Rn.currentUser.email,s);await XZ(Rn.currentUser,l),await tee(Rn.currentUser,o)}}),[e,r]);return f.jsx(WD.Provider,{value:a,children:t})},Xie=async t=>(await fetch(t)).blob(),Jie=()=>{var A,I;const{t,i18n:e}=Nr(),n=O0(),r=o4(),{user:i,signOutUser:a}=x4(),{theme:s,currentUser:o,brand:l,isSidebarCollapsed:c,toggleSidebar:u,isMobileMenuOpen:d,closeMobileMenu:h,language:p}=Cn(),[g,x]=R.useState(!1),y=R.useRef(null),v=o||i,b=p==="ar",w=[{icon:AG,label:t("menu.dashboard"),path:"/"},{icon:sE,label:t("menu.inventory"),path:"/products"},{icon:jo,label:t("menu.productPicture"),path:"/product-picture"},{icon:vR,label:t("menu.orders"),path:"/orders"},{icon:nx,label:t("menu.customers"),path:"/customers"},{icon:yR,label:t("menu.settings"),path:"/settings"}],_=`fixed lg:static top-0 bottom-0 ${b?"right-0 left-auto":"left-0 right-auto"} border-e z-40 ${c?"w-20":"w-56"} bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 flex flex-col h-screen transition-all duration-300 ease-in-out ${d?"translate-x-0 shadow-2xl":(b?"translate-x-full":"-translate-x-full")+" lg:translate-x-0"} glass-panel`;R.useEffect(()=>{const j=O=>{y.current&&!y.current.contains(O.target)&&x(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const k=()=>{x(!1),h(),r("/settings?tab=account")},N=async()=>{x(!1);try{await a(),h(),r("/login",{replace:!0})}catch(j){console.error("Logout failed:",j)}};return f.jsxs("aside",{className:_,children:[f.jsxs("div",{className:`h-24 flex items-center ${c?"justify-center":"px-8"} relative`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg text-white overflow-hidden shrink-0",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:l.logo?f.jsx("img",{src:l.logo,alt:"Logo",className:"w-full h-full object-cover"}):f.jsx(sE,{className:"w-6 h-6"})}),!c&&f.jsx("div",{className:"animate-in fade-in duration-300",children:f.jsxs("h1",{className:"font-bold text-slate-800 dark:text-white text-lg leading-tight tracking-tight",children:[l.name.split(" ")[0],f.jsx("br",{}),f.jsx("span",{style:{color:l.color},className:"font-extrabold",children:l.name.split(" ").slice(1).join(" ")||"APP"})]})})]}),f.jsx("button",{onClick:h,className:`lg:hidden absolute top-6 ${b?"left-4":"right-4"} p-2 text-slate-400 hover:text-red-500 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors`,children:f.jsx(ii,{className:"w-5 h-5"})})]}),f.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-2 custom-scrollbar",children:[!c&&f.jsx("div",{className:"mb-4 px-4",children:f.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t("menu.mainMenu")})}),w.map(j=>{const O=n.pathname===j.path;return f.jsxs(vG,{to:j.path,title:c?j.label:"",onClick:h,className:`flex items-center gap-3 rounded-xl transition-all duration-200 group relative overflow-hidden ${c?"justify-center p-3":"px-4 py-3.5"} ${O?"text-white shadow-lg bg-accent shadow-accent":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:[f.jsx(j.icon,{className:`w-5 h-5 relative z-10 transition-transform duration-200 ${O?"scale-110":"group-hover:scale-110"}`}),!c&&f.jsx("span",{className:"font-medium relative z-10 animate-in fade-in slide-in-from-start-2 duration-300",children:j.label})]},j.path)})]}),f.jsx("div",{className:"p-4 mt-auto border-t border-slate-100 dark:border-slate-800/50",children:f.jsxs("div",{className:"relative",ref:y,children:[f.jsxs("button",{onClick:()=>x(j=>!j),className:`w-full bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 flex items-center shadow-sm glass-panel transition-all hover:border-slate-300 dark:hover:border-slate-600 ${c?"p-2 justify-center":"p-4 gap-3"}`,children:[f.jsxs("div",{className:"relative shrink-0 w-10 h-10",children:[f.jsx("div",{className:"w-full h-full text-white rounded-full flex items-center justify-center font-bold text-lg overflow-hidden",style:{backgroundColor:l.color},children:v!=null&&v.photoURL?f.jsx("img",{src:v.photoURL,alt:"User",className:"w-full h-full object-cover"}):((A=v==null?void 0:v.displayName)==null?void 0:A.charAt(0))||"U"}),f.jsx("div",{className:"absolute bottom-0 end-0 w-3 h-3 bg-emerald-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),!c&&f.jsxs("div",{className:"flex-1 overflow-hidden text-left animate-in fade-in duration-300",children:[f.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white truncate",children:((I=v==null?void 0:v.displayName)==null?void 0:I.split(" ")[0])||t("user.defaultName")}),f.jsx("p",{className:"text-xs text-slate-500 truncate",children:(o==null?void 0:o.role)||(v==null?void 0:v.email)||t("user.defaultRole")})]}),!c&&f.jsx(Z8,{className:`w-4 h-4 text-slate-400 transition-transform ${g?"rotate-180":""}`})]}),g&&!c&&f.jsxs("div",{className:"absolute bottom-full mb-2 left-0 right-0 rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-2xl overflow-hidden z-50",children:[f.jsxs("button",{onClick:k,className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/60 transition-colors",children:[f.jsx(zG,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.accountSettings")||"Account Settings"})]}),f.jsxs("button",{onClick:N,className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/60 transition-colors border-t border-slate-100 dark:border-slate-700",children:[f.jsx(CG,{className:"w-4 h-4"}),f.jsx("span",{children:t("menu.logout")||"Log out"})]})]})]})}),f.jsx("button",{onClick:u,className:`hidden lg:flex absolute bottom-24 ${b?"-left-3":"-right-3"} w-6 h-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full items-center justify-center text-slate-400 shadow-sm z-50 transition-all hover:scale-110`,style:{color:l.color},children:c?f.jsx(em,{className:"w-3.5 h-3.5"}):f.jsx(Z3,{className:"w-3.5 h-3.5"})})]})},Zie=({title:t})=>{const{t:e}=Nr(),{currentUser:n,toggleMobileMenu:r,isModalOpen:i,appearance:a,brand:s}=Cn(),o=s.hideHeader,l=["liquid","default_glass"].includes(a==null?void 0:a.theme),c=i?"hidden":o?"flex lg:hidden":"flex";return f.jsxs("header",{className:`${c} h-14 sm:h-16 md:h-20 lg:h-24 ${l?"bg-white/60 dark:bg-slate-900/60 backdrop-blur-2xl border-b border-white/20 dark:border-slate-700/30":"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800"} items-center justify-between px-3 sm:px-4 md:px-6 lg:px-8 sticky top-0 z-20 transition-all duration-300 shadow-sm`,children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4 flex-1 min-w-0 overflow-hidden",children:[f.jsx("button",{onClick:r,className:`lg:hidden p-1.5 sm:p-2 rounded-xl transition-all shrink-0 ${l?"text-slate-600 dark:text-slate-300 hover:bg-white/40 dark:hover:bg-slate-800/40 backdrop-blur-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,"aria-label":"Toggle menu",children:f.jsx(jG,{className:"w-5 h-5 sm:w-5.5 sm:h-5.5 md:w-6 md:h-6"})}),f.jsx("div",{className:"flex flex-col min-w-0 flex-1 overflow-hidden",children:f.jsx("h2",{className:"text-sm sm:text-base md:text-xl lg:text-2xl font-black text-slate-800 dark:text-white tracking-tight truncate",children:t})})]}),f.jsx("div",{})]})},eae=()=>{const{toasts:t}=Cn();return f.jsx("div",{className:"fixed bottom-8 right-8 z-[1000] flex flex-col gap-3 pointer-events-none",children:t.map(e=>f.jsxs("div",{className:`
                        pointer-events-auto
                        flex items-center gap-4 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md
                        animate-in slide-in-from-right-8 fade-in duration-300
                        ${e.type==="success"?"bg-emerald-500/90 text-white":e.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}
                    `,children:[f.jsxs("div",{className:"flex-shrink-0",children:[e.type==="success"&&f.jsx(hR,{className:"w-6 h-6"}),e.type==="error"&&f.jsx(fR,{className:"w-6 h-6"}),e.type==="info"&&f.jsx(pR,{className:"w-6 h-6"})]}),f.jsx("div",{className:"flex-1",children:f.jsx("p",{className:"font-bold text-sm",children:e.message})})]},e.id))})},Nu=({children:t,title:e})=>{const{isSidebarCollapsed:n,isMobileMenuOpen:r,closeMobileMenu:i,brand:a}=Cn();return f.jsxs("div",{className:"flex h-screen bg-transparent font-sans transition-colors duration-300",children:[r&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:i}),f.jsx(Jie,{}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-screen transition-all duration-300",children:[f.jsx(Zie,{title:e||"Dashboard"}),f.jsx("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto ${a.hideHeader?"lg:pt-8":""} overflow-x-hidden`,children:f.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t})}),f.jsx(eae,{})]})]})};function HD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=HD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=HD(t))&&(r&&(r+=" "),r+=e);return r}var tae=Array.isArray,zr=tae,nae=typeof H4=="object"&&H4&&H4.Object===Object&&H4,GD=nae,rae=GD,iae=typeof self=="object"&&self&&self.Object===Object&&self,aae=rae||iae||Function("return this")(),Ba=aae,sae=Ba,oae=sae.Symbol,b4=oae,_P=b4,KD=Object.prototype,lae=KD.hasOwnProperty,cae=KD.toString,md=_P?_P.toStringTag:void 0;function uae(t){var e=lae.call(t,md),n=t[md];try{t[md]=void 0;var r=!0}catch{}var i=cae.call(t);return r&&(e?t[md]=n:delete t[md]),i}var dae=uae,fae=Object.prototype,hae=fae.toString;function pae(t){return hae.call(t)}var mae=pae,SP=b4,gae=dae,yae=mae,vae="[object Null]",xae="[object Undefined]",EP=SP?SP.toStringTag:void 0;function bae(t){return t==null?t===void 0?xae:vae:EP&&EP in Object(t)?gae(t):yae(t)}var j0=bae;function wae(t){return t!=null&&typeof t=="object"}var R0=wae,_ae=j0,Sae=R0,Eae="[object Symbol]";function kae(t){return typeof t=="symbol"||Sae(t)&&_ae(t)==Eae}var Au=kae,Pae=zr,Tae=Au,Nae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Aae=/^\w*$/;function Iae(t,e){if(Pae(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Tae(t)?!0:Aae.test(t)||!Nae.test(t)||e!=null&&t in Object(e)}var cb=Iae;function Cae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ys=Cae;const Iu=$t(Ys);var Oae=j0,jae=Ys,Rae="[object AsyncFunction]",Mae="[object Function]",$ae="[object GeneratorFunction]",Dae="[object Proxy]";function Lae(t){if(!jae(t))return!1;var e=Oae(t);return e==Mae||e==$ae||e==Rae||e==Dae}var ub=Lae;const Ze=$t(ub);var Fae=Ba,Vae=Fae["__core-js_shared__"],Uae=Vae,u6=Uae,kP=function(){var t=/[^.]+$/.exec(u6&&u6.keys&&u6.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Bae(t){return!!kP&&kP in t}var zae=Bae,qae=Function.prototype,Wae=qae.toString;function Hae(t){if(t!=null){try{return Wae.call(t)}catch{}try{return t+""}catch{}}return""}var QD=Hae,Gae=ub,Kae=zae,Qae=Ys,Yae=QD,Xae=/[\\^$.*+?()[\]{}|]/g,Jae=/^\[object .+?Constructor\]$/,Zae=Function.prototype,e0e=Object.prototype,t0e=Zae.toString,n0e=e0e.hasOwnProperty,r0e=RegExp("^"+t0e.call(n0e).replace(Xae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i0e(t){if(!Qae(t)||Kae(t))return!1;var e=Gae(t)?r0e:Jae;return e.test(Yae(t))}var a0e=i0e;function s0e(t,e){return t==null?void 0:t[e]}var o0e=s0e,l0e=a0e,c0e=o0e;function u0e(t,e){var n=c0e(t,e);return l0e(n)?n:void 0}var wl=u0e,d0e=wl,f0e=d0e(Object,"create"),s2=f0e,PP=s2;function h0e(){this.__data__=PP?PP(null):{},this.size=0}var p0e=h0e;function m0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var g0e=m0e,y0e=s2,v0e="__lodash_hash_undefined__",x0e=Object.prototype,b0e=x0e.hasOwnProperty;function w0e(t){var e=this.__data__;if(y0e){var n=e[t];return n===v0e?void 0:n}return b0e.call(e,t)?e[t]:void 0}var _0e=w0e,S0e=s2,E0e=Object.prototype,k0e=E0e.hasOwnProperty;function P0e(t){var e=this.__data__;return S0e?e[t]!==void 0:k0e.call(e,t)}var T0e=P0e,N0e=s2,A0e="__lodash_hash_undefined__";function I0e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=N0e&&e===void 0?A0e:e,this}var C0e=I0e,O0e=p0e,j0e=g0e,R0e=_0e,M0e=T0e,$0e=C0e;function Cu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cu.prototype.clear=O0e;Cu.prototype.delete=j0e;Cu.prototype.get=R0e;Cu.prototype.has=M0e;Cu.prototype.set=$0e;var D0e=Cu;function L0e(){this.__data__=[],this.size=0}var F0e=L0e;function V0e(t,e){return t===e||t!==t&&e!==e}var db=V0e,U0e=db;function B0e(t,e){for(var n=t.length;n--;)if(U0e(t[n][0],e))return n;return-1}var o2=B0e,z0e=o2,q0e=Array.prototype,W0e=q0e.splice;function H0e(t){var e=this.__data__,n=z0e(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():W0e.call(e,n,1),--this.size,!0}var G0e=H0e,K0e=o2;function Q0e(t){var e=this.__data__,n=K0e(e,t);return n<0?void 0:e[n][1]}var Y0e=Q0e,X0e=o2;function J0e(t){return X0e(this.__data__,t)>-1}var Z0e=J0e,ese=o2;function tse(t,e){var n=this.__data__,r=ese(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var nse=tse,rse=F0e,ise=G0e,ase=Y0e,sse=Z0e,ose=nse;function Ou(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ou.prototype.clear=rse;Ou.prototype.delete=ise;Ou.prototype.get=ase;Ou.prototype.has=sse;Ou.prototype.set=ose;var l2=Ou,lse=wl,cse=Ba,use=lse(cse,"Map"),fb=use,TP=D0e,dse=l2,fse=fb;function hse(){this.size=0,this.__data__={hash:new TP,map:new(fse||dse),string:new TP}}var pse=hse;function mse(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gse=mse,yse=gse;function vse(t,e){var n=t.__data__;return yse(e)?n[typeof e=="string"?"string":"hash"]:n.map}var c2=vse,xse=c2;function bse(t){var e=xse(this,t).delete(t);return this.size-=e?1:0,e}var wse=bse,_se=c2;function Sse(t){return _se(this,t).get(t)}var Ese=Sse,kse=c2;function Pse(t){return kse(this,t).has(t)}var Tse=Pse,Nse=c2;function Ase(t,e){var n=Nse(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Ise=Ase,Cse=pse,Ose=wse,jse=Ese,Rse=Tse,Mse=Ise;function ju(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ju.prototype.clear=Cse;ju.prototype.delete=Ose;ju.prototype.get=jse;ju.prototype.has=Rse;ju.prototype.set=Mse;var hb=ju,YD=hb,$se="Expected a function";function pb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError($se);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(pb.Cache||YD),n}pb.Cache=YD;var XD=pb;const Dse=$t(XD);var Lse=XD,Fse=500;function Vse(t){var e=Lse(t,function(r){return n.size===Fse&&n.clear(),r}),n=e.cache;return e}var Use=Vse,Bse=Use,zse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qse=/\\(\\)?/g,Wse=Bse(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zse,function(n,r,i,a){e.push(i?a.replace(qse,"$1"):r||n)}),e}),Hse=Wse;function Gse(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var mb=Gse,NP=b4,Kse=mb,Qse=zr,Yse=Au,AP=NP?NP.prototype:void 0,IP=AP?AP.toString:void 0;function JD(t){if(typeof t=="string")return t;if(Qse(t))return Kse(t,JD)+"";if(Yse(t))return IP?IP.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Xse=JD,Jse=Xse;function Zse(t){return t==null?"":Jse(t)}var ZD=Zse,eoe=zr,toe=cb,noe=Hse,roe=ZD;function ioe(t,e){return eoe(t)?t:toe(t,e)?[t]:noe(roe(t))}var eL=ioe,aoe=Au;function soe(t){if(typeof t=="string"||aoe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var u2=soe,ooe=eL,loe=u2;function coe(t,e){e=ooe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[loe(e[n++])];return n&&n==r?t:void 0}var gb=coe,uoe=gb;function doe(t,e,n){var r=t==null?void 0:uoe(t,e);return r===void 0?n:r}var tL=doe;const Ai=$t(tL);function foe(t){return t==null}var hoe=foe;const dt=$t(hoe);var poe=j0,moe=zr,goe=R0,yoe="[object String]";function voe(t){return typeof t=="string"||!moe(t)&&goe(t)&&poe(t)==yoe}var xoe=voe;const nl=$t(xoe);var nL={exports:{}},It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb=Symbol.for("react.element"),vb=Symbol.for("react.portal"),d2=Symbol.for("react.fragment"),f2=Symbol.for("react.strict_mode"),h2=Symbol.for("react.profiler"),p2=Symbol.for("react.provider"),m2=Symbol.for("react.context"),boe=Symbol.for("react.server_context"),g2=Symbol.for("react.forward_ref"),y2=Symbol.for("react.suspense"),v2=Symbol.for("react.suspense_list"),x2=Symbol.for("react.memo"),b2=Symbol.for("react.lazy"),woe=Symbol.for("react.offscreen"),rL;rL=Symbol.for("react.module.reference");function $i(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yb:switch(t=t.type,t){case d2:case h2:case f2:case y2:case v2:return t;default:switch(t=t&&t.$$typeof,t){case boe:case m2:case g2:case b2:case x2:case p2:return t;default:return e}}case vb:return e}}}It.ContextConsumer=m2;It.ContextProvider=p2;It.Element=yb;It.ForwardRef=g2;It.Fragment=d2;It.Lazy=b2;It.Memo=x2;It.Portal=vb;It.Profiler=h2;It.StrictMode=f2;It.Suspense=y2;It.SuspenseList=v2;It.isAsyncMode=function(){return!1};It.isConcurrentMode=function(){return!1};It.isContextConsumer=function(t){return $i(t)===m2};It.isContextProvider=function(t){return $i(t)===p2};It.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yb};It.isForwardRef=function(t){return $i(t)===g2};It.isFragment=function(t){return $i(t)===d2};It.isLazy=function(t){return $i(t)===b2};It.isMemo=function(t){return $i(t)===x2};It.isPortal=function(t){return $i(t)===vb};It.isProfiler=function(t){return $i(t)===h2};It.isStrictMode=function(t){return $i(t)===f2};It.isSuspense=function(t){return $i(t)===y2};It.isSuspenseList=function(t){return $i(t)===v2};It.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===d2||t===h2||t===f2||t===y2||t===v2||t===woe||typeof t=="object"&&t!==null&&(t.$$typeof===b2||t.$$typeof===x2||t.$$typeof===p2||t.$$typeof===m2||t.$$typeof===g2||t.$$typeof===rL||t.getModuleId!==void 0)};It.typeOf=$i;nL.exports=It;var _oe=nL.exports,Soe=j0,Eoe=R0,koe="[object Number]";function Poe(t){return typeof t=="number"||Eoe(t)&&Soe(t)==koe}var iL=Poe;const Toe=$t(iL);var Noe=iL;function Aoe(t){return Noe(t)&&t!=+t}var Ioe=Aoe;const Ru=$t(Ioe);var Ki=function(e){return e===0?0:e>0?1:-1},Po=function(e){return nl(e)&&e.indexOf("%")===e.length-1},ye=function(e){return Toe(e)&&!Ru(e)},Coe=function(e){return dt(e)},An=function(e){return ye(e)||nl(e)},Ooe=0,w4=function(e){var n=++Ooe;return"".concat(e||"").concat(n)},rl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(e)&&!nl(e))return r;var a;if(Po(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Ru(a)&&(a=r),i&&a>n&&(a=n),a},is=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},joe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},xi=function(e,n){return ye(e)&&ye(n)?function(r){return e+r*(n-e)}:function(){return n}};function km(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ai(r,e))===n})}var Roe=function(e,n){return ye(e)&&ye(n)?e-n:nl(e)&&nl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function bc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function C7(t){"@babel/helpers - typeof";return C7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C7(t)}var Moe=["viewBox","children"],$oe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CP=["points","pathLength"],d6={svg:Moe,polygon:CP,polyline:CP},xb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Pm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!Iu(r))return null;var i={};return Object.keys(r).forEach(function(a){xb.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Doe=function(e,n,r){return function(i){return e(n,r,i),null}},Tm=function(e,n,r){if(!Iu(e)||C7(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];xb.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Doe(s,n,r))}),i},Loe=["children"],Foe=["children"];function OP(t,e){if(t==null)return{};var n=Voe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Voe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O7(t){"@babel/helpers - typeof";return O7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O7(t)}var jP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},h0=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},RP=null,f6=null,bb=function t(e){if(e===RP&&Array.isArray(f6))return f6;var n=[];return R.Children.forEach(e,function(r){dt(r)||(_oe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),f6=n,RP=e,n};function ra(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return h0(i)}):r=[h0(e)],bb(t).forEach(function(i){var a=Ai(i,"type.displayName")||Ai(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Kr(t,e){var n=ra(t,e);return n&&n[0]}var MP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ye(r)||r<=0||!ye(i)||i<=0)},Uoe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Boe=function(e){return e&&e.type&&nl(e.type)&&Uoe.indexOf(e.type)>=0},zoe=function(e){return e&&O7(e)==="object"&&"clipDot"in e},qoe=function(e,n,r,i){var a,s=(a=d6==null?void 0:d6[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ze(e)&&(i&&s.includes(n)||$oe.includes(n))||r&&xb.includes(n)},st=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!Iu(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;qoe((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},j7=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return $P(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!$P(a,s))return!1}return!0},$P=function(e,n){if(dt(e)&&dt(n))return!0;if(!dt(e)&&!dt(n)){var r=e.props||{},i=r.children,a=OP(r,Loe),s=n.props||{},o=s.children,l=OP(s,Foe);return i&&o?bc(a,l)&&j7(i,o):!i&&!o?bc(a,l):!1}return!1},DP=function(e,n){var r=[],i={};return bb(e).forEach(function(a,s){if(Boe(a))r.push(a);else if(a){var o=h0(a.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(a,o,s);r.push(d),i[o]=!0}}}),r},Woe=function(e){var n=e&&e.type;return n&&jP[n]?jP[n]:null},Hoe=function(e,n){return bb(n).indexOf(e)},Goe=["children","width","height","viewBox","className","style","title","desc"];function R7(){return R7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R7.apply(this,arguments)}function Koe(t,e){if(t==null)return{};var n=Qoe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M7(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=Koe(t,Goe),u=i||{width:n,height:r,x:0,y:0},d=yt("recharts-surface",a);return B.createElement("svg",R7({},st(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),B.createElement("title",null,o),B.createElement("desc",null,l),e)}var Yoe=["children","className"];function $7(){return $7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$7.apply(this,arguments)}function Xoe(t,e){if(t==null)return{};var n=Joe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Joe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jt=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=Xoe(t,Yoe),a=yt("recharts-layer",r);return B.createElement("g",$7({className:a},st(i,!0),{ref:e}),n)}),p0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Zoe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var ele=Zoe,tle=ele;function nle(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:tle(t,e,n)}var rle=nle,ile="\\ud800-\\udfff",ale="\\u0300-\\u036f",sle="\\ufe20-\\ufe2f",ole="\\u20d0-\\u20ff",lle=ale+sle+ole,cle="\\ufe0e\\ufe0f",ule="\\u200d",dle=RegExp("["+ule+ile+lle+cle+"]");function fle(t){return dle.test(t)}var aL=fle;function hle(t){return t.split("")}var ple=hle,sL="\\ud800-\\udfff",mle="\\u0300-\\u036f",gle="\\ufe20-\\ufe2f",yle="\\u20d0-\\u20ff",vle=mle+gle+yle,xle="\\ufe0e\\ufe0f",ble="["+sL+"]",D7="["+vle+"]",L7="\\ud83c[\\udffb-\\udfff]",wle="(?:"+D7+"|"+L7+")",oL="[^"+sL+"]",lL="(?:\\ud83c[\\udde6-\\uddff]){2}",cL="[\\ud800-\\udbff][\\udc00-\\udfff]",_le="\\u200d",uL=wle+"?",dL="["+xle+"]?",Sle="(?:"+_le+"(?:"+[oL,lL,cL].join("|")+")"+dL+uL+")*",Ele=dL+uL+Sle,kle="(?:"+[oL+D7+"?",D7,lL,cL,ble].join("|")+")",Ple=RegExp(L7+"(?="+L7+")|"+kle+Ele,"g");function Tle(t){return t.match(Ple)||[]}var Nle=Tle,Ale=ple,Ile=aL,Cle=Nle;function Ole(t){return Ile(t)?Cle(t):Ale(t)}var jle=Ole,Rle=rle,Mle=aL,$le=jle,Dle=ZD;function Lle(t){return function(e){e=Dle(e);var n=Mle(e)?$le(e):void 0,r=n?n[0]:e.charAt(0),i=n?Rle(n,1).join(""):e.slice(1);return r[t]()+i}}var Fle=Lle,Vle=Fle,Ule=Vle("toUpperCase"),Ble=Ule;const w2=$t(Ble);function Dt(t){return function(){return t}}const fL=Math.cos,Nm=Math.sin,oa=Math.sqrt,Am=Math.PI,_2=2*Am,F7=Math.PI,V7=2*F7,po=1e-6,zle=V7-po;function hL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hL;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Wle{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hL:qle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,d=o-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>po)if(!(Math.abs(d*l-c*u)>po)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-o,x=l*l+c*c,y=p*p+g*g,v=Math.sqrt(x),b=Math.sqrt(h),w=a*Math.tan((F7-Math.acos((x+h-y)/(2*v*b)))/2),S=w/b,E=w/v;Math.abs(S-1)>po&&this._append`L${e+S*u},${n+S*d}`,this._append`A${a},${a},0,0,${+(d*p>u*g)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>po||Math.abs(this._y1-u)>po)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%V7+V7),h>zle?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>po&&this._append`A${r},${r},0,${+(h>=F7)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wb(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Wle(e)}function _b(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pL(t){this._context=t}pL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function S2(t){return new pL(t)}function mL(t){return t[0]}function gL(t){return t[1]}function yL(t,e){var n=Dt(!0),r=null,i=S2,a=null,s=wb(o);t=typeof t=="function"?t:t===void 0?mL:Dt(t),e=typeof e=="function"?e:e===void 0?gL:Dt(e);function o(l){var c,u=(l=_b(l)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Dt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Dt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Dt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function bp(t,e,n){var r=null,i=Dt(!0),a=null,s=S2,o=null,l=wb(c);t=typeof t=="function"?t:t===void 0?mL:Dt(+t),e=typeof e=="function"?e:Dt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?gL:Dt(+n);function c(d){var h,p,g,x=(d=_b(d)).length,y,v=!1,b,w=new Array(x),S=new Array(x);for(a==null&&(o=s(b=l())),h=0;h<=x;++h){if(!(h<x&&i(y=d[h],h,d))===v)if(v=!v)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],S[g]);o.lineEnd(),o.areaEnd()}v&&(w[h]=+t(y,h,d),S[h]=+e(y,h,d),o.point(r?+r(y,h,d):w[h],n?+n(y,h,d):S[h]))}if(b)return o=null,b+""||null}function u(){return yL().defined(i).curve(s).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Dt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Dt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Dt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Dt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Dt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Dt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Dt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}class vL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Hle(t){return new vL(t,!0)}function Gle(t){return new vL(t,!1)}const Sb={draw(t,e){const n=oa(e/Am);t.moveTo(n,0),t.arc(0,0,n,0,_2)}},Kle={draw(t,e){const n=oa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xL=oa(1/3),Qle=xL*2,Yle={draw(t,e){const n=oa(e/Qle),r=n*xL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Xle={draw(t,e){const n=oa(e),r=-n/2;t.rect(r,r,n,n)}},Jle=.8908130915292852,bL=Nm(Am/10)/Nm(7*Am/10),Zle=Nm(_2/10)*bL,ece=-fL(_2/10)*bL,tce={draw(t,e){const n=oa(e*Jle),r=Zle*n,i=ece*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=_2*a/5,o=fL(s),l=Nm(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},h6=oa(3),nce={draw(t,e){const n=-oa(e/(h6*3));t.moveTo(0,n*2),t.lineTo(-h6*n,-n),t.lineTo(h6*n,-n),t.closePath()}},fi=-.5,hi=oa(3)/2,U7=1/oa(12),rce=(U7/2+1)*3,ice={draw(t,e){const n=oa(e/rce),r=n/2,i=n*U7,a=r,s=n*U7+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(fi*r-hi*i,hi*r+fi*i),t.lineTo(fi*a-hi*s,hi*a+fi*s),t.lineTo(fi*o-hi*l,hi*o+fi*l),t.lineTo(fi*r+hi*i,fi*i-hi*r),t.lineTo(fi*a+hi*s,fi*s-hi*a),t.lineTo(fi*o+hi*l,fi*l-hi*o),t.closePath()}};function ace(t,e){let n=null,r=wb(i);t=typeof t=="function"?t:Dt(t||Sb),e=typeof e=="function"?e:Dt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Dt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Dt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Im(){}function Cm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function wL(t){this._context=t}wL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sce(t){return new wL(t)}function _L(t){this._context=t}_L.prototype={areaStart:Im,areaEnd:Im,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oce(t){return new _L(t)}function SL(t){this._context=t}SL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lce(t){return new SL(t)}function EL(t){this._context=t}EL.prototype={areaStart:Im,areaEnd:Im,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cce(t){return new EL(t)}function LP(t){return t<0?-1:1}function FP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(LP(a)+LP(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function VP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function p6(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Om(t){this._context=t}Om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p6(this,this._t0,VP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,p6(this,VP(this,n=FP(this,t,e)),n);break;default:p6(this,this._t0,n=FP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function kL(t){this._context=new PL(t)}(kL.prototype=Object.create(Om.prototype)).point=function(t,e){Om.prototype.point.call(this,e,t)};function PL(t){this._context=t}PL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function uce(t){return new Om(t)}function dce(t){return new kL(t)}function TL(t){this._context=t}TL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=UP(t),i=UP(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function UP(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function fce(t){return new TL(t)}function E2(t,e){this._context=t,this._t=e}E2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function hce(t){return new E2(t,.5)}function pce(t){return new E2(t,0)}function mce(t){return new E2(t,1)}function Uc(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function B7(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function gce(t,e){return t[e]}function yce(t){const e=[];return e.key=t,e}function vce(){var t=Dt([]),e=B7,n=Uc,r=gce;function i(a){var s=Array.from(t.apply(this,arguments),yce),o,l=s.length,c=-1,u;for(const d of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(d,s[o].key,c,a)]).data=d;for(o=0,u=_b(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Dt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Dt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?B7:typeof a=="function"?a:Dt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Uc,i):n},i}function xce(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Uc(t,e)}}function bce(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Uc(t,e)}}function wce(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var x=t[e[g]],y=x[r][1]||0,v=x[r-1][1]||0;p+=y-v}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Uc(t,e)}}function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}var _ce=["type","size","sizeType"];function z7(){return z7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z7.apply(this,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){Sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sce(t,e,n){return e=Ece(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=kce(t,"string");return sh(e)=="symbol"?e:e+""}function kce(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pce(t,e){if(t==null)return{};var n=Tce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var NL={symbolCircle:Sb,symbolCross:Kle,symbolDiamond:Yle,symbolSquare:Xle,symbolStar:tce,symbolTriangle:nce,symbolWye:ice},Nce=Math.PI/180,Ace=function(e){var n="symbol".concat(w2(e));return NL[n]||Sb},Ice=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Nce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Cce=function(e,n){NL["symbol".concat(w2(e))]=n},Eb=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=Pce(e,_ce),c=zP(zP({},l),{},{type:r,size:a,sizeType:o}),u=function(){var y=Ace(r),v=ace().type(y).size(Ice(a,o,r));return v()},d=c.className,h=c.cx,p=c.cy,g=st(c,!0);return h===+h&&p===+p&&a===+a?B.createElement("path",z7({},g,{className:yt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};Eb.registerSymbol=Cce;function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function q7(){return q7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q7.apply(this,arguments)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){oh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IL(r.key),r)}}function Mce(t,e,n){return e&&Rce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ce(t,e,n){return e=jm(e),Dce(t,AL()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function Dce(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lce(t)}function Lce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AL=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function Fce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W7(t,e)}function W7(t,e){return W7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W7(t,e)}function oh(t,e,n){return e=IL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IL(t){var e=Vce(t,"string");return Bc(e)=="symbol"?e:e+""}function Vce(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pi=32,kb=function(t){function e(){return jce(this,e),$ce(this,e,arguments)}return Fce(e,t),Mce(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=pi/2,s=pi/6,o=pi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:pi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(pi,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(pi/8,"h").concat(pi,"v").concat(pi*3/4,"h").concat(-pi,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var c=Oce({},r);return delete c.legendIcon,B.cloneElement(r.legendIcon,c)}return B.createElement(Eb,{fill:l,cx:a,cy:a,size:pi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:pi,height:pi},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var x=p.formatter||l,y=yt(oh(oh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Ze(p.value)?null:p.value;p0(!Ze(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return B.createElement("li",q7({className:y,style:d,key:"legend-item-".concat(g)},Tm(r.props,p,g)),B.createElement(M7,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(v,p,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(R.PureComponent);oh(kb,"displayName","Legend");oh(kb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Uce=l2;function Bce(){this.__data__=new Uce,this.size=0}var zce=Bce;function qce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Wce=qce;function Hce(t){return this.__data__.get(t)}var Gce=Hce;function Kce(t){return this.__data__.has(t)}var Qce=Kce,Yce=l2,Xce=fb,Jce=hb,Zce=200;function eue(t,e){var n=this.__data__;if(n instanceof Yce){var r=n.__data__;if(!Xce||r.length<Zce-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Jce(r)}return n.set(t,e),this.size=n.size,this}var tue=eue,nue=l2,rue=zce,iue=Wce,aue=Gce,sue=Qce,oue=tue;function Mu(t){var e=this.__data__=new nue(t);this.size=e.size}Mu.prototype.clear=rue;Mu.prototype.delete=iue;Mu.prototype.get=aue;Mu.prototype.has=sue;Mu.prototype.set=oue;var CL=Mu,lue="__lodash_hash_undefined__";function cue(t){return this.__data__.set(t,lue),this}var uue=cue;function due(t){return this.__data__.has(t)}var fue=due,hue=hb,pue=uue,mue=fue;function Rm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hue;++e<n;)this.add(t[e])}Rm.prototype.add=Rm.prototype.push=pue;Rm.prototype.has=mue;var OL=Rm;function gue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var jL=gue;function yue(t,e){return t.has(e)}var RL=yue,vue=OL,xue=jL,bue=RL,wue=1,_ue=2;function Sue(t,e,n,r,i,a){var s=n&wue,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&_ue?new vue:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var g=t[d],x=e[d];if(r)var y=s?r(x,g,d,e,t,a):r(g,x,d,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!xue(e,function(v,b){if(!bue(p,b)&&(g===v||i(g,v,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(g===x||i(g,x,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var ML=Sue,Eue=Ba,kue=Eue.Uint8Array,Pue=kue;function Tue(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Nue=Tue;function Aue(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Pb=Aue,WP=b4,HP=Pue,Iue=db,Cue=ML,Oue=Nue,jue=Pb,Rue=1,Mue=2,$ue="[object Boolean]",Due="[object Date]",Lue="[object Error]",Fue="[object Map]",Vue="[object Number]",Uue="[object RegExp]",Bue="[object Set]",zue="[object String]",que="[object Symbol]",Wue="[object ArrayBuffer]",Hue="[object DataView]",GP=WP?WP.prototype:void 0,m6=GP?GP.valueOf:void 0;function Gue(t,e,n,r,i,a,s){switch(n){case Hue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Wue:return!(t.byteLength!=e.byteLength||!a(new HP(t),new HP(e)));case $ue:case Due:case Vue:return Iue(+t,+e);case Lue:return t.name==e.name&&t.message==e.message;case Uue:case zue:return t==e+"";case Fue:var o=Oue;case Bue:var l=r&Rue;if(o||(o=jue),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Mue,s.set(t,e);var u=Cue(o(t),o(e),r,i,a,s);return s.delete(t),u;case que:if(m6)return m6.call(t)==m6.call(e)}return!1}var Kue=Gue;function Que(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var $L=Que,Yue=$L,Xue=zr;function Jue(t,e,n){var r=e(t);return Xue(t)?r:Yue(r,n(t))}var Zue=Jue;function ede(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var tde=ede;function nde(){return[]}var rde=nde,ide=tde,ade=rde,sde=Object.prototype,ode=sde.propertyIsEnumerable,KP=Object.getOwnPropertySymbols,lde=KP?function(t){return t==null?[]:(t=Object(t),ide(KP(t),function(e){return ode.call(t,e)}))}:ade,cde=lde;function ude(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var dde=ude,fde=j0,hde=R0,pde="[object Arguments]";function mde(t){return hde(t)&&fde(t)==pde}var gde=mde,QP=gde,yde=R0,DL=Object.prototype,vde=DL.hasOwnProperty,xde=DL.propertyIsEnumerable,bde=QP(function(){return arguments}())?QP:function(t){return yde(t)&&vde.call(t,"callee")&&!xde.call(t,"callee")},Tb=bde,Mm={exports:{}};function wde(){return!1}var _de=wde;Mm.exports;(function(t,e){var n=Ba,r=_de,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(Mm,Mm.exports);var LL=Mm.exports,Sde=9007199254740991,Ede=/^(?:0|[1-9]\d*)$/;function kde(t,e){var n=typeof t;return e=e??Sde,!!e&&(n=="number"||n!="symbol"&&Ede.test(t))&&t>-1&&t%1==0&&t<e}var Nb=kde,Pde=9007199254740991;function Tde(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Pde}var Ab=Tde,Nde=j0,Ade=Ab,Ide=R0,Cde="[object Arguments]",Ode="[object Array]",jde="[object Boolean]",Rde="[object Date]",Mde="[object Error]",$de="[object Function]",Dde="[object Map]",Lde="[object Number]",Fde="[object Object]",Vde="[object RegExp]",Ude="[object Set]",Bde="[object String]",zde="[object WeakMap]",qde="[object ArrayBuffer]",Wde="[object DataView]",Hde="[object Float32Array]",Gde="[object Float64Array]",Kde="[object Int8Array]",Qde="[object Int16Array]",Yde="[object Int32Array]",Xde="[object Uint8Array]",Jde="[object Uint8ClampedArray]",Zde="[object Uint16Array]",efe="[object Uint32Array]",zt={};zt[Hde]=zt[Gde]=zt[Kde]=zt[Qde]=zt[Yde]=zt[Xde]=zt[Jde]=zt[Zde]=zt[efe]=!0;zt[Cde]=zt[Ode]=zt[qde]=zt[jde]=zt[Wde]=zt[Rde]=zt[Mde]=zt[$de]=zt[Dde]=zt[Lde]=zt[Fde]=zt[Vde]=zt[Ude]=zt[Bde]=zt[zde]=!1;function tfe(t){return Ide(t)&&Ade(t.length)&&!!zt[Nde(t)]}var nfe=tfe;function rfe(t){return function(e){return t(e)}}var FL=rfe,$m={exports:{}};$m.exports;(function(t,e){var n=GD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})($m,$m.exports);var ife=$m.exports,afe=nfe,sfe=FL,YP=ife,XP=YP&&YP.isTypedArray,ofe=XP?sfe(XP):afe,VL=ofe,lfe=dde,cfe=Tb,ufe=zr,dfe=LL,ffe=Nb,hfe=VL,pfe=Object.prototype,mfe=pfe.hasOwnProperty;function gfe(t,e){var n=ufe(t),r=!n&&cfe(t),i=!n&&!r&&dfe(t),a=!n&&!r&&!i&&hfe(t),s=n||r||i||a,o=s?lfe(t.length,String):[],l=o.length;for(var c in t)(e||mfe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ffe(c,l)))&&o.push(c);return o}var yfe=gfe,vfe=Object.prototype;function xfe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vfe;return t===n}var bfe=xfe;function wfe(t,e){return function(n){return t(e(n))}}var UL=wfe,_fe=UL,Sfe=_fe(Object.keys,Object),Efe=Sfe,kfe=bfe,Pfe=Efe,Tfe=Object.prototype,Nfe=Tfe.hasOwnProperty;function Afe(t){if(!kfe(t))return Pfe(t);var e=[];for(var n in Object(t))Nfe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ife=Afe,Cfe=ub,Ofe=Ab;function jfe(t){return t!=null&&Ofe(t.length)&&!Cfe(t)}var _4=jfe,Rfe=yfe,Mfe=Ife,$fe=_4;function Dfe(t){return $fe(t)?Rfe(t):Mfe(t)}var k2=Dfe,Lfe=Zue,Ffe=cde,Vfe=k2;function Ufe(t){return Lfe(t,Vfe,Ffe)}var Bfe=Ufe,JP=Bfe,zfe=1,qfe=Object.prototype,Wfe=qfe.hasOwnProperty;function Hfe(t,e,n,r,i,a){var s=n&zfe,o=JP(t),l=o.length,c=JP(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in e:Wfe.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var x=!0;a.set(t,e),a.set(e,t);for(var y=s;++d<l;){h=o[d];var v=t[h],b=e[h];if(r)var w=s?r(b,v,h,e,t,a):r(v,b,h,t,e,a);if(!(w===void 0?v===b||i(v,b,n,r,a):w)){x=!1;break}y||(y=h=="constructor")}if(x&&!y){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(x=!1)}return a.delete(t),a.delete(e),x}var Gfe=Hfe,Kfe=wl,Qfe=Ba,Yfe=Kfe(Qfe,"DataView"),Xfe=Yfe,Jfe=wl,Zfe=Ba,ehe=Jfe(Zfe,"Promise"),the=ehe,nhe=wl,rhe=Ba,ihe=nhe(rhe,"Set"),BL=ihe,ahe=wl,she=Ba,ohe=ahe(she,"WeakMap"),lhe=ohe,H7=Xfe,G7=fb,K7=the,Q7=BL,Y7=lhe,zL=j0,$u=QD,ZP="[object Map]",che="[object Object]",eT="[object Promise]",tT="[object Set]",nT="[object WeakMap]",rT="[object DataView]",uhe=$u(H7),dhe=$u(G7),fhe=$u(K7),hhe=$u(Q7),phe=$u(Y7),mo=zL;(H7&&mo(new H7(new ArrayBuffer(1)))!=rT||G7&&mo(new G7)!=ZP||K7&&mo(K7.resolve())!=eT||Q7&&mo(new Q7)!=tT||Y7&&mo(new Y7)!=nT)&&(mo=function(t){var e=zL(t),n=e==che?t.constructor:void 0,r=n?$u(n):"";if(r)switch(r){case uhe:return rT;case dhe:return ZP;case fhe:return eT;case hhe:return tT;case phe:return nT}return e});var mhe=mo,g6=CL,ghe=ML,yhe=Kue,vhe=Gfe,iT=mhe,aT=zr,sT=LL,xhe=VL,bhe=1,oT="[object Arguments]",lT="[object Array]",wp="[object Object]",whe=Object.prototype,cT=whe.hasOwnProperty;function _he(t,e,n,r,i,a){var s=aT(t),o=aT(e),l=s?lT:iT(t),c=o?lT:iT(e);l=l==oT?wp:l,c=c==oT?wp:c;var u=l==wp,d=c==wp,h=l==c;if(h&&sT(t)){if(!sT(e))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new g6),s||xhe(t)?ghe(t,e,n,r,i,a):yhe(t,e,l,n,r,i,a);if(!(n&bhe)){var p=u&&cT.call(t,"__wrapped__"),g=d&&cT.call(e,"__wrapped__");if(p||g){var x=p?t.value():t,y=g?e.value():e;return a||(a=new g6),i(x,y,n,r,a)}}return h?(a||(a=new g6),vhe(t,e,n,r,i,a)):!1}var She=_he,Ehe=She,uT=R0;function qL(t,e,n,r,i){return t===e?!0:t==null||e==null||!uT(t)&&!uT(e)?t!==t&&e!==e:Ehe(t,e,n,r,qL,i)}var Ib=qL,khe=CL,Phe=Ib,The=1,Nhe=2;function Ahe(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new khe;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?Phe(u,c,The|Nhe,r,d):h))return!1}}return!0}var Ihe=Ahe,Che=Ys;function Ohe(t){return t===t&&!Che(t)}var WL=Ohe,jhe=WL,Rhe=k2;function Mhe(t){for(var e=Rhe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jhe(i)]}return e}var $he=Mhe;function Dhe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var HL=Dhe,Lhe=Ihe,Fhe=$he,Vhe=HL;function Uhe(t){var e=Fhe(t);return e.length==1&&e[0][2]?Vhe(e[0][0],e[0][1]):function(n){return n===t||Lhe(n,t,e)}}var Bhe=Uhe;function zhe(t,e){return t!=null&&e in Object(t)}var qhe=zhe,Whe=eL,Hhe=Tb,Ghe=zr,Khe=Nb,Qhe=Ab,Yhe=u2;function Xhe(t,e,n){e=Whe(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=Yhe(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Qhe(i)&&Khe(s,i)&&(Ghe(t)||Hhe(t)))}var Jhe=Xhe,Zhe=qhe,e4e=Jhe;function t4e(t,e){return t!=null&&e4e(t,e,Zhe)}var n4e=t4e,r4e=Ib,i4e=tL,a4e=n4e,s4e=cb,o4e=WL,l4e=HL,c4e=u2,u4e=1,d4e=2;function f4e(t,e){return s4e(t)&&o4e(e)?l4e(c4e(t),e):function(n){var r=i4e(n,t);return r===void 0&&r===e?a4e(n,t):r4e(e,r,u4e|d4e)}}var h4e=f4e;function p4e(t){return t}var Du=p4e;function m4e(t){return function(e){return e==null?void 0:e[t]}}var g4e=m4e,y4e=gb;function v4e(t){return function(e){return y4e(e,t)}}var x4e=v4e,b4e=g4e,w4e=x4e,_4e=cb,S4e=u2;function E4e(t){return _4e(t)?b4e(S4e(t)):w4e(t)}var k4e=E4e,P4e=Bhe,T4e=h4e,N4e=Du,A4e=zr,I4e=k4e;function C4e(t){return typeof t=="function"?t:t==null?N4e:typeof t=="object"?A4e(t)?T4e(t[0],t[1]):P4e(t):I4e(t)}var Xs=C4e;function O4e(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var GL=O4e;function j4e(t){return t!==t}var R4e=j4e;function M4e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var $4e=M4e,D4e=GL,L4e=R4e,F4e=$4e;function V4e(t,e,n){return e===e?F4e(t,e,n):D4e(t,L4e,n)}var U4e=V4e,B4e=U4e;function z4e(t,e){var n=t==null?0:t.length;return!!n&&B4e(t,e,0)>-1}var q4e=z4e;function W4e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var H4e=W4e;function G4e(){}var K4e=G4e,y6=BL,Q4e=K4e,Y4e=Pb,X4e=1/0,J4e=y6&&1/Y4e(new y6([,-0]))[1]==X4e?function(t){return new y6(t)}:Q4e,Z4e=J4e,epe=OL,tpe=q4e,npe=H4e,rpe=RL,ipe=Z4e,ape=Pb,spe=200;function ope(t,e,n){var r=-1,i=tpe,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=npe;else if(a>=spe){var c=e?null:ipe(t);if(c)return ape(c);s=!1,i=rpe,l=new epe}else l=e?[]:o;e:for(;++r<a;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}var lpe=ope,cpe=Xs,upe=lpe;function dpe(t,e){return t&&t.length?upe(t,cpe(e)):[]}var fpe=dpe;const dT=$t(fpe);function KL(t,e,n){return e===!0?dT(t,n):Ze(e)?dT(t,e):t}function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var hpe=["ref"];function fT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(r){P2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YL(r.key),r)}}function mpe(t,e,n){return e&&hT(t.prototype,e),n&&hT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,n){return e=Dm(e),ype(t,QL()?Reflect.construct(e,n||[],Dm(t).constructor):e.apply(t,n))}function ype(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vpe(t)}function vpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dm(t)}function xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X7(t,e)}function X7(t,e){return X7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X7(t,e)}function P2(t,e,n){return e=YL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YL(t){var e=bpe(t,"string");return zc(e)=="symbol"?e:e+""}function bpe(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wpe(t,e){if(t==null)return{};var n=_pe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _pe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Spe(t){return t.value}function Epe(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=wpe(e,hpe);return B.createElement(kb,n)}var pT=1,wc=function(t){function e(){var n;ppe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=gpe(this,e,[].concat(i)),P2(n,"lastBoundingBox",{width:-1,height:-1}),n}return xpe(e,t),mpe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>pT||Math.abs(i.height-this.lastBoundingBox.height)>pT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ha({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ha(Ha({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=Ha(Ha({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},Epe(a,Ha(Ha({},this.props),{},{payload:KL(u,c,Spe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ha(Ha({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&ye(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);P2(wc,"displayName","Legend");P2(wc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mT=b4,kpe=Tb,Ppe=zr,gT=mT?mT.isConcatSpreadable:void 0;function Tpe(t){return Ppe(t)||kpe(t)||!!(gT&&t&&t[gT])}var Npe=Tpe,Ape=$L,Ipe=Npe;function XL(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=Ipe),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?XL(o,e-1,n,r,i):Ape(i,o):r||(i[i.length]=o)}return i}var JL=XL;function Cpe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var Ope=Cpe,jpe=Ope,Rpe=jpe(),Mpe=Rpe,$pe=Mpe,Dpe=k2;function Lpe(t,e){return t&&$pe(t,e,Dpe)}var ZL=Lpe,Fpe=_4;function Vpe(t,e){return function(n,r){if(n==null)return n;if(!Fpe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Upe=Vpe,Bpe=ZL,zpe=Upe,qpe=zpe(Bpe),Cb=qpe,Wpe=Cb,Hpe=_4;function Gpe(t,e){var n=-1,r=Hpe(t)?Array(t.length):[];return Wpe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var eF=Gpe;function Kpe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Qpe=Kpe,yT=Au;function Ype(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=yT(t),s=e!==void 0,o=e===null,l=e===e,c=yT(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var Xpe=Ype,Jpe=Xpe;function Zpe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=Jpe(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var e3e=Zpe,v6=mb,t3e=gb,n3e=Xs,r3e=eF,i3e=Qpe,a3e=FL,s3e=e3e,o3e=Du,l3e=zr;function c3e(t,e,n){e.length?e=v6(e,function(a){return l3e(a)?function(s){return t3e(s,a.length===1?a[0]:a)}:a}):e=[o3e];var r=-1;e=v6(e,a3e(n3e));var i=r3e(t,function(a,s,o){var l=v6(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return i3e(i,function(a,s){return s3e(a,s,n)})}var u3e=c3e;function d3e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var f3e=d3e,h3e=f3e,vT=Math.max;function p3e(t,e,n){return e=vT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=vT(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),h3e(t,this,o)}}var m3e=p3e;function g3e(t){return function(){return t}}var y3e=g3e,v3e=wl,x3e=function(){try{var t=v3e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),tF=x3e,b3e=y3e,xT=tF,w3e=Du,_3e=xT?function(t,e){return xT(t,"toString",{configurable:!0,enumerable:!1,value:b3e(e),writable:!0})}:w3e,S3e=_3e,E3e=800,k3e=16,P3e=Date.now;function T3e(t){var e=0,n=0;return function(){var r=P3e(),i=k3e-(r-n);if(n=r,i>0){if(++e>=E3e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var N3e=T3e,A3e=S3e,I3e=N3e,C3e=I3e(A3e),O3e=C3e,j3e=Du,R3e=m3e,M3e=O3e;function $3e(t,e){return M3e(R3e(t,e,j3e),t+"")}var D3e=$3e,L3e=db,F3e=_4,V3e=Nb,U3e=Ys;function B3e(t,e,n){if(!U3e(n))return!1;var r=typeof e;return(r=="number"?F3e(n)&&V3e(e,n.length):r=="string"&&e in n)?L3e(n[e],t):!1}var T2=B3e,z3e=JL,q3e=u3e,W3e=D3e,bT=T2,H3e=W3e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&bT(t,e[0],e[1])?e=[]:n>2&&bT(e[0],e[1],e[2])&&(e=[e[0]]),q3e(t,z3e(e,1),[])}),G3e=H3e;const Ob=$t(G3e);function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function J7(){return J7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J7.apply(this,arguments)}function K3e(t,e){return J3e(t)||X3e(t,e)||Y3e(t,e)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y3e(t,e){if(t){if(typeof t=="string")return wT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wT(t,e)}}function wT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function J3e(t){if(Array.isArray(t))return t}function _T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(n),!0).forEach(function(r){Z3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z3e(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return lh(e)=="symbol"?e:e+""}function tme(t,e){if(lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t){return Array.isArray(t)&&An(t[0])&&An(t[1])?t.join(" ~ "):t}var rme=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,x=e.label,y=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(u&&u.length){var j={padding:0,margin:0},O=(h?Ob(u,h):u).map(function($,M){if($.type==="none")return null;var D=x6({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},o),V=$.formatter||d||nme,F=$.value,U=$.name,W=F,G=U;if(V&&W!=null&&G!=null){var H=V(F,U,$,M,u);if(Array.isArray(H)){var te=K3e(H,2);W=te[0],G=te[1]}else W=H}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:D},An(G)?B.createElement("span",{className:"recharts-tooltip-item-name"},G):null,An(G)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},W),B.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},S=x6({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=x6({margin:0},c),P=!dt(x),_=P?x:"",k=yt("recharts-default-tooltip",p),N=yt("recharts-tooltip-label",g);P&&y&&u!==void 0&&u!==null&&(_=y(x,u));var A=b?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",J7({className:k,style:S},A),B.createElement("p",{className:N,style:E},B.isValidElement(_)?_:"".concat(_)),w())};function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function _p(t,e,n){return e=ime(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=ame(t,"string");return ch(e)=="symbol"?e:e+""}function ame(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gd="recharts-tooltip-wrapper",sme={visibility:"hidden"};function ome(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return yt(gd,_p(_p(_p(_p({},"".concat(gd,"-right"),ye(n)&&e&&ye(e.x)&&n>=e.x),"".concat(gd,"-left"),ye(n)&&e&&ye(e.x)&&n<e.x),"".concat(gd,"-bottom"),ye(r)&&e&&ye(e.y)&&r>=e.y),"".concat(gd,"-top"),ye(r)&&e&&ye(e.y)&&r<e.y))}function ST(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&ye(a[r]))return a[r];var u=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?u:d;if(s[r]){var h=u,p=l[r];return h<p?Math.max(d,l[r]):Math.max(u,l[r])}var g=d+o,x=l[r]+c;return g>x?Math.max(u,l[r]):Math.max(d,l[r])}function lme(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cme(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return s.height>0&&s.width>0&&n?(u=ST({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=ST({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=lme({translateX:u,translateY:d,useTranslate3d:o})):c=sme,{cssProperties:c,cssClasses:ome({translateX:u,translateY:d,coordinate:n})}}function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){ev(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rF(r.key),r)}}function fme(t,e,n){return e&&dme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hme(t,e,n){return e=Lm(e),pme(t,nF()?Reflect.construct(e,n||[],Lm(t).constructor):e.apply(t,n))}function pme(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mme(t)}function mme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lm(t)}function gme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z7(t,e)}function Z7(t,e){return Z7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z7(t,e)}function ev(t,e,n){return e=rF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rF(t){var e=yme(t,"string");return qc(e)=="symbol"?e:e+""}function yme(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PT=1,vme=function(t){function e(){var n;ume(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hme(this,e,[].concat(i)),ev(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ev(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return gme(e,t),fme(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>PT||Math.abs(r.height-this.state.lastBoundingBox.height)>PT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,x=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,w=cme({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),S=w.cssClasses,E=w.cssProperties,P=kT(kT({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return B.createElement("div",{tabIndex:-1,className:S,style:P,ref:function(k){r.wrapperNode=k}},c)}}])}(R.PureComponent),xme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Lu={isSsr:xme()};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function TT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(n),!0).forEach(function(r){jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aF(r.key),r)}}function _me(t,e,n){return e&&wme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sme(t,e,n){return e=Fm(e),Eme(t,iF()?Reflect.construct(e,n||[],Fm(t).constructor):e.apply(t,n))}function Eme(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kme(t)}function kme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iF=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fm(t)}function Pme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tv(t,e)}function tv(t,e){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tv(t,e)}function jb(t,e,n){return e=aF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aF(t){var e=Tme(t,"string");return Wc(e)=="symbol"?e:e+""}function Tme(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nme(t){return t.dataKey}function Ame(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(rme,e)}var pa=function(t){function e(){return bme(this,e),Sme(this,e,arguments)}return Pme(e,t),_me(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,x=i.payloadUniqBy,y=i.position,v=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,E=g??[];d&&E.length&&(E=KL(g.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),x,Nme));var P=E.length>0;return B.createElement(vme,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:P,offset:p,position:y,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:S},Ame(c,NT(NT({},this.props),{},{payload:E})))}}])}(R.PureComponent);jb(pa,"displayName","Tooltip");jb(pa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Lu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ime=Ba,Cme=function(){return Ime.Date.now()},Ome=Cme,jme=/\s/;function Rme(t){for(var e=t.length;e--&&jme.test(t.charAt(e)););return e}var Mme=Rme,$me=Mme,Dme=/^\s+/;function Lme(t){return t&&t.slice(0,$me(t)+1).replace(Dme,"")}var Fme=Lme,Vme=Fme,AT=Ys,Ume=Au,IT=NaN,Bme=/^[-+]0x[0-9a-f]+$/i,zme=/^0b[01]+$/i,qme=/^0o[0-7]+$/i,Wme=parseInt;function Hme(t){if(typeof t=="number")return t;if(Ume(t))return IT;if(AT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=AT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Vme(t);var n=zme.test(t);return n||qme.test(t)?Wme(t.slice(2),n?2:8):Bme.test(t)?IT:+t}var sF=Hme,Gme=Ys,b6=Ome,CT=sF,Kme="Expected a function",Qme=Math.max,Yme=Math.min;function Xme(t,e,n){var r,i,a,s,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Kme);e=CT(e)||0,Gme(n)&&(u=!!n.leading,d="maxWait"in n,a=d?Qme(CT(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(P){var _=r,k=i;return r=i=void 0,c=P,s=t.apply(k,_),s}function g(P){return c=P,o=setTimeout(v,e),u?p(P):s}function x(P){var _=P-l,k=P-c,N=e-_;return d?Yme(N,a-k):N}function y(P){var _=P-l,k=P-c;return l===void 0||_>=e||_<0||d&&k>=a}function v(){var P=b6();if(y(P))return b(P);o=setTimeout(v,x(P))}function b(P){return o=void 0,h&&r?p(P):(r=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function S(){return o===void 0?s:b(b6())}function E(){var P=b6(),_=y(P);if(r=arguments,i=this,l=P,_){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(v,e),p(l)}return o===void 0&&(o=setTimeout(v,e)),s}return E.cancel=w,E.flush=S,E}var Jme=Xme,Zme=Jme,e1e=Ys,t1e="Expected a function";function n1e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(t1e);return e1e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Zme(t,e,{leading:r,maxWait:e,trailing:i})}var r1e=n1e;const oF=$t(r1e);function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){i1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i1e(t,e,n){return e=a1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a1e(t){var e=s1e(t,"string");return uh(e)=="symbol"?e:e+""}function s1e(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o1e(t,e){return d1e(t)||u1e(t,e)||c1e(t,e)||l1e()}function l1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c1e(t,e){if(t){if(typeof t=="string")return jT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jT(t,e)}}function jT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function d1e(t){if(Array.isArray(t))return t}var f1e=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,x=g===void 0?0:g,y=t.id,v=t.className,b=t.onResize,w=t.style,S=w===void 0?{}:w,E=R.useRef(null),P=R.useRef();P.current=b,R.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=R.useState({containerWidth:i.width,containerHeight:i.height}),k=o1e(_,2),N=k[0],A=k[1],I=R.useCallback(function(O,$){A(function(M){var D=Math.round(O),V=Math.round($);return M.containerWidth===D&&M.containerHeight===V?M:{containerWidth:D,containerHeight:V}})},[]);R.useEffect(function(){var O=function(U){var W,G=U[0].contentRect,H=G.width,te=G.height;I(H,te),(W=P.current)===null||W===void 0||W.call(P,H,te)};x>0&&(O=oF(O,x,{trailing:!0,leading:!1}));var $=new ResizeObserver(O),M=E.current.getBoundingClientRect(),D=M.width,V=M.height;return I(D,V),$.observe(E.current),function(){$.disconnect()}},[I,x]);var j=R.useMemo(function(){var O=N.containerWidth,$=N.containerHeight;if(O<0||$<0)return null;p0(Po(s)||Po(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),p0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=Po(s)?O:s,D=Po(l)?$:l;n&&n>0&&(M?D=M/n:D&&(M=D*n),h&&D>h&&(D=h)),p0(M>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,D,s,l,u,d,n);var V=!Array.isArray(p)&&h0(p.type).endsWith("Chart");return B.Children.map(p,function(F){return B.isValidElement(F)?R.cloneElement(F,Sp({width:M,height:D},V?{style:Sp({height:"100%",width:"100%",maxHeight:D,maxWidth:M},F.props.style)}:{})):F})},[n,p,l,h,d,u,N,s]);return B.createElement("div",{id:y?"".concat(y):void 0,className:yt("recharts-responsive-container",v),style:Sp(Sp({},S),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:E},j)}),lF=function(e){return null};lF.displayName="Cell";function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function RT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(n),!0).forEach(function(r){h1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h1e(t,e,n){return e=p1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p1e(t){var e=m1e(t,"string");return dh(e)=="symbol"?e:e+""}function m1e(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cl={widthCache:{},cacheCount:0},g1e=2e3,y1e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MT="recharts_measurement_span";function v1e(t){var e=nv({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var wf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Lu.isSsr)return{width:0,height:0};var r=v1e(n),i=JSON.stringify({text:e,copyStyle:r});if(Cl.widthCache[i])return Cl.widthCache[i];try{var a=document.getElementById(MT);a||(a=document.createElement("span"),a.setAttribute("id",MT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=nv(nv({},y1e),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Cl.widthCache[i]=l,++Cl.cacheCount>g1e&&(Cl.cacheCount=0,Cl.widthCache={}),l}catch{return{width:0,height:0}}},x1e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function Vm(t,e){return S1e(t)||_1e(t,e)||w1e(t,e)||b1e()}function b1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1e(t,e){if(t){if(typeof t=="string")return $T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $T(t,e)}}function $T(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function S1e(t){if(Array.isArray(t))return t}function E1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P1e(r.key),r)}}function k1e(t,e,n){return e&&DT(t.prototype,e),n&&DT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P1e(t){var e=T1e(t,"string");return fh(e)=="symbol"?e:e+""}function T1e(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,N1e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,A1e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},I1e=Object.keys(cF),ec="NaN";function C1e(t,e){return t*cF[e]}var Ep=function(){function t(e,n){E1e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!N1e.test(n)&&(this.num=NaN,this.unit=""),I1e.includes(n)&&(this.num=C1e(e,n),this.unit="px")}return k1e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=A1e.exec(n))!==null&&r!==void 0?r:[],a=Vm(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function uF(t){if(t.includes(ec))return ec;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=LT.exec(e))!==null&&n!==void 0?n:[],i=Vm(r,4),a=i[1],s=i[2],o=i[3],l=Ep.parse(a??""),c=Ep.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return ec;e=e.replace(LT,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=FT.exec(e))!==null&&d!==void 0?d:[],p=Vm(h,4),g=p[1],x=p[2],y=p[3],v=Ep.parse(g??""),b=Ep.parse(y??""),w=x==="+"?v.add(b):v.subtract(b);if(w.isNaN())return ec;e=e.replace(FT,w.toString())}return e}var VT=/\(([^()]*)\)/;function O1e(t){for(var e=t;e.includes("(");){var n=VT.exec(e),r=Vm(n,2),i=r[1];e=e.replace(VT,uF(i))}return e}function j1e(t){var e=t.replace(/\s+/g,"");return e=O1e(e),e=uF(e),e}function R1e(t){try{return j1e(t)}catch{return ec}}function w6(t){var e=R1e(t.slice(5,-1));return e===ec?"":e}var M1e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$1e=["dx","dy","angle","className","breakAll"];function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}function UT(t,e){if(t==null)return{};var n=D1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BT(t,e){return U1e(t)||V1e(t,e)||F1e(t,e)||L1e()}function L1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F1e(t,e){if(t){if(typeof t=="string")return zT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zT(t,e)}}function zT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function U1e(t){if(Array.isArray(t))return t}var dF=/[ \f\n\r\t\v\u2028\u2029]+/,fF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];dt(n)||(r?a=n.toString().split(""):a=n.toString().split(dF));var s=a.map(function(l){return{word:l,width:wf(l,i).width}}),o=r?0:wf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},B1e=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=ye(s),d=o,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(D,V){var F=V.word,U=V.width,W=D[D.length-1];if(W&&(i==null||a||W.width+U+r<Number(i)))W.words.push(F),W.width+=U+r;else{var G={words:[F],width:U};D.push(G)}return D},[])},p=h(n),g=function(M){return M.reduce(function(D,V){return D.width>V.width?D:V})};if(!u)return p;for(var x="",y=function(M){var D=d.slice(0,M),V=fF({breakAll:c,style:l,children:D+x}).wordsWithComputedWidth,F=h(V),U=F.length>s||g(F).width>Number(i);return[U,F]},v=0,b=d.length-1,w=0,S;v<=b&&w<=d.length-1;){var E=Math.floor((v+b)/2),P=E-1,_=y(P),k=BT(_,2),N=k[0],A=k[1],I=y(E),j=BT(I,1),O=j[0];if(!N&&!O&&(v=E+1),N&&O&&(b=E-1),!N&&O){S=A;break}w++}return S||p},qT=function(e){var n=dt(e)?[]:e.toString().split(dF);return[{words:n}]},z1e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!Lu.isSsr){var l,c,u=fF({breakAll:s,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return qT(i);return B1e({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return qT(i)},WT="#808080",Um=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,x=g===void 0?"end":g,y=e.fill,v=y===void 0?WT:y,b=UT(e,M1e),w=R.useMemo(function(){return z1e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),S=b.dx,E=b.dy,P=b.angle,_=b.className,k=b.breakAll,N=UT(b,$1e);if(!An(r)||!An(a))return null;var A=r+(ye(S)?S:0),I=a+(ye(E)?E:0),j;switch(x){case"start":j=w6("calc(".concat(c,")"));break;case"middle":j=w6("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:j=w6("calc(".concat(w.length-1," * -").concat(o,")"));break}var O=[];if(d){var $=w[0].width,M=b.width;O.push("scale(".concat((ye(M)?M/$:1)/$,")"))}return P&&O.push("rotate(".concat(P,", ").concat(A,", ").concat(I,")")),O.length&&(N.transform=O.join(" ")),B.createElement("text",rv({},st(N,!0),{x:A,y:I,className:yt("recharts-text",_),textAnchor:p,fill:v.includes("url")?WT:v}),w.map(function(D,V){var F=D.words.join(k?"":" ");return B.createElement("tspan",{x:A,dy:V===0?j:o,key:"".concat(F,"-").concat(V)},F)}))};function Ts(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function q1e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rb(t){let e,n,r;t.length!==2?(e=Ts,n=(o,l)=>Ts(t(o),l),r=(o,l)=>t(o)-l):(e=t===Ts||t===q1e?t:W1e,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function W1e(){return 0}function hF(t){return t===null?NaN:+t}function*H1e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const G1e=Rb(Ts),S4=G1e.right;Rb(hF).center;let Ra=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}};class HT extends Map{constructor(e,n=Y1e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(GT(this,e))}has(e){return super.has(GT(this,e))}set(e,n){return super.set(K1e(this,e),n)}delete(e){return super.delete(Q1e(this,e))}}function GT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function K1e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Q1e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Y1e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function X1e(t=Ts){if(t===Ts)return pF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function pF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const J1e=Math.sqrt(50),Z1e=Math.sqrt(10),ege=Math.sqrt(2);function Bm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=J1e?10:a>=Z1e?5:a>=ege?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?Bm(t,e,n*2):[o,l,c]}function iv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?Bm(e,t,n):Bm(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function av(t,e,n){return e=+e,t=+t,n=+n,Bm(t,e,n)[2]}function sv(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?av(e,t,n):av(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function KT(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function QT(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function mF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?pF:X1e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+h)),g=Math.min(r,Math.floor(e+(l-c)*d/l+h));mF(t,e,p,g,i)}const a=t[e];let s=n,o=r;for(yd(t,n,e),i(t[r],a)>0&&yd(t,n,r);s<o;){for(yd(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?yd(t,n,o):(++o,yd(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function yd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function tge(t,e,n){if(t=Float64Array.from(H1e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return QT(t);if(e>=1)return KT(t);var r,i=(r-1)*e,a=Math.floor(i),s=KT(mF(t,a).subarray(0,a+1)),o=QT(t.subarray(a+1));return s+(o-s)*(i-a)}}function nge(t,e,n=hF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function*rge(t){for(const e of t)yield*e}function gF(t){return Array.from(rge(t))}function ige(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function M0(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ov=Symbol("implicit");function Mb(){var t=new HT,e=[],n=[],r=ov;function i(a){let s=t.get(a);if(s===void 0){if(r!==ov)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new HT;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Mb(e,n).unknown(r)},Di.apply(i,arguments),i}function hh(){var t=Mb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<r,g=p?i:r,x=p?r:i;a=(x-g)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),g+=(x-g-a*(h-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var y=ige(h).map(function(v){return g+a*v});return n(p?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return hh(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Di.apply(d(),arguments)}function yF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yF(e())},t}function _f(){return yF(hh.apply(null,arguments).paddingInner(1))}function $b(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function E4(){}var ph=.7,zm=1/ph,_c="\\s*([+-]?\\d+)\\s*",mh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ma="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",age=/^#([0-9a-f]{3,8})$/,sge=new RegExp(`^rgb\\(${_c},${_c},${_c}\\)$`),oge=new RegExp(`^rgb\\(${Ma},${Ma},${Ma}\\)$`),lge=new RegExp(`^rgba\\(${_c},${_c},${_c},${mh}\\)$`),cge=new RegExp(`^rgba\\(${Ma},${Ma},${Ma},${mh}\\)$`),uge=new RegExp(`^hsl\\(${mh},${Ma},${Ma}\\)$`),dge=new RegExp(`^hsla\\(${mh},${Ma},${Ma},${mh}\\)$`),YT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$b(E4,gh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XT,formatHex:XT,formatHex8:fge,formatHsl:hge,formatRgb:JT,toString:JT});function XT(){return this.rgb().formatHex()}function fge(){return this.rgb().formatHex8()}function hge(){return xF(this).formatHsl()}function JT(){return this.rgb().formatRgb()}function gh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=age.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ZT(e):n===3?new Mr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?kp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?kp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sge.exec(t))?new Mr(e[1],e[2],e[3],1):(e=oge.exec(t))?new Mr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lge.exec(t))?kp(e[1],e[2],e[3],e[4]):(e=cge.exec(t))?kp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uge.exec(t))?nN(e[1],e[2]/100,e[3]/100,1):(e=dge.exec(t))?nN(e[1],e[2]/100,e[3]/100,e[4]):YT.hasOwnProperty(t)?ZT(YT[t]):t==="transparent"?new Mr(NaN,NaN,NaN,0):null}function ZT(t){return new Mr(t>>16&255,t>>8&255,t&255,1)}function kp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mr(t,e,n,r)}function pge(t){return t instanceof E4||(t=gh(t)),t?(t=t.rgb(),new Mr(t.r,t.g,t.b,t.opacity)):new Mr}function lv(t,e,n,r){return arguments.length===1?pge(t):new Mr(t,e,n,r??1)}function Mr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$b(Mr,lv,vF(E4,{brighter(t){return t=t==null?zm:Math.pow(zm,t),new Mr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ph:Math.pow(ph,t),new Mr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mr(Lo(this.r),Lo(this.g),Lo(this.b),qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eN,formatHex:eN,formatHex8:mge,formatRgb:tN,toString:tN}));function eN(){return`#${To(this.r)}${To(this.g)}${To(this.b)}`}function mge(){return`#${To(this.r)}${To(this.g)}${To(this.b)}${To((isNaN(this.opacity)?1:this.opacity)*255)}`}function tN(){const t=qm(this.opacity);return`${t===1?"rgb(":"rgba("}${Lo(this.r)}, ${Lo(this.g)}, ${Lo(this.b)}${t===1?")":`, ${t})`}`}function qm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function To(t){return t=Lo(t),(t<16?"0":"")+t.toString(16)}function nN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wi(t,e,n,r)}function xF(t){if(t instanceof Wi)return new Wi(t.h,t.s,t.l,t.opacity);if(t instanceof E4||(t=gh(t)),!t)return new Wi;if(t instanceof Wi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Wi(s,o,l,t.opacity)}function gge(t,e,n,r){return arguments.length===1?xF(t):new Wi(t,e,n,r??1)}function Wi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$b(Wi,gge,vF(E4,{brighter(t){return t=t==null?zm:Math.pow(zm,t),new Wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ph:Math.pow(ph,t),new Wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mr(_6(t>=240?t-240:t+120,i,r),_6(t,i,r),_6(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wi(rN(this.h),Pp(this.s),Pp(this.l),qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qm(this.opacity);return`${t===1?"hsl(":"hsla("}${rN(this.h)}, ${Pp(this.s)*100}%, ${Pp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rN(t){return t=(t||0)%360,t<0?t+360:t}function Pp(t){return Math.max(0,Math.min(1,t||0))}function _6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Db=t=>()=>t;function yge(t,e){return function(n){return t+n*e}}function vge(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xge(t){return(t=+t)==1?bF:function(e,n){return n-e?vge(e,n,t):Db(isNaN(e)?n:e)}}function bF(t,e){var n=e-t;return n?yge(t,n):Db(isNaN(t)?e:t)}const iN=function t(e){var n=xge(e);function r(i,a){var s=n((i=lv(i)).r,(a=lv(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=bF(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function bge(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function wge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _ge(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Fu(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Sge(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Wm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ege(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fu(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var cv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,S6=new RegExp(cv.source,"g");function kge(t){return function(){return t}}function Pge(t){return function(e){return t(e)+""}}function Tge(t,e){var n=cv.lastIndex=S6.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=cv.exec(t))&&(i=S6.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Wm(r,i)})),n=S6.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Pge(l[0].x):kge(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function Fu(t,e){var n=typeof e,r;return e==null||n==="boolean"?Db(e):(n==="number"?Wm:n==="string"?(r=gh(e))?(e=r,iN):Tge:e instanceof gh?iN:e instanceof Date?Sge:wge(e)?bge:Array.isArray(e)?_ge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ege:Wm)(t,e)}function Lb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Nge(t,e){e===void 0&&(e=t,t=Fu);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Age(t){return function(){return t}}function Hm(t){return+t}var aN=[0,1];function br(t){return t}function uv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Age(isNaN(e)?NaN:.5)}function Ige(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Cge(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=uv(i,r),a=n(s,a)):(r=uv(r,i),a=n(a,s)),function(o){return a(r(o))}}function Oge(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=uv(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=S4(t,o,1,r)-1;return a[l](i[l](o))}}function k4(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function N2(){var t=aN,e=aN,n=Fu,r,i,a,s=br,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==br&&(s=Ige(t[0],t[h-1])),o=h>2?Oge:Cge,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((c||(c=o(e,t.map(r),Wm)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Hm),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=Lb,u()},d.clamp=function(h){return arguments.length?(s=h?!0:br,u()):s!==br},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function Fb(){return N2()(br,br)}function jge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gm(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Hc(t){return t=Gm(Math.abs(t)),t?t[1]:NaN}function Rge(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Mge(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var $ge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yh(t){if(!(e=$ge.exec(t)))throw new Error("invalid format: "+t);var e;return new Vb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yh.prototype=Vb.prototype;function Vb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Vb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dge(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Km;function Lge(t,e){var n=Gm(t,e);if(!n)return Km=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Km=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Gm(t,Math.max(0,e+a-1))[0]}function sN(t,e){var n=Gm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const oN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sN(t*100,e),r:sN,s:Lge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lN(t){return t}var cN=Array.prototype.map,uN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fge(t){var e=t.grouping===void 0||t.thousands===void 0?lN:Rge(cN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?lN:Mge(cN.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,h){d=yh(d);var p=d.fill,g=d.align,x=d.sign,y=d.symbol,v=d.zero,b=d.width,w=d.comma,S=d.precision,E=d.trim,P=d.type;P==="n"?(w=!0,P="g"):oN[P]||(S===void 0&&(S=12),E=!0,P="g"),(v||p==="0"&&g==="=")&&(v=!0,p="0",g="=");var _=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),k=(y==="$"?r:/[%p]/.test(P)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),N=oN[P],A=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(j){var O=_,$=k,M,D,V;if(P==="c")$=N(j)+$,j="";else{j=+j;var F=j<0||1/j<0;if(j=isNaN(j)?l:N(Math.abs(j),S),E&&(j=Dge(j)),F&&+j==0&&x!=="+"&&(F=!1),O=(F?x==="("?x:o:x==="-"||x==="("?"":x)+O,$=(P==="s"&&!isNaN(j)&&Km!==void 0?uN[8+Km/3]:"")+$+(F&&x==="("?")":""),A){for(M=-1,D=j.length;++M<D;)if(V=j.charCodeAt(M),48>V||V>57){$=(V===46?i+j.slice(M+1):j.slice(M))+$,j=j.slice(0,M);break}}}w&&!v&&(j=e(j,1/0));var U=O.length+j.length+$.length,W=U<b?new Array(b-U+1).join(p):"";switch(w&&v&&(j=e(W+j,W.length?b-$.length:1/0),W=""),g){case"<":j=O+j+$+W;break;case"=":j=O+W+j+$;break;case"^":j=W.slice(0,U=W.length>>1)+O+j+$+W.slice(U);break;default:j=W+O+j+$;break}return a(j)}return I.toString=function(){return d+""},I}function u(d,h){var p=Math.max(-8,Math.min(8,Math.floor(Hc(h)/3)))*3,g=Math.pow(10,-p),x=c((d=yh(d),d.type="f",d),{suffix:uN[8+p/3]});return function(y){return x(g*y)}}return{format:c,formatPrefix:u}}var Tp,Ub,wF;Vge({thousands:",",grouping:[3],currency:["$",""]});function Vge(t){return Tp=Fge(t),Ub=Tp.format,wF=Tp.formatPrefix,Tp}function Uge(t){return Math.max(0,-Hc(Math.abs(t)))}function Bge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hc(e)/3)))*3-Hc(Math.abs(t)))}function zge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hc(e)-Hc(t))+1}function _F(t,e,n,r){var i=sv(t,e,n),a;switch(r=yh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Bge(i,s))&&(r.precision=a),wF(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=zge(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Uge(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ub(r)}function Js(t){var e=t.domain;return t.ticks=function(n){var r=e();return iv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return _F(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=av(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function vh(){var t=Fb();return t.copy=function(){return k4(t,vh())},Di.apply(t,arguments),Js(t)}function SF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Hm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return SF(t).unknown(e)},t=arguments.length?Array.from(t,Hm):[0,1],Js(n)}function EF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function dN(t){return Math.log(t)}function fN(t){return Math.exp(t)}function qge(t){return-Math.log(-t)}function Wge(t){return-Math.exp(-t)}function Hge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gge(t){return t===10?Hge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Kge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hN(t){return(e,n)=>-t(-e,n)}function Bb(t){const e=t(dN,fN),n=e.domain;let r=10,i,a;function s(){return i=Kge(r),a=Gge(r),n()[0]<0?(i=hN(i),a=hN(a),t(qge,Wge)):t(dN,fN),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),g,x;const y=o==null?10:+o;let v=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<r;++g)if(x=h<0?g/a(-h):g*a(h),!(x<c)){if(x>u)break;v.push(x)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(x=h>0?g/a(-h):g*a(h),!(x<c)){if(x>u)break;v.push(x)}v.length*2<y&&(v=iv(c,u,y))}else v=iv(h,p,Math.min(p-h,y)).map(a);return d?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=yh(l)).precision==null&&(l.trim=!0),l=Ub(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(EF(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function kF(){const t=Bb(N2()).domain([1,10]);return t.copy=()=>k4(t,kF()).base(t.base()),Di.apply(t,arguments),t}function pN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function mN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zb(t){var e=1,n=t(pN(e),mN(e));return n.constant=function(r){return arguments.length?t(pN(e=+r),mN(e)):e},Js(n)}function PF(){var t=zb(N2());return t.copy=function(){return k4(t,PF()).constant(t.constant())},Di.apply(t,arguments)}function gN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Qge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Yge(t){return t<0?-t*t:t*t}function qb(t){var e=t(br,br),n=1;function r(){return n===1?t(br,br):n===.5?t(Qge,Yge):t(gN(n),gN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Js(e)}function Wb(){var t=qb(N2());return t.copy=function(){return k4(t,Wb()).exponent(t.exponent())},Di.apply(t,arguments),t}function Xge(){return Wb.apply(null,arguments).exponent(.5)}function yN(t){return Math.sign(t)*t*t}function Jge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function TF(){var t=Fb(),e=[0,1],n=!1,r;function i(a){var s=Jge(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(yN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Hm)).map(yN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return TF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Di.apply(i,arguments),Js(i)}function NF(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=nge(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[S4(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ts),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return NF().domain(t).range(e).unknown(r)},Di.apply(a,arguments)}function AF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[S4(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return AF().domain([t,e]).range(i).unknown(a)},Di.apply(Js(s),arguments)}function IF(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[S4(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return IF().domain(t).range(e).unknown(n)},Di.apply(i,arguments)}const E6=new Date,k6=new Date;function On(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>On(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(E6.setTime(+a),k6.setTime(+s),t(E6),t(k6),Math.floor(n(E6,k6))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Qm=On(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Qm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?On(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Qm);Qm.range;const a0=1e3,Ei=a0*60,s0=Ei*60,E0=s0*24,Hb=E0*7,vN=E0*30,P6=E0*365,No=On(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*a0)},(t,e)=>(e-t)/a0,t=>t.getUTCSeconds());No.range;const Gb=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*a0)},(t,e)=>{t.setTime(+t+e*Ei)},(t,e)=>(e-t)/Ei,t=>t.getMinutes());Gb.range;const Kb=On(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ei)},(t,e)=>(e-t)/Ei,t=>t.getUTCMinutes());Kb.range;const Qb=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*a0-t.getMinutes()*Ei)},(t,e)=>{t.setTime(+t+e*s0)},(t,e)=>(e-t)/s0,t=>t.getHours());Qb.range;const Yb=On(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*s0)},(t,e)=>(e-t)/s0,t=>t.getUTCHours());Yb.range;const P4=On(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ei)/E0,t=>t.getDate()-1);P4.range;const A2=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/E0,t=>t.getUTCDate()-1);A2.range;const CF=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/E0,t=>Math.floor(t/E0));CF.range;function _l(t){return On(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ei)/Hb)}const I2=_l(0),Ym=_l(1),Zge=_l(2),e2e=_l(3),Gc=_l(4),t2e=_l(5),n2e=_l(6);I2.range;Ym.range;Zge.range;e2e.range;Gc.range;t2e.range;n2e.range;function Sl(t){return On(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Hb)}const C2=Sl(0),Xm=Sl(1),r2e=Sl(2),i2e=Sl(3),Kc=Sl(4),a2e=Sl(5),s2e=Sl(6);C2.range;Xm.range;r2e.range;i2e.range;Kc.range;a2e.range;s2e.range;const Xb=On(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Xb.range;const Jb=On(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Jb.range;const k0=On(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());k0.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});k0.range;const P0=On(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());P0.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});P0.range;function OF(t,e,n,r,i,a){const s=[[No,1,a0],[No,5,5*a0],[No,15,15*a0],[No,30,30*a0],[a,1,Ei],[a,5,5*Ei],[a,15,15*Ei],[a,30,30*Ei],[i,1,s0],[i,3,3*s0],[i,6,6*s0],[i,12,12*s0],[r,1,E0],[r,2,2*E0],[n,1,Hb],[e,1,vN],[e,3,3*vN],[t,1,P6]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=Rb(([,,y])=>y).right(s,h);if(p===s.length)return t.every(sv(c/P6,u/P6,d));if(p===0)return Qm.every(Math.max(sv(c,u,d),1));const[g,x]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(x)}return[o,l]}const[o2e,l2e]=OF(P0,Jb,C2,CF,Yb,Kb),[c2e,u2e]=OF(k0,Xb,I2,P4,Qb,Gb);function T6(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function N6(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function d2e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=xd(i),u=bd(i),d=xd(a),h=bd(a),p=xd(s),g=bd(s),x=xd(o),y=bd(o),v=xd(l),b=bd(l),w={a:V,A:F,b:U,B:W,c:null,d:EN,e:EN,f:R2e,g:q2e,G:H2e,H:C2e,I:O2e,j:j2e,L:jF,m:M2e,M:$2e,p:G,q:H,Q:TN,s:NN,S:D2e,u:L2e,U:F2e,V:V2e,w:U2e,W:B2e,x:null,X:null,y:z2e,Y:W2e,Z:G2e,"%":PN},S={a:te,A:ue,b:me,B:Z,c:null,d:kN,e:kN,f:X2e,g:o5e,G:c5e,H:K2e,I:Q2e,j:Y2e,L:MF,m:J2e,M:Z2e,p:_e,q:Ce,Q:TN,s:NN,S:e5e,u:t5e,U:n5e,V:r5e,w:i5e,W:a5e,x:null,X:null,y:s5e,Y:l5e,Z:u5e,"%":PN},E={a:A,A:I,b:j,B:O,c:$,d:_N,e:_N,f:T2e,g:wN,G:bN,H:SN,I:SN,j:S2e,L:P2e,m:_2e,M:E2e,p:N,q:w2e,Q:A2e,s:I2e,S:k2e,u:g2e,U:y2e,V:v2e,w:m2e,W:x2e,x:M,X:D,y:wN,Y:bN,Z:b2e,"%":N2e};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),S.x=P(n,S),S.X=P(r,S),S.c=P(e,S);function P(se,ve){return function(X){var q=[],fe=-1,Pe=0,ge=se.length,we,Ue,St;for(X instanceof Date||(X=new Date(+X));++fe<ge;)se.charCodeAt(fe)===37&&(q.push(se.slice(Pe,fe)),(Ue=xN[we=se.charAt(++fe)])!=null?we=se.charAt(++fe):Ue=we==="e"?" ":"0",(St=ve[we])&&(we=St(X,Ue)),q.push(we),Pe=fe+1);return q.push(se.slice(Pe,fe)),q.join("")}}function _(se,ve){return function(X){var q=vd(1900,void 0,1),fe=k(q,se,X+="",0),Pe,ge;if(fe!=X.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ve&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Pe=N6(vd(q.y,0,1)),ge=Pe.getUTCDay(),Pe=ge>4||ge===0?Xm.ceil(Pe):Xm(Pe),Pe=A2.offset(Pe,(q.V-1)*7),q.y=Pe.getUTCFullYear(),q.m=Pe.getUTCMonth(),q.d=Pe.getUTCDate()+(q.w+6)%7):(Pe=T6(vd(q.y,0,1)),ge=Pe.getDay(),Pe=ge>4||ge===0?Ym.ceil(Pe):Ym(Pe),Pe=P4.offset(Pe,(q.V-1)*7),q.y=Pe.getFullYear(),q.m=Pe.getMonth(),q.d=Pe.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),ge="Z"in q?N6(vd(q.y,0,1)).getUTCDay():T6(vd(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(ge+5)%7:q.w+q.U*7-(ge+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,N6(q)):T6(q)}}function k(se,ve,X,q){for(var fe=0,Pe=ve.length,ge=X.length,we,Ue;fe<Pe;){if(q>=ge)return-1;if(we=ve.charCodeAt(fe++),we===37){if(we=ve.charAt(fe++),Ue=E[we in xN?ve.charAt(fe++):we],!Ue||(q=Ue(se,X,q))<0)return-1}else if(we!=X.charCodeAt(q++))return-1}return q}function N(se,ve,X){var q=c.exec(ve.slice(X));return q?(se.p=u.get(q[0].toLowerCase()),X+q[0].length):-1}function A(se,ve,X){var q=p.exec(ve.slice(X));return q?(se.w=g.get(q[0].toLowerCase()),X+q[0].length):-1}function I(se,ve,X){var q=d.exec(ve.slice(X));return q?(se.w=h.get(q[0].toLowerCase()),X+q[0].length):-1}function j(se,ve,X){var q=v.exec(ve.slice(X));return q?(se.m=b.get(q[0].toLowerCase()),X+q[0].length):-1}function O(se,ve,X){var q=x.exec(ve.slice(X));return q?(se.m=y.get(q[0].toLowerCase()),X+q[0].length):-1}function $(se,ve,X){return k(se,e,ve,X)}function M(se,ve,X){return k(se,n,ve,X)}function D(se,ve,X){return k(se,r,ve,X)}function V(se){return s[se.getDay()]}function F(se){return a[se.getDay()]}function U(se){return l[se.getMonth()]}function W(se){return o[se.getMonth()]}function G(se){return i[+(se.getHours()>=12)]}function H(se){return 1+~~(se.getMonth()/3)}function te(se){return s[se.getUTCDay()]}function ue(se){return a[se.getUTCDay()]}function me(se){return l[se.getUTCMonth()]}function Z(se){return o[se.getUTCMonth()]}function _e(se){return i[+(se.getUTCHours()>=12)]}function Ce(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ve=P(se+="",w);return ve.toString=function(){return se},ve},parse:function(se){var ve=_(se+="",!1);return ve.toString=function(){return se},ve},utcFormat:function(se){var ve=P(se+="",S);return ve.toString=function(){return se},ve},utcParse:function(se){var ve=_(se+="",!0);return ve.toString=function(){return se},ve}}}var xN={"-":"",_:" ",0:"0"},Un=/^\s*\d+/,f2e=/^%/,h2e=/[\\^$*+?|[\]().{}]/g;function xt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function p2e(t){return t.replace(h2e,"\\$&")}function xd(t){return new RegExp("^(?:"+t.map(p2e).join("|")+")","i")}function bd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function m2e(t,e,n){var r=Un.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function g2e(t,e,n){var r=Un.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function y2e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function v2e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function x2e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bN(t,e,n){var r=Un.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wN(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function b2e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function w2e(t,e,n){var r=Un.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function _2e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _N(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function S2e(t,e,n){var r=Un.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function SN(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function E2e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function k2e(t,e,n){var r=Un.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function P2e(t,e,n){var r=Un.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function T2e(t,e,n){var r=Un.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function N2e(t,e,n){var r=f2e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function A2e(t,e,n){var r=Un.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function I2e(t,e,n){var r=Un.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function EN(t,e){return xt(t.getDate(),e,2)}function C2e(t,e){return xt(t.getHours(),e,2)}function O2e(t,e){return xt(t.getHours()%12||12,e,2)}function j2e(t,e){return xt(1+P4.count(k0(t),t),e,3)}function jF(t,e){return xt(t.getMilliseconds(),e,3)}function R2e(t,e){return jF(t,e)+"000"}function M2e(t,e){return xt(t.getMonth()+1,e,2)}function $2e(t,e){return xt(t.getMinutes(),e,2)}function D2e(t,e){return xt(t.getSeconds(),e,2)}function L2e(t){var e=t.getDay();return e===0?7:e}function F2e(t,e){return xt(I2.count(k0(t)-1,t),e,2)}function RF(t){var e=t.getDay();return e>=4||e===0?Gc(t):Gc.ceil(t)}function V2e(t,e){return t=RF(t),xt(Gc.count(k0(t),t)+(k0(t).getDay()===4),e,2)}function U2e(t){return t.getDay()}function B2e(t,e){return xt(Ym.count(k0(t)-1,t),e,2)}function z2e(t,e){return xt(t.getFullYear()%100,e,2)}function q2e(t,e){return t=RF(t),xt(t.getFullYear()%100,e,2)}function W2e(t,e){return xt(t.getFullYear()%1e4,e,4)}function H2e(t,e){var n=t.getDay();return t=n>=4||n===0?Gc(t):Gc.ceil(t),xt(t.getFullYear()%1e4,e,4)}function G2e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xt(e/60|0,"0",2)+xt(e%60,"0",2)}function kN(t,e){return xt(t.getUTCDate(),e,2)}function K2e(t,e){return xt(t.getUTCHours(),e,2)}function Q2e(t,e){return xt(t.getUTCHours()%12||12,e,2)}function Y2e(t,e){return xt(1+A2.count(P0(t),t),e,3)}function MF(t,e){return xt(t.getUTCMilliseconds(),e,3)}function X2e(t,e){return MF(t,e)+"000"}function J2e(t,e){return xt(t.getUTCMonth()+1,e,2)}function Z2e(t,e){return xt(t.getUTCMinutes(),e,2)}function e5e(t,e){return xt(t.getUTCSeconds(),e,2)}function t5e(t){var e=t.getUTCDay();return e===0?7:e}function n5e(t,e){return xt(C2.count(P0(t)-1,t),e,2)}function $F(t){var e=t.getUTCDay();return e>=4||e===0?Kc(t):Kc.ceil(t)}function r5e(t,e){return t=$F(t),xt(Kc.count(P0(t),t)+(P0(t).getUTCDay()===4),e,2)}function i5e(t){return t.getUTCDay()}function a5e(t,e){return xt(Xm.count(P0(t)-1,t),e,2)}function s5e(t,e){return xt(t.getUTCFullYear()%100,e,2)}function o5e(t,e){return t=$F(t),xt(t.getUTCFullYear()%100,e,2)}function l5e(t,e){return xt(t.getUTCFullYear()%1e4,e,4)}function c5e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Kc(t):Kc.ceil(t),xt(t.getUTCFullYear()%1e4,e,4)}function u5e(){return"+0000"}function PN(){return"%"}function TN(t){return+t}function NN(t){return Math.floor(+t/1e3)}var Ol,DF,LF;d5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d5e(t){return Ol=d2e(t),DF=Ol.format,Ol.parse,LF=Ol.utcFormat,Ol.utcParse,Ol}function f5e(t){return new Date(t)}function h5e(t){return t instanceof Date?+t:+new Date(+t)}function Zb(t,e,n,r,i,a,s,o,l,c){var u=Fb(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),x=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function E(P){return(l(P)<P?p:o(P)<P?g:s(P)<P?x:a(P)<P?y:r(P)<P?i(P)<P?v:b:n(P)<P?w:S)(P)}return u.invert=function(P){return new Date(d(P))},u.domain=function(P){return arguments.length?h(Array.from(P,h5e)):h().map(f5e)},u.ticks=function(P){var _=h();return t(_[0],_[_.length-1],P??10)},u.tickFormat=function(P,_){return _==null?E:c(_)},u.nice=function(P){var _=h();return(!P||typeof P.range!="function")&&(P=e(_[0],_[_.length-1],P??10)),P?h(EF(_,P)):u},u.copy=function(){return k4(u,Zb(t,e,n,r,i,a,s,o,l,c))},u}function p5e(){return Di.apply(Zb(c2e,u2e,k0,Xb,I2,P4,Qb,Gb,No,DF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function m5e(){return Di.apply(Zb(o2e,l2e,P0,Jb,C2,A2,Yb,Kb,No,LF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function O2(){var t=0,e=1,n,r,i,a,s=br,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(Fu),c.rangeRound=u(Lb),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function Zs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function FF(){var t=Js(O2()(br));return t.copy=function(){return Zs(t,FF())},M0.apply(t,arguments)}function VF(){var t=Bb(O2()).domain([1,10]);return t.copy=function(){return Zs(t,VF()).base(t.base())},M0.apply(t,arguments)}function UF(){var t=zb(O2());return t.copy=function(){return Zs(t,UF()).constant(t.constant())},M0.apply(t,arguments)}function ew(){var t=qb(O2());return t.copy=function(){return Zs(t,ew()).exponent(t.exponent())},M0.apply(t,arguments)}function g5e(){return ew.apply(null,arguments).exponent(.5)}function BF(){var t=[],e=br;function n(r){if(r!=null&&!isNaN(r=+r))return e((S4(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ts),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>tge(t,a/r))},n.copy=function(){return BF(e).domain(t)},M0.apply(n,arguments)}function j2(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=br,u,d=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-a)*(r*x<r*a?o:l),c(d?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,n]=x,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(x){return arguments.length?(d=!!x,p):d},p.interpolator=function(x){return arguments.length?(c=x,p):c};function g(x){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=Nge(x,[v,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(Fu),p.rangeRound=g(Lb),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return u=x,i=x(t),a=x(e),s=x(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function zF(){var t=Js(j2()(br));return t.copy=function(){return Zs(t,zF())},M0.apply(t,arguments)}function qF(){var t=Bb(j2()).domain([.1,1,10]);return t.copy=function(){return Zs(t,qF()).base(t.base())},M0.apply(t,arguments)}function WF(){var t=zb(j2());return t.copy=function(){return Zs(t,WF()).constant(t.constant())},M0.apply(t,arguments)}function tw(){var t=qb(j2());return t.copy=function(){return Zs(t,tw()).exponent(t.exponent())},M0.apply(t,arguments)}function y5e(){return tw.apply(null,arguments).exponent(.5)}const AN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hh,scaleDiverging:zF,scaleDivergingLog:qF,scaleDivergingPow:tw,scaleDivergingSqrt:y5e,scaleDivergingSymlog:WF,scaleIdentity:SF,scaleImplicit:ov,scaleLinear:vh,scaleLog:kF,scaleOrdinal:Mb,scalePoint:_f,scalePow:Wb,scaleQuantile:NF,scaleQuantize:AF,scaleRadial:TF,scaleSequential:FF,scaleSequentialLog:VF,scaleSequentialPow:ew,scaleSequentialQuantile:BF,scaleSequentialSqrt:g5e,scaleSequentialSymlog:UF,scaleSqrt:Xge,scaleSymlog:PF,scaleThreshold:IF,scaleTime:p5e,scaleUtc:m5e,tickFormat:_F},Symbol.toStringTag,{value:"Module"}));var v5e=Au;function x5e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!v5e(s):n(s,o)))var o=s,l=a}return l}var HF=x5e;function b5e(t,e){return t>e}var w5e=b5e,_5e=HF,S5e=w5e,E5e=Du;function k5e(t){return t&&t.length?_5e(t,E5e,S5e):void 0}var P5e=k5e;const cs=$t(P5e);function T5e(t,e){return t<e}var N5e=T5e,A5e=HF,I5e=N5e,C5e=Du;function O5e(t){return t&&t.length?A5e(t,C5e,I5e):void 0}var j5e=O5e;const R2=$t(j5e);var R5e=mb,M5e=Xs,$5e=eF,D5e=zr;function L5e(t,e){var n=D5e(t)?R5e:$5e;return n(t,M5e(e))}var F5e=L5e,V5e=JL,U5e=F5e;function B5e(t,e){return V5e(U5e(t,e),1)}var z5e=B5e;const q5e=$t(z5e);var W5e=Ib;function H5e(t,e){return W5e(t,e)}var G5e=H5e;const xh=$t(G5e);var Vu=1e9,K5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rw,Qt=!0,Ri="[DecimalError] ",Fo=Ri+"Invalid argument: ",nw=Ri+"Exponent out of range: ",Uu=Math.floor,go=Math.pow,Q5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xr,$n=1e7,qt=7,GF=9007199254740991,Jm=Uu(GF/qt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return m0(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return Mt(m0(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return Sn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Xr))throw Error(Ri+"NaN");if(n.s<1)throw Error(Ri+(n.s?"NaN":"-Infinity"));return n.eq(Xr)?new r(0):(Qt=!1,e=m0(bh(n,a),bh(t,a),a),Qt=!0,Mt(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YF(e,t):KF(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ri+"NaN");return n.s?(Qt=!1,e=m0(n,t,0,1).times(t),Qt=!0,n.minus(e)):Mt(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return QF(this)};Ae.naturalLogarithm=Ae.ln=function(){return bh(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KF(e,t):YF(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fo+t);if(e=Sn(i)+1,r=i.d.length-1,n=r*qt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ri+"NaN")}for(t=Sn(o),Qt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ea(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Uu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(m0(o,a,s+2)).times(.5),Ea(a.d).slice(0,s)===(e=Ea(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Mt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Qt=!0,Mt(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%$n|0,e=o/$n|0;a[i]=(a[i]+e)%$n|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Qt?Mt(t,d.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fa(t,0,Vu),e===void 0?e=r.rounding:Fa(e,0,8),Mt(n,t+Sn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=il(r,!0):(Fa(t,0,Vu),e===void 0?e=i.rounding:Fa(e,0,8),r=Mt(new i(r),t+1,e),n=il(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?il(i):(Fa(t,0,Vu),e===void 0?e=a.rounding:Fa(e,0,8),r=Mt(new a(i),t+Sn(i)+1,e),n=il(r.abs(),!1,t+Sn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return Mt(new e(t),Sn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Xr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ri+"Infinity");return o}if(o.eq(Xr))return o;if(r=l.precision,t.eq(Xr))return Mt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=GF){for(i=new l(Xr),e=Math.ceil(r/qt+4),Qt=!1;n%2&&(i=i.times(o),CN(i.d,e)),n=Uu(n/2),n!==0;)o=o.times(o),CN(o.d,e);return Qt=!0,t.s<0?new l(Xr).div(i):Mt(i,r)}}else if(a<0)throw Error(Ri+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Qt=!1,i=t.times(bh(o,r+c)),Qt=!0,i=QF(i),i.s=a,i};Ae.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Sn(i),r=il(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fa(t,1,Vu),e===void 0?e=a.rounding:Fa(e,0,8),i=Mt(new a(i),t,e),n=Sn(i),r=il(i,t<=n||n<=a.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fa(t,1,Vu),e===void 0?e=r.rounding:Fa(e,0,8)),Mt(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Sn(t),n=t.constructor;return il(t,e<=n.toExpNeg||e>=n.toExpPos)};function KF(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Qt?Mt(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(d/qt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/$n|0,l[a]%=$n;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Qt?Mt(e,d):e}function Fa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Fo+t)}function Ea(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=qt-r.length,n&&(a+=Q0(n)),a+=r;s=t[e],r=s+"",n=qt-r.length,n&&(a+=Q0(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var m0=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%$n|0,s=a/$n|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*$n+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,d,h,p,g,x,y,v,b,w,S,E,P,_,k,N=r.constructor,A=r.s==i.s?1:-1,I=r.d,j=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Ri+"Division by zero");for(l=r.e-i.e,_=j.length,E=I.length,p=new N(A),g=p.d=[],c=0;j[c]==(I[c]||0);)++c;if(j[c]>(I[c]||0)&&--l,a==null?b=a=N.precision:s?b=a+(Sn(r)-Sn(i))+1:b=a,b<0)return new N(0);if(b=b/qt+2|0,c=0,_==1)for(u=0,j=j[0],b++;(c<E||u)&&b--;c++)w=u*$n+(I[c]||0),g[c]=w/j|0,u=w%j|0;else{for(u=$n/(j[0]+1)|0,u>1&&(j=t(j,u),I=t(I,u),_=j.length,E=I.length),S=_,x=I.slice(0,_),y=x.length;y<_;)x[y++]=0;k=j.slice(),k.unshift(0),P=j[0],j[1]>=$n/2&&++P;do u=0,o=e(j,x,_,y),o<0?(v=x[0],_!=y&&(v=v*$n+(x[1]||0)),u=v/P|0,u>1?(u>=$n&&(u=$n-1),d=t(j,u),h=d.length,y=x.length,o=e(d,x,h,y),o==1&&(u--,n(d,_<h?k:j,h))):(u==0&&(o=u=1),d=j.slice()),h=d.length,h<y&&d.unshift(0),n(x,d,y),o==-1&&(y=x.length,o=e(j,x,_,y),o<1&&(u++,n(x,_<y?k:j,y))),y=x.length):o===0&&(u++,x=[0]),g[c++]=u,o&&x[0]?x[y++]=I[S]||0:(x=[I[S]],y=1);while((S++<E||x[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Mt(p,s?a+Sn(p)+1:a)}}();function QF(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,d=u.precision;if(Sn(t)>16)throw Error(nw+Sn(t));if(!t.s)return new u(Xr);for(Qt=!1,o=d,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(go(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(Xr),u.precision=o;;){if(i=Mt(i.times(t),o),n=n.times(++l),s=a.plus(m0(i,n,o)),Ea(s.d).slice(0,o)===Ea(a.d).slice(0,o)){for(;c--;)a=Mt(a.times(a),o);return u.precision=d,e==null?(Qt=!0,Mt(a,d)):a}a=s}}function Sn(t){for(var e=t.e*qt,n=t.d[0];n>=10;n/=10)e++;return e}function A6(t,e,n){if(e>t.LN10.sd())throw Qt=!0,n&&(t.precision=n),Error(Ri+"LN10 precision limit exceeded");return Mt(new t(t.LN10),e)}function Q0(t){for(var e="";t--;)e+="0";return e}function bh(t,e){var n,r,i,a,s,o,l,c,u,d=1,h=10,p=t,g=p.d,x=p.constructor,y=x.precision;if(p.s<1)throw Error(Ri+(p.s?"NaN":"-Infinity"));if(p.eq(Xr))return new x(0);if(e==null?(Qt=!1,c=y):c=e,p.eq(10))return e==null&&(Qt=!0),A6(x,c);if(c+=h,x.precision=c,n=Ea(g),r=n.charAt(0),a=Sn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Ea(p.d),r=n.charAt(0),d++;a=Sn(p),r>1?(p=new x("0."+n),a++):p=new x(r+"."+n.slice(1))}else return l=A6(x,c+2,y).times(a+""),p=bh(new x(r+"."+n.slice(1)),c-h).plus(l),x.precision=y,e==null?(Qt=!0,Mt(p,y)):p;for(o=s=p=m0(p.minus(Xr),p.plus(Xr),c),u=Mt(p.times(p),c),i=3;;){if(s=Mt(s.times(u),c),l=o.plus(m0(s,new x(i),c)),Ea(l.d).slice(0,c)===Ea(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(A6(x,c+2,y).times(a+""))),o=m0(o,new x(d),c),x.precision=y,e==null?(Qt=!0,Mt(o,y)):o;o=l,i+=2}}function IN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Uu(n/qt),t.d=[],r=(n+1)%qt,n<0&&(r+=qt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qt;r<i;)t.d.push(+e.slice(r,r+=qt));e=e.slice(r),r=qt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Qt&&(t.e>Jm||t.e<-Jm))throw Error(nw+n)}else t.s=0,t.e=0,t.d=[0];return t}function Mt(t,e,n){var r,i,a,s,o,l,c,u,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=qt,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/qt),a=d.length,u>=a)return t;for(c=a=d[u],s=1;a>=10;a/=10)s++;r%=qt,i=r-qt+s}if(n!==void 0&&(a=go(10,s-i-1),o=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/go(10,s-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=Sn(t),d.length=1,e=e-a-1,d[0]=go(10,(qt-e%qt)%qt),t.e=Uu(-e/qt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=go(10,qt-r),d[u]=i>0?(c/go(10,s-i)%go(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==$n&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=$n)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Qt&&(t.e>Jm||t.e<-Jm))throw Error(nw+Sn(t));return t}function YF(t,e){var n,r,i,a,s,o,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Qt?Mt(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(p/qt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=$n-1;--l[a],l[i]+=$n}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Qt?Mt(e,p):e):new h(0)}function il(t,e,n){var r,i=Sn(t),a=Ea(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Q0(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Q0(-i-1)+a,n&&(r=n-s)>0&&(a+=Q0(r))):i>=s?(a+=Q0(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Q0(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Q0(r))),t.s<0?"-"+a:a}function CN(t,e){if(t.length>e)return t.length=e,!0}function XF(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Fo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return IN(s,a.toString())}else if(typeof a!="string")throw Error(Fo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Q5e.test(a))IN(s,a);else throw Error(Fo+a)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=XF,i.config=i.set=Y5e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Y5e(t){if(!t||typeof t!="object")throw Error(Ri+"Object expected");var e,n,r,i=["precision",1,Vu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Uu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Fo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Fo+n+": "+r);return this}var rw=XF(K5e);Xr=new rw(1);const Ct=rw;function X5e(t){return t6e(t)||e6e(t)||Z5e(t)||J5e()}function J5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z5e(t,e){if(t){if(typeof t=="string")return dv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dv(t,e)}}function e6e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function t6e(t){if(Array.isArray(t))return dv(t)}function dv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var n6e=function(e){return e},JF={},ZF=function(e){return e===JF},ON=function(e){return function n(){return arguments.length===0||arguments.length===1&&ZF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},r6e=function t(e,n){return e===1?n:ON(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==JF}).length;return s>=e?n.apply(void 0,i):t(e-s,ON(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return ZF(d)?l.shift():d});return n.apply(void 0,X5e(u).concat(l))}))})},M2=function(e){return r6e(e.length,e)},fv=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},i6e=M2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),a6e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return n6e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},hv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},eV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function s6e(t){var e;return t===0?e=1:e=Math.floor(new Ct(t).abs().log(10).toNumber())+1,e}function o6e(t,e,n){for(var r=new Ct(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var l6e=M2(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),c6e=M2(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),u6e=M2(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const $2={rangeStep:o6e,getDigitCount:s6e,interpolateNumber:l6e,uninterpolateNumber:c6e,uninterpolateTruncation:u6e};function pv(t){return h6e(t)||f6e(t)||tV(t)||d6e()}function d6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f6e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function h6e(t){if(Array.isArray(t))return mv(t)}function wh(t,e){return g6e(t)||m6e(t,e)||tV(t,e)||p6e()}function p6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tV(t,e){if(t){if(typeof t=="string")return mv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mv(t,e)}}function mv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m6e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function g6e(t){if(Array.isArray(t))return t}function nV(t){var e=wh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function rV(t,e,n){if(t.lte(0))return new Ct(0);var r=$2.getDigitCount(t.toNumber()),i=new Ct(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Ct(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new Ct(Math.ceil(l))}function y6e(t,e,n){var r=1,i=new Ct(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ct(10).pow($2.getDigitCount(t)-1),i=new Ct(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ct(Math.floor(t)))}else t===0?i=new Ct(Math.floor((e-1)/2)):n||(i=new Ct(Math.floor(t)));var s=Math.floor((e-1)/2),o=a6e(i6e(function(l){return i.add(new Ct(l-s).mul(r)).toNumber()}),fv);return o(0,e)}function iV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var a=rV(new Ct(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ct(0):(s=new Ct(t).add(e).div(2),s=s.sub(new Ct(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Ct(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?iV(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new Ct(o).mul(a)),tickMax:s.add(new Ct(l).mul(a))})}function v6e(t){var e=wh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=nV([n,r]),l=wh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(pv(fv(0,i-1).map(function(){return 1/0}))):[].concat(pv(fv(0,i-1).map(function(){return-1/0})),[u]);return n>r?hv(d):d}if(c===u)return y6e(c,i,a);var h=iV(c,u,s,a),p=h.step,g=h.tickMin,x=h.tickMax,y=$2.rangeStep(g,x.add(new Ct(.1).mul(p)),p);return n>r?hv(y):y}function x6e(t,e){var n=wh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=nV([r,i]),o=wh(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=rV(new Ct(c).sub(l).div(u-1),a,0),h=[].concat(pv($2.rangeStep(new Ct(l),new Ct(c).sub(new Ct(.99).mul(d)),d)),[c]);return r>i?hv(h):h}var b6e=eV(v6e),w6e=eV(x6e),_6e="Invariant failed";function al(t,e){throw new Error(_6e)}var S6e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zm.apply(this,arguments)}function E6e(t,e){return N6e(t)||T6e(t,e)||P6e(t,e)||k6e()}function k6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P6e(t,e){if(t){if(typeof t=="string")return jN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jN(t,e)}}function jN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function N6e(t){if(Array.isArray(t))return t}function A6e(t,e){if(t==null)return{};var n=I6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function C6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oV(r.key),r)}}function j6e(t,e,n){return e&&O6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R6e(t,e,n){return e=e1(e),M6e(t,aV()?Reflect.construct(e,n||[],e1(t).constructor):e.apply(t,n))}function M6e(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $6e(t)}function $6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!t})()}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e1(t)}function D6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gv(t,e)}function gv(t,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gv(t,e)}function sV(t,e,n){return e=oV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oV(t){var e=L6e(t,"string");return Qc(e)=="symbol"?e:e+""}function L6e(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D2=function(t){function e(){return C6e(this,e),R6e(this,e,arguments)}return D6e(e,t),j6e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=A6e(r,S6e),p=st(h,!1);this.props.direction==="x"&&u.type!=="number"&&al();var g=l.map(function(x){var y=c(x,o),v=y.x,b=y.y,w=y.value,S=y.errorVal;if(!S)return null;var E=[],P,_;if(Array.isArray(S)){var k=E6e(S,2);P=k[0],_=k[1]}else P=_=S;if(a==="vertical"){var N=u.scale,A=b+i,I=A+s,j=A-s,O=N(w-P),$=N(w+_);E.push({x1:$,y1:I,x2:$,y2:j}),E.push({x1:O,y1:A,x2:$,y2:A}),E.push({x1:O,y1:I,x2:O,y2:j})}else if(a==="horizontal"){var M=d.scale,D=v+i,V=D-s,F=D+s,U=M(w-P),W=M(w+_);E.push({x1:V,y1:W,x2:F,y2:W}),E.push({x1:D,y1:U,x2:D,y2:W}),E.push({x1:V,y1:U,x2:F,y2:U})}return B.createElement(Jt,Zm({className:"recharts-errorBar",key:"bar-".concat(E.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},p),E.map(function(G){return B.createElement("line",Zm({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return B.createElement(Jt,{className:"recharts-errorBars"},g)}}])}(B.Component);sV(D2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sV(D2,"displayName","ErrorBar");function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){F6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F6e(t,e,n){return e=V6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V6e(t){var e=U6e(t,"string");return _h(e)=="symbol"?e:e+""}function U6e(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Kr(n,wc);if(!s)return null;var o=wc.defaultProps,l=o!==void 0?oo(oo({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(x){return{type:s.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?oo(oo({},h),d.props):{},g=p.dataKey,x=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:g,type:l.iconType||y||"square",color:iw(d),value:x||g,payload:p}}),oo(oo(oo({},l),wc.getWithHeight(s,i)),{},{payload:c,item:s})};function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function MN(t){return W6e(t)||q6e(t)||z6e(t)||B6e()}function B6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z6e(t,e){if(t){if(typeof t=="string")return yv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yv(t,e)}}function q6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W6e(t){if(Array.isArray(t))return yv(t)}function yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){Sc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sc(t,e,n){return e=H6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H6e(t){var e=G6e(t,"string");return Sh(e)=="symbol"?e:e+""}function G6e(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oi(t,e,n){return dt(t)||dt(e)?n:An(e)?Ai(t,e,n):Ze(e)?e(t):n}function Sf(t,e,n,r){var i=q5e(t,function(o){return oi(o,e)});if(n==="number"){var a=i.filter(function(o){return ye(o)||parseFloat(o)});return a.length?[R2(a),cs(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!dt(o)}):i;return s.map(function(o){return An(o)||o instanceof Date?o:""})}var K6e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Ki(d-u)!==Ki(h-d)){var g=[];if(Ki(h-d)===Ki(l[1]-l[0])){p=h;var x=d+l[1]-l[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{p=u;var y=h+l[1]-l[0];g[0]=Math.min(d,(y+d)/2),g[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){s=i[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(e>(b+d)/2&&e<=(w+d)/2){s=i[c].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){s=r[S].index;break}return s},iw=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ln(ln({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Q6e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],x=g.items,y=g.cateAxisId,v=x.filter(function(_){return h0(_.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,w=b!==void 0?ln(ln({},b),v[0].props):v[0].props,S=w.barSize,E=w[y];s[E]||(s[E]=[]);var P=dt(S)?n:S;s[E].push({item:v[0],stackList:v.slice(1),barSize:dt(P)?void 0:rl(P,r,0)})}}return s},Y6e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=rl(n,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,g=s.reduce(function(S,E){return S+E.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var x=(i-g)/2>>0,y={offset:x-c,size:0};u=s.reduce(function(S,E){var P={item:E.item,position:{offset:y.offset+y.size+c,size:h?p:E.barSize}},_=[].concat(MN(S),[P]);return y=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(k){_.push({item:k,position:y})}),_},d)}else{var v=rl(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var b=(i-2*v-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(S,E,P){var _=[].concat(MN(S),[{item:E.item,position:{offset:v+(b+c)*P+(b-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(k){_.push({item:k,position:_[_.length-1].position})}),_},d)}return u},X6e=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=lV({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&g==="middle")&&p!=="center"&&ye(e[p]))return ln(ln({},e),{},Sc({},p,e[p]+(d||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&g!=="middle"&&ye(e[g]))return ln(ln({},e),{},Sc({},g,e[g]+(h||0)))}return e},J6e=function(e,n,r){return dt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},cV=function(e,n,r,i,a){var s=n.props.children,o=ra(s,D2).filter(function(c){return J6e(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=oi(u,r);if(dt(d))return c;var h=Array.isArray(d)?[R2(d),cs(d)]:[d,d],p=l.reduce(function(g,x){var y=oi(u,x,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Z6e=function(e,n,r,i,a){var s=n.map(function(o){return cV(e,o,r,a,i)}).filter(function(o){return!dt(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},uV=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&cV(e,l,c,i)||Sf(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},dV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},fV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},o0=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ki(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!Ru(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:a?a[d]:d,index:h,offset:c}})},I6=new WeakMap,Np=function(e,n){if(typeof n!="function")return e;I6.has(e)||I6.set(e,new WeakMap);var r=I6.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},eye=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:hh(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:vh(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:_f(),realScaleType:"point"}:a==="category"?{scale:hh(),realScaleType:"band"}:{scale:vh(),realScaleType:"linear"};if(nl(i)){var l="scale".concat(w2(i));return{scale:(AN[l]||_f)(),realScaleType:AN[l]?l:"point"}}return Ze(i)?{scale:i}:{scale:_f(),realScaleType:"point"}},DN=1e-4,tye=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-DN,s=Math.max(i[0],i[1])+DN,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},nye=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},rye=function(e,n){if(!n||n.length!==2||!ye(n[0])||!ye(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ye(e[0])||e[0]<r)&&(a[0]=r),(!ye(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},iye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Ru(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},aye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Ru(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},sye={sign:iye,expand:xce,none:Uc,silhouette:bce,wiggle:wce,positive:aye},oye=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=sye[r],s=vce().keys(i).value(function(o,l){return+oi(o,l,0)}).order(B7).offset(a);return s(e)},lye=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ln(ln({},h.type.defaultProps),h.props):h.props,x=g.stackId,y=g.hide;if(y)return d;var v=g[r],b=d[v]||{hasStack:!1,stackGroups:{}};if(An(x)){var w=b.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[x]=w}else b.stackGroups[w4("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return ln(ln({},d),{},Sc({},v,b))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,y){var v=p.stackGroups[y];return ln(ln({},x),{},Sc({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:oye(e,v.items,a)}))},g)}return ln(ln({},d),{},Sc({},h,p))},u)},cye=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=b6e(c,a,o);return e.domain([R2(u),cs(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),h=w6e(d,a,o);return{niceTicks:h}}return null};function LN(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!dt(i[e.dataKey])){var o=km(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=oi(i,dt(s)?e.dataKey:s);return dt(l)?null:e.scale(l)}var FN=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=oi(s,n.dataKey,n.domain[o]);return dt(l)?null:n.scale(l)-a/2+i},uye=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},dye=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ln(ln({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(An(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},fye=function(e){return e.reduce(function(n,r){return[R2(r.concat([n[0]]).filter(ye)),cs(r.concat([n[1]]).filter(ye))]},[1/0,-1/0])},hV=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var d=fye(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vv=function(e,n,r){if(Ze(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ye(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(VN.test(e[0])){var a=+VN.exec(e[0])[1];i[0]=n[0]-a}else Ze(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ye(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(UN.test(e[1])){var s=+UN.exec(e[1])[1];i[1]=n[1]+s}else Ze(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},t1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=Ob(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},BN=function(e,n,r){return!e||!e.length||xh(e,Ai(r,"type.defaultProps.domain"))?n:e},pV=function(e,n){var r=e.type.defaultProps?ln(ln({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return ln(ln({},st(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:iw(e),value:oi(n,i),type:l,payload:n,chartType:c,hide:u})};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){hye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hye(t,e,n){return e=pye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pye(t){var e=mye(t,"string");return Eh(e)=="symbol"?e:e+""}function mye(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n1=Math.PI/180,gye=function(e){return e*180/Math.PI},Gn=function(e,n,r,i){return{x:e+Math.cos(-n1*i)*r,y:n+Math.sin(-n1*i)*r}},yye=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},vye=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=yye({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:gye(c),angleInRadian:c}},xye=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},bye=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},WN=function(e,n){var r=e.x,i=e.y,a=vye({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=xye(n),d=u.startAngle,h=u.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?qN(qN({},n),{},{radius:s,angle:bye(p,n)}):null};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}var wye=["offset"];function _ye(t){return Pye(t)||kye(t)||Eye(t)||Sye()}function Sye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eye(t,e){if(t){if(typeof t=="string")return xv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xv(t,e)}}function kye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pye(t){if(Array.isArray(t))return xv(t)}function xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tye(t,e){if(t==null)return{};var n=Nye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){Aye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aye(t,e,n){return e=Iye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iye(t){var e=Cye(t,"string");return kh(e)=="symbol"?e:e+""}function Cye(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(this,arguments)}var Oye=function(e){var n=e.value,r=e.formatter,i=dt(e.children)?n:e.children;return Ze(r)?r(i):i},jye=function(e,n){var r=Ki(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Rye=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,x=l.clockWise,y=(d+h)/2,v=jye(p,g),b=v>=0?1:-1,w,S;i==="insideStart"?(w=p+b*s,S=x):i==="insideEnd"?(w=g-b*s,S=!x):i==="end"&&(w=g+b*s,S=x),S=v<=0?S:!S;var E=Gn(c,u,y,w),P=Gn(c,u,y,w+(S?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(P.x,",").concat(P.y),k=dt(e.id)?w4("recharts-radial-line-"):e.id;return B.createElement("text",Ph({},r,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",o)}),B.createElement("defs",null,B.createElement("path",{id:k,d:_})),B.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Mye=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,h=(u+d)/2;if(i==="outside"){var p=Gn(s,o,c+r,h),g=p.x,x=p.y;return{x:g,y:x,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=Gn(s,o,y,h),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},$ye=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*i,p=d>0?"end":"start",g=d>0?"start":"end",x=c>=0?1:-1,y=x*i,v=x>0?"end":"start",b=x>0?"start":"end";if(a==="top"){var w={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return Pn(Pn({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var S={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Pn(Pn({},S),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var E={x:o-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Pn(Pn({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(a==="right"){var P={x:o+c+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Pn(Pn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:u}:{})}var _=r?{width:c,height:u}:{};return a==="insideLeft"?Pn({x:o+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?Pn({x:o+c-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},_):a==="insideTop"?Pn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},_):a==="insideBottom"?Pn({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},_):a==="insideTopLeft"?Pn({x:o+y,y:l+h,textAnchor:b,verticalAnchor:g},_):a==="insideTopRight"?Pn({x:o+c-y,y:l+h,textAnchor:v,verticalAnchor:g},_):a==="insideBottomLeft"?Pn({x:o+y,y:l+u-h,textAnchor:b,verticalAnchor:p},_):a==="insideBottomRight"?Pn({x:o+c-y,y:l+u-h,textAnchor:v,verticalAnchor:p},_):Iu(a)&&(ye(a.x)||Po(a.x))&&(ye(a.y)||Po(a.y))?Pn({x:o+rl(a.x,c),y:l+rl(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):Pn({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Dye=function(e){return"cx"in e&&ye(e.cx)};function ir(t){var e=t.offset,n=e===void 0?5:e,r=Tye(t,wye),i=Pn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!a||dt(o)&&dt(l)&&!R.isValidElement(c)&&!Ze(c))return null;if(R.isValidElement(c))return R.cloneElement(c,i);var p;if(Ze(c)){if(p=R.createElement(c,i),R.isValidElement(p))return p}else p=Oye(i);var g=Dye(a),x=st(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Rye(i,p,x);var y=g?Mye(i):$ye(i);return B.createElement(Um,Ph({className:yt("recharts-label",d)},x,y,{breakAll:h}),p)}ir.displayName="Label";var mV=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,p=e.top,g=e.left,x=e.width,y=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(ye(x)&&ye(y)){if(ye(d)&&ye(h))return{x:d,y:h,width:x,height:y};if(ye(p)&&ye(g))return{x:p,y:g,width:x,height:y}}return ye(d)&&ye(h)?{x:d,y:h,width:0,height:0}:ye(n)&&ye(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v}:e.viewBox?e.viewBox:{}},Lye=function(e,n){return e?e===!0?B.createElement(ir,{key:"label-implicit",viewBox:n}):An(e)?B.createElement(ir,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===ir?R.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(ir,{key:"label-implicit",content:e,viewBox:n}):Ze(e)?B.createElement(ir,{key:"label-implicit",content:e,viewBox:n}):Iu(e)?B.createElement(ir,Ph({viewBox:n},e,{key:"label-implicit"})):null:null},Fye=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=mV(e),s=ra(i,ir).map(function(l,c){return R.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=Lye(e.label,n||a);return[o].concat(_ye(s))};ir.parseViewBox=mV;ir.renderCallByParent=Fye;function Vye(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Uye=Vye;const Bye=$t(Uye);function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}var zye=["valueAccessor"],qye=["data","dataKey","clockWise","id","textBreakAll"];function Wye(t){return Qye(t)||Kye(t)||Gye(t)||Hye()}function Hye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gye(t,e){if(t){if(typeof t=="string")return bv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bv(t,e)}}function Kye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qye(t){if(Array.isArray(t))return bv(t)}function bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r1.apply(this,arguments)}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(r){Yye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yye(t,e,n){return e=Xye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xye(t){var e=Jye(t,"string");return Th(e)=="symbol"?e:e+""}function Jye(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QN(t,e){if(t==null)return{};var n=Zye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var e7e=function(e){return Array.isArray(e.value)?Bye(e.value):e.value};function Ns(t){var e=t.valueAccessor,n=e===void 0?e7e:e,r=QN(t,zye),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=QN(r,qye);return!i||!i.length?null:B.createElement(Jt,{className:"recharts-label-list"},i.map(function(u,d){var h=dt(a)?n(u,d):oi(u&&u.payload,a),p=dt(o)?{}:{id:"".concat(o,"-").concat(d)};return B.createElement(ir,r1({},st(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:ir.parseViewBox(dt(s)?u:KN(KN({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Ns.displayName="LabelList";function t7e(t,e){return t?t===!0?B.createElement(Ns,{key:"labelList-implicit",data:e}):B.isValidElement(t)||Ze(t)?B.createElement(Ns,{key:"labelList-implicit",data:e,content:t}):Iu(t)?B.createElement(Ns,r1({data:e},t,{key:"labelList-implicit"})):null:null}function n7e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ra(r,Ns).map(function(s,o){return R.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=t7e(t.label,e);return[a].concat(Wye(i))}Ns.renderCallByParent=n7e;function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(this,arguments)}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){r7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r7e(t,e,n){return e=i7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i7e(t){var e=a7e(t,"string");return Nh(e)=="symbol"?e:e+""}function a7e(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s7e=function(e,n){var r=Ki(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Ap=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/n1,h=c?a:a+s*d,p=Gn(n,r,u,h),g=Gn(n,r,i,h),x=c?a-s*d:a,y=Gn(n,r,u*Math.cos(d*n1),x);return{center:p,circleTangency:g,lineTangency:y,theta:d}},gV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=s7e(s,o),c=s+l,u=Gn(n,r,a,s),d=Gn(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Gn(n,r,i,s),g=Gn(n,r,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},o7e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Ki(u-c),h=Ap({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,x=h.theta,y=Ap({cx:n,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),v=y.circleTangency,b=y.lineTangency,w=y.theta,S=l?Math.abs(c-u):Math.abs(c-u)-x-w;if(S<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):gV({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=Ap({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=P.circleTangency,k=P.lineTangency,N=P.theta,A=Ap({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=A.circleTangency,j=A.lineTangency,O=A.theta,$=l?Math.abs(c-u):Math.abs(c-u)-N-O;if($<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},l7e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yV=function(e){var n=XN(XN({},l7e),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(s<a||u===d)return null;var p=yt("recharts-sector",h),g=s-a,x=rl(o,g,0,!0),y;return x>0&&Math.abs(u-d)<360?y=o7e({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=gV({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),B.createElement("path",wv({},st(n,!0),{className:p,d:y,role:"img"}))};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(this,arguments)}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){c7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c7e(t,e,n){return e=u7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u7e(t){var e=d7e(t,"string");return Ah(e)=="symbol"?e:e+""}function d7e(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eA={curveBasisClosed:oce,curveBasisOpen:lce,curveBasis:sce,curveBumpX:Hle,curveBumpY:Gle,curveLinearClosed:cce,curveLinear:S2,curveMonotoneX:uce,curveMonotoneY:dce,curveNatural:fce,curveStep:hce,curveStepAfter:mce,curveStepBefore:pce},Ip=function(e){return e.x===+e.x&&e.y===+e.y},wd=function(e){return e.x},_d=function(e){return e.y},f7e=function(e,n){if(Ze(e))return e;var r="curve".concat(w2(e));return(r==="curveMonotone"||r==="curveBump")&&n?eA["".concat(r).concat(n==="vertical"?"Y":"X")]:eA[r]||S2},h7e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=f7e(r,o),d=c?a.filter(function(x){return Ip(x)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(x){return Ip(x)}):s,g=d.map(function(x,y){return ZN(ZN({},x),{},{base:p[y]})});return o==="vertical"?h=bp().y(_d).x1(wd).x0(function(x){return x.base.x}):h=bp().x(wd).y1(_d).y0(function(x){return x.base.y}),h.defined(Ip).curve(u),h(g)}return o==="vertical"&&ye(s)?h=bp().y(_d).x1(wd).x0(s):ye(s)?h=bp().x(wd).y1(_d).y0(s):h=yL().x(wd).y(_d),h.defined(Ip).curve(u),h(d)},Ef=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?h7e(e):i;return R.createElement("path",_v({},st(e,!1),Pm(e),{className:yt("recharts-curve",n),d:s,ref:a}))},vV={exports:{}},p7e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",m7e=p7e,g7e=m7e;function xV(){}function bV(){}bV.resetWarningCache=xV;var y7e=function(){function t(r,i,a,s,o,l){if(l!==g7e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:bV,resetWarningCache:xV};return n.PropTypes=n,n};vV.exports=y7e();var v7e=vV.exports;const le=$t(v7e),{getOwnPropertyNames:x7e,getOwnPropertySymbols:b7e}=Object,{hasOwnProperty:w7e}=Object.prototype;function C6(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Cp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function _7e(t){return t!=null?t[Symbol.toStringTag]:void 0}function tA(t){return x7e(t).concat(b7e(t))}const S7e=Object.hasOwn||((t,e)=>w7e.call(t,e));function El(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const E7e="__v",k7e="__o",P7e="_owner",{getOwnPropertyDescriptor:nA,keys:rA}=Object;function T7e(t,e){return t.byteLength===e.byteLength&&i1(new Uint8Array(t),new Uint8Array(e))}function N7e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function A7e(t,e){return t.byteLength===e.byteLength&&i1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function I7e(t,e){return El(t.getTime(),e.getTime())}function C7e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function O7e(t,e){return t===e}function iA(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let u=!1,d=0;for(;(o=c.next())&&!o.done;){if(i[d]){d++;continue}const h=s.value,p=o.value;if(n.equals(h[0],p[0],l,d,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const j7e=El;function R7e(t,e,n){const r=rA(t);let i=r.length;if(rA(e).length!==i)return!1;for(;i-- >0;)if(!wV(t,e,n,r[i]))return!1;return!0}function Sd(t,e,n){const r=tA(t);let i=r.length;if(tA(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!wV(t,e,n,a)||(s=nA(t,a),o=nA(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function M7e(t,e){return El(t.valueOf(),e.valueOf())}function $7e(t,e){return t.source===e.source&&t.flags===e.flags}function aA(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function i1(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function D7e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function wV(t,e,n,r){return(r===P7e||r===k7e||r===E7e)&&(t.$$typeof||e.$$typeof)?!0:S7e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const L7e="[object ArrayBuffer]",F7e="[object Arguments]",V7e="[object Boolean]",U7e="[object DataView]",B7e="[object Date]",z7e="[object Error]",q7e="[object Map]",W7e="[object Number]",H7e="[object Object]",G7e="[object RegExp]",K7e="[object Set]",Q7e="[object String]",Y7e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},X7e="[object URL]",J7e=Object.prototype.toString;function Z7e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(y,v,b){if(y===v)return!0;if(y==null||v==null)return!1;const w=typeof y;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?o(y,v,b):w==="function"?a(y,v,b):!1;const S=y.constructor;if(S!==v.constructor)return!1;if(S===Object)return l(y,v,b);if(Array.isArray(y))return e(y,v,b);if(S===Date)return r(y,v,b);if(S===RegExp)return u(y,v,b);if(S===Map)return s(y,v,b);if(S===Set)return d(y,v,b);const E=J7e.call(y);if(E===B7e)return r(y,v,b);if(E===G7e)return u(y,v,b);if(E===q7e)return s(y,v,b);if(E===K7e)return d(y,v,b);if(E===H7e)return typeof y.then!="function"&&typeof v.then!="function"&&l(y,v,b);if(E===X7e)return p(y,v,b);if(E===z7e)return i(y,v,b);if(E===F7e)return l(y,v,b);if(Y7e[E])return h(y,v,b);if(E===L7e)return t(y,v,b);if(E===U7e)return n(y,v,b);if(E===V7e||E===W7e||E===Q7e)return c(y,v,b);if(g){let P=g[E];if(!P){const _=_7e(y);_&&(P=g[_])}if(P)return P(y,v,b)}return!1}}function eve({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:T7e,areArraysEqual:n?Sd:N7e,areDataViewsEqual:A7e,areDatesEqual:I7e,areErrorsEqual:C7e,areFunctionsEqual:O7e,areMapsEqual:n?C6(iA,Sd):iA,areNumbersEqual:j7e,areObjectsEqual:n?Sd:R7e,arePrimitiveWrappersEqual:M7e,areRegExpsEqual:$7e,areSetsEqual:n?C6(aA,Sd):aA,areTypedArraysEqual:n?C6(i1,Sd):i1,areUrlsEqual:D7e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Cp(r.areArraysEqual),a=Cp(r.areMapsEqual),s=Cp(r.areObjectsEqual),o=Cp(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function tve(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function nve({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const rve=eo();eo({strict:!0});eo({circular:!0});eo({circular:!0,strict:!0});eo({createInternalComparator:()=>El});eo({strict:!0,createInternalComparator:()=>El});eo({circular:!0,createInternalComparator:()=>El});eo({circular:!0,createInternalComparator:()=>El,strict:!0});function eo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=eve(t),s=Z7e(a),o=n?n(s):tve(s);return nve({circular:e,comparator:s,createState:r,equals:o,strict:i})}function ive(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function sA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):ive(i)};requestAnimationFrame(r)}function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function ave(t){return cve(t)||lve(t)||ove(t)||sve()}function sve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ove(t,e){if(t){if(typeof t=="string")return oA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oA(t,e)}}function oA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cve(t){if(Array.isArray(t))return t}function uve(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=ave(s),l=o[0],c=o.slice(1);if(typeof l=="number"){sA(i.bind(null,c),l);return}i(l),sA(i.bind(null,c));return}Sv(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function lA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(n),!0).forEach(function(r){_V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _V(t,e,n){return e=dve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dve(t){var e=fve(t,"string");return Ih(e)==="symbol"?e:String(e)}function fve(t,e){if(Ih(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hve=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},pve=function(e){return e},mve=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},kf=function(e,n){return Object.keys(n).reduce(function(r,i){return cA(cA({},r),{},_V({},i,e(i,n[i])))},{})},uA=function(e,n,r){return e.map(function(i){return"".concat(mve(i)," ").concat(n,"ms ").concat(r)}).join(",")};function gve(t,e){return xve(t)||vve(t,e)||SV(t,e)||yve()}function yve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function xve(t){if(Array.isArray(t))return t}function bve(t){return Sve(t)||_ve(t)||SV(t)||wve()}function wve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SV(t,e){if(t){if(typeof t=="string")return Ev(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ev(t,e)}}function _ve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sve(t){if(Array.isArray(t))return Ev(t)}function Ev(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a1=1e-4,EV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},kV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},dA=function(e,n){return function(r){var i=EV(e,n);return kV(i,r)}},Eve=function(e,n){return function(r){var i=EV(e,n),a=[].concat(bve(i.map(function(s,o){return s*o}).slice(1)),[0]);return kV(a,r)}},fA=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=gve(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var d=dA(i,s),h=dA(a,o),p=Eve(i,s),g=function(v){return v>1?1:v<0?0:v},x=function(v){for(var b=v>1?1:v,w=b,S=0;S<8;++S){var E=d(w)-b,P=p(w);if(Math.abs(E-b)<a1||P<a1)return h(w);w=g(w-E/P)}return h(w)};return x.isStepper=!1,x},kve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*r,g=h*a,x=h+(p-g)*o/1e3,y=h*o/1e3+u;return Math.abs(y-d)<a1&&Math.abs(x)<a1?[d,0]:[y,x]};return l.isStepper=!0,l.dt=o,l},Pve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fA(i);case"spring":return kve();default:if(i.split("(")[0]==="cubic-bezier")return fA(i)}return typeof i=="function"?i:null};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function hA(t){return Ave(t)||Nve(t)||PV(t)||Tve()}function Tve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ave(t){if(Array.isArray(t))return Pv(t)}function pA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(n),!0).forEach(function(r){kv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kv(t,e,n){return e=Ive(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ive(t){var e=Cve(t,"string");return Ch(e)==="symbol"?e:String(e)}function Cve(t,e){if(Ch(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ove(t,e){return Mve(t)||Rve(t,e)||PV(t,e)||jve()}function jve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PV(t,e){if(t){if(typeof t=="string")return Pv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pv(t,e)}}function Pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Mve(t){if(Array.isArray(t))return t}var s1=function(e,n,r){return e+(n-e)*r},Tv=function(e){var n=e.from,r=e.to;return n!==r},$ve=function t(e,n,r){var i=kf(function(a,s){if(Tv(s)){var o=e(s.from,s.to,s.velocity),l=Ove(o,2),c=l[0],u=l[1];return Bn(Bn({},s),{},{from:c,velocity:u})}return s},n);return r<1?kf(function(a,s){return Tv(s)?Bn(Bn({},s),{},{velocity:s1(s.velocity,i[a].velocity,r),from:s1(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const Dve=function(t,e,n,r,i){var a=hve(t,e),s=a.reduce(function(y,v){return Bn(Bn({},y),{},kv({},v,[t[v],e[v]]))},{}),o=a.reduce(function(y,v){return Bn(Bn({},y),{},kv({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return kf(function(v,b){return b.from},o)},p=function(){return!Object.values(o).filter(Tv).length},g=function(v){c||(c=v);var b=v-c,w=b/n.dt;o=$ve(n,o,w),i(Bn(Bn(Bn({},t),e),h())),c=v,p()||(l=requestAnimationFrame(d))},x=function(v){u||(u=v);var b=(v-u)/r,w=kf(function(E,P){return s1.apply(void 0,hA(P).concat([n(b)]))},s);if(i(Bn(Bn(Bn({},t),e),w)),b<1)l=requestAnimationFrame(d);else{var S=kf(function(E,P){return s1.apply(void 0,hA(P).concat([n(1)]))},s);i(Bn(Bn(Bn({},t),e),S))}};return d=n.isStepper?g:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}var Lve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Fve(t,e){if(t==null)return{};var n=Vve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function O6(t){return qve(t)||zve(t)||Bve(t)||Uve()}function Uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bve(t,e){if(t){if(typeof t=="string")return Nv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nv(t,e)}}function zve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qve(t){if(Array.isArray(t))return Nv(t)}function Nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(n),!0).forEach(function(r){Ud(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ud(t,e,n){return e=TV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TV(r.key),r)}}function Gve(t,e,n){return e&&Hve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TV(t){var e=Kve(t,"string");return Yc(e)==="symbol"?e:String(e)}function Kve(t,e){if(Yc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Av(t,e)}function Av(t,e){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Av(t,e)}function Yve(t){var e=Xve();return function(){var r=o1(t),i;if(e){var a=o1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Iv(this,i)}}function Iv(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cv(t)}function Cv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o1(t)}var T0=function(t){Qve(n,t);var e=Yve(n);function n(r,i){var a;Wve(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Cv(a)),a.changeStyle=a.changeStyle.bind(Cv(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),Iv(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof h=="function")return a.state={style:c},Iv(a);a.state={style:l?Ud({},l,c):c}}else a.state={style:{}};return a}return Gve(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Ud({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(rve(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||c?d:i.to;if(this.state&&h){var y={style:l?Ud({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(y)}this.runAnimation(Vi(Vi({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=Dve(s,o,Pve(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(x,y,v){if(v===0)return x;var b=y.duration,w=y.easing,S=w===void 0?"ease":w,E=y.style,P=y.properties,_=y.onAnimationEnd,k=v>0?s[v-1]:y,N=P||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(O6(x),[a.runJSAnimation.bind(a,{from:k.style,to:E,duration:b,easing:S}),b]);var A=uA(N,b,S),I=Vi(Vi(Vi({},k.style),E),{},{transition:A});return[].concat(O6(x),[I,b,_]).filter(pve)};return this.manager.start([l].concat(O6(s.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uve());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=o?Ud({},o,l):l,y=uA(Object.keys(x),s,c);g.start([u,a,Vi(Vi({},x),{},{transition:y}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Fve(i,Lve),c=R.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var d=function(p){var g=p.props,x=g.style,y=x===void 0?{}:x,v=g.className,b=R.cloneElement(p,Vi(Vi({},l),{},{style:Vi(Vi({},y),u),className:v}));return b};return c===1?d(R.Children.only(a)):B.createElement("div",null,R.Children.map(a,function(h){return d(h)}))}}]),n}(R.PureComponent);T0.displayName="Animate";T0.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};T0.propTypes={from:le.oneOfType([le.object,le.string]),to:le.oneOfType([le.object,le.string]),attributeName:le.string,duration:le.number,begin:le.number,easing:le.oneOfType([le.string,le.func]),steps:le.arrayOf(le.shape({duration:le.number.isRequired,style:le.object.isRequired,easing:le.oneOfType([le.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),le.func]),properties:le.arrayOf("string"),onAnimationEnd:le.func})),children:le.oneOfType([le.node,le.func]),isActive:le.bool,canBegin:le.bool,onAnimationEnd:le.func,shouldReAnimate:le.bool,onAnimationStart:le.func,onAnimationReStart:le.func};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l1.apply(this,arguments)}function Jve(t,e){return n9e(t)||t9e(t,e)||e9e(t,e)||Zve()}function Zve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9e(t,e){if(t){if(typeof t=="string")return gA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gA(t,e)}}function gA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function n9e(t){if(Array.isArray(t))return t}function yA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(n),!0).forEach(function(r){r9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r9e(t,e,n){return e=i9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9e(t){var e=a9e(t,"string");return Oh(e)=="symbol"?e:e+""}function a9e(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xA=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>s?s:a[h];u="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),u+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);u="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*g," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},s9e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},o9e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aw=function(e){var n=vA(vA({},o9e),e),r=R.useRef(),i=R.useState(-1),a=Jve(i,2),s=a[0],o=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,p=n.className,g=n.animationEasing,x=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=yt("recharts-rectangle",p);return b?B.createElement(T0,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:x,animationEasing:g,isActive:b},function(S){var E=S.width,P=S.height,_=S.x,k=S.y;return B.createElement(T0,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:v,easing:g},B.createElement("path",l1({},st(n,!0),{className:w,d:xA(_,k,E,P,h),ref:r})))}):B.createElement("path",l1({},st(n,!0),{className:w,d:xA(l,c,u,d,h)}))};function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}var sw=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=yt("recharts-dot",a);return n===+n&&r===+r&&i===+i?R.createElement("circle",Ov({},st(e,!1),Pm(e),{className:s,cx:n,cy:r,r:i})):null};function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}var l9e=["x","y","top","left","width","height","className"];function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function bA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c9e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(n),!0).forEach(function(r){u9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u9e(t,e,n){return e=d9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d9e(t){var e=f9e(t,"string");return jh(e)=="symbol"?e:e+""}function f9e(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h9e(t,e){if(t==null)return{};var n=p9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var m9e=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},g9e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,p=h===void 0?0:h,g=e.className,x=h9e(e,l9e),y=c9e({x:r,y:a,top:o,left:c,width:d,height:p},x);return!ye(r)||!ye(a)||!ye(d)||!ye(p)||!ye(o)||!ye(c)?null:B.createElement("path",jv({},st(y,!0),{className:yt("recharts-cross",g),d:m9e(r,a,d,p,o,c)}))},y9e=UL,v9e=y9e(Object.getPrototypeOf,Object),x9e=v9e,b9e=j0,w9e=x9e,_9e=R0,S9e="[object Object]",E9e=Function.prototype,k9e=Object.prototype,NV=E9e.toString,P9e=k9e.hasOwnProperty,T9e=NV.call(Object);function N9e(t){if(!_9e(t)||b9e(t)!=S9e)return!1;var e=w9e(t);if(e===null)return!0;var n=P9e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&NV.call(n)==T9e}var A9e=N9e;const I9e=$t(A9e);var C9e=j0,O9e=R0,j9e="[object Boolean]";function R9e(t){return t===!0||t===!1||O9e(t)&&C9e(t)==j9e}var M9e=R9e;const $9e=$t(M9e);function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c1.apply(this,arguments)}function D9e(t,e){return U9e(t)||V9e(t,e)||F9e(t,e)||L9e()}function L9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9e(t,e){if(t){if(typeof t=="string")return wA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(t,e)}}function wA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function U9e(t){if(Array.isArray(t))return t}function _A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(n),!0).forEach(function(r){B9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B9e(t,e,n){return e=z9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z9e(t){var e=q9e(t,"string");return Rh(e)=="symbol"?e:e+""}function q9e(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EA=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},W9e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},H9e=function(e){var n=SA(SA({},W9e),e),r=R.useRef(),i=R.useState(-1),a=D9e(i,2),s=a[0],o=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,x=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var b=yt("recharts-trapezoid",p);return v?B.createElement(T0,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:x,animationEasing:g,isActive:v},function(w){var S=w.upperWidth,E=w.lowerWidth,P=w.height,_=w.x,k=w.y;return B.createElement(T0,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:g},B.createElement("path",c1({},st(n,!0),{className:b,d:EA(_,k,S,E,P),ref:r})))}):B.createElement("g",null,B.createElement("path",c1({},st(n,!0),{className:b,d:EA(l,c,u,d,h)})))},G9e=["option","shapeType","propTransformer","activeClassName","isActive"];function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function K9e(t,e){if(t==null)return{};var n=Q9e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(n),!0).forEach(function(r){Y9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y9e(t,e,n){return e=X9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X9e(t){var e=J9e(t,"string");return Mh(e)=="symbol"?e:e+""}function J9e(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z9e(t,e){return u1(u1({},e),t)}function e8e(t,e){return t==="symbols"}function PA(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(aw,n);case"trapezoid":return B.createElement(H9e,n);case"sector":return B.createElement(yV,n);case"symbols":if(e8e(e))return B.createElement(Eb,n);break;default:return null}}function t8e(t){return R.isValidElement(t)?t.props:t}function n8e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Z9e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=K9e(t,G9e),c;if(R.isValidElement(e))c=R.cloneElement(e,u1(u1({},l),t8e(e)));else if(Ze(e))c=e(l);else if(I9e(e)&&!$9e(e)){var u=i(e,l);c=B.createElement(PA,{shapeType:n,elementProps:u})}else{var d=l;c=B.createElement(PA,{shapeType:n,elementProps:d})}return o?B.createElement(Jt,{className:s},c):c}function L2(t,e){return e!=null&&"trapezoids"in t.props}function F2(t,e){return e!=null&&"sectors"in t.props}function $h(t,e){return e!=null&&"points"in t.props}function r8e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function i8e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function a8e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function s8e(t,e){var n;return L2(t,e)?n=r8e:F2(t,e)?n=i8e:$h(t,e)&&(n=a8e),n}function o8e(t,e){var n;return L2(t,e)?n="trapezoids":F2(t,e)?n="sectors":$h(t,e)&&(n="points"),n}function l8e(t,e){if(L2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(F2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return $h(t,e)?e.payload:{}}function c8e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=o8e(n,e),a=l8e(n,e),s=r.filter(function(l,c){var u=xh(a,l),d=n.props[i].filter(function(g){var x=s8e(n,e);return x(g,e)}),h=n.props[i].indexOf(d[d.length-1]),p=c===h;return u&&p}),o=r.indexOf(s[s.length-1]);return o}var u8e=Math.ceil,d8e=Math.max;function f8e(t,e,n,r){for(var i=-1,a=d8e(u8e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var h8e=f8e,p8e=sF,TA=1/0,m8e=17976931348623157e292;function g8e(t){if(!t)return t===0?t:0;if(t=p8e(t),t===TA||t===-TA){var e=t<0?-1:1;return e*m8e}return t===t?t:0}var AV=g8e,y8e=h8e,v8e=T2,j6=AV;function x8e(t){return function(e,n,r){return r&&typeof r!="number"&&v8e(e,n,r)&&(n=r=void 0),e=j6(e),n===void 0?(n=e,e=0):n=j6(n),r=r===void 0?e<n?1:-1:j6(r),y8e(e,n,r,t)}}var b8e=x8e,w8e=b8e,_8e=w8e(),S8e=_8e;const d1=$t(S8e);function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function NA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(n),!0).forEach(function(r){IV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IV(t,e,n){return e=E8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E8e(t){var e=k8e(t,"string");return Dh(e)=="symbol"?e:e+""}function k8e(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P8e=["Webkit","Moz","O","ms"],T8e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=P8e.reduce(function(a,s){return AA(AA({},a),{},IV({},s+r,n))},{});return i[e]=n,i};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f1.apply(this,arguments)}function IA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IA(Object(n),!0).forEach(function(r){Hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OV(r.key),r)}}function A8e(t,e,n){return e&&CA(t.prototype,e),n&&CA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I8e(t,e,n){return e=h1(e),C8e(t,CV()?Reflect.construct(e,n||[],h1(t).constructor):e.apply(t,n))}function C8e(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O8e(t)}function O8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CV=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h1(t)}function j8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rv(t,e)}function Rv(t,e){return Rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rv(t,e)}function Hr(t,e,n){return e=OV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OV(t){var e=R8e(t,"string");return Xc(e)=="symbol"?e:e+""}function R8e(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M8e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=_f().domain(d1(0,l)).range([a,a+s-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},OA=function(e){return e.changedTouches&&!!e.changedTouches.length},Jc=function(t){function e(n){var r;return N8e(this,e),r=I8e(this,e,[n]),Hr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Hr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Hr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Hr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Hr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Hr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Hr(r,"handleSlideDragStart",function(i){var a=OA(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return j8e(e,t),A8e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,d),g=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=oi(a[r],o,r);return Ze(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,x=r.pageX-a;x>0?x=Math.min(x,c+u-d-o,c+u-d-s):x<0&&(x=Math.max(x,c-s,c-o));var y=this.getIndex({startX:s+x,endX:o+x});(y.startIndex!==h||y.endIndex!==p)&&g&&g(y),this.setState({startX:s+x,endX:o+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=OA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,x=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,d+h-p-c):b<0&&(b=Math.max(b,d-c)),v[s]=c+b;var w=this.getIndex(v),S=w.startIndex,E=w.endIndex,P=function(){var k=y.length-1;return s==="startX"&&(o>l?S%x===0:E%x===0)||o<l&&E===k||s==="endX"&&(o>l?E%x===0:S%x===0)||o>l&&E===k};this.setState(Hr(Hr({},s,c+b),"brushMoveStartX",r.pageX),function(){g&&P()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Hr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return B.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=R.Children.only(c);return d?B.cloneElement(d,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,x=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),b=R6(R6({},st(this.props,!1)),{},{x:v,y:c,width:u,height:d}),w=p||"Min value: ".concat((a=g[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[y])===null||s===void 0?void 0:s.name);return B.createElement(Jt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return B.createElement(Jt,{className:"recharts-brush-texts"},B.createElement(Um,f1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(i)),B.createElement(Um,f1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,x=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!ye(o)||!ye(l)||!ye(c)||!ye(u)||c<=0||u<=0)return null;var w=yt("recharts-brush",a),S=B.Children.count(s)===1,E=T8e("userSelect","none");return B.createElement(Jt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(x||y||v||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),B.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return B.isValidElement(r)?a=B.cloneElement(r,i):Ze(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return R6({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?M8e({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(R.PureComponent);Hr(Jc,"displayName","Brush");Hr(Jc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $8e=Cb;function D8e(t,e){var n;return $8e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var L8e=D8e,F8e=jL,V8e=Xs,U8e=L8e,B8e=zr,z8e=T2;function q8e(t,e,n){var r=B8e(t)?F8e:U8e;return n&&z8e(t,e,n)&&(e=void 0),r(t,V8e(e))}var W8e=q8e;const H8e=$t(W8e);var $a=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},jA=tF;function G8e(t,e,n){e=="__proto__"&&jA?jA(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var K8e=G8e,Q8e=K8e,Y8e=ZL,X8e=Xs;function J8e(t,e){var n={};return e=X8e(e),Y8e(t,function(r,i,a){Q8e(n,i,e(r,i,a))}),n}var Z8e=J8e;const exe=$t(Z8e);function txe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var nxe=txe,rxe=Cb;function ixe(t,e){var n=!0;return rxe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var axe=ixe,sxe=nxe,oxe=axe,lxe=Xs,cxe=zr,uxe=T2;function dxe(t,e,n){var r=cxe(t)?sxe:oxe;return n&&uxe(t,e,n)&&(e=void 0),r(t,lxe(e))}var fxe=dxe;const jV=$t(fxe);var hxe=["x","y"];function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function RA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(n),!0).forEach(function(r){pxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pxe(t,e,n){return e=mxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mxe(t){var e=gxe(t,"string");return Lh(e)=="symbol"?e:e+""}function gxe(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yxe(t,e){if(t==null)return{};var n=vxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xxe(t,e){var n=t.x,r=t.y,i=yxe(t,hxe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Ed(Ed(Ed(Ed(Ed({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function MA(t){return B.createElement(n8e,Mv({shapeType:"rectangle",propTransformer:xxe,activeClassName:"recharts-active-bar"},t))}var bxe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=ye(r)||Coe(r);return a?e(r,i):(a||al(),n)}},wxe=["value","background"],RV;function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function _xe(t,e){if(t==null)return{};var n=Sxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p1.apply(this,arguments)}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){us(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Exe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$V(r.key),r)}}function kxe(t,e,n){return e&&DA(t.prototype,e),n&&DA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pxe(t,e,n){return e=m1(e),Txe(t,MV()?Reflect.construct(e,n||[],m1(t).constructor):e.apply(t,n))}function Txe(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nxe(t)}function Nxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MV=function(){return!!t})()}function m1(t){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m1(t)}function Axe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$v(t,e)}function us(t,e,n){return e=$V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $V(t){var e=Ixe(t,"string");return Zc(e)=="symbol"?e:e+""}function Ixe(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var T4=function(t){function e(){var n;Exe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pxe(this,e,[].concat(i)),us(n,"state",{isAnimationFinished:!1}),us(n,"id",w4("recharts-bar-")),us(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),us(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Axe(e,t),kxe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=st(this.props,!1);return r&&r.map(function(d,h){var p=h===l,g=p?c:s,x=xn(xn(xn({},u),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(Jt,p1({className:"recharts-bar-rectangle"},Tm(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),B.createElement(MA,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return B.createElement(T0,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,x=a.map(function(y,v){var b=h&&h[v];if(b){var w=xi(b.x,y.x),S=xi(b.y,y.y),E=xi(b.width,y.width),P=xi(b.height,y.height);return xn(xn({},y),{},{x:w(g),y:S(g),width:E(g),height:P(g)})}if(s==="horizontal"){var _=xi(0,y.height),k=_(g);return xn(xn({},y),{},{y:y.y+y.height-k,height:k})}var N=xi(0,y.width),A=N(g);return xn(xn({},y),{},{width:A})});return B.createElement(Jt,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!xh(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=st(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,h=_xe(c,wxe);if(!d)return null;var p=xn(xn(xn(xn(xn({},h),{},{fill:"#eee"},d),l),Tm(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return B.createElement(MA,p1({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=ra(u,D2);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(y,v){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:oi(y,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Jt,g,d.map(function(x){return B.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,p=r.isAnimationActive,g=r.background,x=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,v=yt("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,S=b||w,E=dt(x)?this.id:x;return B.createElement(Jt,{className:v},b||w?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(E)},B.createElement("rect",{x:b?c:c-d/2,y:w?u:u-h/2,width:b?d:d*2,height:w?h:h*2}))):null,B.createElement(Jt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!p||y)&&Ns.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);RV=T4;us(T4,"displayName","Bar");us(T4,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Lu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});us(T4,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=nye(r,n);if(!p)return null;var g=e.layout,x=n.type.defaultProps,y=x!==void 0?xn(xn({},x),n.props):n.props,v=y.dataKey,b=y.children,w=y.minPointSize,S=g==="horizontal"?s:a,E=c?S.scale.domain():null,P=uye({numericAxis:S}),_=ra(b,lF),k=d.map(function(N,A){var I,j,O,$,M,D;c?I=rye(c[u+A],E):(I=oi(N,v),Array.isArray(I)||(I=[P,I]));var V=bxe(w,RV.defaultProps.minPointSize)(I[1],A);if(g==="horizontal"){var F,U=[s.scale(I[0]),s.scale(I[1])],W=U[0],G=U[1];j=FN({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:N,index:A}),O=(F=G??W)!==null&&F!==void 0?F:void 0,$=p.size;var H=W-G;if(M=Number.isNaN(H)?0:H,D={x:j,y:s.y,width:$,height:s.height},Math.abs(V)>0&&Math.abs(M)<Math.abs(V)){var te=Ki(M||V)*(Math.abs(V)-Math.abs(M));O-=te,M+=te}}else{var ue=[a.scale(I[0]),a.scale(I[1])],me=ue[0],Z=ue[1];if(j=me,O=FN({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:N,index:A}),$=Z-me,M=p.size,D={x:a.x,y:O,width:a.width,height:M},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var _e=Ki($||V)*(Math.abs(V)-Math.abs($));$+=_e}}return xn(xn(xn({},N),{},{x:j,y:O,width:$,height:M,value:c?I:I[1],payload:N,background:D},_&&_[A]&&_[A].props),{},{tooltipPayload:[pV(n,N)],tooltipPosition:{x:j+$/2,y:O+M/2}})});return xn({data:k,layout:g},h)});function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function Cxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DV(r.key),r)}}function Oxe(t,e,n){return e&&LA(t.prototype,e),n&&LA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){V2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V2(t,e,n){return e=DV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DV(t){var e=jxe(t,"string");return Fh(e)=="symbol"?e:e+""}function jxe(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rxe=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Kr(c,T4);return u.reduce(function(p,g){var x=n[g],y=x.orientation,v=x.domain,b=x.padding,w=b===void 0?{}:b,S=x.mirror,E=x.reversed,P="".concat(y).concat(S?"Mirror":""),_,k,N,A,I;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var j=v[1]-v[0],O=1/0,$=x.categoricalDomain.sort(Roe);if($.forEach(function(ue,me){me>0&&(O=Math.min((ue||0)-($[me-1]||0),O))}),Number.isFinite(O)){var M=O/j,D=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(_=M*D/2),x.padding==="no-gap"){var V=rl(e.barCategoryGap,M*D),F=M*D/2;_=F-V-(F-V)/D*V}}}i==="xAxis"?k=[r.left+(w.left||0)+(_||0),r.left+r.width-(w.right||0)-(_||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(_||0),r.top+r.height-(w.bottom||0)-(_||0)]:k=x.range,E&&(k=[k[1],k[0]]);var U=eye(x,a,h),W=U.scale,G=U.realScaleType;W.domain(v).range(k),tye(W);var H=cye(W,zi(zi({},x),{},{realScaleType:G}));i==="xAxis"?(I=y==="top"&&!S||y==="bottom"&&S,N=r.left,A=d[P]-I*x.height):i==="yAxis"&&(I=y==="left"&&!S||y==="right"&&S,N=d[P]-I*x.width,A=r.top);var te=zi(zi(zi({},x),H),{},{realScaleType:G,x:N,y:A,scale:W,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return te.bandSize=t1(te,H),!x.hide&&i==="xAxis"?d[P]+=(I?-1:1)*te.height:x.hide||(d[P]+=(I?-1:1)*te.width),zi(zi({},p),{},V2({},g,te))},{})},LV=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},Mxe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return LV({x:n,y:r},{x:i,y:a})},FV=function(){function t(e){Cxe(this,t),this.scale=e}return Oxe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();V2(FV,"EPS",1e-4);var ow=function(e){var n=Object.keys(e).reduce(function(r,i){return zi(zi({},r),{},V2({},i,FV.create(e[i])))},{});return zi(zi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return exe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return jV(i,function(a,s){return n[s].isInRange(a)})}})};function $xe(t){return(t%180+180)%180}var Dxe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$xe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Lxe=Xs,Fxe=_4,Vxe=k2;function Uxe(t){return function(e,n,r){var i=Object(e);if(!Fxe(e)){var a=Lxe(n);e=Vxe(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var Bxe=Uxe,zxe=AV;function qxe(t){var e=zxe(t),n=e%1;return e===e?n?e-n:e:0}var Wxe=qxe,Hxe=GL,Gxe=Xs,Kxe=Wxe,Qxe=Math.max;function Yxe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Kxe(n);return i<0&&(i=Qxe(r+i,0)),Hxe(t,Gxe(e),i)}var Xxe=Yxe,Jxe=Bxe,Zxe=Xxe,ebe=Jxe(Zxe),tbe=ebe;const nbe=$t(tbe);var rbe=Dse(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),lw=R.createContext(void 0),cw=R.createContext(void 0),VV=R.createContext(void 0),UV=R.createContext({}),BV=R.createContext(void 0),zV=R.createContext(0),qV=R.createContext(0),VA=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=rbe(a);return B.createElement(lw.Provider,{value:r},B.createElement(cw.Provider,{value:i},B.createElement(UV.Provider,{value:a},B.createElement(VV.Provider,{value:u},B.createElement(BV.Provider,{value:s},B.createElement(zV.Provider,{value:c},B.createElement(qV.Provider,{value:l},o)))))))},ibe=function(){return R.useContext(BV)},WV=function(e){var n=R.useContext(lw);n==null&&al();var r=n[e];return r==null&&al(),r},abe=function(){var e=R.useContext(lw);return is(e)},sbe=function(){var e=R.useContext(cw),n=nbe(e,function(r){return jV(r.domain,Number.isFinite)});return n||is(e)},HV=function(e){var n=R.useContext(cw);n==null&&al();var r=n[e];return r==null&&al(),r},obe=function(){var e=R.useContext(VV);return e},lbe=function(){return R.useContext(UV)},uw=function(){return R.useContext(qV)},dw=function(){return R.useContext(zV)};function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function cbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ube(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KV(r.key),r)}}function dbe(t,e,n){return e&&ube(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fbe(t,e,n){return e=g1(e),hbe(t,GV()?Reflect.construct(e,n||[],g1(t).constructor):e.apply(t,n))}function hbe(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pbe(t)}function pbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GV=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g1(t)}function mbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dv(t,e)}function Dv(t,e){return Dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dv(t,e)}function UA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(n),!0).forEach(function(r){fw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fw(t,e,n){return e=KV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KV(t){var e=gbe(t,"string");return eu(e)=="symbol"?e:e+""}function gbe(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ybe(t,e){return wbe(t)||bbe(t,e)||xbe(t,e)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xbe(t,e){if(t){if(typeof t=="string")return zA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(t,e)}}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function wbe(t){if(Array.isArray(t))return t}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}var _be=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):Ze(e)?r=e(n):r=B.createElement("line",Lv({},n,{className:"recharts-reference-line-line"})),r},Sbe=function(e,n,r,i,a,s,o,l,c){var u=a.x,d=a.y,h=a.width,p=a.height;if(r){var g=c.y,x=e.y.apply(g,{position:s});if($a(c,"discard")&&!e.y.isInRange(x))return null;var y=[{x:u+h,y:x},{x:u,y:x}];return l==="left"?y.reverse():y}if(n){var v=c.x,b=e.x.apply(v,{position:s});if($a(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+p},{x:b,y:d}];return o==="top"?w.reverse():w}if(i){var S=c.segment,E=S.map(function(P){return e.apply(P,{position:s})});return $a(c,"discard")&&H8e(E,function(P){return!e.isInRange(P)})?null:E}return null};function Ebe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=ibe(),u=WV(i),d=HV(a),h=obe();if(!c||!h)return null;p0(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=ow({x:u.scale,y:d.scale}),g=An(e),x=An(n),y=r&&r.length===2,v=Sbe(p,g,x,y,h,t.position,u.orientation,d.orientation,t);if(!v)return null;var b=ybe(v,2),w=b[0],S=w.x,E=w.y,P=b[1],_=P.x,k=P.y,N=$a(t,"hidden")?"url(#".concat(c,")"):void 0,A=BA(BA({clipPath:N},st(t,!0)),{},{x1:S,y1:E,x2:_,y2:k});return B.createElement(Jt,{className:yt("recharts-reference-line",o)},_be(s,A),ir.renderCallByParent(t,Mxe({x1:S,y1:E,x2:_,y2:k})))}var hw=function(t){function e(){return cbe(this,e),fbe(this,e,arguments)}return mbe(e,t),dbe(e,[{key:"render",value:function(){return B.createElement(Ebe,this.props)}}])}(B.Component);fw(hw,"displayName","ReferenceLine");fw(hw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(n),!0).forEach(function(r){U2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YV(r.key),r)}}function Tbe(t,e,n){return e&&Pbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nbe(t,e,n){return e=y1(e),Abe(t,QV()?Reflect.construct(e,n||[],y1(t).constructor):e.apply(t,n))}function Abe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ibe(t)}function Ibe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!t})()}function y1(t){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y1(t)}function Cbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vv(t,e)}function Vv(t,e){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vv(t,e)}function U2(t,e,n){return e=YV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YV(t){var e=Obe(t,"string");return tu(e)=="symbol"?e:e+""}function Obe(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jbe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=ow({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return $a(e,"discard")&&!s.isInRange(o)?null:o},B2=function(t){function e(){return kbe(this,e),Nbe(this,e,arguments)}return Cbe(e,t),Tbe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=An(i),u=An(a);if(p0(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=jbe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,x=g.shape,y=g.className,v=$a(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=WA(WA({clipPath:v},st(this.props,!0)),{},{cx:h,cy:p});return B.createElement(Jt,{className:yt("recharts-reference-dot",y)},e.renderDot(x,b),ir.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(B.Component);U2(B2,"displayName","ReferenceDot");U2(B2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});U2(B2,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Ze(t)?n=t(e):n=B.createElement(sw,Fv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function HA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(n),!0).forEach(function(r){z2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JV(r.key),r)}}function $be(t,e,n){return e&&Mbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dbe(t,e,n){return e=v1(e),Lbe(t,XV()?Reflect.construct(e,n||[],v1(t).constructor):e.apply(t,n))}function Lbe(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fbe(t)}function Fbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XV=function(){return!!t})()}function v1(t){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v1(t)}function Vbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bv(t,e)}function z2(t,e,n){return e=JV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JV(t){var e=Ube(t,"string");return nu(e)=="symbol"?e:e+""}function Ube(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bbe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var h=ow({x:u.scale,y:d.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return $a(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:LV(p,g)},q2=function(t){function e(){return Rbe(this,e),Dbe(this,e,arguments)}return Vbe(e,t),$be(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;p0(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=An(i),h=An(a),p=An(s),g=An(o),x=this.props.shape;if(!d&&!h&&!p&&!g&&!x)return null;var y=Bbe(d,h,p,g,this.props);if(!y&&!x)return null;var v=$a(this.props,"hidden")?"url(#".concat(u,")"):void 0;return B.createElement(Jt,{className:yt("recharts-reference-area",l)},e.renderRect(x,GA(GA({clipPath:v},st(this.props,!0)),y)),ir.renderCallByParent(this.props,y))}}])}(B.Component);z2(q2,"displayName","ReferenceArea");z2(q2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});z2(q2,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Ze(t)?n=t(e):n=B.createElement(aw,Uv({},e,{className:"recharts-reference-area-rect"})),n});function ZV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function zbe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Dxe(r,n)}function qbe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function x1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Wbe(t,e){return ZV(t,e+1)}function Hbe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:ZV(r,c)};var x=l,y,v=function(){return y===void 0&&(y=n(g,x)),y},b=g.coordinate,w=l===0||x1(t,b,v,u,o);w||(l=0,u=s,c+=1),w&&(u=b+t*(v()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function KA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(n),!0).forEach(function(r){Gbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gbe(t,e,n){return e=Kbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kbe(t){var e=Qbe(t,"string");return Vh(e)=="symbol"?e:e+""}function Qbe(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ybe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],g,x=function(){return g===void 0&&(g=n(p,h)),g};if(h===s-1){var y=t*(p.coordinate+t*x()/2-l);a[h]=p=er(er({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else a[h]=p=er(er({},p),{},{tickCoord:p.coordinate});var v=x1(t,p.tickCoord,x,o,l);v&&(l=p.tickCoord-t*(x()/2+i),a[h]=er(er({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Xbe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=r[o-1],d=n(u,o-1),h=t*(u.coordinate+t*d/2-c);s[o-1]=u=er(er({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=x1(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),s[o-1]=er(er({},u),{},{isShow:!0}))}for(var g=a?o-1:o,x=function(b){var w=s[b],S,E=function(){return S===void 0&&(S=n(w,b)),S};if(b===0){var P=t*(w.coordinate-t*E()/2-l);s[b]=w=er(er({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else s[b]=w=er(er({},w),{},{tickCoord:w.coordinate});var _=x1(t,w.tickCoord,E,l,c);_&&(l=w.tickCoord+t*(E()/2+i),s[b]=er(er({},w),{},{isShow:!0}))},y=0;y<g;y++)x(y);return s}function pw(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ye(l)||Lu.isSsr)return Wbe(i,typeof l=="number"&&ye(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?wf(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(w,S){var E=Ze(c)?c(w.value,S):w.value;return p==="width"?zbe(wf(E,{fontSize:e,letterSpacing:n}),g,d):wf(E,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?Ki(i[1].coordinate-i[0].coordinate):1,v=qbe(a,y,p);return l==="equidistantPreserveStart"?Hbe(y,v,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Xbe(y,v,x,i,s,l==="preserveStartEnd"):h=Ybe(y,v,x,i,s),h.filter(function(b){return b.isShow}))}var Jbe=["viewBox"],Zbe=["viewBox"],ewe=["ticks"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(this,arguments)}function QA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(n),!0).forEach(function(r){mw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M6(t,e){if(t==null)return{};var n=twe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function twe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tU(r.key),r)}}function rwe(t,e,n){return e&&YA(t.prototype,e),n&&YA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iwe(t,e,n){return e=b1(e),awe(t,eU()?Reflect.construct(e,n||[],b1(t).constructor):e.apply(t,n))}function awe(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return swe(t)}function swe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!t})()}function b1(t){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b1(t)}function owe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}function zv(t,e){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zv(t,e)}function mw(t,e,n){return e=tU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tU(t){var e=lwe(t,"string");return ru(e)=="symbol"?e:e+""}function lwe(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bu=function(t){function e(n){var r;return nwe(this,e),r=iwe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return owe(e,t),rwe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=M6(r,Jbe),o=this.props,l=o.viewBox,c=M6(o,Zbe);return!bc(a,l)||!bc(s,c)||!bc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,p,g,x,y,v,b,w=d?-1:1,S=r.tickSize||u,E=ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=g=r.coordinate,y=s+ +!d*l,x=y-w*S,b=x-w*h,v=E;break;case"left":x=y=r.coordinate,g=a+ +!d*o,p=g-w*S,v=p-w*h,b=E;break;case"right":x=y=r.coordinate,g=a+ +d*o,p=g+w*S,v=p+w*h,b=E;break;default:p=g=r.coordinate,y=s+ +d*l,x=y+w*S,b=x+w*h,v=E;break}return{line:{x1:p,y1:x,x2:g,y2:y},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=kn(kn(kn({},st(this.props,!1)),st(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=kn(kn({},d),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=kn(kn({},d),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return B.createElement("line",tc({},d,{className:yt("recharts-cartesian-axis-line",Ai(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,p=pw(kn(kn({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=st(this.props,!1),v=st(u,!1),b=kn(kn({},y),{},{fill:"none"},st(l,!1)),w=p.map(function(S,E){var P=s.getTickLineCoord(S),_=P.line,k=P.tick,N=kn(kn(kn(kn({textAnchor:g,verticalAnchor:x},y),{},{stroke:"none",fill:c},v),k),{},{index:E,payload:S,visibleTicksCount:p.length,tickFormatter:d});return B.createElement(Jt,tc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Tm(s.props,S,E)),l&&B.createElement("line",tc({},b,_,{className:yt("recharts-cartesian-axis-tick-line",Ai(l,"className"))})),u&&e.renderTickItem(u,N,"".concat(Ze(d)?d(S.value,E):S.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,p=M6(d,ewe),g=h;return Ze(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:B.createElement(Jt,{className:yt("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=yt(i.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?s=B.cloneElement(r,kn(kn({},i),{},{className:o})):Ze(r)?s=r(kn(kn({},i),{},{className:o})):s=B.createElement(Um,tc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(R.Component);mw(Bu,"displayName","CartesianAxis");mw(Bu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cwe=["x1","y1","x2","y2","key"],uwe=["offset"];function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){dwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dwe(t,e,n){return e=fwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fwe(t){var e=hwe(t,"string");return sl(e)=="symbol"?e:e+""}function hwe(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ao(){return Ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ao.apply(this,arguments)}function JA(t,e){if(t==null)return{};var n=pwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mwe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return B.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function nU(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Ze(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=JA(e,cwe),c=st(l,!1);c.offset;var u=JA(c,uwe);n=B.createElement("line",Ao({},u,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function gwe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=ar(ar({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return nU(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function ywe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=ar(ar({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return nU(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function vwe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],x=g?i+s-h:u[p+1]-h;if(x<=0)return null;var y=p%e.length;return B.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:x,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function xwe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],x=g?a+o-h:u[p+1]-h;if(x<=0)return null;var y=p%r.length;return B.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:x,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var bwe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return fV(pw(ar(ar(ar({},Bu.defaultProps),r),{},{ticks:o0(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},wwe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return fV(pw(ar(ar(ar({},Bu.defaultProps),r),{},{ticks:o0(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},jl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rU(t){var e,n,r,i,a,s,o=uw(),l=dw(),c=lbe(),u=ar(ar({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:jl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:jl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:jl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:jl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:jl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:jl.verticalFill,x:ye(t.x)?t.x:c.left,y:ye(t.y)?t.y:c.top,width:ye(t.width)?t.width:c.width,height:ye(t.height)?t.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,x=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,b=abe(),w=sbe();if(!ye(p)||p<=0||!ye(g)||g<=0||!ye(d)||d!==+d||!ye(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||bwe,E=u.horizontalCoordinatesGenerator||wwe,P=u.horizontalPoints,_=u.verticalPoints;if((!P||!P.length)&&Ze(E)){var k=y&&y.length,N=E({yAxis:w?ar(ar({},w),{},{ticks:k?y:w.ticks}):void 0,width:o,height:l,offset:c},k?!0:x);p0(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sl(N),"]")),Array.isArray(N)&&(P=N)}if((!_||!_.length)&&Ze(S)){var A=v&&v.length,I=S({xAxis:b?ar(ar({},b),{},{ticks:A?v:b.ticks}):void 0,width:o,height:l,offset:c},A?!0:x);p0(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sl(I),"]")),Array.isArray(I)&&(_=I)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(mwe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),B.createElement(gwe,Ao({},u,{offset:c,horizontalPoints:P,xAxis:b,yAxis:w})),B.createElement(ywe,Ao({},u,{offset:c,verticalPoints:_,xAxis:b,yAxis:w})),B.createElement(vwe,Ao({},u,{horizontalPoints:P})),B.createElement(xwe,Ao({},u,{verticalPoints:_})))}rU.displayName="CartesianGrid";var _we=["layout","type","stroke","connectNulls","isRange","ref"],Swe=["key"],iU;function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function aU(t,e){if(t==null)return{};var n=Ewe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ewe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Io(){return Io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Io.apply(this,arguments)}function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){ka(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oU(r.key),r)}}function Pwe(t,e,n){return e&&eI(t.prototype,e),n&&eI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Twe(t,e,n){return e=w1(e),Nwe(t,sU()?Reflect.construct(e,n||[],w1(t).constructor):e.apply(t,n))}function Nwe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Awe(t)}function Awe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!t})()}function w1(t){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w1(t)}function Iwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qv(t,e)}function ka(t,e,n){return e=oU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oU(t){var e=Cwe(t,"string");return iu(e)=="symbol"?e:e+""}function Cwe(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var to=function(t){function e(){var n;kwe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Twe(this,e,[].concat(i)),ka(n,"state",{isAnimationFinished:!0}),ka(n,"id",w4("recharts-area-")),ka(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ze(s)&&s()}),ka(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ze(s)&&s()}),n}return Iwe(e,t),Pwe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=st(this.props,!1),p=st(c,!0),g=u.map(function(y,v){var b=H0(H0(H0({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:y.x,cy:y.y,dataKey:d,value:y.value,payload:y.payload,points:u});return e.renderDotItem(c,b)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return B.createElement(Jt,Io({className:"recharts-area-dots"},x),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),d=cs(s.map(function(h){return h.y||0}));return ye(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(cs(a.map(function(h){return h.y||0})),d)),ye(d)?B.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),d=cs(s.map(function(h){return h.x||0}));return ye(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(cs(a.map(function(h){return h.x||0})),d)),ye(d)?B.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,d=o.connectNulls,h=o.isRange;o.ref;var p=aU(o,_we);return B.createElement(Jt,{clipPath:a?"url(#clipPath-".concat(s,")"):null},B.createElement(Ef,Io({},st(p,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&B.createElement(Ef,Io({},st(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&h&&B.createElement(Ef,Io({},st(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,x=g.prevPoints,y=g.prevBaseLine;return B.createElement(T0,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(x){var w=x.length/o.length,S=o.map(function(k,N){var A=Math.floor(N*w);if(x[A]){var I=x[A],j=xi(I.x,k.x),O=xi(I.y,k.y);return H0(H0({},k),{},{x:j(b),y:O(b)})}return k}),E;if(ye(l)&&typeof l=="number"){var P=xi(y,l);E=P(b)}else if(dt(l)||Ru(l)){var _=xi(y,0);E=_(b)}else E=l.map(function(k,N){var A=Math.floor(N*w);if(y[A]){var I=y[A],j=xi(I.x,k.x),O=xi(I.y,k.y);return H0(H0({},k),{},{x:j(b),y:O(b)})}return k});return a.renderAreaStatically(S,E,r,i)}return B.createElement(Jt,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),B.createElement(Jt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!xh(u,s)||!xh(d,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,p=i.width,g=i.height,x=i.isAnimationActive,y=i.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=o.length===1,w=yt("recharts-area",l),S=d&&d.allowDataOverflow,E=h&&h.allowDataOverflow,P=S||E,_=dt(y)?this.id:y,k=(r=st(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=k.r,A=N===void 0?3:N,I=k.strokeWidth,j=I===void 0?2:I,O=zoe(s)?s:{},$=O.clipDot,M=$===void 0?!0:$,D=A*2+j;return B.createElement(Jt,{className:w},S||E?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(_)},B.createElement("rect",{x:S?u:u-p/2,y:E?c:c-g/2,width:S?p:p*2,height:E?g:g*2})),!M&&B.createElement("clipPath",{id:"clipPath-dots-".concat(_)},B.createElement("rect",{x:u-D/2,y:c-D/2,width:p+D,height:g+D}))):null,b?null:this.renderArea(P,_),(s||b)&&this.renderDots(P,M,_),(!x||v)&&Ns.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(R.PureComponent);iU=to;ka(to,"displayName","Area");ka(to,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Lu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ka(to,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(ye(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});ka(to,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=e.layout,g=c&&c.length,x=iU.getBaseValue(e,n,r,i),y=p==="horizontal",v=!1,b=d.map(function(S,E){var P;g?P=c[u+E]:(P=oi(S,l),Array.isArray(P)?v=!0:P=[x,P]);var _=P[1]==null||g&&oi(S,l)==null;return y?{x:LN({axis:r,ticks:a,bandSize:o,entry:S,index:E}),y:_?null:i.scale(P[1]),value:P,payload:S}:{x:_?null:r.scale(P[1]),y:LN({axis:i,ticks:s,bandSize:o,entry:S,index:E}),value:P,payload:S}}),w;return g||v?w=b.map(function(S){var E=Array.isArray(S.value)?S.value[0]:null;return y?{x:S.x,y:E!=null&&S.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:S.y}}):w=y?i.scale(x):r.scale(x),H0({points:b,baseLine:w,layout:p,isRange:v},h)});ka(to,"renderDotItem",function(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Ze(t))n=t(e);else{var r=yt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=aU(e,Swe);n=B.createElement(sw,Io({},a,{key:i,className:r}))}return n});function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function Owe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uU(r.key),r)}}function Rwe(t,e,n){return e&&jwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mwe(t,e,n){return e=_1(e),$we(t,lU()?Reflect.construct(e,n||[],_1(t).constructor):e.apply(t,n))}function $we(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dwe(t)}function Dwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lU=function(){return!!t})()}function _1(t){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_1(t)}function Lwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}function Wv(t,e){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wv(t,e)}function cU(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=Fwe(t,"string");return au(e)=="symbol"?e:e+""}function Fwe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(this,arguments)}function Vwe(t){var e=t.xAxisId,n=uw(),r=dw(),i=WV(e);return i==null?null:R.createElement(Bu,Hv({},i,{className:yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return o0(s,!0)}}))}var W2=function(t){function e(){return Owe(this,e),Mwe(this,e,arguments)}return Lwe(e,t),Rwe(e,[{key:"render",value:function(){return R.createElement(Vwe,this.props)}}])}(R.Component);cU(W2,"displayName","XAxis");cU(W2,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function Uwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hU(r.key),r)}}function zwe(t,e,n){return e&&Bwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qwe(t,e,n){return e=S1(e),Wwe(t,dU()?Reflect.construct(e,n||[],S1(t).constructor):e.apply(t,n))}function Wwe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hwe(t)}function Hwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dU=function(){return!!t})()}function S1(t){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S1(t)}function Gwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gv(t,e)}function Gv(t,e){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gv(t,e)}function fU(t,e,n){return e=hU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hU(t){var e=Kwe(t,"string");return su(e)=="symbol"?e:e+""}function Kwe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(this,arguments)}var Qwe=function(e){var n=e.yAxisId,r=uw(),i=dw(),a=HV(n);return a==null?null:R.createElement(Bu,Kv({},a,{className:yt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return o0(o,!0)}}))},H2=function(t){function e(){return Uwe(this,e),qwe(this,e,arguments)}return Gwe(e,t),zwe(e,[{key:"render",value:function(){return R.createElement(Qwe,this.props)}}])}(R.Component);fU(H2,"displayName","YAxis");fU(H2,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tI(t){return Zwe(t)||Jwe(t)||Xwe(t)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xwe(t,e){if(t){if(typeof t=="string")return Qv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qv(t,e)}}function Jwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zwe(t){if(Array.isArray(t))return Qv(t)}function Qv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yv=function(e,n,r,i,a){var s=ra(e,hw),o=ra(e,B2),l=[].concat(tI(s),tI(o)),c=ra(e,q2),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(x,y){if(y.props[u]===r&&$a(y.props,"extendDomain")&&ye(y.props[d])){var v=y.props[d];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(x,y){if(y.props[u]===r&&$a(y.props,"extendDomain")&&ye(y.props[p])&&ye(y.props[g])){var v=y.props[p],b=y.props[g];return[Math.min(x[0],v,b),Math.max(x[1],v,b)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,y){return ye(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},h)),h},pU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,p,g){var x=n?n+c:c;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,p),!0;case 6:return y.fn.call(y.context,u,d,h,p,g),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,E;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,h);break;default:if(!b)for(E=1,b=new Array(v-1);E<v;E++)b[E-1]=arguments[E];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var x=0,y=[],v=g.length;x<v;x++)(g[x].fn!==u||h&&!g[x].once||d&&g[x].context!==d)&&y.push(g[x]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(pU);var e_e=pU.exports;const t_e=$t(e_e);var $6=new t_e,D6="recharts.syncMouseEvents";function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function n_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mU(r.key),r)}}function i_e(t,e,n){return e&&r_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L6(t,e,n){return e=mU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mU(t){var e=a_e(t,"string");return Uh(e)=="symbol"?e:e+""}function a_e(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var s_e=function(){function t(){n_e(this,t),L6(this,"activeIndex",0),L6(this,"coordinateList",[]),L6(this,"layout","horizontal")}return i_e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function o_e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ye(r)&&ye(i))return!0}return!1}function l_e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function gU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Gn(e,n,r,i),o=Gn(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function c_e(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=Gn(o,l,c,d),p=Gn(o,l,u,d);r=h.x,i=h.y,a=p.x,s=p.y}else return gU(e);return[{x:r,y:i},{x:a,y:s}]}function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){u_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u_e(t,e,n){return e=d_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d_e(t){var e=f_e(t,"string");return Bh(e)=="symbol"?e:e+""}function f_e(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h_e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,x=Ef;if(h==="ScatterChart")g=s,x=g9e;else if(h==="BarChart")g=l_e(d,s,l,u),x=aw;else if(d==="radial"){var y=gU(s),v=y.cx,b=y.cy,w=y.radius,S=y.startAngle,E=y.endAngle;g={cx:v,cy:b,startAngle:S,endAngle:E,innerRadius:w,outerRadius:w},x=yV}else g={points:c_e(d,s,l)},x=Ef;var P=Op(Op(Op(Op({stroke:"#ccc",pointerEvents:"none"},l),g),st(p,!1)),{},{payload:o,payloadIndex:c,className:yt("recharts-tooltip-cursor",p.className)});return R.isValidElement(p)?R.cloneElement(p,P):R.createElement(x,P)}var p_e=["item"],m_e=["children","className","width","height","style","compact","title","desc"];function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}function rI(t,e){return v_e(t)||y_e(t,e)||vU(t,e)||g_e()}function g_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function v_e(t){if(Array.isArray(t))return t}function iI(t,e){if(t==null)return{};var n=x_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xU(r.key),r)}}function __e(t,e,n){return e&&w_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S_e(t,e,n){return e=E1(e),E_e(t,yU()?Reflect.construct(e,n||[],E1(t).constructor):e.apply(t,n))}function E_e(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k_e(t)}function k_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yU=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E1(t)}function P_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xv(t,e)}function Xv(t,e){return Xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xv(t,e)}function lu(t){return A_e(t)||N_e(t)||vU(t)||T_e()}function T_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vU(t,e){if(t){if(typeof t=="string")return Jv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jv(t,e)}}function N_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A_e(t){if(Array.isArray(t))return Jv(t)}function Jv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){Be(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Be(t,e,n){return e=xU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xU(t){var e=I_e(t,"string");return ou(e)=="symbol"?e:e+""}function I_e(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C_e={xAxis:["bottom","top"],yAxis:["left","right"]},O_e={width:"100%",height:"100%"},bU={x:0,y:0};function jp(t){return t}var j_e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},R_e=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return re(re(re({},i),Gn(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return re(re(re({},i),Gn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return bU},G2=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(lu(o),lu(c)):o},[]);return s.length>0?s:e&&e.length&&ye(i)&&ye(a)?e.slice(i,a+1):[]};function wU(t){return t==="number"?[0,"auto"]:void 0}var Zv=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=G2(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=km(p,s.dataKey,i)}else h=d&&d[r]||o[r];return h?[].concat(lu(l),[pV(c,h)]):l},[])},sI=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=j_e(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=K6e(s,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=Zv(e,n,u,d),p=R_e(r,o,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},M_e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,p=dV(u,a);return r.reduce(function(g,x){var y,v=x.type.defaultProps!==void 0?re(re({},x.type.defaultProps),x.props):x.props,b=v.type,w=v.dataKey,S=v.allowDataOverflow,E=v.allowDuplicatedCategory,P=v.scale,_=v.ticks,k=v.includeHidden,N=v[s];if(g[N])return g;var A=G2(e.data,{graphicalItems:i.filter(function(H){var te,ue=s in H.props?H.props[s]:(te=H.type.defaultProps)===null||te===void 0?void 0:te[s];return ue===N}),dataStartIndex:l,dataEndIndex:c}),I=A.length,j,O,$;o_e(v.domain,S,b)&&(j=vv(v.domain,null,S),p&&(b==="number"||P!=="auto")&&($=Sf(A,w,"category")));var M=wU(b);if(!j||j.length===0){var D,V=(D=v.domain)!==null&&D!==void 0?D:M;if(w){if(j=Sf(A,w,b),b==="category"&&p){var F=joe(j);E&&F?(O=j,j=d1(0,I)):E||(j=BN(V,j,x).reduce(function(H,te){return H.indexOf(te)>=0?H:[].concat(lu(H),[te])},[]))}else if(b==="category")E?j=j.filter(function(H){return H!==""&&!dt(H)}):j=BN(V,j,x).reduce(function(H,te){return H.indexOf(te)>=0||te===""||dt(te)?H:[].concat(lu(H),[te])},[]);else if(b==="number"){var U=Z6e(A,i.filter(function(H){var te,ue,me=s in H.props?H.props[s]:(te=H.type.defaultProps)===null||te===void 0?void 0:te[s],Z="hide"in H.props?H.props.hide:(ue=H.type.defaultProps)===null||ue===void 0?void 0:ue.hide;return me===N&&(k||!Z)}),w,a,u);U&&(j=U)}p&&(b==="number"||P!=="auto")&&($=Sf(A,w,"category"))}else p?j=d1(0,I):o&&o[N]&&o[N].hasStack&&b==="number"?j=h==="expand"?[0,1]:hV(o[N].stackGroups,l,c):j=uV(A,i.filter(function(H){var te=s in H.props?H.props[s]:H.type.defaultProps[s],ue="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return te===N&&(k||!ue)}),b,u,!0);if(b==="number")j=Yv(d,j,N,a,_),V&&(j=vv(V,j,S));else if(b==="category"&&V){var W=V,G=j.every(function(H){return W.indexOf(H)>=0});G&&(j=W)}}return re(re({},g),{},Be({},N,re(re({},v),{},{axisType:a,domain:j,categoricalDomain:$,duplicateDomain:O,originalDomain:(y=v.domain)!==null&&y!==void 0?y:M,isCategorical:p,layout:u})))},{})},$_e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=G2(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=dV(u,a),x=-1;return r.reduce(function(y,v){var b=v.type.defaultProps!==void 0?re(re({},v.type.defaultProps),v.props):v.props,w=b[s],S=wU("number");if(!y[w]){x++;var E;return g?E=d1(0,p):o&&o[w]&&o[w].hasStack?(E=hV(o[w].stackGroups,l,c),E=Yv(d,E,w,a)):(E=vv(S,uV(h,r.filter(function(P){var _,k,N=s in P.props?P.props[s]:(_=P.type.defaultProps)===null||_===void 0?void 0:_[s],A="hide"in P.props?P.props.hide:(k=P.type.defaultProps)===null||k===void 0?void 0:k.hide;return N===w&&!A}),"number",u),i.defaultProps.allowDataOverflow),E=Yv(d,E,w,a)),re(re({},y),{},Be({},w,re(re({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ai(C_e,"".concat(a,".").concat(x%2),null),domain:E,originalDomain:S,isCategorical:g,layout:u})))}return y},{})},D_e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=ra(u,a),p={};return h&&h.length?p=M_e(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=$_e(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},L_e=function(e){var n=is(e),r=o0(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Ob(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:t1(n,r)}},oI=function(e){var n=e.children,r=e.defaultShowTooltip,i=Kr(n,Jc),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},F_e=function(e){return!e||!e.length?!1:e.some(function(n){var r=h0(n&&n.type);return r&&r.indexOf("Bar")>=0})},lI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},V_e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,h=r.margin||{},p=Kr(d,Jc),g=Kr(d,wc),x=Object.keys(l).reduce(function(E,P){var _=l[P],k=_.orientation;return!_.mirror&&!_.hide?re(re({},E),{},Be({},k,E[k]+_.width)):E},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(E,P){var _=s[P],k=_.orientation;return!_.mirror&&!_.hide?re(re({},E),{},Be({},k,Ai(E,"".concat(k))+_.height)):E},{top:h.top||0,bottom:h.bottom||0}),v=re(re({},y),x),b=v.bottom;p&&(v.bottom+=p.props.height||Jc.defaultProps.height),g&&n&&(v=X6e(v,i,r,n));var w=c-v.left-v.right,S=u-v.top-v.bottom;return re(re({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(S,0)})},U_e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},B_e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(v,b){var w=b.graphicalItems,S=b.stackGroups,E=b.offset,P=b.updateId,_=b.dataStartIndex,k=b.dataEndIndex,N=v.barSize,A=v.layout,I=v.barGap,j=v.barCategoryGap,O=v.maxBarSize,$=lI(A),M=$.numericAxisName,D=$.cateAxisName,V=F_e(w),F=[];return w.forEach(function(U,W){var G=G2(v.data,{graphicalItems:[U],dataStartIndex:_,dataEndIndex:k}),H=U.type.defaultProps!==void 0?re(re({},U.type.defaultProps),U.props):U.props,te=H.dataKey,ue=H.maxBarSize,me=H["".concat(M,"Id")],Z=H["".concat(D,"Id")],_e={},Ce=l.reduce(function(Y,de){var Ie=b["".concat(de.axisType,"Map")],bt=H["".concat(de.axisType,"Id")];Ie&&Ie[bt]||de.axisType==="zAxis"||al();var Ye=Ie[bt];return re(re({},Y),{},Be(Be({},de.axisType,Ye),"".concat(de.axisType,"Ticks"),o0(Ye)))},_e),se=Ce[D],ve=Ce["".concat(D,"Ticks")],X=S&&S[me]&&S[me].hasStack&&dye(U,S[me].stackGroups),q=h0(U.type).indexOf("Bar")>=0,fe=t1(se,ve),Pe=[],ge=V&&Q6e({barSize:N,stackGroups:S,totalSize:U_e(Ce,D)});if(q){var we,Ue,St=dt(ue)?O:ue,$e=(we=(Ue=t1(se,ve,!0))!==null&&Ue!==void 0?Ue:St)!==null&&we!==void 0?we:0;Pe=Y6e({barGap:I,barCategoryGap:j,bandSize:$e!==fe?$e:fe,sizeList:ge[Z],maxBarSize:St}),$e!==fe&&(Pe=Pe.map(function(Y){return re(re({},Y),{},{position:re(re({},Y.position),{},{offset:Y.position.offset-$e/2})})}))}var He=U&&U.type&&U.type.getComposedData;He&&F.push({props:re(re({},He(re(re({},Ce),{},{displayedData:G,props:v,dataKey:te,item:U,bandSize:fe,barPosition:Pe,offset:E,stackedData:X,layout:A,dataStartIndex:_,dataEndIndex:k}))),{},Be(Be(Be({key:U.key||"item-".concat(W)},M,Ce[M]),D,Ce[D]),"animationId",P)),childIndex:Hoe(U,v.children),item:U})}),F},p=function(v,b){var w=v.props,S=v.dataStartIndex,E=v.dataEndIndex,P=v.updateId;if(!MP({props:w}))return null;var _=w.children,k=w.layout,N=w.stackOffset,A=w.data,I=w.reverseStackOrder,j=lI(k),O=j.numericAxisName,$=j.cateAxisName,M=ra(_,r),D=lye(A,M,"".concat(O,"Id"),"".concat($,"Id"),N,I),V=l.reduce(function(H,te){var ue="".concat(te.axisType,"Map");return re(re({},H),{},Be({},ue,D_e(w,re(re({},te),{},{graphicalItems:M,stackGroups:te.axisType===O&&D,dataStartIndex:S,dataEndIndex:E}))))},{}),F=V_e(re(re({},V),{},{props:w,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(V).forEach(function(H){V[H]=u(w,V[H],F,H.replace("Map",""),n)});var U=V["".concat($,"Map")],W=L_e(U),G=h(w,re(re({},V),{},{dataStartIndex:S,dataEndIndex:E,updateId:P,graphicalItems:M,stackGroups:D,offset:F}));return re(re({formattedGraphicalItems:G,graphicalItems:M,offset:F,stackGroups:D},W),V)},g=function(y){function v(b){var w,S,E;return b_e(this,v),E=S_e(this,v,[b]),Be(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(E,"accessibilityManager",new s_e),Be(E,"handleLegendBBoxUpdate",function(P){if(P){var _=E.state,k=_.dataStartIndex,N=_.dataEndIndex,A=_.updateId;E.setState(re({legendBBox:P},p({props:E.props,dataStartIndex:k,dataEndIndex:N,updateId:A},re(re({},E.state),{},{legendBBox:P}))))}}),Be(E,"handleReceiveSyncEvent",function(P,_,k){if(E.props.syncId===P){if(k===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),Be(E,"handleBrushChange",function(P){var _=P.startIndex,k=P.endIndex;if(_!==E.state.dataStartIndex||k!==E.state.dataEndIndex){var N=E.state.updateId;E.setState(function(){return re({dataStartIndex:_,dataEndIndex:k},p({props:E.props,dataStartIndex:_,dataEndIndex:k,updateId:N},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:k})}}),Be(E,"handleMouseEnter",function(P){var _=E.getMouseInfo(P);if(_){var k=re(re({},_),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var N=E.props.onMouseEnter;Ze(N)&&N(k,P)}}),Be(E,"triggeredAfterMouseMove",function(P){var _=E.getMouseInfo(P),k=_?re(re({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(k),E.triggerSyncEvent(k);var N=E.props.onMouseMove;Ze(N)&&N(k,P)}),Be(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Be(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Be(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),Be(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var k=E.props.onMouseLeave;Ze(k)&&k(_,P)}),Be(E,"handleOuterEvent",function(P){var _=Woe(P),k=Ai(E.props,"".concat(_));if(_&&Ze(k)){var N,A;/.*touch.*/i.test(_)?A=E.getMouseInfo(P.changedTouches[0]):A=E.getMouseInfo(P),k((N=A)!==null&&N!==void 0?N:{},P)}}),Be(E,"handleClick",function(P){var _=E.getMouseInfo(P);if(_){var k=re(re({},_),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var N=E.props.onClick;Ze(N)&&N(k,P)}}),Be(E,"handleMouseDown",function(P){var _=E.props.onMouseDown;if(Ze(_)){var k=E.getMouseInfo(P);_(k,P)}}),Be(E,"handleMouseUp",function(P){var _=E.props.onMouseUp;if(Ze(_)){var k=E.getMouseInfo(P);_(k,P)}}),Be(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Be(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),Be(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),Be(E,"handleDoubleClick",function(P){var _=E.props.onDoubleClick;if(Ze(_)){var k=E.getMouseInfo(P);_(k,P)}}),Be(E,"handleContextMenu",function(P){var _=E.props.onContextMenu;if(Ze(_)){var k=E.getMouseInfo(P);_(k,P)}}),Be(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&$6.emit(D6,E.props.syncId,P,E.eventEmitterSymbol)}),Be(E,"applySyncEvent",function(P){var _=E.props,k=_.layout,N=_.syncMethod,A=E.state.updateId,I=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(re({dataStartIndex:I,dataEndIndex:j},p({props:E.props,dataStartIndex:I,dataEndIndex:j,updateId:A},E.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,$=P.chartY,M=P.activeTooltipIndex,D=E.state,V=D.offset,F=D.tooltipTicks;if(!V)return;if(typeof N=="function")M=N(F,P);else if(N==="value"){M=-1;for(var U=0;U<F.length;U++)if(F[U].value===P.activeLabel){M=U;break}}var W=re(re({},V),{},{x:V.left,y:V.top}),G=Math.min(O,W.x+W.width),H=Math.min($,W.y+W.height),te=F[M]&&F[M].value,ue=Zv(E.state,E.props.data,M),me=F[M]?{x:k==="horizontal"?F[M].coordinate:G,y:k==="horizontal"?H:F[M].coordinate}:bU;E.setState(re(re({},P),{},{activeLabel:te,activeCoordinate:me,activePayload:ue,activeTooltipIndex:M}))}else E.setState(P)}),Be(E,"renderCursor",function(P){var _,k=E.state,N=k.isTooltipActive,A=k.activeCoordinate,I=k.activePayload,j=k.offset,O=k.activeTooltipIndex,$=k.tooltipAxisBandSize,M=E.getTooltipEventType(),D=(_=P.props.active)!==null&&_!==void 0?_:N,V=E.props.layout,F=P.key||"_recharts-cursor";return B.createElement(h_e,{key:F,activeCoordinate:A,activePayload:I,activeTooltipIndex:O,chartName:n,element:P,isActive:D,layout:V,offset:j,tooltipAxisBandSize:$,tooltipEventType:M})}),Be(E,"renderPolarAxis",function(P,_,k){var N=Ai(P,"type.axisType"),A=Ai(E.state,"".concat(N,"Map")),I=P.type.defaultProps,j=I!==void 0?re(re({},I),P.props):P.props,O=A&&A[j["".concat(N,"Id")]];return R.cloneElement(P,re(re({},O),{},{className:yt(N,O.className),key:P.key||"".concat(_,"-").concat(k),ticks:o0(O,!0)}))}),Be(E,"renderPolarGrid",function(P){var _=P.props,k=_.radialLines,N=_.polarAngles,A=_.polarRadius,I=E.state,j=I.radiusAxisMap,O=I.angleAxisMap,$=is(j),M=is(O),D=M.cx,V=M.cy,F=M.innerRadius,U=M.outerRadius;return R.cloneElement(P,{polarAngles:Array.isArray(N)?N:o0(M,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(A)?A:o0($,!0).map(function(W){return W.coordinate}),cx:D,cy:V,innerRadius:F,outerRadius:U,key:P.key||"polar-grid",radialLines:k})}),Be(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,_=E.props,k=_.children,N=_.width,A=_.height,I=E.props.margin||{},j=N-(I.left||0)-(I.right||0),O=lV({children:k,formattedGraphicalItems:P,legendWidth:j,legendContent:c});if(!O)return null;var $=O.item,M=iI(O,p_e);return R.cloneElement($,re(re({},M),{},{chartWidth:N,chartHeight:A,margin:I,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Be(E,"renderTooltip",function(){var P,_=E.props,k=_.children,N=_.accessibilityLayer,A=Kr(k,pa);if(!A)return null;var I=E.state,j=I.isTooltipActive,O=I.activeCoordinate,$=I.activePayload,M=I.activeLabel,D=I.offset,V=(P=A.props.active)!==null&&P!==void 0?P:j;return R.cloneElement(A,{viewBox:re(re({},D),{},{x:D.left,y:D.top}),active:V,label:M,payload:V?$:[],coordinate:O,accessibilityLayer:N})}),Be(E,"renderBrush",function(P){var _=E.props,k=_.margin,N=_.data,A=E.state,I=A.offset,j=A.dataStartIndex,O=A.dataEndIndex,$=A.updateId;return R.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Np(E.handleBrushChange,P.props.onChange),data:N,x:ye(P.props.x)?P.props.x:I.left,y:ye(P.props.y)?P.props.y:I.top+I.height+I.brushBottom-(k.bottom||0),width:ye(P.props.width)?P.props.width:I.width,startIndex:j,endIndex:O,updateId:"brush-".concat($)})}),Be(E,"renderReferenceElement",function(P,_,k){if(!P)return null;var N=E,A=N.clipPathId,I=E.state,j=I.xAxisMap,O=I.yAxisMap,$=I.offset,M=P.type.defaultProps||{},D=P.props,V=D.xAxisId,F=V===void 0?M.xAxisId:V,U=D.yAxisId,W=U===void 0?M.yAxisId:U;return R.cloneElement(P,{key:P.key||"".concat(_,"-").concat(k),xAxis:j[F],yAxis:O[W],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:A})}),Be(E,"renderActivePoints",function(P){var _=P.item,k=P.activePoint,N=P.basePoint,A=P.childIndex,I=P.isRange,j=[],O=_.props.key,$=_.item.type.defaultProps!==void 0?re(re({},_.item.type.defaultProps),_.item.props):_.item.props,M=$.activeDot,D=$.dataKey,V=re(re({index:A,dataKey:D,cx:k.x,cy:k.y,r:4,fill:iw(_.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},st(M,!1)),Pm(M));return j.push(v.renderActiveDot(M,V,"".concat(O,"-activePoint-").concat(A))),N?j.push(v.renderActiveDot(M,re(re({},V),{},{cx:N.x,cy:N.y}),"".concat(O,"-basePoint-").concat(A))):I&&j.push(null),j}),Be(E,"renderGraphicChild",function(P,_,k){var N=E.filterFormatItem(P,_,k);if(!N)return null;var A=E.getTooltipEventType(),I=E.state,j=I.isTooltipActive,O=I.tooltipAxis,$=I.activeTooltipIndex,M=I.activeLabel,D=E.props.children,V=Kr(D,pa),F=N.props,U=F.points,W=F.isRange,G=F.baseLine,H=N.item.type.defaultProps!==void 0?re(re({},N.item.type.defaultProps),N.item.props):N.item.props,te=H.activeDot,ue=H.hide,me=H.activeBar,Z=H.activeShape,_e=!!(!ue&&j&&V&&(te||me||Z)),Ce={};A!=="axis"&&V&&V.props.trigger==="click"?Ce={onClick:Np(E.handleItemMouseEnter,P.props.onClick)}:A!=="axis"&&(Ce={onMouseLeave:Np(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Np(E.handleItemMouseEnter,P.props.onMouseEnter)});var se=R.cloneElement(P,re(re({},N.props),Ce));function ve(de){return typeof O.dataKey=="function"?O.dataKey(de.payload):null}if(_e)if($>=0){var X,q;if(O.dataKey&&!O.allowDuplicatedCategory){var fe=typeof O.dataKey=="function"?ve:"payload.".concat(O.dataKey.toString());X=km(U,fe,M),q=W&&G&&km(G,fe,M)}else X=U==null?void 0:U[$],q=W&&G&&G[$];if(Z||me){var Pe=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[R.cloneElement(P,re(re(re({},N.props),Ce),{},{activeIndex:Pe})),null,null]}if(!dt(X))return[se].concat(lu(E.renderActivePoints({item:N,activePoint:X,basePoint:q,childIndex:$,isRange:W})))}else{var ge,we=(ge=E.getItemByXY(E.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:se},Ue=we.graphicalItem,St=Ue.item,$e=St===void 0?P:St,He=Ue.childIndex,Y=re(re(re({},N.props),Ce),{},{activeIndex:He});return[R.cloneElement($e,Y),null,null]}return W?[se,null,null]:[se,null]}),Be(E,"renderCustomized",function(P,_,k){return R.cloneElement(P,re(re({key:"recharts-customized-".concat(k)},E.props),E.state))}),Be(E,"renderMap",{CartesianGrid:{handler:jp,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:jp},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:jp},YAxis:{handler:jp},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:w4("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=oF(E.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return P_e(v,y),__e(v,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,E=w.data,P=w.height,_=w.layout,k=Kr(S,pa);if(k){var N=k.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,I=Zv(this.state,E,N,A),j=this.state.tooltipTicks[N].coordinate,O=(this.state.offset.top+P)/2,$=_==="horizontal",M=$?{x:j,y:O}:{y:j,x:O},D=this.state.formattedGraphicalItems.find(function(F){var U=F.item;return U.type.name==="Scatter"});D&&(M=re(re({},M),D.props.points[N].tooltipPosition),I=D.props.points[N].tooltipPayload);var V={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:A,activePayload:I,activeCoordinate:M};this.setState(V),this.renderCursor(k),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){j7([Kr(w.children,pa)],[Kr(this.props.children,pa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Kr(this.props.children,pa);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),P=x1e(E),_={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},k=E.width/S.offsetWidth||1,N=this.inRange(_.chartX,_.chartY,k);if(!N)return null;var A=this.state,I=A.xAxisMap,j=A.yAxisMap,O=this.getTooltipEventType(),$=sI(this.state,this.props.data,this.props.layout,N);if(O!=="axis"&&I&&j){var M=is(I).scale,D=is(j).scale,V=M&&M.invert?M.invert(_.chartX):null,F=D&&D.invert?D.invert(_.chartY):null;return re(re({},_),{},{xValue:V,yValue:F},$)}return $?re(re({},_),$):null}},{key:"inRange",value:function(w,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,_=w/E,k=S/E;if(P==="horizontal"||P==="vertical"){var N=this.state.offset,A=_>=N.left&&_<=N.left+N.width&&k>=N.top&&k<=N.top+N.height;return A?{x:_,y:k}:null}var I=this.state,j=I.angleAxisMap,O=I.radiusAxisMap;if(j&&O){var $=is(j);return WN({x:_,y:k},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),E=Kr(w,pa),P={};E&&S==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Pm(this.props,this.handleOuterEvent);return re(re({},_),P)}},{key:"addListener",value:function(){$6.on(D6,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$6.removeListener(D6,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,E){for(var P=this.state.formattedGraphicalItems,_=0,k=P.length;_<k;_++){var N=P[_];if(N.item===w||N.props.key===w.key||S===h0(N.item.type)&&E===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,E=S.left,P=S.top,_=S.height,k=S.width;return B.createElement("defs",null,B.createElement("clipPath",{id:w},B.createElement("rect",{x:E,y:P,height:_,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,E){var P=rI(E,2),_=P[0],k=P[1];return re(re({},S),{},Be({},_,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,E){var P=rI(E,2),_=P[0],k=P[1];return re(re({},S),{},Be({},_,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,E=S.formattedGraphicalItems,P=S.activeItem;if(E&&E.length)for(var _=0,k=E.length;_<k;_++){var N=E[_],A=N.props,I=N.item,j=I.type.defaultProps!==void 0?re(re({},I.type.defaultProps),I.props):I.props,O=h0(I.type);if(O==="Bar"){var $=(A.data||[]).find(function(F){return s9e(w,F)});if($)return{graphicalItem:N,payload:$}}else if(O==="RadialBar"){var M=(A.data||[]).find(function(F){return WN(w,F)});if(M)return{graphicalItem:N,payload:M}}else if(L2(N,P)||F2(N,P)||$h(N,P)){var D=c8e({graphicalItem:N,activeTooltipItem:P,itemData:j.data}),V=j.activeIndex===void 0?D:j.activeIndex;return{graphicalItem:re(re({},N),{},{childIndex:V}),payload:$h(N,P)?j.data[D]:N.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!MP(this))return null;var S=this.props,E=S.children,P=S.className,_=S.width,k=S.height,N=S.style,A=S.compact,I=S.title,j=S.desc,O=iI(S,m_e),$=st(O,!1);if(A)return B.createElement(VA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(M7,nc({},$,{width:_,height:k,title:I,desc:j}),this.renderClipPath(),DP(E,this.renderMap)));if(this.props.accessibilityLayer){var M,D;$.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,$.role=(D=this.props.role)!==null&&D!==void 0?D:"application",$.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},$.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return B.createElement(VA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",nc({className:yt("recharts-wrapper",P),style:re({position:"relative",cursor:"default",width:_,height:k},N)},V,{ref:function(U){w.container=U}}),B.createElement(M7,nc({},$,{width:_,height:k,title:I,desc:j,style:O_e}),this.renderClipPath(),DP(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);Be(g,"displayName",n),Be(g,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Be(g,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,w=y.data,S=y.children,E=y.width,P=y.height,_=y.layout,k=y.stackOffset,N=y.margin,A=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var j=oI(y);return re(re(re({},j),{},{updateId:0},p(re(re({props:y},j),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:w,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:k,prevMargin:N,prevChildren:S})}if(b!==v.prevDataKey||w!==v.prevData||E!==v.prevWidth||P!==v.prevHeight||_!==v.prevLayout||k!==v.prevStackOffset||!bc(N,v.prevMargin)){var O=oI(y),$={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},M=re(re({},sI(v,w,_)),{},{updateId:v.updateId+1}),D=re(re(re({},O),$),M);return re(re(re({},D),p(re({props:y},D),v)),{},{prevDataKey:b,prevData:w,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:k,prevMargin:N,prevChildren:S})}if(!j7(S,v.prevChildren)){var V,F,U,W,G=Kr(S,Jc),H=G&&(V=(F=G.props)===null||F===void 0?void 0:F.startIndex)!==null&&V!==void 0?V:A,te=G&&(U=(W=G.props)===null||W===void 0?void 0:W.endIndex)!==null&&U!==void 0?U:I,ue=H!==A||te!==I,me=!dt(w),Z=me&&!ue?v.updateId:v.updateId+1;return re(re({updateId:Z},p(re(re({props:y},v),{},{updateId:Z,dataStartIndex:H,dataEndIndex:te}),v)),{},{prevChildren:S,dataStartIndex:H,dataEndIndex:te})}return null}),Be(g,"renderActiveDot",function(y,v,b){var w;return R.isValidElement(y)?w=R.cloneElement(y,v):Ze(y)?w=y(v):w=B.createElement(sw,v),B.createElement(Jt,{className:"recharts-active-dot",key:b},w)});var x=R.forwardRef(function(v,b){return B.createElement(g,nc({},v,{ref:b}))});return x.displayName=g.displayName,x},z_e=B_e({chartName:"AreaChart",GraphicalChild:to,axisComponents:[{axisType:"xAxis",AxisComp:W2},{axisType:"yAxis",AxisComp:H2}],formatAxisMap:Rxe});const _U=6048e5,q_e=864e5,SU=6e4,EU=36e5,cI=Symbol.for("constructDateFrom");function li(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&cI in t?t[cI](e):t instanceof Date?new t.constructor(e):new Date(e)}function Vt(t,e){return li(e||t,t)}function kU(t,e,n){const r=Vt(t,n==null?void 0:n.in);return isNaN(e)?li(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function v3(t,e,n){const r=Vt(t,n==null?void 0:n.in);if(isNaN(e))return li(t,NaN);if(!e)return r;const i=r.getDate(),a=li(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let W_e={};function K2(){return W_e}function cu(t,e){var o,l,c,u;const n=K2(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Vt(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function k1(t,e){return cu(t,{...e,weekStartsOn:1})}function PU(t,e){const n=Vt(t,e==null?void 0:e.in),r=n.getFullYear(),i=li(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=k1(i),s=li(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=k1(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function uI(t){const e=Vt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function N4(t,...e){const n=li.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function l0(t,e){const n=Vt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function TU(t,e,n){const[r,i]=N4(n==null?void 0:n.in,t,e),a=l0(r),s=l0(i),o=+a-uI(a),l=+s-uI(s);return Math.round((o-l)/q_e)}function H_e(t,e){const n=PU(t,e),r=li(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),k1(r)}function rc(t,e,n){const[r,i]=N4(n==null?void 0:n.in,t,e);return+l0(r)==+l0(i)}function G_e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function K_e(t){return!(!G_e(t)&&typeof t!="number"||isNaN(+Vt(t)))}function Q_e(t,e,n){const[r,i]=N4(n==null?void 0:n.in,t,e),a=dI(r,i),s=Math.abs(TU(r,i));r.setDate(r.getDate()-a*s);const o=+(dI(r,i)===-a),l=a*(s-o);return l===0?0:l}function dI(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function x3(t,e){const n=Vt(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function Y_e(t,e){const n=Vt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function X_e(t,e){const[n,r]=N4(t,e.start,e.end);return{start:n,end:r}}function J_e(t,e){const{start:n,end:r}=X_e(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(li(n,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function Z_e(t,e){const n=Vt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function eSe(t,e){const n=Vt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tSe(t,e){const n=e==null?void 0:e.weekStartsOn,r=Vt(t,e==null?void 0:e.in),i=r.getDay(),a=(i<n?-7:0)+6-(i-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}const nSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rSe=(t,e,n)=>{let r;const i=nSe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function F6(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const iSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aSe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oSe={date:F6({formats:iSe,defaultWidth:"full"}),time:F6({formats:aSe,defaultWidth:"full"}),dateTime:F6({formats:sSe,defaultWidth:"full"})},lSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cSe=(t,e,n,r)=>lSe[t];function kd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const uSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gSe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ySe={ordinalNumber:gSe,era:kd({values:uSe,defaultWidth:"wide"}),quarter:kd({values:dSe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:kd({values:fSe,defaultWidth:"wide"}),day:kd({values:hSe,defaultWidth:"wide"}),dayPeriod:kd({values:pSe,defaultWidth:"wide",formattingValues:mSe,defaultFormattingWidth:"wide"})};function Pd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?xSe(o,d=>d.test(s)):vSe(o,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function vSe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function xSe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function bSe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const wSe=/^(\d+)(th|st|nd|rd)?/i,_Se=/\d+/i,SSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ESe={any:[/^b/i,/^(a|c)/i]},kSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PSe={any:[/1/i,/2/i,/3/i,/4/i]},TSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ASe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ISe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jSe={ordinalNumber:bSe({matchPattern:wSe,parsePattern:_Se,valueCallback:t=>parseInt(t,10)}),era:Pd({matchPatterns:SSe,defaultMatchWidth:"wide",parsePatterns:ESe,defaultParseWidth:"any"}),quarter:Pd({matchPatterns:kSe,defaultMatchWidth:"wide",parsePatterns:PSe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Pd({matchPatterns:TSe,defaultMatchWidth:"wide",parsePatterns:NSe,defaultParseWidth:"any"}),day:Pd({matchPatterns:ASe,defaultMatchWidth:"wide",parsePatterns:ISe,defaultParseWidth:"any"}),dayPeriod:Pd({matchPatterns:CSe,defaultMatchWidth:"any",parsePatterns:OSe,defaultParseWidth:"any"})},RSe={code:"en-US",formatDistance:rSe,formatLong:oSe,formatRelative:cSe,localize:ySe,match:jSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MSe(t,e){const n=Vt(t,e==null?void 0:e.in);return TU(n,eSe(n))+1}function $Se(t,e){const n=Vt(t,e==null?void 0:e.in),r=+k1(n)-+H_e(n);return Math.round(r/_U)+1}function NU(t,e){var u,d,h,p;const n=Vt(t,e==null?void 0:e.in),r=n.getFullYear(),i=K2(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=li((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=cu(s,e),l=li((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=cu(l,e);return+n>=+o?r+1:+n>=+c?r:r-1}function DSe(t,e){var o,l,c,u;const n=K2(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=NU(t,e),a=li((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),cu(a,e)}function LSe(t,e){const n=Vt(t,e==null?void 0:e.in),r=+cu(n,e)-+DSe(n,e);return Math.round(r/_U)+1}function Tt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const W0={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Tt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Tt(n+1,2)},d(t,e){return Tt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Tt(t.getHours()%12||12,e.length)},H(t,e){return Tt(t.getHours(),e.length)},m(t,e){return Tt(t.getMinutes(),e.length)},s(t,e){return Tt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Tt(i,e.length)}},Rl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return W0.y(t,e)},Y:function(t,e,n,r){const i=NU(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Tt(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Tt(a,e.length)},R:function(t,e){const n=PU(t);return Tt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Tt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Tt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Tt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return W0.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Tt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=LSe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Tt(i,e.length)},I:function(t,e,n){const r=$Se(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Tt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):W0.d(t,e)},D:function(t,e,n){const r=MSe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Tt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Tt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Tt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Tt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Rl.noon:r===0?i=Rl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Rl.evening:r>=12?i=Rl.afternoon:r>=4?i=Rl.morning:i=Rl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return W0.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):W0.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):W0.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):W0.s(t,e)},S:function(t,e){return W0.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return pI(r);case"XXXX":case"XX":return yo(r);case"XXXXX":case"XXX":default:return yo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return pI(r);case"xxxx":case"xx":return yo(r);case"xxxxx":case"xxx":default:return yo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hI(r,":");case"OOOO":default:return"GMT"+yo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hI(r,":");case"zzzz":default:return"GMT"+yo(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Tt(r,e.length)},T:function(t,e,n){return Tt(+t,e.length)}};function hI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Tt(a,2)}function pI(t,e){return t%60===0?(t>0?"-":"+")+Tt(Math.abs(t)/60,2):yo(t,e)}function yo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Tt(Math.trunc(r/60),2),a=Tt(r%60,2);return n+i+e+a}const mI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},AU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},FSe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return mI(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",mI(r,e)).replace("{{time}}",AU(i,e))},VSe={p:AU,P:FSe},USe=/^D+$/,BSe=/^Y+$/,zSe=["D","DD","YY","YYYY"];function qSe(t){return USe.test(t)}function WSe(t){return BSe.test(t)}function HSe(t,e,n){const r=GSe(t,e,n);if(console.warn(r),zSe.includes(t))throw new RangeError(r)}function GSe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YSe=/^'([^]*?)'?$/,XSe=/''/g,JSe=/[a-zA-Z]/;function gi(t,e,n){var u,d,h,p;const r=K2(),i=r.locale??RSe,a=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Vt(t,n==null?void 0:n.in);if(!K_e(o))throw new RangeError("Invalid time value");let l=e.match(QSe).map(g=>{const x=g[0];if(x==="p"||x==="P"){const y=VSe[x];return y(g,i.formatLong)}return g}).join("").match(KSe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:ZSe(g)};if(fI[x])return{isToken:!0,value:g};if(x.match(JSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const x=g.value;(WSe(x)||qSe(x))&&HSe(x,e,String(t));const y=fI[x[0]];return y(o,x,i.localize,c)}).join("")}function ZSe(t){const e=t.match(YSe);return e?e[1].replace(XSe,"'"):t}function IU(t,e){return+Vt(t)>+Vt(e)}function Td(t,e){return+Vt(t)<+Vt(e)}function eEe(t,e,n){const[r,i]=N4(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Ec(t,e,n){const r=+Vt(t,n==null?void 0:n.in),[i,a]=[+Vt(e.start,n==null?void 0:n.in),+Vt(e.end,n==null?void 0:n.in)].sort((s,o)=>s-o);return r>=i&&r<=a}function gw(t,e,n){return kU(t,-e,n)}function ma(t,e){const n=()=>li(e==null?void 0:e.in,NaN),i=iEe(t);let a;if(i.date){const c=aEe(i.date,2);a=sEe(c.restDateString,c.year)}if(!a||isNaN(+a))return n();const s=+a;let o=0,l;if(i.time&&(o=oEe(i.time),isNaN(o)))return n();if(i.timezone){if(l=lEe(i.timezone),isNaN(l))return n()}else{const c=new Date(s+o),u=Vt(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return Vt(s+o+l,e==null?void 0:e.in)}const Rp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tEe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nEe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rEe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function iEe(t){const e={},n=t.split(Rp.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Rp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Rp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Rp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function aEe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function sEe(t,e){if(e===null)return new Date(NaN);const n=t.match(tEe);if(!n)return new Date(NaN);const r=!!n[4],i=Nd(n[1]),a=Nd(n[2])-1,s=Nd(n[3]),o=Nd(n[4]),l=Nd(n[5])-1;if(r)return hEe(e,o,l)?cEe(e,o,l):new Date(NaN);{const c=new Date(0);return!dEe(e,a,s)||!fEe(e,i)?new Date(NaN):(c.setUTCFullYear(e,a,Math.max(i,s)),c)}}function Nd(t){return t?parseInt(t):1}function oEe(t){const e=t.match(nEe);if(!e)return NaN;const n=V6(e[1]),r=V6(e[2]),i=V6(e[3]);return pEe(n,r,i)?n*EU+r*SU+i*1e3:NaN}function V6(t){return t&&parseFloat(t.replace(",","."))||0}function lEe(t){if(t==="Z")return 0;const e=t.match(rEe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return mEe(r,i)?n*(r*EU+i*SU):NaN}function cEe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const uEe=[31,null,31,30,31,30,31,31,30,31,30,31];function CU(t){return t%400===0||t%4===0&&t%100!==0}function dEe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(uEe[e]||(CU(t)?29:28))}function fEe(t,e){return e>=1&&e<=(CU(t)?366:365)}function hEe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function pEe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function mEe(t,e){return e>=0&&e<=59}function gEe(t,e,n){return v3(t,-1,n)}const yw=({onChange:t,initialRange:e,range:n,onRangeChange:r,brandColor:i})=>{const[a,s]=R.useState(!1),[o,l]=R.useState(n||e||{from:null,to:null}),[c,u]=R.useState(null),[d,h]=R.useState(new Date),p=R.useRef(null);R.useEffect(()=>{const _=k=>{p.current&&!p.current.contains(k.target)&&s(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const g=_=>{const k=t||r,N=l0(_);if(!o.from||o.from&&o.to)l({from:N,to:null});else{let A;Td(_,o.from)?A={from:l0(_),to:x3(o.from)}:A={from:l0(o.from),to:x3(_)},l(A),k&&k(A)}},x=_=>{o.from&&!o.to?u(_):u(null)},y=()=>{s(!1);const _=t||r;if(_){const k={...o};o.from&&(k.from=l0(o.from)),o.to&&(k.to=x3(o.to)),_(k)}},v=()=>{s(!1),l(n||e||{from:null,to:null})};R.useEffect(()=>{n&&l(n)},[n]);const b=()=>o.from&&o.to?`${gi(o.from,"d MMM yyyy")}  ${gi(o.to,"d MMM yyyy")}`:o.from?`${gi(o.from,"d MMM yyyy")}  Select end date`:"",w=_=>{const k=Z_e(_),N=Y_e(k),A=cu(k,{weekStartsOn:1}),I=tSe(N,{weekStartsOn:1});let j=A;const O=[];let $=[];for(;j<=I;)$.push(j),$.length===7&&(O.push($),$=[]),j=kU(j,1);return f.jsx("div",{className:"grid grid-cols-7 gap-y-2",children:O.map((M,D)=>M.map((V,F)=>{const U=o.from&&rc(V,o.from),W=o.to&&rc(V,o.to),G=o.from&&o.to&&Ec(V,{start:o.from,end:o.to});let H=!1;if(o.from&&!o.to&&c){const se=Td(o.from,c)?o.from:c,ve=IU(o.from,c)?o.from:c;H=Ec(V,{start:se,end:ve})&&!rc(V,o.from)}const te=eEe(V,k);let ue="relative w-10 h-10 flex items-center justify-center",me="w-10 h-10 flex items-center justify-center text-sm relative z-10 cursor-pointer rounded-full transition-colors font-medium",Z="",_e="text-gray-700 dark:text-slate-300";te?U?(Z="bg-accent text-white font-semibold shadow-accent z-20 brightness-110",_e="text-white"):W?Z="bg-white dark:bg-slate-800 border-2 border-accent text-accent font-semibold z-20 hover:brightness-110":G||H?_e="text-accent font-semibold":me+=" hover:bg-slate-100 dark:hover:bg-slate-700":_e="text-gray-300 dark:text-slate-600 pointer-events-none";let Ce="";return te&&(G||H)&&(Ce="absolute h-10 z-0 top-0 bottom-0",U&&(o.to||c)?Ce+=Td(o.to||c,o.from)?" left-0 right-1/2":" left-1/2 right-0 rounded-l-none":W?Ce+=" left-0 right-1/2 rounded-r-none":rc(V,c)&&o.from?Ce+=Td(c,o.from)?" left-1/2 right-0":" left-0 right-1/2":Ce+=" left-0 right-0",U&&o.to&&Td(o.to,o.from)&&(Ce="absolute h-10 z-0 top-0 bottom-0 left-0 right-1/2")),f.jsxs("div",{className:ue,role:"button","aria-label":`Select ${gi(V,"d MMMM yyyy")}`,tabIndex:te?0:-1,onMouseEnter:()=>x(V),onClick:()=>g(V),onKeyDown:se=>{(se.key==="Enter"||se.key===" ")&&(se.preventDefault(),g(V))},children:[Ce&&f.jsx("div",{className:Ce,style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}}),f.jsx("div",{className:`${me} ${Z} ${_e}`,children:gi(V,"d")})]},V.toISOString())}))})},S=()=>h(v3(d,1)),E=()=>h(gEe(d)),P=["Mo","Tu","We","Th","Fr","Sa","Su"];return f.jsxs("div",{className:"relative w-full max-w-xl font-sans",ref:p,children:[f.jsxs("div",{className:"relative flex items-center w-full outline-none focus-visible:outline-none",onClick:()=>s(!a),role:"button","aria-haspopup":"dialog","aria-expanded":a,"aria-label":"Select date range",tabIndex:0,onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&s(!a)},children:[f.jsx("div",{className:`w-full h-[44px] flex items-center ps-4 pe-10 bg-white dark:bg-slate-800 border-2 rounded-2xl cursor-pointer transition-all shadow-sm font-bold
            ${a?"border-accent/30 ring-4 ring-accent/10 bg-accent/5 dark:border-slate-500 dark:ring-0 dark:bg-slate-800":"border-slate-100 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}`,children:f.jsx("span",{className:`text-[11px] font-bold ${o.from?"text-gray-900 dark:text-white":"text-gray-500 dark:text-slate-400"}`,children:o.from?b():"Select date range"})}),f.jsx(uR,{className:`absolute end-3 w-4 h-4 pointer-events-none transition-colors ${a?"text-accent":"text-slate-400"}`})]}),a&&f.jsxs("div",{className:"absolute top-full start-0 mt-4 z-50 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-100 dark:border-slate-700 p-0 overflow-hidden w-[680px] animate-in fade-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true","aria-label":"Calendar date range picker",children:[f.jsxs("div",{className:"flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x dark:md:divide-slate-700 md:divide-gray-100",children:[f.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("button",{onClick:E,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Previous month",children:f.jsx(Z3,{className:"w-5 h-5"})}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:gi(d,"MMMM yyyy")}),f.jsx("div",{className:"w-7"})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:_},_))}),w(d)]}),f.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("div",{className:"w-7"}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:gi(v3(d,1),"MMMM yyyy")}),f.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Next month",children:f.jsx(em,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:_},_))}),w(v3(d,1))]})]}),f.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-700 p-4 flex items-center justify-between bg-white dark:bg-slate-800 px-6 py-4",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:o.from&&o.to?`${Q_e(o.to,o.from)+1} days`:o.from?"Select end date":""}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:v,className:"px-6 py-2.5 text-sm font-bold text-gray-700 dark:text-slate-200 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 hover:text-gray-900 dark:hover:text-white transition-all font-sans",children:"Cancel"}),f.jsx("button",{onClick:y,className:"px-8 py-2.5 text-sm font-bold text-white bg-accent rounded-lg shadow-accent transition-all transform active:scale-95 font-sans",children:"Done"})]})]})]})]})},yEe=({title:t,options:e,selectedValues:n,onChange:r,onClear:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,collapsible:l=!1})=>{const{appearance:c}=Cn(),[u,d]=R.useState(""),[h,p]=R.useState(!l),g=y=>{const v=n.includes(y)?n.filter(b=>b!==y):[...n,y];r(v)},x=o?a?e:e.filter(y=>y.label.toLowerCase().includes(u.toLowerCase())):e;return f.jsxs("div",{className:`rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[t&&t.length>0&&f.jsxs("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})}),l&&f.jsx("button",{onClick:()=>p(!h),className:"p-1 rounded-full text-slate-400 hover:text-slate-600",children:h?f.jsx(Z8,{className:"w-4 h-4"}):f.jsx(ml,{className:"w-4 h-4"})})]}),!a&&o&&h&&f.jsx("div",{className:"px-3 pb-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(_u,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:y=>d(y.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsx("div",{className:`flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto ${h?"":"hidden"}`,children:x.map(y=>{const v=n.includes(y.value);return f.jsxs("div",{onClick:()=>g(y.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${v?"bg-accent/10":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-5 h-5 rounded-[5px] border flex items-center justify-center transition-all ${v?"bg-accent border-accent shadow-sm":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:v&&f.jsx(dR,{className:"w-3.5 h-3.5 text-white stroke-[3px]"})}),f.jsx("span",{className:`text-sm font-semibold ${v?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:y.label})]}),f.jsx("span",{className:`text-xs font-bold ${v?"text-accent":"text-slate-400 group-hover:text-slate-500"}`,children:y.count})]},y.value)})}),n.length>0&&f.jsx("div",{className:"px-4 py-3 border-t border-slate-50 dark:border-slate-700/50",children:f.jsx("button",{onClick:i,className:"text-xs font-bold text-accent hover:underline transition-colors flex items-center gap-1",children:"Clear All"})})]})},Qi=({title:t,options:e,selectedValues:n,onChange:r,icon:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,ariaLabel:l=null})=>{const{appearance:c}=Cn(),[u,d]=R.useState(!1),h=R.useRef(null);R.useEffect(()=>{const y=v=>{h.current&&!h.current.contains(v.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const p=()=>{r([])},g=()=>{d(!1)},x=n.length>0;return f.jsxs("div",{className:"relative",ref:h,children:[f.jsxs("button",{onClick:()=>d(!u),"aria-label":l||t||"Filter",className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${u||x?"bg-accent/10 border-accent/30 dark:border-slate-500 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-600 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60 dark:hover:border-slate-500":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-600 text-slate-500 hover:border-slate-300 dark:hover:border-slate-500"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(ex,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:x?`${n.length} Selected`:t}),f.jsx(ml,{className:`w-4 h-4 transition-transform ${u?"rotate-180":""}`})]}),u&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsx(yEe,{title:"",options:e,selectedValues:n,onChange:r,onClear:p,onClose:g,showProductCount:a,productCount:s,showSearch:o})})]})};class sr{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}function*vEe(t){for(const e of t)yield*e}function OU(t){return Array.from(vEe(t))}function ic(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var Le=1e-6,zh=1e-12,rt=Math.PI,cn=rt/2,P1=rt/4,Sr=rt*2,jt=180/rt,Fe=rt/180,ht=Math.abs,zu=Math.atan,Er=Math.atan2,Re=Math.cos,Mp=Math.ceil,jU=Math.exp,e9=Math.hypot,T1=Math.log,U6=Math.pow,Te=Math.sin,ki=Math.sign||function(t){return t>0?1:t<0?-1:0},Vn=Math.sqrt,vw=Math.tan;function RU(t){return t>1?0:t<-1?rt:Math.acos(t)}function kr(t){return t>1?cn:t<-1?-cn:Math.asin(t)}function gI(t){return(t=Te(t/2))*t}function Zt(){}function N1(t,e){t&&vI.hasOwnProperty(t.type)&&vI[t.type](t,e)}var yI={Feature:function(t,e){N1(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)N1(n[r].geometry,e)}},vI={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){t9(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t9(n[r],e,0)},Polygon:function(t,e){xI(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)xI(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)N1(n[r],e)}};function t9(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function xI(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)t9(t[n],e,1);e.polygonEnd()}function Hi(t,e){t&&yI.hasOwnProperty(t.type)?yI[t.type](t,e):N1(t,e)}var A1=new sr,I1=new sr,MU,$U,n9,r9,i9,Va={point:Zt,lineStart:Zt,lineEnd:Zt,polygonStart:function(){A1=new sr,Va.lineStart=xEe,Va.lineEnd=bEe},polygonEnd:function(){var t=+A1;I1.add(t<0?Sr+t:t),this.lineStart=this.lineEnd=this.point=Zt},sphere:function(){I1.add(Sr)}};function xEe(){Va.point=wEe}function bEe(){DU(MU,$U)}function wEe(t,e){Va.point=DU,MU=t,$U=e,t*=Fe,e*=Fe,n9=t,r9=Re(e=e/2+P1),i9=Te(e)}function DU(t,e){t*=Fe,e*=Fe,e=e/2+P1;var n=t-n9,r=n>=0?1:-1,i=r*n,a=Re(e),s=Te(e),o=i9*s,l=r9*a+o*Re(i),c=o*r*Te(i);A1.add(Er(c,l)),n9=t,r9=a,i9=s}function _Ee(t){return I1=new sr,Hi(t,Va),I1*2}function C1(t){return[Er(t[1],t[0]),kr(t[2])]}function ol(t){var e=t[0],n=t[1],r=Re(n);return[r*Re(e),r*Te(e),Te(n)]}function $p(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function uu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function B6(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Dp(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function O1(t){var e=Vn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Yt,Cr,sn,Yr,vo,LU,FU,kc,Pf,Y0,N0,Qa={point:a9,lineStart:bI,lineEnd:wI,polygonStart:function(){Qa.point=UU,Qa.lineStart=SEe,Qa.lineEnd=EEe,Pf=new sr,Va.polygonStart()},polygonEnd:function(){Va.polygonEnd(),Qa.point=a9,Qa.lineStart=bI,Qa.lineEnd=wI,A1<0?(Yt=-(sn=180),Cr=-(Yr=90)):Pf>Le?Yr=90:Pf<-Le&&(Cr=-90),N0[0]=Yt,N0[1]=sn},sphere:function(){Yt=-(sn=180),Cr=-(Yr=90)}};function a9(t,e){Y0.push(N0=[Yt=t,sn=t]),e<Cr&&(Cr=e),e>Yr&&(Yr=e)}function VU(t,e){var n=ol([t*Fe,e*Fe]);if(kc){var r=uu(kc,n),i=[r[1],-r[0],0],a=uu(i,r);O1(a),a=C1(a);var s=t-vo,o=s>0?1:-1,l=a[0]*jt*o,c,u=ht(s)>180;u^(o*vo<l&&l<o*t)?(c=a[1]*jt,c>Yr&&(Yr=c)):(l=(l+360)%360-180,u^(o*vo<l&&l<o*t)?(c=-a[1]*jt,c<Cr&&(Cr=c)):(e<Cr&&(Cr=e),e>Yr&&(Yr=e))),u?t<vo?Qr(Yt,t)>Qr(Yt,sn)&&(sn=t):Qr(t,sn)>Qr(Yt,sn)&&(Yt=t):sn>=Yt?(t<Yt&&(Yt=t),t>sn&&(sn=t)):t>vo?Qr(Yt,t)>Qr(Yt,sn)&&(sn=t):Qr(t,sn)>Qr(Yt,sn)&&(Yt=t)}else Y0.push(N0=[Yt=t,sn=t]);e<Cr&&(Cr=e),e>Yr&&(Yr=e),kc=n,vo=t}function bI(){Qa.point=VU}function wI(){N0[0]=Yt,N0[1]=sn,Qa.point=a9,kc=null}function UU(t,e){if(kc){var n=t-vo;Pf.add(ht(n)>180?n+(n>0?360:-360):n)}else LU=t,FU=e;Va.point(t,e),VU(t,e)}function SEe(){Va.lineStart()}function EEe(){UU(LU,FU),Va.lineEnd(),ht(Pf)>Le&&(Yt=-(sn=180)),N0[0]=Yt,N0[1]=sn,kc=null}function Qr(t,e){return(e-=t)<0?e+360:e}function kEe(t,e){return t[0]-e[0]}function _I(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function PEe(t){var e,n,r,i,a,s,o;if(Yr=sn=-(Yt=Cr=1/0),Y0=[],Hi(t,Qa),n=Y0.length){for(Y0.sort(kEe),e=1,r=Y0[0],a=[r];e<n;++e)i=Y0[e],_I(r,i[0])||_I(r,i[1])?(Qr(r[0],i[1])>Qr(r[0],r[1])&&(r[1]=i[1]),Qr(i[0],r[1])>Qr(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(o=Qr(r[1],i[0]))>s&&(s=o,Yt=i[0],sn=r[1])}return Y0=N0=null,Yt===1/0||Cr===1/0?[[NaN,NaN],[NaN,NaN]]:[[Yt,Cr],[sn,Yr]]}var Bd,j1,R1,M1,$1,D1,L1,F1,s9,o9,l9,BU,zU,pr,mr,gr,Yi={sphere:Zt,point:xw,lineStart:SI,lineEnd:EI,polygonStart:function(){Yi.lineStart=AEe,Yi.lineEnd=IEe},polygonEnd:function(){Yi.lineStart=SI,Yi.lineEnd=EI}};function xw(t,e){t*=Fe,e*=Fe;var n=Re(e);A4(n*Re(t),n*Te(t),Te(e))}function A4(t,e,n){++Bd,R1+=(t-R1)/Bd,M1+=(e-M1)/Bd,$1+=(n-$1)/Bd}function SI(){Yi.point=TEe}function TEe(t,e){t*=Fe,e*=Fe;var n=Re(e);pr=n*Re(t),mr=n*Te(t),gr=Te(e),Yi.point=NEe,A4(pr,mr,gr)}function NEe(t,e){t*=Fe,e*=Fe;var n=Re(e),r=n*Re(t),i=n*Te(t),a=Te(e),s=Er(Vn((s=mr*a-gr*i)*s+(s=gr*r-pr*a)*s+(s=pr*i-mr*r)*s),pr*r+mr*i+gr*a);j1+=s,D1+=s*(pr+(pr=r)),L1+=s*(mr+(mr=i)),F1+=s*(gr+(gr=a)),A4(pr,mr,gr)}function EI(){Yi.point=xw}function AEe(){Yi.point=CEe}function IEe(){qU(BU,zU),Yi.point=xw}function CEe(t,e){BU=t,zU=e,t*=Fe,e*=Fe,Yi.point=qU;var n=Re(e);pr=n*Re(t),mr=n*Te(t),gr=Te(e),A4(pr,mr,gr)}function qU(t,e){t*=Fe,e*=Fe;var n=Re(e),r=n*Re(t),i=n*Te(t),a=Te(e),s=mr*a-gr*i,o=gr*r-pr*a,l=pr*i-mr*r,c=e9(s,o,l),u=kr(c),d=c&&-u/c;s9.add(d*s),o9.add(d*o),l9.add(d*l),j1+=u,D1+=u*(pr+(pr=r)),L1+=u*(mr+(mr=i)),F1+=u*(gr+(gr=a)),A4(pr,mr,gr)}function OEe(t){Bd=j1=R1=M1=$1=D1=L1=F1=0,s9=new sr,o9=new sr,l9=new sr,Hi(t,Yi);var e=+s9,n=+o9,r=+l9,i=e9(e,n,r);return i<zh&&(e=D1,n=L1,r=F1,j1<Le&&(e=R1,n=M1,r=$1),i=e9(e,n,r),i<zh)?[NaN,NaN]:[Er(n,e)*jt,kr(r/i)*jt]}function Ml(t){return function(){return t}}function c9(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function u9(t,e){return[ht(t)>rt?t+Math.round(-t/Sr)*Sr:t,e]}u9.invert=u9;function bw(t,e,n){return(t%=Sr)?e||n?c9(PI(t),TI(e,n)):PI(t):e||n?TI(e,n):u9}function kI(t){return function(e,n){return e+=t,[e>rt?e-Sr:e<-rt?e+Sr:e,n]}}function PI(t){var e=kI(t);return e.invert=kI(-t),e}function TI(t,e){var n=Re(t),r=Te(t),i=Re(e),a=Te(e);function s(o,l){var c=Re(l),u=Re(o)*c,d=Te(o)*c,h=Te(l),p=h*n+u*r;return[Er(d*i-p*a,u*n-h*r),kr(p*i+d*a)]}return s.invert=function(o,l){var c=Re(l),u=Re(o)*c,d=Te(o)*c,h=Te(l),p=h*i-d*a;return[Er(d*i+h*a,u*n+p*r),kr(p*n-u*r)]},s}function WU(t){t=bw(t[0]*Fe,t[1]*Fe,t.length>2?t[2]*Fe:0);function e(n){return n=t(n[0]*Fe,n[1]*Fe),n[0]*=jt,n[1]*=jt,n}return e.invert=function(n){return n=t.invert(n[0]*Fe,n[1]*Fe),n[0]*=jt,n[1]*=jt,n},e}function HU(t,e,n,r,i,a){if(n){var s=Re(e),o=Te(e),l=r*n;i==null?(i=e+r*Sr,a=e-l/2):(i=NI(s,i),a=NI(s,a),(r>0?i<a:i>a)&&(i+=r*Sr));for(var c,u=i;r>0?u>a:u<a;u-=l)c=C1([s,-o*Re(u),-o*Te(u)]),t.point(c[0],c[1])}}function NI(t,e){e=ol(e),e[0]-=t,O1(e);var n=RU(-e[1]);return((-e[2]<0?-n:n)+Sr-Le)%Sr}function jEe(){var t=Ml([0,0]),e=Ml(90),n=Ml(6),r,i,a={point:s};function s(l,c){r.push(l=i(l,c)),l[0]*=jt,l[1]*=jt}function o(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*Fe,u=n.apply(this,arguments)*Fe;return r=[],i=bw(-l[0]*Fe,-l[1]*Fe,0).invert,HU(a,c,u,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return o.center=function(l){return arguments.length?(t=typeof l=="function"?l:Ml([+l[0],+l[1]]),o):t},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Ml(+l),o):e},o.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Ml(+l),o):n},o}function GU(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Zt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function b3(t,e){return ht(t[0]-e[0])<Le&&ht(t[1]-e[1])<Le}function Lp(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function KU(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((x=g.length-1)<=0)){var x,y=g[0],v=g[x],b;if(b3(y,v)){if(!y[2]&&!v[2]){for(i.lineStart(),o=0;o<x;++o)i.point((y=g[o])[0],y[1]);i.lineEnd();return}v[0]+=2*Le}a.push(b=new Lp(y,g,null,!0)),s.push(b.o=new Lp(y,null,b,!1)),a.push(b=new Lp(v,g,null,!1)),s.push(b.o=new Lp(v,null,b,!0))}}),!!a.length){for(s.sort(e),AI(a),AI(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function AI(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function z6(t){return ht(t[0])<=rt?t[0]:ki(t[0])*((ht(t[0])+rt)%Sr-rt)}function QU(t,e){var n=z6(e),r=e[1],i=Te(r),a=[Te(n),-Re(n),0],s=0,o=0,l=new sr;i===1?r=cn+Le:i===-1&&(r=-cn-Le);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=z6(p),x=p[1]/2+P1,y=Te(x),v=Re(x),b=0;b<h;++b,g=S,y=P,v=_,p=w){var w=d[b],S=z6(w),E=w[1]/2+P1,P=Te(E),_=Re(E),k=S-g,N=k>=0?1:-1,A=N*k,I=A>rt,j=y*P;if(l.add(Er(j*N*Te(A),v*_+j*Re(A))),s+=I?k+N*Sr:k,I^g>=n^S>=n){var O=uu(ol(p),ol(w));O1(O);var $=uu(a,O);O1($);var M=(I^k>=0?-1:1)*kr($[2]);(r>M||r===M&&(O[0]||O[1]))&&(o+=I^k>=0?1:-1)}}return(s<-Le||s<Le&&l<-zh)^o&1}function YU(t,e,n,r){return function(i){var a=e(i),s=GU(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:x,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=x,h.lineEnd=y,u=OU(u);var S=QU(c,r);u.length?(l||(i.polygonStart(),l=!0),KU(u,MEe,S,n,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(S,E){t(S,E)&&i.point(S,E)}function g(S,E){a.point(S,E)}function x(){h.point=g,a.lineStart()}function y(){h.point=p,a.lineEnd()}function v(S,E){d.push([S,E]),o.point(S,E)}function b(){o.lineStart(),d=[]}function w(){v(d[0][0],d[0][1]),o.lineEnd();var S=o.clean(),E=s.result(),P,_=E.length,k,N,A;if(d.pop(),c.push(d),d=null,!!_){if(S&1){if(N=E[0],(k=N.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),P=0;P<k;++P)i.point((A=N[P])[0],A[1]);i.lineEnd()}return}_>1&&S&2&&E.push(E.pop().concat(E.shift())),u.push(E.filter(REe))}}return h}}function REe(t){return t.length>1}function MEe(t,e){return((t=t.x)[0]<0?t[1]-cn-Le:cn-t[1])-((e=e.x)[0]<0?e[1]-cn-Le:cn-e[1])}const d9=YU(function(){return!0},$Ee,LEe,[-rt,-cn]);function $Ee(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?rt:-rt,l=ht(a-e);ht(l-rt)<Le?(t.point(e,n=(n+s)/2>0?cn:-cn),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=rt&&(ht(e-r)<Le&&(e-=r*Le),ht(a-o)<Le&&(a-=o*Le),n=DEe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function DEe(t,e,n,r){var i,a,s=Te(t-n);return ht(s)>Le?zu((Te(e)*(a=Re(r))*Te(n)-Te(r)*(i=Re(e))*Te(t))/(i*a*s)):(e+r)/2}function LEe(t,e,n,r){var i;if(t==null)i=n*cn,r.point(-rt,i),r.point(0,i),r.point(rt,i),r.point(rt,0),r.point(rt,-i),r.point(0,-i),r.point(-rt,-i),r.point(-rt,0),r.point(-rt,i);else if(ht(t[0]-e[0])>Le){var a=t[0]<e[0]?rt:-rt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function XU(t){var e=Re(t),n=6*Fe,r=e>0,i=ht(e)>Le;function a(u,d,h,p){HU(p,t,n,h,u,d)}function s(u,d){return Re(u)*Re(d)>e}function o(u){var d,h,p,g,x;return{lineStart:function(){g=p=!1,x=1},point:function(y,v){var b=[y,v],w,S=s(y,v),E=r?S?0:c(y,v):S?c(y+(y<0?rt:-rt),v):0;if(!d&&(g=p=S)&&u.lineStart(),S!==p&&(w=l(d,b),(!w||b3(d,w)||b3(b,w))&&(b[2]=1)),S!==p)x=0,S?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^S){var P;!(E&h)&&(P=l(b,d,!0))&&(x=0,r?(u.lineStart(),u.point(P[0][0],P[0][1]),u.point(P[1][0],P[1][1]),u.lineEnd()):(u.point(P[1][0],P[1][1]),u.lineEnd(),u.lineStart(),u.point(P[0][0],P[0][1],3)))}S&&(!d||!b3(d,b))&&u.point(b[0],b[1]),d=b,p=S,h=E},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return x|(g&&p)<<1}}}function l(u,d,h){var p=ol(u),g=ol(d),x=[1,0,0],y=uu(p,g),v=$p(y,y),b=y[0],w=v-b*b;if(!w)return!h&&u;var S=e*v/w,E=-e*b/w,P=uu(x,y),_=Dp(x,S),k=Dp(y,E);B6(_,k);var N=P,A=$p(_,N),I=$p(N,N),j=A*A-I*($p(_,_)-1);if(!(j<0)){var O=Vn(j),$=Dp(N,(-A-O)/I);if(B6($,_),$=C1($),!h)return $;var M=u[0],D=d[0],V=u[1],F=d[1],U;D<M&&(U=M,M=D,D=U);var W=D-M,G=ht(W-rt)<Le,H=G||W<Le;if(!G&&F<V&&(U=V,V=F,F=U),H?G?V+F>0^$[1]<(ht($[0]-M)<Le?V:F):V<=$[1]&&$[1]<=F:W>rt^(M<=$[0]&&$[0]<=D)){var te=Dp(N,(-A+O)/I);return B6(te,_),[$,C1(te)]}}}function c(u,d){var h=r?t:rt-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return YU(s,o,a,r?[0,-t]:[-rt,t-rt])}function FEe(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var zd=1e9,Fp=-zd;function Q2(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return ht(c[0]-t)<Le?u>0?0:3:ht(c[0]-n)<Le?u>0?2:1:ht(c[1]-e)<Le?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=GU(),h,p,g,x,y,v,b,w,S,E,P,_={point:k,lineStart:j,lineEnd:O,polygonStart:A,polygonEnd:I};function k(M,D){i(M,D)&&u.point(M,D)}function N(){for(var M=0,D=0,V=p.length;D<V;++D)for(var F=p[D],U=1,W=F.length,G=F[0],H,te,ue=G[0],me=G[1];U<W;++U)H=ue,te=me,G=F[U],ue=G[0],me=G[1],te<=r?me>r&&(ue-H)*(r-te)>(me-te)*(t-H)&&++M:me<=r&&(ue-H)*(r-te)<(me-te)*(t-H)&&--M;return M}function A(){u=d,h=[],p=[],P=!0}function I(){var M=N(),D=P&&M,V=(h=OU(h)).length;(D||V)&&(c.polygonStart(),D&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),V&&KU(h,o,M,a,c),c.polygonEnd()),u=c,h=p=g=null}function j(){_.point=$,p&&p.push(g=[]),E=!0,S=!1,b=w=NaN}function O(){h&&($(x,y),v&&S&&d.rejoin(),h.push(d.result())),_.point=k,S&&u.lineEnd()}function $(M,D){var V=i(M,D);if(p&&g.push([M,D]),E)x=M,y=D,v=V,E=!1,V&&(u.lineStart(),u.point(M,D));else if(V&&S)u.point(M,D);else{var F=[b=Math.max(Fp,Math.min(zd,b)),w=Math.max(Fp,Math.min(zd,w))],U=[M=Math.max(Fp,Math.min(zd,M)),D=Math.max(Fp,Math.min(zd,D))];FEe(F,U,t,e,n,r)?(S||(u.lineStart(),u.point(F[0],F[1])),u.point(U[0],U[1]),V||u.lineEnd(),P=!1):V&&(u.lineStart(),u.point(M,D),P=!1)}b=M,w=D,S=V}return _}}function VEe(){var t=0,e=0,n=960,r=500,i,a,s;return s={stream:function(o){return i&&a===o?i:i=Q2(t,e,n,r)(a=o)},extent:function(o){return arguments.length?(t=+o[0][0],e=+o[0][1],n=+o[1][0],r=+o[1][1],i=a=null,s):[[t,e],[n,r]]}}}var f9,h9,w3,_3,du={sphere:Zt,point:Zt,lineStart:UEe,lineEnd:Zt,polygonStart:Zt,polygonEnd:Zt};function UEe(){du.point=zEe,du.lineEnd=BEe}function BEe(){du.point=du.lineEnd=Zt}function zEe(t,e){t*=Fe,e*=Fe,h9=t,w3=Te(e),_3=Re(e),du.point=qEe}function qEe(t,e){t*=Fe,e*=Fe;var n=Te(e),r=Re(e),i=ht(t-h9),a=Re(i),s=Te(i),o=r*s,l=_3*n-w3*r*a,c=w3*n+_3*r*a;f9.add(Er(Vn(o*o+l*l),c)),h9=t,w3=n,_3=r}function JU(t){return f9=new sr,Hi(t,du),+f9}var p9=[null,null],WEe={type:"LineString",coordinates:p9};function V1(t,e){return p9[0]=t,p9[1]=e,JU(WEe)}var II={Feature:function(t,e){return U1(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(U1(n[r].geometry,e))return!0;return!1}},CI={Sphere:function(){return!0},Point:function(t,e){return OI(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(OI(n[r],e))return!0;return!1},LineString:function(t,e){return jI(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(jI(n[r],e))return!0;return!1},Polygon:function(t,e){return RI(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(RI(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(U1(n[r],e))return!0;return!1}};function U1(t,e){return t&&CI.hasOwnProperty(t.type)?CI[t.type](t,e):!1}function OI(t,e){return V1(t,e)===0}function jI(t,e){for(var n,r,i,a=0,s=t.length;a<s;a++){if(r=V1(t[a],e),r===0||a>0&&(i=V1(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<zh*i))return!0;n=r}return!1}function RI(t,e){return!!QU(t.map(HEe),ZU(e))}function HEe(t){return t=t.map(ZU),t.pop(),t}function ZU(t){return[t[0]*Fe,t[1]*Fe]}function GEe(t,e){return(t&&II.hasOwnProperty(t.type)?II[t.type]:U1)(t,e)}function MI(t,e,n){var r=ic(t,e-Le,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function $I(t,e,n){var r=ic(t,e-Le,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function ww(){var t,e,n,r,i,a,s,o,l=10,c=l,u=90,d=360,h,p,g,x,y=2.5;function v(){return{type:"MultiLineString",coordinates:b()}}function b(){return ic(Mp(r/u)*u,n,u).map(g).concat(ic(Mp(o/d)*d,s,d).map(x)).concat(ic(Mp(e/l)*l,t,l).filter(function(w){return ht(w%u)>Le}).map(h)).concat(ic(Mp(a/c)*c,i,c).filter(function(w){return ht(w%d)>Le}).map(p))}return v.lines=function(){return b().map(function(w){return{type:"LineString",coordinates:w}})},v.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(x(s).slice(1),g(n).reverse().slice(1),x(o).reverse().slice(1))]}},v.extent=function(w){return arguments.length?v.extentMajor(w).extentMinor(w):v.extentMinor()},v.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],o=+w[0][1],s=+w[1][1],r>n&&(w=r,r=n,n=w),o>s&&(w=o,o=s,s=w),v.precision(y)):[[r,o],[n,s]]},v.extentMinor=function(w){return arguments.length?(e=+w[0][0],t=+w[1][0],a=+w[0][1],i=+w[1][1],e>t&&(w=e,e=t,t=w),a>i&&(w=a,a=i,i=w),v.precision(y)):[[e,a],[t,i]]},v.step=function(w){return arguments.length?v.stepMajor(w).stepMinor(w):v.stepMinor()},v.stepMajor=function(w){return arguments.length?(u=+w[0],d=+w[1],v):[u,d]},v.stepMinor=function(w){return arguments.length?(l=+w[0],c=+w[1],v):[l,c]},v.precision=function(w){return arguments.length?(y=+w,h=MI(a,i,90),p=$I(e,t,y),g=MI(o,s,90),x=$I(r,n,y),v):y},v.extentMajor([[-180,-90+Le],[180,90-Le]]).extentMinor([[-180,-80-Le],[180,80+Le]])}function KEe(){return ww()()}function QEe(t,e){var n=t[0]*Fe,r=t[1]*Fe,i=e[0]*Fe,a=e[1]*Fe,s=Re(r),o=Te(r),l=Re(a),c=Te(a),u=s*Re(n),d=s*Te(n),h=l*Re(i),p=l*Te(i),g=2*kr(Vn(gI(a-r)+s*l*gI(i-n))),x=Te(g),y=g?function(v){var b=Te(v*=g)/x,w=Te(g-v)/x,S=w*u+b*h,E=w*d+b*p,P=w*o+b*c;return[Er(E,S)*jt,Er(P,Vn(S*S+E*E))*jt]}:function(){return[n*jt,r*jt]};return y.distance=g,y}const qh=t=>t;var q6=new sr,m9=new sr,eB,tB,g9,y9,Ja={point:Zt,lineStart:Zt,lineEnd:Zt,polygonStart:function(){Ja.lineStart=YEe,Ja.lineEnd=JEe},polygonEnd:function(){Ja.lineStart=Ja.lineEnd=Ja.point=Zt,q6.add(ht(m9)),m9=new sr},result:function(){var t=q6/2;return q6=new sr,t}};function YEe(){Ja.point=XEe}function XEe(t,e){Ja.point=nB,eB=g9=t,tB=y9=e}function nB(t,e){m9.add(y9*t-g9*e),g9=t,y9=e}function JEe(){nB(eB,tB)}var fu=1/0,B1=fu,Wh=-fu,z1=Wh,q1={point:ZEe,lineStart:Zt,lineEnd:Zt,polygonStart:Zt,polygonEnd:Zt,result:function(){var t=[[fu,B1],[Wh,z1]];return Wh=z1=-(B1=fu=1/0),t}};function ZEe(t,e){t<fu&&(fu=t),t>Wh&&(Wh=t),e<B1&&(B1=e),e>z1&&(z1=e)}var v9=0,x9=0,qd=0,W1=0,H1=0,ac=0,b9=0,w9=0,Wd=0,rB,iB,ya,va,wi={point:ll,lineStart:DI,lineEnd:LI,polygonStart:function(){wi.lineStart=nke,wi.lineEnd=rke},polygonEnd:function(){wi.point=ll,wi.lineStart=DI,wi.lineEnd=LI},result:function(){var t=Wd?[b9/Wd,w9/Wd]:ac?[W1/ac,H1/ac]:qd?[v9/qd,x9/qd]:[NaN,NaN];return v9=x9=qd=W1=H1=ac=b9=w9=Wd=0,t}};function ll(t,e){v9+=t,x9+=e,++qd}function DI(){wi.point=eke}function eke(t,e){wi.point=tke,ll(ya=t,va=e)}function tke(t,e){var n=t-ya,r=e-va,i=Vn(n*n+r*r);W1+=i*(ya+t)/2,H1+=i*(va+e)/2,ac+=i,ll(ya=t,va=e)}function LI(){wi.point=ll}function nke(){wi.point=ike}function rke(){aB(rB,iB)}function ike(t,e){wi.point=aB,ll(rB=ya=t,iB=va=e)}function aB(t,e){var n=t-ya,r=e-va,i=Vn(n*n+r*r);W1+=i*(ya+t)/2,H1+=i*(va+e)/2,ac+=i,i=va*t-ya*e,b9+=i*(ya+t),w9+=i*(va+e),Wd+=i*3,ll(ya=t,va=e)}function sB(t){this._context=t}sB.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Sr);break}}},result:Zt};var _9=new sr,W6,oB,lB,Hd,Gd,Hh={point:Zt,lineStart:function(){Hh.point=ake},lineEnd:function(){W6&&cB(oB,lB),Hh.point=Zt},polygonStart:function(){W6=!0},polygonEnd:function(){W6=null},result:function(){var t=+_9;return _9=new sr,t}};function ake(t,e){Hh.point=cB,oB=Hd=t,lB=Gd=e}function cB(t,e){Hd-=t,Gd-=e,_9.add(Vn(Hd*Hd+Gd*Gd)),Hd=t,Gd=e}function uB(){this._string=[]}uB.prototype={_radius:4.5,_circle:FI(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=FI(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function FI(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function dB(t,e){var n=4.5,r,i;function a(s){return s&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Hi(s,r(i))),i.result()}return a.area=function(s){return Hi(s,r(Ja)),Ja.result()},a.measure=function(s){return Hi(s,r(Hh)),Hh.result()},a.bounds=function(s){return Hi(s,r(q1)),q1.result()},a.centroid=function(s){return Hi(s,r(wi)),wi.result()},a.projection=function(s){return arguments.length?(r=s==null?(t=null,qh):(t=s).stream,a):t},a.context=function(s){return arguments.length?(i=s==null?(e=null,new uB):new sB(e=s),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(i.pointRadius(+s),+s),a):n},a.projection(t).context(e)}function ske(t){return{stream:I4(t)}}function I4(t){return function(e){var n=new S9;for(var r in t)n[r]=t[r];return n.stream=e,n}}function S9(){}S9.prototype={constructor:S9,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function _w(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Hi(n,t.stream(q1)),e(q1.result()),r!=null&&t.clipExtent(r),t}function Y2(t,e,n){return _w(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function Sw(t,e,n){return Y2(t,[[0,0],e],n)}function Ew(t,e,n){return _w(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function kw(t,e,n){return _w(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var VI=16,oke=Re(30*Fe);function UI(t,e){return+e?cke(t,e):lke(t)}function lke(t){return I4({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function cke(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,x,y){var v=c-r,b=u-i,w=v*v+b*b;if(w>4*e&&x--){var S=s+h,E=o+p,P=l+g,_=Vn(S*S+E*E+P*P),k=kr(P/=_),N=ht(ht(P)-1)<Le||ht(a-d)<Le?(a+d)/2:Er(E,S),A=t(N,k),I=A[0],j=A[1],O=I-r,$=j-i,M=b*O-v*$;(M*M/w>e||ht((v*O+b*$)/w-.5)>.3||s*h+o*p+l*g<oke)&&(n(r,i,a,s,o,l,I,j,N,S/=_,E/=_,P,x,y),y.point(I,j),n(I,j,N,S,E,P,c,u,d,h,p,g,x,y))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,x,y={point:v,lineStart:b,lineEnd:S,polygonStart:function(){r.polygonStart(),y.lineStart=E},polygonEnd:function(){r.polygonEnd(),y.lineStart=b}};function v(k,N){k=t(k,N),r.point(k[0],k[1])}function b(){d=NaN,y.point=w,r.lineStart()}function w(k,N){var A=ol([k,N]),I=t(k,N);n(d,h,u,p,g,x,d=I[0],h=I[1],u=k,p=A[0],g=A[1],x=A[2],VI,r),r.point(d,h)}function S(){y.point=v,r.lineEnd()}function E(){b(),y.point=P,y.lineEnd=_}function P(k,N){w(i=k,N),a=d,s=h,o=p,l=g,c=x,y.point=w}function _(){n(d,h,u,p,g,x,a,s,i,o,l,c,VI,r),y.lineEnd=S,S()}return y}}var uke=I4({point:function(t,e){this.stream.point(t*Fe,e*Fe)}});function dke(t){return I4({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function fke(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function BI(t,e,n,r,i,a){if(!a)return fke(t,e,n,r,i);var s=Re(a),o=Te(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(x,y){return x*=r,y*=i,[l*x-c*y+e,n-c*x-l*y]}return g.invert=function(x,y){return[r*(u*x-d*y+h),i*(p-d*x-u*y)]},g}function za(t){return Pw(function(){return t})()}function Pw(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,x=d9,y=null,v,b,w,S=qh,E=.5,P,_,k,N,A;function I(M){return k(M[0]*Fe,M[1]*Fe)}function j(M){return M=k.invert(M[0],M[1]),M&&[M[0]*jt,M[1]*jt]}I.stream=function(M){return N&&A===M?N:N=uke(dke(u)(x(P(S(A=M)))))},I.preclip=function(M){return arguments.length?(x=M,g=void 0,$()):x},I.postclip=function(M){return arguments.length?(S=M,y=v=b=w=null,$()):S},I.clipAngle=function(M){return arguments.length?(x=+M?XU(g=M*Fe):(g=null,d9),$()):g*jt},I.clipExtent=function(M){return arguments.length?(S=M==null?(y=v=b=w=null,qh):Q2(y=+M[0][0],v=+M[0][1],b=+M[1][0],w=+M[1][1]),$()):y==null?null:[[y,v],[b,w]]},I.scale=function(M){return arguments.length?(n=+M,O()):n},I.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],O()):[r,i]},I.center=function(M){return arguments.length?(a=M[0]%360*Fe,s=M[1]%360*Fe,O()):[a*jt,s*jt]},I.rotate=function(M){return arguments.length?(o=M[0]%360*Fe,l=M[1]%360*Fe,c=M.length>2?M[2]%360*Fe:0,O()):[o*jt,l*jt,c*jt]},I.angle=function(M){return arguments.length?(d=M%360*Fe,O()):d*jt},I.reflectX=function(M){return arguments.length?(h=M?-1:1,O()):h<0},I.reflectY=function(M){return arguments.length?(p=M?-1:1,O()):p<0},I.precision=function(M){return arguments.length?(P=UI(_,E=M*M),$()):Vn(E)},I.fitExtent=function(M,D){return Y2(I,M,D)},I.fitSize=function(M,D){return Sw(I,M,D)},I.fitWidth=function(M,D){return Ew(I,M,D)},I.fitHeight=function(M,D){return kw(I,M,D)};function O(){var M=BI(n,0,0,h,p,d).apply(null,e(a,s)),D=BI(n,r-M[0],i-M[1],h,p,d);return u=bw(o,l,c),_=c9(e,D),k=c9(u,_),P=UI(_,E),$()}function $(){return N=A=null,I}return function(){return e=t.apply(this,arguments),I.invert=e.invert&&j,O()}}function Tw(t){var e=0,n=rt/3,r=Pw(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Fe,n=a[1]*Fe):[e*jt,n*jt]},i}function hke(t){var e=Re(t);function n(r,i){return[r*e,Te(i)/e]}return n.invert=function(r,i){return[r/e,kr(i*e)]},n}function fB(t,e){var n=Te(t),r=(n+Te(e))/2;if(ht(r)<Le)return hke(t);var i=1+n*(2*r-n),a=Vn(i)/r;function s(o,l){var c=Vn(i-2*r*Te(l))/r;return[c*Te(o*=r),a-c*Re(o)]}return s.invert=function(o,l){var c=a-l,u=Er(o,ht(c))*ki(c);return c*r<0&&(u-=rt*ki(o)*ki(c)),[u/r,kr((i-(o*o+c*c)*r*r)/(2*r))]},s}function G1(){return Tw(fB).scale(155.424).center([0,33.6442])}function hB(){return G1().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function pke(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function mke(){var t,e,n=hB(),r,i=G1().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=G1().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(h,p){l=[h,p]}};function u(h){var p=h[0],g=h[1];return l=null,r.point(p,g),l||(a.point(p,g),l)||(o.point(p,g),l)}u.invert=function(h){var p=n.scale(),g=n.translate(),x=(h[0]-g[0])/p,y=(h[1]-g[1])/p;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?i:y>=.166&&y<.234&&x>=-.214&&x<-.115?s:n).invert(h)},u.stream=function(h){return t&&e===h?t:t=pke([n.stream(e=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],x=+h[1];return r=n.translate(h).clipExtent([[g-.455*p,x-.238*p],[g+.455*p,x+.238*p]]).stream(c),a=i.translate([g-.307*p,x+.201*p]).clipExtent([[g-.425*p+Le,x+.12*p+Le],[g-.214*p-Le,x+.234*p-Le]]).stream(c),o=s.translate([g-.205*p,x+.212*p]).clipExtent([[g-.214*p+Le,x+.166*p+Le],[g-.115*p-Le,x+.234*p-Le]]).stream(c),d()},u.fitExtent=function(h,p){return Y2(u,h,p)},u.fitSize=function(h,p){return Sw(u,h,p)},u.fitWidth=function(h,p){return Ew(u,h,p)},u.fitHeight=function(h,p){return kw(u,h,p)};function d(){return t=e=null,u}return u.scale(1070)}function pB(t){return function(e,n){var r=Re(e),i=Re(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Te(e),a*Te(n)]}}function C4(t){return function(e,n){var r=Vn(e*e+n*n),i=t(r),a=Te(i),s=Re(i);return[Er(e*a,r*s),kr(r&&n*a/r)]}}var Nw=pB(function(t){return Vn(2/(1+t))});Nw.invert=C4(function(t){return 2*kr(t/2)});function gke(){return za(Nw).scale(124.75).clipAngle(180-.001)}var Aw=pB(function(t){return(t=RU(t))&&t/Te(t)});Aw.invert=C4(function(t){return t});function yke(){return za(Aw).scale(79.4188).clipAngle(180-.001)}function O4(t,e){return[t,T1(vw((cn+e)/2))]}O4.invert=function(t,e){return[t,2*zu(jU(e))-cn]};function vke(){return mB(O4).scale(961/Sr)}function mB(t){var e=za(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=rt*r(),h=e(WU(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===O4?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}function Vp(t){return vw((cn+t)/2)}function gB(t,e){var n=Re(t),r=t===e?Te(t):T1(n/Re(e))/T1(Vp(e)/Vp(t)),i=n*U6(Vp(t),r)/r;if(!r)return O4;function a(s,o){i>0?o<-cn+Le&&(o=-cn+Le):o>cn-Le&&(o=cn-Le);var l=i/U6(Vp(o),r);return[l*Te(r*s),i-l*Re(r*s)]}return a.invert=function(s,o){var l=i-o,c=ki(r)*Vn(s*s+l*l),u=Er(s,ht(l))*ki(l);return l*r<0&&(u-=rt*ki(s)*ki(l)),[u/r,2*zu(U6(i/c,1/r))-cn]},a}function xke(){return Tw(gB).scale(109.5).parallels([30,30])}function Gh(t,e){return[t,e]}Gh.invert=Gh;function bke(){return za(Gh).scale(152.63)}function yB(t,e){var n=Re(t),r=t===e?Te(t):(n-Re(e))/(e-t),i=n/r+t;if(ht(r)<Le)return Gh;function a(s,o){var l=i-o,c=r*s;return[l*Te(c),i-l*Re(c)]}return a.invert=function(s,o){var l=i-o,c=Er(s,ht(l))*ki(l);return l*r<0&&(c-=rt*ki(s)*ki(l)),[c/r,i-ki(r)*Vn(s*s+l*l)]},a}function wke(){return Tw(yB).scale(131.154).center([0,13.9389])}var Tf=1.340264,Nf=-.081106,Af=893e-6,If=.003796,K1=Vn(3)/2,_ke=12;function Iw(t,e){var n=kr(K1*Te(e)),r=n*n,i=r*r*r;return[t*Re(n)/(K1*(Tf+3*Nf*r+i*(7*Af+9*If*r))),n*(Tf+Nf*r+i*(Af+If*r))]}Iw.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,s,o,l;a<_ke&&(o=n*(Tf+Nf*r+i*(Af+If*r))-e,l=Tf+3*Nf*r+i*(7*Af+9*If*r),n-=s=o/l,r=n*n,i=r*r*r,!(ht(s)<zh));++a);return[K1*t*(Tf+3*Nf*r+i*(7*Af+9*If*r))/Re(n),kr(Te(n)/K1)]};function Ske(){return za(Iw).scale(177.158)}function Cw(t,e){var n=Re(e),r=Re(t)*n;return[n*Te(t)/r,Te(e)/r]}Cw.invert=C4(zu);function Eke(){return za(Cw).scale(144.049).clipAngle(60)}function kke(){var t=1,e=0,n=0,r=1,i=1,a=0,s,o,l=null,c,u,d,h=1,p=1,g=I4({point:function(S,E){var P=w([S,E]);this.stream.point(P[0],P[1])}}),x=qh,y,v;function b(){return h=t*r,p=t*i,y=v=null,w}function w(S){var E=S[0]*h,P=S[1]*p;if(a){var _=P*s-E*o;E=E*s+P*o,P=_}return[E+e,P+n]}return w.invert=function(S){var E=S[0]-e,P=S[1]-n;if(a){var _=P*s+E*o;E=E*s-P*o,P=_}return[E/h,P/p]},w.stream=function(S){return y&&v===S?y:y=g(x(v=S))},w.postclip=function(S){return arguments.length?(x=S,l=c=u=d=null,b()):x},w.clipExtent=function(S){return arguments.length?(x=S==null?(l=c=u=d=null,qh):Q2(l=+S[0][0],c=+S[0][1],u=+S[1][0],d=+S[1][1]),b()):l==null?null:[[l,c],[u,d]]},w.scale=function(S){return arguments.length?(t=+S,b()):t},w.translate=function(S){return arguments.length?(e=+S[0],n=+S[1],b()):[e,n]},w.angle=function(S){return arguments.length?(a=S%360*Fe,o=Te(a),s=Re(a),b()):a*jt},w.reflectX=function(S){return arguments.length?(r=S?-1:1,b()):r<0},w.reflectY=function(S){return arguments.length?(i=S?-1:1,b()):i<0},w.fitExtent=function(S,E){return Y2(w,S,E)},w.fitSize=function(S,E){return Sw(w,S,E)},w.fitWidth=function(S,E){return Ew(w,S,E)},w.fitHeight=function(S,E){return kw(w,S,E)},w}function Ow(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Ow.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-e)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(ht(i)>Le&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function Pke(){return za(Ow).scale(175.295)}function jw(t,e){return[Re(e)*Te(t),Te(e)]}jw.invert=C4(kr);function Tke(){return za(jw).scale(249.5).clipAngle(90+Le)}function Rw(t,e){var n=Re(e),r=1+Re(t)*n;return[n*Te(t)/r,Te(e)/r]}Rw.invert=C4(function(t){return 2*zu(t)});function Nke(){return za(Rw).scale(250).clipAngle(142)}function Mw(t,e){return[T1(vw((cn+e)/2)),-t]}Mw.invert=function(t,e){return[-e,2*zu(jU(t))-cn]};function Ake(){var t=mB(Mw),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const Ike=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:hB,geoAlbersUsa:mke,geoArea:_Ee,geoAzimuthalEqualArea:gke,geoAzimuthalEqualAreaRaw:Nw,geoAzimuthalEquidistant:yke,geoAzimuthalEquidistantRaw:Aw,geoBounds:PEe,geoCentroid:OEe,geoCircle:jEe,geoClipAntimeridian:d9,geoClipCircle:XU,geoClipExtent:VEe,geoClipRectangle:Q2,geoConicConformal:xke,geoConicConformalRaw:gB,geoConicEqualArea:G1,geoConicEqualAreaRaw:fB,geoConicEquidistant:wke,geoConicEquidistantRaw:yB,geoContains:GEe,geoDistance:V1,geoEqualEarth:Ske,geoEqualEarthRaw:Iw,geoEquirectangular:bke,geoEquirectangularRaw:Gh,geoGnomonic:Eke,geoGnomonicRaw:Cw,geoGraticule:ww,geoGraticule10:KEe,geoIdentity:kke,geoInterpolate:QEe,geoLength:JU,geoMercator:vke,geoMercatorRaw:O4,geoNaturalEarth1:Pke,geoNaturalEarth1Raw:Ow,geoOrthographic:Tke,geoOrthographicRaw:jw,geoPath:dB,geoProjection:za,geoProjectionMutator:Pw,geoRotation:WU,geoStereographic:Nke,geoStereographicRaw:Rw,geoStream:Hi,geoTransform:ske,geoTransverseMercator:Ake,geoTransverseMercatorRaw:Mw},Symbol.toStringTag,{value:"Module"}));function Cke(t){return t}function Oke(t){if(t==null)return Cke;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(o,l){l||(e=n=0);var c=2,u=o.length,d=new Array(u);for(d[0]=(e+=o[0])*r+a,d[1]=(n+=o[1])*i+s;c<u;)d[c]=o[c],++c;return d}}function jke(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function Rke(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return zI(t,n)})}:zI(t,e)}function zI(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,a=vB(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function vB(t,e){var n=Oke(t.transform),r=t.arcs;function i(u,d){d.length&&d.pop();for(var h=r[u<0?~u:u],p=0,g=h.length;p<g;++p)d.push(n(h[p],p));u<0&&jke(d,g)}function a(u){return n(u)}function s(u){for(var d=[],h=0,p=u.length;h<p;++h)i(u[h],d);return d.length<2&&d.push(d[0]),d}function o(u){for(var d=s(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(o)}function c(u){var d=u.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":h=a(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(a);break;case"LineString":h=s(u.arcs);break;case"MultiLineString":h=u.arcs.map(s);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return c(e)}function Mke(t,e){var n={},r={},i={},a=[],s=-1;e.forEach(function(c,u){var d=t.arcs[c<0?~c:c],h;d.length<3&&!d[1][0]&&!d[1][1]&&(h=e[++s],e[s]=c,e[u]=h)}),e.forEach(function(c){var u=o(c),d=u[0],h=u[1],p,g;if(p=i[d])if(delete i[p.end],p.push(c),p.end=h,g=r[h]){delete r[g.start];var x=g===p?p:p.concat(g);r[x.start=p.start]=i[x.end=g.end]=x}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(c),p.start=d,g=i[d]){delete i[g.end];var y=g===p?p:g.concat(p);r[y.start=g.start]=i[y.end=p.end]=y}else r[p.start]=i[p.end]=p;else p=[c],r[p.start=d]=i[p.end=h]=p});function o(c){var u=t.arcs[c<0?~c:c],d=u[0],h;return t.transform?(h=[0,0],u.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=u[u.length-1],c<0?[h,d]:[d,h]}function l(c,u){for(var d in c){var h=c[d];delete u[h.start],delete h.start,delete h.end,h.forEach(function(p){n[p<0?~p:p]=1}),a.push(h)}}return l(i,r),l(r,i),e.forEach(function(c){n[c<0?~c:c]||a.push([c])}),a}function qI(t){return vB(t,$ke.apply(this,arguments))}function $ke(t,e,n){var r,i,a;if(arguments.length>1)r=Dke(t,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:Mke(t,r)}}function Dke(t,e,n){var r=[],i=[],a;function s(d){var h=d<0?~d:d;(i[h]||(i[h]=[])).push({i:d,g:a})}function o(d){d.forEach(s)}function l(d){d.forEach(o)}function c(d){d.forEach(l)}function u(d){switch(a=d,d.type){case"GeometryCollection":d.geometries.forEach(u);break;case"LineString":o(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return u(e),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}var Lke={value:()=>{}};function $w(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new S3(n)}function S3(t){this._=t}function Fke(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}S3.prototype=$w.prototype={constructor:S3,on:function(t,e){var n=this._,r=Fke(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=Vke(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=WI(n[i],t.name,e);else if(e==null)for(i in n)n[i]=WI(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new S3(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Vke(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function WI(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Lke,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var E9="http://www.w3.org/1999/xhtml";const HI={svg:"http://www.w3.org/2000/svg",xhtml:E9,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X2(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),HI.hasOwnProperty(e)?{space:HI[e],local:t}:t}function Uke(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===E9&&e.documentElement.namespaceURI===E9?e.createElement(t):e.createElementNS(n,t)}}function Bke(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function xB(t){var e=X2(t);return(e.local?Bke:Uke)(e)}function zke(){}function Dw(t){return t==null?zke:function(){return this.querySelector(t)}}function qke(t){typeof t!="function"&&(t=Dw(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=a[u])&&(c=t.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new Ur(r,this._parents)}function bB(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wke(){return[]}function wB(t){return t==null?Wke:function(){return this.querySelectorAll(t)}}function Hke(t){return function(){var e=t.apply(this,arguments);return e==null?[]:bB(e)}}function Gke(t){typeof t=="function"?t=Hke(t):t=wB(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),i.push(l));return new Ur(r,i)}function _B(t){return function(){return this.matches(t)}}function SB(t){return function(e){return e.matches(t)}}var Kke=Array.prototype.find;function Qke(t){return function(){return Kke.call(this.children,t)}}function Yke(){return this.firstElementChild}function Xke(t){return this.select(t==null?Yke:Qke(typeof t=="function"?t:SB(t)))}var Jke=Array.prototype.filter;function Zke(){return this.children}function ePe(t){return function(){return Jke.call(this.children,t)}}function tPe(t){return this.selectAll(t==null?Zke:ePe(typeof t=="function"?t:SB(t)))}function nPe(t){typeof t!="function"&&(t=_B(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new Ur(r,this._parents)}function EB(t){return new Array(t.length)}function rPe(){return new Ur(this._enter||this._groups.map(EB),this._parents)}function Q1(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Q1.prototype={constructor:Q1,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function iPe(t){return function(){return t}}function aPe(t,e,n,r,i,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Q1(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function sPe(t,e,n,r,i,a,s){var o,l,c=new Map,u=e.length,d=a.length,h=new Array(u),p;for(o=0;o<u;++o)(l=e[o])&&(h[o]=p=s.call(l,l.__data__,o,e)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<d;++o)p=s.call(t,a[o],o,a)+"",(l=c.get(p))?(r[o]=l,l.__data__=a[o],c.delete(p)):n[o]=new Q1(t,a[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(h[o])===l&&(i[o]=l)}function oPe(t){return t.__data__}function lPe(t,e){if(!arguments.length)return Array.from(this,oPe);var n=e?sPe:aPe,r=this._parents,i=this._groups;typeof t!="function"&&(t=iPe(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=bB(t.call(u,u&&u.__data__,c,r)),g=p.length,x=o[c]=new Array(g),y=s[c]=new Array(g),v=l[c]=new Array(h);n(u,d,x,y,v,p,e);for(var b=0,w=0,S,E;b<g;++b)if(S=x[b]){for(b>=w&&(w=b+1);!(E=y[w])&&++w<g;);S._next=E||null}}return s=new Ur(s,r),s._enter=o,s._exit=l,s}function cPe(){return new Ur(this._exit||this._groups.map(EB),this._parents)}function uPe(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function dPe(t){if(!(t instanceof Ur))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new Ur(s,this._parents)}function fPe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function hPe(t){t||(t=pPe);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),c,u=0;u<o;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new Ur(i,this._parents).order()}function pPe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function mPe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function gPe(){return Array.from(this)}function yPe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function vPe(){let t=0;for(const e of this)++t;return t}function xPe(){return!this.node()}function bPe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function wPe(t){return function(){this.removeAttribute(t)}}function _Pe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function SPe(t,e){return function(){this.setAttribute(t,e)}}function EPe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function kPe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function PPe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function TPe(t,e){var n=X2(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?_Pe:wPe:typeof e=="function"?n.local?PPe:kPe:n.local?EPe:SPe)(n,e))}function kB(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function NPe(t){return function(){this.style.removeProperty(t)}}function APe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function IPe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function CPe(t,e,n){return arguments.length>1?this.each((e==null?NPe:typeof e=="function"?IPe:APe)(t,e,n??"")):hu(this.node(),t)}function hu(t,e){return t.style.getPropertyValue(e)||kB(t).getComputedStyle(t,null).getPropertyValue(e)}function OPe(t){return function(){delete this[t]}}function jPe(t,e){return function(){this[t]=e}}function RPe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function MPe(t,e){return arguments.length>1?this.each((e==null?OPe:typeof e=="function"?RPe:jPe)(t,e)):this.node()[t]}function PB(t){return t.trim().split(/^|\s+/)}function Lw(t){return t.classList||new TB(t)}function TB(t){this._node=t,this._names=PB(t.getAttribute("class")||"")}TB.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function NB(t,e){for(var n=Lw(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function AB(t,e){for(var n=Lw(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function $Pe(t){return function(){NB(this,t)}}function DPe(t){return function(){AB(this,t)}}function LPe(t,e){return function(){(e.apply(this,arguments)?NB:AB)(this,t)}}function FPe(t,e){var n=PB(t+"");if(arguments.length<2){for(var r=Lw(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?LPe:e?$Pe:DPe)(n,e))}function VPe(){this.textContent=""}function UPe(t){return function(){this.textContent=t}}function BPe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function zPe(t){return arguments.length?this.each(t==null?VPe:(typeof t=="function"?BPe:UPe)(t)):this.node().textContent}function qPe(){this.innerHTML=""}function WPe(t){return function(){this.innerHTML=t}}function HPe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function GPe(t){return arguments.length?this.each(t==null?qPe:(typeof t=="function"?HPe:WPe)(t)):this.node().innerHTML}function KPe(){this.nextSibling&&this.parentNode.appendChild(this)}function QPe(){return this.each(KPe)}function YPe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function XPe(){return this.each(YPe)}function JPe(t){var e=typeof t=="function"?t:xB(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ZPe(){return null}function eTe(t,e){var n=typeof t=="function"?t:xB(t),r=e==null?ZPe:typeof e=="function"?e:Dw(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function tTe(){var t=this.parentNode;t&&t.removeChild(this)}function nTe(){return this.each(tTe)}function rTe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function iTe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function aTe(t){return this.select(t?iTe:rTe)}function sTe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function oTe(t){return function(e){t.call(this,e,this.__data__)}}function lTe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function cTe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function uTe(t,e,n){return function(){var r=this.__on,i,a=oTe(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function dTe(t,e,n){var r=lTe(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<a;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(o=e?uTe:cTe,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function IB(t,e,n){var r=kB(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function fTe(t,e){return function(){return IB(this,t,e)}}function hTe(t,e){return function(){return IB(this,t,e.apply(this,arguments))}}function pTe(t,e){return this.each((typeof e=="function"?hTe:fTe)(t,e))}function*mTe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var CB=[null];function Ur(t,e){this._groups=t,this._parents=e}function j4(){return new Ur([[document.documentElement]],CB)}function gTe(){return this}Ur.prototype=j4.prototype={constructor:Ur,select:qke,selectAll:Gke,selectChild:Xke,selectChildren:tPe,filter:nPe,data:lPe,enter:rPe,exit:cPe,join:uPe,merge:dPe,selection:gTe,order:fPe,sort:hPe,call:mPe,nodes:gPe,node:yPe,size:vPe,empty:xPe,each:bPe,attr:TPe,style:CPe,property:MPe,classed:FPe,text:zPe,html:GPe,raise:QPe,lower:XPe,append:JPe,insert:eTe,remove:nTe,clone:aTe,datum:sTe,on:dTe,dispatch:pTe,[Symbol.iterator]:mTe};function Za(t){return typeof t=="string"?new Ur([[document.querySelector(t)]],[document.documentElement]):new Ur([[t]],CB)}function yTe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function lo(t,e){if(t=yTe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function k9(t){t.preventDefault(),t.stopImmediatePropagation()}function vTe(t){var e=t.document.documentElement,n=Za(t).on("dragstart.drag",k9,!0);"onselectstart"in e?n.on("selectstart.drag",k9,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function xTe(t,e){var n=t.document.documentElement,r=Za(t).on("dragstart.drag",null);e&&(r.on("click.drag",k9,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var bTe=1e-12;function GI(t){return((t=Math.exp(t))+1/t)/2}function wTe(t){return((t=Math.exp(t))-1/t)/2}function _Te(t){return((t=Math.exp(2*t))-1)/(t+1)}const STe=function t(e,n,r){function i(a,s){var o=a[0],l=a[1],c=a[2],u=s[0],d=s[1],h=s[2],p=u-o,g=d-l,x=p*p+g*g,y,v;if(x<bTe)v=Math.log(h/c)/e,y=function(_){return[o+_*p,l+_*g,c*Math.exp(e*_*v)]};else{var b=Math.sqrt(x),w=(h*h-c*c+r*x)/(2*c*n*b),S=(h*h-c*c-r*x)/(2*h*n*b),E=Math.log(Math.sqrt(w*w+1)-w),P=Math.log(Math.sqrt(S*S+1)-S);v=(P-E)/e,y=function(_){var k=_*v,N=GI(E),A=c/(n*b)*(N*_Te(e*k+E)-wTe(E));return[o+A*p,l+A*g,c*N/GI(e*k+E)]}}return y.duration=v*1e3*e/Math.SQRT2,y}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return t(s,o,l)},i}(Math.SQRT2,2,4);var pu=0,Kd=0,Ad=0,OB=1e3,Y1,Qd,X1=0,cl=0,J2=0,Kh=typeof performance=="object"&&performance.now?performance:Date,jB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Fw(){return cl||(jB(ETe),cl=Kh.now()+J2)}function ETe(){cl=0}function J1(){this._call=this._time=this._next=null}J1.prototype=RB.prototype={constructor:J1,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Fw():+n)+(e==null?0:+e),!this._next&&Qd!==this&&(Qd?Qd._next=this:Y1=this,Qd=this),this._call=t,this._time=n,P9()},stop:function(){this._call&&(this._call=null,this._time=1/0,P9())}};function RB(t,e,n){var r=new J1;return r.restart(t,e,n),r}function kTe(){Fw(),++pu;for(var t=Y1,e;t;)(e=cl-t._time)>=0&&t._call.call(null,e),t=t._next;--pu}function KI(){cl=(X1=Kh.now())+J2,pu=Kd=0;try{kTe()}finally{pu=0,TTe(),cl=0}}function PTe(){var t=Kh.now(),e=t-X1;e>OB&&(J2-=e,X1=t)}function TTe(){for(var t,e=Y1,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Y1=n);Qd=t,P9(r)}function P9(t){if(!pu){Kd&&(Kd=clearTimeout(Kd));var e=t-cl;e>24?(t<1/0&&(Kd=setTimeout(KI,t-Kh.now()-J2)),Ad&&(Ad=clearInterval(Ad))):(Ad||(X1=Kh.now(),Ad=setInterval(PTe,OB)),pu=1,jB(KI))}}function QI(t,e,n){var r=new J1;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var NTe=$w("start","end","cancel","interrupt"),ATe=[],MB=0,YI=1,T9=2,E3=3,XI=4,N9=5,k3=6;function Z2(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;ITe(t,n,{name:e,index:r,group:i,on:NTe,tween:ATe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:MB})}function Vw(t,e){var n=la(t,e);if(n.state>MB)throw new Error("too late; already scheduled");return n}function qa(t,e){var n=la(t,e);if(n.state>E3)throw new Error("too late; already running");return n}function la(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ITe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=RB(a,0,n.time);function a(c){n.state=YI,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,h,p;if(n.state!==YI)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===E3)return QI(s);p.state===XI?(p.state=k3,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=k3,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(QI(function(){n.state===E3&&(n.state=XI,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=T9,n.on.call("start",t,t.__data__,n.index,n.group),n.state===T9){for(n.state=E3,i=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=N9,1),d=-1,h=i.length;++d<h;)i[d].call(t,u);n.state===N9&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=k3,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function P3(t,e){var n=t.__transition,r,i,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>T9&&r.state<N9,r.state=k3,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function CTe(t){return this.each(function(){P3(this,t)})}function Uw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $B(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function R4(){}var Qh=.7,Z1=1/Qh,Pc="\\s*([+-]?\\d+)\\s*",Yh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Da="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OTe=/^#([0-9a-f]{3,8})$/,jTe=new RegExp("^rgb\\("+[Pc,Pc,Pc]+"\\)$"),RTe=new RegExp("^rgb\\("+[Da,Da,Da]+"\\)$"),MTe=new RegExp("^rgba\\("+[Pc,Pc,Pc,Yh]+"\\)$"),$Te=new RegExp("^rgba\\("+[Da,Da,Da,Yh]+"\\)$"),DTe=new RegExp("^hsl\\("+[Yh,Da,Da]+"\\)$"),LTe=new RegExp("^hsla\\("+[Yh,Da,Da,Yh]+"\\)$"),JI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uw(R4,Xh,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ZI,formatHex:ZI,formatHsl:FTe,formatRgb:eC,toString:eC});function ZI(){return this.rgb().formatHex()}function FTe(){return DB(this).formatHsl()}function eC(){return this.rgb().formatRgb()}function Xh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=OTe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?tC(e):n===3?new ti(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Up(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Up(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jTe.exec(t))?new ti(e[1],e[2],e[3],1):(e=RTe.exec(t))?new ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MTe.exec(t))?Up(e[1],e[2],e[3],e[4]):(e=$Te.exec(t))?Up(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=DTe.exec(t))?iC(e[1],e[2]/100,e[3]/100,1):(e=LTe.exec(t))?iC(e[1],e[2]/100,e[3]/100,e[4]):JI.hasOwnProperty(t)?tC(JI[t]):t==="transparent"?new ti(NaN,NaN,NaN,0):null}function tC(t){return new ti(t>>16&255,t>>8&255,t&255,1)}function Up(t,e,n,r){return r<=0&&(t=e=n=NaN),new ti(t,e,n,r)}function VTe(t){return t instanceof R4||(t=Xh(t)),t?(t=t.rgb(),new ti(t.r,t.g,t.b,t.opacity)):new ti}function A9(t,e,n,r){return arguments.length===1?VTe(t):new ti(t,e,n,r??1)}function ti(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Uw(ti,A9,$B(R4,{brighter:function(t){return t=t==null?Z1:Math.pow(Z1,t),new ti(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Qh:Math.pow(Qh,t),new ti(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nC,formatHex:nC,formatRgb:rC,toString:rC}));function nC(){return"#"+H6(this.r)+H6(this.g)+H6(this.b)}function rC(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function H6(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function iC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xa(t,e,n,r)}function DB(t){if(t instanceof xa)return new xa(t.h,t.s,t.l,t.opacity);if(t instanceof R4||(t=Xh(t)),!t)return new xa;if(t instanceof xa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new xa(s,o,l,t.opacity)}function UTe(t,e,n,r){return arguments.length===1?DB(t):new xa(t,e,n,r??1)}function xa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Uw(xa,UTe,$B(R4,{brighter:function(t){return t=t==null?Z1:Math.pow(Z1,t),new xa(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Qh:Math.pow(Qh,t),new xa(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ti(G6(t>=240?t-240:t+120,i,r),G6(t,i,r),G6(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function G6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const LB=t=>()=>t;function BTe(t,e){return function(n){return t+n*e}}function zTe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function qTe(t){return(t=+t)==1?FB:function(e,n){return n-e?zTe(e,n,t):LB(isNaN(e)?n:e)}}function FB(t,e){var n=e-t;return n?BTe(t,n):LB(isNaN(t)?e:t)}const aC=function t(e){var n=qTe(e);function r(i,a){var s=n((i=A9(i)).r,(a=A9(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=FB(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function X0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var I9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K6=new RegExp(I9.source,"g");function WTe(t){return function(){return t}}function HTe(t){return function(e){return t(e)+""}}function GTe(t,e){var n=I9.lastIndex=K6.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=I9.exec(t))&&(i=K6.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:X0(r,i)})),n=K6.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?HTe(l[0].x):WTe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}var sC=180/Math.PI,C9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function VB(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*sC,skewX:Math.atan(l)*sC,scaleX:s,scaleY:o}}var Bp;function KTe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?C9:VB(e.a,e.b,e.c,e.d,e.e,e.f)}function QTe(t){return t==null||(Bp||(Bp=document.createElementNS("http://www.w3.org/2000/svg","g")),Bp.setAttribute("transform",t),!(t=Bp.transform.baseVal.consolidate()))?C9:(t=t.matrix,VB(t.a,t.b,t.c,t.d,t.e,t.f))}function UB(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,h,p,g){if(c!==d||u!==h){var x=p.push("translate(",null,e,null,n);g.push({i:x-4,x:X0(c,d)},{i:x-2,x:X0(u,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function s(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:X0(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function o(c,u,d,h){c!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:X0(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,h,p,g){if(c!==d||u!==h){var x=p.push(i(p)+"scale(",null,",",null,")");g.push({i:x-4,x:X0(c,d)},{i:x-2,x:X0(u,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,h),s(c.rotate,u.rotate,d,h),o(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(p){for(var g=-1,x=h.length,y;++g<x;)d[(y=h[g]).i]=y.x(p);return d.join("")}}}var YTe=UB(KTe,"px, ","px)","deg)"),XTe=UB(QTe,", ",")",")");function JTe(t,e){var n,r;return function(){var i=qa(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function ZTe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=qa(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function eNe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=la(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?JTe:ZTe)(n,t,e))}function Bw(t,e,n){var r=t._id;return t.each(function(){var i=qa(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return la(i,r).value[e]}}function BB(t,e){var n;return(typeof e=="number"?X0:e instanceof Xh?aC:(n=Xh(e))?(e=n,aC):GTe)(t,e)}function tNe(t){return function(){this.removeAttribute(t)}}function nNe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rNe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function iNe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function aNe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function sNe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function oNe(t,e){var n=X2(t),r=n==="transform"?XTe:BB;return this.attrTween(t,typeof e=="function"?(n.local?sNe:aNe)(n,r,Bw(this,"attr."+t,e)):e==null?(n.local?nNe:tNe)(n):(n.local?iNe:rNe)(n,r,e))}function lNe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function cNe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function uNe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&cNe(t,a)),n}return i._value=e,i}function dNe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&lNe(t,a)),n}return i._value=e,i}function fNe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=X2(t);return this.tween(n,(r.local?uNe:dNe)(r,e))}function hNe(t,e){return function(){Vw(this,t).delay=+e.apply(this,arguments)}}function pNe(t,e){return e=+e,function(){Vw(this,t).delay=e}}function mNe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?hNe:pNe)(e,t)):la(this.node(),e).delay}function gNe(t,e){return function(){qa(this,t).duration=+e.apply(this,arguments)}}function yNe(t,e){return e=+e,function(){qa(this,t).duration=e}}function vNe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?gNe:yNe)(e,t)):la(this.node(),e).duration}function xNe(t,e){if(typeof e!="function")throw new Error;return function(){qa(this,t).ease=e}}function bNe(t){var e=this._id;return arguments.length?this.each(xNe(e,t)):la(this.node(),e).ease}function wNe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;qa(this,t).ease=n}}function _Ne(t){if(typeof t!="function")throw new Error;return this.each(wNe(this._id,t))}function SNe(t){typeof t!="function"&&(t=_B(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new A0(r,this._parents,this._name,this._id)}function ENe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new A0(s,this._parents,this._name,this._id)}function kNe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function PNe(t,e,n){var r,i,a=kNe(e)?Vw:qa;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function TNe(t,e){var n=this._id;return arguments.length<2?la(this.node(),n).on.on(t):this.each(PNe(n,t,e))}function NNe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ANe(){return this.on("end.remove",NNe(this._id))}function INe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Dw(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,c=a[s]=new Array(l),u,d,h=0;h<l;++h)(u=o[h])&&(d=t.call(u,u.__data__,h,o))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Z2(c[h],e,n,h,c,la(u,n)));return new A0(a,this._parents,e,n)}function CNe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=wB(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=t.call(u,u.__data__,d,l),p,g=la(u,n),x=0,y=h.length;x<y;++x)(p=h[x])&&Z2(p,e,n,x,h,g);a.push(h),s.push(u)}return new A0(a,s,e,n)}var ONe=j4.prototype.constructor;function jNe(){return new ONe(this._groups,this._parents)}function RNe(t,e){var n,r,i;return function(){var a=hu(this,t),s=(this.style.removeProperty(t),hu(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function zB(t){return function(){this.style.removeProperty(t)}}function MNe(t,e,n){var r,i=n+"",a;return function(){var s=hu(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function $Ne(t,e,n){var r,i,a;return function(){var s=hu(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),hu(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function DNe(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=qa(this,t),c=l.on,u=l.value[a]==null?o||(o=zB(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function LNe(t,e,n){var r=(t+="")=="transform"?YTe:BB;return e==null?this.styleTween(t,RNe(t,r)).on("end.style."+t,zB(t)):typeof e=="function"?this.styleTween(t,$Ne(t,r,Bw(this,"style."+t,e))).each(DNe(this._id,t)):this.styleTween(t,MNe(t,r,e),n).on("end.style."+t,null)}function FNe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function VNe(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&FNe(t,s,n)),r}return a._value=e,a}function UNe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,VNe(t,e,n??""))}function BNe(t){return function(){this.textContent=t}}function zNe(t){return function(){var e=t(this);this.textContent=e??""}}function qNe(t){return this.tween("text",typeof t=="function"?zNe(Bw(this,"text",t)):BNe(t==null?"":t+""))}function WNe(t){return function(e){this.textContent=t.call(this,e)}}function HNe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&WNe(i)),e}return r._value=t,r}function GNe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,HNe(t))}function KNe(){for(var t=this._name,e=this._id,n=qB(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var u=la(l,e);Z2(l,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new A0(r,this._parents,t,n)}function QNe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var c=qa(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&a()})}var YNe=0;function A0(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function qB(){return++YNe}var co=j4.prototype;A0.prototype={constructor:A0,select:INe,selectAll:CNe,filter:SNe,merge:ENe,selection:jNe,transition:KNe,call:co.call,nodes:co.nodes,node:co.node,size:co.size,empty:co.empty,each:co.each,on:TNe,attr:oNe,attrTween:fNe,style:LNe,styleTween:UNe,text:qNe,textTween:GNe,remove:ANe,tween:eNe,delay:mNe,duration:vNe,ease:bNe,easeVarying:_Ne,end:QNe,[Symbol.iterator]:co[Symbol.iterator]};function XNe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var JNe={time:null,delay:0,duration:250,ease:XNe};function ZNe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function eAe(t){var e,n;t instanceof A0?(e=t._id,t=t._name):(e=qB(),(n=JNe).time=Fw(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&Z2(l,t,e,c,s,n||ZNe(l,e));return new A0(r,this._parents,t,e)}j4.prototype.interrupt=CTe;j4.prototype.transition=eAe;const zp=t=>()=>t;function tAe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function c0(t,e,n){this.k=t,this.x=e,this.y=n}c0.prototype={constructor:c0,scale:function(t){return t===1?this:new c0(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new c0(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zw=new c0(1,0,0);c0.prototype;function Q6(t){t.stopImmediatePropagation()}function Id(t){t.preventDefault(),t.stopImmediatePropagation()}function nAe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function rAe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function oC(){return this.__zoom||zw}function iAe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function aAe(){return navigator.maxTouchPoints||"ontouchstart"in this}function sAe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function oAe(){var t=nAe,e=rAe,n=sAe,r=iAe,i=aAe,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=STe,c=$w("start","zoom","end"),u,d,h,p=500,g=150,x=0,y=10;function v($){$.property("__zoom",oC).on("wheel.zoom",k).on("mousedown.zoom",N).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function($,M,D,V){var F=$.selection?$.selection():$;F.property("__zoom",oC),$!==F?E($,M,D,V):F.interrupt().each(function(){P(this,arguments).event(V).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},v.scaleBy=function($,M,D,V){v.scaleTo($,function(){var F=this.__zoom.k,U=typeof M=="function"?M.apply(this,arguments):M;return F*U},D,V)},v.scaleTo=function($,M,D,V){v.transform($,function(){var F=e.apply(this,arguments),U=this.__zoom,W=D==null?S(F):typeof D=="function"?D.apply(this,arguments):D,G=U.invert(W),H=typeof M=="function"?M.apply(this,arguments):M;return n(w(b(U,H),W,G),F,s)},D,V)},v.translateBy=function($,M,D,V){v.transform($,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof D=="function"?D.apply(this,arguments):D),e.apply(this,arguments),s)},null,V)},v.translateTo=function($,M,D,V,F){v.transform($,function(){var U=e.apply(this,arguments),W=this.__zoom,G=V==null?S(U):typeof V=="function"?V.apply(this,arguments):V;return n(zw.translate(G[0],G[1]).scale(W.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof D=="function"?-D.apply(this,arguments):-D),U,s)},V,F)};function b($,M){return M=Math.max(a[0],Math.min(a[1],M)),M===$.k?$:new c0(M,$.x,$.y)}function w($,M,D){var V=M[0]-D[0]*$.k,F=M[1]-D[1]*$.k;return V===$.x&&F===$.y?$:new c0($.k,V,F)}function S($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function E($,M,D,V){$.on("start.zoom",function(){P(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(V).end()}).tween("zoom",function(){var F=this,U=arguments,W=P(F,U).event(V),G=e.apply(F,U),H=D==null?S(G):typeof D=="function"?D.apply(F,U):D,te=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),ue=F.__zoom,me=typeof M=="function"?M.apply(F,U):M,Z=l(ue.invert(H).concat(te/ue.k),me.invert(H).concat(te/me.k));return function(_e){if(_e===1)_e=me;else{var Ce=Z(_e),se=te/Ce[2];_e=new c0(se,H[0]-Ce[0]*se,H[1]-Ce[1]*se)}W.zoom(null,_e)}})}function P($,M,D){return!D&&$.__zooming||new _($,M)}function _($,M){this.that=$,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply($,M),this.taps=0}_.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,M){return this.mouse&&$!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var M=Za(this.that).datum();c.call($,this.that,new tAe($,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:c}),M)}};function k($,...M){if(!t.apply(this,arguments))return;var D=P(this,M).event($),V=this.__zoom,F=Math.max(a[0],Math.min(a[1],V.k*Math.pow(2,r.apply(this,arguments)))),U=lo($);if(D.wheel)(D.mouse[0][0]!==U[0]||D.mouse[0][1]!==U[1])&&(D.mouse[1]=V.invert(D.mouse[0]=U)),clearTimeout(D.wheel);else{if(V.k===F)return;D.mouse=[U,V.invert(U)],P3(this),D.start()}Id($),D.wheel=setTimeout(W,g),D.zoom("mouse",n(w(b(V,F),D.mouse[0],D.mouse[1]),D.extent,s));function W(){D.wheel=null,D.end()}}function N($,...M){if(h||!t.apply(this,arguments))return;var D=P(this,M,!0).event($),V=Za($.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",te,!0),F=lo($,U),U=$.currentTarget,W=$.clientX,G=$.clientY;vTe($.view),Q6($),D.mouse=[F,this.__zoom.invert(F)],P3(this),D.start();function H(ue){if(Id(ue),!D.moved){var me=ue.clientX-W,Z=ue.clientY-G;D.moved=me*me+Z*Z>x}D.event(ue).zoom("mouse",n(w(D.that.__zoom,D.mouse[0]=lo(ue,U),D.mouse[1]),D.extent,s))}function te(ue){V.on("mousemove.zoom mouseup.zoom",null),xTe(ue.view,D.moved),Id(ue),D.event(ue).end()}}function A($,...M){if(t.apply(this,arguments)){var D=this.__zoom,V=lo($.changedTouches?$.changedTouches[0]:$,this),F=D.invert(V),U=D.k*($.shiftKey?.5:2),W=n(w(b(D,U),V,F),e.apply(this,M),s);Id($),o>0?Za(this).transition().duration(o).call(E,W,V,$):Za(this).call(v.transform,W,V,$)}}function I($,...M){if(t.apply(this,arguments)){var D=$.touches,V=D.length,F=P(this,M,$.changedTouches.length===V).event($),U,W,G,H;for(Q6($),W=0;W<V;++W)G=D[W],H=lo(G,this),H=[H,this.__zoom.invert(H),G.identifier],F.touch0?!F.touch1&&F.touch0[2]!==H[2]&&(F.touch1=H,F.taps=0):(F.touch0=H,U=!0,F.taps=1+!!u);u&&(u=clearTimeout(u)),U&&(F.taps<2&&(d=H[0],u=setTimeout(function(){u=null},p)),P3(this),F.start())}}function j($,...M){if(this.__zooming){var D=P(this,M).event($),V=$.changedTouches,F=V.length,U,W,G,H;for(Id($),U=0;U<F;++U)W=V[U],G=lo(W,this),D.touch0&&D.touch0[2]===W.identifier?D.touch0[0]=G:D.touch1&&D.touch1[2]===W.identifier&&(D.touch1[0]=G);if(W=D.that.__zoom,D.touch1){var te=D.touch0[0],ue=D.touch0[1],me=D.touch1[0],Z=D.touch1[1],_e=(_e=me[0]-te[0])*_e+(_e=me[1]-te[1])*_e,Ce=(Ce=Z[0]-ue[0])*Ce+(Ce=Z[1]-ue[1])*Ce;W=b(W,Math.sqrt(_e/Ce)),G=[(te[0]+me[0])/2,(te[1]+me[1])/2],H=[(ue[0]+Z[0])/2,(ue[1]+Z[1])/2]}else if(D.touch0)G=D.touch0[0],H=D.touch0[1];else return;D.zoom("touch",n(w(W,G,H),D.extent,s))}}function O($,...M){if(this.__zooming){var D=P(this,M).event($),V=$.changedTouches,F=V.length,U,W;for(Q6($),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),U=0;U<F;++U)W=V[U],D.touch0&&D.touch0[2]===W.identifier?delete D.touch0:D.touch1&&D.touch1[2]===W.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(W=lo(W,this),Math.hypot(d[0]-W[0],d[1]-W[1])<y)){var G=Za(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return v.wheelDelta=function($){return arguments.length?(r=typeof $=="function"?$:zp(+$),v):r},v.filter=function($){return arguments.length?(t=typeof $=="function"?$:zp(!!$),v):t},v.touchable=function($){return arguments.length?(i=typeof $=="function"?$:zp(!!$),v):i},v.extent=function($){return arguments.length?(e=typeof $=="function"?$:zp([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),v):e},v.scaleExtent=function($){return arguments.length?(a[0]=+$[0],a[1]=+$[1],v):[a[0],a[1]]},v.translateExtent=function($){return arguments.length?(s[0][0]=+$[0][0],s[1][0]=+$[1][0],s[0][1]=+$[0][1],s[1][1]=+$[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function($){return arguments.length?(n=$,v):n},v.duration=function($){return arguments.length?(o=+$,v):o},v.interpolate=function($){return arguments.length?(l=$,v):l},v.on=function(){var $=c.on.apply(c,arguments);return $===c?v:$},v.clickDistance=function($){return arguments.length?(x=($=+$)*$,v):Math.sqrt(x)},v.tapDistance=function($){return arguments.length?(y=+$,v):y},v}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){lAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O9(t){"@babel/helpers - typeof";return O9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O9(t)}function lAe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Br(){return Br=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Br.apply(this,arguments)}function cAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Li(t,e){if(t==null)return{};var n=cAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wn(t,e){return uAe(t)||dAe(t,e)||fAe(t,e)||hAe()}function uAe(t){if(Array.isArray(t))return t}function dAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function fAe(t,e){if(t){if(typeof t=="string")return cC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cC(t,e)}}function cC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pAe=["width","height","projection","projectionConfig"],mAe=dB,gAe=Li(Ike,["geoPath"]),Wa=R.createContext(),yAe=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,a=i===void 0?"geoEqualEarth":i,s=e.width,o=s===void 0?800:s,l=e.height,c=l===void 0?600:l,u=typeof a=="function";if(u)return a;var d=gAe[a]().translate([o/2,c/2]),h=[d.center?"center":null,d.rotate?"rotate":null,d.scale?"scale":null,d.parallels?"parallels":null];return h.forEach(function(p){p&&(d=d[p](r[p]||d[p]()))}),d},WB=function(e){var n=e.width,r=e.height,i=e.projection,a=e.projectionConfig,s=Li(e,pAe),o=a.center||[],l=Wn(o,2),c=l[0],u=l[1],d=a.rotate||[],h=Wn(d,3),p=h[0],g=h[1],x=h[2],y=a.parallels||[],v=Wn(y,2),b=v[0],w=v[1],S=a.scale||null,E=R.useMemo(function(){return yAe({projectionConfig:{center:c||c===0||u||u===0?[c,u]:null,rotate:p||p===0||g||g===0?[p,g,x]:null,parallels:b||b===0||w||w===0?[b,w]:null,scale:S},projection:i,width:n,height:r})},[n,r,i,c,u,p,g,x,b,w,S]),P=R.useCallback(E,[E]),_=R.useMemo(function(){return{width:n,height:r,projection:P,path:mAe().projection(P)}},[n,r,P]);return B.createElement(Wa.Provider,Br({value:_},s))};WB.propTypes={width:le.number,height:le.number,projection:le.oneOfType([le.string,le.func]),projectionConfig:le.object};var vAe=["width","height","projection","projectionConfig","className"],qw=R.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,a=i===void 0?600:i,s=t.projection,o=s===void 0?"geoEqualEarth":s,l=t.projectionConfig,c=l===void 0?{}:l,u=t.className,d=u===void 0?"":u,h=Li(t,vAe);return B.createElement(WB,{width:r,height:a,projection:o,projectionConfig:c},B.createElement("svg",Br({ref:e,viewBox:"0 0 ".concat(r," ").concat(a),className:"rsm-svg ".concat(d)},h)))});qw.displayName="ComposableMap";qw.propTypes={width:le.number,height:le.number,projection:le.oneOfType([le.string,le.func]),projectionConfig:le.object,className:le.string};function uC(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function xAe(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function dC(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=Rke(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function fC(t){var e=t.type==="Topology";if(!e)return null;var n=qI(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i===a}),r=qI(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i!==a});return{outline:n,borders:r}}function bAe(t,e,n){return t&&e?{outline:sc(sc({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:sc(sc({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function wAe(t,e){return t?t.map(function(n,r){return sc(sc({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function _Ae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],a=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+a," ").concat(-t,",").concat(-e)}function SAe(t){return typeof t=="string"}function EAe(t){var e=t.geography,n=t.parseGeographies,r=R.useContext(Wa),i=r.path,a=R.useState({}),s=Wn(a,2),o=s[0],l=s[1];R.useEffect(function(){(typeof window>"u"?"undefined":O9(window))!=="undefined"&&e&&(SAe(e)?xAe(e).then(function(p){p&&l({geographies:dC(p,n),mesh:fC(p)})}):l({geographies:dC(e,n),mesh:fC(e)}))},[e,n]);var c=R.useMemo(function(){var p=o.mesh||{},g=bAe(p.outline,p.borders,i);return{geographies:wAe(o.geographies,i),outline:g.outline,borders:g.borders}},[o,i]),u=c.geographies,d=c.outline,h=c.borders;return{geographies:u,outline:d,borders:h}}var kAe=["geography","children","parseGeographies","className"],Ww=R.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,a=t.className,s=a===void 0?"":a,o=Li(t,kAe),l=R.useContext(Wa),c=l.path,u=l.projection,d=EAe({geography:n,parseGeographies:i}),h=d.geographies,p=d.outline,g=d.borders;return B.createElement("g",Br({ref:e,className:"rsm-geographies ".concat(s)},o),h&&h.length>0&&r({geographies:h,outline:p,borders:g,path:c,projection:u}))});Ww.displayName="Geographies";Ww.propTypes={geography:le.oneOfType([le.string,le.object,le.array]),children:le.func,parseGeographies:le.func,className:le.string};var PAe=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Hw=R.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,a=t.onMouseDown,s=t.onMouseUp,o=t.onFocus,l=t.onBlur,c=t.style,u=c===void 0?{}:c,d=t.className,h=d===void 0?"":d,p=Li(t,PAe),g=R.useState(!1),x=Wn(g,2),y=x[0],v=x[1],b=R.useState(!1),w=Wn(b,2),S=w[0],E=w[1];function P(j){E(!0),r&&r(j)}function _(j){E(!1),y&&v(!1),i&&i(j)}function k(j){E(!0),o&&o(j)}function N(j){E(!1),y&&v(!1),l&&l(j)}function A(j){v(!0),a&&a(j)}function I(j){v(!1),s&&s(j)}return B.createElement("path",Br({ref:e,tabIndex:"0",className:"rsm-geography ".concat(h),d:n.svgPath,onMouseEnter:P,onMouseLeave:_,onFocus:k,onBlur:N,onMouseDown:A,onMouseUp:I,style:u[y||S?y?"pressed":"hover":"default"]},p))});Hw.displayName="Geography";Hw.propTypes={geography:le.object,onMouseEnter:le.func,onMouseLeave:le.func,onMouseDown:le.func,onMouseUp:le.func,onFocus:le.func,onBlur:le.func,style:le.object,className:le.string};var TAe=R.memo(Hw),NAe=["fill","stroke","step","className"],Gw=R.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,a=i===void 0?"currentcolor":i,s=t.step,o=s===void 0?[10,10]:s,l=t.className,c=l===void 0?"":l,u=Li(t,NAe),d=R.useContext(Wa),h=d.path;return B.createElement("path",Br({ref:e,d:h(ww().step(o)()),fill:r,stroke:a,className:"rsm-graticule ".concat(c)},u))});Gw.displayName="Graticule";Gw.propTypes={fill:le.string,stroke:le.string,step:le.array,className:le.string};R.memo(Gw);var AAe=["value"],IAe=R.createContext(),CAe={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},HB=function(e){var n=e.value,r=n===void 0?CAe:n,i=Li(e,AAe);return B.createElement(IAe.Provider,Br({value:r},i))};HB.propTypes={x:le.number,y:le.number,k:le.number,transformString:le.string};function OAe(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,a=t.onMove,s=t.translateExtent,o=s===void 0?[[-1/0,-1/0],[1/0,1/0]]:s,l=t.scaleExtent,c=l===void 0?[1,8]:l,u=t.zoom,d=u===void 0?1:u,h=R.useContext(Wa),p=h.width,g=h.height,x=h.projection,y=Wn(e,2),v=y[0],b=y[1],w=R.useState({x:0,y:0,k:1}),S=Wn(w,2),E=S[0],P=S[1],_=R.useRef({x:0,y:0,k:1}),k=R.useRef(),N=R.useRef(),A=R.useRef(!1),I=Wn(o,2),j=I[0],O=I[1],$=Wn(j,2),M=$[0],D=$[1],V=Wn(O,2),F=V[0],U=V[1],W=Wn(c,2),G=W[0],H=W[1];return R.useEffect(function(){var te=Za(k.current);function ue(se){!r||A.current||r({coordinates:x.invert(uC(p,g,se.transform)),zoom:se.transform.k},se)}function me(se){if(!A.current){var ve=se.transform,X=se.sourceEvent;P({x:ve.x,y:ve.y,k:ve.k,dragging:X}),a&&a({x:ve.x,y:ve.y,zoom:ve.k,dragging:X},se)}}function Z(se){if(A.current){A.current=!1;return}var ve=x.invert(uC(p,g,se.transform)),X=Wn(ve,2),q=X[0],fe=X[1];_.current={x:q,y:fe,k:se.transform.k},i&&i({coordinates:[q,fe],zoom:se.transform.k},se)}function _e(se){return n?n(se):se?!se.ctrlKey&&!se.button:!1}var Ce=oAe().filter(_e).scaleExtent([G,H]).translateExtent([[M,D],[F,U]]).on("start",ue).on("zoom",me).on("end",Z);N.current=Ce,te.call(Ce)},[p,g,M,D,F,U,G,H,x,r,a,i,n]),R.useEffect(function(){if(!(v===_.current.x&&b===_.current.y&&d===_.current.k)){var te=x([v,b]),ue=te[0]*d,me=te[1]*d,Z=Za(k.current);A.current=!0,Z.call(N.current.transform,zw.translate(p/2-ue,g/2-me).scale(d)),P({x:p/2-ue,y:g/2-me,k:d}),_.current={x:v,y:b,k:d}}},[v,b,d,p,g,x]),{mapRef:k,position:E,transformString:"translate(".concat(E.x," ").concat(E.y,") scale(").concat(E.k,")")}}var jAe=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],GB=R.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,a=i===void 0?1:i,s=t.minZoom,o=s===void 0?1:s,l=t.maxZoom,c=l===void 0?8:l,u=t.translateExtent,d=t.filterZoomEvent,h=t.onMoveStart,p=t.onMove,g=t.onMoveEnd,x=t.className,y=Li(t,jAe),v=R.useContext(Wa),b=v.width,w=v.height,S=OAe({center:r,filterZoomEvent:d,onMoveStart:h,onMove:p,onMoveEnd:g,scaleExtent:[o,c],translateExtent:u,zoom:a}),E=S.mapRef,P=S.transformString,_=S.position;return B.createElement(HB,{value:{x:_.x,y:_.y,k:_.k,transformString:P}},B.createElement("g",{ref:E},B.createElement("rect",{width:b,height:w,fill:"transparent"}),B.createElement("g",Br({ref:e,transform:P,className:"rsm-zoomable-group ".concat(x)},y))))});GB.displayName="ZoomableGroup";GB.propTypes={center:le.array,zoom:le.number,minZoom:le.number,maxZoom:le.number,translateExtent:le.arrayOf(le.array),onMoveStart:le.func,onMove:le.func,onMoveEnd:le.func,className:le.string};var RAe=["id","fill","stroke","strokeWidth","className"],Kw=R.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,a=i===void 0?"transparent":i,s=t.stroke,o=s===void 0?"currentcolor":s,l=t.strokeWidth,c=l===void 0?.5:l,u=t.className,d=u===void 0?"":u,h=Li(t,RAe),p=R.useContext(Wa),g=p.path,x=R.useMemo(function(){return g({type:"Sphere"})},[g]);return B.createElement(R.Fragment,null,B.createElement("defs",null,B.createElement("clipPath",{id:r},B.createElement("path",{d:x}))),B.createElement("path",Br({ref:e,d:x,fill:a,stroke:o,strokeWidth:c,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(d)},h)))});Kw.displayName="Sphere";Kw.propTypes={id:le.string,fill:le.string,stroke:le.string,strokeWidth:le.number,className:le.string};R.memo(Kw);var MAe=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Qw=R.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,a=t.onMouseLeave,s=t.onMouseDown,o=t.onMouseUp,l=t.onFocus,c=t.onBlur,u=t.style,d=u===void 0?{}:u,h=t.className,p=h===void 0?"":h,g=Li(t,MAe),x=R.useContext(Wa),y=x.projection,v=R.useState(!1),b=Wn(v,2),w=b[0],S=b[1],E=R.useState(!1),P=Wn(E,2),_=P[0],k=P[1],N=y(n),A=Wn(N,2),I=A[0],j=A[1];function O(U){k(!0),i&&i(U)}function $(U){k(!1),w&&S(!1),a&&a(U)}function M(U){k(!0),l&&l(U)}function D(U){k(!1),w&&S(!1),c&&c(U)}function V(U){S(!0),s&&s(U)}function F(U){S(!1),o&&o(U)}return B.createElement("g",Br({ref:e,transform:"translate(".concat(I,", ").concat(j,")"),className:"rsm-marker ".concat(p),onMouseEnter:O,onMouseLeave:$,onFocus:M,onBlur:D,onMouseDown:V,onMouseUp:F,style:d[w||_?w?"pressed":"hover":"default"]},g),r)});Qw.displayName="Marker";Qw.propTypes={coordinates:le.array,children:le.oneOfType([le.node,le.arrayOf(le.node)]),onMouseEnter:le.func,onMouseLeave:le.func,onMouseDown:le.func,onMouseUp:le.func,onFocus:le.func,onBlur:le.func,style:le.object,className:le.string};var $Ae=["from","to","coordinates","stroke","strokeWidth","fill","className"],KB=R.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,a=i===void 0?[0,0]:i,s=t.coordinates,o=t.stroke,l=o===void 0?"currentcolor":o,c=t.strokeWidth,u=c===void 0?3:c,d=t.fill,h=d===void 0?"transparent":d,p=t.className,g=p===void 0?"":p,x=Li(t,$Ae),y=R.useContext(Wa),v=y.path,b={type:"LineString",coordinates:s||[r,a]};return B.createElement("path",Br({ref:e,d:v(b),className:"rsm-line ".concat(g),stroke:l,strokeWidth:u,fill:h},x))});KB.displayName="Line";KB.propTypes={from:le.array,to:le.array,coordinates:le.array,stroke:le.string,strokeWidth:le.number,fill:le.string,className:le.string};var DAe=["subject","children","connectorProps","dx","dy","curve","className"],QB=R.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,a=t.dx,s=a===void 0?30:a,o=t.dy,l=o===void 0?30:o,c=t.curve,u=c===void 0?0:c,d=t.className,h=d===void 0?"":d,p=Li(t,DAe),g=R.useContext(Wa),x=g.projection,y=x(n),v=Wn(y,2),b=v[0],w=v[1],S=_Ae(s,l,u);return B.createElement("g",Br({ref:e,transform:"translate(".concat(b+s,", ").concat(w+l,")"),className:"rsm-annotation ".concat(h)},p),B.createElement("path",Br({d:S,fill:"transparent",stroke:"#000"},i)),r)});QB.displayName="Annotation";QB.propTypes={subject:le.array,children:le.oneOfType([le.node,le.arrayOf(le.node)]),dx:le.number,dy:le.number,curve:le.number,connectorProps:le.object,className:le.string};var Rt=1e-6,j9=1e-12,mt=Math.PI,$r=mt/2,hC=mt/4,ci=mt*2,fr=180/mt,Et=mt/180,en=Math.abs,YB=Math.atan,ul=Math.atan2,wt=Math.cos,LAe=Math.exp,R9=Math.hypot,FAe=Math.log,_t=Math.sin,VAe=Math.sign||function(t){return t>0?1:t<0?-1:0},no=Math.sqrt,UAe=Math.tan;function BAe(t){return t>1?0:t<-1?mt:Math.acos(t)}function dl(t){return t>1?$r:t<-1?-$r:Math.asin(t)}function ni(){}function eg(t,e){t&&mC.hasOwnProperty(t.type)&&mC[t.type](t,e)}var pC={Feature:function(t,e){eg(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)eg(n[r].geometry,e)}},mC={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){M9(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)M9(n[r],e,0)},Polygon:function(t,e){gC(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)gC(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)eg(n[r],e)}};function M9(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function gC(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)M9(t[n],e,1);e.polygonEnd()}function xo(t,e){t&&pC.hasOwnProperty(t.type)?pC[t.type](t,e):eg(t,e)}function $9(t){return[ul(t[1],t[0]),dl(t[2])]}function mu(t){var e=t[0],n=t[1],r=wt(n);return[r*wt(e),r*_t(e),_t(n)]}function qp(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function tg(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Y6(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Wp(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function D9(t){var e=no(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Yd,ng,rg,ig,ag,sg,og,lg,L9,F9,V9,XB,JB,yr,vr,xr,Xi={sphere:ni,point:Yw,lineStart:yC,lineEnd:vC,polygonStart:function(){Xi.lineStart=WAe,Xi.lineEnd=HAe},polygonEnd:function(){Xi.lineStart=yC,Xi.lineEnd=vC}};function Yw(t,e){t*=Et,e*=Et;var n=wt(e);M4(n*wt(t),n*_t(t),_t(e))}function M4(t,e,n){++Yd,rg+=(t-rg)/Yd,ig+=(e-ig)/Yd,ag+=(n-ag)/Yd}function yC(){Xi.point=zAe}function zAe(t,e){t*=Et,e*=Et;var n=wt(e);yr=n*wt(t),vr=n*_t(t),xr=_t(e),Xi.point=qAe,M4(yr,vr,xr)}function qAe(t,e){t*=Et,e*=Et;var n=wt(e),r=n*wt(t),i=n*_t(t),a=_t(e),s=ul(no((s=vr*a-xr*i)*s+(s=xr*r-yr*a)*s+(s=yr*i-vr*r)*s),yr*r+vr*i+xr*a);ng+=s,sg+=s*(yr+(yr=r)),og+=s*(vr+(vr=i)),lg+=s*(xr+(xr=a)),M4(yr,vr,xr)}function vC(){Xi.point=Yw}function WAe(){Xi.point=GAe}function HAe(){ZB(XB,JB),Xi.point=Yw}function GAe(t,e){XB=t,JB=e,t*=Et,e*=Et,Xi.point=ZB;var n=wt(e);yr=n*wt(t),vr=n*_t(t),xr=_t(e),M4(yr,vr,xr)}function ZB(t,e){t*=Et,e*=Et;var n=wt(e),r=n*wt(t),i=n*_t(t),a=_t(e),s=vr*a-xr*i,o=xr*r-yr*a,l=yr*i-vr*r,c=R9(s,o,l),u=dl(c),d=c&&-u/c;L9.add(d*s),F9.add(d*o),V9.add(d*l),ng+=u,sg+=u*(yr+(yr=r)),og+=u*(vr+(vr=i)),lg+=u*(xr+(xr=a)),M4(yr,vr,xr)}function KAe(t){Yd=ng=rg=ig=ag=sg=og=lg=0,L9=new Ra,F9=new Ra,V9=new Ra,xo(t,Xi);var e=+L9,n=+F9,r=+V9,i=R9(e,n,r);return i<j9&&(e=sg,n=og,r=lg,ng<Rt&&(e=rg,n=ig,r=ag),i=R9(e,n,r),i<j9)?[NaN,NaN]:[ul(n,e)*fr,dl(r/i)*fr]}function U9(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function B9(t,e){return en(t)>mt&&(t-=Math.round(t/ci)*ci),[t,e]}B9.invert=B9;function ez(t,e,n){return(t%=ci)?e||n?U9(bC(t),wC(e,n)):bC(t):e||n?wC(e,n):B9}function xC(t){return function(e,n){return e+=t,en(e)>mt&&(e-=Math.round(e/ci)*ci),[e,n]}}function bC(t){var e=xC(t);return e.invert=xC(-t),e}function wC(t,e){var n=wt(t),r=_t(t),i=wt(e),a=_t(e);function s(o,l){var c=wt(l),u=wt(o)*c,d=_t(o)*c,h=_t(l),p=h*n+u*r;return[ul(d*i-p*a,u*n-h*r),dl(p*i+d*a)]}return s.invert=function(o,l){var c=wt(l),u=wt(o)*c,d=_t(o)*c,h=_t(l),p=h*i-d*a;return[ul(d*i+h*a,u*n+p*r),dl(p*n-u*r)]},s}function QAe(t){t=ez(t[0]*Et,t[1]*Et,t.length>2?t[2]*Et:0);function e(n){return n=t(n[0]*Et,n[1]*Et),n[0]*=fr,n[1]*=fr,n}return e.invert=function(n){return n=t.invert(n[0]*Et,n[1]*Et),n[0]*=fr,n[1]*=fr,n},e}function YAe(t,e,n,r,i,a){if(n){var s=wt(e),o=_t(e),l=r*n;i==null?(i=e+r*ci,a=e-l/2):(i=_C(s,i),a=_C(s,a),(r>0?i<a:i>a)&&(i+=r*ci));for(var c,u=i;r>0?u>a:u<a;u-=l)c=$9([s,-o*wt(u),-o*_t(u)]),t.point(c[0],c[1])}}function _C(t,e){e=mu(e),e[0]-=t,D9(e);var n=BAe(-e[1]);return((-e[2]<0?-n:n)+ci-Rt)%ci}function tz(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:ni,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function T3(t,e){return en(t[0]-e[0])<Rt&&en(t[1]-e[1])<Rt}function Hp(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function nz(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((x=g.length-1)<=0)){var x,y=g[0],v=g[x],b;if(T3(y,v)){if(!y[2]&&!v[2]){for(i.lineStart(),o=0;o<x;++o)i.point((y=g[o])[0],y[1]);i.lineEnd();return}v[0]+=2*Rt}a.push(b=new Hp(y,g,null,!0)),s.push(b.o=new Hp(y,null,b,!1)),a.push(b=new Hp(v,g,null,!1)),s.push(b.o=new Hp(v,null,b,!0))}}),!!a.length){for(s.sort(e),SC(a),SC(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function SC(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function X6(t){return en(t[0])<=mt?t[0]:VAe(t[0])*((en(t[0])+mt)%ci-mt)}function XAe(t,e){var n=X6(e),r=e[1],i=_t(r),a=[_t(n),-wt(n),0],s=0,o=0,l=new Ra;i===1?r=$r+Rt:i===-1&&(r=-$r-Rt);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=X6(p),x=p[1]/2+hC,y=_t(x),v=wt(x),b=0;b<h;++b,g=S,y=P,v=_,p=w){var w=d[b],S=X6(w),E=w[1]/2+hC,P=_t(E),_=wt(E),k=S-g,N=k>=0?1:-1,A=N*k,I=A>mt,j=y*P;if(l.add(ul(j*N*_t(A),v*_+j*wt(A))),s+=I?k+N*ci:k,I^g>=n^S>=n){var O=tg(mu(p),mu(w));D9(O);var $=tg(a,O);D9($);var M=(I^k>=0?-1:1)*dl($[2]);(r>M||r===M&&(O[0]||O[1]))&&(o+=I^k>=0?1:-1)}}return(s<-Rt||s<Rt&&l<-j9)^o&1}function rz(t,e,n,r){return function(i){var a=e(i),s=tz(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:x,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=x,h.lineEnd=y,u=gF(u);var S=XAe(c,r);u.length?(l||(i.polygonStart(),l=!0),nz(u,ZAe,S,n,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(S,E){t(S,E)&&i.point(S,E)}function g(S,E){a.point(S,E)}function x(){h.point=g,a.lineStart()}function y(){h.point=p,a.lineEnd()}function v(S,E){d.push([S,E]),o.point(S,E)}function b(){o.lineStart(),d=[]}function w(){v(d[0][0],d[0][1]),o.lineEnd();var S=o.clean(),E=s.result(),P,_=E.length,k,N,A;if(d.pop(),c.push(d),d=null,!!_){if(S&1){if(N=E[0],(k=N.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),P=0;P<k;++P)i.point((A=N[P])[0],A[1]);i.lineEnd()}return}_>1&&S&2&&E.push(E.pop().concat(E.shift())),u.push(E.filter(JAe))}}return h}}function JAe(t){return t.length>1}function ZAe(t,e){return((t=t.x)[0]<0?t[1]-$r-Rt:$r-t[1])-((e=e.x)[0]<0?e[1]-$r-Rt:$r-e[1])}const EC=rz(function(){return!0},eIe,nIe,[-mt,-$r]);function eIe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?mt:-mt,l=en(a-e);en(l-mt)<Rt?(t.point(e,n=(n+s)/2>0?$r:-$r),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=mt&&(en(e-r)<Rt&&(e-=r*Rt),en(a-o)<Rt&&(a-=o*Rt),n=tIe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function tIe(t,e,n,r){var i,a,s=_t(t-n);return en(s)>Rt?YB((_t(e)*(a=wt(r))*_t(n)-_t(r)*(i=wt(e))*_t(t))/(i*a*s)):(e+r)/2}function nIe(t,e,n,r){var i;if(t==null)i=n*$r,r.point(-mt,i),r.point(0,i),r.point(mt,i),r.point(mt,0),r.point(mt,-i),r.point(0,-i),r.point(-mt,-i),r.point(-mt,0),r.point(-mt,i);else if(en(t[0]-e[0])>Rt){var a=t[0]<e[0]?mt:-mt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function rIe(t){var e=wt(t),n=2*Et,r=e>0,i=en(e)>Rt;function a(u,d,h,p){YAe(p,t,n,h,u,d)}function s(u,d){return wt(u)*wt(d)>e}function o(u){var d,h,p,g,x;return{lineStart:function(){g=p=!1,x=1},point:function(y,v){var b=[y,v],w,S=s(y,v),E=r?S?0:c(y,v):S?c(y+(y<0?mt:-mt),v):0;if(!d&&(g=p=S)&&u.lineStart(),S!==p&&(w=l(d,b),(!w||T3(d,w)||T3(b,w))&&(b[2]=1)),S!==p)x=0,S?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^S){var P;!(E&h)&&(P=l(b,d,!0))&&(x=0,r?(u.lineStart(),u.point(P[0][0],P[0][1]),u.point(P[1][0],P[1][1]),u.lineEnd()):(u.point(P[1][0],P[1][1]),u.lineEnd(),u.lineStart(),u.point(P[0][0],P[0][1],3)))}S&&(!d||!T3(d,b))&&u.point(b[0],b[1]),d=b,p=S,h=E},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return x|(g&&p)<<1}}}function l(u,d,h){var p=mu(u),g=mu(d),x=[1,0,0],y=tg(p,g),v=qp(y,y),b=y[0],w=v-b*b;if(!w)return!h&&u;var S=e*v/w,E=-e*b/w,P=tg(x,y),_=Wp(x,S),k=Wp(y,E);Y6(_,k);var N=P,A=qp(_,N),I=qp(N,N),j=A*A-I*(qp(_,_)-1);if(!(j<0)){var O=no(j),$=Wp(N,(-A-O)/I);if(Y6($,_),$=$9($),!h)return $;var M=u[0],D=d[0],V=u[1],F=d[1],U;D<M&&(U=M,M=D,D=U);var W=D-M,G=en(W-mt)<Rt,H=G||W<Rt;if(!G&&F<V&&(U=V,V=F,F=U),H?G?V+F>0^$[1]<(en($[0]-M)<Rt?V:F):V<=$[1]&&$[1]<=F:W>mt^(M<=$[0]&&$[0]<=D)){var te=Wp(N,(-A+O)/I);return Y6(te,_),[$,$9(te)]}}}function c(u,d){var h=r?t:mt-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return rz(s,o,a,r?[0,-t]:[-mt,t-mt])}function iIe(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var Xd=1e9,Gp=-Xd;function aIe(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return en(c[0]-t)<Rt?u>0?0:3:en(c[0]-n)<Rt?u>0?2:1:en(c[1]-e)<Rt?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=tz(),h,p,g,x,y,v,b,w,S,E,P,_={point:k,lineStart:j,lineEnd:O,polygonStart:A,polygonEnd:I};function k(M,D){i(M,D)&&u.point(M,D)}function N(){for(var M=0,D=0,V=p.length;D<V;++D)for(var F=p[D],U=1,W=F.length,G=F[0],H,te,ue=G[0],me=G[1];U<W;++U)H=ue,te=me,G=F[U],ue=G[0],me=G[1],te<=r?me>r&&(ue-H)*(r-te)>(me-te)*(t-H)&&++M:me<=r&&(ue-H)*(r-te)<(me-te)*(t-H)&&--M;return M}function A(){u=d,h=[],p=[],P=!0}function I(){var M=N(),D=P&&M,V=(h=gF(h)).length;(D||V)&&(c.polygonStart(),D&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),V&&nz(h,o,M,a,c),c.polygonEnd()),u=c,h=p=g=null}function j(){_.point=$,p&&p.push(g=[]),E=!0,S=!1,b=w=NaN}function O(){h&&($(x,y),v&&S&&d.rejoin(),h.push(d.result())),_.point=k,S&&u.lineEnd()}function $(M,D){var V=i(M,D);if(p&&g.push([M,D]),E)x=M,y=D,v=V,E=!1,V&&(u.lineStart(),u.point(M,D));else if(V&&S)u.point(M,D);else{var F=[b=Math.max(Gp,Math.min(Xd,b)),w=Math.max(Gp,Math.min(Xd,w))],U=[M=Math.max(Gp,Math.min(Xd,M)),D=Math.max(Gp,Math.min(Xd,D))];iIe(F,U,t,e,n,r)?(S||(u.lineStart(),u.point(F[0],F[1])),u.point(U[0],U[1]),V||u.lineEnd(),P=!1):V&&(u.lineStart(),u.point(M,D),P=!1)}b=M,w=D,S=V}return _}}const z9=t=>t;var J6=new Ra,q9=new Ra,iz,az,W9,H9,e0={point:ni,lineStart:ni,lineEnd:ni,polygonStart:function(){e0.lineStart=sIe,e0.lineEnd=lIe},polygonEnd:function(){e0.lineStart=e0.lineEnd=e0.point=ni,J6.add(en(q9)),q9=new Ra},result:function(){var t=J6/2;return J6=new Ra,t}};function sIe(){e0.point=oIe}function oIe(t,e){e0.point=sz,iz=W9=t,az=H9=e}function sz(t,e){q9.add(H9*t-W9*e),W9=t,H9=e}function lIe(){sz(iz,az)}var gu=1/0,cg=gu,Jh=-gu,ug=Jh,dg={point:cIe,lineStart:ni,lineEnd:ni,polygonStart:ni,polygonEnd:ni,result:function(){var t=[[gu,cg],[Jh,ug]];return Jh=ug=-(cg=gu=1/0),t}};function cIe(t,e){t<gu&&(gu=t),t>Jh&&(Jh=t),e<cg&&(cg=e),e>ug&&(ug=e)}var G9=0,K9=0,Jd=0,fg=0,hg=0,oc=0,Q9=0,Y9=0,Zd=0,oz,lz,ba,wa,_i={point:fl,lineStart:kC,lineEnd:PC,polygonStart:function(){_i.lineStart=fIe,_i.lineEnd=hIe},polygonEnd:function(){_i.point=fl,_i.lineStart=kC,_i.lineEnd=PC},result:function(){var t=Zd?[Q9/Zd,Y9/Zd]:oc?[fg/oc,hg/oc]:Jd?[G9/Jd,K9/Jd]:[NaN,NaN];return G9=K9=Jd=fg=hg=oc=Q9=Y9=Zd=0,t}};function fl(t,e){G9+=t,K9+=e,++Jd}function kC(){_i.point=uIe}function uIe(t,e){_i.point=dIe,fl(ba=t,wa=e)}function dIe(t,e){var n=t-ba,r=e-wa,i=no(n*n+r*r);fg+=i*(ba+t)/2,hg+=i*(wa+e)/2,oc+=i,fl(ba=t,wa=e)}function PC(){_i.point=fl}function fIe(){_i.point=pIe}function hIe(){cz(oz,lz)}function pIe(t,e){_i.point=cz,fl(oz=ba=t,lz=wa=e)}function cz(t,e){var n=t-ba,r=e-wa,i=no(n*n+r*r);fg+=i*(ba+t)/2,hg+=i*(wa+e)/2,oc+=i,i=wa*t-ba*e,Q9+=i*(ba+t),Y9+=i*(wa+e),Zd+=i*3,fl(ba=t,wa=e)}function uz(t){this._context=t}uz.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ci);break}}},result:ni};var X9=new Ra,Z6,dz,fz,ef,tf,Zh={point:ni,lineStart:function(){Zh.point=mIe},lineEnd:function(){Z6&&hz(dz,fz),Zh.point=ni},polygonStart:function(){Z6=!0},polygonEnd:function(){Z6=null},result:function(){var t=+X9;return X9=new Ra,t}};function mIe(t,e){Zh.point=hz,dz=ef=t,fz=tf=e}function hz(t,e){ef-=t,tf-=e,X9.add(no(ef*ef+tf*tf)),ef=t,tf=e}let TC,pg,NC,AC;class IC{constructor(e){this._append=e==null?pz:gIe(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==NC||this._append!==pg){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,NC=r,pg=this._append,AC=this._,this._=i}this._+=AC;break}}}result(){const e=this._;return this._="",e.length?e:null}}function pz(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gIe(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return pz;if(e!==TC){const n=10**e;TC=e,pg=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return pg}function yIe(t,e){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),xo(o,i(a))),a.result()}return s.area=function(o){return xo(o,i(e0)),e0.result()},s.measure=function(o){return xo(o,i(Zh)),Zh.result()},s.bounds=function(o){return xo(o,i(dg)),dg.result()},s.centroid=function(o){return xo(o,i(_i)),_i.result()},s.projection=function(o){return arguments.length?(i=o==null?(t=null,z9):(t=o).stream,s):t},s.context=function(o){return arguments.length?(a=o==null?(e=null,new IC(n)):new uz(e=o),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return e===null&&(a=new IC(n)),s},s.projection(t).digits(n).context(e)}function Xw(t){return function(e){var n=new J9;for(var r in t)n[r]=t[r];return n.stream=e,n}}function J9(){}J9.prototype={constructor:J9,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Jw(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),xo(n,t.stream(dg)),e(dg.result()),r!=null&&t.clipExtent(r),t}function mz(t,e,n){return Jw(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function vIe(t,e,n){return mz(t,[[0,0],e],n)}function xIe(t,e,n){return Jw(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function bIe(t,e,n){return Jw(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var CC=16,wIe=wt(30*Et);function OC(t,e){return+e?SIe(t,e):_Ie(t)}function _Ie(t){return Xw({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function SIe(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,x,y){var v=c-r,b=u-i,w=v*v+b*b;if(w>4*e&&x--){var S=s+h,E=o+p,P=l+g,_=no(S*S+E*E+P*P),k=dl(P/=_),N=en(en(P)-1)<Rt||en(a-d)<Rt?(a+d)/2:ul(E,S),A=t(N,k),I=A[0],j=A[1],O=I-r,$=j-i,M=b*O-v*$;(M*M/w>e||en((v*O+b*$)/w-.5)>.3||s*h+o*p+l*g<wIe)&&(n(r,i,a,s,o,l,I,j,N,S/=_,E/=_,P,x,y),y.point(I,j),n(I,j,N,S,E,P,c,u,d,h,p,g,x,y))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,x,y={point:v,lineStart:b,lineEnd:S,polygonStart:function(){r.polygonStart(),y.lineStart=E},polygonEnd:function(){r.polygonEnd(),y.lineStart=b}};function v(k,N){k=t(k,N),r.point(k[0],k[1])}function b(){d=NaN,y.point=w,r.lineStart()}function w(k,N){var A=mu([k,N]),I=t(k,N);n(d,h,u,p,g,x,d=I[0],h=I[1],u=k,p=A[0],g=A[1],x=A[2],CC,r),r.point(d,h)}function S(){y.point=v,r.lineEnd()}function E(){b(),y.point=P,y.lineEnd=_}function P(k,N){w(i=k,N),a=d,s=h,o=p,l=g,c=x,y.point=w}function _(){n(d,h,u,p,g,x,a,s,i,o,l,c,CC,r),y.lineEnd=S,S()}return y}}var EIe=Xw({point:function(t,e){this.stream.point(t*Et,e*Et)}});function kIe(t){return Xw({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function PIe(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function jC(t,e,n,r,i,a){if(!a)return PIe(t,e,n,r,i);var s=wt(a),o=_t(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(x,y){return x*=r,y*=i,[l*x-c*y+e,n-c*x-l*y]}return g.invert=function(x,y){return[r*(u*x-d*y+h),i*(p-d*x-u*y)]},g}function TIe(t){return NIe(function(){return t})()}function NIe(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,x=EC,y=null,v,b,w,S=z9,E=.5,P,_,k,N,A;function I(M){return k(M[0]*Et,M[1]*Et)}function j(M){return M=k.invert(M[0],M[1]),M&&[M[0]*fr,M[1]*fr]}I.stream=function(M){return N&&A===M?N:N=EIe(kIe(u)(x(P(S(A=M)))))},I.preclip=function(M){return arguments.length?(x=M,g=void 0,$()):x},I.postclip=function(M){return arguments.length?(S=M,y=v=b=w=null,$()):S},I.clipAngle=function(M){return arguments.length?(x=+M?rIe(g=M*Et):(g=null,EC),$()):g*fr},I.clipExtent=function(M){return arguments.length?(S=M==null?(y=v=b=w=null,z9):aIe(y=+M[0][0],v=+M[0][1],b=+M[1][0],w=+M[1][1]),$()):y==null?null:[[y,v],[b,w]]},I.scale=function(M){return arguments.length?(n=+M,O()):n},I.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],O()):[r,i]},I.center=function(M){return arguments.length?(a=M[0]%360*Et,s=M[1]%360*Et,O()):[a*fr,s*fr]},I.rotate=function(M){return arguments.length?(o=M[0]%360*Et,l=M[1]%360*Et,c=M.length>2?M[2]%360*Et:0,O()):[o*fr,l*fr,c*fr]},I.angle=function(M){return arguments.length?(d=M%360*Et,O()):d*fr},I.reflectX=function(M){return arguments.length?(h=M?-1:1,O()):h<0},I.reflectY=function(M){return arguments.length?(p=M?-1:1,O()):p<0},I.precision=function(M){return arguments.length?(P=OC(_,E=M*M),$()):no(E)},I.fitExtent=function(M,D){return mz(I,M,D)},I.fitSize=function(M,D){return vIe(I,M,D)},I.fitWidth=function(M,D){return xIe(I,M,D)},I.fitHeight=function(M,D){return bIe(I,M,D)};function O(){var M=jC(n,0,0,h,p,d).apply(null,e(a,s)),D=jC(n,r-M[0],i-M[1],h,p,d);return u=ez(o,l,c),_=U9(e,D),k=U9(u,_),P=OC(_,E),$()}function $(){return N=A=null,I}return function(){return e=t.apply(this,arguments),I.invert=e.invert&&j,O()}}function Zw(t,e){return[t,FAe(UAe(($r+e)/2))]}Zw.invert=function(t,e){return[t,2*YB(LAe(e))-$r]};function AIe(){return IIe(Zw).scale(961/ci)}function IIe(t){var e=TIe(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=mt*r(),h=e(QAe(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===Zw?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}const CIe=`{\r
"type": "FeatureCollection",\r
"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },\r
"features": [\r
{ "type": "Feature", "properties": { "shapeName": "Al-Anbar", "shapeISO": "IQ-AN", "shapeID": "90741666B95383716564687", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 41.215106344000048, 35.13619847800004 ], [ 41.215106344000048, 35.005016305000026 ], [ 41.225123991000032, 34.970135611000046 ], [ 41.220115167000074, 34.791396081000073 ], [ 41.195071049000035, 34.76053965400007 ], [ 41.17253134200007, 34.735846206000076 ], [ 41.124947516000077, 34.68849646700005 ], [ 41.112425457000029, 34.659661619000076 ], [ 41.079868102000034, 34.612268295000035 ], [ 41.072354866000069, 34.593715711000073 ], [ 41.029779864000034, 34.523590780000063 ], [ 41.002231334000044, 34.484377579000068 ], [ 40.98219603900003, 34.447211218000064 ], [ 40.964665155000034, 34.426556090000076 ], [ 40.949638684000035, 34.414160563000053 ], [ 40.909568094000065, 34.399696793000032 ], [ 40.859479856000064, 34.395563827000046 ], [ 40.819409266000036, 34.389363997000032 ], [ 40.769321029000025, 34.387297285000045 ], [ 40.726746027000047, 34.387297285000045 ], [ 40.674153377000039, 34.376962959000025 ], [ 40.621560728000077, 34.354222952000043 ], [ 38.794905311000036, 33.408622035000064 ], [ 39.088391079000075, 32.535391729000025 ], [ 38.991188592000071, 32.508863753000071 ], [ 39.056303301000071, 32.316467330000023 ], [ 39.256656252000028, 32.37782499900004 ], [ 39.304240078000078, 32.267774774000031 ], [ 39.204063602000076, 32.176670758000057 ], [ 40.413694541000041, 31.966573059000041 ], [ 40.997222510000029, 31.638797245000035 ], [ 41.317787231000068, 31.448839288000045 ], [ 41.52314900500005, 31.352646144000062 ], [ 41.668404894000048, 31.294882969000071 ], [ 42.094154914000057, 31.117093041000032 ], [ 42.935637307000036, 30.510549738000066 ], [ 42.935751249000077, 30.513761097000042 ], [ 42.953168190000042, 31.003389915000071 ], [ 42.988229956000055, 31.074202168000056 ], [ 43.005760839000061, 31.10422781300008 ], [ 43.025796134000075, 31.127812733000042 ], [ 43.053344665000054, 31.151391792000027 ], [ 43.080893196000034, 31.166393594000056 ], [ 43.113450550000039, 31.185678136000035 ], [ 43.123468198000069, 31.209242797000059 ], [ 43.123468198000069, 31.339812946000052 ], [ 43.168547612000054, 31.406098950000057 ], [ 43.181069671000046, 31.421060285000067 ], [ 43.203609378000067, 31.448839288000045 ], [ 43.216131437000058, 31.474474136000026 ], [ 43.226149085000031, 31.495831148000036 ], [ 43.223644673000081, 31.608941852000044 ], [ 43.311299089000045, 31.681431185000065 ], [ 43.35387409100008, 31.745345395000072 ], [ 43.386431445000028, 31.798573566000073 ], [ 43.40396232900008, 31.830495763000044 ], [ 43.429006447000063, 31.858152740000037 ], [ 43.456554978000042, 31.881548319000046 ], [ 43.49662556800007, 31.900685739000039 ], [ 43.544209394000063, 31.91131591900006 ], [ 43.586784396000041, 31.926196109000045 ], [ 43.636872634000042, 31.953824360000056 ], [ 43.674438812000062, 31.975071208000031 ], [ 43.714509402000033, 31.998437061000061 ], [ 43.837225584000066, 32.087597364000032 ], [ 43.273732911000025, 32.576422065000031 ], [ 43.426502036000045, 32.61018215200005 ], [ 43.589288808000049, 32.646038305000047 ], [ 43.709500578000075, 32.669231689000071 ], [ 43.797154994000039, 32.707171515000027 ], [ 43.829712349000033, 32.734562471000061 ], [ 43.872287351000068, 32.755626712000037 ], [ 43.902340293000066, 32.772474518000024 ], [ 43.944915295000044, 32.787213733000044 ], [ 43.982481473000064, 32.793529792000072 ], [ 44.025056475000042, 32.793529792000072 ], [ 44.062622654000052, 32.797740248000025 ], [ 44.080153537000058, 32.875597721000076 ], [ 44.10519765600003, 32.91765440000006 ], [ 44.107702068000037, 32.953386873000056 ], [ 44.097684420000064, 32.99960746000005 ], [ 44.097684420000064, 33.039505764000069 ], [ 44.097684420000064, 33.073090328000035 ], [ 44.095180008000057, 33.100368350000053 ], [ 44.090171184000042, 33.127637908000054 ], [ 44.072640301000035, 33.150705537000078 ], [ 44.050100594000071, 33.175863307000043 ], [ 44.030065299000057, 33.194726896000077 ], [ 44.00001235700006, 33.213586423000038 ], [ 43.979977062000046, 33.194726896000077 ], [ 43.967455002000065, 33.196822599000029 ], [ 43.942410883000036, 33.230347035000079 ], [ 43.917366764000064, 33.240820787000075 ], [ 43.907349117000081, 33.259670379000056 ], [ 43.919871176000072, 33.284796842000048 ], [ 43.942410883000036, 33.29317072300006 ], [ 44.125232951000044, 33.29317072300006 ], [ 44.260471192000068, 33.433313682000062 ], [ 44.215391778000026, 33.508521089000055 ], [ 44.165303541000071, 33.577403846000038 ], [ 44.132746186000077, 33.598266566000063 ], [ 44.10519765600003, 33.614953109000055 ], [ 44.082657949000065, 33.631636423000032 ], [ 44.082657949000065, 33.671246343000064 ], [ 44.072640301000035, 33.700420932000043 ], [ 44.045091770000056, 33.725419841000075 ], [ 44.020047652000073, 33.742081736000046 ], [ 43.732040285000039, 33.750411470000074 ], [ 43.70449175400006, 33.773314066000069 ], [ 43.671934400000055, 33.789966656000047 ], [ 43.629359398000076, 33.792048002000058 ], [ 43.60181086700004, 33.792048002000058 ], [ 43.571757925000043, 33.792048002000058 ], [ 43.551722630000029, 33.79412929700004 ], [ 43.521669687000042, 33.79621054200004 ], [ 43.326325560000043, 33.84406520400006 ], [ 43.183574083000053, 33.968777321000061 ], [ 43.183574083000053, 34.004079235000063 ], [ 43.115954962000046, 34.022762546000024 ], [ 43.115954962000046, 34.055967167000063 ], [ 43.103432903000055, 34.08708469100003 ], [ 43.045831429000032, 34.12233739800007 ], [ 42.998247604000028, 34.147212816000035 ], [ 42.920610835000048, 34.228007339000044 ], [ 42.923115247000055, 34.515336902000058 ], [ 42.770346122000035, 34.374895940000044 ], [ 42.442268166000076, 34.558660635000024 ], [ 42.422232871000062, 34.931133724000063 ], [ 41.901315199000067, 34.922920436000027 ], [ 41.743537251000078, 34.974239994000072 ], [ 41.653378423000049, 34.998861968000028 ], [ 41.578246067000066, 35.019374623000033 ], [ 41.52314900500005, 35.03373042000004 ], [ 41.488087239000038, 35.029629021000062 ], [ 41.450521061000074, 35.03373042000004 ], [ 41.415459294000073, 35.048083696000049 ], [ 41.372884292000037, 35.072683445000052 ], [ 41.320291643000076, 35.095226702000048 ], [ 41.280221053000048, 35.113666551000051 ], [ 41.250168110000061, 35.125957466000045 ], [ 41.215106344000048, 35.13619847800004 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Karbala", "shapeISO": "IQ-KA", "shapeID": "90741666B6541054971840", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.273732911000025, 32.576422065000031 ], [ 43.729914548000067, 32.18089201600003 ], [ 44.250453545000028, 32.358787418000077 ], [ 44.222905014000048, 32.420116378000046 ], [ 44.192852072000051, 32.456048469000052 ], [ 44.177825600000062, 32.475065541000049 ], [ 44.167807953000079, 32.489853821000054 ], [ 44.157790305000049, 32.506751736000069 ], [ 44.145268246000057, 32.519423089000043 ], [ 44.125232951000044, 32.542649263000044 ], [ 44.110206479000055, 32.561648028000036 ], [ 44.095180008000057, 32.580642771000043 ], [ 44.082657949000065, 32.593303698000057 ], [ 44.082657949000065, 32.608072519000075 ], [ 44.092675596000049, 32.622838905000037 ], [ 44.102693244000079, 32.637602856000058 ], [ 44.11521530300007, 32.658689988000049 ], [ 44.152781481000034, 32.696634291000066 ], [ 44.165303541000071, 32.707171515000027 ], [ 44.187843248000036, 32.71560039700006 ], [ 44.205374131000042, 32.730349026000056 ], [ 44.207878543000049, 32.740882266000028 ], [ 44.202869719000034, 32.755626712000037 ], [ 44.187843248000036, 32.770368717000053 ], [ 44.170312365000029, 32.772474518000024 ], [ 44.137755010000035, 32.774580270000058 ], [ 44.120224127000029, 32.780897226000036 ], [ 44.085162361000073, 32.791424489000065 ], [ 44.062622654000052, 32.797740248000025 ], [ 44.025056475000042, 32.793529792000072 ], [ 43.982481473000064, 32.793529792000072 ], [ 43.944915295000044, 32.787213733000044 ], [ 43.902340293000066, 32.772474518000024 ], [ 43.872287351000068, 32.755626712000037 ], [ 43.829712349000033, 32.734562471000061 ], [ 43.797154994000039, 32.707171515000027 ], [ 43.709500578000075, 32.669231689000071 ], [ 43.589288808000049, 32.646038305000047 ], [ 43.426502036000045, 32.61018215200005 ], [ 43.273732911000025, 32.576422065000031 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "An-Najaf", "shapeISO": "IQ-NA", "shapeID": "90741666B48190773870201", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 42.935751249000077, 30.513761097000042 ], [ 42.978112132000035, 30.476453047000064 ], [ 43.813614360613677, 29.850955358773959 ], [ 43.813584493000064, 29.850980567000079 ], [ 43.814786054000081, 29.850078172000053 ], [ 43.898132881000038, 29.954287058000034 ], [ 43.95583453100005, 30.034800458000063 ], [ 44.011933357000032, 30.095835997000052 ], [ 44.031167240000059, 30.115248500000064 ], [ 44.039181358000064, 30.134657188000062 ], [ 44.071237831000076, 30.203942774000041 ], [ 44.080854772000066, 30.223334007000062 ], [ 44.088868890000072, 30.245490736000079 ], [ 44.096883008000077, 30.264873776000059 ], [ 44.109705597000072, 30.293941164000046 ], [ 44.116116891000047, 30.321616382000059 ], [ 44.152981834000059, 30.412889127000028 ], [ 44.257165369000063, 30.607595038000056 ], [ 44.278002075000074, 30.629664674000026 ], [ 44.362951727000052, 30.711002950000079 ], [ 44.454312672000071, 30.806040425000049 ], [ 44.53445385200007, 30.892731767000043 ], [ 44.545673617000034, 30.916111240000077 ], [ 44.552084912000055, 30.935360635000052 ], [ 44.563304677000076, 30.964227462000053 ], [ 44.571318795000025, 30.984841283000037 ], [ 44.57933291300003, 31.045282799000063 ], [ 44.592155502000026, 31.083725614000059 ], [ 44.606580914000062, 31.108430646000045 ], [ 44.624211974000048, 31.127641227000026 ], [ 44.643445857000074, 31.142732528000067 ], [ 44.675502329000039, 31.194847629000037 ], [ 44.712367272000051, 31.260636223000063 ], [ 44.771671746000038, 31.378392812000072 ], [ 44.779685864000044, 31.39891666300008 ], [ 44.775333671000055, 31.409131973000058 ], [ 44.77327456900008, 31.41396463500007 ], [ 44.758849157000043, 31.422171603000038 ], [ 44.712367272000051, 31.420803825000064 ], [ 44.68191362400006, 31.424907099000052 ], [ 44.667488211000034, 31.431745491000072 ], [ 44.640240210000059, 31.437215845000026 ], [ 44.612992209000026, 31.438583384000026 ], [ 44.572921619000056, 31.44405333900005 ], [ 44.550482088000081, 31.453624992000073 ], [ 44.537659499000029, 31.465929966000033 ], [ 44.52964538100008, 31.479600263000066 ], [ 44.521631263000074, 31.493268564000061 ], [ 44.516822793000074, 31.504201766000051 ], [ 44.504000204000079, 31.517866470000058 ], [ 44.489574791000052, 31.531529177000039 ], [ 44.475149379000072, 31.549287707000076 ], [ 44.462326790000077, 31.564311517000078 ], [ 44.44309290700005, 31.595717117000049 ], [ 44.44309290700005, 31.610733445000051 ], [ 44.444695730000035, 31.625747352000076 ], [ 44.455915496000046, 31.627112132000036 ], [ 44.489574791000052, 31.629841633000069 ], [ 44.513617145000069, 31.636665035000078 ], [ 44.515219969000043, 31.651674757000023 ], [ 44.512014322000027, 31.674866832000077 ], [ 44.497588909000058, 31.699416836000069 ], [ 44.489574791000052, 31.713052921000042 ], [ 44.478355026000031, 31.73214007100006 ], [ 44.478355026000031, 31.747134359000029 ], [ 44.491177615000026, 31.759400608000078 ], [ 44.513617145000069, 31.771665231000043 ], [ 44.520028440000033, 31.788015533000078 ], [ 44.513617145000069, 31.804362944000047 ], [ 44.502397380000048, 31.839772412000059 ], [ 44.504000204000079, 31.856110662000049 ], [ 44.518425616000059, 31.867001221000066 ], [ 44.539262323000059, 31.877890493000052 ], [ 44.556893383000045, 31.886056603000043 ], [ 44.56490750100005, 31.905108043000041 ], [ 44.561701853000045, 31.921434711000074 ], [ 44.547276441000065, 31.941838970000049 ], [ 44.532851029000028, 31.958159116000047 ], [ 44.523234087000048, 31.977195623000057 ], [ 44.516822793000074, 31.99758749800003 ], [ 44.512014322000027, 32.020692810000071 ], [ 44.512014322000027, 32.032922675000066 ], [ 44.512014322000027, 32.05330215500004 ], [ 44.515219969000043, 32.072318909000046 ], [ 44.515219969000043, 32.094047500000045 ], [ 44.516822793000074, 32.113055779000035 ], [ 44.526439734000064, 32.130702780000036 ], [ 44.544070794000049, 32.14291793600006 ], [ 44.558496206000029, 32.153774479000049 ], [ 44.584141384000077, 32.16734333900007 ], [ 44.587347031000036, 32.178196972000023 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.576127266000071, 32.187692840000068 ], [ 44.552084912000055, 32.206681604000039 ], [ 44.483163497000078, 32.241935936000061 ], [ 44.470340908000026, 32.250069609000036 ], [ 44.44790137800004, 32.263624112000059 ], [ 44.41744772900006, 32.251425150000046 ], [ 44.40302231700008, 32.233801534000065 ], [ 44.385391257000038, 32.216174500000079 ], [ 44.358143256000062, 32.183623303000047 ], [ 44.305250077000039, 32.176840338000034 ], [ 44.287619017000054, 32.184979835000036 ], [ 44.282810546000064, 32.201256647000037 ], [ 44.278002075000074, 32.220242580000047 ], [ 44.278002075000074, 32.237868826000067 ], [ 44.276399252000033, 32.256847113000049 ], [ 44.271590781000043, 32.274466257000029 ], [ 44.265179487000069, 32.293436893000035 ], [ 44.263576663000038, 32.308339609000029 ], [ 44.250453545000028, 32.358787418000077 ], [ 43.729914548000067, 32.18089201600003 ], [ 43.837225584000066, 32.087597364000032 ], [ 43.714509402000033, 31.998437061000061 ], [ 43.674438812000062, 31.975071208000031 ], [ 43.636872634000042, 31.953824360000056 ], [ 43.586784396000041, 31.926196109000045 ], [ 43.544209394000063, 31.91131591900006 ], [ 43.49662556800007, 31.900685739000039 ], [ 43.456554978000042, 31.881548319000046 ], [ 43.429006447000063, 31.858152740000037 ], [ 43.40396232900008, 31.830495763000044 ], [ 43.386431445000028, 31.798573566000073 ], [ 43.35387409100008, 31.745345395000072 ], [ 43.311299089000045, 31.681431185000065 ], [ 43.223644673000081, 31.608941852000044 ], [ 43.226149085000031, 31.495831148000036 ], [ 43.216131437000058, 31.474474136000026 ], [ 43.203609378000067, 31.448839288000045 ], [ 43.181069671000046, 31.421060285000067 ], [ 43.168547612000054, 31.406098950000057 ], [ 43.123468198000069, 31.339812946000052 ], [ 43.123468198000069, 31.209242797000059 ], [ 43.113450550000039, 31.185678136000035 ], [ 43.080893196000034, 31.166393594000056 ], [ 43.053344665000054, 31.151391792000027 ], [ 43.025796134000075, 31.127812733000042 ], [ 43.005760839000061, 31.10422781300008 ], [ 42.988229956000055, 31.074202168000056 ], [ 42.953168190000042, 31.003389915000071 ], [ 42.935751249000077, 30.513761097000042 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Babil", "shapeISO": "IQ-BB", "shapeID": "90741666B44177402341950", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.062622654000052, 32.797740248000025 ], [ 44.085162361000073, 32.791424489000065 ], [ 44.120224127000029, 32.780897226000036 ], [ 44.137755010000035, 32.774580270000058 ], [ 44.170312365000029, 32.772474518000024 ], [ 44.187843248000036, 32.770368717000053 ], [ 44.202869719000034, 32.755626712000037 ], [ 44.207878543000049, 32.740882266000028 ], [ 44.205374131000042, 32.730349026000056 ], [ 44.187843248000036, 32.71560039700006 ], [ 44.165303541000071, 32.707171515000027 ], [ 44.152781481000034, 32.696634291000066 ], [ 44.11521530300007, 32.658689988000049 ], [ 44.102693244000079, 32.637602856000058 ], [ 44.092675596000049, 32.622838905000037 ], [ 44.082657949000065, 32.608072519000075 ], [ 44.082657949000065, 32.593303698000057 ], [ 44.095180008000057, 32.580642771000043 ], [ 44.110206479000055, 32.561648028000036 ], [ 44.125232951000044, 32.542649263000044 ], [ 44.145268246000057, 32.519423089000043 ], [ 44.157790305000049, 32.506751736000069 ], [ 44.167807953000079, 32.489853821000054 ], [ 44.177825600000062, 32.475065541000049 ], [ 44.192852072000051, 32.456048469000052 ], [ 44.222905014000048, 32.420116378000046 ], [ 44.250453545000028, 32.358787418000077 ], [ 44.263576663000038, 32.308339609000029 ], [ 44.265179487000069, 32.293436893000035 ], [ 44.271590781000043, 32.274466257000029 ], [ 44.276399252000033, 32.256847113000049 ], [ 44.278002075000074, 32.237868826000067 ], [ 44.278002075000074, 32.220242580000047 ], [ 44.282810546000064, 32.201256647000037 ], [ 44.287619017000054, 32.184979835000036 ], [ 44.305250077000039, 32.176840338000034 ], [ 44.358143256000062, 32.183623303000047 ], [ 44.385391257000038, 32.216174500000079 ], [ 44.40302231700008, 32.233801534000065 ], [ 44.41744772900006, 32.251425150000046 ], [ 44.44790137800004, 32.263624112000059 ], [ 44.470340908000026, 32.250069609000036 ], [ 44.483163497000078, 32.241935936000061 ], [ 44.552084912000055, 32.206681604000039 ], [ 44.576127266000071, 32.187692840000068 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.608183738000037, 32.168700113000057 ], [ 44.621006327000032, 32.170056868000074 ], [ 44.635431739000069, 32.161916037000026 ], [ 44.649857152000038, 32.153774479000049 ], [ 44.673899506000055, 32.149703427000077 ], [ 44.704353154000046, 32.148346369000024 ], [ 44.721984214000031, 32.144275074000063 ], [ 44.746026568000048, 32.133417401000031 ], [ 44.771671746000038, 32.132060101000036 ], [ 44.805331041000045, 32.132060101000036 ], [ 44.826167748000046, 32.140203598000028 ], [ 44.830976219000036, 32.15513145500006 ], [ 44.830976219000036, 32.171413603000076 ], [ 44.830976219000036, 32.189049311000076 ], [ 44.829373395000061, 32.205325395000045 ], [ 44.829373395000061, 32.227022310000052 ], [ 44.847004455000047, 32.259557973000028 ], [ 44.863032691000058, 32.266334770000071 ], [ 44.877458104000027, 32.267690068000036 ], [ 44.893486340000038, 32.269045346000041 ], [ 44.907911752000075, 32.274466257000029 ], [ 44.93035128300005, 32.281241940000029 ], [ 44.946379519000061, 32.286662122000052 ], [ 44.960804931000041, 32.296146660000034 ], [ 44.980038814000068, 32.325948749000077 ], [ 44.991258580000078, 32.339491912000028 ], [ 45.031329170000049, 32.343554466000057 ], [ 45.04254893500007, 32.350324983000064 ], [ 45.053768700000035, 32.36251063800006 ], [ 45.06178281800004, 32.376048328000024 ], [ 45.06659128900003, 32.389583990000062 ], [ 45.069796936000046, 32.400411060000067 ], [ 45.081016701000067, 32.407177319000027 ], [ 45.098647761000052, 32.412589962000027 ], [ 45.111470350000047, 32.418002279000063 ], [ 45.125895762000027, 32.423414272000059 ], [ 45.143526822000069, 32.435590069000057 ], [ 45.157952234000049, 32.45587941000008 ], [ 45.146732469000028, 32.473459810000065 ], [ 45.127498586000058, 32.482924758000024 ], [ 45.108264703000032, 32.484276812000076 ], [ 45.087427996000031, 32.488332853000031 ], [ 45.069796936000046, 32.497796237000045 ], [ 45.06659128900003, 32.518071563000035 ], [ 45.071399760000077, 32.528883201000042 ], [ 45.079413878000025, 32.542395919000057 ], [ 45.093839290000062, 32.558608496000033 ], [ 45.116278821000037, 32.573467452000045 ], [ 45.137115528000038, 32.580220710000049 ], [ 45.151540940000075, 32.597776798000041 ], [ 45.146732469000028, 32.60722865200006 ], [ 45.103456232000042, 32.60722865200006 ], [ 45.084222349000072, 32.608578836000049 ], [ 45.064988465000056, 32.62207955100007 ], [ 45.058577171000081, 32.669316018000075 ], [ 45.063385642000071, 32.680109421000054 ], [ 45.082619525000041, 32.696297080000079 ], [ 45.079413878000025, 32.70304107100003 ], [ 45.063385642000071, 32.707087222000041 ], [ 45.04254893500007, 32.709784553000077 ], [ 45.018506581000054, 32.717876059000048 ], [ 44.997669874000053, 32.735405137000043 ], [ 44.988052932000073, 32.747538633000033 ], [ 44.957599284000025, 32.779886543000032 ], [ 44.936762577000081, 32.797403419000034 ], [ 44.91432304600005, 32.809528466000074 ], [ 44.874252456000079, 32.814916845000027 ], [ 44.835784690000025, 32.821651860000031 ], [ 44.80853668900005, 32.835120356000061 ], [ 44.752437862000079, 32.880897962000063 ], [ 44.741218097000058, 32.915888421000034 ], [ 44.728395508000062, 32.929342609000059 ], [ 44.678707977000045, 32.933378467000068 ], [ 44.654665623000028, 32.925306568000053 ], [ 44.632226092000053, 32.910506174000034 ], [ 44.593758326000057, 32.913197338000032 ], [ 44.571318795000025, 32.923961180000049 ], [ 44.568113148000066, 32.936068936000026 ], [ 44.556893383000045, 32.953554992000079 ], [ 44.53445385200007, 32.973726912000075 ], [ 44.513617145000069, 32.981794390000061 ], [ 44.500794557000063, 32.989861131000055 ], [ 44.495986086000073, 33.000615639000046 ], [ 44.492780439000057, 33.018088919000036 ], [ 44.500794557000063, 33.032871298000032 ], [ 44.515219969000043, 33.039589742000032 ], [ 44.531248205000054, 33.040933369000072 ], [ 44.548879265000039, 33.050338186000033 ], [ 44.552084912000055, 33.062428617000023 ], [ 44.550482088000081, 33.079889642000069 ], [ 44.548879265000039, 33.102718061000076 ], [ 44.556893383000045, 33.116143773000033 ], [ 44.568113148000066, 33.129567433000034 ], [ 44.566510324000035, 33.142989042000067 ], [ 44.556893383000045, 33.176534082000046 ], [ 44.545673617000034, 33.192631142000039 ], [ 44.528042558000038, 33.202019728000039 ], [ 44.507205851000037, 33.212748308000073 ], [ 44.495986086000073, 33.224816388000079 ], [ 44.492780439000057, 33.240904572000034 ], [ 44.492780439000057, 33.256989796000028 ], [ 44.483163497000078, 33.275752148000038 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.449504201000025, 33.275752148000038 ], [ 44.419050553000034, 33.275752148000038 ], [ 44.396611022000059, 33.269051771000079 ], [ 44.370965845000057, 33.256989796000028 ], [ 44.350129138000057, 33.24894755400004 ], [ 44.324483960000066, 33.242245120000064 ], [ 44.289221841000028, 33.234201522000035 ], [ 44.252356898000073, 33.230179445000033 ], [ 44.228314544000057, 33.231520158000023 ], [ 44.201066542000035, 33.238223414000061 ], [ 44.15939312900008, 33.258330098000044 ], [ 44.125232951000044, 33.29317072300006 ], [ 43.942410883000036, 33.29317072300006 ], [ 43.919871176000072, 33.284796842000048 ], [ 43.907349117000081, 33.259670379000056 ], [ 43.917366764000064, 33.240820787000075 ], [ 43.942410883000036, 33.230347035000079 ], [ 43.967455002000065, 33.196822599000029 ], [ 43.979977062000046, 33.194726896000077 ], [ 44.00001235700006, 33.213586423000038 ], [ 44.030065299000057, 33.194726896000077 ], [ 44.050100594000071, 33.175863307000043 ], [ 44.072640301000035, 33.150705537000078 ], [ 44.090171184000042, 33.127637908000054 ], [ 44.095180008000057, 33.100368350000053 ], [ 44.097684420000064, 33.073090328000035 ], [ 44.097684420000064, 33.039505764000069 ], [ 44.097684420000064, 32.99960746000005 ], [ 44.107702068000037, 32.953386873000056 ], [ 44.10519765600003, 32.91765440000006 ], [ 44.080153537000058, 32.875597721000076 ], [ 44.062622654000052, 32.797740248000025 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Baghdad", "shapeISO": "IQ-BG", "shapeID": "90741666B78865175105083", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.125232951000044, 33.29317072300006 ], [ 44.15939312900008, 33.258330098000044 ], [ 44.201066542000035, 33.238223414000061 ], [ 44.228314544000057, 33.231520158000023 ], [ 44.252356898000073, 33.230179445000033 ], [ 44.289221841000028, 33.234201522000035 ], [ 44.324483960000066, 33.242245120000064 ], [ 44.350129138000057, 33.24894755400004 ], [ 44.370965845000057, 33.256989796000028 ], [ 44.396611022000059, 33.269051771000079 ], [ 44.419050553000034, 33.275752148000038 ], [ 44.449504201000025, 33.275752148000038 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.523234087000048, 33.279772128000047 ], [ 44.542467970000075, 33.283791923000024 ], [ 44.56490750100005, 33.289151361000052 ], [ 44.580935737000061, 33.295850195000071 ], [ 44.592155502000026, 33.306567261000055 ], [ 44.598566796000057, 33.318622385000026 ], [ 44.596963973000072, 33.329336652000052 ], [ 44.598566796000057, 33.385564935000048 ], [ 44.595361149000041, 33.409651647000032 ], [ 44.593758326000057, 33.437744371000065 ], [ 44.590552678000051, 33.457805036000025 ], [ 44.55368773500004, 33.492565863000038 ], [ 44.345320667000067, 33.495239195000067 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.260471192000068, 33.433313682000062 ], [ 44.125232951000044, 33.29317072300006 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Qadisiyah", "shapeISO": "IQ-QA", "shapeID": "90741666B96348295205066", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.775333671000055, 31.409131973000058 ], [ 44.821359277000056, 31.404388932000074 ], [ 44.827770572000077, 31.400284760000034 ], [ 44.843798808000031, 31.38933942400007 ], [ 44.855018573000052, 31.377024396000024 ], [ 44.867841162000047, 31.360601848000044 ], [ 44.882266574000028, 31.340069627000048 ], [ 44.89989763400007, 31.322271411000031 ], [ 44.923939988000029, 31.308578186000034 ], [ 44.955996460000051, 31.288034615000072 ], [ 44.964010578000057, 31.290774016000057 ], [ 44.978435991000026, 31.305839302000038 ], [ 44.986450109000032, 31.319532925000033 ], [ 44.994464227000037, 31.349651888000039 ], [ 44.999272698000027, 31.367444925000029 ], [ 45.007286816000033, 31.381129585000053 ], [ 45.018506581000054, 31.401652837000029 ], [ 45.031329170000049, 31.418068209000069 ], [ 45.039343288000055, 31.431745491000072 ], [ 45.039343288000055, 31.44405333900005 ], [ 45.04254893500007, 31.459094069000059 ], [ 45.050563053000076, 31.472765364000054 ], [ 45.052165876000061, 31.489168283000026 ], [ 45.060179995000055, 31.508301387000074 ], [ 45.073002583000061, 31.524698073000025 ], [ 45.119484468000053, 31.569774121000023 ], [ 45.130704233000074, 31.587525372000073 ], [ 45.13871835100008, 31.60390814200008 ], [ 45.133909880000033, 31.616193328000065 ], [ 45.119484468000053, 31.627112132000036 ], [ 45.105059055000027, 31.640758836000032 ], [ 45.098647761000052, 31.653039157000023 ], [ 45.089030819000072, 31.663953636000031 ], [ 45.071399760000077, 31.683050889000071 ], [ 45.05697434700005, 31.693961841000032 ], [ 45.055371524000066, 31.703507872000046 ], [ 45.064988465000056, 31.711689402000047 ], [ 45.085825172000057, 31.713052921000042 ], [ 45.124292939000043, 31.711689402000047 ], [ 45.165966352000055, 31.708962306000046 ], [ 45.194817177000061, 31.710325864000026 ], [ 45.217256708000036, 31.721233609000024 ], [ 45.230079297000032, 31.744408305000036 ], [ 45.241299062000053, 31.767577204000077 ], [ 45.258930121000049, 31.774390482000058 ], [ 45.292589417000045, 31.76621448800006 ], [ 45.302206359000081, 31.756674915000076 ], [ 45.324645889000067, 31.751223289000052 ], [ 45.363113656000053, 31.751223289000052 ], [ 45.391964481000059, 31.744408305000036 ], [ 45.456077425000046, 31.73077683300005 ], [ 45.491339544000027, 31.723960345000023 ], [ 45.597125902000073, 31.693961841000032 ], [ 45.717337672000042, 31.656259061000071 ], [ 45.752022775000057, 31.647963487000027 ], [ 45.774590532000047, 31.646216957000036 ], [ 45.778693760000067, 31.649709986000062 ], [ 45.78279698800003, 31.654949283000064 ], [ 45.783822795000049, 31.663680789000068 ], [ 45.783822795000049, 31.670665404000033 ], [ 45.783822795000049, 31.682887214000061 ], [ 45.783822795000049, 31.69336177200006 ], [ 45.783822795000049, 31.706453306000071 ], [ 45.781771181000067, 31.717797808000057 ], [ 45.777667953000048, 31.731758366000065 ], [ 45.774590532000047, 31.753567528000076 ], [ 45.769461496000076, 31.786707615000068 ], [ 45.765358268000057, 31.803273206000028 ], [ 45.759203425000067, 31.828551804000028 ], [ 45.754074389000039, 31.839881343000059 ], [ 45.740738897000028, 31.854694795000057 ], [ 45.728429212000037, 31.867763512000067 ], [ 45.721248562000028, 31.87560385300003 ], [ 45.717145334000065, 31.95135940800003 ], [ 45.714067912000075, 31.985298537000062 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.704835648000028, 32.001828439000064 ], [ 45.696629191000056, 32.013136655000039 ], [ 45.691500156000075, 32.023573769000052 ], [ 45.690474349000056, 32.040096770000048 ], [ 45.684319506000065, 32.053139137000073 ], [ 45.679190471000027, 32.068787525000062 ], [ 45.672009821000074, 32.081825803000072 ], [ 45.664829171000065, 32.089647877000061 ], [ 45.645338836000064, 32.107896780000033 ], [ 45.622771080000064, 32.14612075000008 ], [ 45.589945252000064, 32.186065047000056 ], [ 45.545835547000081, 32.228595135000035 ], [ 45.489416156000061, 32.273707349000063 ], [ 45.478132278000032, 32.290185066000049 ], [ 45.466848399000071, 32.306659789000037 ], [ 45.440177415000051, 32.320530917000042 ], [ 45.42068708000005, 32.331799644000057 ], [ 45.405299973000069, 32.33873354900004 ], [ 45.385809638000069, 32.347400182000058 ], [ 45.376577374000078, 32.356065985000043 ], [ 45.370422531000031, 32.364730958000052 ], [ 45.357087039000078, 32.379459506000046 ], [ 45.337596704000077, 32.395051823000074 ], [ 45.312977333000049, 32.407177319000027 ], [ 45.293486998000049, 32.413239457000032 ], [ 45.266816014000028, 32.41930118700003 ], [ 45.252454714000066, 32.424496632000057 ], [ 45.222706308000056, 32.426228380000055 ], [ 45.188854673000037, 32.441812619000075 ], [ 45.157952234000049, 32.45587941000008 ], [ 45.143526822000069, 32.435590069000057 ], [ 45.125895762000027, 32.423414272000059 ], [ 45.111470350000047, 32.418002279000063 ], [ 45.098647761000052, 32.412589962000027 ], [ 45.081016701000067, 32.407177319000027 ], [ 45.069796936000046, 32.400411060000067 ], [ 45.06659128900003, 32.389583990000062 ], [ 45.06178281800004, 32.376048328000024 ], [ 45.053768700000035, 32.36251063800006 ], [ 45.04254893500007, 32.350324983000064 ], [ 45.031329170000049, 32.343554466000057 ], [ 44.991258580000078, 32.339491912000028 ], [ 44.980038814000068, 32.325948749000077 ], [ 44.960804931000041, 32.296146660000034 ], [ 44.946379519000061, 32.286662122000052 ], [ 44.93035128300005, 32.281241940000029 ], [ 44.907911752000075, 32.274466257000029 ], [ 44.893486340000038, 32.269045346000041 ], [ 44.877458104000027, 32.267690068000036 ], [ 44.863032691000058, 32.266334770000071 ], [ 44.847004455000047, 32.259557973000028 ], [ 44.829373395000061, 32.227022310000052 ], [ 44.829373395000061, 32.205325395000045 ], [ 44.830976219000036, 32.189049311000076 ], [ 44.830976219000036, 32.171413603000076 ], [ 44.830976219000036, 32.15513145500006 ], [ 44.826167748000046, 32.140203598000028 ], [ 44.805331041000045, 32.132060101000036 ], [ 44.771671746000038, 32.132060101000036 ], [ 44.746026568000048, 32.133417401000031 ], [ 44.721984214000031, 32.144275074000063 ], [ 44.704353154000046, 32.148346369000024 ], [ 44.673899506000055, 32.149703427000077 ], [ 44.649857152000038, 32.153774479000049 ], [ 44.635431739000069, 32.161916037000026 ], [ 44.621006327000032, 32.170056868000074 ], [ 44.608183738000037, 32.168700113000057 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.587347031000036, 32.178196972000023 ], [ 44.584141384000077, 32.16734333900007 ], [ 44.558496206000029, 32.153774479000049 ], [ 44.544070794000049, 32.14291793600006 ], [ 44.526439734000064, 32.130702780000036 ], [ 44.516822793000074, 32.113055779000035 ], [ 44.515219969000043, 32.094047500000045 ], [ 44.515219969000043, 32.072318909000046 ], [ 44.512014322000027, 32.05330215500004 ], [ 44.512014322000027, 32.032922675000066 ], [ 44.512014322000027, 32.020692810000071 ], [ 44.516822793000074, 31.99758749800003 ], [ 44.523234087000048, 31.977195623000057 ], [ 44.532851029000028, 31.958159116000047 ], [ 44.547276441000065, 31.941838970000049 ], [ 44.561701853000045, 31.921434711000074 ], [ 44.56490750100005, 31.905108043000041 ], [ 44.556893383000045, 31.886056603000043 ], [ 44.539262323000059, 31.877890493000052 ], [ 44.518425616000059, 31.867001221000066 ], [ 44.504000204000079, 31.856110662000049 ], [ 44.502397380000048, 31.839772412000059 ], [ 44.513617145000069, 31.804362944000047 ], [ 44.520028440000033, 31.788015533000078 ], [ 44.513617145000069, 31.771665231000043 ], [ 44.491177615000026, 31.759400608000078 ], [ 44.478355026000031, 31.747134359000029 ], [ 44.478355026000031, 31.73214007100006 ], [ 44.489574791000052, 31.713052921000042 ], [ 44.497588909000058, 31.699416836000069 ], [ 44.512014322000027, 31.674866832000077 ], [ 44.515219969000043, 31.651674757000023 ], [ 44.513617145000069, 31.636665035000078 ], [ 44.489574791000052, 31.629841633000069 ], [ 44.455915496000046, 31.627112132000036 ], [ 44.444695730000035, 31.625747352000076 ], [ 44.44309290700005, 31.610733445000051 ], [ 44.44309290700005, 31.595717117000049 ], [ 44.462326790000077, 31.564311517000078 ], [ 44.475149379000072, 31.549287707000076 ], [ 44.489574791000052, 31.531529177000039 ], [ 44.504000204000079, 31.517866470000058 ], [ 44.516822793000074, 31.504201766000051 ], [ 44.521631263000074, 31.493268564000061 ], [ 44.52964538100008, 31.479600263000066 ], [ 44.537659499000029, 31.465929966000033 ], [ 44.550482088000081, 31.453624992000073 ], [ 44.572921619000056, 31.44405333900005 ], [ 44.612992209000026, 31.438583384000026 ], [ 44.640240210000059, 31.437215845000026 ], [ 44.667488211000034, 31.431745491000072 ], [ 44.68191362400006, 31.424907099000052 ], [ 44.712367272000051, 31.420803825000064 ], [ 44.758849157000043, 31.422171603000038 ], [ 44.77327456900008, 31.41396463500007 ], [ 44.775333671000055, 31.409131973000058 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Muthanna", "shapeISO": "IQ-MU", "shapeID": "90741666B65782159470120", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.813614360613677, 29.850955358773959 ], [ 43.914862353000046, 29.765502188000028 ], [ 44.727241475000028, 29.13533424700006 ], [ 44.965228724000042, 29.114723861000073 ], [ 45.349420784000074, 29.084658041000068 ], [ 45.482467665000058, 29.07439841300004 ], [ 45.666385413000057, 29.064137764000066 ], [ 46.026394621000065, 29.026506647000076 ], [ 46.456840413000066, 28.99912994400006 ], [ 46.570321576000026, 29.033349689000033 ], [ 46.571063096000046, 29.06360058000007 ], [ 46.573245477000057, 29.152581068000075 ], [ 46.590876537000042, 29.313430266000069 ], [ 46.611713244000043, 29.33858377200005 ], [ 46.622933009000064, 29.349761117000071 ], [ 46.643769716000065, 29.376302396000028 ], [ 46.653386657000055, 29.398647580000045 ], [ 46.65498948100003, 29.416799428000047 ], [ 46.651783834000071, 29.427968184000065 ], [ 46.646975363000081, 29.443323219000035 ], [ 46.64537253900005, 29.580020019000074 ], [ 46.65498948100003, 29.64690613700003 ], [ 46.671017717000041, 29.730451324000057 ], [ 46.680634659000077, 29.758284278000076 ], [ 46.688648777000026, 29.780545077000056 ], [ 46.701471366000078, 29.822270737000053 ], [ 46.712691131000042, 29.884826576000023 ], [ 46.730322190000038, 29.98622259900003 ], [ 46.735130661000028, 30.012596389000066 ], [ 46.744747603000064, 30.040350699000044 ], [ 46.746350426000049, 30.160991448000061 ], [ 46.719102425000074, 30.208098360000065 ], [ 46.677429011000072, 30.256567227000062 ], [ 46.656592305000061, 30.285637074000078 ], [ 46.638961245000075, 30.31469831000004 ], [ 46.627741480000054, 30.343750930000056 ], [ 46.624535833000039, 30.356199414000059 ], [ 46.611713244000043, 30.374177762000045 ], [ 46.606904773000053, 30.400447861000032 ], [ 46.605301949000079, 30.437766901000032 ], [ 46.605301949000079, 30.462638330000061 ], [ 46.600493478000033, 30.486122183000077 ], [ 46.584465242000078, 30.502695611000036 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.573245477000057, 30.513742993000051 ], [ 46.557217241000046, 30.516504643000076 ], [ 46.52355794500005, 30.523408423000035 ], [ 46.50913253300007, 30.538595014000066 ], [ 46.497912768000049, 30.55653974300003 ], [ 46.483487355000079, 30.578621008000027 ], [ 46.462650648000078, 30.611733478000076 ], [ 46.408154646000071, 30.680681431000039 ], [ 46.388920763000044, 30.699978045000023 ], [ 46.361672761000079, 30.722026594000056 ], [ 46.324807818000068, 30.745447655000078 ], [ 46.28954569900003, 30.768863021000072 ], [ 46.249475109000059, 30.79778002200004 ], [ 46.204596048000042, 30.801910312000075 ], [ 46.090795572000047, 30.803287036000029 ], [ 46.005845921000059, 30.804663740000024 ], [ 45.920896270000071, 30.814300118000062 ], [ 45.810301441000036, 30.830817373000059 ], [ 45.672458611000081, 30.840451126000062 ], [ 45.650019081000039, 30.855587928000034 ], [ 45.638799316000075, 30.870722341000032 ], [ 45.635593669000059, 30.924361455000053 ], [ 45.635593669000059, 30.949107831000049 ], [ 45.635593669000059, 30.975222054000028 ], [ 45.640402139000059, 30.987589456000023 ], [ 45.669252964000066, 30.999955256000078 ], [ 45.690089671000067, 31.015066833000049 ], [ 45.701309436000031, 31.035669668000025 ], [ 45.707720731000052, 31.054894959000023 ], [ 45.710926378000067, 31.075489176000076 ], [ 45.718940496000073, 31.093333890000054 ], [ 45.742982850000033, 31.109802959000035 ], [ 45.762216733000059, 31.127641227000026 ], [ 45.762216733000059, 31.145476142000064 ], [ 45.76862802800008, 31.214040699000066 ], [ 45.762216733000059, 31.233229874000074 ], [ 45.750996968000038, 31.24556371500006 ], [ 45.742982850000033, 31.277076213000043 ], [ 45.742982850000033, 31.301730826000039 ], [ 45.750996968000038, 31.315425047000076 ], [ 45.762216733000059, 31.33322455800004 ], [ 45.759011086000044, 31.351020703000074 ], [ 45.747791321000079, 31.360601848000044 ], [ 45.725351790000047, 31.367444925000029 ], [ 45.728557438000053, 31.382497941000054 ], [ 45.741380026000058, 31.397548546000053 ], [ 45.757408262000069, 31.41396463500007 ], [ 45.770230851000065, 31.435848286000066 ], [ 45.779847793000044, 31.456359571000064 ], [ 45.779847793000044, 31.471398325000052 ], [ 45.779847793000044, 31.489168283000026 ], [ 45.779847793000044, 31.506934866000051 ], [ 45.779847793000044, 31.527430575000039 ], [ 45.779847793000044, 31.549287707000076 ], [ 45.781450617000075, 31.576601925000034 ], [ 45.78786191100005, 31.597082338000064 ], [ 45.79747885300003, 31.616193328000065 ], [ 45.795876029000055, 31.632571054000039 ], [ 45.774590532000047, 31.646216957000036 ], [ 45.752022775000057, 31.647963487000027 ], [ 45.717337672000042, 31.656259061000071 ], [ 45.597125902000073, 31.693961841000032 ], [ 45.491339544000027, 31.723960345000023 ], [ 45.456077425000046, 31.73077683300005 ], [ 45.391964481000059, 31.744408305000036 ], [ 45.363113656000053, 31.751223289000052 ], [ 45.324645889000067, 31.751223289000052 ], [ 45.302206359000081, 31.756674915000076 ], [ 45.292589417000045, 31.76621448800006 ], [ 45.258930121000049, 31.774390482000058 ], [ 45.241299062000053, 31.767577204000077 ], [ 45.230079297000032, 31.744408305000036 ], [ 45.217256708000036, 31.721233609000024 ], [ 45.194817177000061, 31.710325864000026 ], [ 45.165966352000055, 31.708962306000046 ], [ 45.124292939000043, 31.711689402000047 ], [ 45.085825172000057, 31.713052921000042 ], [ 45.064988465000056, 31.711689402000047 ], [ 45.055371524000066, 31.703507872000046 ], [ 45.05697434700005, 31.693961841000032 ], [ 45.071399760000077, 31.683050889000071 ], [ 45.089030819000072, 31.663953636000031 ], [ 45.098647761000052, 31.653039157000023 ], [ 45.105059055000027, 31.640758836000032 ], [ 45.119484468000053, 31.627112132000036 ], [ 45.133909880000033, 31.616193328000065 ], [ 45.13871835100008, 31.60390814200008 ], [ 45.130704233000074, 31.587525372000073 ], [ 45.119484468000053, 31.569774121000023 ], [ 45.073002583000061, 31.524698073000025 ], [ 45.060179995000055, 31.508301387000074 ], [ 45.052165876000061, 31.489168283000026 ], [ 45.050563053000076, 31.472765364000054 ], [ 45.04254893500007, 31.459094069000059 ], [ 45.039343288000055, 31.44405333900005 ], [ 45.039343288000055, 31.431745491000072 ], [ 45.031329170000049, 31.418068209000069 ], [ 45.018506581000054, 31.401652837000029 ], [ 45.007286816000033, 31.381129585000053 ], [ 44.999272698000027, 31.367444925000029 ], [ 44.994464227000037, 31.349651888000039 ], [ 44.986450109000032, 31.319532925000033 ], [ 44.978435991000026, 31.305839302000038 ], [ 44.964010578000057, 31.290774016000057 ], [ 44.955996460000051, 31.288034615000072 ], [ 44.923939988000029, 31.308578186000034 ], [ 44.89989763400007, 31.322271411000031 ], [ 44.882266574000028, 31.340069627000048 ], [ 44.867841162000047, 31.360601848000044 ], [ 44.855018573000052, 31.377024396000024 ], [ 44.843798808000031, 31.38933942400007 ], [ 44.827770572000077, 31.400284760000034 ], [ 44.821359277000056, 31.404388932000074 ], [ 44.775333671000055, 31.409131973000058 ], [ 44.779685864000044, 31.39891666300008 ], [ 44.771671746000038, 31.378392812000072 ], [ 44.712367272000051, 31.260636223000063 ], [ 44.675502329000039, 31.194847629000037 ], [ 44.643445857000074, 31.142732528000067 ], [ 44.624211974000048, 31.127641227000026 ], [ 44.606580914000062, 31.108430646000045 ], [ 44.592155502000026, 31.083725614000059 ], [ 44.57933291300003, 31.045282799000063 ], [ 44.571318795000025, 30.984841283000037 ], [ 44.563304677000076, 30.964227462000053 ], [ 44.552084912000055, 30.935360635000052 ], [ 44.545673617000034, 30.916111240000077 ], [ 44.53445385200007, 30.892731767000043 ], [ 44.454312672000071, 30.806040425000049 ], [ 44.362951727000052, 30.711002950000079 ], [ 44.278002075000074, 30.629664674000026 ], [ 44.257165369000063, 30.607595038000056 ], [ 44.152981834000059, 30.412889127000028 ], [ 44.116116891000047, 30.321616382000059 ], [ 44.109705597000072, 30.293941164000046 ], [ 44.096883008000077, 30.264873776000059 ], [ 44.088868890000072, 30.245490736000079 ], [ 44.080854772000066, 30.223334007000062 ], [ 44.071237831000076, 30.203942774000041 ], [ 44.039181358000064, 30.134657188000062 ], [ 44.031167240000059, 30.115248500000064 ], [ 44.011933357000032, 30.095835997000052 ], [ 43.95583453100005, 30.034800458000063 ], [ 43.898132881000038, 29.954287058000034 ], [ 43.814786054000081, 29.850078172000053 ], [ 43.813584493000064, 29.850980567000079 ], [ 43.813614360613677, 29.850955358773959 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Dhi Qar", "shapeISO": "IQ-DQ", "shapeID": "90741666B18034483497899", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 45.774590532000047, 31.646216957000036 ], [ 45.795876029000055, 31.632571054000039 ], [ 45.79747885300003, 31.616193328000065 ], [ 45.78786191100005, 31.597082338000064 ], [ 45.781450617000075, 31.576601925000034 ], [ 45.779847793000044, 31.549287707000076 ], [ 45.779847793000044, 31.527430575000039 ], [ 45.779847793000044, 31.506934866000051 ], [ 45.779847793000044, 31.489168283000026 ], [ 45.779847793000044, 31.471398325000052 ], [ 45.779847793000044, 31.456359571000064 ], [ 45.770230851000065, 31.435848286000066 ], [ 45.757408262000069, 31.41396463500007 ], [ 45.741380026000058, 31.397548546000053 ], [ 45.728557438000053, 31.382497941000054 ], [ 45.725351790000047, 31.367444925000029 ], [ 45.747791321000079, 31.360601848000044 ], [ 45.759011086000044, 31.351020703000074 ], [ 45.762216733000059, 31.33322455800004 ], [ 45.750996968000038, 31.315425047000076 ], [ 45.742982850000033, 31.301730826000039 ], [ 45.742982850000033, 31.277076213000043 ], [ 45.750996968000038, 31.24556371500006 ], [ 45.762216733000059, 31.233229874000074 ], [ 45.76862802800008, 31.214040699000066 ], [ 45.762216733000059, 31.145476142000064 ], [ 45.762216733000059, 31.127641227000026 ], [ 45.742982850000033, 31.109802959000035 ], [ 45.718940496000073, 31.093333890000054 ], [ 45.710926378000067, 31.075489176000076 ], [ 45.707720731000052, 31.054894959000023 ], [ 45.701309436000031, 31.035669668000025 ], [ 45.690089671000067, 31.015066833000049 ], [ 45.669252964000066, 30.999955256000078 ], [ 45.640402139000059, 30.987589456000023 ], [ 45.635593669000059, 30.975222054000028 ], [ 45.635593669000059, 30.949107831000049 ], [ 45.635593669000059, 30.924361455000053 ], [ 45.638799316000075, 30.870722341000032 ], [ 45.650019081000039, 30.855587928000034 ], [ 45.672458611000081, 30.840451126000062 ], [ 45.810301441000036, 30.830817373000059 ], [ 45.920896270000071, 30.814300118000062 ], [ 46.005845921000059, 30.804663740000024 ], [ 46.090795572000047, 30.803287036000029 ], [ 46.204596048000042, 30.801910312000075 ], [ 46.249475109000059, 30.79778002200004 ], [ 46.28954569900003, 30.768863021000072 ], [ 46.324807818000068, 30.745447655000078 ], [ 46.361672761000079, 30.722026594000056 ], [ 46.388920763000044, 30.699978045000023 ], [ 46.408154646000071, 30.680681431000039 ], [ 46.462650648000078, 30.611733478000076 ], [ 46.483487355000079, 30.578621008000027 ], [ 46.497912768000049, 30.55653974300003 ], [ 46.50913253300007, 30.538595014000066 ], [ 46.52355794500005, 30.523408423000035 ], [ 46.557217241000046, 30.516504643000076 ], [ 46.573245477000057, 30.513742993000051 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.594583066000041, 30.534280883000065 ], [ 46.727316896000048, 30.566632194000078 ], [ 46.842519843000048, 30.605439531000059 ], [ 46.907634552000047, 30.631302455000025 ], [ 46.960227201000066, 30.644231325000078 ], [ 46.995288968000068, 30.644231325000078 ], [ 47.017828675000032, 30.635612270000024 ], [ 47.050386029000038, 30.605439531000059 ], [ 47.097969855000031, 30.594661274000032 ], [ 47.105483090000064, 30.611905909000029 ], [ 47.105483090000064, 30.633457386000032 ], [ 47.097969855000031, 30.650695112000051 ], [ 47.090456619000065, 30.661467131000052 ], [ 47.082943383000043, 30.674391968000066 ], [ 47.09546544300008, 30.704543197000078 ], [ 47.107987502000071, 30.723921156000074 ], [ 47.107987502000071, 30.743295221000039 ], [ 47.110491914000079, 30.775576671000067 ], [ 47.12301397400006, 30.801394035000044 ], [ 47.133031621000043, 30.833655990000068 ], [ 47.130527209000036, 30.865907105000076 ], [ 47.138040445000058, 31.162107607000053 ], [ 47.066081679000035, 31.159412479000025 ], [ 46.999404217000063, 31.154145443000061 ], [ 46.991197760000034, 31.150633923000044 ], [ 46.976836461000062, 31.138342579000039 ], [ 46.89272027800007, 31.140098583000054 ], [ 46.863997679000079, 31.146244340000067 ], [ 46.84655895800006, 31.152389700000072 ], [ 46.83630088700005, 31.165556985000023 ], [ 46.829120237000041, 31.176089495000042 ], [ 46.81988797300005, 31.191008547000024 ], [ 46.805526674000077, 31.203293059000032 ], [ 46.785010532000058, 31.208557362000079 ], [ 46.773726654000029, 31.217330549000053 ], [ 46.766546004000077, 31.226980114000071 ], [ 46.761416968000049, 31.241891140000064 ], [ 46.76039116100003, 31.253292102000046 ], [ 46.759365354000067, 31.326050391000024 ], [ 46.750133090000077, 31.338317337000035 ], [ 46.736797598000067, 31.347078463000059 ], [ 46.718333070000028, 31.355838772000027 ], [ 46.695765314000028, 31.36459826600003 ], [ 46.680378207000047, 31.375108580000074 ], [ 46.635242694000056, 31.40313033800004 ], [ 46.632165273000055, 31.404881420000038 ], [ 46.616778166000074, 31.418013495000025 ], [ 46.607545902000027, 31.432019016000027 ], [ 46.605494288000045, 31.442521784000064 ], [ 46.603442674000064, 31.453898454000068 ], [ 46.603442674000064, 31.467023664000067 ], [ 46.609597517000054, 31.478397357000063 ], [ 46.614726552000036, 31.488020172000063 ], [ 46.618829781000045, 31.496767327000043 ], [ 46.618829781000045, 31.505513664000034 ], [ 46.619855588000064, 31.530873413000052 ], [ 46.615752359000055, 31.546610484000041 ], [ 46.609597517000054, 31.562344901000074 ], [ 46.598313638000036, 31.57632882200005 ], [ 46.588055567000026, 31.582446128000072 ], [ 46.563436197000044, 31.596427034000044 ], [ 46.548049090000063, 31.61215304600006 ], [ 46.535739405000072, 31.623509068000033 ], [ 46.530610369000044, 31.635737082000048 ], [ 46.526507141000081, 31.647090226000046 ], [ 46.501887770000053, 31.668046235000077 ], [ 46.48444905000008, 31.681141340000067 ], [ 46.469061943000042, 31.69336177200006 ], [ 46.455726451000032, 31.709944070000063 ], [ 46.447519994000061, 31.732630831000051 ], [ 46.437261923000051, 31.811990746000049 ], [ 46.430081273000042, 31.837266958000043 ], [ 46.423926430000051, 31.854694795000057 ], [ 46.412642552000079, 31.879959309000071 ], [ 46.38186833900005, 31.926114488000053 ], [ 46.360326390000068, 31.93569096300007 ], [ 46.339810247000059, 31.947007330000076 ], [ 46.320319912000059, 31.959192628000039 ], [ 46.31621668400004, 31.971376310000039 ], [ 46.320319912000059, 31.980077949000076 ], [ 46.34904251100005, 31.982688280000048 ], [ 46.373661882000079, 31.985298537000062 ], [ 46.376739303000079, 31.988778764000074 ], [ 46.374687689000041, 32.003568255000062 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.354171547000078, 32.014876256000036 ], [ 46.330577983000069, 32.014876256000036 ], [ 46.317242491000059, 32.013136655000039 ], [ 46.227997273000028, 32.010527190000062 ], [ 46.077203628000063, 32.010527190000062 ], [ 45.837164765000068, 32.007917651000071 ], [ 45.776642146000029, 32.007917651000071 ], [ 45.750996968000038, 32.004438151000045 ], [ 45.738687283000047, 31.996608792000075 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.714067912000075, 31.985298537000062 ], [ 45.717145334000065, 31.95135940800003 ], [ 45.721248562000028, 31.87560385300003 ], [ 45.728429212000037, 31.867763512000067 ], [ 45.740738897000028, 31.854694795000057 ], [ 45.754074389000039, 31.839881343000059 ], [ 45.759203425000067, 31.828551804000028 ], [ 45.765358268000057, 31.803273206000028 ], [ 45.769461496000076, 31.786707615000068 ], [ 45.774590532000047, 31.753567528000076 ], [ 45.777667953000048, 31.731758366000065 ], [ 45.781771181000067, 31.717797808000057 ], [ 45.783822795000049, 31.706453306000071 ], [ 45.783822795000049, 31.69336177200006 ], [ 45.783822795000049, 31.682887214000061 ], [ 45.783822795000049, 31.670665404000033 ], [ 45.783822795000049, 31.663680789000068 ], [ 45.78279698800003, 31.654949283000064 ], [ 45.778693760000067, 31.649709986000062 ], [ 45.774590532000047, 31.646216957000036 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Basrah", "shapeISO": "IQ-BA", "shapeID": "90741666B36076314760085", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 46.571063096000046, 29.06360058000007 ], [ 46.599591890000056, 29.071799145000057 ], [ 46.614618361000055, 29.082742988000064 ], [ 46.634653657000058, 29.102438975000041 ], [ 46.652184540000064, 29.117755471000066 ], [ 46.664706599000056, 29.128694429000063 ], [ 46.682237482000062, 29.144007016000046 ], [ 46.699768365000068, 29.165878181000039 ], [ 46.712290425000049, 29.178998645000036 ], [ 46.739838956000028, 29.211792463000052 ], [ 46.804953665000028, 29.307927110000037 ], [ 46.832502195000075, 29.338496444000043 ], [ 46.855041902000039, 29.364691437000033 ], [ 46.865059550000069, 29.382151024000052 ], [ 46.870068373000038, 29.408334787000058 ], [ 46.902625728000032, 29.480305356000031 ], [ 46.910138964000055, 29.502104540000062 ], [ 46.920156611000039, 29.530436464000047 ], [ 46.935183082000037, 29.563117288000058 ], [ 46.960227201000066, 29.591432118000057 ], [ 47.005306615000052, 29.676328926000053 ], [ 47.010315439000067, 29.695910330000061 ], [ 47.015324263000025, 29.728537524000046 ], [ 47.025341910000066, 29.754631643000039 ], [ 47.035359558000039, 29.776371554000036 ], [ 47.045377205000079, 29.793760086000077 ], [ 47.060403677000068, 29.819837218000032 ], [ 47.082943383000043, 29.858940164000046 ], [ 47.105483090000064, 29.937100102000045 ], [ 47.173102211000071, 30.023872514000061 ], [ 47.20065074200005, 30.039049889000069 ], [ 47.23821692000007, 30.049889448000044 ], [ 47.273278686000026, 30.058560241000066 ], [ 47.308340453000028, 30.067230275000043 ], [ 47.340897807000033, 30.082401006000055 ], [ 47.363437514000054, 30.097569411000052 ], [ 47.390986045000034, 30.106236026000033 ], [ 47.73158606100003, 30.091068951000068 ], [ 47.954478718000075, 29.995679797000037 ], [ 47.996552838000071, 29.988999118000038 ], [ 48.007772603000035, 29.995940074000032 ], [ 48.025403663000077, 30.008432572000061 ], [ 48.051048841000068, 30.019535695000059 ], [ 48.067077077000079, 30.030637574000025 ], [ 48.111956138000039, 30.034800458000063 ], [ 48.134395668000082, 30.034800458000063 ], [ 48.164849317000062, 30.029249907000064 ], [ 48.185686023000073, 30.026474515000075 ], [ 48.198508612000069, 30.026474515000075 ], [ 48.228962261000049, 30.020923498000059 ], [ 48.26422438000003, 30.005656597000041 ], [ 48.309103441000047, 29.980669329000079 ], [ 48.36199662000007, 29.948732003000032 ], [ 48.414889799000036, 29.916784416000041 ], [ 48.475797096000065, 29.914005881000037 ], [ 48.499839450000081, 29.916784416000041 ], [ 48.530293098000072, 29.912616584000034 ], [ 48.563952394000069, 29.900112040000067 ], [ 48.583186277000038, 29.901501511000049 ], [ 48.607228631000055, 29.914005881000037 ], [ 48.607228631000055, 29.919562875000054 ], [ 48.587994748000028, 29.927897784000038 ], [ 48.563952394000069, 29.945954359000041 ], [ 48.543115687000068, 29.955675773000053 ], [ 48.522278980000067, 29.965396236000061 ], [ 48.501442273000066, 29.973727305000068 ], [ 48.48861968500006, 29.980669329000079 ], [ 48.474194272000034, 29.987610868000047 ], [ 48.45816603600008, 29.995940074000032 ], [ 48.448549095000033, 30.009820531000059 ], [ 48.443740624000043, 30.051450247000048 ], [ 48.437329329000079, 30.073645611000074 ], [ 48.429315211000073, 30.091675679000048 ], [ 48.416492622000078, 30.104156108000041 ], [ 48.398861563000025, 30.11108899900006 ], [ 48.38603897400003, 30.127725952000048 ], [ 48.389244621000046, 30.142974030000062 ], [ 48.398861563000025, 30.155447977000051 ], [ 48.413286975000062, 30.167920347000063 ], [ 48.413286975000062, 30.181776686000035 ], [ 48.408478504000072, 30.20117228600003 ], [ 48.397258739000051, 30.210868653000034 ], [ 48.310706265000078, 30.296709037000028 ], [ 48.289869558000078, 30.317465598000069 ], [ 48.272238498000036, 30.335451061000072 ], [ 48.248196144000076, 30.335451061000072 ], [ 48.228962261000049, 30.32991742400003 ], [ 48.21453684800008, 30.322999938000066 ], [ 48.201714259000028, 30.331300863000024 ], [ 48.195302965000053, 30.34098438500007 ], [ 48.188891671000079, 30.352050095000038 ], [ 48.185686023000073, 30.368646314000046 ], [ 48.171260611000037, 30.41980025600003 ], [ 48.153629551000051, 30.437766901000032 ], [ 48.140806962000056, 30.444676268000023 ], [ 48.103942020000034, 30.455730236000079 ], [ 48.089516607000064, 30.464019890000031 ], [ 48.057460135000042, 30.486122183000077 ], [ 48.052651664000052, 30.497171449000064 ], [ 48.046240370000078, 30.508219459000031 ], [ 48.035020605000057, 30.568961073000025 ], [ 48.038226252000072, 30.595178657000076 ], [ 48.043034723000062, 30.615871741000035 ], [ 48.047843193000062, 30.643455642000049 ], [ 48.047843193000062, 30.662759693000055 ], [ 48.030212134000067, 31.005450652000036 ], [ 48.014183898000056, 31.015066833000049 ], [ 47.700030471000048, 31.00957199100003 ], [ 47.698427648000063, 31.038416376000043 ], [ 47.698427648000063, 31.050775581000039 ], [ 47.698427648000063, 31.069997821000072 ], [ 47.701633295000079, 31.094706422000058 ], [ 47.704838942000038, 31.12078075200003 ], [ 47.708044589000053, 31.146847920000027 ], [ 47.706441766000069, 31.171536523000043 ], [ 47.703236118000063, 31.189363179000054 ], [ 47.698427648000063, 31.278446083000063 ], [ 47.677590941000062, 31.281185763000053 ], [ 47.639123174000076, 31.285295134000023 ], [ 47.613477997000075, 31.286664884000061 ], [ 47.578215877000048, 31.286664884000061 ], [ 47.531733993000046, 31.288034615000072 ], [ 47.499677521000081, 31.289404326000067 ], [ 47.482046461000039, 31.294882969000071 ], [ 47.448387165000042, 31.298991743000045 ], [ 47.403508104000025, 31.300361295000073 ], [ 47.369848809000075, 31.300361295000073 ], [ 47.332983866000063, 31.297622172000047 ], [ 47.294516099000077, 31.292143687000078 ], [ 47.252842686000065, 31.285295134000023 ], [ 47.223991861000059, 31.272966484000051 ], [ 47.198346683000068, 31.253785381000057 ], [ 47.169495858000062, 31.227747650000026 ], [ 47.138040445000058, 31.162107607000053 ], [ 47.130527209000036, 30.865907105000076 ], [ 47.133031621000043, 30.833655990000068 ], [ 47.12301397400006, 30.801394035000044 ], [ 47.110491914000079, 30.775576671000067 ], [ 47.107987502000071, 30.743295221000039 ], [ 47.107987502000071, 30.723921156000074 ], [ 47.09546544300008, 30.704543197000078 ], [ 47.082943383000043, 30.674391968000066 ], [ 47.090456619000065, 30.661467131000052 ], [ 47.097969855000031, 30.650695112000051 ], [ 47.105483090000064, 30.633457386000032 ], [ 47.105483090000064, 30.611905909000029 ], [ 47.097969855000031, 30.594661274000032 ], [ 47.050386029000038, 30.605439531000059 ], [ 47.017828675000032, 30.635612270000024 ], [ 46.995288968000068, 30.644231325000078 ], [ 46.960227201000066, 30.644231325000078 ], [ 46.907634552000047, 30.631302455000025 ], [ 46.842519843000048, 30.605439531000059 ], [ 46.727316896000048, 30.566632194000078 ], [ 46.594583066000041, 30.534280883000065 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.584465242000078, 30.502695611000036 ], [ 46.600493478000033, 30.486122183000077 ], [ 46.605301949000079, 30.462638330000061 ], [ 46.605301949000079, 30.437766901000032 ], [ 46.606904773000053, 30.400447861000032 ], [ 46.611713244000043, 30.374177762000045 ], [ 46.624535833000039, 30.356199414000059 ], [ 46.627741480000054, 30.343750930000056 ], [ 46.638961245000075, 30.31469831000004 ], [ 46.656592305000061, 30.285637074000078 ], [ 46.677429011000072, 30.256567227000062 ], [ 46.719102425000074, 30.208098360000065 ], [ 46.746350426000049, 30.160991448000061 ], [ 46.744747603000064, 30.040350699000044 ], [ 46.735130661000028, 30.012596389000066 ], [ 46.730322190000038, 29.98622259900003 ], [ 46.712691131000042, 29.884826576000023 ], [ 46.701471366000078, 29.822270737000053 ], [ 46.688648777000026, 29.780545077000056 ], [ 46.680634659000077, 29.758284278000076 ], [ 46.671017717000041, 29.730451324000057 ], [ 46.65498948100003, 29.64690613700003 ], [ 46.64537253900005, 29.580020019000074 ], [ 46.646975363000081, 29.443323219000035 ], [ 46.651783834000071, 29.427968184000065 ], [ 46.65498948100003, 29.416799428000047 ], [ 46.653386657000055, 29.398647580000045 ], [ 46.643769716000065, 29.376302396000028 ], [ 46.622933009000064, 29.349761117000071 ], [ 46.611713244000043, 29.33858377200005 ], [ 46.590876537000042, 29.313430266000069 ], [ 46.573245477000057, 29.152581068000075 ], [ 46.571063096000046, 29.06360058000007 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Maysan", "shapeISO": "IQ-MA", "shapeID": "90741666B47130783728166", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 47.138040445000058, 31.162107607000053 ], [ 47.169495858000062, 31.227747650000026 ], [ 47.198346683000068, 31.253785381000057 ], [ 47.223991861000059, 31.272966484000051 ], [ 47.252842686000065, 31.285295134000023 ], [ 47.294516099000077, 31.292143687000078 ], [ 47.332983866000063, 31.297622172000047 ], [ 47.369848809000075, 31.300361295000073 ], [ 47.403508104000025, 31.300361295000073 ], [ 47.448387165000042, 31.298991743000045 ], [ 47.482046461000039, 31.294882969000071 ], [ 47.499677521000081, 31.289404326000067 ], [ 47.531733993000046, 31.288034615000072 ], [ 47.578215877000048, 31.286664884000061 ], [ 47.613477997000075, 31.286664884000061 ], [ 47.639123174000076, 31.285295134000023 ], [ 47.677590941000062, 31.281185763000053 ], [ 47.695537006000052, 31.278826159000062 ], [ 47.700030471000048, 31.407124947000057 ], [ 47.704838942000038, 31.424907099000052 ], [ 47.709647413000027, 31.446788197000046 ], [ 47.717661531000033, 31.46866418500008 ], [ 47.730484120000028, 31.493268564000061 ], [ 47.74330670900008, 31.513767269000027 ], [ 47.759334945000035, 31.539725841000063 ], [ 47.770554710000056, 31.56567719800006 ], [ 47.77696600400003, 31.584794630000033 ], [ 47.788185769000052, 31.609368425000071 ], [ 47.794597064000072, 31.629841633000069 ], [ 47.802611182000078, 31.663953636000031 ], [ 47.812228124000058, 31.688506525000037 ], [ 47.861658953000074, 31.790059117000055 ], [ 47.86415960800008, 31.857308687000057 ], [ 47.852875730000051, 31.865149917000053 ], [ 47.836462816000051, 31.872119339000051 ], [ 47.821075710000059, 31.876474961000042 ], [ 47.811843446000069, 31.888669605000075 ], [ 47.80979183200003, 31.899991758000056 ], [ 47.80774021700006, 31.913054050000028 ], [ 47.794404725000049, 31.93743203300005 ], [ 47.788249882000059, 31.946136890000048 ], [ 47.765682126000058, 31.952229798000076 ], [ 47.753372441000067, 31.96267384500004 ], [ 47.749269212000058, 31.978337687000078 ], [ 47.748243405000039, 31.993128862000049 ], [ 47.731830492000029, 32.003568255000062 ], [ 47.725675649000038, 32.014876256000036 ], [ 47.722598228000038, 32.028791881000075 ], [ 47.720546613000067, 32.048791888000039 ], [ 47.715417578000029, 32.059224940000036 ], [ 47.689772400000038, 32.066179646000023 ], [ 47.678488522000066, 32.081825803000072 ], [ 47.678488522000066, 32.097469282000077 ], [ 47.674385294000047, 32.111372348000032 ], [ 47.635404623000056, 32.138303514000029 ], [ 47.622069131000046, 32.150463370000068 ], [ 47.599501375000045, 32.166095088000077 ], [ 47.591294918000074, 32.156542690000038 ], [ 47.574882004000074, 32.155674241000042 ], [ 47.555391669000073, 32.161753213000054 ], [ 47.553340055000035, 32.177382994000027 ], [ 47.549236826000026, 32.214709946000028 ], [ 47.555391669000073, 32.223388438000029 ], [ 47.576933618000055, 32.236404622000066 ], [ 47.583088461000045, 32.248551379000048 ], [ 47.581036847000064, 32.261563958000067 ], [ 47.562572319000026, 32.280645700000036 ], [ 47.541030370000044, 32.293653678000055 ], [ 47.525643263000063, 32.301457568000046 ], [ 47.518462613000054, 32.317063334000068 ], [ 47.521540035000044, 32.330066085000055 ], [ 47.523591649000025, 32.340466942000035 ], [ 47.518462613000054, 32.35346633100005 ], [ 47.499998085000072, 32.35433289100007 ], [ 47.477430329000072, 32.359532074000072 ], [ 47.469223872000043, 32.368196715000067 ], [ 47.458965801000033, 32.383790975000068 ], [ 47.453836766000052, 32.402846972000077 ], [ 47.458965801000033, 32.413239457000032 ], [ 47.470249679000062, 32.421898947000045 ], [ 47.475378715000033, 32.431423426000038 ], [ 47.470249679000062, 32.441812619000075 ], [ 47.459991608000053, 32.453066228000068 ], [ 47.443578694000053, 32.460856364000051 ], [ 47.430243202000042, 32.476434616000063 ], [ 47.40562383200006, 32.499796939000078 ], [ 47.39331414600008, 32.513638416000049 ], [ 47.358436705000031, 32.516233455000076 ], [ 47.345101212000031, 32.521423310000046 ], [ 47.315352806000078, 32.540450213000042 ], [ 47.291759243000058, 32.529207530000065 ], [ 47.269191486000068, 32.509313183000074 ], [ 47.220978552000076, 32.508448112000053 ], [ 47.191230146000066, 32.503257508000047 ], [ 47.164559161000057, 32.506717944000059 ], [ 47.149172055000065, 32.517963440000074 ], [ 47.123526877000074, 32.532666967000068 ], [ 47.101984928000036, 32.54304447800007 ], [ 47.081468786000073, 32.550826824000069 ], [ 47.071210715000063, 32.562066800000025 ], [ 47.054797801000063, 32.576763105000055 ], [ 47.032230045000063, 32.596642509000048 ], [ 46.994275182000081, 32.625157429000069 ], [ 46.966578390000052, 32.643298559000073 ], [ 46.94195901900008, 32.657117903000028 ], [ 46.90913319200007, 32.668344547000061 ], [ 46.889642857000069, 32.676116013000069 ], [ 46.871178329000031, 32.695973355000035 ], [ 46.843481537000059, 32.717552413000078 ], [ 46.811681517000068, 32.753793478000034 ], [ 46.797320217000049, 32.771908484000051 ], [ 46.780907303000049, 32.794331478000061 ], [ 46.759365354000067, 32.814162492000037 ], [ 46.704997577000029, 32.840022382000029 ], [ 46.670120136000037, 32.85122599500005 ], [ 46.644474958000046, 32.861566537000044 ], [ 46.627036237000027, 32.873628979000046 ], [ 46.603442674000064, 32.892580929000076 ], [ 46.591132989000073, 32.905500389000053 ], [ 46.583952339000064, 32.916695730000072 ], [ 46.573694268000054, 32.906361620000041 ], [ 46.551126511000064, 32.886551203000067 ], [ 46.540868440000054, 32.872767430000067 ], [ 46.544971669000063, 32.862428195000064 ], [ 46.553178126000034, 32.852949503000048 ], [ 46.563436197000044, 32.844331631000045 ], [ 46.563436197000044, 32.838298623000071 ], [ 46.559332968000035, 32.821921250000059 ], [ 46.547023283000044, 32.807265250000057 ], [ 46.538816826000073, 32.794331478000061 ], [ 46.529584562000025, 32.779670929000076 ], [ 46.525481334000062, 32.760694867000041 ], [ 46.522403912000073, 32.734811901000057 ], [ 46.517274877000034, 32.71668935100007 ], [ 46.512145841000063, 32.698563118000038 ], [ 46.505990999000062, 32.680433203000064 ], [ 46.496758735000071, 32.658845171000053 ], [ 46.490603892000081, 32.641570991000037 ], [ 46.488552278000043, 32.553420790000075 ], [ 46.488552278000043, 32.549962152000035 ], [ 46.486500664000062, 32.539585441000042 ], [ 46.473165171000062, 32.52834265000007 ], [ 46.461881293000033, 32.525747960000047 ], [ 46.454700643000081, 32.516233455000076 ], [ 46.449571608000042, 32.49806660400003 ], [ 46.44136515100007, 32.479896083000028 ], [ 46.434184501000061, 32.465183926000066 ], [ 46.42187481600007, 32.440081170000042 ], [ 46.40238448100007, 32.423630745000025 ], [ 46.390074796000079, 32.417569306000075 ], [ 46.389048989000059, 32.40024866400006 ], [ 46.39828125300005, 32.378593187000035 ], [ 46.406487709000032, 32.367330288000062 ], [ 46.427003852000041, 32.350866603000043 ], [ 46.459829679000052, 32.323131517000036 ], [ 46.459829679000052, 32.313595618000079 ], [ 46.459829679000052, 32.305792773000064 ], [ 46.459829679000052, 32.294520810000051 ], [ 46.460855486000071, 32.283247445000029 ], [ 46.46803613600008, 32.275441986000033 ], [ 46.477268400000071, 32.269370610000067 ], [ 46.491629699000043, 32.264166250000073 ], [ 46.508042613000043, 32.256359150000037 ], [ 46.520352298000034, 32.245081042000038 ], [ 46.522403912000073, 32.238139972000056 ], [ 46.522403912000073, 32.225991824000062 ], [ 46.522403912000073, 32.216445711000063 ], [ 46.519326491000072, 32.212106237000057 ], [ 46.516249070000072, 32.200822636000055 ], [ 46.510094227000081, 32.196482417000027 ], [ 46.497784542000034, 32.190405763000058 ], [ 46.481371628000034, 32.186065047000056 ], [ 46.459829679000052, 32.17825123700004 ], [ 46.437261923000051, 32.170436756000072 ], [ 46.410590938000041, 32.16522672900004 ], [ 46.386997374000032, 32.159147989000076 ], [ 46.368532846000051, 32.147857823000038 ], [ 46.364429618000031, 32.129616909000049 ], [ 46.364429618000031, 32.107896780000033 ], [ 46.373661882000079, 32.089647877000061 ], [ 46.383919953000031, 32.077479917000062 ], [ 46.39520383100006, 32.067048948000036 ], [ 46.400332867000031, 32.054008562000035 ], [ 46.396229638000079, 32.042705392000073 ], [ 46.380842532000031, 32.034009695000066 ], [ 46.366481232000069, 32.025313173000029 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.374687689000041, 32.003568255000062 ], [ 46.376739303000079, 31.988778764000074 ], [ 46.373661882000079, 31.985298537000062 ], [ 46.34904251100005, 31.982688280000048 ], [ 46.320319912000059, 31.980077949000076 ], [ 46.31621668400004, 31.971376310000039 ], [ 46.320319912000059, 31.959192628000039 ], [ 46.339810247000059, 31.947007330000076 ], [ 46.360326390000068, 31.93569096300007 ], [ 46.38186833900005, 31.926114488000053 ], [ 46.412642552000079, 31.879959309000071 ], [ 46.423926430000051, 31.854694795000057 ], [ 46.430081273000042, 31.837266958000043 ], [ 46.437261923000051, 31.811990746000049 ], [ 46.447519994000061, 31.732630831000051 ], [ 46.455726451000032, 31.709944070000063 ], [ 46.469061943000042, 31.69336177200006 ], [ 46.48444905000008, 31.681141340000067 ], [ 46.501887770000053, 31.668046235000077 ], [ 46.526507141000081, 31.647090226000046 ], [ 46.530610369000044, 31.635737082000048 ], [ 46.535739405000072, 31.623509068000033 ], [ 46.548049090000063, 31.61215304600006 ], [ 46.563436197000044, 31.596427034000044 ], [ 46.588055567000026, 31.582446128000072 ], [ 46.598313638000036, 31.57632882200005 ], [ 46.609597517000054, 31.562344901000074 ], [ 46.615752359000055, 31.546610484000041 ], [ 46.619855588000064, 31.530873413000052 ], [ 46.618829781000045, 31.505513664000034 ], [ 46.618829781000045, 31.496767327000043 ], [ 46.614726552000036, 31.488020172000063 ], [ 46.609597517000054, 31.478397357000063 ], [ 46.603442674000064, 31.467023664000067 ], [ 46.603442674000064, 31.453898454000068 ], [ 46.605494288000045, 31.442521784000064 ], [ 46.607545902000027, 31.432019016000027 ], [ 46.616778166000074, 31.418013495000025 ], [ 46.632165273000055, 31.404881420000038 ], [ 46.635242694000056, 31.40313033800004 ], [ 46.680378207000047, 31.375108580000074 ], [ 46.695765314000028, 31.36459826600003 ], [ 46.718333070000028, 31.355838772000027 ], [ 46.736797598000067, 31.347078463000059 ], [ 46.750133090000077, 31.338317337000035 ], [ 46.759365354000067, 31.326050391000024 ], [ 46.76039116100003, 31.253292102000046 ], [ 46.761416968000049, 31.241891140000064 ], [ 46.766546004000077, 31.226980114000071 ], [ 46.773726654000029, 31.217330549000053 ], [ 46.785010532000058, 31.208557362000079 ], [ 46.805526674000077, 31.203293059000032 ], [ 46.81988797300005, 31.191008547000024 ], [ 46.829120237000041, 31.176089495000042 ], [ 46.83630088700005, 31.165556985000023 ], [ 46.84655895800006, 31.152389700000072 ], [ 46.863997679000079, 31.146244340000067 ], [ 46.89272027800007, 31.140098583000054 ], [ 46.976836461000062, 31.138342579000039 ], [ 46.991197760000034, 31.150633923000044 ], [ 46.999404217000063, 31.154145443000061 ], [ 47.066081679000035, 31.159412479000025 ], [ 47.138040445000058, 31.162107607000053 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Wasit", "shapeISO": "IQ-WA", "shapeID": "90741666B22138095387242", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 45.157952234000049, 32.45587941000008 ], [ 45.188854673000037, 32.441812619000075 ], [ 45.222706308000056, 32.426228380000055 ], [ 45.252454714000066, 32.424496632000057 ], [ 45.266816014000028, 32.41930118700003 ], [ 45.293486998000049, 32.413239457000032 ], [ 45.312977333000049, 32.407177319000027 ], [ 45.337596704000077, 32.395051823000074 ], [ 45.357087039000078, 32.379459506000046 ], [ 45.370422531000031, 32.364730958000052 ], [ 45.376577374000078, 32.356065985000043 ], [ 45.385809638000069, 32.347400182000058 ], [ 45.405299973000069, 32.33873354900004 ], [ 45.42068708000005, 32.331799644000057 ], [ 45.440177415000051, 32.320530917000042 ], [ 45.466848399000071, 32.306659789000037 ], [ 45.478132278000032, 32.290185066000049 ], [ 45.489416156000061, 32.273707349000063 ], [ 45.545835547000081, 32.228595135000035 ], [ 45.589945252000064, 32.186065047000056 ], [ 45.622771080000064, 32.14612075000008 ], [ 45.645338836000064, 32.107896780000033 ], [ 45.664829171000065, 32.089647877000061 ], [ 45.672009821000074, 32.081825803000072 ], [ 45.679190471000027, 32.068787525000062 ], [ 45.684319506000065, 32.053139137000073 ], [ 45.690474349000056, 32.040096770000048 ], [ 45.691500156000075, 32.023573769000052 ], [ 45.696629191000056, 32.013136655000039 ], [ 45.704835648000028, 32.001828439000064 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.738687283000047, 31.996608792000075 ], [ 45.750996968000038, 32.004438151000045 ], [ 45.776642146000029, 32.007917651000071 ], [ 45.837164765000068, 32.007917651000071 ], [ 46.077203628000063, 32.010527190000062 ], [ 46.227997273000028, 32.010527190000062 ], [ 46.317242491000059, 32.013136655000039 ], [ 46.330577983000069, 32.014876256000036 ], [ 46.354171547000078, 32.014876256000036 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.366481232000069, 32.025313173000029 ], [ 46.380842532000031, 32.034009695000066 ], [ 46.396229638000079, 32.042705392000073 ], [ 46.400332867000031, 32.054008562000035 ], [ 46.39520383100006, 32.067048948000036 ], [ 46.383919953000031, 32.077479917000062 ], [ 46.373661882000079, 32.089647877000061 ], [ 46.364429618000031, 32.107896780000033 ], [ 46.364429618000031, 32.129616909000049 ], [ 46.368532846000051, 32.147857823000038 ], [ 46.386997374000032, 32.159147989000076 ], [ 46.410590938000041, 32.16522672900004 ], [ 46.437261923000051, 32.170436756000072 ], [ 46.459829679000052, 32.17825123700004 ], [ 46.481371628000034, 32.186065047000056 ], [ 46.497784542000034, 32.190405763000058 ], [ 46.510094227000081, 32.196482417000027 ], [ 46.516249070000072, 32.200822636000055 ], [ 46.519326491000072, 32.212106237000057 ], [ 46.522403912000073, 32.216445711000063 ], [ 46.522403912000073, 32.225991824000062 ], [ 46.522403912000073, 32.238139972000056 ], [ 46.520352298000034, 32.245081042000038 ], [ 46.508042613000043, 32.256359150000037 ], [ 46.491629699000043, 32.264166250000073 ], [ 46.477268400000071, 32.269370610000067 ], [ 46.46803613600008, 32.275441986000033 ], [ 46.460855486000071, 32.283247445000029 ], [ 46.459829679000052, 32.294520810000051 ], [ 46.459829679000052, 32.305792773000064 ], [ 46.459829679000052, 32.313595618000079 ], [ 46.459829679000052, 32.323131517000036 ], [ 46.427003852000041, 32.350866603000043 ], [ 46.406487709000032, 32.367330288000062 ], [ 46.39828125300005, 32.378593187000035 ], [ 46.389048989000059, 32.40024866400006 ], [ 46.390074796000079, 32.417569306000075 ], [ 46.40238448100007, 32.423630745000025 ], [ 46.42187481600007, 32.440081170000042 ], [ 46.434184501000061, 32.465183926000066 ], [ 46.44136515100007, 32.479896083000028 ], [ 46.449571608000042, 32.49806660400003 ], [ 46.454700643000081, 32.516233455000076 ], [ 46.461881293000033, 32.525747960000047 ], [ 46.473165171000062, 32.52834265000007 ], [ 46.486500664000062, 32.539585441000042 ], [ 46.488552278000043, 32.549962152000035 ], [ 46.488552278000043, 32.553420790000075 ], [ 46.490603892000081, 32.641570991000037 ], [ 46.496758735000071, 32.658845171000053 ], [ 46.505990999000062, 32.680433203000064 ], [ 46.512145841000063, 32.698563118000038 ], [ 46.517274877000034, 32.71668935100007 ], [ 46.522403912000073, 32.734811901000057 ], [ 46.525481334000062, 32.760694867000041 ], [ 46.529584562000025, 32.779670929000076 ], [ 46.538816826000073, 32.794331478000061 ], [ 46.547023283000044, 32.807265250000057 ], [ 46.559332968000035, 32.821921250000059 ], [ 46.563436197000044, 32.838298623000071 ], [ 46.563436197000044, 32.844331631000045 ], [ 46.553178126000034, 32.852949503000048 ], [ 46.544971669000063, 32.862428195000064 ], [ 46.540868440000054, 32.872767430000067 ], [ 46.551126511000064, 32.886551203000067 ], [ 46.573694268000054, 32.906361620000041 ], [ 46.583164065000062, 32.915901656000074 ], [ 46.545997476000025, 32.929342609000059 ], [ 46.531572063000056, 32.938759324000046 ], [ 46.507529709000039, 32.94952005500005 ], [ 46.486693003000028, 32.960279477000029 ], [ 46.459445001000063, 32.973726912000075 ], [ 46.427388529000041, 32.987172299000065 ], [ 46.40655182200004, 32.995238549000078 ], [ 46.38731793900007, 32.996582852000074 ], [ 46.332821937000062, 33.014056931000027 ], [ 46.268708992000029, 33.015400948000035 ], [ 46.196581930000036, 33.008680660000039 ], [ 46.193376283000077, 33.007336541000029 ], [ 46.182156518000056, 33.000615639000046 ], [ 46.16773110500003, 32.996582852000074 ], [ 46.151702869000076, 33.003304062000041 ], [ 46.137277457000039, 33.019432874000074 ], [ 46.119646397000054, 33.027496175000067 ], [ 46.110029455000074, 33.034215028000062 ], [ 46.111632279000048, 33.050338186000033 ], [ 46.114837926000064, 33.05974199800005 ], [ 46.132468986000049, 33.07183113800005 ], [ 46.135674633000065, 33.082575646000066 ], [ 46.15330569300005, 33.091976014000068 ], [ 46.169333929000061, 33.108088592000058 ], [ 46.164525458000071, 33.120171086000028 ], [ 46.15330569300005, 33.126882865000027 ], [ 46.129263339000033, 33.129567433000034 ], [ 46.108426632000032, 33.134936323000034 ], [ 46.090795572000047, 33.138962775000039 ], [ 46.066753218000031, 33.145673117000058 ], [ 46.058739100000025, 33.15372485100005 ], [ 46.058739100000025, 33.160434064000071 ], [ 46.065150395000046, 33.171167738000065 ], [ 46.076370160000067, 33.176534082000046 ], [ 46.103618161000043, 33.177875616000051 ], [ 46.129263339000033, 33.177875616000051 ], [ 46.142085928000029, 33.180558624000071 ], [ 46.15811416400004, 33.191289833000042 ], [ 46.16773110500003, 33.20470199600004 ], [ 46.190170636000062, 33.21945300200008 ], [ 46.199274674000037, 33.235595799000066 ], [ 46.209532745000047, 33.241601660000072 ], [ 46.208506938000028, 33.250180746000069 ], [ 46.190042410000046, 33.26047453800004 ], [ 46.191068217000065, 33.269051771000079 ], [ 46.197223060000056, 33.278485755000077 ], [ 46.206455324000046, 33.282773592000069 ], [ 46.200300481000056, 33.299065453000026 ], [ 46.190042410000046, 33.317925912000078 ], [ 46.175681110000028, 33.322211812000035 ], [ 46.157216582000046, 33.331640048000054 ], [ 46.151061740000046, 33.334211208000056 ], [ 46.125416562000055, 33.36077541700007 ], [ 46.118235912000046, 33.373626157000047 ], [ 46.113106877000064, 33.38647499800004 ], [ 46.109003648000055, 33.400178336000067 ], [ 46.089513313000054, 33.407029195000064 ], [ 46.080281049000064, 33.416448244000037 ], [ 46.080281049000064, 33.432715104000067 ], [ 46.079255242000045, 33.448978915000055 ], [ 46.071048785000073, 33.462672391000069 ], [ 46.051558450000073, 33.474652409000043 ], [ 46.047455222000053, 33.484064118000049 ], [ 46.048481029000072, 33.498607476000075 ], [ 46.054635872000063, 33.51913511500004 ], [ 46.035145537000062, 33.536237761000052 ], [ 46.015655202000062, 33.538802866000026 ], [ 46.001293902000043, 33.529397109000058 ], [ 45.992061638000052, 33.514858925000055 ], [ 45.982829374000062, 33.500318298000025 ], [ 45.966416461000051, 33.48577522800008 ], [ 45.940771283000061, 33.475508061000028 ], [ 45.917177719000051, 33.466951159000075 ], [ 45.89460996300005, 33.458393412000078 ], [ 45.887429313000041, 33.450690718000033 ], [ 45.87511962800005, 33.426722405000078 ], [ 45.86178413600004, 33.399321941000039 ], [ 45.853577679000068, 33.387331520000032 ], [ 45.84537122200004, 33.368486089000044 ], [ 45.817674430000068, 33.352207203000034 ], [ 45.789977638000039, 33.350493459000063 ], [ 45.769461496000076, 33.347922779000044 ], [ 45.757151811000028, 33.334211208000056 ], [ 45.746893740000075, 33.312782555000069 ], [ 45.738687283000047, 33.292206093000061 ], [ 45.727403405000075, 33.265620979000062 ], [ 45.718171141000028, 33.249322875000075 ], [ 45.692525963000037, 33.220150261000072 ], [ 45.679190471000027, 33.203843679000045 ], [ 45.641235608000045, 33.17379728700007 ], [ 45.619693658000074, 33.160917107000046 ], [ 45.600203323000073, 33.155764506000025 ], [ 45.578661374000035, 33.159199607000062 ], [ 45.565325882000081, 33.16692809400007 ], [ 45.547887161000062, 33.175514502000055 ], [ 45.525319405000062, 33.186675574000049 ], [ 45.495570998000062, 33.198693601000059 ], [ 45.468900014000042, 33.198693601000059 ], [ 45.45453871400008, 33.206418605000067 ], [ 45.41042900900004, 33.215859350000073 ], [ 45.332467668000049, 33.21757573900004 ], [ 45.293486998000049, 33.220150261000072 ], [ 45.270919242000048, 33.227873371000044 ], [ 45.253480521000029, 33.23988574200007 ], [ 45.238093415000037, 33.249322875000075 ], [ 45.218603080000037, 33.26047453800004 ], [ 45.191932095000027, 33.273340072000053 ], [ 45.171415953000064, 33.282773592000069 ], [ 45.140641739000046, 33.293920984000067 ], [ 45.101661069000045, 33.307638895000025 ], [ 45.042164257000081, 33.325640379000049 ], [ 45.018570694000061, 33.321354649000057 ], [ 44.999080359000061, 33.311068036000052 ], [ 44.97035776000007, 33.306781589000025 ], [ 44.944712582000079, 33.300780209000038 ], [ 44.906757719000041, 33.291348635000077 ], [ 44.892396420000068, 33.282773592000069 ], [ 44.87085447000004, 33.252754308000078 ], [ 44.862648013000069, 33.229589525000051 ], [ 44.855467364000049, 33.208993454000051 ], [ 44.844183486000077, 33.183241550000048 ], [ 44.830847993000077, 33.159199607000062 ], [ 44.792893130000039, 33.130855997000026 ], [ 44.749809232000075, 33.092190867000056 ], [ 44.732370511000056, 33.073281723000036 ], [ 44.719035019000046, 33.069843260000027 ], [ 44.706725333000065, 33.067264325000053 ], [ 44.693389841000055, 33.06124651500005 ], [ 44.673899506000055, 33.057807582000066 ], [ 44.656460785000036, 33.062965931000065 ], [ 44.645176907000064, 33.071562508000056 ], [ 44.644151100000045, 33.08789369200008 ], [ 44.647228521000045, 33.105940419000035 ], [ 44.634918836000054, 33.116251170000055 ], [ 44.608247851000044, 33.118828669000038 ], [ 44.591834937000044, 33.113673596000069 ], [ 44.582602673000054, 33.107658961000027 ], [ 44.579525252000053, 33.115391987000066 ], [ 44.568113148000066, 33.129567433000034 ], [ 44.556893383000045, 33.116143773000033 ], [ 44.548879265000039, 33.102718061000076 ], [ 44.550482088000081, 33.079889642000069 ], [ 44.552084912000055, 33.062428617000023 ], [ 44.548879265000039, 33.050338186000033 ], [ 44.531248205000054, 33.040933369000072 ], [ 44.515219969000043, 33.039589742000032 ], [ 44.500794557000063, 33.032871298000032 ], [ 44.492780439000057, 33.018088919000036 ], [ 44.495986086000073, 33.000615639000046 ], [ 44.500794557000063, 32.989861131000055 ], [ 44.513617145000069, 32.981794390000061 ], [ 44.53445385200007, 32.973726912000075 ], [ 44.556893383000045, 32.953554992000079 ], [ 44.568113148000066, 32.936068936000026 ], [ 44.571318795000025, 32.923961180000049 ], [ 44.593758326000057, 32.913197338000032 ], [ 44.632226092000053, 32.910506174000034 ], [ 44.654665623000028, 32.925306568000053 ], [ 44.678707977000045, 32.933378467000068 ], [ 44.728395508000062, 32.929342609000059 ], [ 44.741218097000058, 32.915888421000034 ], [ 44.752437862000079, 32.880897962000063 ], [ 44.80853668900005, 32.835120356000061 ], [ 44.835784690000025, 32.821651860000031 ], [ 44.874252456000079, 32.814916845000027 ], [ 44.91432304600005, 32.809528466000074 ], [ 44.936762577000081, 32.797403419000034 ], [ 44.957599284000025, 32.779886543000032 ], [ 44.988052932000073, 32.747538633000033 ], [ 44.997669874000053, 32.735405137000043 ], [ 45.018506581000054, 32.717876059000048 ], [ 45.04254893500007, 32.709784553000077 ], [ 45.063385642000071, 32.707087222000041 ], [ 45.079413878000025, 32.70304107100003 ], [ 45.082619525000041, 32.696297080000079 ], [ 45.063385642000071, 32.680109421000054 ], [ 45.058577171000081, 32.669316018000075 ], [ 45.064988465000056, 32.62207955100007 ], [ 45.084222349000072, 32.608578836000049 ], [ 45.103456232000042, 32.60722865200006 ], [ 45.146732469000028, 32.60722865200006 ], [ 45.151540940000075, 32.597776798000041 ], [ 45.137115528000038, 32.580220710000049 ], [ 45.116278821000037, 32.573467452000045 ], [ 45.093839290000062, 32.558608496000033 ], [ 45.079413878000025, 32.542395919000057 ], [ 45.071399760000077, 32.528883201000042 ], [ 45.06659128900003, 32.518071563000035 ], [ 45.069796936000046, 32.497796237000045 ], [ 45.087427996000031, 32.488332853000031 ], [ 45.108264703000032, 32.484276812000076 ], [ 45.127498586000058, 32.482924758000024 ], [ 45.146732469000028, 32.473459810000065 ], [ 45.157952234000049, 32.45587941000008 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Ninawa", "shapeISO": "IQ-NI", "shapeID": "90741666B29902093370976", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 42.422232871000062, 34.931133724000063 ], [ 42.419728459000055, 35.095226702000048 ], [ 42.995743192000077, 35.105471578000049 ], [ 42.973303661000045, 35.143243547000054 ], [ 42.905985070000042, 35.228391437000028 ], [ 42.84347494900004, 35.295137292000049 ], [ 42.816226948000065, 35.323912644000075 ], [ 42.809815654000033, 35.340911450000078 ], [ 42.809815654000033, 35.364442355000051 ], [ 42.805007183000043, 35.381432633000031 ], [ 42.795390241000064, 35.404951727000025 ], [ 42.796993065000038, 35.478078364000055 ], [ 42.81462412500008, 35.501569243000063 ], [ 42.83866647900004, 35.526357720000078 ], [ 42.859503185000051, 35.542009656000062 ], [ 42.885148363000042, 35.556354581000051 ], [ 42.997346015000062, 35.637159782000026 ], [ 43.09832390300005, 35.637159782000026 ], [ 43.164039670000079, 35.648882787000048 ], [ 43.191287672000044, 35.663208568000073 ], [ 43.221741320000035, 35.677531780000038 ], [ 43.248989321000067, 35.686645213000077 ], [ 43.273031675000027, 35.694455898000058 ], [ 43.300279677000049, 35.707472007000035 ], [ 43.317910736000044, 35.721787273000075 ], [ 43.321116384000049, 35.732196760000079 ], [ 43.322277968000037, 35.738325517000078 ], [ 43.327527678000081, 35.766018196000061 ], [ 43.33554179600003, 35.78162324200008 ], [ 43.349967208000066, 35.797225225000034 ], [ 43.351570032000041, 35.819322791000047 ], [ 43.353172856000072, 35.838815537000073 ], [ 43.367598268000052, 35.869993969000063 ], [ 43.378818033000073, 35.886877166000033 ], [ 43.391640622000068, 35.902458462000027 ], [ 43.406066035000038, 35.912844289000077 ], [ 43.417285800000059, 35.925824655000042 ], [ 43.417285800000059, 35.93620741400008 ], [ 43.415682976000028, 35.959563636000041 ], [ 43.407668858000079, 35.979021880000062 ], [ 43.401257564000048, 35.997178580000025 ], [ 43.402860387000032, 36.007551961000047 ], [ 43.418888623000043, 36.016627550000067 ], [ 43.442930978000049, 36.021813132000034 ], [ 43.463767684000061, 36.026998373000026 ], [ 43.479795920000072, 36.034775593000063 ], [ 43.492618509000067, 36.047735922000072 ], [ 43.505441098000063, 36.068468009000071 ], [ 43.511852393000026, 36.084013490000075 ], [ 43.518263687000058, 36.102146001000051 ], [ 43.529483452000079, 36.128042329000039 ], [ 43.540703217000043, 36.144870362000063 ], [ 43.542306041000074, 36.157812547000049 ], [ 43.56474557100006, 36.182396813000025 ], [ 43.579170984000029, 36.194039300000043 ], [ 43.588787926000066, 36.206973367000046 ], [ 43.619369800000072, 36.239299183000071 ], [ 43.625524643000062, 36.246745157000078 ], [ 43.657324663000054, 36.273213987000076 ], [ 43.683995648000064, 36.282310575000054 ], [ 43.709640825000065, 36.294713306000062 ], [ 43.721950511000045, 36.302980698000056 ], [ 43.740415039000027, 36.317033253000034 ], [ 43.756827952000037, 36.333562427000061 ], [ 43.773240866000037, 36.350088096000036 ], [ 43.789653780000037, 36.365784232000067 ], [ 43.806066693000048, 36.378173683000057 ], [ 43.811195729000076, 36.389735390000055 ], [ 43.815298957000039, 36.407900313000027 ], [ 43.823505414000067, 36.431838497000058 ], [ 43.828634450000038, 36.443392221000067 ], [ 43.846073171000057, 36.452468939000028 ], [ 43.859408663000067, 36.456594370000062 ], [ 43.866589313000077, 36.468969343000026 ], [ 43.864537698000049, 36.487940467000044 ], [ 43.87376996200004, 36.493713365000076 ], [ 43.90044094700005, 36.497011971000063 ], [ 43.918905475000031, 36.511853959000064 ], [ 43.927111932000059, 36.525044448000074 ], [ 43.94249903900004, 36.530814580000026 ], [ 43.95275711000005, 36.539056878000054 ], [ 43.961989374000041, 36.551418679000051 ], [ 43.980453902000079, 36.567074122000065 ], [ 44.014305536000052, 36.593434013000035 ], [ 44.029692643000033, 36.60002257900004 ], [ 44.046105556000043, 36.604140148000056 ], [ 44.066621699000052, 36.588492219000045 ], [ 44.092266876000053, 36.588492219000045 ], [ 44.106628176000072, 36.595904791000066 ], [ 44.115860440000063, 36.59837549100007 ], [ 44.126118511000072, 36.586844884000072 ], [ 44.141505617000064, 36.592610403000037 ], [ 44.151763688000074, 36.602493147000075 ], [ 44.170228216000055, 36.603316652000046 ], [ 44.181512094000027, 36.609904374000052 ], [ 44.194847587000027, 36.623901416000024 ], [ 44.212286308000046, 36.63542648300006 ], [ 44.229725029000065, 36.640365270000075 ], [ 44.235879871000066, 36.646949827000071 ], [ 44.250241171000027, 36.663408756000024 ], [ 44.257421820000047, 36.674105174000033 ], [ 44.267679891000057, 36.684800104000033 ], [ 44.276912155000048, 36.694671028000073 ], [ 44.288196034000066, 36.69960601400004 ], [ 44.298454105000076, 36.707007900000065 ], [ 44.302557333000038, 36.716053681000062 ], [ 44.296402490000048, 36.725098398000057 ], [ 44.283066998000038, 36.733319943000026 ], [ 44.271783120000066, 36.741540608000037 ], [ 44.267679891000057, 36.749760392000042 ], [ 44.259473435000075, 36.775236128000074 ], [ 44.234854064000046, 36.788381584000035 ], [ 44.207157272000074, 36.79577491200007 ], [ 44.192795973000045, 36.801524785000026 ], [ 44.156892724000045, 36.815486965000048 ], [ 44.132273353000073, 36.817129407000039 ], [ 44.122015282000064, 36.824519959000042 ], [ 44.104576561000044, 36.835193942000046 ], [ 44.075853962000053, 36.839298924000047 ], [ 44.058415242000081, 36.842582750000076 ], [ 44.053286206000053, 36.858999768000047 ], [ 44.044053942000062, 36.87131021700003 ], [ 44.025589414000081, 36.880336620000037 ], [ 44.020460379000042, 36.894284416000062 ], [ 43.996866815000033, 36.913150907000045 ], [ 43.974299059000032, 36.926272671000049 ], [ 43.948653881000041, 36.935292574000073 ], [ 43.91993128200005, 36.94677090700003 ], [ 43.889157069000078, 36.954968657000052 ], [ 43.855305435000048, 36.968083223000065 ], [ 43.832737678000058, 36.980376076000027 ], [ 43.82860239300004, 36.981477214000051 ], [ 43.808118308000076, 36.986931453000068 ], [ 43.744518267000046, 36.986112062000075 ], [ 43.716821475000074, 36.986112062000075 ], [ 43.689124683000045, 36.982014973000048 ], [ 43.661427891000073, 36.97300060200007 ], [ 43.645014978000063, 36.967263629000058 ], [ 43.625524643000062, 36.969722385000068 ], [ 43.602956886000072, 36.968083223000065 ], [ 43.594750429000044, 36.955788384000073 ], [ 43.596802044000071, 36.941851833000044 ], [ 43.606034308000062, 36.928732750000052 ], [ 43.621421414000054, 36.917251701000055 ], [ 43.634756907000053, 36.90576892200005 ], [ 43.653221434000045, 36.894284416000062 ], [ 43.662453698000036, 36.885259662000067 ], [ 43.662453698000036, 36.862282748000041 ], [ 43.655273049000073, 36.845045528000071 ], [ 43.648092399000063, 36.831088740000041 ], [ 43.633731099000045, 36.822877676000076 ], [ 43.610137536000025, 36.81302323500006 ], [ 43.584492358000034, 36.80234616000007 ], [ 43.55166653100008, 36.794132012000034 ], [ 43.51884070300008, 36.789203100000066 ], [ 43.474730998000041, 36.794132012000034 ], [ 43.454214856000078, 36.803167526000038 ], [ 43.43985355600006, 36.816308190000029 ], [ 43.418311607000078, 36.829446598000061 ], [ 43.40600192200003, 36.838477945000079 ], [ 43.394718044000058, 36.844224611000072 ], [ 43.376253516000077, 36.851612546000069 ], [ 43.364969637000058, 36.860641276000024 ], [ 43.342401881000058, 36.870489582000062 ], [ 43.323937353000076, 36.880336620000037 ], [ 43.315730896000048, 36.889361955000027 ], [ 43.299317983000037, 36.895104795000066 ], [ 43.256234084000027, 36.890182387000038 ], [ 43.245976013000075, 36.882798180000066 ], [ 43.214175993000026, 36.881977669000037 ], [ 43.199814693000064, 36.868027625000025 ], [ 43.182375972000045, 36.845866436000051 ], [ 43.171092094000073, 36.83273084800004 ], [ 43.157756602000063, 36.81959300300008 ], [ 43.144421109000064, 36.801524785000026 ], [ 43.136214653000025, 36.78591698300005 ], [ 43.114672703000053, 36.769484282000064 ], [ 43.095182368000053, 36.744006636000051 ], [ 43.086975911000025, 36.732497828000078 ], [ 43.081846876000043, 36.721809533000055 ], [ 43.059279120000042, 36.716875972000025 ], [ 43.032608135000032, 36.709475037000061 ], [ 43.01824683500007, 36.702895829000056 ], [ 42.99465327200005, 36.702073389000077 ], [ 42.977214551000031, 36.698783538000043 ], [ 42.966956480000078, 36.686445346000028 ], [ 42.951569373000041, 36.685622729000045 ], [ 42.903356439000049, 36.691380860000038 ], [ 42.893098368000039, 36.693848499000069 ], [ 42.869504805000076, 36.696316058000036 ], [ 42.857195119000039, 36.693025962000036 ], [ 42.845911241000067, 36.680686845000025 ], [ 42.832575749000057, 36.674927913000033 ], [ 42.820266064000066, 36.67821878400008 ], [ 42.819240257000047, 36.687267954000049 ], [ 42.817188642000076, 36.69960601400004 ], [ 42.804878957000028, 36.71523138200007 ], [ 42.780259586000057, 36.705363098000078 ], [ 42.767949901000065, 36.690558297000052 ], [ 42.760769251000056, 36.687267954000049 ], [ 42.742304724000064, 36.690558297000052 ], [ 42.734098267000036, 36.697138560000042 ], [ 42.735124074000055, 36.704540684000051 ], [ 42.749485373000027, 36.720987295000043 ], [ 42.751536987000065, 36.732497828000078 ], [ 42.731020845000046, 36.74647258400006 ], [ 42.714607932000035, 36.755513717000042 ], [ 42.702298246000055, 36.76291021600008 ], [ 42.701272439000036, 36.774414462000038 ], [ 42.691014368000026, 36.780987543000037 ], [ 42.666394998000044, 36.786738525000032 ], [ 42.648956277000025, 36.782630725000047 ], [ 42.637672399000053, 36.763732005000065 ], [ 42.624336906000053, 36.75797929600003 ], [ 42.597665921000043, 36.762088418000076 ], [ 42.592536886000062, 36.770306001000051 ], [ 42.577149779000081, 36.78591698300005 ], [ 42.572020744000042, 36.799882008000054 ], [ 42.558685251000043, 36.81384448700004 ], [ 42.55047879500006, 36.816308190000029 ], [ 42.500214246000041, 36.81959300300008 ], [ 42.493033597000078, 36.824519959000042 ], [ 42.493033597000078, 36.836835961000077 ], [ 42.494059404000041, 36.843403685000055 ], [ 42.505343282000069, 36.857358225000041 ], [ 42.51149812400007, 36.87377206900004 ], [ 42.51149812400007, 36.881977669000037 ], [ 42.513549739000041, 36.90576892200005 ], [ 42.51867877400008, 36.922992442000066 ], [ 42.51149812400007, 36.943491560000041 ], [ 42.49508521100006, 36.941851833000044 ], [ 42.473543261000032, 36.921352274000071 ], [ 42.459181962000059, 36.918891957000028 ], [ 42.449949698000069, 36.922992442000066 ], [ 42.439691627000059, 36.929552759000046 ], [ 42.430459363000068, 36.941031957000064 ], [ 42.42225290600004, 36.950869892000071 ], [ 42.40583999200004, 36.964804793000042 ], [ 42.399685150000039, 36.97300060200007 ], [ 42.394556114000068, 36.982834409000077 ], [ 42.387375465000048, 36.994305576000045 ], [ 42.378143201000057, 37.015604583000027 ], [ 42.372144633000062, 37.070431006000035 ], [ 42.342091691000064, 37.04844698200003 ], [ 42.32205639600005, 37.024457147000078 ], [ 42.297012277000078, 37.000459733000071 ], [ 42.27196815800005, 36.974453986000071 ], [ 42.239410803000055, 36.952442179000059 ], [ 42.191826978000051, 36.916409134000048 ], [ 42.119199033000029, 36.840283445000068 ], [ 42.094154914000057, 36.814223030000051 ], [ 42.056588736000037, 36.780130635000035 ], [ 41.966429908000066, 36.711900335000053 ], [ 41.936376966000068, 36.681779451000068 ], [ 41.888793140000075, 36.649637502000076 ], [ 41.831191667000041, 36.599388840000074 ], [ 41.400432823000074, 36.522948160000055 ], [ 41.285229876000074, 36.353705845000036 ], [ 41.282725465000055, 36.275003669000057 ], [ 41.282725465000055, 36.228552332000049 ], [ 41.255176934000076, 36.06271864200005 ], [ 41.372884292000037, 35.833617939000078 ], [ 41.375388704000045, 35.734067070000037 ], [ 41.382901940000067, 35.611998362000065 ], [ 41.275212229000033, 35.499938154000063 ], [ 41.272707817000025, 35.471388733000026 ], [ 41.272707817000025, 35.412218393000046 ], [ 41.270203405000075, 35.367301546000078 ], [ 41.260185758000034, 35.336662084000068 ], [ 41.23764605100007, 35.287614774000076 ], [ 41.215106344000048, 35.13619847800004 ], [ 41.250168110000061, 35.125957466000045 ], [ 41.280221053000048, 35.113666551000051 ], [ 41.320291643000076, 35.095226702000048 ], [ 41.372884292000037, 35.072683445000052 ], [ 41.415459294000073, 35.048083696000049 ], [ 41.450521061000074, 35.03373042000004 ], [ 41.488087239000038, 35.029629021000062 ], [ 41.52314900500005, 35.03373042000004 ], [ 41.578246067000066, 35.019374623000033 ], [ 41.653378423000049, 34.998861968000028 ], [ 41.743537251000078, 34.974239994000072 ], [ 41.901315199000067, 34.922920436000027 ], [ 42.422232871000062, 34.931133724000063 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Dohuk", "shapeISO": "IQ-DA", "shapeID": "90741666B81100048725045", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.82860239300004, 36.981477214000051 ], [ 43.853253820000077, 37.003419824000048 ], [ 43.867679233000047, 37.017498677000049 ], [ 43.893324410000048, 37.027736205000053 ], [ 43.91576394100008, 37.039251774000036 ], [ 43.939806295000039, 37.052044804000047 ], [ 43.954231707000076, 37.063556686000027 ], [ 43.975068414000077, 37.076345619000051 ], [ 43.999110768000037, 37.092968006000035 ], [ 44.019947475000038, 37.109586749000073 ], [ 44.031167240000059, 37.122367915000041 ], [ 44.035975711000049, 37.133869121000032 ], [ 44.047437990000049, 37.146432883000045 ], [ 44.057389434000072, 37.150632191000057 ], [ 44.076879770000062, 37.152267413000061 ], [ 44.086112033000063, 37.152267413000061 ], [ 44.092266876000053, 37.152267413000061 ], [ 44.091241069000034, 37.242966808000062 ], [ 44.087137841000072, 37.247866373000079 ], [ 44.075853963000043, 37.257664547000047 ], [ 44.066621699000052, 37.270726798000055 ], [ 44.058415242000081, 37.281338207000033 ], [ 44.046105557000033, 37.28623527700006 ], [ 44.013279729000033, 37.282970600000056 ], [ 43.990711972000042, 37.269910473000039 ], [ 43.978402287000051, 37.256031607000068 ], [ 43.94967968800006, 37.251949100000047 ], [ 43.945576460000041, 37.234800158000041 ], [ 43.94044742400007, 37.221731678000026 ], [ 43.928137739000078, 37.205392894000056 ], [ 43.914802247000068, 37.188233363000052 ], [ 43.90351836800005, 37.180060787000059 ], [ 43.885053841000058, 37.179243480000025 ], [ 43.853253820000077, 37.180878084000028 ], [ 43.840944135000029, 37.175156816000026 ], [ 43.821453800000029, 37.16453045600008 ], [ 43.808118307000029, 37.180060787000059 ], [ 43.784524744000066, 37.192319319000035 ], [ 43.780421515000057, 37.193953640000075 ], [ 43.760931181000046, 37.195587925000041 ], [ 43.693227911000065, 37.192319319000035 ], [ 43.660402084000054, 37.190684963000024 ], [ 43.650144013000045, 37.182512652000071 ], [ 43.629627871000025, 37.182512652000071 ], [ 43.608085922000043, 37.188233363000052 ], [ 43.588595587000043, 37.198856389000071 ], [ 43.584492358000034, 37.20620991800007 ], [ 43.558847181000033, 37.218464204000043 ], [ 43.53833103900007, 37.222548524000047 ], [ 43.523969739000052, 37.210294901000054 ], [ 43.51268586100008, 37.209477922000076 ], [ 43.480885840000042, 37.212745785000038 ], [ 43.461395505000041, 37.220914823000044 ], [ 43.452163241000051, 37.232349990000046 ], [ 43.426518064000049, 37.238066924000066 ], [ 43.413182572000039, 37.23970025400007 ], [ 43.397795465000058, 37.250316036000072 ], [ 43.394718043000069, 37.259297453000045 ], [ 43.38958900800003, 37.265828720000059 ], [ 43.37009867300003, 37.26909414000005 ], [ 43.365995444000077, 37.276440820000062 ], [ 43.347530917000029, 37.282154408000054 ], [ 43.330092196000066, 37.282970600000056 ], [ 43.315730896000048, 37.28052199800004 ], [ 43.302395404000038, 37.272359420000043 ], [ 43.291111526000066, 37.269910473000039 ], [ 43.281879262000075, 37.269910473000039 ], [ 43.268543770000065, 37.276440820000062 ], [ 43.251105048000056, 37.290315925000073 ], [ 43.226485678000074, 37.302556540000069 ], [ 43.193659851000064, 37.313979317000076 ], [ 43.165963059000035, 37.315611 ], [ 43.148524338000072, 37.326216080000052 ], [ 43.123904968000033, 37.330294559000038 ], [ 43.080821068000034, 37.328663194000058 ], [ 43.05825331300008, 37.318058459000042 ], [ 43.039788784000052, 37.313163462000034 ], [ 43.020298450000041, 37.310715843000025 ], [ 42.990550044000031, 37.287867562000031 ], [ 42.977214551000031, 37.28052199800004 ], [ 42.95875002300005, 37.279705780000029 ], [ 42.921820967000031, 37.281338207000033 ], [ 42.890020947000039, 37.287051424000026 ], [ 42.880788683000048, 37.291948122000065 ], [ 42.836678977000076, 37.304188471000032 ], [ 42.825395100000037, 37.314795163000042 ], [ 42.817188643000065, 37.323768887000028 ], [ 42.798724114000038, 37.33355718200005 ], [ 42.782311201000027, 37.329478881000057 ], [ 42.758717637000075, 37.313163462000034 ], [ 42.744356338000046, 37.300108576000071 ], [ 42.735124074000055, 37.290315925000073 ], [ 42.723840196000026, 37.279705780000029 ], [ 42.711530510000046, 37.270726798000055 ], [ 42.689988561000064, 37.254398631000072 ], [ 42.682807911000054, 37.242966808000062 ], [ 42.662291769000035, 37.231533250000041 ], [ 42.643827241000054, 37.217647314000033 ], [ 42.639724013000034, 37.20457586200007 ], [ 42.630491748000054, 37.193953640000075 ], [ 42.619207871000071, 37.183329923000031 ], [ 42.605872379000061, 37.168617694000034 ], [ 42.598691729000052, 37.154720181000073 ], [ 42.586382043000071, 37.137549137000065 ], [ 42.572020743000053, 37.113830336000035 ], [ 42.559711058000062, 37.108103994000032 ], [ 42.543298144000062, 37.11792031400006 ], [ 42.515601353000079, 37.111376242000063 ], [ 42.500214246000041, 37.104831604000026 ], [ 42.48482713900006, 37.102377219000061 ], [ 42.45200131200005, 37.102377219000061 ], [ 42.427381941000078, 37.100740918000042 ], [ 42.40583999200004, 37.088467535000063 ], [ 42.382246429000077, 37.090104101000065 ], [ 42.369936744000029, 37.087649239000029 ], [ 42.374390237000057, 37.081051241000068 ], [ 42.371578035000027, 37.080938877000051 ], [ 42.372144633000062, 37.070431006000035 ], [ 42.378143201000057, 37.015604583000027 ], [ 42.387375465000048, 36.994305576000045 ], [ 42.394556114000068, 36.982834409000077 ], [ 42.399685150000039, 36.97300060200007 ], [ 42.40583999200004, 36.964804793000042 ], [ 42.42225290600004, 36.950869892000071 ], [ 42.430459363000068, 36.941031957000064 ], [ 42.439691627000059, 36.929552759000046 ], [ 42.449949698000069, 36.922992442000066 ], [ 42.459181962000059, 36.918891957000028 ], [ 42.473543261000032, 36.921352274000071 ], [ 42.49508521100006, 36.941851833000044 ], [ 42.51149812400007, 36.943491560000041 ], [ 42.51867877400008, 36.922992442000066 ], [ 42.513549739000041, 36.90576892200005 ], [ 42.51149812400007, 36.881977669000037 ], [ 42.51149812400007, 36.87377206900004 ], [ 42.505343282000069, 36.857358225000041 ], [ 42.494059404000041, 36.843403685000055 ], [ 42.493033597000078, 36.836835961000077 ], [ 42.493033597000078, 36.824519959000042 ], [ 42.500214246000041, 36.81959300300008 ], [ 42.55047879500006, 36.816308190000029 ], [ 42.558685251000043, 36.81384448700004 ], [ 42.572020744000042, 36.799882008000054 ], [ 42.577149779000081, 36.78591698300005 ], [ 42.592536886000062, 36.770306001000051 ], [ 42.597665921000043, 36.762088418000076 ], [ 42.624336906000053, 36.75797929600003 ], [ 42.637672399000053, 36.763732005000065 ], [ 42.648956277000025, 36.782630725000047 ], [ 42.666394998000044, 36.786738525000032 ], [ 42.691014368000026, 36.780987543000037 ], [ 42.701272439000036, 36.774414462000038 ], [ 42.702298246000055, 36.76291021600008 ], [ 42.714607932000035, 36.755513717000042 ], [ 42.731020845000046, 36.74647258400006 ], [ 42.751536987000065, 36.732497828000078 ], [ 42.749485373000027, 36.720987295000043 ], [ 42.735124074000055, 36.704540684000051 ], [ 42.734098267000036, 36.697138560000042 ], [ 42.742304724000064, 36.690558297000052 ], [ 42.760769251000056, 36.687267954000049 ], [ 42.767949901000065, 36.690558297000052 ], [ 42.780259586000057, 36.705363098000078 ], [ 42.804878957000028, 36.71523138200007 ], [ 42.817188642000076, 36.69960601400004 ], [ 42.819240257000047, 36.687267954000049 ], [ 42.820266064000066, 36.67821878400008 ], [ 42.832575749000057, 36.674927913000033 ], [ 42.845911241000067, 36.680686845000025 ], [ 42.857195119000039, 36.693025962000036 ], [ 42.869504805000076, 36.696316058000036 ], [ 42.893098368000039, 36.693848499000069 ], [ 42.903356439000049, 36.691380860000038 ], [ 42.951569373000041, 36.685622729000045 ], [ 42.966956480000078, 36.686445346000028 ], [ 42.977214551000031, 36.698783538000043 ], [ 42.99465327200005, 36.702073389000077 ], [ 43.01824683500007, 36.702895829000056 ], [ 43.032608135000032, 36.709475037000061 ], [ 43.059279120000042, 36.716875972000025 ], [ 43.081846876000043, 36.721809533000055 ], [ 43.086975911000025, 36.732497828000078 ], [ 43.095182368000053, 36.744006636000051 ], [ 43.114672703000053, 36.769484282000064 ], [ 43.136214653000025, 36.78591698300005 ], [ 43.144421109000064, 36.801524785000026 ], [ 43.157756602000063, 36.81959300300008 ], [ 43.171092094000073, 36.83273084800004 ], [ 43.182375972000045, 36.845866436000051 ], [ 43.199814693000064, 36.868027625000025 ], [ 43.214175993000026, 36.881977669000037 ], [ 43.245976013000075, 36.882798180000066 ], [ 43.256234084000027, 36.890182387000038 ], [ 43.299317983000037, 36.895104795000066 ], [ 43.315730896000048, 36.889361955000027 ], [ 43.323937353000076, 36.880336620000037 ], [ 43.342401881000058, 36.870489582000062 ], [ 43.364969637000058, 36.860641276000024 ], [ 43.376253516000077, 36.851612546000069 ], [ 43.394718044000058, 36.844224611000072 ], [ 43.40600192200003, 36.838477945000079 ], [ 43.418311607000078, 36.829446598000061 ], [ 43.43985355600006, 36.816308190000029 ], [ 43.454214856000078, 36.803167526000038 ], [ 43.474730998000041, 36.794132012000034 ], [ 43.51884070300008, 36.789203100000066 ], [ 43.55166653100008, 36.794132012000034 ], [ 43.584492358000034, 36.80234616000007 ], [ 43.610137536000025, 36.81302323500006 ], [ 43.633731099000045, 36.822877676000076 ], [ 43.648092399000063, 36.831088740000041 ], [ 43.655273049000073, 36.845045528000071 ], [ 43.662453698000036, 36.862282748000041 ], [ 43.662453698000036, 36.885259662000067 ], [ 43.653221434000045, 36.894284416000062 ], [ 43.634756907000053, 36.90576892200005 ], [ 43.621421414000054, 36.917251701000055 ], [ 43.606034308000062, 36.928732750000052 ], [ 43.596802044000071, 36.941851833000044 ], [ 43.594750429000044, 36.955788384000073 ], [ 43.602956886000072, 36.968083223000065 ], [ 43.625524643000062, 36.969722385000068 ], [ 43.645014978000063, 36.967263629000058 ], [ 43.661427891000073, 36.97300060200007 ], [ 43.689124683000045, 36.982014973000048 ], [ 43.716821475000074, 36.986112062000075 ], [ 43.744518267000046, 36.986112062000075 ], [ 43.808118308000076, 36.986931453000068 ], [ 43.82860239300004, 36.981477214000051 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Salah al-Din", "shapeISO": "IQ-SD", "shapeID": "90741666B48099694344995", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.260471192000068, 33.433313682000062 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.327689607000025, 33.50860461700006 ], [ 44.32127831300005, 33.516622879000067 ], [ 44.314867018000029, 33.521967975000052 ], [ 44.310058548000029, 33.532657175000054 ], [ 44.306852900000081, 33.584748099000024 ], [ 44.32127831300005, 33.599434729000052 ], [ 44.327689607000025, 33.608779465000055 ], [ 44.33089525400004, 33.631469606000053 ], [ 44.33089525400004, 33.650151118000053 ], [ 44.346923490000052, 33.66616061600007 ], [ 44.364554550000037, 33.667494606000048 ], [ 44.386994081000068, 33.670162525000023 ], [ 44.391802551000069, 33.678165784000043 ], [ 44.398213846000033, 33.714171233000059 ], [ 44.401419493000049, 33.739499354000031 ], [ 44.414242082000044, 33.751494276000074 ], [ 44.41744772900006, 33.763487520000069 ], [ 44.414242082000044, 33.776811379000037 ], [ 44.406227964000038, 33.788801080000042 ], [ 44.385391257000038, 33.799457183000072 ], [ 44.383788433000063, 33.81410715800007 ], [ 44.385391257000038, 33.834080355000026 ], [ 44.385391257000038, 33.848724401000027 ], [ 44.386994081000068, 33.863365936000037 ], [ 44.40302231700008, 33.87401274900003 ], [ 44.420653376000075, 33.888649948000079 ], [ 44.431873142000029, 33.905945219000046 ], [ 44.439887260000035, 33.932546477000074 ], [ 44.444695730000035, 33.939195494000046 ], [ 44.460723966000046, 33.94850324500004 ], [ 44.45751831900003, 33.976420391000033 ], [ 44.455915496000046, 33.98971104900005 ], [ 44.439887260000035, 33.997684446000051 ], [ 44.427064671000039, 34.002999629000044 ], [ 44.419050553000034, 34.016286130000026 ], [ 44.406227964000038, 34.024257033000026 ], [ 44.395008199000074, 34.037540207000063 ], [ 44.382185610000079, 34.046837192000055 ], [ 44.359746079000047, 34.052149297000028 ], [ 44.340512196000077, 34.053477271000077 ], [ 44.314867018000029, 34.056133157000033 ], [ 44.300441606000049, 34.062772509000069 ], [ 44.300441606000049, 34.073394389000043 ], [ 44.300441606000049, 34.084014937000063 ], [ 44.300441606000049, 34.101270487000079 ], [ 44.306852900000081, 34.119849453000029 ], [ 44.319675489000076, 34.133117645000027 ], [ 44.324483960000066, 34.145057236000071 ], [ 44.33089525400004, 34.162300335000054 ], [ 44.350129138000057, 34.198101672000064 ], [ 44.362951727000052, 34.211357571000065 ], [ 44.370965845000057, 34.221960789000036 ], [ 44.390199728000027, 34.221960789000036 ], [ 44.404625140000064, 34.223286098000074 ], [ 44.420653376000075, 34.229912327000079 ], [ 44.428667494000081, 34.248462996000058 ], [ 44.43828443600006, 34.264360315000033 ], [ 44.451107025000056, 34.274956859000042 ], [ 44.467135261000067, 34.282903390000058 ], [ 44.479957850000062, 34.28820066000003 ], [ 44.491177615000026, 34.301442375000079 ], [ 44.491177615000026, 34.319977269000049 ], [ 44.491469970000026, 34.358827946000076 ], [ 44.479652672000043, 34.365873222000062 ], [ 44.471774473000039, 34.377794646000041 ], [ 44.473087507000059, 34.392964914000061 ], [ 44.479652672000043, 34.402715778000072 ], [ 44.488843904000078, 34.41138225800006 ], [ 44.492783003000056, 34.420047841000041 ], [ 44.503287268000065, 34.432503043000054 ], [ 44.501974235000034, 34.44874616900006 ], [ 44.499348169000029, 34.455783876000055 ], [ 44.495409069000061, 34.464444856000057 ], [ 44.49409603600003, 34.473104936000027 ], [ 44.489574791000052, 34.499817398000062 ], [ 44.507205851000037, 34.510384183000042 ], [ 44.516822793000074, 34.519629021000071 ], [ 44.520028440000033, 34.531513733000054 ], [ 44.516822793000074, 34.542076498000029 ], [ 44.510411498000053, 34.548677545000032 ], [ 44.507205851000037, 34.560558111000034 ], [ 44.505603027000063, 34.579035619000024 ], [ 44.507205851000037, 34.59882839200003 ], [ 44.513617145000069, 34.606744181000067 ], [ 44.528042558000038, 34.609382609000079 ], [ 44.540865147000034, 34.610701792000043 ], [ 44.55368773500004, 34.609382609000079 ], [ 44.576127266000071, 34.596189628000047 ], [ 44.595361149000041, 34.577715933000036 ], [ 44.611389385000052, 34.560558111000034 ], [ 44.635431739000069, 34.543396749000067 ], [ 44.657871270000044, 34.540756226000042 ], [ 44.669091035000065, 34.555278069000053 ], [ 44.675502329000039, 34.571117190000052 ], [ 44.680310800000029, 34.589592351000078 ], [ 44.683516447000045, 34.609382609000079 ], [ 44.68672209500005, 34.623892468000065 ], [ 44.699544683000056, 34.63312469300007 ], [ 44.723587038000062, 34.643674550000071 ], [ 44.725189861000047, 34.70299248300006 ], [ 44.729998332000036, 34.738562847000026 ], [ 44.742820921000032, 34.754366984000058 ], [ 44.757246333000069, 34.764901396000027 ], [ 44.776480217000028, 34.782016948000035 ], [ 44.797316923000039, 34.801761250000027 ], [ 44.814947983000081, 34.855704882000055 ], [ 44.869443986000078, 34.867541436000067 ], [ 44.901500458000044, 34.867541436000067 ], [ 44.912720223000065, 34.872801580000043 ], [ 44.91432304600005, 34.895153438000079 ], [ 44.92073434100007, 34.918813484000054 ], [ 44.933556930000066, 34.938524980000068 ], [ 44.936762577000081, 34.958231740000031 ], [ 44.931954106000035, 34.98187359800005 ], [ 44.931954106000035, 35.002882854000063 ], [ 44.923939988000029, 35.030449317000034 ], [ 44.903103281000028, 35.052758219000054 ], [ 44.879060927000069, 35.071125681000069 ], [ 44.840593161000072, 35.089489010000079 ], [ 44.80853668900005, 35.09473491600005 ], [ 44.768466098000033, 35.09473491600005 ], [ 44.68672209500005, 35.102603142000078 ], [ 44.649857152000038, 35.102603142000078 ], [ 44.609786562000068, 35.10391443900005 ], [ 44.56971597200004, 35.11047060900006 ], [ 44.544070794000049, 35.120959384000059 ], [ 44.528042558000038, 35.131446808000078 ], [ 44.507205851000037, 35.149796551000065 ], [ 44.490068760000042, 35.157969887000036 ], [ 44.487971968000068, 35.158969871000068 ], [ 44.473546555000041, 35.135379244000035 ], [ 44.467135261000067, 35.109159418000047 ], [ 44.460723966000046, 35.07374926600005 ], [ 44.451107025000056, 35.05013395800006 ], [ 44.414242082000044, 34.988439570000025 ], [ 44.380582786000048, 34.930640950000054 ], [ 44.318072666000035, 34.810973640000043 ], [ 44.271590781000043, 34.749099274000059 ], [ 44.252356898000073, 34.743831228000033 ], [ 44.229917367000041, 34.753050088000066 ], [ 44.212286308000046, 34.770168098000056 ], [ 44.19305242400003, 34.783333382000023 ], [ 44.175421365000034, 34.795180341000048 ], [ 44.154584658000033, 34.804393466000079 ], [ 44.140159246000053, 34.814921491000064 ], [ 44.106499950000057, 34.841235669000071 ], [ 44.05200394700006, 34.878061388000049 ], [ 44.024755946000028, 34.888579993000064 ], [ 44.000713592000068, 34.893838791000064 ], [ 43.963848649000056, 34.900411815000041 ], [ 43.928586530000075, 34.906984313000066 ], [ 43.906146999000043, 34.916184927000074 ], [ 43.883707469000058, 34.937211028000036 ], [ 43.869282056000031, 34.952977067000063 ], [ 43.853253820000077, 34.973993737000058 ], [ 43.805169112000044, 35.018636257000026 ], [ 43.774715464000053, 35.051446099000032 ], [ 43.750673110000037, 35.067190144000051 ], [ 43.72182228500003, 35.077684487000056 ], [ 43.689765813000065, 35.085554358000024 ], [ 43.665723459000048, 35.093423471000051 ], [ 43.632064163000052, 35.101291824000043 ], [ 43.616035927000041, 35.106536971000025 ], [ 43.579170984000029, 35.120959384000059 ], [ 43.556731453000054, 35.131446808000078 ], [ 43.513455216000068, 35.14586481200007 ], [ 43.441328154000075, 35.164211304000048 ], [ 43.420491447000074, 35.16683189400004 ], [ 43.399654740000074, 35.170762620000062 ], [ 43.374009563000072, 35.17862350300004 ], [ 43.353172856000072, 35.189103497000076 ], [ 43.345158738000066, 35.20482095400007 ], [ 43.337144620000061, 35.223154144000034 ], [ 43.324322031000065, 35.241483192000032 ], [ 43.301882500000033, 35.283362607000072 ], [ 43.289059911000038, 35.304294196000058 ], [ 43.282648617000063, 35.319989336000049 ], [ 43.274634499000058, 35.34221890200007 ], [ 43.266620381000052, 35.360521013000039 ], [ 43.253797792000057, 35.382739429000026 ], [ 43.239372380000077, 35.402338833000044 ], [ 43.224946967000051, 35.465024908000032 ], [ 43.232961085000056, 35.472857236000038 ], [ 43.252194969000072, 35.481993987000067 ], [ 43.271428852000042, 35.485909420000041 ], [ 43.303485324000064, 35.492434717000037 ], [ 43.319513560000075, 35.497654573000034 ], [ 43.340350267000076, 35.502874090000034 ], [ 43.357981326000072, 35.510702730000048 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.369201092000026, 35.52896658800006 ], [ 43.361186974000077, 35.540705445000071 ], [ 43.351570032000041, 35.548530395000057 ], [ 43.332336149000071, 35.556354581000051 ], [ 43.314705089000029, 35.568089429000054 ], [ 43.309896618000039, 35.578518963000079 ], [ 43.309896618000039, 35.591553970000064 ], [ 43.313102266000044, 35.603283662000024 ], [ 43.321116384000049, 35.620223516000067 ], [ 43.329130502000055, 35.63455443600003 ], [ 43.33554179600003, 35.646277823000048 ], [ 43.340350267000076, 35.657999491000055 ], [ 43.341953090000061, 35.672323637000034 ], [ 43.343555914000035, 35.691852421000078 ], [ 43.341953090000061, 35.711376425000026 ], [ 43.33554179600003, 35.725690990000032 ], [ 43.322277968000037, 35.738325517000078 ], [ 43.321116384000049, 35.732196760000079 ], [ 43.317910736000044, 35.721787273000075 ], [ 43.300279677000049, 35.707472007000035 ], [ 43.273031675000027, 35.694455898000058 ], [ 43.248989321000067, 35.686645213000077 ], [ 43.221741320000035, 35.677531780000038 ], [ 43.191287672000044, 35.663208568000073 ], [ 43.164039670000079, 35.648882787000048 ], [ 43.09832390300005, 35.637159782000026 ], [ 42.997346015000062, 35.637159782000026 ], [ 42.885148363000042, 35.556354581000051 ], [ 42.859503185000051, 35.542009656000062 ], [ 42.83866647900004, 35.526357720000078 ], [ 42.81462412500008, 35.501569243000063 ], [ 42.796993065000038, 35.478078364000055 ], [ 42.795390241000064, 35.404951727000025 ], [ 42.805007183000043, 35.381432633000031 ], [ 42.809815654000033, 35.364442355000051 ], [ 42.809815654000033, 35.340911450000078 ], [ 42.816226948000065, 35.323912644000075 ], [ 42.84347494900004, 35.295137292000049 ], [ 42.905985070000042, 35.228391437000028 ], [ 42.973303661000045, 35.143243547000054 ], [ 42.995743192000077, 35.105471578000049 ], [ 42.419728459000055, 35.095226702000048 ], [ 42.422232871000062, 34.931133724000063 ], [ 42.442268166000076, 34.558660635000024 ], [ 42.770346122000035, 34.374895940000044 ], [ 42.923115247000055, 34.515336902000058 ], [ 42.920610835000048, 34.228007339000044 ], [ 42.998247604000028, 34.147212816000035 ], [ 43.045831429000032, 34.12233739800007 ], [ 43.103432903000055, 34.08708469100003 ], [ 43.115954962000046, 34.055967167000063 ], [ 43.115954962000046, 34.022762546000024 ], [ 43.183574083000053, 34.004079235000063 ], [ 43.183574083000053, 33.968777321000061 ], [ 43.326325560000043, 33.84406520400006 ], [ 43.521669687000042, 33.79621054200004 ], [ 43.551722630000029, 33.79412929700004 ], [ 43.571757925000043, 33.792048002000058 ], [ 43.60181086700004, 33.792048002000058 ], [ 43.629359398000076, 33.792048002000058 ], [ 43.671934400000055, 33.789966656000047 ], [ 43.70449175400006, 33.773314066000069 ], [ 43.732040285000039, 33.750411470000074 ], [ 44.020047652000073, 33.742081736000046 ], [ 44.045091770000056, 33.725419841000075 ], [ 44.072640301000035, 33.700420932000043 ], [ 44.082657949000065, 33.671246343000064 ], [ 44.082657949000065, 33.631636423000032 ], [ 44.10519765600003, 33.614953109000055 ], [ 44.132746186000077, 33.598266566000063 ], [ 44.165303541000071, 33.577403846000038 ], [ 44.215391778000026, 33.508521089000055 ], [ 44.260471192000068, 33.433313682000062 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Diyala", "shapeISO": "IQ-DI", "shapeID": "90741666B43715208964458", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.568113148000066, 33.129567433000034 ], [ 44.579525252000053, 33.115391987000066 ], [ 44.582602673000054, 33.107658961000027 ], [ 44.591834937000044, 33.113673596000069 ], [ 44.608247851000044, 33.118828669000038 ], [ 44.634918836000054, 33.116251170000055 ], [ 44.647228521000045, 33.105940419000035 ], [ 44.644151100000045, 33.08789369200008 ], [ 44.645176907000064, 33.071562508000056 ], [ 44.656460785000036, 33.062965931000065 ], [ 44.673899506000055, 33.057807582000066 ], [ 44.693389841000055, 33.06124651500005 ], [ 44.706725333000065, 33.067264325000053 ], [ 44.719035019000046, 33.069843260000027 ], [ 44.732370511000056, 33.073281723000036 ], [ 44.749809232000075, 33.092190867000056 ], [ 44.792893130000039, 33.130855997000026 ], [ 44.830847993000077, 33.159199607000062 ], [ 44.844183486000077, 33.183241550000048 ], [ 44.855467364000049, 33.208993454000051 ], [ 44.862648013000069, 33.229589525000051 ], [ 44.87085447000004, 33.252754308000078 ], [ 44.892396420000068, 33.282773592000069 ], [ 44.906757719000041, 33.291348635000077 ], [ 44.944712582000079, 33.300780209000038 ], [ 44.97035776000007, 33.306781589000025 ], [ 44.999080359000061, 33.311068036000052 ], [ 45.018570694000061, 33.321354649000057 ], [ 45.042164257000081, 33.325640379000049 ], [ 45.101661069000045, 33.307638895000025 ], [ 45.140641739000046, 33.293920984000067 ], [ 45.171415953000064, 33.282773592000069 ], [ 45.191932095000027, 33.273340072000053 ], [ 45.218603080000037, 33.26047453800004 ], [ 45.238093415000037, 33.249322875000075 ], [ 45.253480521000029, 33.23988574200007 ], [ 45.270919242000048, 33.227873371000044 ], [ 45.293486998000049, 33.220150261000072 ], [ 45.332467668000049, 33.21757573900004 ], [ 45.41042900900004, 33.215859350000073 ], [ 45.45453871400008, 33.206418605000067 ], [ 45.468900014000042, 33.198693601000059 ], [ 45.495570998000062, 33.198693601000059 ], [ 45.525319405000062, 33.186675574000049 ], [ 45.547887161000062, 33.175514502000055 ], [ 45.565325882000081, 33.16692809400007 ], [ 45.578661374000035, 33.159199607000062 ], [ 45.600203323000073, 33.155764506000025 ], [ 45.619693658000074, 33.160917107000046 ], [ 45.641235608000045, 33.17379728700007 ], [ 45.679190471000027, 33.203843679000045 ], [ 45.692525963000037, 33.220150261000072 ], [ 45.718171141000028, 33.249322875000075 ], [ 45.727403405000075, 33.265620979000062 ], [ 45.738687283000047, 33.292206093000061 ], [ 45.746893740000075, 33.312782555000069 ], [ 45.757151811000028, 33.334211208000056 ], [ 45.769461496000076, 33.347922779000044 ], [ 45.789977638000039, 33.350493459000063 ], [ 45.817674430000068, 33.352207203000034 ], [ 45.84537122200004, 33.368486089000044 ], [ 45.853577679000068, 33.387331520000032 ], [ 45.86178413600004, 33.399321941000039 ], [ 45.87511962800005, 33.426722405000078 ], [ 45.887429313000041, 33.450690718000033 ], [ 45.89460996300005, 33.458393412000078 ], [ 45.917177719000051, 33.466951159000075 ], [ 45.940771283000061, 33.475508061000028 ], [ 45.966416461000051, 33.48577522800008 ], [ 45.982829374000062, 33.500318298000025 ], [ 45.992061638000052, 33.514858925000055 ], [ 46.001293902000043, 33.529397109000058 ], [ 46.015655202000062, 33.538802866000026 ], [ 46.019319516000053, 33.538320615000032 ], [ 46.001037450000069, 33.562796940000055 ], [ 45.978497743000048, 33.569057345000033 ], [ 45.963471272000049, 33.556536081000047 ], [ 45.943435977000036, 33.539838239000062 ], [ 45.923400682000079, 33.53357571600003 ], [ 45.888338916000066, 33.535663274000058 ], [ 45.895852151000042, 33.554449027000032 ], [ 45.915887446000056, 33.575317296000037 ], [ 45.938427153000077, 33.589922083000033 ], [ 45.958462448000034, 33.598266566000063 ], [ 45.978497743000048, 33.61703870000008 ], [ 45.970984508000072, 33.633721610000066 ], [ 45.945940389000043, 33.64206185300003 ], [ 45.920896270000071, 33.658739917000048 ], [ 45.920896270000071, 33.671246343000064 ], [ 45.915887446000056, 33.685834875000069 ], [ 45.888338916000066, 33.685834875000069 ], [ 45.855781561000072, 33.685834875000069 ], [ 45.813206559000037, 33.677498874000037 ], [ 45.798180088000038, 33.660824447000039 ], [ 45.778144793000081, 33.648316506000072 ], [ 45.753100674000052, 33.664993357000071 ], [ 45.775640381000073, 33.679582950000054 ], [ 45.773135969000066, 33.687918749000062 ], [ 45.758109498000067, 33.698337362000075 ], [ 45.725552143000073, 33.717087680000077 ], [ 45.708021260000066, 33.733751193000046 ], [ 45.685481553000045, 33.746246704000043 ], [ 45.670455082000046, 33.762904554000045 ], [ 45.657933023000055, 33.783722314000045 ], [ 45.655428611000048, 33.798291736000067 ], [ 45.642906551000067, 33.819100895000076 ], [ 45.620366844000046, 33.833664294000073 ], [ 45.602835961000039, 33.848225213000035 ], [ 45.587809490000041, 33.879418825000073 ], [ 45.577791842000067, 33.900208234000047 ], [ 45.557756547000054, 33.925148836000062 ], [ 45.542730076000055, 33.943849496000041 ], [ 45.522694781000041, 33.981238494000024 ], [ 45.522241983000072, 34.000129472000026 ], [ 45.500700034000033, 34.005231906000063 ], [ 45.478132278000032, 33.999279036000075 ], [ 45.462745171000051, 33.988222599000039 ], [ 45.439151608000032, 33.991624733000037 ], [ 45.43094515100006, 34.004381522000074 ], [ 45.42786772900007, 34.009483701000079 ], [ 45.415558044000079, 34.029039215000068 ], [ 45.435048379000079, 34.047740273000045 ], [ 45.455564521000042, 34.055389518000027 ], [ 45.467874207000079, 34.06303807200004 ], [ 45.47402904900008, 34.075784128000066 ], [ 45.485312927000052, 34.089377808000052 ], [ 45.488390349000042, 34.098722197000029 ], [ 45.492493577000062, 34.120804832000033 ], [ 45.503777455000034, 34.138636599000051 ], [ 45.515061333000062, 34.153069083000048 ], [ 45.527371019000043, 34.159011154000041 ], [ 45.541732318000072, 34.168347849000043 ], [ 45.554042004000053, 34.177683511000055 ], [ 45.577635567000073, 34.179380794000053 ], [ 45.584816217000025, 34.187018141000067 ], [ 45.583790410000063, 34.193806314000028 ], [ 45.580712988000073, 34.216712363000056 ], [ 45.571480724000025, 34.22264995200004 ], [ 45.562248460000035, 34.234523875000036 ], [ 45.560196846000053, 34.247244077000062 ], [ 45.564300075000062, 34.254027399000051 ], [ 45.574558146000072, 34.260810174000028 ], [ 45.574558146000072, 34.273526403000062 ], [ 45.577635567000073, 34.289630866000039 ], [ 45.595074288000035, 34.299800516000062 ], [ 45.597125902000073, 34.31759444000005 ], [ 45.597125902000073, 34.326913562000072 ], [ 45.593022674000053, 34.344701739000072 ], [ 45.584816217000025, 34.357405271000061 ], [ 45.573532339000053, 34.365873222000062 ], [ 45.560196846000053, 34.376880279000034 ], [ 45.559171039000034, 34.381113377000077 ], [ 45.532500054000081, 34.387039356000059 ], [ 45.518138755000052, 34.387885890000064 ], [ 45.486338734000071, 34.396350760000075 ], [ 45.481209699000033, 34.403968411000051 ], [ 45.473003242000061, 34.412431654000045 ], [ 45.47402904900008, 34.423432590000061 ], [ 45.476080663000062, 34.441200276000075 ], [ 45.473003242000061, 34.458964184000024 ], [ 45.455564521000042, 34.476724313000034 ], [ 45.44735806400007, 34.491098793000049 ], [ 45.44735806400007, 34.503780100000029 ], [ 45.461719364000032, 34.513923756000054 ], [ 45.482235506000052, 34.516459478000058 ], [ 45.501725841000052, 34.518995122000035 ], [ 45.520190369000034, 34.524066178000055 ], [ 45.527371019000043, 34.534207365000043 ], [ 45.529422633000081, 34.551106599000036 ], [ 45.529422633000081, 34.611071160000051 ], [ 45.535577476000071, 34.626266567000073 ], [ 45.543783932000053, 34.639771260000032 ], [ 45.558145232000072, 34.637239297000065 ], [ 45.567377496000063, 34.614448157000027 ], [ 45.579687181000054, 34.603472413000077 ], [ 45.602254938000044, 34.595028545000048 ], [ 45.621745273000045, 34.592495218000067 ], [ 45.672009821000074, 34.594184111000061 ], [ 45.704835648000028, 34.594184111000061 ], [ 45.723300176000066, 34.584894771000052 ], [ 45.736635669000066, 34.577293630000042 ], [ 45.741764704000047, 34.587428331000069 ], [ 45.741764704000047, 34.606849720000071 ], [ 45.740738897000028, 34.622045899000057 ], [ 45.738687283000047, 34.636395293000078 ], [ 45.738687283000047, 34.656649034000054 ], [ 45.733558247000076, 34.669305109000049 ], [ 45.723300176000066, 34.68195925200007 ], [ 45.721248562000028, 34.700515162000045 ], [ 45.717145334000065, 34.708105018000026 ], [ 45.705861455000047, 34.724968870000055 ], [ 45.697654999000065, 34.738457476000065 ], [ 45.682267892000027, 34.744358048000038 ], [ 45.669958207000036, 34.75447233500006 ], [ 45.668932400000074, 34.767113452000046 ], [ 45.674061435000056, 34.780595176000077 ], [ 45.682267892000027, 34.789020135000044 ], [ 45.690474349000056, 34.799128949000078 ], [ 45.697654999000065, 34.80502518600008 ], [ 45.703809841000066, 34.813447649000068 ], [ 45.704835648000028, 34.837025965000066 ], [ 45.706887262000066, 34.857230578000042 ], [ 45.720222755000066, 34.864806028000032 ], [ 45.741764704000047, 34.868172671000025 ], [ 45.754074389000039, 34.869014311000058 ], [ 45.775616339000067, 34.877430229000026 ], [ 45.788951831000077, 34.88836963500006 ], [ 45.795106674000067, 34.89762491700003 ], [ 45.794080867000048, 34.911926485000038 ], [ 45.794531307000057, 34.942209687000059 ], [ 45.795106674000067, 34.980875524000055 ], [ 45.791003445000058, 35.003565564000041 ], [ 45.78279698800003, 35.016168424000057 ], [ 45.771513110000058, 35.038008780000041 ], [ 45.771513110000058, 35.119438595000076 ], [ 45.771513110000058, 35.155510341000024 ], [ 45.764332460000048, 35.172282450000068 ], [ 45.747919547000038, 35.174797968000064 ], [ 45.733558247000076, 35.16725118100004 ], [ 45.723300176000066, 35.159703692000051 ], [ 45.706887262000066, 35.158026378000045 ], [ 45.702784034000047, 35.143767806000028 ], [ 45.697654999000065, 35.128667773000075 ], [ 45.684319506000065, 35.104334050000034 ], [ 45.667906592000065, 35.095941426000024 ], [ 45.652519486000074, 35.088387326000031 ], [ 45.637132379000036, 35.076635113000066 ], [ 45.630977537000035, 35.060682973000041 ], [ 45.608409780000045, 35.043048034000037 ], [ 45.607383973000026, 35.025409287000059 ], [ 45.618667851000055, 35.009447140000077 ], [ 45.628925922000064, 35.001885036000033 ], [ 45.630977537000035, 34.990960763000032 ], [ 45.615590430000054, 34.97835402000004 ], [ 45.612513009000054, 34.956497735000028 ], [ 45.601229130000036, 34.950612354000043 ], [ 45.580712988000073, 34.943044816000054 ], [ 45.563274268000043, 34.925384509000025 ], [ 45.544809740000062, 34.910244077000073 ], [ 45.540706511000053, 34.877430229000026 ], [ 45.535577476000071, 34.865647702000047 ], [ 45.526345212000081, 34.857230578000042 ], [ 45.514035526000043, 34.847128892000057 ], [ 45.501725841000052, 34.837025965000066 ], [ 45.48736454200008, 34.822711364000043 ], [ 45.479158085000051, 34.80502518600008 ], [ 45.476080663000062, 34.788177677000078 ], [ 45.469925821000061, 34.755315136000036 ], [ 45.469925821000061, 34.734242523000034 ], [ 45.446332257000051, 34.715694177000046 ], [ 45.421712887000069, 34.698828433000074 ], [ 45.39811932300006, 34.696298275000061 ], [ 45.369396724000069, 34.696298275000061 ], [ 45.350932196000031, 34.692924611000024 ], [ 45.337596704000077, 34.681115702000056 ], [ 45.326312826000049, 34.670148779000044 ], [ 45.306822491000048, 34.652429912000059 ], [ 45.284254734000058, 34.633863227000063 ], [ 45.266816014000028, 34.637239297000065 ], [ 45.258609557000057, 34.649054461000048 ], [ 45.251428907000047, 34.66086794000006 ], [ 45.252454714000066, 34.679428578000056 ], [ 45.251428907000047, 34.698828433000074 ], [ 45.249377293000066, 34.714850971000033 ], [ 45.243222450000076, 34.723282640000036 ], [ 45.240145029000075, 34.735928530000024 ], [ 45.236041800000066, 34.755315136000036 ], [ 45.224757922000038, 34.768798788000026 ], [ 45.213474044000066, 34.775539787000071 ], [ 45.205267587000037, 34.78480776300006 ], [ 45.207319201000075, 34.801655959000072 ], [ 45.200138552000055, 34.812605441000073 ], [ 45.195009516000027, 34.828605913000047 ], [ 45.195009516000027, 34.842077583000048 ], [ 45.187828866000075, 34.853863487000069 ], [ 45.168338531000074, 34.864806028000032 ], [ 45.151925618000064, 34.863964346000046 ], [ 45.140641739000046, 34.853021693000073 ], [ 45.117048176000026, 34.847970746000044 ], [ 45.106790105000073, 34.842077583000048 ], [ 45.091402998000035, 34.83618399900007 ], [ 45.081144927000025, 34.847128892000057 ], [ 45.077041699000063, 34.860597531000053 ], [ 45.067809435000072, 34.872380781000061 ], [ 45.060628785000063, 34.884162343000071 ], [ 45.046267486000033, 34.895100853000031 ], [ 45.030880379000052, 34.899307584000042 ], [ 45.012415851000071, 34.886686744000031 ], [ 44.997028744000033, 34.874063965000062 ], [ 44.982667445000061, 34.865647702000047 ], [ 44.95702226700007, 34.861439248000067 ], [ 44.941635161000079, 34.863122655000041 ], [ 44.928299668000079, 34.865647702000047 ], [ 44.912720223000065, 34.872801580000043 ], [ 44.901500458000044, 34.867541436000067 ], [ 44.869443986000078, 34.867541436000067 ], [ 44.814947983000081, 34.855704882000055 ], [ 44.797316923000039, 34.801761250000027 ], [ 44.776480217000028, 34.782016948000035 ], [ 44.757246333000069, 34.764901396000027 ], [ 44.742820921000032, 34.754366984000058 ], [ 44.729998332000036, 34.738562847000026 ], [ 44.725189861000047, 34.70299248300006 ], [ 44.723587038000062, 34.643674550000071 ], [ 44.699544683000056, 34.63312469300007 ], [ 44.68672209500005, 34.623892468000065 ], [ 44.683516447000045, 34.609382609000079 ], [ 44.680310800000029, 34.589592351000078 ], [ 44.675502329000039, 34.571117190000052 ], [ 44.669091035000065, 34.555278069000053 ], [ 44.657871270000044, 34.540756226000042 ], [ 44.635431739000069, 34.543396749000067 ], [ 44.611389385000052, 34.560558111000034 ], [ 44.595361149000041, 34.577715933000036 ], [ 44.576127266000071, 34.596189628000047 ], [ 44.55368773500004, 34.609382609000079 ], [ 44.540865147000034, 34.610701792000043 ], [ 44.528042558000038, 34.609382609000079 ], [ 44.513617145000069, 34.606744181000067 ], [ 44.507205851000037, 34.59882839200003 ], [ 44.505603027000063, 34.579035619000024 ], [ 44.507205851000037, 34.560558111000034 ], [ 44.510411498000053, 34.548677545000032 ], [ 44.516822793000074, 34.542076498000029 ], [ 44.520028440000033, 34.531513733000054 ], [ 44.516822793000074, 34.519629021000071 ], [ 44.507205851000037, 34.510384183000042 ], [ 44.489574791000052, 34.499817398000062 ], [ 44.49409603600003, 34.473104936000027 ], [ 44.495409069000061, 34.464444856000057 ], [ 44.499348169000029, 34.455783876000055 ], [ 44.501974235000034, 34.44874616900006 ], [ 44.503287268000065, 34.432503043000054 ], [ 44.492783003000056, 34.420047841000041 ], [ 44.488843904000078, 34.41138225800006 ], [ 44.479652672000043, 34.402715778000072 ], [ 44.473087507000059, 34.392964914000061 ], [ 44.471774473000039, 34.377794646000041 ], [ 44.479652672000043, 34.365873222000062 ], [ 44.491469970000026, 34.358827946000076 ], [ 44.491177615000026, 34.319977269000049 ], [ 44.491177615000026, 34.301442375000079 ], [ 44.479957850000062, 34.28820066000003 ], [ 44.467135261000067, 34.282903390000058 ], [ 44.451107025000056, 34.274956859000042 ], [ 44.43828443600006, 34.264360315000033 ], [ 44.428667494000081, 34.248462996000058 ], [ 44.420653376000075, 34.229912327000079 ], [ 44.404625140000064, 34.223286098000074 ], [ 44.390199728000027, 34.221960789000036 ], [ 44.370965845000057, 34.221960789000036 ], [ 44.362951727000052, 34.211357571000065 ], [ 44.350129138000057, 34.198101672000064 ], [ 44.33089525400004, 34.162300335000054 ], [ 44.324483960000066, 34.145057236000071 ], [ 44.319675489000076, 34.133117645000027 ], [ 44.306852900000081, 34.119849453000029 ], [ 44.300441606000049, 34.101270487000079 ], [ 44.300441606000049, 34.084014937000063 ], [ 44.300441606000049, 34.073394389000043 ], [ 44.300441606000049, 34.062772509000069 ], [ 44.314867018000029, 34.056133157000033 ], [ 44.340512196000077, 34.053477271000077 ], [ 44.359746079000047, 34.052149297000028 ], [ 44.382185610000079, 34.046837192000055 ], [ 44.395008199000074, 34.037540207000063 ], [ 44.406227964000038, 34.024257033000026 ], [ 44.419050553000034, 34.016286130000026 ], [ 44.427064671000039, 34.002999629000044 ], [ 44.439887260000035, 33.997684446000051 ], [ 44.455915496000046, 33.98971104900005 ], [ 44.45751831900003, 33.976420391000033 ], [ 44.460723966000046, 33.94850324500004 ], [ 44.444695730000035, 33.939195494000046 ], [ 44.439887260000035, 33.932546477000074 ], [ 44.431873142000029, 33.905945219000046 ], [ 44.420653376000075, 33.888649948000079 ], [ 44.40302231700008, 33.87401274900003 ], [ 44.386994081000068, 33.863365936000037 ], [ 44.385391257000038, 33.848724401000027 ], [ 44.385391257000038, 33.834080355000026 ], [ 44.383788433000063, 33.81410715800007 ], [ 44.385391257000038, 33.799457183000072 ], [ 44.406227964000038, 33.788801080000042 ], [ 44.414242082000044, 33.776811379000037 ], [ 44.41744772900006, 33.763487520000069 ], [ 44.414242082000044, 33.751494276000074 ], [ 44.401419493000049, 33.739499354000031 ], [ 44.398213846000033, 33.714171233000059 ], [ 44.391802551000069, 33.678165784000043 ], [ 44.386994081000068, 33.670162525000023 ], [ 44.364554550000037, 33.667494606000048 ], [ 44.346923490000052, 33.66616061600007 ], [ 44.33089525400004, 33.650151118000053 ], [ 44.33089525400004, 33.631469606000053 ], [ 44.327689607000025, 33.608779465000055 ], [ 44.32127831300005, 33.599434729000052 ], [ 44.306852900000081, 33.584748099000024 ], [ 44.310058548000029, 33.532657175000054 ], [ 44.314867018000029, 33.521967975000052 ], [ 44.32127831300005, 33.516622879000067 ], [ 44.327689607000025, 33.50860461700006 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.345320667000067, 33.495239195000067 ], [ 44.55368773500004, 33.492565863000038 ], [ 44.590552678000051, 33.457805036000025 ], [ 44.593758326000057, 33.437744371000065 ], [ 44.595361149000041, 33.409651647000032 ], [ 44.598566796000057, 33.385564935000048 ], [ 44.596963973000072, 33.329336652000052 ], [ 44.598566796000057, 33.318622385000026 ], [ 44.592155502000026, 33.306567261000055 ], [ 44.580935737000061, 33.295850195000071 ], [ 44.56490750100005, 33.289151361000052 ], [ 44.542467970000075, 33.283791923000024 ], [ 44.523234087000048, 33.279772128000047 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.483163497000078, 33.275752148000038 ], [ 44.492780439000057, 33.256989796000028 ], [ 44.492780439000057, 33.240904572000034 ], [ 44.495986086000073, 33.224816388000079 ], [ 44.507205851000037, 33.212748308000073 ], [ 44.528042558000038, 33.202019728000039 ], [ 44.545673617000034, 33.192631142000039 ], [ 44.556893383000045, 33.176534082000046 ], [ 44.566510324000035, 33.142989042000067 ], [ 44.568113148000066, 33.129567433000034 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Kirkuk", "shapeISO": "IQ-KI", "shapeID": "90741666B18027903150762", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.490068760000042, 35.157969887000036 ], [ 44.530947676000039, 35.173055456000043 ], [ 44.553487383000061, 35.177149645000043 ], [ 44.591053561000081, 35.183290542000066 ], [ 44.606080032000079, 35.18943097500005 ], [ 44.621106503000078, 35.201710449000075 ], [ 44.641141798000035, 35.222172114000045 ], [ 44.658672682000031, 35.236492210000051 ], [ 44.676203565000037, 35.252854939000031 ], [ 44.681212389000052, 35.273303707000025 ], [ 44.686221212000078, 35.29579139100008 ], [ 44.693734448000043, 35.326446347000058 ], [ 44.706256507000035, 35.338705076000053 ], [ 44.716274155000065, 35.357089683000027 ], [ 44.728796214000056, 35.377512117000038 ], [ 44.756344745000035, 35.40201221600006 ], [ 44.771371216000034, 35.414259474000062 ], [ 44.78890209900004, 35.426504871000077 ], [ 44.811441806000062, 35.436707947000059 ], [ 44.82646827800005, 35.455070225000043 ], [ 44.82646827800005, 35.471388733000026 ], [ 44.818955042000027, 35.493821274000027 ], [ 44.793910923000055, 35.524401013000045 ], [ 44.778884452000057, 35.546818752000036 ], [ 44.756344745000035, 35.57534135800006 ], [ 44.751335921000077, 35.591635432000032 ], [ 44.74883150900007, 35.620142083000076 ], [ 44.74883150900007, 35.652708673000063 ], [ 44.763857981000058, 35.66695238300008 ], [ 44.776380040000049, 35.681193552000025 ], [ 44.781388864000064, 35.699499892000063 ], [ 44.763857981000058, 35.713735252000049 ], [ 44.746327097000062, 35.732034122000073 ], [ 44.731300626000063, 35.748296255000071 ], [ 44.716274155000065, 35.762522896000064 ], [ 44.706256507000035, 35.782842257000027 ], [ 44.716274155000065, 35.807218636000073 ], [ 44.738813862000029, 35.821434736000072 ], [ 44.738813862000029, 35.841739035000046 ], [ 44.731300626000063, 35.862038138000059 ], [ 44.71126533100005, 35.876244418000056 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.696238860000051, 35.884361148000039 ], [ 44.666185917000064, 35.896534685000063 ], [ 44.638637387000074, 35.902620751000029 ], [ 44.621583343000054, 35.907651546000068 ], [ 44.600041394000073, 35.907651546000068 ], [ 44.576447831000053, 35.904328011000075 ], [ 44.566189760000043, 35.895187572000054 ], [ 44.557983303000071, 35.890201433000072 ], [ 44.543622003000053, 35.870253737000041 ], [ 44.517976826000051, 35.868591203000051 ], [ 44.506692947000033, 35.874409922000041 ], [ 44.487202612000033, 35.881059363000077 ], [ 44.468738084000051, 35.881059363000077 ], [ 44.44309290700005, 35.881059363000077 ], [ 44.41334450100004, 35.880228213000066 ], [ 44.391802551000069, 35.869422474000032 ], [ 44.372312216000068, 35.85196393700005 ], [ 44.348718653000049, 35.848638065000046 ], [ 44.298454105000076, 35.850301019000028 ], [ 44.262550856000075, 35.854458249000061 ], [ 44.244086328000037, 35.86194071500006 ], [ 44.105602369000053, 35.864434713000037 ], [ 44.095344298000043, 35.856121080000037 ], [ 44.075853962000053, 35.836996416000034 ], [ 44.060466856000062, 35.826184783000031 ], [ 44.035847485000033, 35.820362525000064 ], [ 44.018408765000061, 35.821194302000038 ], [ 44.008150693000061, 35.830343278000043 ], [ 44.000970044000042, 35.833669917000066 ], [ 43.985582937000061, 35.842817454000055 ], [ 43.97224744500005, 35.84946954600008 ], [ 43.953782917000069, 35.853626821000034 ], [ 43.94044742400007, 35.861109365000061 ], [ 43.915828054000031, 35.866097335000063 ], [ 43.89326029700004, 35.866097335000063 ], [ 43.838892521000048, 35.867759922000062 ], [ 43.829660257000057, 35.857783877000031 ], [ 43.816324764000058, 35.84032277600005 ], [ 43.804015079000067, 35.831174951000037 ], [ 43.793757008000057, 35.818698944000062 ], [ 43.779395709000028, 35.805389042000058 ], [ 43.773240866000037, 35.786252150000053 ], [ 43.765034409000066, 35.770439937000049 ], [ 43.755802145000075, 35.747964541000044 ], [ 43.748621495000066, 35.716321747000052 ], [ 43.738363424000056, 35.692997962000049 ], [ 43.738363424000056, 35.672167387000059 ], [ 43.735286003000056, 35.657999491000055 ], [ 43.726053739000065, 35.644662703000051 ], [ 43.720924703000037, 35.625487170000042 ], [ 43.713744054000074, 35.609643043000062 ], [ 43.711692440000036, 35.59880051600004 ], [ 43.704511790000026, 35.563760774000059 ], [ 43.695279526000036, 35.556250264000028 ], [ 43.685021455000026, 35.545400506000078 ], [ 43.683995648000064, 35.52787087400003 ], [ 43.682969841000045, 35.504492072000062 ], [ 43.669634348000045, 35.501151687000061 ], [ 43.648092399000063, 35.502821897000047 ], [ 43.636808521000034, 35.511172424000051 ], [ 43.629627871000025, 35.519522083000027 ], [ 43.614240764000044, 35.52870570500005 ], [ 43.599879465000072, 35.529540527000051 ], [ 43.575260094000043, 35.527036034000048 ], [ 43.552692338000043, 35.525366328000075 ], [ 43.547563302000071, 35.517017277000036 ], [ 43.546537495000052, 35.50198679600004 ], [ 43.546537495000052, 35.484447681000063 ], [ 43.544485881000071, 35.459385160000068 ], [ 43.53525361700008, 35.448522309000055 ], [ 43.527047160000052, 35.460220703000061 ], [ 43.516789089000042, 35.467740202000073 ], [ 43.510634247000041, 35.476929745000064 ], [ 43.507556825000052, 35.486953503000052 ], [ 43.49216971900006, 35.496140850000074 ], [ 43.473705191000079, 35.501151687000061 ], [ 43.466524541000069, 35.491964913000061 ], [ 43.460369698000079, 35.471081975000061 ], [ 43.44908582000005, 35.466069263000065 ], [ 43.43267290600005, 35.469411106000052 ], [ 43.424466450000068, 35.476094375000059 ], [ 43.415234186000077, 35.48945924700007 ], [ 43.408053536000068, 35.498646308000048 ], [ 43.390614815000049, 35.51200742900005 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.357981326000072, 35.510702730000048 ], [ 43.340350267000076, 35.502874090000034 ], [ 43.319513560000075, 35.497654573000034 ], [ 43.303485324000064, 35.492434717000037 ], [ 43.271428852000042, 35.485909420000041 ], [ 43.252194969000072, 35.481993987000067 ], [ 43.232961085000056, 35.472857236000038 ], [ 43.224946967000051, 35.465024908000032 ], [ 43.239372380000077, 35.402338833000044 ], [ 43.253797792000057, 35.382739429000026 ], [ 43.266620381000052, 35.360521013000039 ], [ 43.274634499000058, 35.34221890200007 ], [ 43.282648617000063, 35.319989336000049 ], [ 43.289059911000038, 35.304294196000058 ], [ 43.301882500000033, 35.283362607000072 ], [ 43.324322031000065, 35.241483192000032 ], [ 43.337144620000061, 35.223154144000034 ], [ 43.345158738000066, 35.20482095400007 ], [ 43.353172856000072, 35.189103497000076 ], [ 43.374009563000072, 35.17862350300004 ], [ 43.399654740000074, 35.170762620000062 ], [ 43.420491447000074, 35.16683189400004 ], [ 43.441328154000075, 35.164211304000048 ], [ 43.513455216000068, 35.14586481200007 ], [ 43.556731453000054, 35.131446808000078 ], [ 43.579170984000029, 35.120959384000059 ], [ 43.616035927000041, 35.106536971000025 ], [ 43.632064163000052, 35.101291824000043 ], [ 43.665723459000048, 35.093423471000051 ], [ 43.689765813000065, 35.085554358000024 ], [ 43.72182228500003, 35.077684487000056 ], [ 43.750673110000037, 35.067190144000051 ], [ 43.774715464000053, 35.051446099000032 ], [ 43.805169112000044, 35.018636257000026 ], [ 43.853253820000077, 34.973993737000058 ], [ 43.869282056000031, 34.952977067000063 ], [ 43.883707469000058, 34.937211028000036 ], [ 43.906146999000043, 34.916184927000074 ], [ 43.928586530000075, 34.906984313000066 ], [ 43.963848649000056, 34.900411815000041 ], [ 44.000713592000068, 34.893838791000064 ], [ 44.024755946000028, 34.888579993000064 ], [ 44.05200394700006, 34.878061388000049 ], [ 44.106499950000057, 34.841235669000071 ], [ 44.140159246000053, 34.814921491000064 ], [ 44.154584658000033, 34.804393466000079 ], [ 44.175421365000034, 34.795180341000048 ], [ 44.19305242400003, 34.783333382000023 ], [ 44.212286308000046, 34.770168098000056 ], [ 44.229917367000041, 34.753050088000066 ], [ 44.252356898000073, 34.743831228000033 ], [ 44.271590781000043, 34.749099274000059 ], [ 44.318072666000035, 34.810973640000043 ], [ 44.380582786000048, 34.930640950000054 ], [ 44.414242082000044, 34.988439570000025 ], [ 44.451107025000056, 35.05013395800006 ], [ 44.460723966000046, 35.07374926600005 ], [ 44.467135261000067, 35.109159418000047 ], [ 44.473546555000041, 35.135379244000035 ], [ 44.487971968000068, 35.158969871000068 ], [ 44.490068760000042, 35.157969887000036 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Erbil", "shapeISO": "IQ-AR", "shapeID": "90741666B26956950402634", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.322277968000037, 35.738325517000078 ], [ 43.33554179600003, 35.725690990000032 ], [ 43.341953090000061, 35.711376425000026 ], [ 43.343555914000035, 35.691852421000078 ], [ 43.341953090000061, 35.672323637000034 ], [ 43.340350267000076, 35.657999491000055 ], [ 43.33554179600003, 35.646277823000048 ], [ 43.329130502000055, 35.63455443600003 ], [ 43.321116384000049, 35.620223516000067 ], [ 43.313102266000044, 35.603283662000024 ], [ 43.309896618000039, 35.591553970000064 ], [ 43.309896618000039, 35.578518963000079 ], [ 43.314705089000029, 35.568089429000054 ], [ 43.332336149000071, 35.556354581000051 ], [ 43.351570032000041, 35.548530395000057 ], [ 43.361186974000077, 35.540705445000071 ], [ 43.369201092000026, 35.52896658800006 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.390614815000049, 35.51200742900005 ], [ 43.408053536000068, 35.498646308000048 ], [ 43.415234186000077, 35.48945924700007 ], [ 43.424466450000068, 35.476094375000059 ], [ 43.43267290600005, 35.469411106000052 ], [ 43.44908582000005, 35.466069263000065 ], [ 43.460369698000079, 35.471081975000061 ], [ 43.466524541000069, 35.491964913000061 ], [ 43.473705191000079, 35.501151687000061 ], [ 43.49216971900006, 35.496140850000074 ], [ 43.507556825000052, 35.486953503000052 ], [ 43.510634247000041, 35.476929745000064 ], [ 43.516789089000042, 35.467740202000073 ], [ 43.527047160000052, 35.460220703000061 ], [ 43.53525361700008, 35.448522309000055 ], [ 43.544485881000071, 35.459385160000068 ], [ 43.546537495000052, 35.484447681000063 ], [ 43.546537495000052, 35.50198679600004 ], [ 43.547563302000071, 35.517017277000036 ], [ 43.552692338000043, 35.525366328000075 ], [ 43.575260094000043, 35.527036034000048 ], [ 43.599879465000072, 35.529540527000051 ], [ 43.614240764000044, 35.52870570500005 ], [ 43.629627871000025, 35.519522083000027 ], [ 43.636808521000034, 35.511172424000051 ], [ 43.648092399000063, 35.502821897000047 ], [ 43.669634348000045, 35.501151687000061 ], [ 43.682969841000045, 35.504492072000062 ], [ 43.683995648000064, 35.52787087400003 ], [ 43.685021455000026, 35.545400506000078 ], [ 43.695279526000036, 35.556250264000028 ], [ 43.704511790000026, 35.563760774000059 ], [ 43.711692440000036, 35.59880051600004 ], [ 43.713744054000074, 35.609643043000062 ], [ 43.720924703000037, 35.625487170000042 ], [ 43.726053739000065, 35.644662703000051 ], [ 43.735286003000056, 35.657999491000055 ], [ 43.738363424000056, 35.672167387000059 ], [ 43.738363424000056, 35.692997962000049 ], [ 43.748621495000066, 35.716321747000052 ], [ 43.755802145000075, 35.747964541000044 ], [ 43.765034409000066, 35.770439937000049 ], [ 43.773240866000037, 35.786252150000053 ], [ 43.779395709000028, 35.805389042000058 ], [ 43.793757008000057, 35.818698944000062 ], [ 43.804015079000067, 35.831174951000037 ], [ 43.816324764000058, 35.84032277600005 ], [ 43.829660257000057, 35.857783877000031 ], [ 43.838892521000048, 35.867759922000062 ], [ 43.89326029700004, 35.866097335000063 ], [ 43.915828054000031, 35.866097335000063 ], [ 43.94044742400007, 35.861109365000061 ], [ 43.953782917000069, 35.853626821000034 ], [ 43.97224744500005, 35.84946954600008 ], [ 43.985582937000061, 35.842817454000055 ], [ 44.000970044000042, 35.833669917000066 ], [ 44.008150693000061, 35.830343278000043 ], [ 44.018408765000061, 35.821194302000038 ], [ 44.035847485000033, 35.820362525000064 ], [ 44.060466856000062, 35.826184783000031 ], [ 44.075853962000053, 35.836996416000034 ], [ 44.095344298000043, 35.856121080000037 ], [ 44.105602369000053, 35.864434713000037 ], [ 44.244086328000037, 35.86194071500006 ], [ 44.262550856000075, 35.854458249000061 ], [ 44.298454105000076, 35.850301019000028 ], [ 44.348718653000049, 35.848638065000046 ], [ 44.372312216000068, 35.85196393700005 ], [ 44.391802551000069, 35.869422474000032 ], [ 44.41334450100004, 35.880228213000066 ], [ 44.44309290700005, 35.881059363000077 ], [ 44.468738084000051, 35.881059363000077 ], [ 44.487202612000033, 35.881059363000077 ], [ 44.506692947000033, 35.874409922000041 ], [ 44.517976826000051, 35.868591203000051 ], [ 44.543622003000053, 35.870253737000041 ], [ 44.557983303000071, 35.890201433000072 ], [ 44.566189760000043, 35.895187572000054 ], [ 44.576447831000053, 35.904328011000075 ], [ 44.600041394000073, 35.907651546000068 ], [ 44.621583343000054, 35.907651546000068 ], [ 44.638637387000074, 35.902620751000029 ], [ 44.666185917000064, 35.896534685000063 ], [ 44.696238860000051, 35.884361148000039 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.726792685000078, 35.90116013800008 ], [ 44.749232215000063, 35.903756765000026 ], [ 44.776480217000028, 35.902458462000027 ], [ 44.790905629000065, 35.886877166000033 ], [ 44.80853668900005, 35.885578586000065 ], [ 44.819756454000071, 35.89336974500003 ], [ 44.832579043000067, 35.898563425000077 ], [ 44.855018573000052, 35.882981363000056 ], [ 44.864635515000032, 35.895966628000053 ], [ 44.874252456000079, 35.908949763000066 ], [ 44.887075045000074, 35.914142421000065 ], [ 44.909514576000049, 35.899861792000024 ], [ 44.911117399000034, 35.910247960000049 ], [ 44.911117399000034, 35.920632764000061 ], [ 44.903103281000028, 35.932314039000062 ], [ 44.880663751000043, 35.94139828200008 ], [ 44.863032691000058, 35.949183945000073 ], [ 44.845401632000062, 35.964752970000063 ], [ 44.797316923000039, 35.986803835000046 ], [ 44.779685864000044, 36.001068758000031 ], [ 44.760451980000028, 36.012738140000067 ], [ 44.746026568000048, 36.024405795000064 ], [ 44.736409626000068, 36.041256024000063 ], [ 44.725189861000047, 36.054215286000044 ], [ 44.712367272000051, 36.064581159000056 ], [ 44.693133389000025, 36.082718151000051 ], [ 44.659474093000028, 36.112505557000077 ], [ 44.635431739000069, 36.122863746000064 ], [ 44.622609150000073, 36.137104026000031 ], [ 44.598566796000057, 36.157812547000049 ], [ 44.593758326000057, 36.169458687000031 ], [ 44.593758326000057, 36.183690508000041 ], [ 44.595361149000041, 36.204386725000063 ], [ 44.603375267000047, 36.239299183000071 ], [ 44.622609150000073, 36.241884671000037 ], [ 44.70114750700003, 36.244470074000048 ], [ 44.734806803000026, 36.245762743000057 ], [ 44.738012450000042, 36.258688259000053 ], [ 44.733203979000052, 36.279364637000072 ], [ 44.709161625000036, 36.28970077300005 ], [ 44.68191362400006, 36.293576471000051 ], [ 44.664282564000075, 36.300035540000067 ], [ 44.659474093000028, 36.320700966000061 ], [ 44.65145997500008, 36.33748759100007 ], [ 44.630623268000079, 36.33877872000005 ], [ 44.612992209000026, 36.327157788000079 ], [ 44.595361149000041, 36.318118087000073 ], [ 44.571318795000025, 36.325866467000026 ], [ 44.572921619000056, 36.454892656000027 ], [ 44.611612498000056, 36.455637289000038 ], [ 44.616208114000074, 36.458805510000047 ], [ 44.628025412000056, 36.464613578000069 ], [ 44.64115574300007, 36.474116751000054 ], [ 44.644438326000056, 36.485730158000024 ], [ 44.668072921000032, 36.50736868000007 ], [ 44.67398157000008, 36.518977102000065 ], [ 44.691051001000062, 36.523725500000069 ], [ 44.712716047000072, 36.526363373000038 ], [ 44.729785477000064, 36.525308235000068 ], [ 44.744228841000051, 36.515811342000063 ], [ 44.75998523800007, 36.496286290000057 ], [ 44.784276351000074, 36.484146614000053 ], [ 44.815132628000072, 36.484146614000053 ], [ 44.84073677400005, 36.497341824000046 ], [ 44.853867105000063, 36.505257871000026 ], [ 44.884066866000069, 36.520032327000024 ], [ 44.901792813000043, 36.526363373000038 ], [ 44.925427408000076, 36.52847360700008 ], [ 44.964161885000067, 36.527418497000042 ], [ 44.997644229000059, 36.530056244000036 ], [ 45.002239845000076, 36.533748939000077 ], [ 45.003450298000075, 36.534721539000031 ], [ 45.007491977000029, 36.537968945000046 ], [ 45.010118043000034, 36.545880837000027 ], [ 45.01865275800003, 36.551154981000025 ], [ 45.029157023000039, 36.556428766000067 ], [ 45.038348255000074, 36.560120201000075 ], [ 45.042287354000052, 36.569084381000039 ], [ 45.040974321000078, 36.580156343000056 ], [ 45.038348255000074, 36.587009619000071 ], [ 45.033752639000056, 36.596497766000027 ], [ 45.048196003000044, 36.608619812000029 ], [ 45.056074202000048, 36.613362703000064 ], [ 45.065921950000075, 36.619686104000039 ], [ 45.071174082000027, 36.627062749000061 ], [ 45.071174082000027, 36.632858189000046 ], [ 45.070517566000035, 36.642867468000077 ], [ 45.071174082000027, 36.651822037000045 ], [ 45.071830599000066, 36.666568468000037 ], [ 45.064608917000044, 36.689209273000074 ], [ 45.058043751000071, 36.696579260000078 ], [ 45.052135102000079, 36.702369468000029 ], [ 45.042943871000034, 36.719737476000034 ], [ 45.036378705000061, 36.729735457000061 ], [ 45.027843990000065, 36.739732137000033 ], [ 45.004209394000043, 36.746045159000062 ], [ 44.998300745000051, 36.747097278000069 ], [ 44.981231315000059, 36.752357661000076 ], [ 44.972696600000063, 36.759721591000073 ], [ 44.962192335000054, 36.766558892000035 ], [ 44.949062004000041, 36.772343825000064 ], [ 44.934618640000053, 36.773921459000064 ], [ 44.922801342000071, 36.77339558500006 ], [ 44.904418879000048, 36.773921459000064 ], [ 44.886692932000074, 36.772869707000041 ], [ 44.855836654000029, 36.770766160000051 ], [ 44.845332390000067, 36.779180002000032 ], [ 44.843362840000054, 36.792324781000048 ], [ 44.858462720000034, 36.819133138000041 ], [ 44.871593051000048, 36.828592670000035 ], [ 44.893258098000047, 36.844881345000033 ], [ 44.903762362000066, 36.85381237100006 ], [ 44.910984044000031, 36.866419103000055 ], [ 44.912297077000062, 36.881649462000041 ], [ 44.908357978000026, 36.897401810000076 ], [ 44.89982326300003, 36.907376615000032 ], [ 44.895884164000051, 36.917350117000069 ], [ 44.896540680000044, 36.929421558000058 ], [ 44.89522764700007, 36.969820733000063 ], [ 44.896540680000044, 36.983981603000075 ], [ 44.887349449000055, 37.003382960000067 ], [ 44.878158217000077, 37.00600438500004 ], [ 44.855180138000037, 37.01439233800005 ], [ 44.842706323000073, 37.020158519000063 ], [ 44.804628364000052, 37.023827680000068 ], [ 44.792154549000031, 37.03955064400003 ], [ 44.778367702000025, 37.063128987000027 ], [ 44.767863437000074, 37.075177311000061 ], [ 44.751450523000074, 37.086176283000043 ], [ 44.759328722000078, 37.094031715000028 ], [ 44.771802536000052, 37.101886332000049 ], [ 44.781650284000079, 37.112357889000066 ], [ 44.780337251000049, 37.12858594000005 ], [ 44.770489503000078, 37.135390216000076 ], [ 44.745541874000025, 37.13696034700007 ], [ 44.720594245000029, 37.135390216000076 ], [ 44.706150881000042, 37.134866832000057 ], [ 44.681859769000027, 37.140100510000025 ], [ 44.666759888000058, 37.142717214000072 ], [ 44.658225173000062, 37.147427052000069 ], [ 44.644438326000056, 37.148473643000045 ], [ 44.618177664000029, 37.147950349000041 ], [ 44.592573518000052, 37.142193880000036 ], [ 44.581412737000051, 37.133296658000063 ], [ 44.568282406000037, 37.121257573000037 ], [ 44.55515207500008, 37.111310798000034 ], [ 44.545304327000053, 37.098220946000026 ], [ 44.530860963000066, 37.093508045000078 ], [ 44.505256817000031, 37.083033883000041 ], [ 44.490813453000044, 37.066796071000056 ], [ 44.475713573000064, 37.056318218000058 ], [ 44.455361560000028, 37.044790909000028 ], [ 44.42516179900008, 37.036930376000043 ], [ 44.412031468000066, 37.032737759000042 ], [ 44.364105760000029, 37.032213666000075 ], [ 44.353601495000078, 37.026972533000048 ], [ 44.350318912000034, 37.00914997600006 ], [ 44.337188581000078, 36.982932740000024 ], [ 44.322745217000033, 36.976114778000067 ], [ 44.310927919000051, 36.960903278000046 ], [ 44.297797588000037, 36.955657228000064 ], [ 44.279415125000071, 36.955657228000064 ], [ 44.257750079000061, 36.959854097000061 ], [ 44.255124012000067, 36.964050734000068 ], [ 44.248558847000027, 36.986603697000078 ], [ 44.239367615000049, 36.99394508000006 ], [ 44.236741549000044, 37.001810061000072 ], [ 44.234115483000039, 37.015964977000067 ], [ 44.22886335100003, 37.025400123000054 ], [ 44.217046053000047, 37.031689569000036 ], [ 44.201289656000029, 37.058413905000066 ], [ 44.194724490000056, 37.074653511000065 ], [ 44.196694040000068, 37.094555382000067 ], [ 44.210480887000074, 37.106075129000033 ], [ 44.221641669000064, 37.114975552000033 ], [ 44.227550317000066, 37.121781051000028 ], [ 44.260376145000066, 37.12230452600005 ], [ 44.270880410000075, 37.128062508000028 ], [ 44.272193443000049, 37.14114720300006 ], [ 44.27810209200004, 37.171494978000055 ], [ 44.270880410000075, 37.193463347000034 ], [ 44.264315244000045, 37.207582496000043 ], [ 44.251184913000031, 37.219607837000069 ], [ 44.24068064800008, 37.229540367000027 ], [ 44.226893801000074, 37.237903589000041 ], [ 44.209167854000043, 37.243130132000033 ], [ 44.185533258000078, 37.24992409500004 ], [ 44.170433378000041, 37.253582129000051 ], [ 44.162555179000037, 37.257239986000059 ], [ 44.147455299000057, 37.268212490000053 ], [ 44.131042385000057, 37.275526605000039 ], [ 44.115942504000031, 37.279705780000029 ], [ 44.090994875000035, 37.284407075000047 ], [ 44.058415242000081, 37.281338207000033 ], [ 44.066621699000052, 37.270726798000055 ], [ 44.075853963000043, 37.257664547000047 ], [ 44.087137841000072, 37.247866373000079 ], [ 44.091241069000034, 37.242966808000062 ], [ 44.092266876000053, 37.152267413000061 ], [ 44.086112033000063, 37.152267413000061 ], [ 44.076879770000062, 37.152267413000061 ], [ 44.057389434000072, 37.150632191000057 ], [ 44.047437990000049, 37.146432883000045 ], [ 44.035975711000049, 37.133869121000032 ], [ 44.031167240000059, 37.122367915000041 ], [ 44.019947475000038, 37.109586749000073 ], [ 43.999110768000037, 37.092968006000035 ], [ 43.975068414000077, 37.076345619000051 ], [ 43.954231707000076, 37.063556686000027 ], [ 43.939806295000039, 37.052044804000047 ], [ 43.91576394100008, 37.039251774000036 ], [ 43.893324410000048, 37.027736205000053 ], [ 43.867679233000047, 37.017498677000049 ], [ 43.853253820000077, 37.003419824000048 ], [ 43.82860239300004, 36.981477214000051 ], [ 43.832737678000058, 36.980376076000027 ], [ 43.855305435000048, 36.968083223000065 ], [ 43.889157069000078, 36.954968657000052 ], [ 43.91993128200005, 36.94677090700003 ], [ 43.948653881000041, 36.935292574000073 ], [ 43.974299059000032, 36.926272671000049 ], [ 43.996866815000033, 36.913150907000045 ], [ 44.020460379000042, 36.894284416000062 ], [ 44.025589414000081, 36.880336620000037 ], [ 44.044053942000062, 36.87131021700003 ], [ 44.053286206000053, 36.858999768000047 ], [ 44.058415242000081, 36.842582750000076 ], [ 44.075853962000053, 36.839298924000047 ], [ 44.104576561000044, 36.835193942000046 ], [ 44.122015282000064, 36.824519959000042 ], [ 44.132273353000073, 36.817129407000039 ], [ 44.156892724000045, 36.815486965000048 ], [ 44.192795973000045, 36.801524785000026 ], [ 44.207157272000074, 36.79577491200007 ], [ 44.234854064000046, 36.788381584000035 ], [ 44.259473435000075, 36.775236128000074 ], [ 44.267679891000057, 36.749760392000042 ], [ 44.271783120000066, 36.741540608000037 ], [ 44.283066998000038, 36.733319943000026 ], [ 44.296402490000048, 36.725098398000057 ], [ 44.302557333000038, 36.716053681000062 ], [ 44.298454105000076, 36.707007900000065 ], [ 44.288196034000066, 36.69960601400004 ], [ 44.276912155000048, 36.694671028000073 ], [ 44.267679891000057, 36.684800104000033 ], [ 44.257421820000047, 36.674105174000033 ], [ 44.250241171000027, 36.663408756000024 ], [ 44.235879871000066, 36.646949827000071 ], [ 44.229725029000065, 36.640365270000075 ], [ 44.212286308000046, 36.63542648300006 ], [ 44.194847587000027, 36.623901416000024 ], [ 44.181512094000027, 36.609904374000052 ], [ 44.170228216000055, 36.603316652000046 ], [ 44.151763688000074, 36.602493147000075 ], [ 44.141505617000064, 36.592610403000037 ], [ 44.126118511000072, 36.586844884000072 ], [ 44.115860440000063, 36.59837549100007 ], [ 44.106628176000072, 36.595904791000066 ], [ 44.092266876000053, 36.588492219000045 ], [ 44.066621699000052, 36.588492219000045 ], [ 44.046105556000043, 36.604140148000056 ], [ 44.029692643000033, 36.60002257900004 ], [ 44.014305536000052, 36.593434013000035 ], [ 43.980453902000079, 36.567074122000065 ], [ 43.961989374000041, 36.551418679000051 ], [ 43.95275711000005, 36.539056878000054 ], [ 43.94249903900004, 36.530814580000026 ], [ 43.927111932000059, 36.525044448000074 ], [ 43.918905475000031, 36.511853959000064 ], [ 43.90044094700005, 36.497011971000063 ], [ 43.87376996200004, 36.493713365000076 ], [ 43.864537698000049, 36.487940467000044 ], [ 43.866589313000077, 36.468969343000026 ], [ 43.859408663000067, 36.456594370000062 ], [ 43.846073171000057, 36.452468939000028 ], [ 43.828634450000038, 36.443392221000067 ], [ 43.823505414000067, 36.431838497000058 ], [ 43.815298957000039, 36.407900313000027 ], [ 43.811195729000076, 36.389735390000055 ], [ 43.806066693000048, 36.378173683000057 ], [ 43.789653780000037, 36.365784232000067 ], [ 43.773240866000037, 36.350088096000036 ], [ 43.756827952000037, 36.333562427000061 ], [ 43.740415039000027, 36.317033253000034 ], [ 43.721950511000045, 36.302980698000056 ], [ 43.709640825000065, 36.294713306000062 ], [ 43.683995648000064, 36.282310575000054 ], [ 43.657324663000054, 36.273213987000076 ], [ 43.625524643000062, 36.246745157000078 ], [ 43.619369800000072, 36.239299183000071 ], [ 43.588787926000066, 36.206973367000046 ], [ 43.579170984000029, 36.194039300000043 ], [ 43.56474557100006, 36.182396813000025 ], [ 43.542306041000074, 36.157812547000049 ], [ 43.540703217000043, 36.144870362000063 ], [ 43.529483452000079, 36.128042329000039 ], [ 43.518263687000058, 36.102146001000051 ], [ 43.511852393000026, 36.084013490000075 ], [ 43.505441098000063, 36.068468009000071 ], [ 43.492618509000067, 36.047735922000072 ], [ 43.479795920000072, 36.034775593000063 ], [ 43.463767684000061, 36.026998373000026 ], [ 43.442930978000049, 36.021813132000034 ], [ 43.418888623000043, 36.016627550000067 ], [ 43.402860387000032, 36.007551961000047 ], [ 43.401257564000048, 35.997178580000025 ], [ 43.407668858000079, 35.979021880000062 ], [ 43.415682976000028, 35.959563636000041 ], [ 43.417285800000059, 35.93620741400008 ], [ 43.417285800000059, 35.925824655000042 ], [ 43.406066035000038, 35.912844289000077 ], [ 43.391640622000068, 35.902458462000027 ], [ 43.378818033000073, 35.886877166000033 ], [ 43.367598268000052, 35.869993969000063 ], [ 43.353172856000072, 35.838815537000073 ], [ 43.351570032000041, 35.819322791000047 ], [ 43.349967208000066, 35.797225225000034 ], [ 43.33554179600003, 35.78162324200008 ], [ 43.327527678000081, 35.766018196000061 ], [ 43.322277968000037, 35.738325517000078 ] ] ] } },\r
{ "type": "Feature", "properties": { "shapeName": "Al-Sulaimaniyah", "shapeISO": "IQ-SU", "shapeID": "90741666B75227633199275", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.912720223000065, 34.872801580000043 ], [ 44.928299668000079, 34.865647702000047 ], [ 44.941635161000079, 34.863122655000041 ], [ 44.95702226700007, 34.861439248000067 ], [ 44.982667445000061, 34.865647702000047 ], [ 44.997028744000033, 34.874063965000062 ], [ 45.012415851000071, 34.886686744000031 ], [ 45.030880379000052, 34.899307584000042 ], [ 45.046267486000033, 34.895100853000031 ], [ 45.060628785000063, 34.884162343000071 ], [ 45.067809435000072, 34.872380781000061 ], [ 45.077041699000063, 34.860597531000053 ], [ 45.081144927000025, 34.847128892000057 ], [ 45.091402998000035, 34.83618399900007 ], [ 45.106790105000073, 34.842077583000048 ], [ 45.117048176000026, 34.847970746000044 ], [ 45.140641739000046, 34.853021693000073 ], [ 45.151925618000064, 34.863964346000046 ], [ 45.168338531000074, 34.864806028000032 ], [ 45.187828866000075, 34.853863487000069 ], [ 45.195009516000027, 34.842077583000048 ], [ 45.195009516000027, 34.828605913000047 ], [ 45.200138552000055, 34.812605441000073 ], [ 45.207319201000075, 34.801655959000072 ], [ 45.205267587000037, 34.78480776300006 ], [ 45.213474044000066, 34.775539787000071 ], [ 45.224757922000038, 34.768798788000026 ], [ 45.236041800000066, 34.755315136000036 ], [ 45.240145029000075, 34.735928530000024 ], [ 45.243222450000076, 34.723282640000036 ], [ 45.249377293000066, 34.714850971000033 ], [ 45.251428907000047, 34.698828433000074 ], [ 45.252454714000066, 34.679428578000056 ], [ 45.251428907000047, 34.66086794000006 ], [ 45.258609557000057, 34.649054461000048 ], [ 45.266816014000028, 34.637239297000065 ], [ 45.284254734000058, 34.633863227000063 ], [ 45.306822491000048, 34.652429912000059 ], [ 45.326312826000049, 34.670148779000044 ], [ 45.337596704000077, 34.681115702000056 ], [ 45.350932196000031, 34.692924611000024 ], [ 45.369396724000069, 34.696298275000061 ], [ 45.39811932300006, 34.696298275000061 ], [ 45.421712887000069, 34.698828433000074 ], [ 45.446332257000051, 34.715694177000046 ], [ 45.469925821000061, 34.734242523000034 ], [ 45.469925821000061, 34.755315136000036 ], [ 45.476080663000062, 34.788177677000078 ], [ 45.479158085000051, 34.80502518600008 ], [ 45.48736454200008, 34.822711364000043 ], [ 45.501725841000052, 34.837025965000066 ], [ 45.514035526000043, 34.847128892000057 ], [ 45.526345212000081, 34.857230578000042 ], [ 45.535577476000071, 34.865647702000047 ], [ 45.540706511000053, 34.877430229000026 ], [ 45.544809740000062, 34.910244077000073 ], [ 45.563274268000043, 34.925384509000025 ], [ 45.580712988000073, 34.943044816000054 ], [ 45.601229130000036, 34.950612354000043 ], [ 45.612513009000054, 34.956497735000028 ], [ 45.615590430000054, 34.97835402000004 ], [ 45.630977537000035, 34.990960763000032 ], [ 45.628925922000064, 35.001885036000033 ], [ 45.618667851000055, 35.009447140000077 ], [ 45.607383973000026, 35.025409287000059 ], [ 45.608409780000045, 35.043048034000037 ], [ 45.630977537000035, 35.060682973000041 ], [ 45.637132379000036, 35.076635113000066 ], [ 45.652519486000074, 35.088387326000031 ], [ 45.667906592000065, 35.095941426000024 ], [ 45.684319506000065, 35.104334050000034 ], [ 45.697654999000065, 35.128667773000075 ], [ 45.702784034000047, 35.143767806000028 ], [ 45.706887262000066, 35.158026378000045 ], [ 45.723300176000066, 35.159703692000051 ], [ 45.733558247000076, 35.16725118100004 ], [ 45.747919547000038, 35.174797968000064 ], [ 45.764332460000048, 35.172282450000068 ], [ 45.771513110000058, 35.155510341000024 ], [ 45.771513110000058, 35.119438595000076 ], [ 45.771513110000058, 35.038008780000041 ], [ 45.78279698800003, 35.016168424000057 ], [ 45.791003445000058, 35.003565564000041 ], [ 45.795106674000067, 34.980875524000055 ], [ 45.794531307000057, 34.942209687000059 ], [ 45.820751851000068, 34.940522147000024 ], [ 45.836138958000049, 34.938840326000047 ], [ 45.847422836000078, 34.933794653000064 ], [ 45.856655100000069, 34.929589689000068 ], [ 45.862809943000059, 34.932112693000079 ], [ 45.869990592000079, 34.944726551000031 ], [ 45.87511962800005, 34.957338469000035 ], [ 45.87819704900005, 34.975832439000044 ], [ 45.887429313000041, 34.989279976000034 ], [ 45.895635770000069, 34.997683565000045 ], [ 45.90179061300006, 35.010287331000029 ], [ 45.90179061300006, 35.022049094000067 ], [ 45.88845512000006, 35.041368317000035 ], [ 45.88127447100004, 35.05060633100004 ], [ 45.882300278000059, 35.060682973000041 ], [ 45.88537769900006, 35.072437484000034 ], [ 45.899738999000078, 35.082511431000057 ], [ 45.919229334000079, 35.08335087100005 ], [ 45.932564826000032, 35.085869137000032 ], [ 45.936668054000052, 35.103494827000077 ], [ 45.938719669000079, 35.122794781000039 ], [ 45.953080968000052, 35.120277655000052 ], [ 45.975648724000052, 35.106012471000042 ], [ 45.987958410000033, 35.097620020000079 ], [ 46.007448745000033, 35.095941426000024 ], [ 46.021810044000063, 35.094262798000045 ], [ 46.035145537000062, 35.088387326000031 ], [ 46.047455222000053, 35.075795605000053 ], [ 46.068997171000035, 35.078314104000071 ], [ 46.077203628000063, 35.094262798000045 ], [ 46.077203628000063, 35.110208373000034 ], [ 46.084384278000073, 35.120277655000052 ], [ 46.106952034000074, 35.115243169000053 ], [ 46.135674633000065, 35.114404058000048 ], [ 46.159716987000081, 35.127514183000073 ], [ 46.156511340000066, 35.132757642000058 ], [ 46.14849722200006, 35.144554190000065 ], [ 46.16292263400004, 35.172072820000039 ], [ 46.164525458000071, 35.183863669000061 ], [ 46.175745223000035, 35.191723284000034 ], [ 46.191773459000046, 35.196962606000056 ], [ 46.186964989000046, 35.206130605000055 ], [ 46.177348047000066, 35.217916512000045 ], [ 46.159716987000081, 35.225772833000065 ], [ 46.137277457000039, 35.221844768000039 ], [ 46.135674633000065, 35.225772833000065 ], [ 46.124454868000043, 35.23362839300006 ], [ 46.124454868000043, 35.24410129000006 ], [ 46.132468986000049, 35.261116863000041 ], [ 46.145291575000044, 35.274203334000049 ], [ 46.15330569300005, 35.289904310000054 ], [ 46.14368875100007, 35.300369935000049 ], [ 46.129263339000033, 35.319989336000049 ], [ 46.114837926000064, 35.339603976000035 ], [ 46.098809690000053, 35.346141132000071 ], [ 46.082781454000042, 35.353985021000028 ], [ 46.074767336000036, 35.368363506000037 ], [ 46.057136277000041, 35.384046204000072 ], [ 46.04110804000004, 35.395806228000026 ], [ 46.023476981000044, 35.414096189000077 ], [ 46.010654392000049, 35.427157907000037 ], [ 45.996228980000069, 35.463719446000027 ], [ 45.988214862000063, 35.476773114000025 ], [ 45.978597920000027, 35.495044688000064 ], [ 45.986612038000032, 35.510702730000048 ], [ 46.002640274000044, 35.515921399000035 ], [ 46.009051568000075, 35.526357720000078 ], [ 45.997831803000054, 35.542009656000062 ], [ 45.989817685000048, 35.548530395000057 ], [ 45.972186625000063, 35.561570282000048 ], [ 45.972571303000052, 35.576276728000039 ], [ 45.988984217000052, 35.577111055000046 ], [ 45.993087445000072, 35.574608047000027 ], [ 46.011551973000053, 35.568767390000062 ], [ 46.015655202000062, 35.574608047000027 ], [ 46.011551973000053, 35.592127462000064 ], [ 46.011551973000053, 35.601302768000039 ], [ 46.014629395000043, 35.61881634100007 ], [ 46.011551973000053, 35.629656156000067 ], [ 45.988984217000052, 35.628822376000073 ], [ 45.986932603000071, 35.637159782000026 ], [ 45.998216481000043, 35.646329923000053 ], [ 46.010526166000034, 35.652998456000034 ], [ 46.014629395000043, 35.663000212000043 ], [ 46.017706816000043, 35.674667343000067 ], [ 46.028990694000072, 35.683833179000032 ], [ 46.046429415000034, 35.691331716000036 ], [ 46.064893943000072, 35.695497265000029 ], [ 46.093616542000063, 35.692997962000049 ], [ 46.114132684000026, 35.693831071000034 ], [ 46.127468176000036, 35.699662597000042 ], [ 46.145932704000074, 35.699662597000042 ], [ 46.158242390000055, 35.694664173000035 ], [ 46.170552075000046, 35.701328668000031 ], [ 46.179784339000037, 35.711324368000078 ], [ 46.203377902000057, 35.720485991000032 ], [ 46.217739202000075, 35.720485991000032 ], [ 46.241332765000038, 35.721318814000028 ], [ 46.251590836000048, 35.726315567000029 ], [ 46.274158593000038, 35.734642792000045 ], [ 46.282365049000077, 35.740471331000037 ], [ 46.287494085000048, 35.750462120000066 ], [ 46.308010227000068, 35.760451656000043 ], [ 46.315190877000077, 35.765445953000039 ], [ 46.326474755000049, 35.774601350000069 ], [ 46.340836055000068, 35.787084285000049 ], [ 46.340836055000068, 35.799565259000076 ], [ 46.33570701900004, 35.815371678000076 ], [ 46.328526369000031, 35.823689582000043 ], [ 46.314165070000058, 35.828679906000048 ], [ 46.270055364000029, 35.816203507000068 ], [ 46.260823100000039, 35.807052902000066 ], [ 46.229023080000047, 35.808716727000046 ], [ 46.210558552000066, 35.806220976000077 ], [ 46.193119831000047, 35.803725148000069 ], [ 46.172603689000027, 35.806220976000077 ], [ 46.151061740000046, 35.817867141000079 ], [ 46.143881090000036, 35.827848207000045 ], [ 46.141829476000055, 35.84032277600005 ], [ 46.129519791000064, 35.842817454000055 ], [ 46.107977841000036, 35.848638065000046 ], [ 46.095668156000045, 35.857783877000031 ], [ 46.063868136000053, 35.860278006000044 ], [ 46.039248765000025, 35.846975077000025 ], [ 46.014629395000043, 35.838659614000051 ], [ 45.995139060000042, 35.838659614000051 ], [ 45.969493882000052, 35.845312054000033 ], [ 45.953080968000052, 35.842817454000055 ], [ 45.93769386200006, 35.830343278000043 ], [ 45.928461598000069, 35.829511597000078 ], [ 45.903842227000041, 35.838659614000051 ], [ 45.86178413600004, 35.818698944000062 ], [ 45.85562929300005, 35.815371678000076 ], [ 45.83511315100003, 35.816203507000068 ], [ 45.822803466000039, 35.814539839000076 ], [ 45.807416359000058, 35.821194302000038 ], [ 45.785874410000076, 35.816203507000068 ], [ 45.777667953000048, 35.802893187000052 ], [ 45.762280846000067, 35.801229240000055 ], [ 45.743816318000029, 35.818698944000062 ], [ 45.737661476000028, 35.828679906000048 ], [ 45.728429212000037, 35.852795383000057 ], [ 45.719196948000047, 35.86277205600004 ], [ 45.712016298000037, 35.869422474000032 ], [ 45.705861455000047, 35.880228213000066 ], [ 45.698680806000027, 35.88937037900007 ], [ 45.684319506000065, 35.898511490000033 ], [ 45.676113049000037, 35.905989796000028 ], [ 45.670984014000055, 35.918452068000079 ], [ 45.645338836000064, 35.945862156000032 ], [ 45.637132379000036, 35.958318145000078 ], [ 45.627900115000045, 35.967451289000053 ], [ 45.607383973000026, 35.971602369000038 ], [ 45.595074288000035, 35.976583376000065 ], [ 45.589945252000064, 35.984884357000055 ], [ 45.580712988000073, 35.987374481000074 ], [ 45.571480724000025, 35.990694524000048 ], [ 45.560196846000053, 35.999823922000076 ], [ 45.542758125000034, 36.003973299000052 ], [ 45.517112948000033, 36.005632989000048 ], [ 45.493519384000081, 36.003973299000052 ], [ 45.476080663000062, 35.99733419100005 ], [ 45.462745171000051, 35.99318446500007 ], [ 45.43812580000008, 35.99235449300005 ], [ 45.415558044000079, 35.980733976000067 ], [ 45.405299973000069, 35.969941963000053 ], [ 45.38786125200005, 35.974923075000049 ], [ 45.36426768900003, 35.979903873000069 ], [ 45.357087039000078, 35.989034520000075 ], [ 45.354009618000077, 35.998164110000062 ], [ 45.348880582000049, 36.008122458000059 ], [ 45.34477735400003, 36.013101160000076 ], [ 45.350932196000031, 36.028035380000063 ], [ 45.35503542500004, 36.03964892700003 ], [ 45.359138653000059, 36.050431402000072 ], [ 45.36837091700005, 36.061212400000045 ], [ 45.373499953000078, 36.071991921000063 ], [ 45.373499953000078, 36.082769965000068 ], [ 45.37144833900004, 36.094375437000053 ], [ 45.36426768900003, 36.104321621000054 ], [ 45.35503542500004, 36.111780432000046 ], [ 45.345803161000049, 36.127524486000027 ], [ 45.336570897000058, 36.136638021000067 ], [ 45.335545090000039, 36.149892183000077 ], [ 45.332467668000049, 36.157346665000034 ], [ 45.32836444000003, 36.173909644000048 ], [ 45.33144186100003, 36.182189820000076 ], [ 45.33144186100003, 36.194608444000039 ], [ 45.32836444000003, 36.207025099000077 ], [ 45.326312826000049, 36.21695700500004 ], [ 45.32220959700004, 36.22606014400003 ], [ 45.315028948000077, 36.236817034000069 ], [ 45.296564420000038, 36.24343592300005 ], [ 45.287332156000048, 36.245917862000056 ], [ 45.273996663000048, 36.248399722000045 ], [ 45.270919242000048, 36.253363205000028 ], [ 45.275022470000067, 36.261634978000075 ], [ 45.295538613000076, 36.269078824000076 ], [ 45.299641841000039, 36.272386972000049 ], [ 45.300667648000058, 36.279829793000033 ], [ 45.295538613000076, 36.288925610000035 ], [ 45.289383770000029, 36.294713306000062 ], [ 45.276048278000076, 36.302980698000056 ], [ 45.270919242000048, 36.314553574000058 ], [ 45.271945049000067, 36.323645343000067 ], [ 45.276048278000076, 36.334388794000063 ], [ 45.276048278000076, 36.35421896500003 ], [ 45.277074085000038, 36.36248004600003 ], [ 45.279125699000076, 36.390561161000051 ], [ 45.264764399000057, 36.397992700000032 ], [ 45.253480521000029, 36.405423528000028 ], [ 45.249377293000066, 36.414504687000033 ], [ 45.239119222000056, 36.421108500000059 ], [ 45.225783729000057, 36.422759365000047 ], [ 45.206293394000056, 36.421108500000059 ], [ 45.176544988000046, 36.415330195000024 ], [ 45.161157882000055, 36.409551460000046 ], [ 45.145770775000074, 36.406249132000028 ], [ 45.130383668000036, 36.406249132000028 ], [ 45.121151404000045, 36.408725891000074 ], [ 45.111919140000055, 36.414504687000033 ], [ 45.101661069000045, 36.419457599000054 ], [ 45.090377191000073, 36.426886375000038 ], [ 45.083196541000063, 36.436790304000056 ], [ 45.080119120000063, 36.448343290000025 ], [ 45.077041699000063, 36.458244480000076 ], [ 45.068835242000034, 36.467319461000045 ], [ 45.064732014000072, 36.47556852200006 ], [ 45.060628785000063, 36.488765193000063 ], [ 45.051396521000072, 36.500310437000053 ], [ 45.043190064000044, 36.507731470000067 ], [ 45.031906186000072, 36.512678430000051 ], [ 45.018570694000061, 36.516800656000044 ], [ 45.012415851000071, 36.525868779000064 ], [ 45.003450298000075, 36.534721539000031 ], [ 45.002239845000076, 36.533748939000077 ], [ 44.997644229000059, 36.530056244000036 ], [ 44.964161885000067, 36.527418497000042 ], [ 44.925427408000076, 36.52847360700008 ], [ 44.901792813000043, 36.526363373000038 ], [ 44.884066866000069, 36.520032327000024 ], [ 44.853867105000063, 36.505257871000026 ], [ 44.84073677400005, 36.497341824000046 ], [ 44.815132628000072, 36.484146614000053 ], [ 44.784276351000074, 36.484146614000053 ], [ 44.75998523800007, 36.496286290000057 ], [ 44.744228841000051, 36.515811342000063 ], [ 44.729785477000064, 36.525308235000068 ], [ 44.712716047000072, 36.526363373000038 ], [ 44.691051001000062, 36.523725500000069 ], [ 44.67398157000008, 36.518977102000065 ], [ 44.668072921000032, 36.50736868000007 ], [ 44.644438326000056, 36.485730158000024 ], [ 44.64115574300007, 36.474116751000054 ], [ 44.628025412000056, 36.464613578000069 ], [ 44.616208114000074, 36.458805510000047 ], [ 44.611612498000056, 36.455637289000038 ], [ 44.572921619000056, 36.454892656000027 ], [ 44.571318795000025, 36.325866467000026 ], [ 44.595361149000041, 36.318118087000073 ], [ 44.612992209000026, 36.327157788000079 ], [ 44.630623268000079, 36.33877872000005 ], [ 44.65145997500008, 36.33748759100007 ], [ 44.659474093000028, 36.320700966000061 ], [ 44.664282564000075, 36.300035540000067 ], [ 44.68191362400006, 36.293576471000051 ], [ 44.709161625000036, 36.28970077300005 ], [ 44.733203979000052, 36.279364637000072 ], [ 44.738012450000042, 36.258688259000053 ], [ 44.734806803000026, 36.245762743000057 ], [ 44.70114750700003, 36.244470074000048 ], [ 44.622609150000073, 36.241884671000037 ], [ 44.603375267000047, 36.239299183000071 ], [ 44.595361149000041, 36.204386725000063 ], [ 44.593758326000057, 36.183690508000041 ], [ 44.593758326000057, 36.169458687000031 ], [ 44.598566796000057, 36.157812547000049 ], [ 44.622609150000073, 36.137104026000031 ], [ 44.635431739000069, 36.122863746000064 ], [ 44.659474093000028, 36.112505557000077 ], [ 44.693133389000025, 36.082718151000051 ], [ 44.712367272000051, 36.064581159000056 ], [ 44.725189861000047, 36.054215286000044 ], [ 44.736409626000068, 36.041256024000063 ], [ 44.746026568000048, 36.024405795000064 ], [ 44.760451980000028, 36.012738140000067 ], [ 44.779685864000044, 36.001068758000031 ], [ 44.797316923000039, 35.986803835000046 ], [ 44.845401632000062, 35.964752970000063 ], [ 44.863032691000058, 35.949183945000073 ], [ 44.880663751000043, 35.94139828200008 ], [ 44.903103281000028, 35.932314039000062 ], [ 44.911117399000034, 35.920632764000061 ], [ 44.911117399000034, 35.910247960000049 ], [ 44.909514576000049, 35.899861792000024 ], [ 44.887075045000074, 35.914142421000065 ], [ 44.874252456000079, 35.908949763000066 ], [ 44.864635515000032, 35.895966628000053 ], [ 44.855018573000052, 35.882981363000056 ], [ 44.832579043000067, 35.898563425000077 ], [ 44.819756454000071, 35.89336974500003 ], [ 44.80853668900005, 35.885578586000065 ], [ 44.790905629000065, 35.886877166000033 ], [ 44.776480217000028, 35.902458462000027 ], [ 44.749232215000063, 35.903756765000026 ], [ 44.726792685000078, 35.90116013800008 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.71126533100005, 35.876244418000056 ], [ 44.731300626000063, 35.862038138000059 ], [ 44.738813862000029, 35.841739035000046 ], [ 44.738813862000029, 35.821434736000072 ], [ 44.716274155000065, 35.807218636000073 ], [ 44.706256507000035, 35.782842257000027 ], [ 44.716274155000065, 35.762522896000064 ], [ 44.731300626000063, 35.748296255000071 ], [ 44.746327097000062, 35.732034122000073 ], [ 44.763857981000058, 35.713735252000049 ], [ 44.781388864000064, 35.699499892000063 ], [ 44.776380040000049, 35.681193552000025 ], [ 44.763857981000058, 35.66695238300008 ], [ 44.74883150900007, 35.652708673000063 ], [ 44.74883150900007, 35.620142083000076 ], [ 44.751335921000077, 35.591635432000032 ], [ 44.756344745000035, 35.57534135800006 ], [ 44.778884452000057, 35.546818752000036 ], [ 44.793910923000055, 35.524401013000045 ], [ 44.818955042000027, 35.493821274000027 ], [ 44.82646827800005, 35.471388733000026 ], [ 44.82646827800005, 35.455070225000043 ], [ 44.811441806000062, 35.436707947000059 ], [ 44.78890209900004, 35.426504871000077 ], [ 44.771371216000034, 35.414259474000062 ], [ 44.756344745000035, 35.40201221600006 ], [ 44.728796214000056, 35.377512117000038 ], [ 44.716274155000065, 35.357089683000027 ], [ 44.706256507000035, 35.338705076000053 ], [ 44.693734448000043, 35.326446347000058 ], [ 44.686221212000078, 35.29579139100008 ], [ 44.681212389000052, 35.273303707000025 ], [ 44.676203565000037, 35.252854939000031 ], [ 44.658672682000031, 35.236492210000051 ], [ 44.641141798000035, 35.222172114000045 ], [ 44.621106503000078, 35.201710449000075 ], [ 44.606080032000079, 35.18943097500005 ], [ 44.591053561000081, 35.183290542000066 ], [ 44.553487383000061, 35.177149645000043 ], [ 44.530947676000039, 35.173055456000043 ], [ 44.490068760000042, 35.157969887000036 ], [ 44.507205851000037, 35.149796551000065 ], [ 44.528042558000038, 35.131446808000078 ], [ 44.544070794000049, 35.120959384000059 ], [ 44.56971597200004, 35.11047060900006 ], [ 44.609786562000068, 35.10391443900005 ], [ 44.649857152000038, 35.102603142000078 ], [ 44.68672209500005, 35.102603142000078 ], [ 44.768466098000033, 35.09473491600005 ], [ 44.80853668900005, 35.09473491600005 ], [ 44.840593161000072, 35.089489010000079 ], [ 44.879060927000069, 35.071125681000069 ], [ 44.903103281000028, 35.052758219000054 ], [ 44.923939988000029, 35.030449317000034 ], [ 44.931954106000035, 35.002882854000063 ], [ 44.931954106000035, 34.98187359800005 ], [ 44.936762577000081, 34.958231740000031 ], [ 44.933556930000066, 34.938524980000068 ], [ 44.92073434100007, 34.918813484000054 ], [ 44.91432304600005, 34.895153438000079 ], [ 44.912720223000065, 34.872801580000043 ] ] ] } }\r
]\r
}\r
`,Ge=({className:t=""})=>f.jsx("div",{className:`animate-pulse bg-slate-200 dark:bg-slate-700/50 rounded-lg ${t}`}),OIe=t=>{const e=t==null?void 0:t.geometry;return e?e.type==="Polygon"?{...t,geometry:{...e,coordinates:e.coordinates.map((n,r)=>r===0?[...n].reverse():n)}}:e.type==="MultiPolygon"?{...t,geometry:{...e,coordinates:e.coordinates.map(n=>n.map((r,i)=>i===0?[...r].reverse():r))}}:t:t},jIe=({data:t,selectedGovernorates:e=[],onSelect:n})=>{const{theme:r,appearance:i}=Cn(),a=i.accentType==="solid"?i.accentColor:i.accentGradient.start,s=R.useMemo(()=>{const h=JSON.parse(CIe);return{...h,features:(h.features||[]).map(OIe)}},[]),o=R.useMemo(()=>{const g=AIe().fitExtent([[35,15],[765,585]],s);g.scale(g.scale()*1.05);const[[x,y],[v,b]]=yIe(g).bounds(s),[w,S]=g.translate();return g.translate([w+(800/2-(x+v)/2),S+(600/2-(y+b)/2)]),g},[s]),{maxValue:l,minPositive:c}=R.useMemo(()=>{const h=Object.values(t||{}).filter(y=>typeof y=="number"),p=h.length>0?Math.max(...h):0,g=h.filter(y=>y>0),x=g.length>0?Math.min(...g):1;return{maxValue:p,minPositive:x}},[t]),u=R.useMemo(()=>vh().domain([c||1,l||c||1]).range([`${a}40`,a]),[c,l,a]),d=r==="dark"?"#0f172a":"#f1f5f9";return f.jsx("div",{className:"w-full h-full bg-slate-50 dark:bg-slate-900/50 rounded-2xl overflow-hidden relative flex items-center justify-center border border-slate-100 dark:border-slate-800",children:s?f.jsx(qw,{projection:o,className:"w-full h-full",children:f.jsx(Ww,{geography:s,children:({geographies:h})=>f.jsxs(f.Fragment,{children:[h.map(p=>{const g=p.properties||{},x=g.name||g.shapeName||g.ADM1_EN||"Unknown",y=_=>typeof _=="string"?_.toLowerCase().replace(/[^a-z0-9]/g,""):"",v=y(x),b=Object.keys(t||{}).find(_=>{const k=y(_);return v&&k&&(v.includes(k)||k.includes(v))}),w=b||x,S=b&&t[b]||0,E=e.includes(w);let P=d;return E?P="#94a3b8":S>0&&(P=u(S)),f.jsx(TAe,{geography:p,fill:P,stroke:E?"#ffffff":r==="dark"?"#334155":"#cbd5e1",strokeWidth:E?2:.5,onClick:()=>{n&&n(w)},style:{default:{outline:"none",transition:"all 250ms"},hover:{fill:"#94a3b8",outline:"none",stroke:"#fff",strokeWidth:2,cursor:"pointer",opacity:.8},pressed:{outline:"none"}},title:`${w}: ${S} Orders`},p.rsmKey)}),h.map(p=>{const g=KAe(p);if(!g||isNaN(g[0])||isNaN(g[1]))return null;const x=p.properties||{},y=x.name||x.shapeName||x.ADM1_EN||"Unknown",v=P=>typeof P=="string"?P.toLowerCase().replace(/[^a-z0-9]/g,""):"",b=v(y),w=Object.keys(t||{}).find(P=>{const _=v(P);return b&&_&&(b.includes(_)||_.includes(b))}),S=w||y,E=w&&t[w]||0;return f.jsx(Qw,{coordinates:g,children:f.jsxs("g",{className:"pointer-events-none",style:{transform:"translateY(-6px)"},children:[f.jsx("text",{y:"-6",textAnchor:"middle",style:{fontSize:10,fill:r==="dark"?"#fff":"#1e293b",fontWeight:"bold",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:S}),f.jsx("text",{y:"8",textAnchor:"middle",style:{fontSize:12,fill:r==="dark"?"#e6f0ff":"#0f172a",fontWeight:"800",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:E>0?E:""})]})},`${p.rsmKey}-label`)})]})})}):f.jsxs("div",{className:"absolute inset-0 z-10 bg-white dark:bg-slate-900 overflow-hidden",children:[f.jsx(Ge,{className:"w-full h-full rounded-none"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("span",{className:"bg-white/50 dark:bg-slate-900/50 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Loading Map..."})})]})})},RIe=({regions:t,selectedRegion:e,onSelect:n})=>{const r=[...t].sort((a,s)=>s.count-a.count).slice(0,5),i=a=>{n(a)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 h-full flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Na,{className:"w-5 h-5 text-accent"})," Top Regions"]}),f.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pe-2",children:[r.map((a,s)=>{const o=e===a.name||Array.isArray(e)&&e.includes(a.name);return f.jsxs("div",{onClick:()=>i(a.name),className:`flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all ltr:hover:translate-x-1 rtl:hover:-translate-x-1 ${o?"bg-accent text-white shadow-accent":"bg-slate-50 dark:bg-slate-700/30 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-black transition-all ${s===0?"bg-amber-100 text-amber-600":s===1?"bg-slate-200 text-slate-600":s===2?"bg-orange-100 text-orange-600":""}`,style:s>2?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:s+1}),f.jsx("span",{className:`font-bold transition-colors ${o?"text-white":"text-slate-700 dark:text-slate-300"}`,children:a.name})]}),f.jsx("span",{className:`font-black transition-colors ${o?"text-white":"text-slate-800 dark:text-white"}`,children:a.count})]},a.name)}),r.length===0&&f.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No data available"})]})]})},MIe=({products:t,orders:e,formatCurrency:n})=>{const r=B.useMemo(()=>{const o={};return t.forEach(l=>{const c=l._id||l.id||l.id_str||l.sku||l.name;o[c]={...l,_id:c,totalSales:0,orderCount:0,distinctOrders:[]}}),e.forEach(l=>{l.items&&l.items.forEach(c=>{var d,h;const u=((d=c.product)==null?void 0:d._id)||c.productId;u&&o[u]&&(o[u].totalSales+=c.price*c.quantity,o[u].orderCount+=c.quantity,o[u].distinctOrders.push({id:l._id||l.id,customer:((h=l.customer)==null?void 0:h.name)||l.customer||"",date:l.date||l.createdAt||l.updatedAt,quantity:c.quantity,total:c.price*c.quantity}))})}),Object.values(o).sort((l,c)=>c.orderCount-l.orderCount).slice(0,10)},[t,e]),[i,a]=R.useState(null),s=o=>{a(i===o?null:o)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Wo,{className:"w-5 h-5 text-accent"})," Top Selling Products"]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700",children:[f.jsx("th",{className:"py-3 ps-2",children:"Product Name"}),f.jsx("th",{className:"py-3 text-center",children:"Sales"}),f.jsx("th",{className:"py-3 text-end pe-2",children:"Total Revenue"}),f.jsx("th",{className:"py-3 w-10"})]})}),f.jsxs("tbody",{className:"text-sm",children:[r.filter(o=>o.orderCount>0).map(o=>{var l;return f.jsxs(B.Fragment,{children:[f.jsxs("tr",{onClick:()=>s(o._id),className:`group cursor-pointer transition-colors border-b border-slate-50 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${i===o._id?"bg-slate-50 dark:bg-slate-800":""}`,children:[f.jsxs("td",{className:"py-4 ps-2 font-bold text-slate-700 dark:text-slate-200 flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-700 overflow-hidden shrink-0",children:f.jsx("img",{src:((l=o.images)==null?void 0:l[0])||"https://via.placeholder.com/40",alt:o.name||"Product image",className:"w-full h-full object-cover"})}),o.name]}),f.jsx("td",{className:"py-4 text-center text-slate-600 dark:text-slate-300",children:f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-black transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[o.orderCount," Orders"]})}),f.jsx("td",{className:"py-4 text-end pe-2 font-bold text-slate-800 dark:text-white",children:n(o.totalSales)}),f.jsx("td",{className:"py-4 text-center text-slate-400 group-hover:text-accent",children:i===o._id?f.jsx(Z8,{className:"w-4 h-4"}):f.jsx(ml,{className:"w-4 h-4"})})]}),i===o._id&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"bg-slate-50/50 dark:bg-slate-900/30 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[f.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-700/30 border-b border-slate-100 dark:border-slate-700 text-xs font-bold text-slate-500 uppercase flex justify-between",children:f.jsxs("span",{children:["Order Details (",o.distinctOrders.length,")"]})}),f.jsxs("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:[o.distinctOrders.map((c,u)=>f.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-50 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-700/20 transition-colors",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 flex items-center gap-1",children:[f.jsx(Ro,{className:"w-3 h-3 text-slate-400"})," ",c.customer]}),f.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1 mt-0.5",children:[f.jsx(uR,{className:"w-3 h-3"})," ",c.date&&!isNaN(new Date(c.date).getTime())?gi(new Date(c.date),"dd MMM yyyy"):"N/A"]})]})}),f.jsxs("div",{className:"text-end",children:[f.jsxs("span",{className:"block text-xs font-bold text-slate-800 dark:text-white",children:["Qty: ",c.quantity]}),f.jsx("span",{className:"block text-[10px] font-semibold text-emerald-600 dark:text-emerald-400",children:n(c.total)})]})]},u)),o.distinctOrders.length===0&&f.jsx("div",{className:"text-center py-4 text-slate-400 text-xs",children:"No order details available"})]})]})})})]},o._id)}),r.filter(o=>o.orderCount>0).length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"text-center py-8 text-slate-400",children:"No sales data matches current filters"})})]})]})})]})},e4=["Al Anbar","Babil","Baghdad","Basra","Dhi Qar","Al-Qadisiyyah","Diyala","Duhok","Erbil","Karbala","Kirkuk","Maysan","Muthanna","Najaf","Nineveh","Saladin","Sulaymaniyah","Wasit"],t4=["Facebook","Instagram","TikTok","Snapchat","Telegram","WhatsApp","Other"],$Ie=()=>{var _e,Ce,se,ve;const{t}=Nr(),{orders:e,products:n,customers:r,loading:i,formatCurrency:a,brand:s,categories:o,theme:l,appearance:c}=Cn(),u=R.useMemo(()=>e.length===0?gw(new Date,30):e.reduce((X,q)=>{try{const fe=ma(q.date);return fe<X?fe:X}catch{return X}},new Date),[e]),d=R.useMemo(()=>({from:u,to:new Date}),[u]),[h,p]=R.useState(d),[g,x]=R.useState(!1);B.useEffect(()=>{!i&&e.length>0&&!g&&(p(d),x(!0))},[i,e.length,d,g]);const[y,v]=R.useState([]),[b,w]=R.useState([]),[S,E]=R.useState([]),[P,_]=R.useState([]),k=R.useMemo(()=>e.filter(X=>{var St,$e;let q;try{q=X.date?ma(X.date):null}catch{return!1}if(!q||isNaN(q.getTime()))return!1;const fe=!(h!=null&&h.from)||!(h!=null&&h.to)||Ec(q,{start:h.from,end:h.to}),Pe=y.length===0||y.includes(X.status),ge=b.length===0||((St=X.customer)==null?void 0:St.governorate)&&b.includes(X.customer.governorate),we=S.length===0||(($e=X.customer)==null?void 0:$e.social)&&S.includes(X.customer.social),Ue=P.length===0||X.items&&X.items.some(He=>{var Y;return((Y=He.product)==null?void 0:Y.category)&&P.includes(He.product.category)});return fe&&Pe&&ge&&we&&Ue}),[e,h,y,b,S,P]),N=R.useMemo(()=>{if(!(h!=null&&h.from)||!(h!=null&&h.to))return 0;const X=h.from,fe=h.to.getTime()-X.getTime();if(fe<0)return 0;const Pe=new Date(X.getTime()-1),ge=new Date(Pe.getTime()-fe);return e.reduce((we,Ue)=>{var bt,Ye;let St;try{St=Ue.date?ma(Ue.date):null}catch{return we}if(!St||isNaN(St.getTime()))return we;const $e=Ec(St,{start:ge,end:Pe}),He=y.length===0||y.includes(Ue.status),Y=b.length===0||((bt=Ue.customer)==null?void 0:bt.governorate)&&b.includes(Ue.customer.governorate),de=S.length===0||((Ye=Ue.customer)==null?void 0:Ye.social)&&S.includes(Ue.customer.social),Ie=P.length===0||Ue.items&&Ue.items.some(vt=>{var Pt;return((Pt=vt.product)==null?void 0:Pt.category)&&P.includes(vt.product.category)});return!$e||!He||!Y||!de||!Ie?we:we+(Number(Ue.total)||0)},0)},[e,h,y,b,S,P]),A=R.useMemo(()=>k.reduce((X,q)=>X+q.total,0),[k]),I=R.useMemo(()=>a(A).replace(/\u00A0/g," "),[a,A]),j=R.useMemo(()=>N<=0?A>0?100:0:(A-N)/N*100,[A,N]),O=j>=0?"+":"-",$=R.useMemo(()=>`${O}${Math.abs(j).toFixed(1)}% vs last period`,[O,j,h,y,b,S,P]),M=k.length,D=R.useMemo(()=>new Set(k.map(X=>{var q,fe;return((q=X.customer)==null?void 0:q.phone)||((fe=X.customer)==null?void 0:fe.id)||X.customer}).filter(Boolean)).size,[k]),V=R.useMemo(()=>{const X={};return k.forEach(q=>{var Pe;const fe=(Pe=q.customer)==null?void 0:Pe.governorate;fe&&(X[fe]=(X[fe]||0)+1)}),Object.entries(X).map(([q,fe])=>({name:q,count:fe}))},[k]),F=R.useMemo(()=>V.length===0?{name:"N/A",count:0}:V.reduce((X,q)=>X.count>q.count?X:q),[V]),U=R.useMemo(()=>e.filter(X=>{let q;try{q=X.date?ma(X.date):null}catch{return!1}return!q||isNaN(q.getTime())?!1:!(h!=null&&h.from)||!(h!=null&&h.to)||Ec(q,{start:h.from,end:h.to})}),[e,h]),W=R.useMemo(()=>{const X={};return U.forEach(q=>X[q.status]=(X[q.status]||0)+1),["Processing","Completed","Cancelled"].map(q=>({value:q,label:q,count:X[q]||0}))},[U]),G=R.useMemo(()=>{const X={};return U.forEach(q=>{var Pe;const fe=(Pe=q.customer)==null?void 0:Pe.governorate;fe&&(X[fe]=(X[fe]||0)+1)}),e4.map(q=>({value:q,label:q,count:X[q]||0})).sort((q,fe)=>fe.count-q.count)},[U]),H=R.useMemo(()=>{const X={};return U.forEach(q=>{var Pe;const fe=(Pe=q.customer)==null?void 0:Pe.social;fe&&(X[fe]=(X[fe]||0)+1)}),t4.map(q=>({value:q,label:q,count:X[q]||0})).sort((q,fe)=>fe.count-q.count)},[U]),te=R.useMemo(()=>{const X={};return U.forEach(q=>{var Pe;const fe=new Set;(Pe=q.items)==null||Pe.forEach(ge=>{var Ue;const we=(Ue=ge.product)==null?void 0:Ue.category;we&&!fe.has(we)&&(X[we]=(X[we]||0)+1,fe.add(we))})}),o.map(q=>({value:q,label:q,count:X[q]||0})).sort((q,fe)=>fe.count-q.count)},[U,o]),ue=R.useMemo(()=>{if(!(h!=null&&h.from)||!(h!=null&&h.to)||IU(h.from,h.to))return[];let X=[];try{X=J_e({start:h.from,end:h.to})}catch(fe){return console.error("Invalid date range for chart:",fe),[]}const q={};return X.forEach(fe=>q[gi(fe,"yyyy-MM-dd")]=0),k.forEach(fe=>{const Pe=gi(ma(fe.date),"yyyy-MM-dd");q[Pe]!==void 0&&(q[Pe]+=fe.total)}),Object.entries(q).map(([fe,Pe])=>({date:gi(ma(fe),"MMM d"),value:Pe}))},[k,h]),me=R.useMemo(()=>V.reduce((X,q)=>(X[q.name]=q.count,X),{}),[V]),Z=l==="dark"?{text:"#94A3B8",grid:"#334155",tooltipBg:"#1E293B"}:{text:"#64748B",grid:"#E2E8F0",tooltipBg:"#FFFFFF"};return f.jsxs(Nu,{title:t("dashboard.title"),children:[f.jsx("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(yw,{range:h,onRangeChange:p,brandColor:s.color})}),f.jsx(Qi,{title:t("dashboard.governorate"),options:G,selectedValues:b,onChange:w,icon:Na,showSearch:!1}),f.jsx(Qi,{title:t("dashboard.socialMedia"),options:H,selectedValues:S,onChange:E,icon:bs,showSearch:!1}),f.jsx(Qi,{title:t("dashboard.categories"),options:te,selectedValues:P,onChange:_,icon:Wo,showSearch:!1}),f.jsx(Qi,{title:t("dashboard.status"),options:W,selectedValues:y,onChange:v,icon:hr,showSearch:!1}),f.jsxs("div",{className:"ms-auto flex items-center gap-3 flex-wrap",children:[(y.length>0||b.length>0||S.length>0||P.length>0||((_e=h.from)==null?void 0:_e.getTime())!==((Ce=d.from)==null?void 0:Ce.getTime())||((se=h.to)==null?void 0:se.getTime())!==((ve=d.to)==null?void 0:ve.getTime()))&&f.jsx("button",{onClick:()=>{v([]),w([]),E([]),_([]),p(d)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Wo,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:k.length})," ",t("dashboard.filteredOrders")]})]})]})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:i?Array.from({length:4}).map((X,q)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx(Ge,{className:"h-4 w-24"}),f.jsx(Ge,{className:"h-5 w-5 rounded-full"})]}),f.jsx(Ge,{className:"h-8 w-32 mb-2"}),f.jsx(Ge,{className:"h-3 w-40"})]},q)):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-accent rounded-3xl p-6 text-white shadow-accent",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 opacity-80",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalRevenue")}),f.jsx(kG,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-[clamp(0.95rem,2.6vw,1.85rem)] font-black mb-1 leading-tight whitespace-nowrap tracking-tight",children:I}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium opacity-80",children:[f.jsx(dE,{className:"w-3 h-3"}),f.jsx("span",{children:$})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalOrders")}),f.jsx(vR,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:M}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersPlaced")})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.topRegion")}),f.jsx(Na,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-1 truncate",children:F.name}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersCount",{count:F.count})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.activeCustomers")}),f.jsx(nx,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:D}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.uniqueBuyers")})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[400px]",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(dE,{className:"w-5 h-5",style:{color:c.accentType==="solid"?c.accentColor:c.accentGradient.start}})," ",t("dashboard.revenueTrend")]}),f.jsx("div",{className:"flex-1 min-h-0",children:i?f.jsx(Ge,{className:"w-full h-full rounded-xl"}):f.jsx(f1e,{width:"100%",height:"100%",children:f.jsxs(z_e,{data:ue,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:0})]})}),f.jsx(rU,{strokeDasharray:"3 3",vertical:!1,stroke:Z.grid}),f.jsx(W2,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:Z.text},dy:10}),f.jsx(H2,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:Z.text},tickFormatter:X=>`${X/1e3}k`}),f.jsx(pa,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 8px 16px rgba(0,0,0,0.1)",backgroundColor:Z.tooltipBg,color:l==="dark"?"#F8FAFC":"#1E293B"},itemStyle:{color:l==="dark"?"#F8FAFC":"#1E293B"},formatter:X=>[a(X),t("dashboard.revenue")]}),f.jsx(to,{type:"monotone",dataKey:"value",stroke:c.accentType==="solid"?c.accentColor:c.accentGradient.start,strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),f.jsxs("div",{className:"lg:col-span-1 border border-slate-100 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm h-full relative",children:[f.jsx(jIe,{data:me,selectedGovernorates:b,onSelect:X=>{b.includes(X)?w(b.filter(q=>q!==X)):w([...b,X])}}),f.jsx("div",{className:"absolute top-4 start-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 shadow-sm border border-slate-100",children:f.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[f.jsx(Na,{className:"w-3.5 h-3.5",style:{color:c.accentType==="solid"?c.accentColor:c.accentGradient.start}}),f.jsx("span",{children:"Map"})]})})]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[400px]",children:i?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(Ge,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ge,{className:"h-10 w-full"}),f.jsx(Ge,{className:"h-10 w-full"}),f.jsx(Ge,{className:"h-10 w-full"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(Ge,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ge,{className:"h-12 w-full"}),f.jsx(Ge,{className:"h-12 w-full"}),f.jsx(Ge,{className:"h-12 w-full"})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(RIe,{regions:V,selectedRegion:b,onSelect:X=>{b.includes(X)?w(b.filter(q=>q!==X)):w([...b,X])}}),f.jsx("div",{className:"h-full",children:f.jsx(MIe,{products:n,orders:U,formatCurrency:a})})]})})]})]})},$4=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>{const{t:a}=Nr();return t?f.jsxs("div",{className:"fixed inset-0 z-[1001] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-red-50 dark:bg-red-500/10 rounded-2xl flex items-center justify-center mb-4",children:f.jsx(Aa,{className:"w-8 h-8 text-red-500"})}),f.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white mb-2",children:r||a("common.delete")}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-8 leading-relaxed",children:i||a("common.confirmDelete")}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:e,className:"py-3 px-4 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 font-bold rounded-2xl transition-all active:scale-95 text-sm",children:a("common.cancel")}),f.jsx("button",{onClick:()=>{n(),e()},className:"py-3 px-4 bg-red-500 hover:bg-red-600 text-white font-bold rounded-2xl transition-all shadow-lg shadow-red-500/25 active:scale-95 text-sm",children:a("common.delete")})]})]}),f.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-400 transition-colors",children:f.jsx(ii,{className:"w-4 h-4"})})]})]}):null},DIe=({categories:t,products:e,onClose:n,onAdd:r,onUpdate:i,onDelete:a})=>{const{addToast:s}=Cn(),[o,l]=R.useState(""),[c,u]=R.useState(null),[d,h]=R.useState(""),[p,g]=R.useState({}),[x,y]=R.useState(!1),[v,b]=R.useState(null);R.useEffect(()=>{const _={};t.forEach(k=>{_[k]=e.filter(N=>N.category===k).length}),g(_)},[t,e]);const w=()=>{o.trim()&&(r(o.trim()),l(""))},S=()=>{c&&d.trim()&&d!==c&&(i(c,d.trim()),u(null),h(""))},E=_=>{if(p[_]>0){s(`Cannot delete category "${_}" because it is used by ${p[_]} products.`,"error");return}b(_),y(!0)},P=()=>{v&&(a(v),y(!1),b(null))};return f.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Manage Categories"}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:f.jsx(ii,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"New Category Name",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent dark:text-white",onKeyDown:_=>_.key==="Enter"&&w()}),f.jsx("button",{onClick:w,disabled:!o.trim(),className:"px-4 py-2 bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl shadow-lg shadow-accent/20 transition-all flex items-center justify-center",children:f.jsx(d0,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/20",children:[t.map(_=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm group hover:border-indigo-100 dark:hover:border-slate-600 transition-colors",children:c===_?f.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[f.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:k=>h(k.target.value),className:"flex-1 px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-accent rounded-lg text-sm outline-none dark:text-white",onKeyDown:k=>{k.key==="Enter"&&S(),k.key==="Escape"&&u(null)}}),f.jsx("button",{onClick:S,className:"text-emerald-500 hover:bg-emerald-50 rounded p-1",children:f.jsx(tx,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:bg-red-50 rounded p-1",children:f.jsx(ii,{className:"w-4 h-4"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:_}),f.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:[p[_]||0," products"]})]}),f.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{u(_),h(_)},className:"p-2 text-slate-400 hover:text-accent hover:bg-accent/10 rounded-lg transition-colors",title:"Rename",children:f.jsx(DG,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>E(_),className:`p-2 rounded-lg transition-colors ${p[_]>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:p[_]>0?"Cannot delete used category":"Delete",children:p[_]>0?f.jsx(EG,{className:"w-4 h-4"}):f.jsx(Aa,{className:"w-4 h-4"})})]})]})},_)),t.length===0&&f.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No categories found. Add one above."})]})]}),f.jsx($4,{isOpen:x,onClose:()=>{y(!1),b(null)},onConfirm:P,title:"Delete Category",message:`Are you sure you want to delete category "${v}"?`})]})},Ya=({title:t,options:e,selectedValue:n,onChange:r,icon:i,placeholder:a="Search...",showSearch:s=!0,customAction:o=null,disabled:l=!1,direction:c="down"})=>{const{appearance:u}=Cn(),[d,h]=R.useState(!1),[p,g]=R.useState(""),x=R.useRef(null);R.useEffect(()=>{const S=E=>{x.current&&!x.current.contains(E.target)&&h(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]),R.useEffect(()=>{d&&g("")},[d]);const y=S=>{r(S),h(!1)},v=R.useMemo(()=>p?e.filter(S=>S.label.toLowerCase().includes(p.toLowerCase())):e,[e,p]),b=e.find(S=>S.value===n),w=b?b.label:t;return f.jsxs("div",{className:"relative w-full",ref:x,children:[f.jsxs("button",{type:"button",disabled:l,onClick:()=>h(!d),className:`flex items-center justify-between w-full px-3 h-[44px] rounded-xl border-2 transition-all font-bold text-[11px] outline-none shadow-sm ${l?"bg-slate-50 dark:bg-slate-900/50 border-slate-100 dark:border-slate-800 text-slate-400 cursor-not-allowed opacity-60":d?"bg-accent/10 border-accent/40 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-700 dark:text-white hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800 text-slate-700 dark:text-white hover:border-slate-200 dark:hover:border-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-1 truncate",children:[i&&f.jsx(i,{className:`w-3.5 h-3.5 ${d?"text-accent":"text-slate-400"}`}),f.jsx("span",{className:"truncate",children:w})]}),f.jsx(ml,{className:`w-3 h-3 transition-transform flex-shrink-0 ${d?"rotate-180 text-accent":"text-slate-400"}`})]}),d&&f.jsx("div",{className:`absolute start-0 z-[100] w-full animate-in fade-in zoom-in-95 duration-200 ${c==="up"?"bottom-full mb-2":"top-full mt-2"}`,children:f.jsxs("div",{className:`rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col transition-all ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[s&&f.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"relative",children:[f.jsx(_u,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{autoFocus:!0,type:"text",placeholder:a,value:p,onChange:S=>g(S.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsxs("div",{className:"flex-1 max-h-48 overflow-y-auto p-2 space-y-1",children:[o&&f.jsxs("div",{onClick:()=>{o.onClick(),h(!1)},className:"flex items-center gap-3 px-3 py-2 rounded-xl cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 text-accent font-bold text-sm border border-dashed border-accent/30 mb-1",children:[o.icon&&f.jsx(o.icon,{className:"w-4 h-4"}),f.jsx("span",{children:o.label})]}),v.length===0?f.jsx("div",{className:"px-4 py-8 text-center text-slate-400",children:f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No results found"})}):v.map(S=>{const E=n===S.value;return f.jsxs("div",{onClick:()=>y(S.value),className:`flex items-center justify-between px-3 py-2 rounded-xl cursor-pointer transition-all group ${E?"bg-accent/10 text-accent font-bold":"hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-600 dark:text-slate-300"}`,children:[f.jsx("span",{className:`text-xs font-semibold ${E?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:S.label}),E&&f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent shadow-[0_0_8px_var(--accent-color)]"})]},S.value)})]})]})})]})},Ji=({src:t,alt:e,className:n="bg-slate-100 dark:bg-slate-700",imageClassName:r="",imageStyle:i=void 0,fallback:a=null})=>{const[s,o]=R.useState(!0),[l,c]=R.useState(!1),u=R.useRef(null);R.useEffect(()=>{var p;if(!t){o(!1),c(!1);return}c(!1),(p=u.current)!=null&&p.complete?o(!1):o(!0)},[t]);const d=()=>{o(!1)},h=()=>{c(!0),o(!1)};return f.jsxs("div",{className:`relative overflow-hidden ${n}`,children:[!t&&f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800",children:a||f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(lE,{className:"w-1/3 h-1/3 opacity-50"}),f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-50",children:"No Image"})]})}),t&&f.jsxs(f.Fragment,{children:[s&&!l&&f.jsx("div",{className:"absolute inset-0 animate-pulse bg-slate-200 dark:bg-slate-600 z-10"}),l?f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800",children:a||f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(lE,{className:"w-1/3 h-1/3 opacity-50"}),f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-50 text-center px-2",children:"Image Error"})]})}):f.jsx("img",{ref:u,src:t,alt:e,className:`w-full h-full object-cover transition-opacity duration-300 ${s?"opacity-0":"opacity-100"} ${r}`,style:i,onLoad:d,onError:h})]})]})},LIe=({images:t,currentIndex:e,onChange:n,onDelete:r,onDownload:i})=>{const{t:a}=Nr(),{language:s}=Cn(),o=s==="ar",l=t.length>0&&e<t.length?e:0,c=t[l],u=(typeof c=="string"?c:c==null?void 0:c.url)||"https://via.placeholder.com/600";return!t||t.length===0?f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-800",children:[f.jsx(jo,{className:"w-12 h-12 text-slate-300 mb-4"}),f.jsx("p",{className:"text-sm font-bold text-slate-400",children:a("productPicture.modal.noImages")})]}):f.jsxs("div",{className:"relative w-full h-full flex flex-col group",children:[f.jsxs("div",{className:"relative h-[300px] sm:h-[400px] md:h-[500px] rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 flex items-center justify-center shadow-lg w-full",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("img",{src:u,alt:"",className:"w-full h-full object-cover blur-3xl opacity-50 scale-125 transition-opacity duration-500"}),f.jsx("div",{className:"absolute inset-0 bg-white/20 dark:bg-black/40"})]}),f.jsx(Ji,{src:u,alt:"Product",className:"w-full h-full flex items-center justify-center relative z-10 bg-transparent",imageClassName:"w-auto h-auto max-w-full max-h-full object-contain drop-shadow-2xl"},u),f.jsxs("div",{className:`absolute top-4 ${o?"right-4":"left-4"} flex gap-2 z-30`,children:[f.jsx("button",{onClick:i,className:"p-2 bg-white/90 dark:bg-slate-800/90 hover:bg-white dark:hover:bg-slate-700 text-slate-800 dark:text-white rounded-lg backdrop-blur transition-all shadow-md border border-slate-200/50 dark:border-slate-700/50",title:a("common.download"),children:f.jsx(jg,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>r(l),className:"p-2 bg-red-500/90 hover:bg-red-600 text-white rounded-lg backdrop-blur transition-all shadow-md border border-red-400/20",title:a("common.delete"),children:f.jsx(Aa,{className:"w-4 h-4"})})]}),t.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>n((l-1+t.length)%t.length),className:`absolute ${o?"right-4":"left-4"} top-[55%] md:top-1/2 -translate-y-1/2 p-2.5 md:p-3 bg-slate-900/40 hover:bg-slate-900/60 text-white rounded-full backdrop-blur-md transition-all z-20 shadow-lg border border-white/10`,children:o?f.jsx(em,{className:"w-5 h-5 md:w-6 md:h-6"}):f.jsx(Z3,{className:"w-5 h-5 md:w-6 md:h-6"})}),f.jsx("button",{onClick:()=>n((l+1)%t.length),className:`absolute ${o?"left-4":"right-4"} top-[55%] md:top-1/2 -translate-y-1/2 p-2.5 md:p-3 bg-slate-900/40 hover:bg-slate-900/60 text-white rounded-full backdrop-blur-md transition-all z-20 shadow-lg border border-white/10`,children:o?f.jsx(Z3,{className:"w-5 h-5 md:w-6 md:h-6"}):f.jsx(em,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]}),t.length>1&&f.jsx("div",{className:"flex gap-2 mt-6 px-2 overflow-x-auto py-2 hide-scrollbar",children:t.map((d,h)=>f.jsx("button",{onClick:()=>n(h),className:`w-12 h-12 rounded-xl border-2 transition-all flex-shrink-0 bg-white dark:bg-slate-900 shadow-sm overflow-hidden ${h===l?"border-accent ring-2 ring-accent/20":"border-transparent opacity-60 hover:opacity-100"}`,children:f.jsx(Ji,{src:typeof d=="string"?d:d==null?void 0:d.url,alt:`Thumb ${h}`,className:"w-full h-full",imageClassName:"object-cover"})},h))})]})},gz=({product:t,onClose:e,onSave:n,onUpload:r})=>{var O;const{t:i}=Nr(),{formatCurrency:a,isSidebarCollapsed:s,language:o}=Cn(),l=o==="ar",[c,u]=R.useState(0),[d,h]=R.useState(t.name||""),[p,g]=R.useState(t.description||""),[x,y]=R.useState(t.images||[]),[v,b]=R.useState(!1),[w,S]=R.useState(!1);R.useEffect(()=>{const $=M=>{M.key==="Escape"&&e()};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[e]),R.useEffect(()=>{h(t.name||""),g(t.description||""),y(t.images||[]),u(0)},[t._id]);const E=async()=>{if(d.trim()){b(!0);try{await n({...t,name:d,description:p,images:x})}catch($){console.error("Failed to save product:",$)}finally{b(!1)}}},P=async $=>{if($.target.files&&$.target.files.length>0){const M=Array.from($.target.files),D=V=>new Promise(F=>{const U=new FileReader;U.onload=W=>{const G=new Image;G.onload=()=>{const H=document.createElement("canvas");let te=G.width,ue=G.height;const me=1200;te>ue?te>me&&(ue*=me/te,te=me):ue>me&&(te*=me/ue,ue=me),H.width=te,H.height=ue,H.getContext("2d").drawImage(G,0,0,te,ue),F({url:H.toDataURL("image/jpeg",.8),name:V.name})},G.src=W.target.result},U.readAsDataURL(V)});try{const V=await Promise.all(M.map(D));if(r){const F=await r(V);F&&y(U=>[...U,...F])}else y(F=>[...F,...V])}catch(V){console.error("Image processing failed:",V)}}},_=()=>{S(!0)},k=()=>{const $=c,M=x.filter((D,V)=>V!==$);y(M),c>=M.length&&M.length>0?u(M.length-1):M.length===0&&u(0),S(!1)},N=x.length>0?x[c]:((O=t.images)==null?void 0:O[0])||t.image,A=typeof N=="string"?N:(N==null?void 0:N.url)||"https://via.placeholder.com/600",I=()=>{const $=document.createElement("a");$.href=A,$.download=`product-${t.sku}-${c}.jpg`,document.body.appendChild($),$.click(),document.body.removeChild($)},j=l?s?"lg:pr-20":"lg:pr-56":s?"lg:pl-20":"lg:pl-56";return f.jsxs("div",{className:`fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300 transition-all ${j}`,children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full h-full md:h-auto md:max-h-[95vh] md:max-w-6xl bg-white dark:bg-slate-800 md:rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row animate-in zoom-in slide-in-from-bottom-10 duration-500",children:[f.jsx("button",{onClick:e,className:`absolute top-16 ${l?"left-8":"right-8"} md:top-4 ${l?"md:left-4":"md:right-4"} z-[150] p-2 bg-slate-100/80 dark:bg-slate-900/80 hover:bg-slate-200 text-slate-500 dark:text-slate-400 rounded-lg transition-all active:scale-95 border border-slate-200/50 dark:border-slate-700/50 backdrop-blur shadow-sm`,children:f.jsx(ii,{className:"w-4 h-4"})}),f.jsxs("div",{className:"flex flex-col md:flex-row flex-1 overflow-hidden",children:[f.jsxs("div",{className:"w-full h-[70vh] md:h-auto md:w-2/3 bg-slate-100 dark:bg-slate-900/50 flex flex-col p-4 pt-12 md:p-6 overflow-hidden relative",children:[f.jsx("div",{className:"flex-1 min-h-0",children:f.jsx(LIe,{images:x,currentIndex:c,onChange:$=>u($),onDelete:()=>_(),onDownload:I})}),f.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-center",children:f.jsxs("label",{className:"w-full sm:w-auto flex items-center justify-center gap-2 px-8 py-3 bg-accent text-white rounded-2xl text-sm font-black hover:brightness-110 cursor-pointer transition-all shadow-xl shadow-accent/20 active:scale-95",children:[f.jsx(d0,{className:"w-5 h-5"}),f.jsx("span",{children:i("productPicture.modal.addPhoto")}),f.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:P})]})})]}),f.jsxs("div",{className:"w-full md:w-1/3 flex-1 p-6 md:p-8 flex flex-col bg-white dark:bg-slate-800 md:border-s border-slate-100 dark:border-slate-700 overflow-y-auto scrollbar-none",children:[f.jsxs("div",{className:"space-y-6 flex-1",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.productTitle")}),f.jsx("input",{type:"text",value:d,onChange:$=>h($.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-800 dark:text-white focus:ring-2 focus:ring-accent outline-none transition-all",placeholder:i("productPicture.modal.enterTitle")})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.description")}),f.jsx("textarea",{value:p,onChange:$=>g($.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 focus:ring-2 focus:ring-accent outline-none transition-all resize-none h-32",placeholder:i("productPicture.modal.enterDescription")})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:i("productPicture.modal.sellingPrice")}),f.jsx("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:a(t.sellingPriceIQD||t.price||0)})]}),f.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:f.jsx(xR,{className:"w-5 h-5 text-accent"})})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:E,disabled:v||!d.trim(),className:"w-full py-3.5 bg-accent text-white font-bold rounded-xl shadow-accent transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:v?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(tx,{className:"w-5 h-5"}),i("settings.saveChanges")]})})})]})]}),f.jsx($4,{isOpen:w,onClose:()=>S(!1),onConfirm:k,title:i("common.delete"),message:i("productPicture.modal.confirmDeleteImage")})]})]})},e_=({limit:t,onChange:e})=>{const{t:n}=Nr(),{appearance:r}=Cn(),[i,a]=R.useState(!1),[s,o]=R.useState(![50,100,500,1e3].includes(t)),l=R.useRef(null),c=R.useRef(null),u=[50,100,500,1e3];R.useEffect(()=>{const p=g=>{l.current&&!l.current.contains(g.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=p=>{p==="custom"?o(!0):(o(!1),e(Number(p)),a(!1))},h=p=>{const g=Number(p.target.value);g>0&&e(g)};return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>a(!i),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${i?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(r==null?void 0:r.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[f.jsx(mR,{className:"w-4 h-4"}),f.jsxs("span",{className:"truncate",children:[n("common.showRows")||"Rows",": ",t]}),f.jsx(ml,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&f.jsx("div",{className:"absolute top-full end-0 mt-2 z-50 w-48 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden py-2 ${["liquid","default_glass"].includes(r==null?void 0:r.theme)?"glass-panel":""}`,children:[u.map(p=>f.jsx("button",{onClick:()=>d(p),className:`w-full text-start px-4 py-2 text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${t===p&&!s?"text-accent bg-accent/5":"text-slate-600 dark:text-slate-300"}`,children:p},p)),f.jsxs("div",{className:"px-2 pt-2 mt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("button",{onClick:()=>d("custom"),className:`w-full text-start px-2 py-1.5 text-xs font-black uppercase tracking-widest ${s?"text-accent":"text-slate-400"}`,children:n("common.custom")||"Custom"}),s&&f.jsx("div",{className:"px-2 pb-2",children:f.jsx("input",{ref:c,type:"number",value:t,onChange:h,className:"w-full mt-1 px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold outline-none focus:border-accent transition-all dark:text-white",placeholder:"Value...",autoFocus:!0})})]})]})})]})},t_=(t,e=null)=>{if(!t||t.length===0)return"";const n=e||Object.keys(t[0]),r=n.map(a=>`"${a}"`).join(","),i=t.map(a=>n.map(s=>{let o=a[s];return typeof o=="object"&&o!==null&&(o=JSON.stringify(o)),o==null&&(o=""),`"${String(o).replace(/"/g,'""')}"`}).join(","));return[r,...i].join(`
`)},n_=(t,e)=>{const n="\uFEFF",r=new Blob([n+t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),a=URL.createObjectURL(r);i.setAttribute("href",a),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},FIe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>{var s,o,l,c,u,d,h;return{"Order ID":a.orderId||a._id,Date:a.date,Status:a.status,"Customer Name":((s=a.customer)==null?void 0:s.name)||"","Customer Phone":((o=a.customer)==null?void 0:o.phone)||"","Customer Email":((l=a.customer)==null?void 0:l.email)||"","Customer Address":((c=a.customer)==null?void 0:c.address)||"",Governorate:((u=a.customer)==null?void 0:u.governorate)||"","Social Platform":((d=a.customer)==null?void 0:d.social)||"","Items Count":((h=a.items)==null?void 0:h.length)||0,Subtotal:a.subtotal||a.total,"Discount %":a.discount||0,Total:a.total,Notes:a.notes||""}}),r=t_(n),i=e||`orders_export_${new Date().toISOString().split("T")[0]}.csv`;n_(r,i)},VIe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,Phone:a.phone,Email:a.email||"",Address:a.address||"",Governorate:a.governorate||"","Social Platform":a.social||"",Notes:a.notes||"","Created On":a.createdOn||""})),r=t_(n),i=e||`customers_export_${new Date().toISOString().split("T")[0]}.csv`;n_(r,i)},UIe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,SKU:a.sku,Category:a.category,Stock:a.stock,Status:a.status,"Selling Price (IQD)":a.sellingPriceIQD||a.price,"Unit Price ($)":a.unitPriceUSD||a.unitPrice,"Profit per Unit (IQD)":a.profitPerUnitIQD||0,"Units Sold":a.unitsSold||0,"Total Profit (IQD)":a.totalProfitIQD||0})),r=t_(n),i=e||`products_export_${new Date().toISOString().split("T")[0]}.csv`;n_(r,i)},Kp=t=>{const e=Number(t);return e<=0?"Out of Stock":e<10?"Low Stock":"In Stock"},RC=t=>Math.round(t/500)*500,BIe=["In Stock","Low Stock","Out of Stock"],MC=({status:t})=>{const{t:e}=Nr(),n=i=>{switch(i){case"In Stock":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400";case"Low Stock":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Out of Stock":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200"}},r=i=>{switch(i){case"In Stock":return e("products.stockStatus.instock");case"Low Stock":return e("products.stockStatus.lowstock");case"Out of Stock":return e("products.stockStatus.outofstock");default:return i}};return f.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold ${n(t)}`,children:r(t)})},zIe=()=>{const{t,i18n:e}=Nr(),{products:n,addProduct:r,updateProduct:i,deleteProduct:a,categories:s,addCategory:o,updateCategory:l,deleteCategory:c,formatCurrency:u,loading:d,brand:h,addToast:p,appearance:g,setIsModalOpen:x}=Cn(),[y,v]=R.useState(""),[b,w]=R.useState([]),[S,E]=R.useState([]),[P,_]=R.useState(!1),[k,N]=R.useState(!1),[A,I]=R.useState(!1),[j,O]=R.useState(100),[$,M]=R.useState(null),[D,V]=R.useState(null),[F,U]=R.useState({key:null,direction:"ascending"}),W=R.useRef(null),[G,H]=R.useState(!1),[te,ue]=R.useState(null);R.useEffect(()=>(x(P||k||A||G),()=>x(!1)),[P,k,A,G,x]);const me={name:"",sku:"",category:"",unitPrice:"",price:"",stock:"",status:"In Stock",images:[],alibabaProductLink:"",alibabaMessageLink:"",alibabaOrderLink:"",alibabaOrderNumber:"",unitPriceUSD:"",exchangeRate:"1380",unitPriceIQD:0,additionalFeesIQD:"",shippingToIraqIQD:"",marginPercent:"",sellingPriceIQD:0,profitPerUnitIQD:0,unitsSold:0,totalProfitIQD:0,alibabaFeeUSD:"",isSellingPriceOverridden:!1,costPriceIQD_total:0,costPriceIQD_perUnit:0,recommendedSellingPriceIQD_perUnit:0,alibabaNote:"",description:"",profitPerUnitUSD:0,totalProfitUSD:0},[Z,_e]=R.useState(me),[Ce,se]=R.useState(""),[ve,X]=R.useState(!1),q=R.useMemo(()=>{const ae={};return n.forEach(be=>{be.category&&(ae[be.category]=(ae[be.category]||0)+1)}),s.map(be=>({value:be,label:be,count:ae[be]||0})).sort((be,Xe)=>Xe.count-be.count)},[s,n]),fe=R.useMemo(()=>{const ae={};return n.forEach(be=>{be.status&&(ae[be.status]=(ae[be.status]||0)+1)}),BIe.map(be=>({value:be,label:t(`products.stockStatus.${be.replace(/\s/g,"").toLowerCase()}`),count:ae[be]||0}))},[n,t]),we=R.useMemo(()=>{let ae=[...n];return F.key&&ae.sort((be,Xe)=>{let it=be[F.key],fn=Xe[F.key];return typeof it=="string"&&(it=it.toLowerCase()),typeof fn=="string"&&(fn=fn.toLowerCase()),it<fn?F.direction==="ascending"?-1:1:it>fn?F.direction==="ascending"?1:-1:0}),ae},[n,F]).filter(ae=>{const be=ae.name.toLowerCase().includes(y.toLowerCase())||ae.sku.toLowerCase().includes(y.toLowerCase()),Xe=b.length===0||b.includes(ae.category),it=S.length===0||S.includes(ae.status);return be&&Xe&&it}).slice(0,j),Ue=ae=>{let be="ascending";F.key===ae&&F.direction==="ascending"&&(be="descending"),U({key:ae,direction:be})};R.useEffect(()=>{const ae=parseFloat(Z.unitPriceUSD)||0,be=parseFloat(Z.alibabaFeeUSD)||0,Xe=parseInt(Z.stock)||0,it=parseFloat(Z.exchangeRate)||1320,fn=parseFloat(Z.shippingToIraqIQD)||0,ie=parseFloat(Z.additionalFeesIQD)||0,he=parseFloat(Z.marginPercent)||0,Ee=parseInt(Z.unitsSold)||0,Q=(ae+be)*Xe*it+fn+ie,Oe=Xe>0?Q/Xe:0,nt=Oe*(1+he/100),z=RC(nt);_e(ee=>{let ne=ee.sellingPriceIQD;ee.isSellingPriceOverridden||(ne=z);const je=(parseFloat(ne)||0)-Oe,at=je*Ee,ft=it>0?je/it:0,Gt=ft*Ee;return ee.costPriceIQD_total===Q&&ee.costPriceIQD_perUnit===Oe&&ee.recommendedSellingPriceIQD_perUnit===z&&ee.sellingPriceIQD===ne&&ee.profitPerUnitIQD===je&&ee.totalProfitIQD===at&&ee.profitPerUnitUSD===ft&&ee.totalProfitUSD===Gt?ee:{...ee,costPriceIQD_total:Q,costPriceIQD_perUnit:Oe,recommendedSellingPriceIQD_perUnit:z,sellingPriceIQD:ne,profitPerUnitIQD:je,totalProfitIQD:at,profitPerUnitUSD:ft,totalProfitUSD:Gt,unitPrice:ae,price:ne}})},[Z.unitPriceUSD,Z.alibabaFeeUSD,Z.stock,Z.exchangeRate,Z.shippingToIraqIQD,Z.additionalFeesIQD,Z.marginPercent,Z.unitsSold,Z.isSellingPriceOverridden]);const St=()=>{M(null),_e(me),_(!0)},$e=ae=>{M(ae),_e({...me,...ae,images:ae.images||[]}),_(!0)},He=ae=>{ue(ae),H(!0)},Y=()=>{te&&(a(te),H(!1),ue(null))},de=ae=>{const{name:be,value:Xe}=ae.target;if(be==="category"&&Xe==="new")X(!0),_e(it=>({...it,category:""}));else if(be==="sellingPriceIQD"){const it=Xe===""?"":parseFloat(Xe);_e(fn=>({...fn,sellingPriceIQD:it,isSellingPriceOverridden:!0}))}else _e(it=>({...it,[be]:Xe}))},Ie=()=>{_e(ae=>{if(!ae.isSellingPriceOverridden)return ae;const be=RC(parseFloat(ae.sellingPriceIQD)||0),Xe=ae.costPriceIQD_perUnit,it=Xe>0?(be/Xe-1)*100:0;return{...ae,sellingPriceIQD:be,marginPercent:it.toFixed(2)}})},bt=ae=>{const be=Array.from(ae.target.files);be.length!==0&&be.forEach(Xe=>{const it=new FileReader;it.onloadend=()=>{_e(fn=>({...fn,images:[...fn.images,it.result]}))},it.readAsDataURL(Xe)})},Ye=ae=>{const be=Z.images.filter((Xe,it)=>it!==ae);_e(Xe=>({...Xe,images:be}))},vt=ae=>{if(ae.preventDefault(),parseFloat(Z.marginPercent)>=100){p(t("products.marginTooHigh"),"error");return}const be={...Z,unitPriceUSD:parseFloat(Z.unitPriceUSD)||0,alibabaFeeUSD:parseFloat(Z.alibabaFeeUSD)||0,exchangeRate:parseFloat(Z.exchangeRate)||1380,additionalFeesIQD:parseFloat(Z.additionalFeesIQD)||0,shippingToIraqIQD:parseFloat(Z.shippingToIraqIQD)||0,marginPercent:parseFloat(Z.marginPercent)||0,unitsSold:parseInt(Z.unitsSold)||0,stock:parseInt(Z.stock)||0,status:Kp(Z.stock),unitPrice:parseFloat(Z.unitPriceUSD)||0,price:Z.sellingPriceIQD||0,images:Z.images||[]};$?i({...be,_id:$._id}):r(be),_(!1)},Pt=({column:ae,label:be,border:Xe=!1})=>{const it=F.key===ae;return f.jsx("th",{onClick:()=>Ue(ae),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${Xe?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[be,it&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:F.direction==="ascending"?"":""})]})})};return f.jsxs(Nu,{title:t("products.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:St,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent hover:brightness-110 active:scale-95",children:[f.jsx(d0,{className:"w-5 h-5"}),f.jsx("span",{children:t("products.addProduct")})]}),f.jsxs("button",{onClick:()=>{if(we.length===0)return p(t("common.noDataToExport"),"info");UIe(we)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700 active:scale-95",children:[f.jsx(jg,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700 active:scale-95",children:[f.jsx(ex,{className:"w-4 h-4"}),f.jsx("span",{children:t("products.manageCategories")})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(b.length>0||S.length>0||y)&&f.jsx("button",{onClick:()=>{v(""),w([]),E([])},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(e_,{limit:j,onChange:O}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(jo,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:we.length})," ",t("products.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(_u,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:y,onChange:ae=>v(ae.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx(Qi,{title:t("products.categories"),options:q,selectedValues:b,onChange:w,icon:Wo,showProductCount:!0}),f.jsx(Qi,{title:t("products.status"),options:fe,selectedValues:S,onChange:E,icon:hr,showSearch:!1})]})]}),k&&f.jsx(DIe,{categories:s,products:n,onClose:()=>N(!1),onAdd:o,onUpdate:l,onDelete:c}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(Pt,{column:"name",label:t("products.table.product")}),f.jsx(Pt,{column:"category",label:t("products.table.category")}),f.jsx(Pt,{column:"stock",label:t("products.table.stock"),border:!0}),f.jsx(Pt,{column:"sellingPriceIQD",label:t("products.table.price"),border:!0}),f.jsx(Pt,{column:"status",label:t("products.table.status"),border:!0}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:d?Array.from({length:5}).map((ae,be)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Ge,{className:"w-12 h-12 rounded-xl"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ge,{className:"w-24 h-4"}),f.jsx(Ge,{className:"w-16 h-3"})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-20 h-6 rounded-lg"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-12 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-20 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-16 h-8 ms-auto rounded-lg"})})]},be)):we.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"text-center py-12 text-slate-400",children:[f.jsx(jo,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]})}):we.map(ae=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0 cursor-zoom-in hover:brightness-90 transition-all shadow-sm",onClick:()=>{V(ae),I(!0)},children:f.jsx(Ji,{src:ae.images&&ae.images[0]?typeof ae.images[0]=="string"?ae.images[0]:ae.images[0].url:ae.image||"https://via.placeholder.com/400x400?text=No+Image",alt:ae.name,className:"w-full h-full"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:ae.name}),f.jsx("p",{className:"text-xs font-mono text-slate-400 uppercase tracking-tighter",children:ae.sku})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-bold",children:ae.category})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:ae.stock})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(ae.sellingPriceIQD||ae.price||0)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(MC,{status:Kp(ae.stock)})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>$e(ae),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(ws,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>He(ae._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Aa,{className:"w-4 h-4"})})]})})]},ae._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:d?Array.from({length:3}).map((ae,be)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex gap-4",children:[f.jsx(Ge,{className:"w-16 h-16 rounded-xl flex-shrink-0"}),f.jsxs("div",{className:"flex-1 space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ge,{className:"w-32 h-4"}),f.jsx(Ge,{className:"w-20 h-3"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ge,{className:"w-16 h-4"}),f.jsx(Ge,{className:"w-12 h-3"})]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(Ge,{className:"w-20 h-3"}),f.jsx(Ge,{className:"w-16 h-8 rounded-lg"})]})]})]},be)):we.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(jo,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]}):we.map(ae=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0",children:f.jsx(Ji,{src:ae.images&&ae.images[0]?typeof ae.images[0]=="string"?ae.images[0]:ae.images[0].url:ae.image||"https://via.placeholder.com/400x400?text=No+Image",alt:ae.name,className:"w-full h-full"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:ae.name}),f.jsxs("p",{className:"text-xs text-slate-400",children:[ae.sku,"  ",f.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-slate-100 dark:bg-slate-700",children:ae.category})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(ae.sellingPriceIQD||ae.price||0)}),f.jsx("div",{className:"text-[10px] text-slate-400",children:Kp(ae.stock)})]})]}),f.jsxs("div",{className:"flex items-center justify-between mt-3",children:[f.jsxs("div",{className:"text-[11px] text-slate-600",children:[t("products.table.stock"),": ",f.jsx("span",{className:"font-bold",children:ae.stock})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>$e(ae),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(ws,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>He(ae._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Aa,{className:"w-4 h-4"})})]})]})]})]},ae._id))})]}),P&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/50 backdrop-blur-sm p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-2xl my-4 sm:my-8 animate-in fade-in zoom-in duration-200 flex flex-col relative max-h-[90vh]",children:[f.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-20 rounded-t-3xl",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:t($?"products.editProduct":"products.addProduct")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:$?`${t("products.sku")}: ${Z.sku}`:t("products.fillInfo")})]}),f.jsx("button",{onClick:()=>_(!1),className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-all",children:f.jsx(ii,{className:"w-6 h-6"})})]}),f.jsxs("form",{id:"productForm",onSubmit:vt,className:"overflow-y-auto p-6 space-y-8 custom-scrollbar relative",children:[f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.basicInfo")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productName")}),f.jsx("input",{required:!0,name:"name",value:Z.name,onChange:de,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.productNamePlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.sku")}),f.jsx("input",{required:!0,name:"sku",value:Z.sku,onChange:de,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.skuPlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.category")}),f.jsx(Ya,{title:t("products.form.selectCategory"),options:s.map(ae=>({value:ae,label:ae})),selectedValue:Z.category,onChange:ae=>_e(be=>({...be,category:ae})),icon:Wo,showSearch:!1,customAction:{label:t("products.form.createCategory"),icon:d0,onClick:()=>N(!0)}})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.stock")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"stock",value:Z.stock,onChange:de,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all shadow-sm"}),f.jsx("div",{className:"absolute end-3 top-1/2 -translate-y-1/2",children:f.jsx(MC,{status:Kp(Z.stock)})})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.alibabaSourcing")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productLink")}),f.jsx("input",{name:"alibabaProductLink",value:Z.alibabaProductLink,onChange:de,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.messageLink")}),f.jsx("input",{name:"alibabaMessageLink",value:Z.alibabaMessageLink,onChange:de,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.orderLink")}),f.jsx("input",{name:"alibabaOrderLink",value:Z.alibabaOrderLink,onChange:de,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaOrderNo")}),f.jsx("input",{name:"alibabaOrderNumber",value:Z.alibabaOrderNumber,onChange:de,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold shadow-sm",placeholder:"1234..."})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaNote")}),f.jsxs("div",{className:"relative",children:[f.jsx(MG,{className:"absolute start-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"alibabaNote",value:Z.alibabaNote,onChange:de,className:"w-full ps-10 pe-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[80px] resize-none",placeholder:t("products.form.notePlaceholder")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.costAndPricing")}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.unitPrice")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{required:!0,type:"number",step:"0.01",name:"unitPriceUSD",value:Z.unitPriceUSD,onChange:de,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaFee")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{type:"number",step:"0.01",name:"alibabaFeeUSD",value:Z.alibabaFeeUSD,onChange:de,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.exchangeRate")}),f.jsx("input",{required:!0,type:"number",name:"exchangeRate",value:Z.exchangeRate,onChange:de,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.margin")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"marginPercent",value:Z.marginPercent,onChange:de,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"}),f.jsx("span",{className:"absolute end-3 top-1/2 -translate-y-1/2 text-slate-400",children:"%"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.shippingIQD")}),f.jsx("input",{type:"number",name:"shippingToIraqIQD",value:Z.shippingToIraqIQD,onChange:de,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.otherFeesIQD")}),f.jsx("input",{type:"number",name:"additionalFeesIQD",value:Z.additionalFeesIQD,onChange:de,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costTotal")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(Z.costPriceIQD_total||0).toLocaleString()]})]}),f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costPerUnit")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(Z.costPriceIQD_perUnit||0).toLocaleString()]})]})]}),f.jsxs("div",{className:"col-span-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:t("products.form.recommendedPrice")}),f.jsxs("span",{className:"text-xl font-bold text-slate-600 dark:text-slate-400",children:["IQD ",(Z.recommendedSellingPriceIQD_perUnit||0).toLocaleString()]})]}),f.jsxs("div",{className:`p-4 rounded-2xl border-2 transition-all ${Z.isSellingPriceOverridden?"bg-orange-50 border-orange-200 dark:bg-orange-900/10 dark:border-orange-800/50":"bg-[var(--brand-color)]/5 border-[var(--brand-color)]/20"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-[var(--brand-color)] uppercase tracking-wider",children:t("products.form.finalPrice")}),Z.isSellingPriceOverridden&&f.jsxs("button",{type:"button",onClick:()=>_e(ae=>({...ae,isSellingPriceOverridden:!1})),className:"text-[10px] font-bold text-orange-600 hover:underline flex items-center gap-1",children:[f.jsx(ii,{className:"w-3 h-3"})," ",t("common.reset")]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg font-black text-[var(--brand-color)]",children:"IQD"}),f.jsx("input",{type:"number",name:"sellingPriceIQD",value:Z.sellingPriceIQD,onChange:de,onBlur:Ie,className:"w-full bg-transparent border-b-2 border-[var(--brand-color)] animate-pulse-slow outline-none text-2xl font-black text-[var(--brand-color)]"})]}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-medium italic",children:Z.isSellingPriceOverridden?t("products.form.manualOverride"):t("products.form.autoCalculated")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.profitAnalysis")}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-green-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:t("products.form.iqdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${Z.profitPerUnitIQD>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:[Z.profitPerUnitIQD>=0?"+":"-"," IQD ",Math.abs(Z.profitPerUnitIQD||0).toLocaleString()]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${Z.totalProfitIQD>=0?"text-green-500":"text-red-400"}`,children:["IQD ",(Z.totalProfitIQD||0).toLocaleString()]})]})]})]}),f.jsxs("div",{className:"p-4 bg-slate-900 dark:bg-slate-950 rounded-2xl border border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-blue-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:t("products.form.usdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${Z.profitPerUnitUSD>=0?"text-blue-500":"text-red-400"}`,children:[Z.profitPerUnitUSD>=0?"+":"-"," $",Math.abs(Z.profitPerUnitUSD||0).toFixed(2)]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${Z.totalProfitUSD>=0?"text-blue-400":"text-red-400"}`,children:["$",(Z.totalProfitUSD||0).toFixed(2)]})]})]})]}),f.jsxs("div",{className:"col-span-full p-4 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:f.jsx(hr,{className:"w-4 h-4 text-slate-500"})}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.qtyCalculation")}),f.jsx("span",{className:"text-xs font-medium text-slate-500 italic",children:t("products.form.unitsExpected")})]})]}),f.jsx("input",{type:"number",name:"unitsSold",value:Z.unitsSold,onChange:de,className:"w-24 text-right p-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg outline-none text-base font-black text-accent focus:ring-2 focus:ring-accent/20"})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.generalInfo")}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.description")}),f.jsxs("div",{className:"relative",children:[f.jsx(pR,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"description",value:Z.description,onChange:de,className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[120px] resize-none",placeholder:t("products.form.descriptionPlaceholder")})]})]})})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.gallery")}),f.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[Z.images.map((ae,be)=>f.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 group",children:[f.jsx(Ji,{src:ae,alt:"Product",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>Ye(be),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity transform hover:scale-110",children:f.jsx(ii,{className:"w-3 h-3"})})]},be)),f.jsxs("button",{type:"button",onClick:()=>{var ae;return(ae=W.current)==null?void 0:ae.click()},className:"aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400 hover:border-[var(--brand-color)] hover:text-[var(--brand-color)] transition-all hover:bg-slate-50 dark:hover:bg-slate-900 group",children:[f.jsx(BG,{className:"w-5 h-5 mb-1 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"text-[9px] font-black uppercase",children:t("products.form.addImage")})]})]}),f.jsx("input",{type:"file",ref:W,className:"hidden",onChange:bt,multiple:!0,accept:"image/*"})]}),f.jsx("div",{className:"h-20"})]}),f.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-end gap-3 sticky bottom-0 bg-white dark:bg-slate-800 rounded-b-2xl shadow-[0_-10px_20px_rgba(0,0,0,0.05)] z-20",children:[f.jsx("button",{type:"button",onClick:()=>_(!1),className:"order-2 sm:order-1 px-6 py-2.5 text-slate-500 dark:text-slate-400 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-all",children:t("common.cancel")}),f.jsxs("button",{type:"submit",form:"productForm",className:"order-1 sm:order-2 px-8 py-2.5 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 flex items-center justify-center gap-2",children:[f.jsx(tx,{className:"w-5 h-5"}),t($?"products.update":"products.create")]})]})]})}),A&&D&&f.jsx(gz,{product:D,onClose:()=>{I(!1),V(null)},onSave:async(ae,be=!1)=>{await i(ae),V(ae),be||(I(!1),V(null))}}),f.jsx($4,{isOpen:G,onClose:()=>{H(!1),ue(null)},onConfirm:Y,title:t("common.delete"),message:t("products.confirmDelete")})]})},yz=({title:t,options:e,selectedValue:n,onChange:r,icon:i})=>{var d;const{appearance:a}=Cn(),[s,o]=R.useState(!1),l=R.useRef(null);R.useEffect(()=>{const h=p=>{l.current&&!l.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const c=h=>{r(h),o(!1)},u=((d=e.find(h=>h.value===n))==null?void 0:d.label)||t;return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>o(!s),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${s?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(ex,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:u}),f.jsx(ml,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`})]}),s&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(a==null?void 0:a.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})})}),f.jsx("div",{className:"flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto",children:e.map(h=>{const p=n===h.value;return f.jsx("div",{onClick:()=>c(h.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${p?"bg-accent/10":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:f.jsx("span",{className:`text-sm font-semibold ${p?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:h.label})},h.value)})})]})})]})},$C=({order:t,onUpdate:e})=>{const[n,r]=R.useState(!1),i=B.useRef(null);B.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const{t:a}=Nr(),s=c=>{switch(c){case"Processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},o=c=>{c!==t.status&&e({...t,status:c}),r(!1)},l=c=>a(`common.status.${c.toLowerCase()}`,c);return f.jsxs("div",{className:"relative",ref:i,children:[f.jsxs("button",{onClick:()=>r(!n),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-all hover:brightness-95 active:scale-95 ${s(t.status)}`,children:[l(t.status),f.jsx("div",{className:`w-0 h-0 border-s-[3px] border-s-transparent border-t-[4px] border-t-current border-e-[3px] border-e-transparent opacity-50 ${document.dir==="rtl"?"me-1":"ms-1"}`})]}),n&&f.jsx("div",{className:`absolute top-full mt-1 w-32 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-100 dark:border-slate-700 py-1 z-50 animate-in fade-in zoom-in-95 duration-100 ${document.dir==="rtl"?"end-0":"start-0"}`,children:["Processing","Completed","Cancelled","Pending"].map(c=>f.jsx("button",{onClick:()=>o(c),className:`w-full text-start px-3 py-2 text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${t.status===c?"text-accent bg-slate-50 dark:bg-slate-700/30":"text-slate-600 dark:text-slate-300"}`,children:l(c)},c))})]})},qIe=()=>{var Ve,Je,Q,Oe,nt;const{t}=Nr(),{orders:e,products:n,customers:r,addOrder:i,updateOrder:a,deleteOrder:s,addCustomer:o,formatCurrency:l,brand:c,loading:u,appearance:d,addToast:h,setIsModalOpen:p}=Cn(),[g,x]=R.useState(""),[y,v]=R.useState(!1),[b,w]=R.useState(!1),[S,E]=R.useState(null),[P,_]=R.useState(null),[k,N]=R.useState(!1),[A,I]=R.useState(!1),[j,O]=R.useState(null);R.useEffect(()=>(p(y||b||A),()=>p(!1)),[y,b,A,p]);const[$,M]=R.useState(100),D=R.useMemo(()=>e.length===0?gw(new Date,30):e.reduce((z,ee)=>{try{const ne=ma(ee.date);return ne<z?ne:z}catch{return z}},new Date),[e]),V=R.useMemo(()=>({from:D,to:new Date}),[D]),[F,U]=R.useState(V),[W,G]=R.useState(!1);B.useEffect(()=>{!u&&e.length>0&&!W&&(U(V),G(!0))},[u,e.length,V,W]);const[H,te]=R.useState([]),[ue,me]=R.useState([]),[Z,_e]=R.useState([]),[Ce,se]=R.useState("date-new"),[ve,X]=R.useState({column:"date",direction:"desc"}),q=R.useMemo(()=>{const z={};return e.forEach(ee=>{var je;const ne=(je=ee.customer)==null?void 0:je.governorate;ne&&(z[ne]=(z[ne]||0)+1)}),e4.map(ee=>({value:ee,label:ee,count:z[ee]||0})).sort((ee,ne)=>ne.count-ee.count)},[e]),fe=R.useMemo(()=>{const z={};return e.forEach(ee=>{var je;const ne=(je=ee.customer)==null?void 0:je.social;ne&&(z[ne]=(z[ne]||0)+1)}),t4.map(ee=>({value:ee,label:ee,count:z[ee]||0})).sort((ee,ne)=>ne.count-ee.count)},[e]),Pe=R.useMemo(()=>{const z={};return e.forEach(ee=>{const ne=ee.status;ne&&(z[ne]=(z[ne]||0)+1)}),["Processing","Completed","Cancelled","Pending"].map(ee=>({value:ee,label:t(`common.status.${ee.toLowerCase()}`,ee),count:z[ee]||0}))},[e,t]),[ge,we]=R.useState({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0}),[Ue,St]=R.useState(""),[$e,He]=R.useState(1),Y=R.useMemo(()=>e.filter(ne=>{const je=g.toLowerCase(),at=ne.orderId.toLowerCase().includes(je)||ne.customer.name.toLowerCase().includes(je),ft=ma(ne.date),Gt=!(F!=null&&F.from)||!(F!=null&&F.to)||Ec(ft,{start:F.from,end:F.to}),qr=H.length===0||H.includes(ne.customer.governorate),yn=ue.length===0||ue.includes(ne.customer.social),kl=Z.length===0||Z.includes(ne.status);return at&&Gt&&qr&&yn&&kl}).sort((ne,je)=>{let at=0;return ve.column==="orderId"?at=ne.orderId.localeCompare(je.orderId):ve.column==="customer"?at=ne.customer.name.localeCompare(je.customer.name):ve.column==="date"?at=new Date(ne.date)-new Date(je.date):ve.column==="total"?at=ne.total-je.total:ve.column==="status"&&(at=ne.status.localeCompare(je.status)),ve.direction==="asc"?at:-at}).slice(0,$),[e,g,H,ue,Z,Ce,F,ve,$]),de=z=>{se(z),z==="date-new"?X({column:"date",direction:"desc"}):z==="date-old"?X({column:"date",direction:"asc"}):z==="total-high"?X({column:"total",direction:"desc"}):z==="total-low"?X({column:"total",direction:"asc"}):z==="name-asc"&&X({column:"customer",direction:"asc"})},Ie=()=>{if(!Ue)return;const z=n.find(yn=>yn._id===Ue);if(!z)return;const ee=parseInt($e),ne=e.find(yn=>yn._id===P),je=ne==null?void 0:ne.items.find(yn=>yn.product._id===z._id),at=je?je.quantity:0,ft=z.stock+at;if(ee>ft)return h(t("orders.stockError",{available:ft}),"error");const Gt=ge.items.findIndex(yn=>yn.product._id===z._id),qr=z.sellingPriceIQD||z.price||0;if(Gt>-1){const yn=[...ge.items],kl=yn[Gt].quantity+ee;if(kl>ft)return h(t("orders.limitReached",{available:ft}),"error");yn[Gt].quantity=kl,we(Pl=>({...Pl,items:yn}))}else we(yn=>({...yn,items:[...yn.items,{product:z,quantity:ee,price:qr}]}));He(1),St("")},bt=z=>{const ee=ge.items.filter((ne,je)=>je!==z);we(ne=>({...ne,items:ee}))},Ye=(z,ee)=>{const ne=[...ge.items];ne[z].price=parseFloat(ee||0),we(je=>({...je,items:ne}))},vt=(z,ee)=>{ge.items[z].product;const ne=parseInt(ee||0),je=[...ge.items];je[z].quantity=ne,we(at=>({...at,items:je}))},Pt=z=>z.reduce((ee,ne)=>ee+ne.price*ne.quantity,0),ae=()=>{const z=Pt(ge.items),ee=z*(ge.discount/100);let ne=z-ee;return ne=Math.ceil(ne/500)*500,ne},be=z=>{if(we(ee=>({...ee,customerId:z})),z==="new")we(ee=>({...ee,customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:""}));else if(z){const ee=r.find(ne=>ne._id===z);ee&&we(ne=>({...ne,customerName:ee.name,customerPhone:ee.phone,customerGender:ee.gender||"",customerAddress:ee.address,customerGovernorate:ee.governorate,customerSocial:ee.social}))}},Xe=z=>{w(!1),_(z._id);const ee=r.find(ne=>ne.name===z.customer.name&&ne.phone===z.customer.phone);we({customerId:ee?ee._id:"new",customerName:z.customer.name,customerPhone:z.customer.phone,customerGender:z.customer.gender||"",customerAddress:z.customer.address||"",customerGovernorate:z.customer.governorate||"",customerSocial:z.customer.social||"",customerNotes:z.notes||"",items:z.items,discount:z.discount||0}),v(!0)},it=z=>{E(z),w(!0)},fn=async()=>{if(ge.items.length===0)return h(t("orders.addItemsError"),"error");if(!ge.customerName||!ge.customerPhone)return h(t("orders.customerError"),"error");const z=e.find(ee=>ee._id===P);for(const ee of ge.items){const ne=n.find(Gt=>Gt._id===ee.product._id),je=z==null?void 0:z.items.find(Gt=>Gt.product._id===ee.product._id),at=je?je.quantity:0,ft=((ne==null?void 0:ne.stock)||0)+at;if(ee.quantity>ft)return h(t("orders.stockErrorWithName",{name:ee.product.name,available:ft}),"error")}N(!0);try{let ee={_id:ge.customerId!=="new"?ge.customerId:void 0,name:ge.customerName,phone:ge.customerPhone,gender:ge.customerGender,address:ge.customerAddress,governorate:ge.customerGovernorate,social:ge.customerSocial};if(ge.customerId==="new"){const ft=await o({...ee,email:""});ee._id=ft._id}const ne=Pt(ge.items),je=ae(),at={customer:ee,date:P&&z?z.date:new Date().toISOString(),total:je,subtotal:ne,discount:ge.discount,status:P&&z?z.status:"Processing",items:ge.items,notes:ge.customerNotes};if(P&&z)await a({...at,_id:P,orderId:z.orderId});else{const ft=await i(at);ft&&setTimeout(()=>{try{ie(ft)}catch(Gt){console.error("Print error:",Gt)}},800)}v(!1),_(null),we({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})}catch(ee){console.error("Order submission error:",ee),h(t("orders.errors.submitError",{message:ee.message||t("orders.errors.unknown")}),"error")}finally{N(!1)}},ie=z=>{const ee=window.open("","","width=600,height=800"),ne=document.dir==="rtl";ee.document.write(`
            <html dir="${ne?"rtl":"ltr"}">
                <head>
                    <title>${t("orders.receipt.title")}</title>
                    <style>
                        body { font-family: 'Cairo', 'Courier New', monospace; padding: 20px; font-size: 14px; direction: ${ne?"rtl":"ltr"}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .item { display: flex; justify-content: space-between; margin-bottom: 5px; }
                        .divider { border-top: 1px dashed black; margin: 10px 0; }
                        .totals { text-align: ${ne?"left":"right"}; margin-top: 10px; }
                        .total-row { display: flex; justify-content: space-between; font-weight: bold; margin-top: 5px; }
                        .discount { color: red; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>${t("orders.receipt.companyName")}</h2>
                        <p>${t("orders.receipt.address")}</p>
                        <p>${t("orders.receipt.order")}: ${z.orderId||"###"}</p>
                        <p>${z.date}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        <p><strong>${t("orders.receipt.customer")}:</strong> ${z.customer.name}</p>
                        <p><strong>${t("orders.receipt.phone")}:</strong> ${z.customer.phone||t("orders.receipt.na")}</p>
                        <p><strong>${t("orders.receipt.gov")}:</strong> ${z.customer.governorate||t("orders.receipt.na")}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        ${z.items.map(je=>`
                            <div class="item">
                                <span>${je.product.name} <br> <small>x${je.quantity} @ ${l(je.price)}</small></span>
                                <span>${l(je.price*je.quantity)}</span>
                            </div>
                        `).join("")}
                    </div>
                    <div class="divider"></div>
                    <div class="totals">
                        <div class="total-row" style="font-weight: normal;">
                            <span>${t("orders.receipt.subtotal")}:</span>
                            <span>${l(z.subtotal||z.total)}</span>
                        </div>
                        ${z.discount?`
                        <div class="total-row discount" style="font-weight: normal;">
                            <span>${t("orders.receipt.discount")} (${z.discount}%):</span>
                            <span>-${l((z.subtotal||z.total)-z.total)}</span>
                        </div>
                        `:""}
                        <div class="total-row" style="font-size: 18px; margin-top: 10px;">
                            <span>${t("orders.receipt.total")}:</span>
                            <span>${l(z.total)}</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <p>${t("orders.receipt.thankYou")}</p>
                        <p>${t("orders.receipt.noReturn")}</p>
                    </div>
                </body>
            </html>
        `),ee.document.close(),ee.print()},he=z=>{ve.column===z?X(ee=>({...ee,direction:ee.direction==="asc"?"desc":"asc"})):X({column:z,direction:"asc"})},Ee=({column:z,label:ee,border:ne=!1})=>{const je=ve.column===z;return f.jsx("th",{onClick:()=>he(z),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors select-none ${ne?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[ee,je&&f.jsx("span",{className:"text-accent font-bold",children:ve.direction==="asc"?"":""})]})})};return f.jsxs(Nu,{title:t("orders.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:()=>{v(!0),_(null),we({customerId:"new",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})},className:"flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(d0,{className:"w-5 h-5"}),f.jsx("span",{children:t("orders.createOrder")})]}),f.jsxs("button",{onClick:()=>{if(Y.length===0)return h(t("common.noDataToExport"),"info");FIe(Y)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(jg,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(H.length>0||Z.length>0||ue.length>0||g||((Ve=F.from)==null?void 0:Ve.getTime())!==((Je=V.from)==null?void 0:Je.getTime())||((Q=F.to)==null?void 0:Q.getTime())!==((Oe=V.to)==null?void 0:Oe.getTime()))&&f.jsx("button",{onClick:()=>{x(""),_e([]),te([]),me([]),U(V)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(e_,{limit:$,onChange:M}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(hr,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:Y.length})," ",t("orders.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(_u,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("orders.searchPlaceholder"),value:g,onChange:z=>x(z.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(yw,{range:F,onRangeChange:U,brandColor:c.color})}),f.jsx(Qi,{title:t("orders.status"),options:Pe,selectedValues:Z,onChange:_e,icon:hr,showSearch:!1}),f.jsx(Qi,{title:t("orders.governorate"),options:q,selectedValues:H,onChange:te,icon:Na,showSearch:!1}),f.jsx(Qi,{title:t("orders.socialMedia"),options:fe,selectedValues:ue,onChange:me,icon:bs,showSearch:!1}),f.jsx(yz,{title:t("common.sort"),options:[{value:"date-new",label:t("common.dateNew")},{value:"date-old",label:t("common.dateOld")},{value:"total-high",label:t("common.priceHigh")},{value:"total-low",label:t("common.priceLow")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:Ce,onChange:de})]})]}),f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[f.jsx(Ee,{column:"orderId",label:t("orders.table.orderId")}),f.jsx(Ee,{column:"customer",label:t("orders.table.customer")}),f.jsx(Ee,{column:"date",label:t("orders.table.date"),border:!0}),f.jsx(Ee,{column:"total",label:t("orders.table.total"),border:!0}),f.jsx(Ee,{column:"status",label:t("orders.table.status"),border:!0}),f.jsx("th",{className:"ps-6 pe-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:u?Array.from({length:5}).map((z,ee)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-20 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ge,{className:"w-32 h-5"}),f.jsx(Ge,{className:"w-24 h-3"})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-24 h-4"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-24 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(Ge,{className:"w-20 h-8 ms-auto rounded-lg"})})]},ee)):Y.map(z=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-[var(--brand-color)]",children:z.orderId}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:z.customer.name}),f.jsxs("span",{className:"text-xs text-slate-500 flex gap-1 items-center",children:[z.customer.governorate&&f.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1 rounded",children:z.customer.governorate}),z.customer.phone]})]})}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400 border-s dark:border-slate-700",children:z.date}),f.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-white border-s dark:border-slate-700",children:l(z.total)}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx($C,{order:z,onUpdate:a})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>it(z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"View Details",children:f.jsx(oE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Xe(z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"Edit Order",children:f.jsx(ws,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>ie(z),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Print Receipt",children:f.jsx(Xy,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{O(z._id),I(!0)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete Order",children:f.jsx(Aa,{className:"w-4 h-4"})})]})})]},z._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:u?f.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((z,ee)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ge,{className:"w-24 h-5"}),f.jsx(Ge,{className:"w-32 h-4"})]}),f.jsx(Ge,{className:"w-20 h-8 rounded-lg"})]}),f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx(Ge,{className:"w-24 h-3"}),f.jsx(Ge,{className:"w-24 h-6"})]})]},ee))}):Y.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(hr,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("orders.noOrders")||t("orders.title")})]}):Y.map(z=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black text-[var(--brand-color)]",children:z.orderId}),f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white",children:z.customer.name}),f.jsx("div",{className:"text-xs text-slate-400",children:z.date})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsx("div",{className:"font-black text-lg",children:l(z.total)}),f.jsx("div",{children:f.jsx($C,{order:z,onUpdate:a})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>it(z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(oE,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Xe(z),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(ws,{className:"w-4 h-4"})})]})]})]},z._id))})]}),y&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/60 backdrop-blur-md p-2 md:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-5xl my-4 sm:my-8 min-h-0 flex flex-col md:flex-row overflow-hidden animate-in fade-in zoom-in duration-300 relative max-h-[90vh]",children:[f.jsxs("div",{className:"flex-1 p-4 md:p-6 border-b md:border-b-0 md:border-e border-slate-100 dark:border-slate-700 flex flex-col min-h-0 overflow-y-auto lg:overflow-visible relative z-20",children:[f.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 pb-4 z-10 lg:static",children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Add Items"}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.searchProduct")}),f.jsx(Ya,{title:t("orders.chooseProduct"),options:n.filter(z=>z.stock>0).map(z=>({value:z._id,label:`${z.name} (${z.stock}) - ${l(z.price)}`})),selectedValue:Ue,onChange:St,icon:Wo,placeholder:t("orders.searchPlaceholder")})]}),f.jsxs("div",{className:"w-24",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.qty")}),f.jsx("input",{type:"number",min:"1",value:$e,onChange:z=>He(z.target.value),className:`w-full p-3 border-2 rounded-xl dark:bg-slate-900 dark:text-white outline-none text-center font-bold ${Ue&&parseInt($e)>(((nt=n.find(z=>z._id===Ue))==null?void 0:nt.stock)||0)?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-[var(--brand-color)]"}`})]}),f.jsx("button",{type:"button",onClick:Ie,disabled:!Ue||!$e,className:"h-[52px] px-6 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 disabled:opacity-50",children:f.jsx(d0,{className:"w-6 h-6"})})]})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto mt-6 space-y-3 custom-scrollbar min-h-[300px]",children:ge.items.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 dark:border-slate-700/50 rounded-3xl py-12",children:[f.jsx(hr,{className:"w-12 h-12 mb-2 opacity-20"}),f.jsx("p",{className:"font-bold",children:t("orders.cartEmpty")}),f.jsx("p",{className:"text-xs",children:t("orders.cartEmptySub")})]}):ge.items.map((z,ee)=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-700/50 group hover:border-indigo-500/50 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white dark:bg-slate-800 border dark:border-slate-700 shrink-0",children:f.jsx(Ji,{src:z.product.images&&z.product.images[0]?typeof z.product.images[0]=="string"?z.product.images[0]:z.product.images[0].url:"",alt:z.product.name||"Product image",className:"w-full h-full",imageClassName:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"text-sm font-black text-slate-800 dark:text-white truncate",children:z.product.name}),f.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.price")}),f.jsx("input",{type:"number",value:z.price,onChange:ne=>Ye(ee,ne.target.value),className:"w-24 p-1.5 text-xs font-black border-2 border-slate-100 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-colors focus:border-[var(--brand-color)]"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.qty")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"number",min:"1",value:z.quantity,onChange:ne=>vt(ee,ne.target.value),className:`w-16 p-1.5 text-xs font-black border-2 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-all text-center ${z.quantity>z.product.stock?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-indigo-500"}`}),z.quantity>z.product.stock&&f.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[8px] px-1.5 py-0.5 rounded font-black whitespace-nowrap animate-bounce",children:t("orders.onlyLeft",{count:z.product.stock})})]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t("orders.subtotal")}),f.jsx("span",{className:"text-sm font-black dark:text-white",children:l(z.price*z.quantity)})]}),f.jsx("button",{onClick:()=>bt(ee),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:f.jsx(Aa,{className:"w-4 h-4"})})]})]},ee))}),f.jsx("div",{className:"mt-8 pt-6 pb-8 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 sticky bottom-0",children:f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"font-bold text-slate-400 uppercase tracking-widest text-[10px]",children:t("orders.orderSubtotal")}),f.jsx("span",{className:"font-black dark:text-white text-lg",children:l(Pt(ge.items))})]}),f.jsxs("div",{className:"flex justify-between items-center p-3.5 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-2",children:[f.jsx(xR,{className:"w-4 h-4 text-accent"})," ",t("orders.applyDiscount")]}),f.jsx("div",{className:"w-48",children:f.jsx(Ya,{title:t("orders.noDiscount"),options:[0,5,10,15,20,30,40,50].map(z=>({value:z,label:z===0?t("orders.noDiscount"):t("orders.offDiscount",{percent:z})})),selectedValue:ge.discount,onChange:z=>we(ee=>({...ee,discount:z})),showSearch:!1,direction:"up"})})]}),f.jsxs("div",{className:"flex justify-between items-center pt-2",children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tighter text-sm",children:t("orders.grandTotal")}),f.jsx("span",{className:"font-black text-3xl text-accent",children:l(ae())})]})]})})]}),f.jsxs("div",{className:"w-full md:w-1/3 p-4 bg-slate-50 dark:bg-slate-900/50 flex flex-col min-h-0 border-t md:border-t-0 md:border-l border-slate-100 dark:border-slate-700 relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:t("orders.customerInfo")}),f.jsx("button",{onClick:()=>v(!1),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:f.jsx(ii,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-2 flex-1 overflow-y-auto pr-1 custom-scrollbar",children:[f.jsx("div",{className:"space-y-2",children:f.jsx(Ya,{title:t("orders.chooseCustomer"),options:r.map(z=>({value:z._id,label:z.name})),selectedValue:ge.customerId,onChange:be,icon:Ro,placeholder:t("orders.searchCustomers"),customAction:{label:t("orders.createNewCustomer"),icon:d0,onClick:()=>be("new")}})}),f.jsxs("div",{className:`space-y-2 transition-all duration-300 ${ge.customerId?"opacity-100 pointer-events-auto":"opacity-30 pointer-events-none grayscale"}`,children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.fullName")}),f.jsx("input",{placeholder:"e.g. Ahmed Ali",value:ge.customerName,onChange:z=>we({...ge,customerName:z.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:ge.customerId!=="new"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.phone")}),f.jsx("input",{placeholder:"07XX XXX XXXX",value:ge.customerPhone,onChange:z=>we({...ge,customerPhone:z.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:ge.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.gender")}),f.jsx(Ya,{title:t("common.select"),options:[{value:"Male",label:t("common.male")},{value:"Female",label:t("common.female")}],selectedValue:ge.customerGender,onChange:z=>we({...ge,customerGender:z}),showSearch:!1,disabled:ge.customerId!=="new"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.governorate")}),f.jsx(Ya,{title:t("common.select"),options:e4.map(z=>({value:z,label:z})),selectedValue:ge.customerGovernorate,onChange:z=>we({...ge,customerGovernorate:z}),icon:Na,showSearch:!1,disabled:ge.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.social")}),f.jsx(Ya,{title:t("common.select"),options:t4.map(z=>({value:z,label:z})),selectedValue:ge.customerSocial,onChange:z=>we({...ge,customerSocial:z}),icon:bs,showSearch:!1,disabled:ge.customerId!=="new"})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.shippingAddress")}),f.jsx("textarea",{placeholder:"House/District/Street...",value:ge.customerAddress,onChange:z=>we({...ge,customerAddress:z.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",disabled:ge.customerId!=="new",rows:"1"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.internalNotes")}),f.jsx("textarea",{placeholder:"Special instructions...",value:ge.customerNotes,onChange:z=>we({...ge,customerNotes:z.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",rows:"2"})]})]})]}),f.jsx("div",{className:"mt-auto pt-2 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:fn,disabled:k||ge.items.length===0||ge.items.some(z=>{const ee=n.find(ft=>ft._id===z.product._id),ne=e.find(ft=>ft._id===P),je=ne==null?void 0:ne.items.find(ft=>ft.product._id===z.product._id),at=je?je.quantity:0;return z.quantity>((ee==null?void 0:ee.stock)||0)+at}),className:"w-full py-3 bg-accent text-white rounded-2xl font-black shadow-accent active:scale-[0.98] transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",children:k?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(hr,{className:"w-5 h-5"}),t(P?"orders.updateOrder":"orders.saveOrder")]})})})]})]})}),b&&S&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/40 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative",children:[f.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Order Details"}),f.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:[S.orderId,"  ",S.date]})]}),f.jsx("button",{onClick:()=>w(!1),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(ii,{className:"w-6 h-6 text-slate-400"})})]}),f.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar flex-1 bg-slate-50 dark:bg-slate-900/50",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(Ro,{className:"w-3.5 h-3.5"}),"Customer Information"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black text-slate-900 dark:text-white",children:S.customer.name}),f.jsx("div",{className:"text-xs text-slate-500 font-bold",children:S.customer.phone})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx(Na,{className:"w-4 h-4 text-slate-300 mt-0.5 shrink-0"}),f.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:S.customer.governorate}),f.jsx("br",{}),S.customer.address]})]}),S.customer.social&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(bs,{className:"w-4 h-4 text-slate-300 shrink-0"}),f.jsx("span",{className:"text-[10px] font-black text-accent uppercase tracking-wider bg-accent/5 px-2 py-0.5 rounded-lg",children:S.customer.social})]})]})]}),S.notes&&f.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-6 rounded-3xl border border-amber-100 dark:border-amber-900/30",children:[f.jsx("h4",{className:"text-[11px] font-black text-amber-600 dark:text-amber-500 uppercase tracking-widest mb-2",children:"Order Notes"}),f.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 italic",children:['"',S.notes,'"']})]})]}),f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(Wo,{className:"w-3.5 h-3.5"}),"Items Summary"]}),f.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto custom-scrollbar pr-2",children:S.items.map((z,ee)=>f.jsxs("div",{className:"flex justify-between items-center p-3 rounded-2xl bg-slate-50 dark:bg-slate-900/50 border border-slate-100 dark:border-slate-800 group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"w-10 h-10 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center font-black text-xs text-accent border border-slate-100 dark:border-slate-700 shadow-sm",children:[z.quantity,""]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white line-clamp-1",children:z.product.name}),f.jsxs("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[l(z.price)," each"]})]})]}),f.jsx("span",{className:"text-sm font-black text-slate-900 dark:text-white whitespace-nowrap",children:l(z.price*z.quantity)})]},ee))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 space-y-3",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Subtotal"}),f.jsx("span",{className:"font-black text-slate-700 dark:text-slate-300",children:l(S.subtotal||S.total)})]}),S.discount>0&&f.jsxs("div",{className:"flex justify-between text-sm text-red-500",children:[f.jsxs("span",{className:"font-bold uppercase tracking-widest text-[10px]",children:["Discount ($",S.discount,"%)"]}),f.jsxs("span",{className:"font-black",children:["-",l((S.subtotal||S.total)-S.total)]})]}),f.jsxs("div",{className:"flex justify-between items-end pt-2",children:[f.jsx("span",{className:"text-slate-900 dark:text-white font-black uppercase tracking-tighter text-sm",children:"Final Total"}),f.jsx("span",{className:"text-2xl font-black text-accent",children:l(S.total)})]})]})]})})]})}),f.jsxs("div",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-700 flex justify-end items-center gap-3 bg-white dark:bg-slate-800",children:[f.jsxs("button",{onClick:()=>Xe(S),className:"px-6 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-95",children:[f.jsx(ws,{className:"w-4 h-4"}),"Edit Order"]}),f.jsxs("button",{onClick:()=>ie(S),className:"px-6 py-2.5 bg-green-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-green-700 shadow-lg shadow-green-600/20 transition-all active:scale-95",children:[f.jsx(Xy,{className:"w-4 h-4"}),"Print Receipt"]})]})]})}),f.jsx($4,{isOpen:A,onClose:()=>{I(!1),O(null)},onConfirm:()=>{j&&(s(j),I(!1),O(null))},title:t("common.delete"),message:t("orders.deleteConfirm")})]})},WIe=()=>{const{t}=Nr(),{customers:e,orders:n,addCustomer:r,updateCustomer:i,formatCurrency:a,brand:s,addToast:o,loading:l,appearance:c,setIsModalOpen:u}=Cn(),[d,h]=R.useState(""),[p,g]=R.useState([]),[x,y]=R.useState([]),[v,b]=R.useState(!1),[w,S]=R.useState(!1);R.useEffect(()=>(u(v||w),()=>u(!1)),[v,w,u]);const[E,P]=R.useState("orders-high"),_=R.useMemo(()=>e.length===0?gw(new Date,90):e.reduce((Y,de)=>{try{const Ie=de.createdOn?ma(de.createdOn):new Date;return Ie<Y?Ie:Y}catch{return Y}},new Date),[e]),k=R.useMemo(()=>({from:_,to:new Date}),[_]),[N,A]=R.useState(k),[I,j]=R.useState(!1);R.useEffect(()=>{e.length>0&&!I&&(A({from:_,to:new Date}),j(!0))},[e.length,I,_]);const[O,$]=R.useState(null),[M,D]=R.useState(null),[V,F]=R.useState(null),[U,W]=R.useState({column:"orders",direction:"desc"}),[G,H]=R.useState("table"),[te,ue]=R.useState(100),me=Y=>{U.column===Y?W(de=>({...de,direction:de.direction==="asc"?"desc":"asc"})):W({column:Y,direction:"asc"})},Z=({column:Y,label:de,border:Ie=!1})=>{const bt=U.column===Y;return f.jsx("th",{onClick:()=>me(Y),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${Ie?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[de,bt&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:U.direction==="asc"?"":""})]})})},[_e,Ce]=R.useState({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),se=R.useMemo(()=>{const Y={};return e.forEach(de=>{const Ie=de.governorate;Ie&&(Y[Ie]=(Y[Ie]||0)+1)}),e4.map(de=>({value:de,label:de,count:Y[de]||0})).sort((de,Ie)=>Ie.count-de.count)},[e]),ve=R.useMemo(()=>{const Y={};return e.forEach(de=>{const Ie=de.social;Ie&&(Y[Ie]=(Y[Ie]||0)+1)}),t4.map(de=>({value:de,label:de,count:Y[de]||0})).sort((de,Ie)=>Ie.count-de.count)},[e]),X=Y=>n.filter(de=>{var bt,Ye,vt;const Ie=e.find(Pt=>Pt._id===Y);return Ie?((bt=de.customer)==null?void 0:bt._id)===Y||((Ye=de.customer)==null?void 0:Ye.name)===Ie.name&&((vt=de.customer)==null?void 0:vt.phone)===Ie.phone:!1}),q=Y=>{const de=Y.createdOn||Y.createdAt;if(!de)return null;try{return typeof de=="string"?ma(de):de.toDate?de.toDate():new Date(de)}catch{return null}},fe=R.useMemo(()=>e.filter(Ie=>{const bt=Ie.name.toLowerCase().includes(d.toLowerCase())||Ie.phone.includes(d),Ye=q(Ie);let vt=!0;if(N!=null&&N.from&&(N!=null&&N.to)&&Ye){const be=l0(N.from),Xe=x3(N.to);vt=Ye>=be&&Ye<=Xe}const Pt=p.length===0||p.includes(Ie.governorate),ae=x.length===0||x.includes(Ie.social);return bt&&vt&&Pt&&ae}).sort((Ie,bt)=>{if(U.column==="name"){const Ye=Ie.name.toLowerCase(),vt=bt.name.toLowerCase();return U.direction==="asc"?Ye.localeCompare(vt):vt.localeCompare(Ye)}if(U.column==="orders"){const Ye=X(Ie._id).length,vt=X(bt._id).length;return U.direction==="asc"?Ye-vt:vt-Ye}if(U.column==="spent"){const Ye=X(Ie._id).reduce((Pt,ae)=>Pt+ae.total,0),vt=X(bt._id).reduce((Pt,ae)=>Pt+ae.total,0);return U.direction==="asc"?Ye-vt:vt-Ye}if(U.column==="governorate"){const Ye=(Ie.governorate||"").toLowerCase(),vt=(bt.governorate||"").toLowerCase();return U.direction==="asc"?Ye.localeCompare(vt):vt.localeCompare(Ye)}return 0}).slice(0,te),[e,d,p,x,E,U,n,N,te]),Pe=Y=>{P(Y),Y==="orders-high"?W({column:"orders",direction:"desc"}):Y==="orders-low"?W({column:"orders",direction:"asc"}):Y==="name-asc"?W({column:"name",direction:"asc"}):Y==="date-new"&&W({column:"orders",direction:"desc"})};R.useEffect(()=>{(()=>{try{window.innerWidth<640&&G==="table"&&H("card")}catch{}})();const de=()=>{window.innerWidth<640&&H("card")};return window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]);const ge=()=>{D(null),Ce({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),b(!0)},we=Y=>{D(Y),Ce(Y),b(!0)},Ue=Y=>{$(Y),S(!0),F(null)},St=Y=>{Y.preventDefault(),M?i({..._e,_id:M._id}):r(_e),b(!1)},$e=Y=>{const de=window.open("","_blank");de.document.write(`
            <html>
                <head>
                    <title>${t("customers.receipt.title")} ${Y.orderId}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; direction: ${document.dir}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .order-info { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { text-align: ${document.dir==="rtl"?"right":"left"}; padding: 8px; border-bottom: 1px solid #eee; }
                        .total { text-align: ${document.dir==="rtl"?"left":"right"}; font-weight: bold; font-size: 1.2em; margin-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>${t("customers.receipt.title")}</h1>
                        <h3>${Y.orderId}</h3>
                    </div>
                    <div class="order-info">
                        <p><strong>${t("customers.receipt.customer")}:</strong> ${Y.customer.name}</p>
                        <p><strong>${t("customers.receipt.date")}:</strong> ${Y.date}</p>
                        <p><strong>${t("customers.receipt.status")}:</strong> ${Y.status}</p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>${t("customers.receipt.item")}</th>
                                <th>${t("customers.receipt.qty")}</th>
                                <th>${t("customers.receipt.price")}</th>
                                <th>${t("customers.receipt.total")}</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${Y.items.map(Ie=>`
                                <tr>
                                    <td>${Ie.product.name}</td>
                                    <td>${Ie.quantity}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Ie.price)}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Ie.price*Ie.quantity)}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="total">
                        ${t("customers.receipt.total")}: ${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Y.total)}
                    </div>
                    <script>window.onload = function() { window.print(); window.close(); }<\/script>
                </body>
            </html>
        `),de.document.close()},He=Y=>{switch(Y==null?void 0:Y.toLowerCase()){case"facebook":return f.jsx(TG,{className:"w-4 h-4"});case"instagram":return f.jsx(NG,{className:"w-4 h-4"});case"twitter":return f.jsx(UG,{className:"w-4 h-4"});case"tiktok":return f.jsx("div",{className:"w-4 h-4 font-bold text-xs flex items-center justify-center",children:"TT"});case"whatsapp":return f.jsx(RG,{className:"w-4 h-4"});default:return f.jsx(bs,{className:"w-4 h-4"})}};return f.jsxs(Nu,{title:t("customers.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:ge,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(d0,{className:"w-5 h-5"}),f.jsx("span",{children:t("customers.addCustomer")})]}),f.jsxs("button",{onClick:()=>{if(fe.length===0)return o(t("customers.noMatch"),"info");VIe(fe)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(jg,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl border border-slate-200 dark:border-slate-600 ms-2",children:[f.jsx("button",{onClick:()=>H("table"),className:`p-1.5 rounded-lg transition-all ${G==="table"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:"Table View",children:f.jsx(mR,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>H("card"),className:`p-1.5 rounded-lg transition-all ${G==="card"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:t("customers.viewCard"),children:f.jsx(IG,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(p.length>0||x.length>0||d||!rc(N.from,k.from)||!rc(N.to,k.to))&&f.jsx("button",{onClick:()=>{h(""),g([]),y([]),A(k)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(e_,{limit:te,onChange:ue}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Ro,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:fe.length})," ",t("customers.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(_u,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("customers.searchPlaceholder"),value:d,onChange:Y=>h(Y.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-slate-50 dark:bg-slate-900/50 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-blue-200 dark:focus:border-blue-800 focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold text-sm dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(yw,{range:N,onRangeChange:A,brandColor:s.color})}),f.jsx(Qi,{title:t("customers.form.governorate"),options:se,selectedValues:p,onChange:g,icon:Na,showSearch:!1}),f.jsx(Qi,{title:t("customers.social"),options:ve,selectedValues:x,onChange:y,icon:bs,showSearch:!1}),f.jsx(yz,{title:t("common.sort"),options:[{value:"orders-high",label:t("common.priceHigh")},{value:"orders-low",label:t("common.priceLow")},{value:"date-new",label:t("common.dateNew")},{value:"name-asc",label:t("common.nameAZ")}].map(Y=>({...Y,label:Y.value==="orders-high"?t("customers.totalSpent")+" (High)":Y.value==="orders-low"?t("customers.totalSpent")+" (Low)":Y.label})),selectedValue:E,onChange:Pe})]})]}),G==="table"?f.jsx("div",{className:`rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(Z,{column:"name",label:t("customers.name")}),f.jsx(Z,{column:"governorate",label:t("customers.location"),border:!0}),f.jsx(Z,{column:"orders",label:t("customers.orders"),border:!0}),f.jsx(Z,{column:"spent",label:t("customers.totalSpent"),border:!0}),f.jsx("th",{className:"px-6 py-4 border-s dark:border-slate-700 select-none",children:t("customers.createdOn")}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("customers.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:l?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-12",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/3 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]})})}):fe.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400",children:[f.jsx(Ro,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("customers.noData")})]})}):fe.map(Y=>{const de=X(Y._id),Ie=de.reduce((bt,Ye)=>bt+Ye.total,0);return f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-bold text-lg border border-slate-100 dark:border-slate-800 shadow-sm",children:Y.name.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:Y.name}),f.jsx("p",{className:"text-xs text-slate-400",children:Y.phone})]})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:Y.governorate}),f.jsx("span",{className:"text-[11px] text-slate-400 line-clamp-1",children:Y.address})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-xl text-xs font-black inline-flex transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[f.jsx(hr,{className:"w-3.5 h-3.5"}),de.length]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:a(Ie)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-xs font-bold text-slate-500 whitespace-nowrap",children:q(Y)?gi(q(Y),"MMM dd, yyyy"):t("orders.receipt.na")})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>Ue(Y),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Order History",children:f.jsx(hr,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>we(Y),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Edit",children:f.jsx(ws,{className:"w-4 h-4"})})]})})]},Y._id)})})]})})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in duration-500",children:l?[1,2,3].map(Y=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:[f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 animate-pulse mb-4"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse mb-2"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]},Y)):fe.length===0?f.jsxs("div",{className:"col-span-full py-20 text-center bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700",children:[f.jsx(Ro,{className:"w-16 h-16 mx-auto mb-4 text-slate-200"}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-sm",children:t("customers.noMatch")})]}):fe.map(Y=>{const de=X(Y._id),Ie=de.reduce((bt,Ye)=>bt+Ye.total,0);return f.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group overflow-hidden flex flex-col h-full ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:f.jsxs("div",{className:"p-6 flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-black text-xl border border-slate-100 dark:border-slate-800 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900 transition-colors",children:Y.name.charAt(0)}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>Ue(Y),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Order History",children:f.jsx(hr,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>we(Y),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Edit Profile",children:f.jsx(ws,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg mb-2 truncate",children:Y.name}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[f.jsx(hr,{className:"w-3 h-3"}),de.length," ",de.length===1?t("customers.receipt.order"):t("customers.orders")]}),f.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:a(Ie)})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:f.jsx(LG,{className:"w-4 h-4 text-slate-400"})}),f.jsx("span",{className:"font-bold",children:Y.phone||"No phone"})]}),f.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0 mt-0.5",children:f.jsx(Na,{className:"w-4 h-4 text-slate-400"})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-xs",children:Y.governorate}),f.jsx("span",{className:"text-[10px] text-slate-400 line-clamp-1",children:Y.address})]})]}),Y.social&&f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:He(Y.social)}),f.jsx("span",{className:"text-[10px] font-black uppercase text-blue-500 tracking-wider",children:Y.social})]})]})]})},Y._id)})}),v&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/80 backdrop-blur-md p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-md my-4 sm:my-8 flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 relative ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{className:`px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 z-10 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white",children:t(M?"customers.form.edit":"customers.form.new")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:t("customers.form.sub")})]}),f.jsx("button",{onClick:()=>b(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(ii,{className:"w-5 h-5 text-slate-400"})})]}),f.jsx("div",{className:"p-5 overflow-y-auto custom-scrollbar",children:f.jsx("form",{id:"customer-form",onSubmit:St,className:"space-y-4",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.fullName")}),f.jsx("input",{required:!0,placeholder:"Ahmed Ali",value:_e.name,onChange:Y=>Ce({..._e,name:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.phone")}),f.jsx("input",{required:!0,placeholder:"07XX XXX XXXX",value:_e.phone,onChange:Y=>Ce({..._e,phone:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.email")}),f.jsx("input",{placeholder:"customer@example.com",type:"email",value:_e.email,onChange:Y=>Ce({..._e,email:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.governorate")}),f.jsx(Ya,{title:t("common.select"),options:e4.map(Y=>({value:Y,label:Y})),selectedValue:_e.governorate,onChange:Y=>Ce(de=>({...de,governorate:Y})),icon:Na,showSearch:!1})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.channel")}),f.jsx(Ya,{title:t("common.select"),options:t4.map(Y=>({value:Y,label:Y})),selectedValue:_e.social,onChange:Y=>Ce(de=>({...de,social:Y})),icon:bs,showSearch:!1})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.shippingAddress")}),f.jsx("textarea",{rows:"2",placeholder:"Street name, landmark, house number...",value:_e.address,onChange:Y=>Ce({..._e,address:Y.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold resize-none placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]})})}),f.jsx("div",{className:`p-6 pt-0 mt-auto border-t border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-3 border-2 border-slate-100 dark:border-slate-800 rounded-2xl font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:t("common.cancel")}),f.jsx("button",{onClick:()=>document.getElementById("customer-form").requestSubmit(),className:"flex-2 py-3 text-white rounded-2xl font-black transition-all active:scale-95 bg-accent shadow-accent hover:brightness-110 flex-[2]",children:t(M?"customers.form.save":"customers.form.register")})]})})]})}),w&&O&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in slide-in-from-bottom-8 duration-500 ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:`px-10 py-8 border-b border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:f.jsx(hr,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t("customers.history.title")})]}),f.jsxs("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-[0.2em] ms-13",children:[t("customers.receipt.customer"),": ",f.jsx("span",{className:"text-[var(--brand-color)]",children:O.name})]})]}),f.jsx("button",{onClick:()=>S(!1),className:"w-12 h-12 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(ii,{className:"w-8 h-8 text-slate-400"})})]})}),f.jsx("div",{className:"p-10 overflow-y-auto custom-scrollbar bg-slate-50 dark:bg-slate-900/50",children:X(O._id).length===0?f.jsxs("div",{className:"text-center py-24",children:[f.jsx("div",{className:"w-24 h-24 bg-white dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-6 text-slate-200",children:f.jsx(hr,{className:"w-12 h-12"})}),f.jsx("h4",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:t("customers.history.noRecords")})]}):f.jsx("div",{className:"space-y-4",children:X(O._id).map(Y=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[28px] border-2 border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden transition-all hover:shadow-xl hover:border-accent group",children:[f.jsxs("div",{className:"p-6 flex items-center justify-between cursor-pointer",onClick:()=>F(V===Y._id?null:Y._id),children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-14 h-14 bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center text-[var(--brand-color)] group-hover:bg-[var(--brand-color)] group-hover:text-white transition-all",children:f.jsx(hr,{className:"w-7 h-7"})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-lg",children:Y.orderId}),f.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:Y.date})]})]}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"text-end",children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-xl",children:a(Y.total)}),f.jsx("div",{className:`text-[10px] font-black uppercase px-2.5 py-1 rounded-lg inline-block mt-1 ${Y.status==="Completed"?"bg-emerald-50 text-emerald-600 border border-emerald-100":Y.status==="Processing"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-slate-50 text-slate-600 border border-slate-100"}`,children:Y.status})]}),f.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-transform ${V===Y._id?"rotate-180":"bg-slate-50 dark:bg-slate-900 text-slate-300"}`,style:V===Y._id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:f.jsx(ml,{className:"w-6 h-6"})})]})]}),V===Y._id&&f.jsxs("div",{className:"px-8 pb-8 pt-0 border-t border-slate-50 dark:border-slate-800 animate-in slide-in-from-top-4 duration-300",children:[f.jsx("div",{className:"grid grid-cols-1 gap-3 mt-6",children:Y.items.map((de,Ie)=>f.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-900/80 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center font-black text-sm text-[var(--brand-color)] border border-slate-100 dark:border-slate-700 shadow-sm",children:[de.quantity,""]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white block text-sm",children:de.product.name}),f.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a(de.price)," ",t("common.perUnit")]})]})]}),f.jsx("span",{className:"font-black text-slate-900 dark:text-white",children:a(de.price*de.quantity)})]},Ie))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.paymentMethod")}),f.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:t("common.cashOnDelivery")})]}),f.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.itemsCount")}),f.jsxs("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:[Y.items.length," ",t("customers.receipt.item")]})]})]}),f.jsxs("button",{onClick:de=>{de.stopPropagation(),$e(Y)},className:"flex items-center gap-2 px-8 py-4 bg-slate-900 dark:bg-slate-700 text-white rounded-2xl font-black text-sm transition-all shadow-xl active:scale-95 hover:brightness-125 hover:shadow-2xl",children:[f.jsx(Xy,{className:"w-5 h-5"}),t("customers.history.printThermal")]})]})]})]},Y._id))})})]})})]})},HIe=()=>{const{t}=Nr(),{products:e,updateProduct:n,loading:r,isDesktop:i,isOnline:a,addToast:s,setIsModalOpen:o}=Cn(),[l,c]=R.useState(null),[u,d]=R.useState("");R.useEffect(()=>(o(!!l),()=>o(!1)),[l,o]);const h=v=>{c(v)},p=()=>{c(null)},g=async(v,b=!1)=>{await n(v),b||c(null)},x=async v=>{if(i&&!a)return s("Image upload is disabled while offline. Reconnect and try again.","warning"),[];const b=await Promise.all(v.map(async w=>w.url?w:new Promise(S=>{const E=new FileReader;E.onloadend=()=>S({url:E.result,name:w.name}),E.readAsDataURL(w)})));if(l){const w=[...l.images||[],...b],S={...l,images:w};c(S),await n(S)}return b},y=e.filter(v=>{var b;return v.name.toLowerCase().includes(u.toLowerCase())||((b=v.sku)==null?void 0:b.toLowerCase().includes(u.toLowerCase()))});return f.jsxs(Nu,{title:t("productPicture.title"),children:[f.jsx("div",{className:"sticky top-0 z-40 bg-slate-50/90 dark:bg-slate-900/95 backdrop-blur-xl -mx-4 md:-mx-8 px-4 md:px-8 py-4 mb-8 border-b border-slate-200/50 dark:border-slate-700/50 flex flex-col md:flex-row items-center justify-start gap-4",children:f.jsxs("div",{className:"relative w-full md:w-96",children:[f.jsx(_u,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:u,onChange:v=>d(v.target.value),className:"w-full ps-10 pe-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl text-sm font-bold focus:ring-2 focus:ring-accent outline-none transition-all shadow-sm"})]})}),r?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((v,b)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsx(Ge,{className:"aspect-[4/5] w-full rounded-2xl mb-4"}),f.jsxs("div",{className:"px-1 space-y-2",children:[f.jsx(Ge,{className:"h-5 w-3/4 rounded-lg"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(Ge,{className:"h-4 w-16"}),f.jsx(Ge,{className:"h-4 w-12"})]})]})]},b))}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(v=>{const b=v.images&&v.images[0]?typeof v.images[0]=="string"?v.images[0]:v.images[0].url:v.image||"https://via.placeholder.com/400x400?text=No+Image";return f.jsxs("div",{onClick:()=>h(v),className:"group bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-accent",children:[f.jsxs("div",{className:"aspect-[4/5] w-full rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 relative",children:[f.jsx(Ji,{src:b,alt:v.name,className:"w-full h-full",imageClassName:"transition-transform duration-700 group-hover:scale-110"}),v.stock<=5&&f.jsx("div",{className:"absolute top-3 start-3 bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-md shadow-md",children:t("products.stockStatus.lowStock")}),f.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),f.jsxs("div",{className:"mt-4 px-1",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white truncate text-base mb-1 group-hover:text-accent transition-colors",children:v.name}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs font-mono font-bold text-slate-400 uppercase tracking-wider",children:v.sku||"NO-SKU"}),f.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 rounded-lg",children:v.category||"General"})]})]})]},v._id||v.id)})}),y.length===0&&!r&&f.jsxs("div",{className:"text-center py-20 text-slate-400",children:[f.jsx(jo,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),f.jsx("p",{children:t("productPicture.noProducts")})]}),l&&f.jsx(gz,{product:l,onClose:p,onSave:g,onUpload:x})]})},GIe=({image:t,onCrop:e,onClose:n,aspect:r=1})=>{const[i,a]=R.useState(1),[s,o]=R.useState(0),[l,c]=R.useState({x:0,y:0}),[u,d]=R.useState(!1),[h,p]=R.useState({x:0,y:0}),[g,x]=R.useState({width:0,height:0}),y=320,v=512,b=r===1,w=R.useRef(null);R.useRef(null),R.useEffect(()=>{a(1),o(0),c({x:0,y:0})},[t]);const S=A=>{const{naturalWidth:I,naturalHeight:j}=A.currentTarget;x({width:I,height:j}),a(1)},E=A=>{d(!0),p({x:A.clientX-l.x,y:A.clientY-l.y})},P=A=>{u&&(A.preventDefault(),c({x:A.clientX-h.x,y:A.clientY-h.y}))},_=()=>{d(!1)},k=()=>{const A=document.createElement("canvas"),I=A.getContext("2d"),j=w.current;A.width=v,A.height=v/r,I.clearRect(0,0,A.width,A.height),I.save();const O=v/y;if(I.translate(A.width/2,A.height/2),b){const V=Math.min(A.width,A.height)/2;I.beginPath(),I.arc(0,0,V,0,Math.PI*2),I.closePath(),I.clip()}I.translate(l.x*O,l.y*O),I.rotate(s*Math.PI/180);const $=i*O;I.scale($,$);const M=j.naturalWidth,D=j.naturalHeight;return I.imageSmoothingEnabled=!0,I.imageSmoothingQuality="high",I.drawImage(j,-M/2,-D/2,M,D),I.restore(),A.toDataURL("image/png",1)},N=()=>{const A=k();e(A)};return f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800",children:[f.jsxs("div",{className:"px-8 py-5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900 z-20",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(jo,{className:"w-6 h-6 text-accent"})," Editor Studio"]}),f.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-wider",children:"Customize your brand identity"})]}),f.jsx("button",{onClick:n,className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx(ii,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[f.jsxs("div",{className:"flex-1 relative bg-slate-100 dark:bg-slate-950 overflow-hidden flex items-center justify-center cursor-move select-none",style:{backgroundImage:"linear-gradient(45deg, #e5e7eb 25%, transparent 25%), linear-gradient(-45deg, #e5e7eb 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #e5e7eb 75%), linear-gradient(-45deg, transparent 75% , #e5e7eb 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"},onMouseDown:E,onMouseMove:P,onMouseUp:_,onMouseLeave:_,children:[f.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none z-0"}),f.jsxs("div",{className:`relative z-10 border-2 border-white/80 shadow-[0_0_0_9999px_rgba(0,0,0,0.7)] overflow-visible ${b?"rounded-full":"rounded-xl"}`,style:{width:y,height:y/r,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)"},children:[f.jsxs("div",{className:`absolute inset-0 grid grid-cols-3 grid-rows-3 pointer-events-none opacity-50 ${b?"rounded-full overflow-hidden":""}`,children:[f.jsx("div",{className:"border-r border-white/30 h-full col-start-2"}),f.jsx("div",{className:"border-r border-white/30 h-full col-start-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-2 col-span-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-3 col-span-3"})]}),!b&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute -top-1 -left-1 w-4 h-4 border-t-4 border-l-4 border-white rounded-tl-sm shadow-sm"}),f.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 border-t-4 border-r-4 border-white rounded-tr-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 border-b-4 border-l-4 border-white rounded-bl-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 border-b-4 border-r-4 border-white rounded-br-sm shadow-sm"})]})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none overflow-hidden",children:f.jsx("img",{ref:w,src:t,alt:"To crop",onLoad:S,draggable:!1,className:"max-none transition-transform duration-75 origin-center will-change-transform",style:{transform:`translate(${l.x}px, ${l.y}px) rotate(${s}deg) scale(${i})`}})})]}),f.jsxs("div",{className:"w-full lg:w-80 bg-white dark:bg-slate-900 border-s border-slate-100 dark:border-slate-800 p-6 flex flex-col z-20 shadow-xl",children:[f.jsxs("div",{className:"space-y-8 flex-1 overflow-y-auto custom-scrollbar",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:"Zoom & Scale"}),f.jsxs("span",{className:"font-mono text-accent",children:[Math.round(i*100),"%"]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>a(A=>Math.max(.1,A-.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(WG,{className:"w-5 h-5 text-slate-400"})}),f.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.01",value:i,onChange:A=>a(parseFloat(A.target.value)),className:"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-accent"}),f.jsx("button",{onClick:()=>a(A=>Math.min(3,A+.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(qG,{className:"w-5 h-5 text-slate-400"})})]})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Orientation"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>o(A=>A-90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(uE,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"-90"})]}),f.jsxs("button",{onClick:()=>o(A=>A+90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(uE,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors scale-x-[-1]"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"+90"})]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 text-center",children:f.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["Current Rotation: ",s,""]})})]})]}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800 flex flex-col gap-3",children:[f.jsxs("button",{onClick:N,className:"w-full py-4 bg-accent text-white font-black rounded-2xl shadow-accent shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-3 hover:brightness-110",children:[f.jsx(dR,{className:"w-5 h-5"}),"Apply Changes"]}),f.jsx("button",{onClick:n,className:"w-full py-3 text-slate-500 hover:text-slate-800 dark:hover:text-white font-bold transition-colors",children:"Cancel"})]})]})]})]})})},KIe=()=>{var Ve,Je;const{t}=Nr(),{theme:e,toggleTheme:n,appearance:r,setAppearance:i,users:a,addUser:s,updateUser:o,deleteUser:l,currentUser:c,updateUserProfile:u,brand:d,updateBrand:h,addToast:p,language:g,changeLanguage:x,isDesktop:y,isOnline:v,pendingSyncCount:b,syncNow:w,desktopOfflineModeEnabled:S,setDesktopOfflineModeEnabled:E,conflicts:P}=Cn(),{user:_,updateAuthProfile:k,changeAuthPassword:N}=x4(),[A,I]=R.useState("general"),[j,O]=bG(),[$,M]=R.useState(!1),[D,V]=R.useState(!1),[F,U]=R.useState(null),[W,G]=R.useState(!1),[H,te]=R.useState(null),[ue,me]=R.useState(null),[Z,_e]=R.useState(null),[Ce,se]=R.useState((_==null?void 0:_.displayName)||""),[ve,X]=R.useState(!1),[q,fe]=R.useState({currentPassword:"",newPassword:"",confirmPassword:""});R.useEffect(()=>{_&&se(_.displayName||"")},[_]),R.useEffect(()=>{const Q=j.get("tab");if(!Q){O({tab:"general"},{replace:!0});return}["general","appearance","branding","users","account"].includes(Q)&&I(Q)},[j,O]);const Pe=_!=null&&_.email?_.email.split("@")[0]:"",ge=(c==null?void 0:c.photoURL)||(_==null?void 0:_.photoURL)||"",we=Q=>{I(Q),O({tab:Q})},Ue=async()=>{try{await k({displayName:Ce.trim()}),X(!1),p("Profile updated successfully!","success")}catch(Q){console.error("Profile update error:",Q),p("Failed to update profile.","error")}},St=Q=>{const Oe=Q.target.files[0];if(Oe){if(Oe.size>3*1024*1024)return p("Avatar too large. Max 3MB.","error");const nt=new FileReader;nt.onloadend=()=>{me(nt.result),_e("avatar")},nt.readAsDataURL(Oe)}},[$e,He]=R.useState({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,hideHeader:d.hideHeader||!1});R.useEffect(()=>{He({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,hideHeader:d.hideHeader||!1})},[d]);const Y=async()=>{try{const Q=await Ie($e);await h(Q),He(Q),p("Branding settings saved successfully!","success")}catch(Q){console.error("Branding save error:",Q),p("Failed to save branding settings.","error")}},de=(Q,Oe,nt=.85)=>new Promise((z,ee)=>{if(!Q){z(Q);return}const ne=new Image;ne.onload=()=>{const je=Math.min(1,Oe/Math.max(ne.width,ne.height)),at=Math.max(1,Math.round(ne.width*je)),ft=Math.max(1,Math.round(ne.height*je)),Gt=document.createElement("canvas");Gt.width=at,Gt.height=ft,Gt.getContext("2d").drawImage(ne,0,0,at,ft),z(Gt.toDataURL("image/jpeg",nt))},ne.onerror=()=>ee(new Error("Image processing failed")),ne.src=Q}),Ie=async Q=>{const[Oe,nt]=await Promise.all([de(Q.logo,384,.82),de(Q.favicon,96,.8)]);return{...Q,logo:Oe,favicon:nt}},bt=Q=>{const Oe=Q.target.files[0];if(Oe){if(Oe.size>3*1024*1024)return p("File too large. Max 3MB.","error");const nt=new FileReader;nt.onloadend=()=>{me(nt.result),_e("logo")},nt.readAsDataURL(Oe)}},Ye=Q=>{const Oe=Q.target.files[0];if(Oe){if(Oe.size>512*1024)return p("Favicon too large. Max 512KB.","error");const nt=new FileReader;nt.onloadend=async()=>{try{const z=await de(nt.result,96,.8);He(ee=>({...ee,favicon:z})),p("Favicon updated (preview). Save to persist.","success")}catch{p("Failed to process favicon image.","error")}},nt.readAsDataURL(Oe)}},vt=async Q=>{if(Z==="avatar")try{await u({photoURL:Q}),p("Avatar updated successfully!","success")}catch(Oe){console.error("Avatar update error:",Oe),p(`Failed to update avatar (${(Oe==null?void 0:Oe.code)||"unknown"}).`,"error")}else Z==="logo"&&(He(Oe=>({...Oe,logo:Q})),p("Logo updated successfully!","success"));me(null),_e(null)},Pt=(Q,Oe)=>{fe(nt=>({...nt,[Q]:Oe}))},ae=async Q=>{Q.preventDefault();const{currentPassword:Oe,newPassword:nt,confirmPassword:z}=q;if(nt!==z){p("New passwords do not match.","error");return}if(nt.length<6){p("Password must be at least 6 characters.","error");return}try{await N(Oe,nt),p(t("settings.toasts.passwordChanged"),"success"),V(!1),fe({currentPassword:"",newPassword:"",confirmPassword:""})}catch(ee){console.error("Password change error:",ee),p("Failed to change password. Please verify your current password.","error")}},[be,Xe]=R.useState({username:"",email:"",role:"Staff",password:"",displayName:""}),it=()=>{U(null),Xe({username:"",email:"",role:"Staff",password:"",displayName:""}),M(!0)},fn=Q=>{U(Q),Xe({...Q,password:""}),M(!0)},ie=async Q=>{Q.preventDefault();try{F?(await o({...be,_id:F._id}),p("User updated successfully!","success")):(await s({...be}),p("User created successfully!","success")),M(!1)}catch(Oe){console.error("User management error:",Oe),p("Failed to save user.","error")}},he=async Q=>{te(Q),G(!0)},Ee=async()=>{if(H)try{await l(H),p("User deleted successfully.","success")}catch{p("Failed to delete user.","error")}finally{G(!1),te(null)}};return f.jsxs(Nu,{title:"Settings",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsx("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>we("general"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="general"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(yR,{className:"w-5 h-5"}),t("settings.general")]}),f.jsxs("button",{onClick:()=>we("appearance"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="appearance"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(cE,{className:"w-5 h-5"}),t("settings.appearance")]}),f.jsxs("button",{onClick:()=>we("branding"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="branding"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(FG,{className:"w-5 h-5"}),t("settings.branding")]}),f.jsxs("button",{onClick:()=>we("account"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="account"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(Ro,{className:"w-5 h-5"}),t("settings.account")]}),f.jsxs("button",{onClick:()=>we("users"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${A==="users"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(nx,{className:"w-5 h-5"}),t("settings.users")]})]})}),f.jsxs("div",{className:"flex-1",children:[A==="general"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.general")}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[f.jsx(bs,{className:"w-4 h-4 text-accent"}),t("settings.language")]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>x("en"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${g==="en"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" English"}),f.jsx("button",{onClick:()=>x("ar"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${g==="ar"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" "})]})]}),y&&f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:"Desktop Offline Mode"}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[v?"Online":"Offline","  ",b," queued"]})]}),f.jsx("button",{onClick:()=>E(!S),className:`px-3 py-1.5 rounded-lg text-xs font-bold border ${S?"bg-emerald-50 border-emerald-200 text-emerald-700 dark:bg-emerald-900/20 dark:border-emerald-800/50 dark:text-emerald-300":"bg-slate-100 border-slate-200 text-slate-600 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300"}`,children:S?"Enabled":"Disabled"})]}),f.jsx("button",{onClick:w,className:"px-4 py-2 text-sm font-bold rounded-xl bg-accent text-white shadow-lg shadow-accent/20",children:"Sync Now"}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 mb-2",children:["Conflicts (",P.length,")"]}),f.jsxs("div",{className:"max-h-36 overflow-y-auto space-y-2",children:[P.length===0&&f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No conflicts logged."}),P.slice(0,10).map(Q=>f.jsxs("div",{className:"text-xs p-2 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[f.jsx("span",{className:"font-bold",children:Q.entity})," #",Q.docId]},Q.id))]})]})]})]})]}),A==="branding"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.branding")}),f.jsx("button",{onClick:Y,className:"px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all active:scale-95 bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveBranding")})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"max-w-md",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:t("settings.appName")}),f.jsx("input",{type:"text",value:$e.name,onChange:Q=>He({...$e,name:Q.target.value}),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.logoAndFavicon")||"Logo & Favicon"}),f.jsxs("div",{className:"flex flex-col items-start gap-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("label",{className:"cursor-pointer w-24 h-24 rounded-full flex items-center justify-center border-2 border-white dark:border-slate-700 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-md",style:{backgroundColor:r.accentType==="solid"?r.accentColor:(Ve=r.accentGradient)==null?void 0:Ve.start},children:[$e.logo?f.jsx(Ji,{src:$e.logo,alt:"Logo",className:"w-full h-full bg-white/85 dark:bg-slate-900/60",imageClassName:"w-full h-full",imageStyle:{objectFit:"contain"}}):f.jsx("span",{className:"text-white font-bold text-3xl",children:($e.name||"").charAt(0)}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:bt})]}),$e.logo&&f.jsx("button",{type:"button",onClick:()=>He({...$e,logo:null}),className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center shadow-md hover:bg-red-600 transition-colors","aria-label":t("settings.removeLogo")||"Remove Logo",children:f.jsx(Aa,{className:"w-3 h-3"})})]}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t("settings.logo")})]}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("label",{className:"cursor-pointer w-16 h-16 rounded-full flex items-center justify-center border-2 border-white dark:border-slate-700 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-md",children:[$e.favicon?f.jsx(Ji,{src:$e.favicon,alt:"Favicon",className:"w-full h-full bg-white/85 dark:bg-slate-900/60",imageClassName:"w-full h-full",imageStyle:{objectFit:"contain"}}):f.jsx("div",{className:"w-8 h-8 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Ye})]}),$e.favicon&&f.jsx("button",{type:"button",onClick:()=>He(Q=>({...Q,favicon:null})),className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 text-white flex items-center justify-center shadow-md hover:bg-red-600 transition-colors","aria-label":t("settings.removeFavicon")||"Remove Favicon",children:f.jsx(Aa,{className:"w-2.5 h-2.5"})})]}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Favicon"})]})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t("settings.logoSize")})]})]}),f.jsx("div",{className:"pt-8 border-t border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-white",children:t("settings.appHeader")}),f.jsx("p",{className:"text-xs text-slate-500",children:t("settings.appHeaderDesc")})]}),f.jsx("button",{onClick:async()=>{const Q=!$e.hideHeader;He(Oe=>({...Oe,hideHeader:Q})),await h({...d,hideHeader:Q})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:$e.hideHeader?"#e2e8f0":d.color},children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${$e.hideHeader?"translate-x-1":"translate-x-6"}`})})]})})]})]}),A==="appearance"&&f.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(cE,{className:"w-5 h-5 text-[var(--brand-color)]"}),t("settings.themeOptions")]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{id:"liquid",name:"Liquid Glass",icon:PG,desc:"Apple macOS style"},{id:"light",name:"Pro Light",icon:VG,desc:"Clean & minimal"},{id:"dark",name:"Pro Dark",icon:$G,desc:"Deep & elegant"}].map(Q=>f.jsxs("button",{onClick:()=>i({theme:Q.id}),className:`group relative flex flex-col p-4 rounded-2xl border-2 transition-all text-left ${r.theme===Q.id?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}`,style:r.theme===Q.id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors ${r.theme===Q.id?"bg-accent text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500"}`,children:f.jsx(Q.icon,{className:"w-6 h-6"})}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:Q.name}),f.jsx("span",{className:"text-xs text-slate-500 mt-1",children:Q.desc}),r.theme===Q.id&&f.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-accent rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-slate-800 animate-in zoom-in duration-200",children:f.jsx(hR,{className:"w-3.5 h-3.5 text-white"})})]},Q.id))})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-accent"}),t("settings.accentCustomization")]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>i({accentType:"solid"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="solid"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.solid")}),f.jsx("button",{onClick:()=>i({accentType:"gradient"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="gradient"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.gradient")})]})]}),f.jsx("div",{className:"space-y-8",children:r.accentType==="solid"?f.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[["#1e3a5f","#6366f1","#8b5cf6","#ec4899","#f43f5e","#f59e0b","#10b981","#06b6d4"].map(Q=>f.jsx("button",{onClick:()=>i({accentColor:Q}),className:`w-10 h-10 rounded-full border-4 transition-transform hover:scale-110 ${r.accentColor===Q?"border-white dark:border-slate-800 shadow-xl":"border-transparent"}`,style:{backgroundColor:Q}},Q)),f.jsx("div",{className:"h-8 w-[1px] bg-slate-200 dark:bg-slate-700 mx-2"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"color",value:r.accentColor,onChange:Q=>i({accentColor:Q.target.value}),className:"w-10 h-10 rounded-full cursor-pointer border-0 p-0 overflow-hidden bg-transparent"}),f.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap",children:t("settings.customColor")})]}),f.jsx("span",{className:"font-mono text-sm text-slate-500 uppercase",children:r.accentColor})]})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{start:"#8B5CF6",end:"#3B82F6",name:"Royal"},{start:"#F472B6",end:"#FB923C",name:"Sunset"},{start:"#34D399",end:"#3B82F6",name:"Aurora"},{start:"#EC4899",end:"#8B5CF6",name:"Vibrant"}].map((Q,Oe)=>f.jsxs("button",{onClick:()=>i({accentGradient:Q}),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all ${r.accentGradient.start===Q.start&&r.accentGradient.end===Q.end?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200"}`,style:r.accentGradient.start===Q.start&&r.accentGradient.end===Q.end?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:"w-10 h-10 rounded-lg",style:{background:`linear-gradient(135deg, ${Q.start}, ${Q.end})`}}),f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:Q.name})]},Oe))}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.customDualColors")}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.start,onChange:Q=>i({accentGradient:{...r.accentGradient,start:Q.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.start")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.start.toUpperCase()})]})]}),f.jsx("div",{className:"w-8 h-0.5 bg-slate-200 dark:bg-slate-700 rounded-full"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.end,onChange:Q=>i({accentGradient:{...r.accentGradient,end:Q.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.end")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.end.toUpperCase()})]})]})]})]})]})})]}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 rounded-2xl p-8 flex flex-col items-center justify-center min-h-[300px] border border-slate-200 dark:border-slate-800",children:[f.jsx("p",{className:"text-sm font-bold text-slate-500 mb-8 tracking-widest uppercase",children:t("settings.livePreview")}),f.jsxs("div",{className:`w-full max-w-sm p-8 rounded-2xl transition-all glass-panel ${r.theme==="liquid"?"":"bg-white dark:bg-slate-800 shadow-xl"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:t("settings.contentLayoutExample")}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[f.jsx("div",{className:"h-2 w-3/4 bg-slate-200 dark:bg-slate-700 rounded mb-2"}),f.jsx("div",{className:"h-2 w-1/2 bg-slate-200 dark:bg-slate-700 rounded"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"px-4 py-2 bg-[var(--brand-color)] text-white rounded-lg text-sm font-medium shadow-lg shadow-[var(--brand-color)]/20",children:t("settings.primaryButton")}),f.jsx("button",{className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-medium",children:t("common.cancel")})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t("settings.toggleSwitch")}),f.jsx("div",{className:"w-10 h-5 bg-accent rounded-full relative",children:f.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full"})})]})]})]})]})]}),A==="account"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.accountSettings")}),f.jsxs("div",{className:"max-w-xl space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-accent/20 rounded-full flex items-center justify-center text-3xl font-bold text-accent overflow-hidden border-4 border-white dark:border-slate-800 shadow-lg",children:ge?f.jsx(Ji,{src:ge,alt:"Avatar",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):((Je=(c==null?void 0:c.displayName)||(_==null?void 0:_.displayName))==null?void 0:Je.charAt(0))||"U"}),f.jsxs("div",{children:[f.jsxs("label",{className:"cursor-pointer px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all inline-block hover:scale-[1.02] bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[t("settings.changeAvatar"),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:St})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:t("settings.avatarRecommendedSize")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.displayName")}),f.jsx("input",{type:"text",id:"displayName",value:Ce,onChange:Q=>se(Q.target.value),disabled:!ve,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.username")}),f.jsx("input",{type:"text",value:Pe,readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.emailAddress")}),f.jsx("input",{type:"email",value:(_==null?void 0:_.email)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsx("div",{className:"flex justify-end pt-4",children:ve?f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{se((_==null?void 0:_.displayName)||""),X(!1)},className:"px-6 py-3 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{onClick:Ue,className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveChanges")})]}):f.jsx("button",{onClick:()=>X(!0),className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.editProfile")})}),f.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(gR,{className:"w-5 h-5 text-accent"}),t("settings.securitySettings")]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:t("settings.password")}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:t("settings.passwordDescription")}),f.jsx("button",{onClick:()=>V(!0),className:"w-full py-2.5 bg-accent text-white text-sm font-bold rounded-xl shadow-lg hover:brightness-110 transition-all",style:{boxShadow:"0 4px 10px -2px var(--accent-color)44"},children:t("settings.changePassword")})]}),f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:"Two-Factor Authentication"}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:"Add an extra layer of protection to your profile."}),f.jsx("button",{className:"w-full py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 text-sm font-bold rounded-xl hover:bg-slate-300 dark:hover:bg-slate-600 transition-all",children:t("settings.enable2fa")})]})]})]})]})]}),A==="users"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.users")}),f.jsxs("button",{onClick:it,className:"flex items-center gap-2 px-4 py-2 text-white font-medium rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[f.jsx(d0,{className:"w-5 h-5"})," ",t("settings.addUser")]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.user")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.email")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.role")}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.map(Q=>{var Oe,nt;return f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden flex-shrink-0 border-2 border-white dark:border-slate-700 shadow-sm",children:Q.photoURL?f.jsx(Ji,{src:Q.photoURL,alt:Q.displayName,className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-accent text-white font-bold",children:((Oe=Q.displayName)==null?void 0:Oe.charAt(0))||((nt=Q.username)==null?void 0:nt.charAt(0))||"U"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:Q.displayName}),f.jsxs("div",{className:"text-xs text-slate-500",children:["@",Q.username]})]})]})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:Q.email}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:f.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${Q.role==="Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"}`,children:Q.role})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>fn(Q),className:"p-2 text-accent hover:bg-accent/10 rounded-lg transition-all",children:f.jsx(ws,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>he(Q._id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:f.jsx(Aa,{className:"w-4 h-4"})})]})})]},Q._id)})})]})})]})]})]}),$&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t(F?"settings.editUser":"settings.addNewUser")}),f.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.displayName"),value:be.displayName,onChange:Q=>Xe({...be,displayName:Q.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.username"),value:be.username,onChange:Q=>Xe({...be,username:Q.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.email"),type:"email",value:be.email,onChange:Q=>Xe({...be,email:Q.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("select",{value:be.role,onChange:Q=>Xe({...be,role:Q.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",children:[f.jsx("option",{value:"Manager",children:"Manager"}),f.jsx("option",{value:"Staff",children:"Staff"}),f.jsx("option",{value:"Admin",children:"Admin"})]}),f.jsx("input",{placeholder:t(F?"settings.placeholders.passwordKeep":"settings.placeholders.password"),type:"password",value:be.password,onChange:Q=>Xe({...be,password:Q.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",required:!F}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>M(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t(F?"settings.updateUser":"settings.createUser")})]})]})]})}),D&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t("settings.changePassword")}),f.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.currentPassword"),type:"password",value:q.currentPassword,onChange:Q=>Pt("currentPassword",Q.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.newPassword"),type:"password",value:q.newPassword,onChange:Q=>Pt("newPassword",Q.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.confirmPassword"),type:"password",value:q.confirmPassword,onChange:Q=>Pt("confirmPassword",Q.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>{V(!1),fe({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.changePassword")})]})]})]})}),ue&&f.jsx(GIe,{image:ue,onCrop:vt,onClose:()=>{me(null),_e(null)},aspect:1}),f.jsx($4,{isOpen:W,onClose:()=>{G(!1),te(null)},onConfirm:Ee,title:"Delete User",message:"Are you sure you want to delete this user?"})]})},QIe=()=>f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48","aria-hidden":"true",children:[f.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303C33.651 32.657 29.251 36 24 36c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.846 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.27 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),f.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819A11.955 11.955 0 0 1 24 12c3.059 0 5.846 1.154 7.961 3.039l5.657-5.657A19.9 19.9 0 0 0 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),f.jsx("path",{fill:"#4CAF50",d:"M24 44c5.17 0 9.86-1.977 13.409-5.197l-6.19-5.238A11.956 11.956 0 0 1 24 36c-5.229 0-9.614-3.316-11.278-7.946l-6.522 5.024C9.514 39.556 16.152 44 24 44z"}),f.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303a12.04 12.04 0 0 1-4.084 5.565l6.19 5.238C36.971 39.15 44 34 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),DC=t=>{const e=(t==null?void 0:t.code)||"";return e.includes("invalid-credential")||e.includes("wrong-password")?"Invalid email or password.":e.includes("user-not-found")?"No account found for this email.":e.includes("email-already-in-use")?"This email is already in use.":e.includes("weak-password")?"Password must be at least 6 characters.":e.includes("popup-closed-by-user")?"Google sign-in was cancelled.":"Authentication failed. Please try again."},YIe=()=>{const{user:t,signInWithGoogle:e,signInWithEmail:n,signUpWithEmail:r}=x4(),i=o4(),a=O0(),s=R.useMemo(()=>{var w,S;return((S=(w=a.state)==null?void 0:w.from)==null?void 0:S.pathname)||"/"},[a.state]),[o,l]=R.useState("signin"),[c,u]=R.useState(""),[d,h]=R.useState(""),[p,g]=R.useState(!1),[x,y]=R.useState("");if(t)return f.jsx(Og,{to:s,replace:!0});const v=async w=>{w.preventDefault(),y(""),g(!0);try{o==="signup"?await r(c.trim(),d):await n(c.trim(),d),i(s,{replace:!0})}catch(S){y(DC(S))}finally{g(!1)}},b=async()=>{y(""),g(!0);try{await e(),i(s,{replace:!0})}catch(w){y(DC(w))}finally{g(!1)}};return f.jsx("div",{className:"min-h-screen bg-slate-50",children:f.jsxs("div",{className:"grid min-h-screen grid-cols-1 lg:grid-cols-2",children:[f.jsxs("div",{className:"relative hidden lg:flex items-center justify-center overflow-hidden bg-gradient-to-br from-[#1e3a5f] via-[#243b6f] to-[#8b5cf6] p-10",children:[f.jsx("div",{className:"absolute -top-24 -left-16 h-72 w-72 rounded-full bg-white/15 blur-2xl"}),f.jsx("div",{className:"absolute -bottom-24 -right-20 h-80 w-80 rounded-full bg-pink-400/25 blur-2xl"}),f.jsxs("div",{className:"relative max-w-md text-white",children:[f.jsx("h1",{className:"text-5xl font-black leading-tight",children:"Welcome Back"}),f.jsx("p",{className:"mt-4 text-lg text-white/80",children:"Manage inventory, orders, customers, and analytics from one dashboard."})]})]}),f.jsx("div",{className:"flex items-center justify-center p-6 sm:p-10",children:f.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-slate-200 bg-white p-7 shadow-xl sm:p-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-3xl font-black text-slate-900",children:o==="signin"?"Sign in":"Create account"}),f.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Use your email/password or continue with Google."})]}),x&&f.jsxs("div",{className:"mb-5 flex items-start gap-2 rounded-xl border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700",children:[f.jsx(fR,{className:"mt-0.5 h-4 w-4 shrink-0"}),f.jsx("span",{children:x})]}),f.jsxs("button",{type:"button",onClick:b,disabled:p,className:"mb-4 flex w-full items-center justify-center gap-3 rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm font-bold text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:[f.jsx(QIe,{}),"Continue with Google"]}),f.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[f.jsx("div",{className:"h-px flex-1 bg-slate-200"}),f.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"or"}),f.jsx("div",{className:"h-px flex-1 bg-slate-200"})]}),f.jsxs("form",{onSubmit:v,className:"space-y-3",children:[f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"mb-1.5 block text-xs font-bold uppercase tracking-wide text-slate-500",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx(OG,{className:"pointer-events-none absolute start-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"email",required:!0,autoComplete:"email",value:c,onChange:w=>u(w.target.value),className:"w-full rounded-xl border border-slate-300 bg-white py-3 ps-10 pe-3 text-sm font-medium text-slate-900 outline-none transition focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100",placeholder:"you@example.com"})]})]}),f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"mb-1.5 block text-xs font-bold uppercase tracking-wide text-slate-500",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(gR,{className:"pointer-events-none absolute start-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"password",required:!0,minLength:6,autoComplete:o==="signup"?"new-password":"current-password",value:d,onChange:w=>h(w.target.value),className:"w-full rounded-xl border border-slate-300 bg-white py-3 ps-10 pe-3 text-sm font-medium text-slate-900 outline-none transition focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100",placeholder:"Enter your password"})]})]}),f.jsx("button",{type:"submit",disabled:p,className:"w-full rounded-xl bg-gradient-to-r from-pink-500 to-violet-600 px-4 py-3 text-sm font-black text-white shadow-lg shadow-pink-500/20 transition hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60",children:p?"Please wait...":o==="signup"?"Create account":"Sign in"})]}),f.jsxs("p",{className:"mt-6 text-center text-sm text-slate-500",children:[o==="signin"?"Don't have an account?":"Already have an account?"," ",f.jsx("button",{type:"button",onClick:()=>l(o==="signin"?"signup":"signin"),className:"font-bold text-indigo-600 hover:text-indigo-700",children:o==="signin"?"Create one":"Sign in"})]})]})})]})})},vz=()=>f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:f.jsx("div",{className:"h-10 w-10 rounded-full border-4 border-slate-300 border-t-slate-500 animate-spin"})}),XIe=()=>{const{user:t,loading:e}=x4(),n=O0();return e?f.jsx(vz,{}):t?f.jsx(J8,{}):f.jsx(Og,{to:"/login",replace:!0,state:{from:n}})},JIe=()=>{const{user:t,loading:e}=x4();return e?f.jsx(vz,{}):t?f.jsx(Og,{to:"/",replace:!0}):f.jsx(J8,{})};function ZIe(){return f.jsx(Yie,{children:f.jsx(mG,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsxs(oG,{children:[f.jsx(mi,{element:f.jsx(JIe,{}),children:f.jsx(mi,{path:"/login",element:f.jsx(YIe,{})})}),f.jsx(mi,{element:f.jsx(XIe,{}),children:f.jsxs(mi,{element:f.jsx(Qie,{children:f.jsx(J8,{})}),children:[f.jsx(mi,{path:"/",element:f.jsx($Ie,{})}),f.jsx(mi,{path:"/products",element:f.jsx(zIe,{})}),f.jsx(mi,{path:"/orders",element:f.jsx(qIe,{})}),f.jsx(mi,{path:"/customers",element:f.jsx(WIe,{})}),f.jsx(mi,{path:"/product-picture",element:f.jsx(HIe,{})}),f.jsx(mi,{path:"/settings",element:f.jsx(KIe,{})})]})}),f.jsx(mi,{path:"*",element:f.jsx(Og,{to:"/",replace:!0})})]})})})}const{slice:eCe,forEach:tCe}=[];function nCe(t){return tCe.call(eCe.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function rCe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const LC=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,iCe=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!LC.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!LC.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},FC={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=iCe(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var aCe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return FC.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;n&&typeof document<"u"&&FC.create(n,t,r,i,a)}},sCe={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(n=s[o].substring(l+1))}}return n}},oCe={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const s=a.substring(1);if(e){const o=s.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(r=o[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let $l=null;const VC=()=>{if($l!==null)return $l;try{if($l=typeof window<"u"&&window.localStorage!==null,!$l)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{$l=!1}return $l};var lCe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&VC())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&VC()&&window.localStorage.setItem(n,t)}};let Dl=null;const UC=()=>{if(Dl!==null)return Dl;try{if(Dl=typeof window<"u"&&window.sessionStorage!==null,!Dl)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Dl=!1}return Dl};var cCe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&UC())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&UC()&&window.sessionStorage.setItem(n,t)}},uCe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)e.push(n[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},dCe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},fCe={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},hCe={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let xz=!1;try{document.cookie,xz=!0}catch{}const bz=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];xz||bz.splice(1,1);const pCe=()=>({order:bz,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class wz{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=nCe(n,this.options||{},pCe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(aCe),this.addDetector(sCe),this.addDetector(lCe),this.addDetector(cCe),this.addDetector(uCe),this.addDetector(dCe),this.addDetector(fCe),this.addDetector(hCe),this.addDetector(oCe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!rCe(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}wz.type="languageDetector";const mCe={mainMenu:"Main Menu",dashboard:"Dashboard",inventory:"Inventory",productPicture:"Product Picture",orders:"Orders",customers:"Customers",settings:"Settings",logout:"Logout"},gCe={welcome:"Welcome back,",admin:"Admin",switchMode:"Switch to {{mode}} mode",activityLogs:"Activity Logs",new:"New",viewAllActivity:"View All Activity"},yCe={defaultName:"User",defaultRole:"Staff"},vCe={loading:"Loading...",error:"Error",success:"Success",save:"Save",saving:"Saving...",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search...",actions:"Actions",noData:"No data found",noDataToExport:"No data to export",clearFilters:"Clear Filters",exportCSV:"Export CSV",print:"Print",confirmDelete:"Are you sure you want to delete this?",yes:"Yes",no:"No",status:{processing:"Processing",completed:"Completed",cancelled:"Cancelled",pending:"Pending",shipped:"Shipped",delivered:"Delivered",returned:"Returned"},sort:"Sort",dateNew:"Newest First",dateOld:"Oldest First",priceHigh:"Highest Price",priceLow:"Lowest Price",nameAZ:"Name (A-Z)",male:"Male",female:"Female",showRows:"Show Rows",custom:"Custom",select:"Select...",cashOnDelivery:"Cash on Delivery",perUnit:"per unit"},xCe={title:"Dashboard",live:"Live Dashboard",totalRevenue:"Total Revenue",revenueTrend:"Revenue Trend",totalOrders:"Total Orders",ordersPlaced:"Orders placed",totalCustomers:"Total Customers",activeCustomers:"Active Customers",uniqueBuyers:"Unique buyers",topRegion:"Top Region",interactiveMap:"Interactive Map",totalProducts:"Total Products",lowStock:"Low Stock Items",recentActivity:"Recent Activity",filteredOrders:"Filtered Orders",liveDashboard:"Live Dashboard",revenueComparison:"+12.5% vs last period",ordersCount:"{{count}} orders",revenue:"Revenue",governorate:"Governorate",socialMedia:"Social Media",categories:"Categories",status:"Status"},bCe={title:"Inventory",addProduct:"Add Product",productName:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",supplier:"Supplier",description:"Description",image:"Image",sellingPrice:"Selling Price (IQD)",costPrice:"Cost Price (USD)",exchangeRate:"Exchange Rate",profit:"Profit",margin:"Margin",create:"Create Product",update:"Update Product",stockStatus:{inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",instock:"In Stock",lowstock:"Low Stock",outofstock:"Out of Stock"},form:{generalInfo:"General Information",description:"Description",descriptionPlaceholder:"General product description, features, or internal notes...",gallery:"Product Gallery",addImage:"Add Image",category:"Category",status:"Status",productName:"Product Name",productNamePlaceholder:"e.g. Wireless Headset",sku:"SKU",skuPlaceholder:"e.g. WH-001",stock:"Stock",unitPrice:"Unit Price",alibabaSourcing:"Alibaba Sourcing",productLink:"Product Link",messageLink:"Message Link",orderLink:"Order Link",alibabaOrderNo:"Alibaba Order No",alibabaNote:"Alibaba Note",notePlaceholder:"Enter details...",costAndPricing:"Cost & Pricing",alibabaFee:"Alibaba Fee",exchangeRate:"Exchange Rate",margin:"Margin",shippingIQD:"Shipping (IQD)",otherFeesIQD:"Other Fees (IQD)",costTotal:"Total Cost",costPerUnit:"Cost Per Unit",recommendedPrice:"Recommended Price",finalPrice:"Final Price",manualOverride:"Manual Override Active",autoCalculated:"Auto Calculated",profitAnalysis:"Profit Analysis",iqdAnalysis:"IQD Analysis",usdAnalysis:"USD Analysis",profitPerUnit:"Profit / Unit",totalProfit:"Total Profit",qtyCalculation:"Quantity Calculation",unitsExpected:"Units Expected to Sell",selectCategory:"Select Category",createCategory:"Create New Category"},searchPlaceholder:"Search products...",confirmDelete:"Are you sure you want to delete this product?",marginTooHigh:"Margin percentage must be less than 100%",fillInfo:"Fill in the details below to add a new product.",editProduct:"Edit Product",manageCategories:"Manage Categories",categories:"Categories",table:{product:"Product",category:"Category",stock:"Stock",price:"Price",status:"Status"}},wCe={title:"Orders",createOrder:"Create Order",orderId:"Order ID",customer:"Customer",date:"Date",total:"Total",status:"Status",items:"Items",quantity:"Qty",discount:"Discount",subtotal:"Subtotal",grandTotal:"Grand Total",customerInfo:"Customer Info",shippingAddress:"Shipping Address",internalNotes:"Internal Notes",paymentMethod:"Payment Method",governorate:"Governorate",socialMedia:"Social Media",deleteConfirm:"Are you sure you want to delete this order?",searchPlaceholder:"Search orders...",stockError:"Only {{available}} units available",limitReached:"Limit reached: {{available}}",addItemsError:"Please add items to the order",customerError:"Please fill in customer name and phone",stockErrorWithName:"Not enough stock for {{name}}. Max available: {{available}}",chooseProduct:"Choose Product",searchProduct:"Search & Select Product",qty:"Qty",price:"PRICE",cartEmpty:"Your cart is empty",cartEmptySub:"Add products to start building the order",onlyLeft:"ONLY {{count}} LEFT",orderSubtotal:"Order Subtotal",applyDiscount:"APPLY DISCOUNT",noDiscount:"No Discount",offDiscount:"{{percent}}% OFF DISCOUNT",chooseCustomer:"Choose a Customer",searchCustomers:"Search customers...",createNewCustomer:"Create New Customer",fullName:"Full Name",phone:"Phone Number",gender:"Gender",social:"Social",saveOrder:"SAVE ORDER",updateOrder:"UPDATE ORDER",orderStatus:"Order Status",orderItems:"Order Items",printReceipt:"Print Receipt",editOrder:"Edit Order",receipt:{title:"Receipt",companyName:"SHAN ENTERPRISE",address:"Baghdad, Iraq",order:"Order",customer:"Customer",phone:"Phone",gov:"Gov",subtotal:"Subtotal",discount:"Discount",total:"TOTAL",thankYou:"Thank you for your business!",noReturn:"Items checked out cannot be returned.",na:"N/A"},errors:{submitError:"Failed to submit order: {{message}}",unknown:"Unknown error"},table:{orderId:"Order ID",customer:"Customer",date:"Date",total:"Total (IQD)",status:"Status"}},_Ce={title:"Product Picture Gallery",subtitle:"Product Gallery",description:"Manage your product visual assets.",noProducts:"No products found matching your search.",modal:{images:"Product Images",addPhoto:"Add Photo",details:"Product Details",productTitle:"Product Title",enterTitle:"Enter product title",description:"Description",enterDescription:"Enter product description...",sellingPrice:"Selling Price",confirmDeleteImage:"Are you sure you want to delete this image?"}},SCe={title:"Customers",addCustomer:"Add Customer",name:"Name",phone:"Phone",email:"Email",address:"Address",governorate:"Governorate",social:"Social Media",totalSpent:"Total Spent",lastOrder:"Last Order",joinDate:"Join Date",orders:"Orders",location:"Location",createdOn:"Created On",actions:"Actions",noData:"No customers found",noMatch:"No customers matching filters",searchPlaceholder:"Search by name or phone...",viewTable:"Table View",viewCard:"Card View",form:{new:"New Customer",edit:"Refine Profile",sub:"Customer Database",fullName:"Full Name",phone:"Phone Number",email:"Email (Optional)",governorate:"Governorate",channel:"Channel",shippingAddress:"Shipping Address",save:"Save Profile",register:"Register Customer"},history:{title:"Transaction Logs",customer:"Customer",noRecords:"No Active Records Found",paymentMethod:"Payment Method",itemsCount:"Items Count",printThermal:"Print Thermal Receipt"},receipt:{title:"Order Receipt",order:"Order",customer:"Customer",date:"Date",status:"Status",item:"Item",qty:"Qty",price:"Price",total:"Total"}},ECe={title:"Settings",general:"General",account:"Account",appearance:"Appearance",users:"User Management",language:"Language",saveChanges:"Save Changes",branding:"Branding",appHeader:"Application Header",appHeaderDesc:"Show or hide the top navigation header",saveBranding:"Save Branding Settings",appName:"Application Name",logo:"Logo",logoAndFavicon:"Logo & Favicon",uploadLogo:"Upload Logo",uploadFavicon:"Upload Favicon",logoSize:"Recommended size: 512x512px. Max 3MB.",removeLogo:"Remove Logo",removeFavicon:"Remove Favicon",themeOptions:"Theme Options",themes:{liquid:"Liquid Glass",liquidDesc:"Apple macOS style",light:"Pro Light",lightDesc:"Clean & minimal",dark:"Pro Dark",darkDesc:"Deep & elegant"},accentCustomization:"Accent Customization",solid:"Solid",gradient:"Gradient",customColor:"Custom Color",gradients:{royal:"Royal",sunset:"Sunset",aurora:"Aurora",vibrant:"Vibrant"},customDualColors:"Custom Dual Colors",start:"Start",end:"End",livePreview:"Live Preview",contentLayoutExample:"Content Layout Example",primaryButton:"Primary Button",toggleSwitch:"Toggle Switch",accountSettings:"Account Settings",changeAvatar:"Change Avatar",avatarFormat:"JPG, GIF or PNG. Max size of 3MB",emailAddress:"Email Address",avatarRecommendedSize:"JPG, GIF or PNG. Max size of 3MB",displayName:"Display Name",username:"Username",securitySettings:"Security Settings",password:"Password",passwordDescription:"Change your password to keep your account safe.",changePassword:"Change Password",enable2fa:"Enable 2FA",editProfile:"Edit Profile",addUser:"Add User",editUser:"Edit User",addNewUser:"Add New User",updateUser:"Update User",createUser:"Create User",confirmDeleteUser:"Are you sure you want to delete this user?",table:{user:"User",email:"Email",role:"Role"},placeholders:{displayName:"Display Name",username:"Username",email:"Email",password:"Password",passwordKeep:"Password (leave blank to keep)",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password"},toasts:{profileUpdated:"Profile updated successfully!",avatarTooLarge:"Avatar too large. Max 3MB.",brandingSaved:"Branding settings saved successfully!",fileTooLarge:"File too large. Max 3MB.",userUpdated:"User updated successfully!",userCreated:"User created successfully!",passwordChanged:"Password changed successfully!"}},kCe={menu:mCe,header:gCe,user:yCe,common:vCe,dashboard:xCe,products:bCe,orders:wCe,productPicture:_Ce,customers:SCe,settings:ECe},PCe={mainMenu:" ",dashboard:" ",inventory:"",productPicture:" ",orders:"",customers:"",settings:"",logout:" "},TCe={welcome:" ",admin:"",switchMode:"   {{mode}}",activityLogs:" ",new:"",viewAllActivity:"  "},NCe={defaultName:"",defaultRole:""},ACe={loading:" ...",error:"",success:" ",save:"",saving:" ...",cancel:"",delete:"",edit:"",view:"",search:"...",actions:"",noData:"  ",noDataToExport:"   ",clearFilters:" ",exportCSV:" CSV",print:"",confirmDelete:"    ",yes:"",no:"",status:{processing:" ",completed:"",cancelled:"",pending:" ",shipped:" ",delivered:" ",returned:""},sort:"",dateNew:" ",dateOld:" ",priceHigh:" ",priceLow:" ",nameAZ:" (-)",male:"",female:"",showRows:" ",custom:"",select:"...",cashOnDelivery:"  ",perUnit:" "},ICe={title:" ",live:"  ",totalRevenue:" ",revenueTrend:" ",totalOrders:" ",ordersPlaced:" ",totalCustomers:" ",activeCustomers:" ",uniqueBuyers:" ",topRegion:" ",interactiveMap:" ",totalProducts:" ",lowStock:"  ",recentActivity:" ",filteredOrders:" ",liveDashboard:"  ",revenueComparison:"+12.5%   ",ordersCount:"{{count}} ",revenue:"",governorate:"",socialMedia:" ",categories:"",status:""},CCe={title:"",addProduct:" ",productName:" ",category:"",price:"",stock:"",status:"",supplier:"",description:"",image:"",sellingPrice:"  (.)",costPrice:"  ()",exchangeRate:" ",profit:"",margin:"",create:" ",update:" ",stockStatus:{inStock:"",lowStock:" ",outOfStock:" ",instock:"",lowstock:" ",outofstock:" "},form:{generalInfo:" ",description:"",descriptionPlaceholder:"     ...",gallery:" ",addImage:" ",category:"",status:"",productName:" ",productNamePlaceholder:":  ",sku:"  (SKU)",skuPlaceholder:": WH-001",stock:"",unitPrice:" ",alibabaSourcing:"  ",productLink:" ",messageLink:" ",orderLink:" ",alibabaOrderNo:"   ",alibabaNote:"  ",notePlaceholder:" ...",costAndPricing:" ",alibabaFee:"  ",exchangeRate:" ",margin:" ",shippingIQD:" (.)",otherFeesIQD:"  (.)",costTotal:" ",costPerUnit:" ",recommendedPrice:" ",finalPrice:" ",manualOverride:"  ",autoCalculated:" ",profitAnalysis:" ",iqdAnalysis:"  ",usdAnalysis:"  ",profitPerUnit:" / ",totalProfit:" ",qtyCalculation:" ",unitsExpected:"  ",selectCategory:" ",createCategory:"  "},searchPlaceholder:"  ...",confirmDelete:"      ",marginTooHigh:"       100%",fillInfo:"     .",editProduct:" ",manageCategories:" ",categories:"",table:{product:"",category:"",stock:"",price:"",status:""}},OCe={title:"",createOrder:" ",orderId:" ",customer:"",date:"",total:"",status:"",items:"",quantity:"",discount:"",subtotal:" ",grandTotal:" ",customerInfo:" ",shippingAddress:" ",internalNotes:" ",paymentMethod:" ",governorate:"",socialMedia:" ",deleteConfirm:"      ",searchPlaceholder:"  ...",stockError:" {{available}}  ",limitReached:"  : {{available}}",addItemsError:"   ",customerError:"    ",stockErrorWithName:"     {{name}}. : {{available}}",chooseProduct:" ",searchProduct:"  ",qty:"",price:"",cartEmpty:" ",cartEmptySub:"     ",onlyLeft:" {{count}} ",orderSubtotal:" ",applyDiscount:" ",noDiscount:" ",offDiscount:" {{percent}}%",chooseCustomer:" ",searchCustomers:"  ...",createNewCustomer:"  ",fullName:" ",phone:" ",gender:"",social:" ",saveOrder:" ",updateOrder:" ",orderStatus:" ",orderItems:" ",printReceipt:" ",editOrder:" ",receipt:{title:" ",companyName:"SHAN ENTERPRISE",address:" ",order:"",customer:"",phone:"",gov:"",subtotal:" ",discount:"",total:"",thankYou:"  !",noReturn:"     .",na:" "},errors:{submitError:"   : {{message}}",unknown:"  "},table:{orderId:" ",customer:"",date:"",total:" (.)",status:""}},jCe={title:"  ",subtitle:" ",description:"   .",noProducts:"      .",modal:{images:" ",addPhoto:" ",details:" ",productTitle:" ",enterTitle:"  ",description:"",enterDescription:"  ...",sellingPrice:" ",confirmDeleteImage:"      "}},RCe={title:"",addCustomer:" ",name:"",phone:"",email:" ",address:"",governorate:"",social:" ",totalSpent:" ",lastOrder:" ",joinDate:" ",orders:"",location:"",createdOn:" ",actions:"",noData:"  ",noMatch:"   ",searchPlaceholder:"   ...",viewTable:" ",viewCard:" ",form:{new:" ",edit:" ",sub:"  ",fullName:" ",phone:" ",email:"  ()",governorate:"",channel:"",shippingAddress:" ",save:" ",register:" "},history:{title:" ",customer:"",noRecords:"   ",paymentMethod:" ",itemsCount:" ",printThermal:"  "},receipt:{title:" ",order:"",customer:"",date:"",status:"",item:"",qty:"",price:"",total:""}},MCe={title:"",general:"",account:"",appearance:"",users:" ",language:"",saveChanges:" ",branding:" ",appHeader:" ",appHeaderDesc:"     ",saveBranding:"   ",appName:" ",logo:"",logoAndFavicon:" ",uploadLogo:" ",uploadFavicon:" ",logoSize:"  : 512x512 .   3 .",removeLogo:" ",removeFavicon:" ",themeOptions:" ",themes:{liquid:" ",liquidDesc:"  ",light:" ",lightDesc:" ",dark:" ",darkDesc:" "},accentCustomization:"  ",solid:" ",gradient:" ",customColor:" ",gradients:{royal:"",sunset:"",aurora:"",vibrant:""},customDualColors:"  ",start:"",end:"",livePreview:" ",contentLayoutExample:"  ",primaryButton:" ",toggleSwitch:" ",accountSettings:" ",changeAvatar:"  ",avatarFormat:"JPG GIF  PNG.   3 ",emailAddress:" ",avatarRecommendedSize:"JPG GIF  PNG.   3 ",displayName:" ",username:" ",securitySettings:" ",password:" ",passwordDescription:"      .",changePassword:"  ",enable2fa:"  ",editProfile:"  ",addUser:" ",editUser:" ",addNewUser:"  ",updateUser:" ",createUser:" ",confirmDeleteUser:"      ",table:{user:"",email:" ",role:""},placeholders:{displayName:" ",username:" ",email:" ",password:" ",passwordKeep:"  (   )",currentPassword:"  ",newPassword:"  ",confirmPassword:"   "},toasts:{profileUpdated:"    !",avatarTooLarge:"  .   3 .",brandingSaved:"     !",fileTooLarge:"  .   3 .",userUpdated:"   !",userCreated:"   !",passwordChanged:"    !"}},$Ce={menu:PCe,header:TCe,user:NCe,common:ACe,dashboard:ICe,products:CCe,orders:OCe,productPicture:jCe,customers:RCe,settings:MCe};Fn.use(wz).use(jie).init({resources:{en:{translation:kCe},ar:{translation:$Ce}},fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}}).then(()=>{const t=Fn.language==="ar"?"rtl":"ltr";document.dir=t,document.documentElement.lang=Fn.language});Fn.on("languageChanged",t=>{const e=t==="ar"?"rtl":"ltr";document.dir=e,document.documentElement.lang=t});ey.createRoot(document.getElementById("root")).render(f.jsx(B.StrictMode,{children:f.jsx(ZIe,{})}));
