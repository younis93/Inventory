function J9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jD={exports:{}},nv={},RD={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=Symbol.for("react.element"),Z9=Symbol.for("react.portal"),eB=Symbol.for("react.fragment"),tB=Symbol.for("react.strict_mode"),nB=Symbol.for("react.profiler"),rB=Symbol.for("react.provider"),iB=Symbol.for("react.context"),aB=Symbol.for("react.forward_ref"),sB=Symbol.for("react.suspense"),oB=Symbol.for("react.memo"),lB=Symbol.for("react.lazy"),ZA=Symbol.iterator;function cB(t){return t===null||typeof t!="object"?null:(t=ZA&&t[ZA]||t["@@iterator"],typeof t=="function"?t:null)}var MD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DD=Object.assign,$D={};function Iu(t,e,n){this.props=t,this.context=e,this.refs=$D,this.updater=n||MD}Iu.prototype.isReactComponent={};Iu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Iu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LD(){}LD.prototype=Iu.prototype;function gE(t,e,n){this.props=t,this.context=e,this.refs=$D,this.updater=n||MD}var yE=gE.prototype=new LD;yE.constructor=gE;DD(yE,Iu.prototype);yE.isPureReactComponent=!0;var e2=Array.isArray,FD=Object.prototype.hasOwnProperty,vE={current:null},VD={key:!0,ref:!0,__self:!0,__source:!0};function UD(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)FD.call(e,r)&&!VD.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:sp,type:t,key:a,ref:s,props:i,_owner:vE.current}}function uB(t,e){return{$$typeof:sp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xE(t){return typeof t=="object"&&t!==null&&t.$$typeof===sp}function dB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var t2=/\/+/g;function eb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dB(""+t.key):e.toString(36)}function qm(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case sp:case Z9:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+eb(s,0):r,e2(i)?(n="",t!=null&&(n=t.replace(t2,"$&/")+"/"),qm(i,e,n,"",function(c){return c})):i!=null&&(xE(i)&&(i=uB(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(t2,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",e2(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+eb(a,o);s+=qm(a,e,n,l,i)}else if(l=cB(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+eb(a,o++),s+=qm(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Kp(t,e,n){if(t==null)return t;var r=[],i=0;return qm(t,r,"","",function(a){return e.call(n,a,i++)}),r}function fB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},Wm={transition:null},hB={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:Wm,ReactCurrentOwner:vE};function BD(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:Kp,forEach:function(t,e,n){Kp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kp(t,function(){e++}),e},toArray:function(t){return Kp(t,function(e){return e})||[]},only:function(t){if(!xE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=Iu;Ge.Fragment=eB;Ge.Profiler=nB;Ge.PureComponent=gE;Ge.StrictMode=tB;Ge.Suspense=sB;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hB;Ge.act=BD;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DD({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=vE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)FD.call(e,l)&&!VD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:sp,type:t.type,key:i,ref:a,props:r,_owner:s}};Ge.createContext=function(t){return t={$$typeof:iB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rB,_context:t},t.Consumer=t};Ge.createElement=UD;Ge.createFactory=function(t){var e=UD.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:aB,render:t}};Ge.isValidElement=xE;Ge.lazy=function(t){return{$$typeof:lB,_payload:{_status:-1,_result:t},_init:fB}};Ge.memo=function(t,e){return{$$typeof:oB,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=Wm.transition;Wm.transition={};try{t()}finally{Wm.transition=e}};Ge.unstable_act=BD;Ge.useCallback=function(t,e){return er.current.useCallback(t,e)};Ge.useContext=function(t){return er.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return er.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return er.current.useEffect(t,e)};Ge.useId=function(){return er.current.useId()};Ge.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return er.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};Ge.useRef=function(t){return er.current.useRef(t)};Ge.useState=function(t){return er.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return er.current.useTransition()};Ge.version="18.3.1";RD.exports=Ge;var R=RD.exports;const z=gt(R),pB=J9({__proto__:null,default:z},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mB=R,gB=Symbol.for("react.element"),yB=Symbol.for("react.fragment"),vB=Object.prototype.hasOwnProperty,xB=mB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bB={key:!0,ref:!0,__self:!0,__source:!0};function zD(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)vB.call(e,r)&&!bB.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gB,type:t,key:a,ref:s,props:i,_owner:xB.current}}nv.Fragment=yB;nv.jsx=zD;nv.jsxs=zD;jD.exports=nv;var f=jD.exports,Mw={},qD={exports:{}},Rr={},WD={exports:{}},HD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,V){var G=F.length;F.push(V);e:for(;0<G;){var Y=G-1>>>1,B=F[Y];if(0<i(B,V))F[Y]=V,F[G]=B,G=Y;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],G=F.pop();if(G!==V){F[0]=G;e:for(var Y=0,B=F.length,ae=B>>>1;Y<ae;){var ge=2*(Y+1)-1,ye=F[ge],te=ge+1,ie=F[te];if(0>i(ye,G))te<B&&0>i(ie,ye)?(F[Y]=ie,F[te]=G,Y=te):(F[Y]=ye,F[ge]=G,Y=ge);else if(te<B&&0>i(ie,G))F[Y]=ie,F[te]=G,Y=te;else break e}}return V}function i(F,V){var G=F.sortIndex-V.sortIndex;return G!==0?G:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=F)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function S(F){if(y=!1,w(F),!g)if(n(l)!==null)g=!0,L(E);else{var V=n(c);V!==null&&q(S,V.startTime-F)}}function E(F,V){g=!1,y&&(y=!1,x(k),k=-1),p=!0;var G=h;try{for(w(V),d=n(l);d!==null&&(!(d.expirationTime>V)||F&&!C());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var B=Y(d.expirationTime<=V);V=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(l)&&r(l),w(V)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var ge=n(c);ge!==null&&q(S,ge.startTime-V),ae=!1}return ae}finally{d=null,h=G,p=!1}}var P=!1,_=null,k=-1,A=5,I=-1;function C(){return!(t.unstable_now()-I<A)}function j(){if(_!==null){var F=t.unstable_now();I=F;var V=!0;try{V=_(!0,F)}finally{V?O():(P=!1,_=null)}}else P=!1}var O;if(typeof b=="function")O=function(){b(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,D=M.port2;M.port1.onmessage=j,O=function(){D.postMessage(null)}}else O=function(){v(j,0)};function L(F){_=F,P||(P=!0,O())}function q(F,V){k=v(function(){F(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var G=h;h=V;try{return F()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=h;h=F;try{return V()}finally{h=G}},t.unstable_scheduleCallback=function(F,V,G){var Y=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Y+G:Y):G=Y,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=G+B,F={id:u++,callback:V,priorityLevel:F,startTime:G,expirationTime:B,sortIndex:-1},G>Y?(F.sortIndex=G,e(c,F),n(l)===null&&F===n(c)&&(y?(x(k),k=-1):y=!0,q(S,G-Y))):(F.sortIndex=B,e(l,F),g||p||(g=!0,L(E))),F},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(F){var V=h;return function(){var G=h;h=V;try{return F.apply(this,arguments)}finally{h=G}}}})(HD);WD.exports=HD;var wB=WD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _B=R,Or=wB;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GD=new Set,Df={};function kl(t,e){Fc(t,e),Fc(t+"Capture",e)}function Fc(t,e){for(Df[t]=e,t=0;t<e.length;t++)GD.add(e[t])}var Fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dw=Object.prototype.hasOwnProperty,SB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n2={},r2={};function EB(t){return Dw.call(r2,t)?!0:Dw.call(n2,t)?!1:SB.test(t)?r2[t]=!0:(n2[t]=!0,!1)}function kB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TB(t,e,n,r){if(e===null||typeof e>"u"||kB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var bE=/[\-:]([a-z])/g;function wE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bE,wE);Tn[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bE,wE);Tn[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bE,wE);Tn[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function _E(t,e,n,r){var i=Tn.hasOwnProperty(e)?Tn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TB(e,n,i,r)&&(n=null),r||i===null?EB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var es=_B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yp=Symbol.for("react.element"),tc=Symbol.for("react.portal"),nc=Symbol.for("react.fragment"),SE=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),KD=Symbol.for("react.provider"),YD=Symbol.for("react.context"),EE=Symbol.for("react.forward_ref"),Lw=Symbol.for("react.suspense"),Fw=Symbol.for("react.suspense_list"),kE=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),QD=Symbol.for("react.offscreen"),i2=Symbol.iterator;function gd(t){return t===null||typeof t!="object"?null:(t=i2&&t[i2]||t["@@iterator"],typeof t=="function"?t:null)}var Rt=Object.assign,tb;function zd(t){if(tb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tb=e&&e[1]||""}return`
`+tb+t}var nb=!1;function rb(t,e){if(!t||nb)return"";nb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{nb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zd(t):""}function PB(t){switch(t.tag){case 5:return zd(t.type);case 16:return zd("Lazy");case 13:return zd("Suspense");case 19:return zd("SuspenseList");case 0:case 2:case 15:return t=rb(t.type,!1),t;case 11:return t=rb(t.type.render,!1),t;case 1:return t=rb(t.type,!0),t;default:return""}}function Vw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nc:return"Fragment";case tc:return"Portal";case $w:return"Profiler";case SE:return"StrictMode";case Lw:return"Suspense";case Fw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case YD:return(t.displayName||"Context")+".Consumer";case KD:return(t._context.displayName||"Context")+".Provider";case EE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kE:return e=t.displayName||null,e!==null?e:Vw(t.type)||"Memo";case ys:e=t._payload,t=t._init;try{return Vw(t(e))}catch{}}return null}function AB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vw(e);case 8:return e===SE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NB(t){var e=XD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qp(t){t._valueTracker||(t._valueTracker=NB(t))}function JD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=XD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _g(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uw(t,e){var n=e.checked;return Rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function a2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=eo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZD(t,e){e=e.checked,e!=null&&_E(t,"checked",e,!1)}function Bw(t,e){ZD(t,e);var n=eo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zw(t,e.type,n):e.hasOwnProperty("defaultValue")&&zw(t,e.type,eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function s2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zw(t,e,n){(e!=="number"||_g(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qd=Array.isArray;function wc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+eo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function o2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(qd(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:eo(n)}}function e$(t,e){var n=eo(e.value),r=eo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function l2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function t$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ww(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?t$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xp,n$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xp=Xp||document.createElement("div"),Xp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $f(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IB=["Webkit","ms","Moz","O"];Object.keys(lf).forEach(function(t){IB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lf[e]=lf[t]})});function r$(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lf.hasOwnProperty(t)&&lf[t]?(""+e).trim():e+"px"}function i$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=r$(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OB=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hw(t,e){if(e){if(OB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Gw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kw=null;function TE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yw=null,_c=null,Sc=null;function c2(t){if(t=cp(t)){if(typeof Yw!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=ov(e),Yw(t.stateNode,t.type,e))}}function a$(t){_c?Sc?Sc.push(t):Sc=[t]:_c=t}function s$(){if(_c){var t=_c,e=Sc;if(Sc=_c=null,c2(t),e)for(t=0;t<e.length;t++)c2(e[t])}}function o$(t,e){return t(e)}function l$(){}var ib=!1;function c$(t,e,n){if(ib)return t(e,n);ib=!0;try{return o$(t,e,n)}finally{ib=!1,(_c!==null||Sc!==null)&&(l$(),s$())}}function Lf(t,e){var n=t.stateNode;if(n===null)return null;var r=ov(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var Qw=!1;if(Fa)try{var yd={};Object.defineProperty(yd,"passive",{get:function(){Qw=!0}}),window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{Qw=!1}function CB(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var cf=!1,Sg=null,Eg=!1,Xw=null,jB={onError:function(t){cf=!0,Sg=t}};function RB(t,e,n,r,i,a,s,o,l){cf=!1,Sg=null,CB.apply(jB,arguments)}function MB(t,e,n,r,i,a,s,o,l){if(RB.apply(this,arguments),cf){if(cf){var c=Sg;cf=!1,Sg=null}else throw Error(fe(198));Eg||(Eg=!0,Xw=c)}}function Tl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function u$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u2(t){if(Tl(t)!==t)throw Error(fe(188))}function DB(t){var e=t.alternate;if(!e){if(e=Tl(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u2(i),t;if(a===r)return u2(i),e;a=a.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function d$(t){return t=DB(t),t!==null?f$(t):null}function f$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=f$(t);if(e!==null)return e;t=t.sibling}return null}var h$=Or.unstable_scheduleCallback,d2=Or.unstable_cancelCallback,$B=Or.unstable_shouldYield,LB=Or.unstable_requestPaint,zt=Or.unstable_now,FB=Or.unstable_getCurrentPriorityLevel,PE=Or.unstable_ImmediatePriority,p$=Or.unstable_UserBlockingPriority,kg=Or.unstable_NormalPriority,VB=Or.unstable_LowPriority,m$=Or.unstable_IdlePriority,rv=null,Gi=null;function UB(t){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(rv,t,void 0,(t.current.flags&128)===128)}catch{}}var ki=Math.clz32?Math.clz32:qB,BB=Math.log,zB=Math.LN2;function qB(t){return t>>>=0,t===0?32:31-(BB(t)/zB|0)|0}var Jp=64,Zp=4194304;function Wd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Wd(o):(a&=s,a!==0&&(r=Wd(a)))}else s=n&~i,s!==0?r=Wd(s):a!==0&&(r=Wd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ki(e),i=1<<n,r|=t[n],e&=~i;return r}function WB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-ki(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=WB(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function Jw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function g$(){var t=Jp;return Jp<<=1,!(Jp&4194240)&&(Jp=64),t}function ab(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function op(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ki(e),t[e]=n}function GB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ki(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function AE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ki(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ot=0;function y$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var v$,NE,x$,b$,w$,Zw=!1,em=[],Ms=null,Ds=null,$s=null,Ff=new Map,Vf=new Map,_s=[],KB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f2(t,e){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Ff.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vf.delete(e.pointerId)}}function vd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=cp(e),e!==null&&NE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YB(t,e,n,r,i){switch(e){case"focusin":return Ms=vd(Ms,t,e,n,r,i),!0;case"dragenter":return Ds=vd(Ds,t,e,n,r,i),!0;case"mouseover":return $s=vd($s,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ff.set(a,vd(Ff.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Vf.set(a,vd(Vf.get(a)||null,t,e,n,r,i)),!0}return!1}function _$(t){var e=Uo(t.target);if(e!==null){var n=Tl(e);if(n!==null){if(e=n.tag,e===13){if(e=u$(n),e!==null){t.blockedOn=e,w$(t.priority,function(){x$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=e1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kw=r,n.target.dispatchEvent(r),Kw=null}else return e=cp(n),e!==null&&NE(e),t.blockedOn=n,!1;e.shift()}return!0}function h2(t,e,n){Hm(t)&&n.delete(e)}function QB(){Zw=!1,Ms!==null&&Hm(Ms)&&(Ms=null),Ds!==null&&Hm(Ds)&&(Ds=null),$s!==null&&Hm($s)&&($s=null),Ff.forEach(h2),Vf.forEach(h2)}function xd(t,e){t.blockedOn===e&&(t.blockedOn=null,Zw||(Zw=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,QB)))}function Uf(t){function e(i){return xd(i,t)}if(0<em.length){xd(em[0],t);for(var n=1;n<em.length;n++){var r=em[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ms!==null&&xd(Ms,t),Ds!==null&&xd(Ds,t),$s!==null&&xd($s,t),Ff.forEach(e),Vf.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)_$(n),n.blockedOn===null&&_s.shift()}var Ec=es.ReactCurrentBatchConfig,Pg=!0;function XB(t,e,n,r){var i=ot,a=Ec.transition;Ec.transition=null;try{ot=1,IE(t,e,n,r)}finally{ot=i,Ec.transition=a}}function JB(t,e,n,r){var i=ot,a=Ec.transition;Ec.transition=null;try{ot=4,IE(t,e,n,r)}finally{ot=i,Ec.transition=a}}function IE(t,e,n,r){if(Pg){var i=e1(t,e,n,r);if(i===null)mb(t,e,r,Ag,n),f2(t,r);else if(YB(i,t,e,n,r))r.stopPropagation();else if(f2(t,r),e&4&&-1<KB.indexOf(t)){for(;i!==null;){var a=cp(i);if(a!==null&&v$(a),a=e1(t,e,n,r),a===null&&mb(t,e,r,Ag,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else mb(t,e,r,null,n)}}var Ag=null;function e1(t,e,n,r){if(Ag=null,t=TE(r),t=Uo(t),t!==null)if(e=Tl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=u$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ag=t,null}function S$(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FB()){case PE:return 1;case p$:return 4;case kg:case VB:return 16;case m$:return 536870912;default:return 16}default:return 16}}var Ns=null,OE=null,Gm=null;function E$(){if(Gm)return Gm;var t,e=OE,n=e.length,r,i="value"in Ns?Ns.value:Ns.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Gm=i.slice(t,1<r?1-r:void 0)}function Km(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tm(){return!0}function p2(){return!1}function Mr(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?tm:p2,this.isPropagationStopped=p2,this}return Rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tm)},persist:function(){},isPersistent:tm}),e}var Ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CE=Mr(Ou),lp=Rt({},Ou,{view:0,detail:0}),ZB=Mr(lp),sb,ob,bd,iv=Rt({},lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bd&&(bd&&t.type==="mousemove"?(sb=t.screenX-bd.screenX,ob=t.screenY-bd.screenY):ob=sb=0,bd=t),sb)},movementY:function(t){return"movementY"in t?t.movementY:ob}}),m2=Mr(iv),e7=Rt({},iv,{dataTransfer:0}),t7=Mr(e7),n7=Rt({},lp,{relatedTarget:0}),lb=Mr(n7),r7=Rt({},Ou,{animationName:0,elapsedTime:0,pseudoElement:0}),i7=Mr(r7),a7=Rt({},Ou,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s7=Mr(a7),o7=Rt({},Ou,{data:0}),g2=Mr(o7),l7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=u7[t])?!!e[t]:!1}function jE(){return d7}var f7=Rt({},lp,{key:function(t){if(t.key){var e=l7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Km(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jE,charCode:function(t){return t.type==="keypress"?Km(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Km(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h7=Mr(f7),p7=Rt({},iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y2=Mr(p7),m7=Rt({},lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jE}),g7=Mr(m7),y7=Rt({},Ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),v7=Mr(y7),x7=Rt({},iv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b7=Mr(x7),w7=[9,13,27,32],RE=Fa&&"CompositionEvent"in window,uf=null;Fa&&"documentMode"in document&&(uf=document.documentMode);var _7=Fa&&"TextEvent"in window&&!uf,k$=Fa&&(!RE||uf&&8<uf&&11>=uf),v2=" ",x2=!1;function T$(t,e){switch(t){case"keyup":return w7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rc=!1;function S7(t,e){switch(t){case"compositionend":return P$(e);case"keypress":return e.which!==32?null:(x2=!0,v2);case"textInput":return t=e.data,t===v2&&x2?null:t;default:return null}}function E7(t,e){if(rc)return t==="compositionend"||!RE&&T$(t,e)?(t=E$(),Gm=OE=Ns=null,rc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return k$&&e.locale!=="ko"?null:e.data;default:return null}}var k7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k7[t.type]:e==="textarea"}function A$(t,e,n,r){a$(r),e=Ng(e,"onChange"),0<e.length&&(n=new CE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var df=null,Bf=null;function T7(t){F$(t,0)}function av(t){var e=sc(t);if(JD(e))return t}function P7(t,e){if(t==="change")return e}var N$=!1;if(Fa){var cb;if(Fa){var ub="oninput"in document;if(!ub){var w2=document.createElement("div");w2.setAttribute("oninput","return;"),ub=typeof w2.oninput=="function"}cb=ub}else cb=!1;N$=cb&&(!document.documentMode||9<document.documentMode)}function _2(){df&&(df.detachEvent("onpropertychange",I$),Bf=df=null)}function I$(t){if(t.propertyName==="value"&&av(Bf)){var e=[];A$(e,Bf,t,TE(t)),c$(T7,e)}}function A7(t,e,n){t==="focusin"?(_2(),df=e,Bf=n,df.attachEvent("onpropertychange",I$)):t==="focusout"&&_2()}function N7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return av(Bf)}function I7(t,e){if(t==="click")return av(e)}function O7(t,e){if(t==="input"||t==="change")return av(e)}function C7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ni=typeof Object.is=="function"?Object.is:C7;function zf(t,e){if(Ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dw.call(e,i)||!Ni(t[i],e[i]))return!1}return!0}function S2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function E2(t,e){var n=S2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S2(n)}}function O$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function C$(){for(var t=window,e=_g();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_g(t.document)}return e}function ME(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function j7(t){var e=C$(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&O$(n.ownerDocument.documentElement,n)){if(r!==null&&ME(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=E2(n,a);var s=E2(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var R7=Fa&&"documentMode"in document&&11>=document.documentMode,ic=null,t1=null,ff=null,n1=!1;function k2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;n1||ic==null||ic!==_g(r)||(r=ic,"selectionStart"in r&&ME(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ff&&zf(ff,r)||(ff=r,r=Ng(t1,"onSelect"),0<r.length&&(e=new CE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ic)))}function nm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ac={animationend:nm("Animation","AnimationEnd"),animationiteration:nm("Animation","AnimationIteration"),animationstart:nm("Animation","AnimationStart"),transitionend:nm("Transition","TransitionEnd")},db={},j$={};Fa&&(j$=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function sv(t){if(db[t])return db[t];if(!ac[t])return t;var e=ac[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in j$)return db[t]=e[n];return t}var R$=sv("animationend"),M$=sv("animationiteration"),D$=sv("animationstart"),$$=sv("transitionend"),L$=new Map,T2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(t,e){L$.set(t,e),kl(e,[t])}for(var fb=0;fb<T2.length;fb++){var hb=T2[fb],M7=hb.toLowerCase(),D7=hb[0].toUpperCase()+hb.slice(1);uo(M7,"on"+D7)}uo(R$,"onAnimationEnd");uo(M$,"onAnimationIteration");uo(D$,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo($$,"onTransitionEnd");Fc("onMouseEnter",["mouseout","mouseover"]);Fc("onMouseLeave",["mouseout","mouseover"]);Fc("onPointerEnter",["pointerout","pointerover"]);Fc("onPointerLeave",["pointerout","pointerover"]);kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kl("onBeforeInput",["compositionend","keypress","textInput","paste"]);kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hd));function P2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MB(r,e,void 0,t),t.currentTarget=null}function F$(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;P2(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;P2(i,o,c),a=l}}}if(Eg)throw t=Xw,Eg=!1,Xw=null,t}function _t(t,e){var n=e[o1];n===void 0&&(n=e[o1]=new Set);var r=t+"__bubble";n.has(r)||(V$(e,t,2,!1),n.add(r))}function pb(t,e,n){var r=0;e&&(r|=4),V$(n,t,r,e)}var rm="_reactListening"+Math.random().toString(36).slice(2);function qf(t){if(!t[rm]){t[rm]=!0,GD.forEach(function(n){n!=="selectionchange"&&($7.has(n)||pb(n,!1,t),pb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rm]||(e[rm]=!0,pb("selectionchange",!1,e))}}function V$(t,e,n,r){switch(S$(e)){case 1:var i=XB;break;case 4:i=JB;break;default:i=IE}n=i.bind(null,e,n,t),i=void 0,!Qw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Uo(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}c$(function(){var c=a,u=TE(n),d=[];e:{var h=L$.get(t);if(h!==void 0){var p=CE,g=t;switch(t){case"keypress":if(Km(n)===0)break e;case"keydown":case"keyup":p=h7;break;case"focusin":g="focus",p=lb;break;case"focusout":g="blur",p=lb;break;case"beforeblur":case"afterblur":p=lb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=m2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=t7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=g7;break;case R$:case M$:case D$:p=i7;break;case $$:p=v7;break;case"scroll":p=ZB;break;case"wheel":p=b7;break;case"copy":case"cut":case"paste":p=s7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=y2}var y=(e&4)!==0,v=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=Lf(b,x),S!=null&&y.push(Wf(b,S,w)))),v)break;b=b.return}0<y.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Kw&&(g=n.relatedTarget||n.fromElement)&&(Uo(g)||g[Va]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Uo(g):null,g!==null&&(v=Tl(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=m2,S="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=y2,S="onPointerLeave",x="onPointerEnter",b="pointer"),v=p==null?h:sc(p),w=g==null?h:sc(g),h=new y(S,b+"leave",p,n,u),h.target=v,h.relatedTarget=w,S=null,Uo(u)===c&&(y=new y(x,b+"enter",g,n,u),y.target=w,y.relatedTarget=v,S=y),v=S,p&&g)t:{for(y=p,x=g,b=0,w=y;w;w=Bl(w))b++;for(w=0,S=x;S;S=Bl(S))w++;for(;0<b-w;)y=Bl(y),b--;for(;0<w-b;)x=Bl(x),w--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=Bl(y),x=Bl(x)}y=null}else y=null;p!==null&&A2(d,h,p,y,!1),g!==null&&v!==null&&A2(d,v,g,y,!0)}}e:{if(h=c?sc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=P7;else if(b2(h))if(N$)E=O7;else{E=N7;var P=A7}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=I7);if(E&&(E=E(t,c))){A$(d,E,n,u);break e}P&&P(t,h,c),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&zw(h,"number",h.value)}switch(P=c?sc(c):window,t){case"focusin":(b2(P)||P.contentEditable==="true")&&(ic=P,t1=c,ff=null);break;case"focusout":ff=t1=ic=null;break;case"mousedown":n1=!0;break;case"contextmenu":case"mouseup":case"dragend":n1=!1,k2(d,n,u);break;case"selectionchange":if(R7)break;case"keydown":case"keyup":k2(d,n,u)}var _;if(RE)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else rc?T$(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(k$&&n.locale!=="ko"&&(rc||k!=="onCompositionStart"?k==="onCompositionEnd"&&rc&&(_=E$()):(Ns=u,OE="value"in Ns?Ns.value:Ns.textContent,rc=!0)),P=Ng(c,k),0<P.length&&(k=new g2(k,t,null,n,u),d.push({event:k,listeners:P}),_?k.data=_:(_=P$(n),_!==null&&(k.data=_)))),(_=_7?S7(t,n):E7(t,n))&&(c=Ng(c,"onBeforeInput"),0<c.length&&(u=new g2("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}F$(d,e)})}function Wf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ng(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Lf(t,n),a!=null&&r.unshift(Wf(t,a,i)),a=Lf(t,e),a!=null&&r.push(Wf(t,a,i))),t=t.return}return r}function Bl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function A2(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Lf(n,a),l!=null&&s.unshift(Wf(n,l,o))):i||(l=Lf(n,a),l!=null&&s.push(Wf(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var L7=/\r\n?/g,F7=/\u0000|\uFFFD/g;function N2(t){return(typeof t=="string"?t:""+t).replace(L7,`
`).replace(F7,"")}function im(t,e,n){if(e=N2(e),N2(t)!==e&&n)throw Error(fe(425))}function Ig(){}var r1=null,i1=null;function a1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s1=typeof setTimeout=="function"?setTimeout:void 0,V7=typeof clearTimeout=="function"?clearTimeout:void 0,I2=typeof Promise=="function"?Promise:void 0,U7=typeof queueMicrotask=="function"?queueMicrotask:typeof I2<"u"?function(t){return I2.resolve(null).then(t).catch(B7)}:s1;function B7(t){setTimeout(function(){throw t})}function gb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Uf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Uf(e)}function Ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cu=Math.random().toString(36).slice(2),Vi="__reactFiber$"+Cu,Hf="__reactProps$"+Cu,Va="__reactContainer$"+Cu,o1="__reactEvents$"+Cu,z7="__reactListeners$"+Cu,q7="__reactHandles$"+Cu;function Uo(t){var e=t[Vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Va]||n[Vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=O2(t);t!==null;){if(n=t[Vi])return n;t=O2(t)}return e}t=n,n=t.parentNode}return null}function cp(t){return t=t[Vi]||t[Va],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function ov(t){return t[Hf]||null}var l1=[],oc=-1;function fo(t){return{current:t}}function Tt(t){0>oc||(t.current=l1[oc],l1[oc]=null,oc--)}function xt(t,e){oc++,l1[oc]=t.current,t.current=e}var to={},Ln=fo(to),dr=fo(!1),al=to;function Vc(t,e){var n=t.type.contextTypes;if(!n)return to;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function fr(t){return t=t.childContextTypes,t!=null}function Og(){Tt(dr),Tt(Ln)}function C2(t,e,n){if(Ln.current!==to)throw Error(fe(168));xt(Ln,e),xt(dr,n)}function U$(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(fe(108,AB(t)||"Unknown",i));return Rt({},n,r)}function Cg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||to,al=Ln.current,xt(Ln,t),xt(dr,dr.current),!0}function j2(t,e,n){var r=t.stateNode;if(!r)throw Error(fe(169));n?(t=U$(t,e,al),r.__reactInternalMemoizedMergedChildContext=t,Tt(dr),Tt(Ln),xt(Ln,t)):Tt(dr),xt(dr,n)}var xa=null,lv=!1,yb=!1;function B$(t){xa===null?xa=[t]:xa.push(t)}function W7(t){lv=!0,B$(t)}function ho(){if(!yb&&xa!==null){yb=!0;var t=0,e=ot;try{var n=xa;for(ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xa=null,lv=!1}catch(i){throw xa!==null&&(xa=xa.slice(t+1)),h$(PE,ho),i}finally{ot=e,yb=!1}}return null}var lc=[],cc=0,jg=null,Rg=0,zr=[],qr=0,sl=null,ka=1,Ta="";function jo(t,e){lc[cc++]=Rg,lc[cc++]=jg,jg=t,Rg=e}function z$(t,e,n){zr[qr++]=ka,zr[qr++]=Ta,zr[qr++]=sl,sl=t;var r=ka;t=Ta;var i=32-ki(r)-1;r&=~(1<<i),n+=1;var a=32-ki(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ka=1<<32-ki(e)+i|n<<i|r,Ta=a+t}else ka=1<<a|n<<i|r,Ta=t}function DE(t){t.return!==null&&(jo(t,1),z$(t,1,0))}function $E(t){for(;t===jg;)jg=lc[--cc],lc[cc]=null,Rg=lc[--cc],lc[cc]=null;for(;t===sl;)sl=zr[--qr],zr[qr]=null,Ta=zr[--qr],zr[qr]=null,ka=zr[--qr],zr[qr]=null}var Ar=null,kr=null,Pt=!1,mi=null;function q$(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function R2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ar=t,kr=Ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ar=t,kr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sl!==null?{id:ka,overflow:Ta}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ar=t,kr=null,!0):!1;default:return!1}}function c1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function u1(t){if(Pt){var e=kr;if(e){var n=e;if(!R2(t,e)){if(c1(t))throw Error(fe(418));e=Ls(n.nextSibling);var r=Ar;e&&R2(t,e)?q$(r,n):(t.flags=t.flags&-4097|2,Pt=!1,Ar=t)}}else{if(c1(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Pt=!1,Ar=t}}}function M2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ar=t}function am(t){if(t!==Ar)return!1;if(!Pt)return M2(t),Pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!a1(t.type,t.memoizedProps)),e&&(e=kr)){if(c1(t))throw W$(),Error(fe(418));for(;e;)q$(t,e),e=Ls(e.nextSibling)}if(M2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kr=Ls(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kr=null}}else kr=Ar?Ls(t.stateNode.nextSibling):null;return!0}function W$(){for(var t=kr;t;)t=Ls(t.nextSibling)}function Uc(){kr=Ar=null,Pt=!1}function LE(t){mi===null?mi=[t]:mi.push(t)}var H7=es.ReactCurrentBatchConfig;function wd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function sm(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function D2(t){var e=t._init;return e(t._payload)}function H$(t){function e(x,b){if(t){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Bs(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,b,w,S){return b===null||b.tag!==6?(b=Eb(w,x.mode,S),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,S){var E=w.type;return E===nc?u(x,b,w.props.children,S,w.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ys&&D2(E)===b.type)?(S=i(b,w.props),S.ref=wd(x,b,w),S.return=x,S):(S=tg(w.type,w.key,w.props,null,x.mode,S),S.ref=wd(x,b,w),S.return=x,S)}function c(x,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=kb(w,x.mode,S),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function u(x,b,w,S,E){return b===null||b.tag!==7?(b=Jo(w,x.mode,S,E),b.return=x,b):(b=i(b,w),b.return=x,b)}function d(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Eb(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yp:return w=tg(b.type,b.key,b.props,null,x.mode,w),w.ref=wd(x,null,b),w.return=x,w;case tc:return b=kb(b,x.mode,w),b.return=x,b;case ys:var S=b._init;return d(x,S(b._payload),w)}if(qd(b)||gd(b))return b=Jo(b,x.mode,w,null),b.return=x,b;sm(x,b)}return null}function h(x,b,w,S){var E=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:o(x,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yp:return w.key===E?l(x,b,w,S):null;case tc:return w.key===E?c(x,b,w,S):null;case ys:return E=w._init,h(x,b,E(w._payload),S)}if(qd(w)||gd(w))return E!==null?null:u(x,b,w,S,null);sm(x,w)}return null}function p(x,b,w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,o(b,x,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yp:return x=x.get(S.key===null?w:S.key)||null,l(b,x,S,E);case tc:return x=x.get(S.key===null?w:S.key)||null,c(b,x,S,E);case ys:var P=S._init;return p(x,b,w,P(S._payload),E)}if(qd(S)||gd(S))return x=x.get(w)||null,u(b,x,S,E,null);sm(b,S)}return null}function g(x,b,w,S){for(var E=null,P=null,_=b,k=b=0,A=null;_!==null&&k<w.length;k++){_.index>k?(A=_,_=null):A=_.sibling;var I=h(x,_,w[k],S);if(I===null){_===null&&(_=A);break}t&&_&&I.alternate===null&&e(x,_),b=a(I,b,k),P===null?E=I:P.sibling=I,P=I,_=A}if(k===w.length)return n(x,_),Pt&&jo(x,k),E;if(_===null){for(;k<w.length;k++)_=d(x,w[k],S),_!==null&&(b=a(_,b,k),P===null?E=_:P.sibling=_,P=_);return Pt&&jo(x,k),E}for(_=r(x,_);k<w.length;k++)A=p(_,x,k,w[k],S),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?k:A.key),b=a(A,b,k),P===null?E=A:P.sibling=A,P=A);return t&&_.forEach(function(C){return e(x,C)}),Pt&&jo(x,k),E}function y(x,b,w,S){var E=gd(w);if(typeof E!="function")throw Error(fe(150));if(w=E.call(w),w==null)throw Error(fe(151));for(var P=E=null,_=b,k=b=0,A=null,I=w.next();_!==null&&!I.done;k++,I=w.next()){_.index>k?(A=_,_=null):A=_.sibling;var C=h(x,_,I.value,S);if(C===null){_===null&&(_=A);break}t&&_&&C.alternate===null&&e(x,_),b=a(C,b,k),P===null?E=C:P.sibling=C,P=C,_=A}if(I.done)return n(x,_),Pt&&jo(x,k),E;if(_===null){for(;!I.done;k++,I=w.next())I=d(x,I.value,S),I!==null&&(b=a(I,b,k),P===null?E=I:P.sibling=I,P=I);return Pt&&jo(x,k),E}for(_=r(x,_);!I.done;k++,I=w.next())I=p(_,x,k,I.value,S),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?k:I.key),b=a(I,b,k),P===null?E=I:P.sibling=I,P=I);return t&&_.forEach(function(j){return e(x,j)}),Pt&&jo(x,k),E}function v(x,b,w,S){if(typeof w=="object"&&w!==null&&w.type===nc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Yp:e:{for(var E=w.key,P=b;P!==null;){if(P.key===E){if(E=w.type,E===nc){if(P.tag===7){n(x,P.sibling),b=i(P,w.props.children),b.return=x,x=b;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ys&&D2(E)===P.type){n(x,P.sibling),b=i(P,w.props),b.ref=wd(x,P,w),b.return=x,x=b;break e}n(x,P);break}else e(x,P);P=P.sibling}w.type===nc?(b=Jo(w.props.children,x.mode,S,w.key),b.return=x,x=b):(S=tg(w.type,w.key,w.props,null,x.mode,S),S.ref=wd(x,b,w),S.return=x,x=S)}return s(x);case tc:e:{for(P=w.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=kb(w,x.mode,S),b.return=x,x=b}return s(x);case ys:return P=w._init,v(x,b,P(w._payload),S)}if(qd(w))return g(x,b,w,S);if(gd(w))return y(x,b,w,S);sm(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=Eb(w,x.mode,S),b.return=x,x=b),s(x)):n(x,b)}return v}var Bc=H$(!0),G$=H$(!1),Mg=fo(null),Dg=null,uc=null,FE=null;function VE(){FE=uc=Dg=null}function UE(t){var e=Mg.current;Tt(Mg),t._currentValue=e}function d1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function kc(t,e){Dg=t,FE=uc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cr=!0),t.firstContext=null)}function ti(t){var e=t._currentValue;if(FE!==t)if(t={context:t,memoizedValue:e,next:null},uc===null){if(Dg===null)throw Error(fe(308));uc=t,Dg.dependencies={lanes:0,firstContext:t}}else uc=uc.next=t;return e}var Bo=null;function BE(t){Bo===null?Bo=[t]:Bo.push(t)}function K$(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,BE(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ua(t,r)}function Ua(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vs=!1;function zE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ra(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,tt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ua(t,n)}return i=r.interleaved,i===null?(e.next=e,BE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ua(t,n)}function Ym(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AE(t,n)}}function $2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $g(t,e,n,r){var i=t.updateQueue;vs=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,u=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(h=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Rt({},d,h);break e;case 2:vs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ll|=s,t.lanes=s,t.memoizedState=d}}function L2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var up={},Ki=fo(up),Gf=fo(up),Kf=fo(up);function zo(t){if(t===up)throw Error(fe(174));return t}function qE(t,e){switch(xt(Kf,e),xt(Gf,t),xt(Ki,up),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ww(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ww(e,t)}Tt(Ki),xt(Ki,e)}function zc(){Tt(Ki),Tt(Gf),Tt(Kf)}function Q$(t){zo(Kf.current);var e=zo(Ki.current),n=Ww(e,t.type);e!==n&&(xt(Gf,t),xt(Ki,n))}function WE(t){Gf.current===t&&(Tt(Ki),Tt(Gf))}var It=fo(0);function Lg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vb=[];function HE(){for(var t=0;t<vb.length;t++)vb[t]._workInProgressVersionPrimary=null;vb.length=0}var Qm=es.ReactCurrentDispatcher,xb=es.ReactCurrentBatchConfig,ol=0,jt=null,an=null,pn=null,Fg=!1,hf=!1,Yf=0,G7=0;function An(){throw Error(fe(321))}function GE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ni(t[n],e[n]))return!1;return!0}function KE(t,e,n,r,i,a){if(ol=a,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qm.current=t===null||t.memoizedState===null?X7:J7,t=n(r,i),hf){a=0;do{if(hf=!1,Yf=0,25<=a)throw Error(fe(301));a+=1,pn=an=null,e.updateQueue=null,Qm.current=Z7,t=n(r,i)}while(hf)}if(Qm.current=Vg,e=an!==null&&an.next!==null,ol=0,pn=an=jt=null,Fg=!1,e)throw Error(fe(300));return t}function YE(){var t=Yf!==0;return Yf=0,t}function $i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?jt.memoizedState=pn=t:pn=pn.next=t,pn}function ni(){if(an===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=an.next;var e=pn===null?jt.memoizedState:pn.next;if(e!==null)pn=e,an=t;else{if(t===null)throw Error(fe(310));an=t,t={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},pn===null?jt.memoizedState=pn=t:pn=pn.next=t}return pn}function Qf(t,e){return typeof e=="function"?e(t):e}function bb(t){var e=ni(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=an,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((ol&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,jt.lanes|=u,ll|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,Ni(r,e.memoizedState)||(cr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,jt.lanes|=a,ll|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wb(t){var e=ni(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Ni(a,e.memoizedState)||(cr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function X$(){}function J$(t,e){var n=jt,r=ni(),i=e(),a=!Ni(r.memoizedState,i);if(a&&(r.memoizedState=i,cr=!0),r=r.queue,QE(t4.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||pn!==null&&pn.memoizedState.tag&1){if(n.flags|=2048,Xf(9,e4.bind(null,n,r,i,e),void 0,null),mn===null)throw Error(fe(349));ol&30||Z$(n,e,i)}return i}function Z$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function e4(t,e,n,r){e.value=n,e.getSnapshot=r,n4(e)&&r4(t)}function t4(t,e,n){return n(function(){n4(e)&&r4(t)})}function n4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ni(t,n)}catch{return!0}}function r4(t){var e=Ua(t,1);e!==null&&Ti(e,t,1,-1)}function F2(t){var e=$i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qf,lastRenderedState:t},e.queue=t,t=t.dispatch=Q7.bind(null,jt,t),[e.memoizedState,t]}function Xf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function i4(){return ni().memoizedState}function Xm(t,e,n,r){var i=$i();jt.flags|=t,i.memoizedState=Xf(1|e,n,void 0,r===void 0?null:r)}function cv(t,e,n,r){var i=ni();r=r===void 0?null:r;var a=void 0;if(an!==null){var s=an.memoizedState;if(a=s.destroy,r!==null&&GE(r,s.deps)){i.memoizedState=Xf(e,n,a,r);return}}jt.flags|=t,i.memoizedState=Xf(1|e,n,a,r)}function V2(t,e){return Xm(8390656,8,t,e)}function QE(t,e){return cv(2048,8,t,e)}function a4(t,e){return cv(4,2,t,e)}function s4(t,e){return cv(4,4,t,e)}function o4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function l4(t,e,n){return n=n!=null?n.concat([t]):null,cv(4,4,o4.bind(null,e,t),n)}function XE(){}function c4(t,e){var n=ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function u4(t,e){var n=ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function d4(t,e,n){return ol&21?(Ni(n,e)||(n=g$(),jt.lanes|=n,ll|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cr=!0),t.memoizedState=n)}function K7(t,e){var n=ot;ot=n!==0&&4>n?n:4,t(!0);var r=xb.transition;xb.transition={};try{t(!1),e()}finally{ot=n,xb.transition=r}}function f4(){return ni().memoizedState}function Y7(t,e,n){var r=Us(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},h4(t))p4(e,n);else if(n=K$(t,e,n,r),n!==null){var i=Yn();Ti(n,t,r,i),m4(n,e,r)}}function Q7(t,e,n){var r=Us(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(h4(t))p4(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Ni(o,s)){var l=e.interleaved;l===null?(i.next=i,BE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=K$(t,e,i,r),n!==null&&(i=Yn(),Ti(n,t,r,i),m4(n,e,r))}}function h4(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function p4(t,e){hf=Fg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function m4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,AE(t,n)}}var Vg={readContext:ti,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},X7={readContext:ti,useCallback:function(t,e){return $i().memoizedState=[t,e===void 0?null:e],t},useContext:ti,useEffect:V2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xm(4194308,4,o4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xm(4,2,t,e)},useMemo:function(t,e){var n=$i();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$i();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Y7.bind(null,jt,t),[r.memoizedState,t]},useRef:function(t){var e=$i();return t={current:t},e.memoizedState=t},useState:F2,useDebugValue:XE,useDeferredValue:function(t){return $i().memoizedState=t},useTransition:function(){var t=F2(!1),e=t[0];return t=K7.bind(null,t[1]),$i().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=jt,i=$i();if(Pt){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),mn===null)throw Error(fe(349));ol&30||Z$(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,V2(t4.bind(null,r,a,t),[t]),r.flags|=2048,Xf(9,e4.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=$i(),e=mn.identifierPrefix;if(Pt){var n=Ta,r=ka;n=(r&~(1<<32-ki(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=G7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},J7={readContext:ti,useCallback:c4,useContext:ti,useEffect:QE,useImperativeHandle:l4,useInsertionEffect:a4,useLayoutEffect:s4,useMemo:u4,useReducer:bb,useRef:i4,useState:function(){return bb(Qf)},useDebugValue:XE,useDeferredValue:function(t){var e=ni();return d4(e,an.memoizedState,t)},useTransition:function(){var t=bb(Qf)[0],e=ni().memoizedState;return[t,e]},useMutableSource:X$,useSyncExternalStore:J$,useId:f4,unstable_isNewReconciler:!1},Z7={readContext:ti,useCallback:c4,useContext:ti,useEffect:QE,useImperativeHandle:l4,useInsertionEffect:a4,useLayoutEffect:s4,useMemo:u4,useReducer:wb,useRef:i4,useState:function(){return wb(Qf)},useDebugValue:XE,useDeferredValue:function(t){var e=ni();return an===null?e.memoizedState=t:d4(e,an.memoizedState,t)},useTransition:function(){var t=wb(Qf)[0],e=ni().memoizedState;return[t,e]},useMutableSource:X$,useSyncExternalStore:J$,useId:f4,unstable_isNewReconciler:!1};function fi(t,e){if(t&&t.defaultProps){e=Rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function f1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uv={isMounted:function(t){return(t=t._reactInternals)?Tl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=Us(t),a=Ra(r,i);a.payload=e,n!=null&&(a.callback=n),e=Fs(t,a,i),e!==null&&(Ti(e,t,i,r),Ym(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=Us(t),a=Ra(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Fs(t,a,i),e!==null&&(Ti(e,t,i,r),Ym(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yn(),r=Us(t),i=Ra(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fs(t,i,r),e!==null&&(Ti(e,t,r,n),Ym(e,t,r))}};function U2(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!zf(n,r)||!zf(i,a):!0}function g4(t,e,n){var r=!1,i=to,a=e.contextType;return typeof a=="object"&&a!==null?a=ti(a):(i=fr(e)?al:Ln.current,r=e.contextTypes,a=(r=r!=null)?Vc(t,i):to),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function B2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uv.enqueueReplaceState(e,e.state,null)}function h1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zE(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ti(a):(a=fr(e)?al:Ln.current,i.context=Vc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(f1(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uv.enqueueReplaceState(i,i.state,null),$g(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qc(t,e){try{var n="",r=e;do n+=PB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function _b(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function p1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ez=typeof WeakMap=="function"?WeakMap:Map;function y4(t,e,n){n=Ra(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bg||(Bg=!0,E1=r),p1(t,e)},n}function v4(t,e,n){n=Ra(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){p1(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){p1(t,e),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function z2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ez;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pz.bind(null,t,e,n),e.then(t,t))}function q2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function W2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ra(-1,1),e.tag=2,Fs(n,e,1))),n.lanes|=1),t)}var tz=es.ReactCurrentOwner,cr=!1;function Vn(t,e,n,r){e.child=t===null?G$(e,null,n,r):Bc(e,t.child,n,r)}function H2(t,e,n,r,i){n=n.render;var a=e.ref;return kc(e,i),r=KE(t,e,n,r,a,i),n=YE(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ba(t,e,i)):(Pt&&n&&DE(e),e.flags|=1,Vn(t,e,r,i),e.child)}function G2(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!ak(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,x4(t,e,a,r,i)):(t=tg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:zf,n(s,r)&&t.ref===e.ref)return Ba(t,e,i)}return e.flags|=1,t=Bs(a,r),t.ref=e.ref,t.return=e,e.child=t}function x4(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(zf(a,r)&&t.ref===e.ref)if(cr=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(cr=!0);else return e.lanes=t.lanes,Ba(t,e,i)}return m1(t,e,n,r,i)}function b4(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(fc,br),br|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(fc,br),br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,xt(fc,br),br|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,xt(fc,br),br|=r;return Vn(t,e,i,n),e.child}function w4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function m1(t,e,n,r,i){var a=fr(n)?al:Ln.current;return a=Vc(e,a),kc(e,i),n=KE(t,e,n,r,a,i),r=YE(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ba(t,e,i)):(Pt&&r&&DE(e),e.flags|=1,Vn(t,e,n,i),e.child)}function K2(t,e,n,r,i){if(fr(n)){var a=!0;Cg(e)}else a=!1;if(kc(e,i),e.stateNode===null)Jm(t,e),g4(e,n,r),h1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ti(c):(c=fr(n)?al:Ln.current,c=Vc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&B2(e,s,r,c),vs=!1;var h=e.memoizedState;s.state=h,$g(e,r,s,i),l=e.memoizedState,o!==r||h!==l||dr.current||vs?(typeof u=="function"&&(f1(e,n,u,r),l=e.memoizedState),(o=vs||U2(e,n,o,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Y$(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:fi(e.type,o),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ti(l):(l=fr(n)?al:Ln.current,l=Vc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&B2(e,s,r,l),vs=!1,h=e.memoizedState,s.state=h,$g(e,r,s,i);var g=e.memoizedState;o!==d||h!==g||dr.current||vs?(typeof p=="function"&&(f1(e,n,p,r),g=e.memoizedState),(c=vs||U2(e,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return g1(t,e,n,r,a,i)}function g1(t,e,n,r,i,a){w4(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&j2(e,n,!1),Ba(t,e,a);r=e.stateNode,tz.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Bc(e,t.child,null,a),e.child=Bc(e,null,o,a)):Vn(t,e,o,a),e.memoizedState=r.state,i&&j2(e,n,!0),e.child}function _4(t){var e=t.stateNode;e.pendingContext?C2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&C2(t,e.context,!1),qE(t,e.containerInfo)}function Y2(t,e,n,r,i){return Uc(),LE(i),e.flags|=256,Vn(t,e,n,r),e.child}var y1={dehydrated:null,treeContext:null,retryLane:0};function v1(t){return{baseLanes:t,cachePool:null,transitions:null}}function S4(t,e,n){var r=e.pendingProps,i=It.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xt(It,i&1),t===null)return u1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=hv(s,r,0,null),t=Jo(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=v1(n),e.memoizedState=y1,t):JE(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return nz(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Bs(o,a):(a=Jo(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?v1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=y1,r}return a=t.child,t=a.sibling,r=Bs(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function JE(t,e){return e=hv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function om(t,e,n,r){return r!==null&&LE(r),Bc(e,t.child,null,n),t=JE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nz(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=_b(Error(fe(422))),om(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=hv({mode:"visible",children:r.children},i,0,null),a=Jo(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Bc(e,t.child,null,s),e.child.memoizedState=v1(s),e.memoizedState=y1,a);if(!(e.mode&1))return om(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(fe(419)),r=_b(a,r,void 0),om(t,e,s,r)}if(o=(s&t.childLanes)!==0,cr||o){if(r=mn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ua(t,i),Ti(r,t,i,-1))}return ik(),r=_b(Error(fe(421))),om(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mz.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,kr=Ls(i.nextSibling),Ar=e,Pt=!0,mi=null,t!==null&&(zr[qr++]=ka,zr[qr++]=Ta,zr[qr++]=sl,ka=t.id,Ta=t.overflow,sl=e),e=JE(e,r.children),e.flags|=4096,e)}function Q2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),d1(t.return,e,n)}function Sb(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function E4(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Vn(t,e,r.children,n),r=It.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q2(t,n,e);else if(t.tag===19)Q2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xt(It,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sb(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sb(e,!0,n,null,a);break;case"together":Sb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ba(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ll|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=Bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rz(t,e,n){switch(e.tag){case 3:_4(e),Uc();break;case 5:Q$(e);break;case 1:fr(e.type)&&Cg(e);break;case 4:qE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xt(Mg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xt(It,It.current&1),e.flags|=128,null):n&e.child.childLanes?S4(t,e,n):(xt(It,It.current&1),t=Ba(t,e,n),t!==null?t.sibling:null);xt(It,It.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return E4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xt(It,It.current),r)break;return null;case 22:case 23:return e.lanes=0,b4(t,e,n)}return Ba(t,e,n)}var k4,x1,T4,P4;k4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};x1=function(){};T4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zo(Ki.current);var a=null;switch(n){case"input":i=Uw(t,i),r=Uw(t,r),a=[];break;case"select":i=Rt({},i,{value:void 0}),r=Rt({},r,{value:void 0}),a=[];break;case"textarea":i=qw(t,i),r=qw(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ig)}Hw(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Df.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Df.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_t("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};P4=function(t,e,n,r){n!==r&&(e.flags|=4)};function _d(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iz(t,e,n){var r=e.pendingProps;switch($E(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return fr(e.type)&&Og(),Nn(e),null;case 3:return r=e.stateNode,zc(),Tt(dr),Tt(Ln),HE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(am(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mi!==null&&(P1(mi),mi=null))),x1(t,e),Nn(e),null;case 5:WE(e);var i=zo(Kf.current);if(n=e.type,t!==null&&e.stateNode!=null)T4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(fe(166));return Nn(e),null}if(t=zo(Ki.current),am(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Vi]=e,r[Hf]=a,t=(e.mode&1)!==0,n){case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":case"embed":_t("load",r);break;case"video":case"audio":for(i=0;i<Hd.length;i++)_t(Hd[i],r);break;case"source":_t("error",r);break;case"img":case"image":case"link":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"input":a2(r,a),_t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},_t("invalid",r);break;case"textarea":o2(r,a),_t("invalid",r)}Hw(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&im(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&im(r.textContent,o,t),i=["children",""+o]):Df.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&_t("scroll",r)}switch(n){case"input":Qp(r),s2(r,a,!0);break;case"textarea":Qp(r),l2(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ig)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=t$(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Vi]=e,t[Hf]=r,k4(t,e,!1,!1),e.stateNode=t;e:{switch(s=Gw(n,r),n){case"dialog":_t("cancel",t),_t("close",t),i=r;break;case"iframe":case"object":case"embed":_t("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hd.length;i++)_t(Hd[i],t);i=r;break;case"source":_t("error",t),i=r;break;case"img":case"image":case"link":_t("error",t),_t("load",t),i=r;break;case"details":_t("toggle",t),i=r;break;case"input":a2(t,r),i=Uw(t,r),_t("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Rt({},r,{value:void 0}),_t("invalid",t);break;case"textarea":o2(t,r),i=qw(t,r),_t("invalid",t);break;default:i=r}Hw(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?i$(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&n$(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$f(t,l):typeof l=="number"&&$f(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Df.hasOwnProperty(a)?l!=null&&a==="onScroll"&&_t("scroll",t):l!=null&&_E(t,a,l,s))}switch(n){case"input":Qp(t),s2(t,r,!1);break;case"textarea":Qp(t),l2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+eo(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?wc(t,!!r.multiple,a,!1):r.defaultValue!=null&&wc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ig)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)P4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(fe(166));if(n=zo(Kf.current),zo(Ki.current),am(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vi]=e,(a=r.nodeValue!==n)&&(t=Ar,t!==null))switch(t.tag){case 3:im(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&im(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vi]=e,e.stateNode=r}return Nn(e),null;case 13:if(Tt(It),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pt&&kr!==null&&e.mode&1&&!(e.flags&128))W$(),Uc(),e.flags|=98560,a=!1;else if(a=am(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(fe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(fe(317));a[Vi]=e}else Uc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),a=!1}else mi!==null&&(P1(mi),mi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||It.current&1?sn===0&&(sn=3):ik())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return zc(),x1(t,e),t===null&&qf(e.stateNode.containerInfo),Nn(e),null;case 10:return UE(e.type._context),Nn(e),null;case 17:return fr(e.type)&&Og(),Nn(e),null;case 19:if(Tt(It),a=e.memoizedState,a===null)return Nn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)_d(a,!1);else{if(sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Lg(t),s!==null){for(e.flags|=128,_d(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xt(It,It.current&1|2),e.child}t=t.sibling}a.tail!==null&&zt()>Wc&&(e.flags|=128,r=!0,_d(a,!1),e.lanes=4194304)}else{if(!r)if(t=Lg(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_d(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Pt)return Nn(e),null}else 2*zt()-a.renderingStartTime>Wc&&n!==1073741824&&(e.flags|=128,r=!0,_d(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=zt(),e.sibling=null,n=It.current,xt(It,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return rk(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?br&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function az(t,e){switch($E(e),e.tag){case 1:return fr(e.type)&&Og(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zc(),Tt(dr),Tt(Ln),HE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return WE(e),null;case 13:if(Tt(It),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Uc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(It),null;case 4:return zc(),null;case 10:return UE(e.type._context),null;case 22:case 23:return rk(),null;case 24:return null;default:return null}}var lm=!1,jn=!1,sz=typeof WeakSet=="function"?WeakSet:Set,ke=null;function dc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ft(t,e,r)}else n.current=null}function b1(t,e,n){try{n()}catch(r){Ft(t,e,r)}}var X2=!1;function oz(t,e){if(r1=Pg,t=C$(),ME(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(i1={focusedElem:t,selectionRange:n},Pg=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){e=ke;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:fi(e.type,y),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(S){Ft(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}return g=X2,X2=!1,g}function pf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&b1(e,n,a)}i=i.next}while(i!==r)}}function dv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function w1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function A4(t){var e=t.alternate;e!==null&&(t.alternate=null,A4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vi],delete e[Hf],delete e[o1],delete e[z7],delete e[q7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function N4(t){return t.tag===5||t.tag===3||t.tag===4}function J2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||N4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ig));else if(r!==4&&(t=t.child,t!==null))for(_1(t,e,n),t=t.sibling;t!==null;)_1(t,e,n),t=t.sibling}function S1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(S1(t,e,n),t=t.sibling;t!==null;)S1(t,e,n),t=t.sibling}var bn=null,hi=!1;function ds(t,e,n){for(n=n.child;n!==null;)I4(t,e,n),n=n.sibling}function I4(t,e,n){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(rv,n)}catch{}switch(n.tag){case 5:jn||dc(n,e);case 6:var r=bn,i=hi;bn=null,ds(t,e,n),bn=r,hi=i,bn!==null&&(hi?(t=bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bn.removeChild(n.stateNode));break;case 18:bn!==null&&(hi?(t=bn,n=n.stateNode,t.nodeType===8?gb(t.parentNode,n):t.nodeType===1&&gb(t,n),Uf(t)):gb(bn,n.stateNode));break;case 4:r=bn,i=hi,bn=n.stateNode.containerInfo,hi=!0,ds(t,e,n),bn=r,hi=i;break;case 0:case 11:case 14:case 15:if(!jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&b1(n,e,s),i=i.next}while(i!==r)}ds(t,e,n);break;case 1:if(!jn&&(dc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ft(n,e,o)}ds(t,e,n);break;case 21:ds(t,e,n);break;case 22:n.mode&1?(jn=(r=jn)||n.memoizedState!==null,ds(t,e,n),jn=r):ds(t,e,n);break;default:ds(t,e,n)}}function Z2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sz),e.forEach(function(r){var i=gz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ui(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:bn=o.stateNode,hi=!1;break e;case 3:bn=o.stateNode.containerInfo,hi=!0;break e;case 4:bn=o.stateNode.containerInfo,hi=!0;break e}o=o.return}if(bn===null)throw Error(fe(160));I4(a,s,i),bn=null,hi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ft(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)O4(e,t),e=e.sibling}function O4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ui(e,t),Di(t),r&4){try{pf(3,t,t.return),dv(3,t)}catch(y){Ft(t,t.return,y)}try{pf(5,t,t.return)}catch(y){Ft(t,t.return,y)}}break;case 1:ui(e,t),Di(t),r&512&&n!==null&&dc(n,n.return);break;case 5:if(ui(e,t),Di(t),r&512&&n!==null&&dc(n,n.return),t.flags&32){var i=t.stateNode;try{$f(i,"")}catch(y){Ft(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&ZD(i,a),Gw(o,s);var c=Gw(o,a);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?i$(i,d):u==="dangerouslySetInnerHTML"?n$(i,d):u==="children"?$f(i,d):_E(i,u,d,c)}switch(o){case"input":Bw(i,a);break;case"textarea":e$(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?wc(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?wc(i,!!a.multiple,a.defaultValue,!0):wc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Hf]=a}catch(y){Ft(t,t.return,y)}}break;case 6:if(ui(e,t),Di(t),r&4){if(t.stateNode===null)throw Error(fe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){Ft(t,t.return,y)}}break;case 3:if(ui(e,t),Di(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uf(e.containerInfo)}catch(y){Ft(t,t.return,y)}break;case 4:ui(e,t),Di(t);break;case 13:ui(e,t),Di(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(tk=zt())),r&4&&Z2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(jn=(c=jn)||u,ui(e,t),jn=c):ui(e,t),Di(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ke=t,u=t.child;u!==null;){for(d=ke=u;ke!==null;){switch(h=ke,p=h.child,h.tag){case 0:case 11:case 14:case 15:pf(4,h,h.return);break;case 1:dc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Ft(r,n,y)}}break;case 5:dc(h,h.return);break;case 22:if(h.memoizedState!==null){tN(d);continue}}p!==null?(p.return=h,ke=p):tN(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=r$("display",s))}catch(y){Ft(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Ft(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ui(e,t),Di(t),r&4&&Z2(t);break;case 21:break;default:ui(e,t),Di(t)}}function Di(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(N4(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($f(i,""),r.flags&=-33);var a=J2(t);S1(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=J2(t);_1(t,o,s);break;default:throw Error(fe(161))}}catch(l){Ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lz(t,e,n){ke=t,C4(t)}function C4(t,e,n){for(var r=(t.mode&1)!==0;ke!==null;){var i=ke,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||lm;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||jn;o=lm;var c=jn;if(lm=s,(jn=l)&&!c)for(ke=i;ke!==null;)s=ke,l=s.child,s.tag===22&&s.memoizedState!==null?nN(i):l!==null?(l.return=s,ke=l):nN(i);for(;a!==null;)ke=a,C4(a),a=a.sibling;ke=i,lm=o,jn=c}eN(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ke=a):eN(t)}}function eN(t){for(;ke!==null;){var e=ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||dv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&L2(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}L2(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Uf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}jn||e.flags&512&&w1(e)}catch(h){Ft(e,e.return,h)}}if(e===t){ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,ke=n;break}ke=e.return}}function tN(t){for(;ke!==null;){var e=ke;if(e===t){ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ke=n;break}ke=e.return}}function nN(t){for(;ke!==null;){var e=ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dv(4,e)}catch(l){Ft(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ft(e,i,l)}}var a=e.return;try{w1(e)}catch(l){Ft(e,a,l)}break;case 5:var s=e.return;try{w1(e)}catch(l){Ft(e,s,l)}}}catch(l){Ft(e,e.return,l)}if(e===t){ke=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ke=o;break}ke=e.return}}var cz=Math.ceil,Ug=es.ReactCurrentDispatcher,ZE=es.ReactCurrentOwner,Xr=es.ReactCurrentBatchConfig,tt=0,mn=null,Yt=null,kn=0,br=0,fc=fo(0),sn=0,Jf=null,ll=0,fv=0,ek=0,mf=null,sr=null,tk=0,Wc=1/0,va=null,Bg=!1,E1=null,Vs=null,cm=!1,Is=null,zg=0,gf=0,k1=null,Zm=-1,eg=0;function Yn(){return tt&6?zt():Zm!==-1?Zm:Zm=zt()}function Us(t){return t.mode&1?tt&2&&kn!==0?kn&-kn:H7.transition!==null?(eg===0&&(eg=g$()),eg):(t=ot,t!==0||(t=window.event,t=t===void 0?16:S$(t.type)),t):1}function Ti(t,e,n,r){if(50<gf)throw gf=0,k1=null,Error(fe(185));op(t,n,r),(!(tt&2)||t!==mn)&&(t===mn&&(!(tt&2)&&(fv|=n),sn===4&&Ss(t,kn)),hr(t,r),n===1&&tt===0&&!(e.mode&1)&&(Wc=zt()+500,lv&&ho()))}function hr(t,e){var n=t.callbackNode;HB(t,e);var r=Tg(t,t===mn?kn:0);if(r===0)n!==null&&d2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d2(n),e===1)t.tag===0?W7(rN.bind(null,t)):B$(rN.bind(null,t)),U7(function(){!(tt&6)&&ho()}),n=null;else{switch(y$(r)){case 1:n=PE;break;case 4:n=p$;break;case 16:n=kg;break;case 536870912:n=m$;break;default:n=kg}n=V4(n,j4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function j4(t,e){if(Zm=-1,eg=0,tt&6)throw Error(fe(327));var n=t.callbackNode;if(Tc()&&t.callbackNode!==n)return null;var r=Tg(t,t===mn?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qg(t,r);else{e=r;var i=tt;tt|=2;var a=M4();(mn!==t||kn!==e)&&(va=null,Wc=zt()+500,Xo(t,e));do try{fz();break}catch(o){R4(t,o)}while(!0);VE(),Ug.current=a,tt=i,Yt!==null?e=0:(mn=null,kn=0,e=sn)}if(e!==0){if(e===2&&(i=Jw(t),i!==0&&(r=i,e=T1(t,i))),e===1)throw n=Jf,Xo(t,0),Ss(t,r),hr(t,zt()),n;if(e===6)Ss(t,r);else{if(i=t.current.alternate,!(r&30)&&!uz(i)&&(e=qg(t,r),e===2&&(a=Jw(t),a!==0&&(r=a,e=T1(t,a))),e===1))throw n=Jf,Xo(t,0),Ss(t,r),hr(t,zt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(fe(345));case 2:Ro(t,sr,va);break;case 3:if(Ss(t,r),(r&130023424)===r&&(e=tk+500-zt(),10<e)){if(Tg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=s1(Ro.bind(null,t,sr,va),e);break}Ro(t,sr,va);break;case 4:if(Ss(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ki(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cz(r/1960))-r,10<r){t.timeoutHandle=s1(Ro.bind(null,t,sr,va),r);break}Ro(t,sr,va);break;case 5:Ro(t,sr,va);break;default:throw Error(fe(329))}}}return hr(t,zt()),t.callbackNode===n?j4.bind(null,t):null}function T1(t,e){var n=mf;return t.current.memoizedState.isDehydrated&&(Xo(t,e).flags|=256),t=qg(t,e),t!==2&&(e=sr,sr=n,e!==null&&P1(e)),t}function P1(t){sr===null?sr=t:sr.push.apply(sr,t)}function uz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ni(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ss(t,e){for(e&=~ek,e&=~fv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ki(e),r=1<<n;t[n]=-1,e&=~r}}function rN(t){if(tt&6)throw Error(fe(327));Tc();var e=Tg(t,0);if(!(e&1))return hr(t,zt()),null;var n=qg(t,e);if(t.tag!==0&&n===2){var r=Jw(t);r!==0&&(e=r,n=T1(t,r))}if(n===1)throw n=Jf,Xo(t,0),Ss(t,e),hr(t,zt()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ro(t,sr,va),hr(t,zt()),null}function nk(t,e){var n=tt;tt|=1;try{return t(e)}finally{tt=n,tt===0&&(Wc=zt()+500,lv&&ho())}}function cl(t){Is!==null&&Is.tag===0&&!(tt&6)&&Tc();var e=tt;tt|=1;var n=Xr.transition,r=ot;try{if(Xr.transition=null,ot=1,t)return t()}finally{ot=r,Xr.transition=n,tt=e,!(tt&6)&&ho()}}function rk(){br=fc.current,Tt(fc)}function Xo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,V7(n)),Yt!==null)for(n=Yt.return;n!==null;){var r=n;switch($E(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Og();break;case 3:zc(),Tt(dr),Tt(Ln),HE();break;case 5:WE(r);break;case 4:zc();break;case 13:Tt(It);break;case 19:Tt(It);break;case 10:UE(r.type._context);break;case 22:case 23:rk()}n=n.return}if(mn=t,Yt=t=Bs(t.current,null),kn=br=e,sn=0,Jf=null,ek=fv=ll=0,sr=mf=null,Bo!==null){for(e=0;e<Bo.length;e++)if(n=Bo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Bo=null}return t}function R4(t,e){do{var n=Yt;try{if(VE(),Qm.current=Vg,Fg){for(var r=jt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fg=!1}if(ol=0,pn=an=jt=null,hf=!1,Yf=0,ZE.current=null,n===null||n.return===null){sn=1,Jf=e,Yt=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=kn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=q2(s);if(p!==null){p.flags&=-257,W2(p,s,o,a,e),p.mode&1&&z2(a,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){z2(a,c,e),ik();break e}l=Error(fe(426))}}else if(Pt&&o.mode&1){var v=q2(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),W2(v,s,o,a,e),LE(qc(l,o));break e}}a=l=qc(l,o),sn!==4&&(sn=2),mf===null?mf=[a]:mf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=y4(a,l,e);$2(a,x);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vs===null||!Vs.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=v4(a,o,e);$2(a,S);break e}}a=a.return}while(a!==null)}$4(n)}catch(E){e=E,Yt===n&&n!==null&&(Yt=n=n.return);continue}break}while(!0)}function M4(){var t=Ug.current;return Ug.current=Vg,t===null?Vg:t}function ik(){(sn===0||sn===3||sn===2)&&(sn=4),mn===null||!(ll&268435455)&&!(fv&268435455)||Ss(mn,kn)}function qg(t,e){var n=tt;tt|=2;var r=M4();(mn!==t||kn!==e)&&(va=null,Xo(t,e));do try{dz();break}catch(i){R4(t,i)}while(!0);if(VE(),tt=n,Ug.current=r,Yt!==null)throw Error(fe(261));return mn=null,kn=0,sn}function dz(){for(;Yt!==null;)D4(Yt)}function fz(){for(;Yt!==null&&!$B();)D4(Yt)}function D4(t){var e=F4(t.alternate,t,br);t.memoizedProps=t.pendingProps,e===null?$4(t):Yt=e,ZE.current=null}function $4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=az(n,e),n!==null){n.flags&=32767,Yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sn=6,Yt=null;return}}else if(n=iz(n,e,br),n!==null){Yt=n;return}if(e=e.sibling,e!==null){Yt=e;return}Yt=e=t}while(e!==null);sn===0&&(sn=5)}function Ro(t,e,n){var r=ot,i=Xr.transition;try{Xr.transition=null,ot=1,hz(t,e,n,r)}finally{Xr.transition=i,ot=r}return null}function hz(t,e,n,r){do Tc();while(Is!==null);if(tt&6)throw Error(fe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(GB(t,a),t===mn&&(Yt=mn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cm||(cm=!0,V4(kg,function(){return Tc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Xr.transition,Xr.transition=null;var s=ot;ot=1;var o=tt;tt|=4,ZE.current=null,oz(t,n),O4(n,t),j7(i1),Pg=!!r1,i1=r1=null,t.current=n,lz(n),LB(),tt=o,ot=s,Xr.transition=a}else t.current=n;if(cm&&(cm=!1,Is=t,zg=i),a=t.pendingLanes,a===0&&(Vs=null),UB(n.stateNode),hr(t,zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bg)throw Bg=!1,t=E1,E1=null,t;return zg&1&&t.tag!==0&&Tc(),a=t.pendingLanes,a&1?t===k1?gf++:(gf=0,k1=t):gf=0,ho(),null}function Tc(){if(Is!==null){var t=y$(zg),e=Xr.transition,n=ot;try{if(Xr.transition=null,ot=16>t?16:t,Is===null)var r=!1;else{if(t=Is,Is=null,zg=0,tt&6)throw Error(fe(331));var i=tt;for(tt|=4,ke=t.current;ke!==null;){var a=ke,s=a.child;if(ke.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ke=c;ke!==null;){var u=ke;switch(u.tag){case 0:case 11:case 15:pf(8,u,a)}var d=u.child;if(d!==null)d.return=u,ke=d;else for(;ke!==null;){u=ke;var h=u.sibling,p=u.return;if(A4(u),u===c){ke=null;break}if(h!==null){h.return=p,ke=h;break}ke=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ke=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ke=s;else e:for(;ke!==null;){if(a=ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:pf(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ke=x;break e}ke=a.return}}var b=t.current;for(ke=b;ke!==null;){s=ke;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ke=w;else e:for(s=b;ke!==null;){if(o=ke,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:dv(9,o)}}catch(E){Ft(o,o.return,E)}if(o===s){ke=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ke=S;break e}ke=o.return}}if(tt=i,ho(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(rv,t)}catch{}r=!0}return r}finally{ot=n,Xr.transition=e}}return!1}function iN(t,e,n){e=qc(n,e),e=y4(t,e,1),t=Fs(t,e,1),e=Yn(),t!==null&&(op(t,1,e),hr(t,e))}function Ft(t,e,n){if(t.tag===3)iN(t,t,n);else for(;e!==null;){if(e.tag===3){iN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){t=qc(n,t),t=v4(e,t,1),e=Fs(e,t,1),t=Yn(),e!==null&&(op(e,1,t),hr(e,t));break}}e=e.return}}function pz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yn(),t.pingedLanes|=t.suspendedLanes&n,mn===t&&(kn&n)===n&&(sn===4||sn===3&&(kn&130023424)===kn&&500>zt()-tk?Xo(t,0):ek|=n),hr(t,e)}function L4(t,e){e===0&&(t.mode&1?(e=Zp,Zp<<=1,!(Zp&130023424)&&(Zp=4194304)):e=1);var n=Yn();t=Ua(t,e),t!==null&&(op(t,e,n),hr(t,n))}function mz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),L4(t,n)}function gz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(e),L4(t,n)}var F4;F4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dr.current)cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cr=!1,rz(t,e,n);cr=!!(t.flags&131072)}else cr=!1,Pt&&e.flags&1048576&&z$(e,Rg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jm(t,e),t=e.pendingProps;var i=Vc(e,Ln.current);kc(e,n),i=KE(null,e,r,t,i,n);var a=YE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fr(r)?(a=!0,Cg(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zE(e),i.updater=uv,e.stateNode=i,i._reactInternals=e,h1(e,r,t,n),e=g1(null,e,r,!0,a,n)):(e.tag=0,Pt&&a&&DE(e),Vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vz(r),t=fi(r,t),i){case 0:e=m1(null,e,r,t,n);break e;case 1:e=K2(null,e,r,t,n);break e;case 11:e=H2(null,e,r,t,n);break e;case 14:e=G2(null,e,r,fi(r.type,t),n);break e}throw Error(fe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fi(r,i),m1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fi(r,i),K2(t,e,r,i,n);case 3:e:{if(_4(e),t===null)throw Error(fe(387));r=e.pendingProps,a=e.memoizedState,i=a.element,Y$(t,e),$g(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=qc(Error(fe(423)),e),e=Y2(t,e,r,n,i);break e}else if(r!==i){i=qc(Error(fe(424)),e),e=Y2(t,e,r,n,i);break e}else for(kr=Ls(e.stateNode.containerInfo.firstChild),Ar=e,Pt=!0,mi=null,n=G$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uc(),r===i){e=Ba(t,e,n);break e}Vn(t,e,r,n)}e=e.child}return e;case 5:return Q$(e),t===null&&u1(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,a1(r,i)?s=null:a!==null&&a1(r,a)&&(e.flags|=32),w4(t,e),Vn(t,e,s,n),e.child;case 6:return t===null&&u1(e),null;case 13:return S4(t,e,n);case 4:return qE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bc(e,null,r,n):Vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fi(r,i),H2(t,e,r,i,n);case 7:return Vn(t,e,e.pendingProps,n),e.child;case 8:return Vn(t,e,e.pendingProps.children,n),e.child;case 12:return Vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,xt(Mg,r._currentValue),r._currentValue=s,a!==null)if(Ni(a.value,s)){if(a.children===i.children&&!dr.current){e=Ba(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ra(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),d1(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(fe(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),d1(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,kc(e,n),i=ti(i),r=r(i),e.flags|=1,Vn(t,e,r,n),e.child;case 14:return r=e.type,i=fi(r,e.pendingProps),i=fi(r.type,i),G2(t,e,r,i,n);case 15:return x4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fi(r,i),Jm(t,e),e.tag=1,fr(r)?(t=!0,Cg(e)):t=!1,kc(e,n),g4(e,r,i),h1(e,r,i,n),g1(null,e,r,!0,t,n);case 19:return E4(t,e,n);case 22:return b4(t,e,n)}throw Error(fe(156,e.tag))};function V4(t,e){return h$(t,e)}function yz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,e,n,r){return new yz(t,e,n,r)}function ak(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vz(t){if(typeof t=="function")return ak(t)?1:0;if(t!=null){if(t=t.$$typeof,t===EE)return 11;if(t===kE)return 14}return 2}function Bs(t,e){var n=t.alternate;return n===null?(n=Kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tg(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")ak(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case nc:return Jo(n.children,i,a,e);case SE:s=8,i|=8;break;case $w:return t=Kr(12,n,e,i|2),t.elementType=$w,t.lanes=a,t;case Lw:return t=Kr(13,n,e,i),t.elementType=Lw,t.lanes=a,t;case Fw:return t=Kr(19,n,e,i),t.elementType=Fw,t.lanes=a,t;case QD:return hv(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KD:s=10;break e;case YD:s=9;break e;case EE:s=11;break e;case kE:s=14;break e;case ys:s=16,r=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Kr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Jo(t,e,n,r){return t=Kr(7,t,r,e),t.lanes=n,t}function hv(t,e,n,r){return t=Kr(22,t,r,e),t.elementType=QD,t.lanes=n,t.stateNode={isHidden:!1},t}function Eb(t,e,n){return t=Kr(6,t,null,e),t.lanes=n,t}function kb(t,e,n){return e=Kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ab(0),this.expirationTimes=ab(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ab(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sk(t,e,n,r,i,a,s,o,l){return t=new xz(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Kr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zE(a),t}function bz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function U4(t){if(!t)return to;t=t._reactInternals;e:{if(Tl(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(fr(n))return U$(t,n,e)}return e}function B4(t,e,n,r,i,a,s,o,l){return t=sk(n,r,!0,t,i,a,s,o,l),t.context=U4(null),n=t.current,r=Yn(),i=Us(n),a=Ra(r,i),a.callback=e??null,Fs(n,a,i),t.current.lanes=i,op(t,i,r),hr(t,r),t}function pv(t,e,n,r){var i=e.current,a=Yn(),s=Us(i);return n=U4(n),e.context===null?e.context=n:e.pendingContext=n,e=Ra(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fs(i,e,s),t!==null&&(Ti(t,i,s,a),Ym(t,i,s)),s}function Wg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ok(t,e){aN(t,e),(t=t.alternate)&&aN(t,e)}function wz(){return null}var z4=typeof reportError=="function"?reportError:function(t){console.error(t)};function lk(t){this._internalRoot=t}mv.prototype.render=lk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));pv(t,e,null,null)};mv.prototype.unmount=lk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cl(function(){pv(null,t,null,null)}),e[Va]=null}};function mv(t){this._internalRoot=t}mv.prototype.unstable_scheduleHydration=function(t){if(t){var e=b$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&_$(t)}};function ck(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sN(){}function _z(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Wg(s);a.call(c)}}var s=B4(e,r,t,0,null,!1,!1,"",sN);return t._reactRootContainer=s,t[Va]=s.current,qf(t.nodeType===8?t.parentNode:t),cl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Wg(l);o.call(c)}}var l=sk(t,0,!1,null,null,!1,!1,"",sN);return t._reactRootContainer=l,t[Va]=l.current,qf(t.nodeType===8?t.parentNode:t),cl(function(){pv(e,l,n,r)}),l}function yv(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Wg(s);o.call(l)}}pv(e,s,t,i)}else s=_z(n,e,t,i,r);return Wg(s)}v$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wd(e.pendingLanes);n!==0&&(AE(e,n|1),hr(e,zt()),!(tt&6)&&(Wc=zt()+500,ho()))}break;case 13:cl(function(){var r=Ua(t,1);if(r!==null){var i=Yn();Ti(r,t,1,i)}}),ok(t,1)}};NE=function(t){if(t.tag===13){var e=Ua(t,134217728);if(e!==null){var n=Yn();Ti(e,t,134217728,n)}ok(t,134217728)}};x$=function(t){if(t.tag===13){var e=Us(t),n=Ua(t,e);if(n!==null){var r=Yn();Ti(n,t,e,r)}ok(t,e)}};b$=function(){return ot};w$=function(t,e){var n=ot;try{return ot=t,e()}finally{ot=n}};Yw=function(t,e,n){switch(e){case"input":if(Bw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ov(r);if(!i)throw Error(fe(90));JD(r),Bw(r,i)}}}break;case"textarea":e$(t,n);break;case"select":e=n.value,e!=null&&wc(t,!!n.multiple,e,!1)}};o$=nk;l$=cl;var Sz={usingClientEntryPoint:!1,Events:[cp,sc,ov,a$,s$,nk]},Sd={findFiberByHostInstance:Uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ez={bundleType:Sd.bundleType,version:Sd.version,rendererPackageName:Sd.rendererPackageName,rendererConfig:Sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:es.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=d$(t),t===null?null:t.stateNode},findFiberByHostInstance:Sd.findFiberByHostInstance||wz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!um.isDisabled&&um.supportsFiber)try{rv=um.inject(Ez),Gi=um}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sz;Rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ck(e))throw Error(fe(200));return bz(t,e,null,n)};Rr.createRoot=function(t,e){if(!ck(t))throw Error(fe(299));var n=!1,r="",i=z4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sk(t,1,!1,null,null,n,!1,r,i),t[Va]=e.current,qf(t.nodeType===8?t.parentNode:t),new lk(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=d$(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return cl(t)};Rr.hydrate=function(t,e,n){if(!gv(e))throw Error(fe(200));return yv(null,t,e,!0,n)};Rr.hydrateRoot=function(t,e,n){if(!ck(t))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=z4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=B4(e,null,t,1,n??null,i,!1,a,s),t[Va]=e.current,qf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mv(e)};Rr.render=function(t,e,n){if(!gv(e))throw Error(fe(200));return yv(null,t,e,!1,n)};Rr.unmountComponentAtNode=function(t){if(!gv(t))throw Error(fe(40));return t._reactRootContainer?(cl(function(){yv(null,null,t,!1,function(){t._reactRootContainer=null,t[Va]=null})}),!0):!1};Rr.unstable_batchedUpdates=nk;Rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gv(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return yv(t,e,n,!1,r)};Rr.version="18.3.1-next-f1338f8080-20240426";function q4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q4)}catch(t){console.error(t)}}q4(),qD.exports=Rr;var kz=qD.exports,oN=kz;Mw.createRoot=oN.createRoot,Mw.hydrateRoot=oN.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zf.apply(this,arguments)}var Os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Os||(Os={}));const lN="popstate";function Tz(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return A1("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hg(i)}return Az(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pz(){return Math.random().toString(36).substr(2,8)}function cN(t,e){return{usr:t.state,key:t.key,idx:e}}function A1(t,e,n,r){return n===void 0&&(n=null),Zf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ju(e):e,{state:n,key:e&&e.key||r||Pz()})}function Hg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ju(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Az(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Os.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Zf({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=Os.Pop;let v=u(),x=v==null?null:v-c;c=v,l&&l({action:o,location:y.location,delta:x})}function h(v,x){o=Os.Push;let b=A1(y.location,v,x);c=u()+1;let w=cN(b,c),S=y.createHref(b);try{s.pushState(w,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}a&&l&&l({action:o,location:y.location,delta:1})}function p(v,x){o=Os.Replace;let b=A1(y.location,v,x);c=u();let w=cN(b,c),S=y.createHref(b);s.replaceState(w,"",S),a&&l&&l({action:o,location:y.location,delta:0})}function g(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:Hg(v);return b=b.replace(/ $/,"%20"),Wt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lN,d),l=v,()=>{i.removeEventListener(lN,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return s.go(v)}};return y}var uN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uN||(uN={}));function Nz(t,e,n){return n===void 0&&(n="/"),Iz(t,e,n)}function Iz(t,e,n,r){let i=typeof e=="string"?ju(e):e,a=dk(i.pathname||"/",n);if(a==null)return null;let s=W4(t);Oz(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=zz(a);o=Vz(s[l],c)}return o}function W4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=zs([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(Wt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),W4(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:Lz(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of H4(a.path))i(a,s,l)}),e}function H4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=H4(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Oz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Fz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Cz=/^:[\w-]+$/,jz=3,Rz=2,Mz=1,Dz=10,$z=-2,dN=t=>t==="*";function Lz(t,e){let n=t.split("/"),r=n.length;return n.some(dN)&&(r+=$z),e&&(r+=Rz),n.filter(i=>!dN(i)).reduce((i,a)=>i+(Cz.test(a)?jz:a===""?Mz:Dz),r)}function Fz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Vz(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=Uz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:zs([a,d.pathname]),pathnameBase:Kz(zs([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=zs([a,d.pathnameBase]))}return s}function Uz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Bz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=o[d]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function Bz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const qz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wz=t=>qz.test(t);function Hz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ju(t):t,a;if(n)if(Wz(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),uk(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=fN(n.substring(1),"/"):a=fN(n,e)}else a=e;return{pathname:a,search:Yz(r),hash:Qz(i)}}function fN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fk(t,e){let n=Gz(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ju(t):(i=Zf({},t),Wt(!i.pathname||!i.pathname.includes("?"),Tb("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),Tb("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),Tb("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=Hz(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const zs=t=>t.join("/").replace(/\/\/+/g,"/"),Kz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Yz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Xz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const G4=["post","put","patch","delete"];new Set(G4);const Jz=["get",...G4];new Set(Jz);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(this,arguments)}const pk=R.createContext(null),Zz=R.createContext(null),po=R.createContext(null),vv=R.createContext(null),mo=R.createContext({outlet:null,matches:[],isDataRoute:!1}),K4=R.createContext(null);function eq(t,e){let{relative:n}=e===void 0?{}:e;Ru()||Wt(!1);let{basename:r,navigator:i}=R.useContext(po),{hash:a,pathname:s,search:o}=X4(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:zs([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Ru(){return R.useContext(vv)!=null}function Mu(){return Ru()||Wt(!1),R.useContext(vv).location}function Y4(t){R.useContext(po).static||R.useLayoutEffect(t)}function Q4(){let{isDataRoute:t}=R.useContext(mo);return t?hq():tq()}function tq(){Ru()||Wt(!1);let t=R.useContext(pk),{basename:e,future:n,navigator:r}=R.useContext(po),{matches:i}=R.useContext(mo),{pathname:a}=Mu(),s=JSON.stringify(fk(i,n.v7_relativeSplatPath)),o=R.useRef(!1);return Y4(()=>{o.current=!0}),R.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=hk(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:zs([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,a,t])}function X4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(po),{matches:i}=R.useContext(mo),{pathname:a}=Mu(),s=JSON.stringify(fk(i,r.v7_relativeSplatPath));return R.useMemo(()=>hk(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function nq(t,e){return rq(t,e)}function rq(t,e,n,r){Ru()||Wt(!1);let{navigator:i}=R.useContext(po),{matches:a}=R.useContext(mo),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Mu(),u;if(e){var d;let v=typeof e=="string"?ju(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Wt(!1),u=v}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Nz(t,{pathname:p}),y=lq(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:zs([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:zs([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&y?R.createElement(vv.Provider,{value:{location:eh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Os.Pop}},y):y}function iq(){let t=fq(),e=Xz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const aq=R.createElement(iq,null);class sq extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(mo.Provider,{value:this.props.routeContext},R.createElement(K4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oq(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(pk);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(mo.Provider,{value:e},r)}function lq(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||Wt(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,g=!1,y=null,v=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||aq,l&&(c<0&&h===0?(pq("route-fallback"),g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=y:g?w=v:d.route.Component?w=R.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,R.createElement(oq,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?R.createElement(sq,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var J4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(J4||{}),Z4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Z4||{});function cq(t){let e=R.useContext(pk);return e||Wt(!1),e}function uq(t){let e=R.useContext(Zz);return e||Wt(!1),e}function dq(t){let e=R.useContext(mo);return e||Wt(!1),e}function eL(t){let e=dq(),n=e.matches[e.matches.length-1];return n.route.id||Wt(!1),n.route.id}function fq(){var t;let e=R.useContext(K4),n=uq(),r=eL();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hq(){let{router:t}=cq(J4.UseNavigateStable),e=eL(Z4.UseNavigateStable),n=R.useRef(!1);return Y4(()=>{n.current=!0}),R.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,eh({fromRouteId:e},a)))},[t,e])}const hN={};function pq(t,e,n){hN[t]||(hN[t]=!0)}function mq(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gq(t){let{to:e,replace:n,state:r,relative:i}=t;Ru()||Wt(!1);let{future:a,static:s}=R.useContext(po),{matches:o}=R.useContext(mo),{pathname:l}=Mu(),c=Q4(),u=hk(e,fk(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return R.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function ms(t){Wt(!1)}function yq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Os.Pop,navigator:a,static:s=!1,future:o}=t;Ru()&&Wt(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:a,static:s,future:eh({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=ju(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,y=R.useMemo(()=>{let v=dk(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:i}},[l,u,d,h,p,g,i]);return y==null?null:R.createElement(po.Provider,{value:c},R.createElement(vv.Provider,{children:n,value:y}))}function vq(t){let{children:e,location:n}=t;return nq(N1(e),n)}new Promise(()=>{});function N1(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,N1(r.props.children,a));return}r.type!==ms&&Wt(!1),!r.props.index||!r.props.children||Wt(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=N1(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I1.apply(this,arguments)}function xq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wq(t,e){return t.button===0&&(!e||e==="_self")&&!bq(t)}const _q=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sq="6";try{window.__reactRouterVersion=Sq}catch{}const Eq="startTransition",pN=pB[Eq];function kq(t){let{basename:e,children:n,future:r,window:i}=t,a=R.useRef();a.current==null&&(a.current=Tz({window:i,v5Compat:!0}));let s=a.current,[o,l]=R.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=R.useCallback(d=>{c&&pN?pN(()=>l(d)):l(d)},[l,c]);return R.useLayoutEffect(()=>s.listen(u),[s,u]),R.useEffect(()=>mq(r),[r]),R.createElement(yq,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const Tq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aq=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=xq(e,_q),{basename:p}=R.useContext(po),g,y=!1;if(typeof c=="string"&&Pq.test(c)&&(g=c,Tq))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),E=dk(S.pathname,p);S.origin===w.origin&&E!=null?c=E+S.search+S.hash:y=!0}catch{}let v=eq(c,{relative:i}),x=Nq(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(w){r&&r(w),w.defaultPrevented||x(w)}return R.createElement("a",I1({},h,{href:g||v,onClick:y||a?r:b,ref:n,target:l}))});var mN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mN||(mN={}));var gN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gN||(gN={}));function Nq(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Q4(),c=Mu(),u=X4(t,{relative:s});return R.useCallback(d=>{if(wq(d,n)){d.preventDefault();let h=r!==void 0?r:Hg(c)===Hg(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,t,a,s,o])}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tL=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>R.createElement("svg",{ref:l,...Oq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tL("lucide",i),...o},[...s.map(([c,u])=>R.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(Cq,{ref:a,iconNode:e,className:tL(`lucide-${Iq(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=Ne("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=Ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=Ne("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=Ne("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=Ne("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=Ne("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=Ne("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=Ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=Ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=Ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=Ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Ne("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=Ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=Ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=Ne("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=Ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=Ne("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=Ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=Ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=Ne("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=Ne("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=Ne("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Zq=()=>{};var wN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},hL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||d==null)throw new tW;const h=a<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nW=function(t){const e=fL(t);return hL.encodeByteArray(e,!0)},Gg=function(t){return nW(t).replace(/\./g,"")},pL=function(t){try{return hL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=()=>rW().__FIREBASE_DEFAULTS__,aW=()=>{if(typeof process>"u"||typeof wN>"u")return;const t=wN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pL(t[1]);return e&&JSON.parse(e)},bv=()=>{try{return Zq()||iW()||aW()||sW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mL=t=>{var e,n;return(n=(e=bv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gL=t=>{const e=mL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yL=()=>{var t;return(t=bv())==null?void 0:t.config},vL=t=>{var e;return(e=bv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gg(JSON.stringify(n)),Gg(JSON.stringify(s)),""].join(".")}const vf={};function lW(){const t={prod:[],emulator:[]};for(const e of Object.keys(vf))vf[e]?t.emulator.push(e):t.prod.push(e);return t}function cW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _N=!1;function _k(t,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||vf[t]===e||vf[t]||_N)return;vf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=lW().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{_N=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=cW(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),v=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),b=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(v,y);const S=c();l(b,x),w.append(b,g,v,S),document.body.appendChild(w)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function dW(){var e;const t=(e=bv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pW(){const t=Fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mW(){return!dW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wL(){try{return typeof indexedDB=="object"}catch{return!1}}function _L(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function gW(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yW,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?vW(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ai(i,o,r)}}function vW(t,e){return t.replace(xW,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xW=/\{\$([^}]+)}/g;function bW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function no(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(SN(a)&&SN(s)){if(!no(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function SN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wW(t,e){const n=new _W(t,e);return n.subscribe.bind(n)}class _W{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ab),i.error===void 0&&(i.error=Ab),i.complete===void 0&&(i.complete=Ab);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ab(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=1e3,kW=2,TW=4*60*60*1e3,PW=.5;function EN(t,e=EW,n=kW){const r=e*Math.pow(n,t),i=Math.round(PW*r*(Math.random()-.5)*2);return Math.min(TW,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class ri{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IW(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NW(t){return t===Mo?void 0:t}function IW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const CW={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},jW=Ye.INFO,RW={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},MW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=RW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let wv=class{constructor(e){this.name=e,this._logLevel=jW,this._logHandler=MW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};const DW=(t,e)=>e.some(n=>t instanceof n);let kN,TN;function $W(){return kN||(kN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LW(){return TN||(TN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SL=new WeakMap,C1=new WeakMap,EL=new WeakMap,Nb=new WeakMap,Sk=new WeakMap;function FW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Gs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&SL.set(n,t)}).catch(()=>{}),Sk.set(e,t),e}function VW(t){if(C1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});C1.set(t,e)}let j1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return C1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UW(t){j1=t(j1)}function BW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ib(this),e,...n);return EL.set(r,e.sort?e.sort():[e]),Gs(r)}:LW().includes(t)?function(...e){return t.apply(Ib(this),e),Gs(SL.get(this))}:function(...e){return Gs(t.apply(Ib(this),e))}}function zW(t){return typeof t=="function"?BW(t):(t instanceof IDBTransaction&&VW(t),DW(t,$W())?new Proxy(t,j1):t)}function Gs(t){if(t instanceof IDBRequest)return FW(t);if(Nb.has(t))return Nb.get(t);const e=zW(t);return e!==t&&(Nb.set(t,e),Sk.set(e,t)),e}const Ib=t=>Sk.get(t);function kL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Gs(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Gs(s.result),l.oldVersion,l.newVersion,Gs(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const qW=["get","getKey","getAll","getAllKeys","count"],WW=["put","add","delete","clear"],Ob=new Map;function PN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ob.get(e))return Ob.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=WW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qW.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Ob.set(e,a),a}UW(t=>({...t,get:(e,n,r)=>PN(e,n)||t.get(e,n,r),has:(e,n)=>!!PN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const R1="@firebase/app",AN="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new wv("@firebase/app"),KW="@firebase/app-compat",YW="@firebase/analytics-compat",QW="@firebase/analytics",XW="@firebase/app-check-compat",JW="@firebase/app-check",ZW="@firebase/auth",eH="@firebase/auth-compat",tH="@firebase/database",nH="@firebase/data-connect",rH="@firebase/database-compat",iH="@firebase/functions",aH="@firebase/functions-compat",sH="@firebase/installations",oH="@firebase/installations-compat",lH="@firebase/messaging",cH="@firebase/messaging-compat",uH="@firebase/performance",dH="@firebase/performance-compat",fH="@firebase/remote-config",hH="@firebase/remote-config-compat",pH="@firebase/storage",mH="@firebase/storage-compat",gH="@firebase/firestore",yH="@firebase/ai",vH="@firebase/firestore-compat",xH="firebase",bH="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="[DEFAULT]",wH={[R1]:"fire-core",[KW]:"fire-core-compat",[QW]:"fire-analytics",[YW]:"fire-analytics-compat",[JW]:"fire-app-check",[XW]:"fire-app-check-compat",[ZW]:"fire-auth",[eH]:"fire-auth-compat",[tH]:"fire-rtdb",[nH]:"fire-data-connect",[rH]:"fire-rtdb-compat",[iH]:"fire-fn",[aH]:"fire-fn-compat",[sH]:"fire-iid",[oH]:"fire-iid-compat",[lH]:"fire-fcm",[cH]:"fire-fcm-compat",[uH]:"fire-perf",[dH]:"fire-perf-compat",[fH]:"fire-rc",[hH]:"fire-rc-compat",[pH]:"fire-gcs",[mH]:"fire-gcs-compat",[gH]:"fire-fst",[vH]:"fire-fst-compat",[yH]:"fire-vertex","fire-js":"fire-js",[xH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=new Map,_H=new Map,D1=new Map;function NN(t,e){try{t.container.addComponent(e)}catch(n){za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ii(t){const e=t.name;if(D1.has(e))return za.debug(`There were multiple attempts to register component ${e}.`),!1;D1.set(e,t);for(const n of Kg.values())NN(n,t);for(const n of _H.values())NN(n,t);return!0}function go(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Nl("app","Firebase",SH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=bH;function TL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:M1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ks.create("bad-app-name",{appName:String(i)});if(n||(n=yL()),!n)throw Ks.create("no-options");const a=Kg.get(i);if(a){if(no(n,a.options)&&no(r,a.config))return a;throw Ks.create("duplicate-app",{appName:i})}const s=new OW(i);for(const l of D1.values())s.addComponent(l);const o=new EH(n,r,s);return Kg.set(i,o),o}function _v(t=M1){const e=Kg.get(t);if(!e&&t===M1&&yL())return TL();if(!e)throw Ks.create("no-app",{appName:t});return e}function pr(t,e,n){let r=wH[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),za.warn(s.join(" "));return}Ii(new ri(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH="firebase-heartbeat-database",TH=1,th="firebase-heartbeat-store";let Cb=null;function PL(){return Cb||(Cb=kL(kH,TH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(th)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),Cb}async function PH(t){try{const n=(await PL()).transaction(th),r=await n.objectStore(th).get(AL(t));return await n.done,r}catch(e){if(e instanceof ai)za.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});za.warn(n.message)}}}async function IN(t,e){try{const r=(await PL()).transaction(th,"readwrite");await r.objectStore(th).put(e,AL(t)),await r.done}catch(n){if(n instanceof ai)za.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});za.warn(r.message)}}}function AL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=1024,NH=30;class IH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ON();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>NH){const s=jH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){za.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ON(),{heartbeatsToSend:r,unsentEntries:i}=OH(this._heartbeatsCache.heartbeats),a=Gg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return za.warn(n),""}}}function ON(){return new Date().toISOString().substring(0,10)}function OH(t,e=AH){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),CN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wL()?_L().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return IN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return IN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function CN(t){return Gg(JSON.stringify({version:2,heartbeats:t})).length}function jH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(t){Ii(new ri("platform-logger",e=>new HW(e),"PRIVATE")),Ii(new ri("heartbeat",e=>new IH(e),"PRIVATE")),pr(R1,AN,t),pr(R1,AN,"esm2020"),pr("fire-js","")}RH("");var MH="firebase",DH="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(MH,DH,"app");function NL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $H=NL,IL=new Nl("auth","Firebase",NL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=new wv("@firebase/auth");function LH(t,...e){Yg.logLevel<=Ye.WARN&&Yg.warn(`Auth (${Il}): ${t}`,...e)}function ng(t,...e){Yg.logLevel<=Ye.ERROR&&Yg.error(`Auth (${Il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t,...e){throw Ek(t,...e)}function Yi(t,...e){return Ek(t,...e)}function OL(t,e,n){const r={...$H(),[e]:n};return new Nl("auth","Firebase",r).create(e,{appName:t.name})}function el(t){return OL(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ek(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IL.create(t,...e)}function $e(t,e,...n){if(!t)throw Ek(e,...n)}function Pa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ng(e),new Error(e)}function Wa(t,e){t||Pa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function FH(){return jN()==="http:"||jN()==="https:"}function jN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FH()||bL()||"connection"in navigator)?navigator.onLine:!0}function UH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wa(n>e,"Short delay should be less than long delay!"),this.isMobile=uW()||hW()}get(){return VH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){Wa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qH=new fp(3e4,6e4);function Tk(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $u(t,e,n,r,i={}){return jL(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=dp({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return fW()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Al(t.emulatorConfig.host)&&(c.credentials="include"),CL.fetch()(await RL(t,t.config.apiHost,n,o),c)})}async function jL(t,e,n){t._canInitEmulator=!1;const r={...BH,...e};try{const i=new HH(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw dm(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dm(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw dm(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw dm(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw OL(t,u,c);qa(t,u)}}catch(i){if(i instanceof ai)throw i;qa(t,"network-request-failed",{message:String(i)})}}async function WH(t,e,n,r,i={}){const a=await $u(t,e,n,r,i);return"mfaPendingCredential"in a&&qa(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function RL(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?kk(t.config,i):`${t.config.apiScheme}://${i}`;return zH.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class HH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yi(this.auth,"network-request-failed")),qH.get())})}}function dm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GH(t,e){return $u(t,"POST","/v1/accounts:delete",e)}async function Qg(t,e){return $u(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KH(t,e=!1){const n=Zt(t),r=await n.getIdToken(e),i=Pk(r);$e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:xf(jb(i.auth_time)),issuedAtTime:xf(jb(i.iat)),expirationTime:xf(jb(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function jb(t){return Number(t)*1e3}function Pk(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ng("JWT malformed, contained fewer than 3 sections"),null;try{const i=pL(n);return i?JSON.parse(i):(ng("Failed to decode base64 JWT payload"),null)}catch(i){return ng("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function RN(t){const e=Pk(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&YH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xf(this.lastLoginAt),this.creationTime=xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xg(t){var d;const e=t.auth,n=await t.getIdToken(),r=await nh(t,Qg(e,{idToken:n}));$e(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(d=i.providerUserInfo)!=null&&d.length?ML(i.providerUserInfo):[],s=JH(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new L1(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function XH(t){const e=Zt(t);await Xg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ML(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZH(t,e){const n=await jL(t,{},async()=>{const r=dp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await RL(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Al(t.emulatorConfig.host)&&(l.credentials="include"),CL.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eG(t,e){return $u(t,"POST","/v2/accounts:revokeToken",Tk(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=RN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await ZH(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Pc;return r&&($e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&($e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&($e(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pc,this.toJSON())}_performRefresh(){return Pa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new QH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new L1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await nh(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KH(this,e)}reload(){return XH(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gi(this.auth.app))return Promise.reject(el(this.auth));const e=await this.getIdToken();return await nh(this,GH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:y}=n;$e(d&&y,e,"internal-error");const v=Pc.fromJSON(this.name,y);$e(typeof d=="string",e,"internal-error"),fs(r,e.name),fs(i,e.name),$e(typeof h=="boolean",e,"internal-error"),$e(typeof p=="boolean",e,"internal-error"),fs(a,e.name),fs(s,e.name),fs(o,e.name),fs(l,e.name),fs(c,e.name),fs(u,e.name);const x=new xi({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:v,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(x.providerData=g.map(b=>({...b}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pc;i.updateFromServerResponse(n);const a=new xi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];$e(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?ML(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Pc;o.updateFromIdToken(r);const l=new xi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new L1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new Map;function Aa(t){Wa(t instanceof Function,"Expected a class definition");let e=MN.get(t);return e?(Wa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DL.type="NONE";const DN=DL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t,e,n){return`firebase:${t}:${e}:${n}`}class Ac{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=rg(this.userKey,i.apiKey,a),this.fullPersistenceKey=rg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qg(this.auth,{idToken:e}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ac(Aa(DN),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Aa(DN);const s=rg(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){let d;if(typeof u=="string"){const h=await Qg(e,{idToken:u}).catch(()=>{});if(!h)break;d=await xi._fromGetAccountInfoResponse(e,h,u)}else d=xi._fromJSON(e,u);c!==a&&(o=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ac(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Ac(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($L(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BL(e))return"Blackberry";if(zL(e))return"Webos";if(LL(e))return"Safari";if((e.includes("chrome/")||FL(e))&&!e.includes("edge/"))return"Chrome";if(UL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $L(t=Fn()){return/firefox\//i.test(t)}function LL(t=Fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FL(t=Fn()){return/crios\//i.test(t)}function VL(t=Fn()){return/iemobile/i.test(t)}function UL(t=Fn()){return/android/i.test(t)}function BL(t=Fn()){return/blackberry/i.test(t)}function zL(t=Fn()){return/webos/i.test(t)}function Ak(t=Fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tG(t=Fn()){var e;return Ak(t)&&!!((e=window.navigator)!=null&&e.standalone)}function nG(){return pW()&&document.documentMode===10}function qL(t=Fn()){return Ak(t)||UL(t)||zL(t)||BL(t)||/windows phone/i.test(t)||VL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e=[]){let n;switch(t){case"Browser":n=$N(Fn());break;case"Worker":n=`${$N(Fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iG(t,e={}){return $u(t,"GET","/v2/passwordPolicy",Tk(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG=6;class sG{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aG,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LN(this),this.idTokenSubscription=new LN(this),this.beforeStateQueue=new rG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Aa(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ac.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qg(this,{idToken:e}),r=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(gi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gi(this.app))return Promise.reject(el(this));const n=e?Zt(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gi(this.app)?Promise.reject(el(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gi(this.app)?Promise.reject(el(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iG(this),n=new sG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eG(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Aa(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await Ac.create(this,[Aa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&LH(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Nk(t){return Zt(t)}class LN{constructor(e){this.auth=e,this.observer=null,this.addObserver=wW(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ik={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lG(t){Ik=t}function cG(t){return Ik.loadJS(t)}function uG(){return Ik.gapiScript}function dG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(t,e){const n=go(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(no(a,e??{}))return i;qa(i,"already-initialized")}return n.initialize({options:e})}function hG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Aa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pG(t,e,n){const r=Nk(t);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=HL(e),{host:s,port:o}=mG(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(no(c,r.config.emulator)&&no(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Al(s)?(wk(`${a}//${s}${l}`),_k("Auth",!0)):gG()}function HL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mG(t){const e=HL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:FN(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:FN(s)}}}function FN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pa("not implemented")}_getIdTokenResponse(e){return Pa("not implemented")}_linkToIdToken(e,n){return Pa("not implemented")}_getReauthenticationResolver(e){return Pa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t,e){return WH(t,"POST","/v1/accounts:signInWithIdp",Tk(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG="http://localhost";class ul extends GL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new ul(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nc(e,n)}buildRequest(){const e={requestUri:yG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends KL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends hp{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends hp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ul._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends hp{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends hp{constructor(){super("twitter.com")}static credential(e,n){return ul._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await xi._fromIdTokenResponse(e,r,i),s=VN(r);return new Kc({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=VN(r);return new Kc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function VN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends ai{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jg(e,n,r,i)}}function YL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Jg._fromErrorAndOperation(t,a,e,r):a})}async function vG(t,e,n=!1){const r=await nh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xG(t,e,n=!1){const{auth:r}=t;if(gi(r.app))return Promise.reject(el(r));const i="reauthenticate";try{const a=await nh(t,YL(r,i,e,t),n);$e(a.idToken,r,"internal-error");const s=Pk(a.idToken);$e(s,r,"internal-error");const{sub:o}=s;return $e(t.uid===o,r,"user-mismatch"),Kc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&qa(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bG(t,e,n=!1){if(gi(t.app))return Promise.reject(el(t));const r="signIn",i=await YL(t,r,e),a=await Kc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function wG(t,e,n,r){return Zt(t).onIdTokenChanged(e,n,r)}function _G(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}const Zg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zg,"1"),this.storage.removeItem(Zg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=1e3,EG=10;class XL extends QL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);nG()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,EG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XL.type="LOCAL";const kG=XL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL extends QL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JL.type="SESSION";const ZL=JL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Sv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await TG(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=Ok("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function AG(t){Qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function NG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function OG(){return e3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="firebaseLocalStorageDb",CG=1,e0="firebaseLocalStorage",n3="fbase_key";class pp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ev(t,e){return t.transaction([e0],e?"readwrite":"readonly").objectStore(e0)}function jG(){const t=indexedDB.deleteDatabase(t3);return new pp(t).toPromise()}function F1(){const t=indexedDB.open(t3,CG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(e0,{keyPath:n3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(e0)?e(r):(r.close(),await jG(),e(await F1()))})})}async function UN(t,e,n){const r=Ev(t,!0).put({[n3]:e,value:n});return new pp(r).toPromise()}async function RG(t,e){const n=Ev(t,!1).get(e),r=await new pp(n).toPromise();return r===void 0?null:r.value}function BN(t,e){const n=Ev(t,!0).delete(e);return new pp(n).toPromise()}const MG=800,DG=3;class r3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await F1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sv._getInstance(OG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await NG(),!this.activeServiceWorker)return;this.sender=new PG(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await F1();return await UN(e,Zg,"1"),await BN(e,Zg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>UN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ev(i,!1).getAll();return new pp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r3.type="LOCAL";const $G=r3;new fp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(t,e){return e?Aa(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck extends GL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FG(t){return bG(t.auth,new Ck(t),t.bypassAuthState)}function VG(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),xG(n,new Ck(t),t.bypassAuthState)}async function UG(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),vG(n,new Ck(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FG;case"linkViaPopup":case"linkViaRedirect":return UG;case"reauthViaPopup":case"reauthViaRedirect":return VG;default:qa(this.auth,"internal-error")}}resolve(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG=new fp(2e3,1e4);class hc extends i3{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,hc.currentPopupAction&&hc.currentPopupAction.cancel(),hc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Wa(this.filter.length===1,"Popup operations only handle one event");const e=Ok();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BG.get())};e()}}hc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG="pendingRedirect",ig=new Map;class qG extends i3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ig.get(this.auth._key());if(!e){try{const r=await WG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ig.set(this.auth._key(),e)}return this.bypassAuthState||ig.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WG(t,e){const n=KG(e),r=GG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function HG(t,e){ig.set(t._key(),e)}function GG(t){return Aa(t._redirectPersistence)}function KG(t){return rg(zG,t.config.apiKey,t.name)}async function YG(t,e,n=!1){if(gi(t.app))return Promise.reject(el(t));const r=Nk(t),i=LG(r,e),s=await new qG(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG=10*60*1e3;class XG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!a3(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QG&&this.cachedEventUids.clear(),this.cachedEventUids.has(zN(e))}saveEventToCache(e){this.cachedEventUids.add(zN(e)),this.lastProcessedEventTime=Date.now()}}function zN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZG(t,e={}){return $u(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tK=/^https?/;async function nK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZG(t);for(const n of e)try{if(rK(n))return}catch{}qa(t,"unauthorized-domain")}function rK(t){const e=$1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!tK.test(n))return!1;if(eK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=new fp(3e4,6e4);function qN(){const t=Qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aK(t){return new Promise((e,n)=>{var i,a,s;function r(){qN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qN(),n(Yi(t,"network-request-failed"))},timeout:iK.get()})}if((a=(i=Qi().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=Qi().gapi)!=null&&s.load)r();else{const o=dG("iframefcb");return Qi()[o]=()=>{gapi.load?r():n(Yi(t,"network-request-failed"))},cG(`${uG()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw ag=null,e})}let ag=null;function sK(t){return ag=ag||aK(t),ag}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=new fp(5e3,15e3),lK="__/auth/iframe",cK="emulator/auth/iframe",uK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fK(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kk(e,cK):`https://${t.config.authDomain}/${lK}`,r={apiKey:e.apiKey,appName:t.name,v:Il},i=dK.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${dp(r).slice(1)}`}async function hK(t){const e=await sK(t),n=Qi().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:fK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uK,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Yi(t,"network-request-failed"),o=Qi().setTimeout(()=>{a(s)},oK.get());function l(){Qi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mK=500,gK=600,yK="_blank",vK="http://localhost";class WN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xK(t,e,n,r=mK,i=gK){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...pK,width:r.toString(),height:i.toString(),top:a,left:s},c=Fn().toLowerCase();n&&(o=FL(c)?yK:n),$L(c)&&(e=e||vK,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(tG(c)&&o!=="_self")return bK(e||"",o),new WN(null);const d=window.open(e||"",o,u);$e(d,t,"popup-blocked");try{d.focus()}catch{}return new WN(d)}function bK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK="__/auth/handler",_K="emulator/auth/handler",SK=encodeURIComponent("fac");async function HN(t,e,n,r,i,a){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Il,eventId:i};if(e instanceof KL){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",bW(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof hp){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${SK}=${encodeURIComponent(l)}`:"";return`${EK(t)}?${dp(o).slice(1)}${c}`}function EK({config:t}){return t.emulator?kk(t,_K):`https://${t.authDomain}/${wK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="webStorageSupport";class kK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZL,this._completeRedirectFn=YG,this._overrideRedirectResult=HG}async _openPopup(e,n,r,i){var s;Wa((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await HN(e,n,r,$1(),i);return xK(e,a,Ok())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await HN(e,n,r,$1(),i);return AG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Wa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hK(e),r=new XG(e);return n.register("authEvent",i=>($e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rb,{type:Rb},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Rb];a!==void 0&&n(!!a),qa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qL()||LL()||Ak()}}const TK=kK;var GN="@firebase/auth",KN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NK(t){Ii(new ri("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;$e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WL(t)},c=new oG(r,i,a,l);return hG(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ii(new ri("auth-internal",e=>{const n=Nk(e.getProvider("auth").getImmediate());return(r=>new PK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(GN,KN,AK(t)),pr(GN,KN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK=5*60,OK=vL("authIdTokenMaxAge")||IK;let YN=null;const CK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OK)return;const i=n==null?void 0:n.token;YN!==i&&(YN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jK(t=_v()){const e=go(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fG(t,{popupRedirectResolver:TK,persistence:[$G,kG,ZL]}),r=vL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=CK(a.toString());_G(n,s,()=>s(n.currentUser)),wG(n,o=>s(o))}}const i=mL("auth");return i&&pG(n,`http://${i}`),n}function RK(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}lG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Yi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",RK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NK("Browser");var QN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,s3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,k){function A(){}A.prototype=k.prototype,_.F=k.prototype,_.prototype=new A,_.prototype.constructor=_,_.D=function(I,C,j){for(var O=Array(arguments.length-2),M=2;M<arguments.length;M++)O[M-2]=arguments[M];return k.prototype[C].apply(I,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,k,A){A||(A=0);const I=Array(16);if(typeof k=="string")for(var C=0;C<16;++C)I[C]=k.charCodeAt(A++)|k.charCodeAt(A++)<<8|k.charCodeAt(A++)<<16|k.charCodeAt(A++)<<24;else for(C=0;C<16;++C)I[C]=k[A++]|k[A++]<<8|k[A++]<<16|k[A++]<<24;k=_.g[0],A=_.g[1],C=_.g[2];let j=_.g[3],O;O=k+(j^A&(C^j))+I[0]+3614090360&4294967295,k=A+(O<<7&4294967295|O>>>25),O=j+(C^k&(A^C))+I[1]+3905402710&4294967295,j=k+(O<<12&4294967295|O>>>20),O=C+(A^j&(k^A))+I[2]+606105819&4294967295,C=j+(O<<17&4294967295|O>>>15),O=A+(k^C&(j^k))+I[3]+3250441966&4294967295,A=C+(O<<22&4294967295|O>>>10),O=k+(j^A&(C^j))+I[4]+4118548399&4294967295,k=A+(O<<7&4294967295|O>>>25),O=j+(C^k&(A^C))+I[5]+1200080426&4294967295,j=k+(O<<12&4294967295|O>>>20),O=C+(A^j&(k^A))+I[6]+2821735955&4294967295,C=j+(O<<17&4294967295|O>>>15),O=A+(k^C&(j^k))+I[7]+4249261313&4294967295,A=C+(O<<22&4294967295|O>>>10),O=k+(j^A&(C^j))+I[8]+1770035416&4294967295,k=A+(O<<7&4294967295|O>>>25),O=j+(C^k&(A^C))+I[9]+2336552879&4294967295,j=k+(O<<12&4294967295|O>>>20),O=C+(A^j&(k^A))+I[10]+4294925233&4294967295,C=j+(O<<17&4294967295|O>>>15),O=A+(k^C&(j^k))+I[11]+2304563134&4294967295,A=C+(O<<22&4294967295|O>>>10),O=k+(j^A&(C^j))+I[12]+1804603682&4294967295,k=A+(O<<7&4294967295|O>>>25),O=j+(C^k&(A^C))+I[13]+4254626195&4294967295,j=k+(O<<12&4294967295|O>>>20),O=C+(A^j&(k^A))+I[14]+2792965006&4294967295,C=j+(O<<17&4294967295|O>>>15),O=A+(k^C&(j^k))+I[15]+1236535329&4294967295,A=C+(O<<22&4294967295|O>>>10),O=k+(C^j&(A^C))+I[1]+4129170786&4294967295,k=A+(O<<5&4294967295|O>>>27),O=j+(A^C&(k^A))+I[6]+3225465664&4294967295,j=k+(O<<9&4294967295|O>>>23),O=C+(k^A&(j^k))+I[11]+643717713&4294967295,C=j+(O<<14&4294967295|O>>>18),O=A+(j^k&(C^j))+I[0]+3921069994&4294967295,A=C+(O<<20&4294967295|O>>>12),O=k+(C^j&(A^C))+I[5]+3593408605&4294967295,k=A+(O<<5&4294967295|O>>>27),O=j+(A^C&(k^A))+I[10]+38016083&4294967295,j=k+(O<<9&4294967295|O>>>23),O=C+(k^A&(j^k))+I[15]+3634488961&4294967295,C=j+(O<<14&4294967295|O>>>18),O=A+(j^k&(C^j))+I[4]+3889429448&4294967295,A=C+(O<<20&4294967295|O>>>12),O=k+(C^j&(A^C))+I[9]+568446438&4294967295,k=A+(O<<5&4294967295|O>>>27),O=j+(A^C&(k^A))+I[14]+3275163606&4294967295,j=k+(O<<9&4294967295|O>>>23),O=C+(k^A&(j^k))+I[3]+4107603335&4294967295,C=j+(O<<14&4294967295|O>>>18),O=A+(j^k&(C^j))+I[8]+1163531501&4294967295,A=C+(O<<20&4294967295|O>>>12),O=k+(C^j&(A^C))+I[13]+2850285829&4294967295,k=A+(O<<5&4294967295|O>>>27),O=j+(A^C&(k^A))+I[2]+4243563512&4294967295,j=k+(O<<9&4294967295|O>>>23),O=C+(k^A&(j^k))+I[7]+1735328473&4294967295,C=j+(O<<14&4294967295|O>>>18),O=A+(j^k&(C^j))+I[12]+2368359562&4294967295,A=C+(O<<20&4294967295|O>>>12),O=k+(A^C^j)+I[5]+4294588738&4294967295,k=A+(O<<4&4294967295|O>>>28),O=j+(k^A^C)+I[8]+2272392833&4294967295,j=k+(O<<11&4294967295|O>>>21),O=C+(j^k^A)+I[11]+1839030562&4294967295,C=j+(O<<16&4294967295|O>>>16),O=A+(C^j^k)+I[14]+4259657740&4294967295,A=C+(O<<23&4294967295|O>>>9),O=k+(A^C^j)+I[1]+2763975236&4294967295,k=A+(O<<4&4294967295|O>>>28),O=j+(k^A^C)+I[4]+1272893353&4294967295,j=k+(O<<11&4294967295|O>>>21),O=C+(j^k^A)+I[7]+4139469664&4294967295,C=j+(O<<16&4294967295|O>>>16),O=A+(C^j^k)+I[10]+3200236656&4294967295,A=C+(O<<23&4294967295|O>>>9),O=k+(A^C^j)+I[13]+681279174&4294967295,k=A+(O<<4&4294967295|O>>>28),O=j+(k^A^C)+I[0]+3936430074&4294967295,j=k+(O<<11&4294967295|O>>>21),O=C+(j^k^A)+I[3]+3572445317&4294967295,C=j+(O<<16&4294967295|O>>>16),O=A+(C^j^k)+I[6]+76029189&4294967295,A=C+(O<<23&4294967295|O>>>9),O=k+(A^C^j)+I[9]+3654602809&4294967295,k=A+(O<<4&4294967295|O>>>28),O=j+(k^A^C)+I[12]+3873151461&4294967295,j=k+(O<<11&4294967295|O>>>21),O=C+(j^k^A)+I[15]+530742520&4294967295,C=j+(O<<16&4294967295|O>>>16),O=A+(C^j^k)+I[2]+3299628645&4294967295,A=C+(O<<23&4294967295|O>>>9),O=k+(C^(A|~j))+I[0]+4096336452&4294967295,k=A+(O<<6&4294967295|O>>>26),O=j+(A^(k|~C))+I[7]+1126891415&4294967295,j=k+(O<<10&4294967295|O>>>22),O=C+(k^(j|~A))+I[14]+2878612391&4294967295,C=j+(O<<15&4294967295|O>>>17),O=A+(j^(C|~k))+I[5]+4237533241&4294967295,A=C+(O<<21&4294967295|O>>>11),O=k+(C^(A|~j))+I[12]+1700485571&4294967295,k=A+(O<<6&4294967295|O>>>26),O=j+(A^(k|~C))+I[3]+2399980690&4294967295,j=k+(O<<10&4294967295|O>>>22),O=C+(k^(j|~A))+I[10]+4293915773&4294967295,C=j+(O<<15&4294967295|O>>>17),O=A+(j^(C|~k))+I[1]+2240044497&4294967295,A=C+(O<<21&4294967295|O>>>11),O=k+(C^(A|~j))+I[8]+1873313359&4294967295,k=A+(O<<6&4294967295|O>>>26),O=j+(A^(k|~C))+I[15]+4264355552&4294967295,j=k+(O<<10&4294967295|O>>>22),O=C+(k^(j|~A))+I[6]+2734768916&4294967295,C=j+(O<<15&4294967295|O>>>17),O=A+(j^(C|~k))+I[13]+1309151649&4294967295,A=C+(O<<21&4294967295|O>>>11),O=k+(C^(A|~j))+I[4]+4149444226&4294967295,k=A+(O<<6&4294967295|O>>>26),O=j+(A^(k|~C))+I[11]+3174756917&4294967295,j=k+(O<<10&4294967295|O>>>22),O=C+(k^(j|~A))+I[2]+718787259&4294967295,C=j+(O<<15&4294967295|O>>>17),O=A+(j^(C|~k))+I[9]+3951481745&4294967295,_.g[0]=_.g[0]+k&4294967295,_.g[1]=_.g[1]+(C+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+C&4294967295,_.g[3]=_.g[3]+j&4294967295}r.prototype.v=function(_,k){k===void 0&&(k=_.length);const A=k-this.blockSize,I=this.C;let C=this.h,j=0;for(;j<k;){if(C==0)for(;j<=A;)i(this,_,j),j+=this.blockSize;if(typeof _=="string"){for(;j<k;)if(I[C++]=_.charCodeAt(j++),C==this.blockSize){i(this,I),C=0;break}}else for(;j<k;)if(I[C++]=_[j++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=k},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var k=1;k<_.length-8;++k)_[k]=0;k=this.o*8;for(var A=_.length-8;A<_.length;++A)_[A]=k&255,k/=256;for(this.v(_),_=Array(16),k=0,A=0;A<4;++A)for(let I=0;I<32;I+=8)_[k++]=this.g[A]>>>I&255;return _};function a(_,k){var A=o;return Object.prototype.hasOwnProperty.call(A,_)?A[_]:A[_]=k(_)}function s(_,k){this.h=k;const A=[];let I=!0;for(let C=_.length-1;C>=0;C--){const j=_[C]|0;I&&j==k||(A[C]=j,I=!1)}this.g=A}var o={};function l(_){return-128<=_&&_<128?a(_,function(k){return new s([k|0],k<0?-1:0)}):new s([_|0],_<0?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return d;if(_<0)return v(c(-_));const k=[];let A=1;for(let I=0;_>=A;I++)k[I]=_/A|0,A*=4294967296;return new s(k,0)}function u(_,k){if(_.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(_.charAt(0)=="-")return v(u(_.substring(1),k));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(k,8));let I=d;for(let j=0;j<_.length;j+=8){var C=Math.min(8,_.length-j);const O=parseInt(_.substring(j,j+C),k);C<8?(C=c(Math.pow(k,C)),I=I.j(C).add(c(O))):(I=I.j(A),I=I.add(c(O)))}return I}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-v(this).m();let _=0,k=1;for(let A=0;A<this.g.length;A++){const I=this.i(A);_+=(I>=0?I:4294967296+I)*k,k*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(g(this))return"0";if(y(this))return"-"+v(this).toString(_);const k=c(Math.pow(_,6));var A=this;let I="";for(;;){const C=S(A,k).g;A=x(A,C.j(k));let j=((A.g.length>0?A.g[0]:A.h)>>>0).toString(_);if(A=C,g(A))return j+I;for(;j.length<6;)j="0"+j;I=j+I}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function g(_){if(_.h!=0)return!1;for(let k=0;k<_.g.length;k++)if(_.g[k]!=0)return!1;return!0}function y(_){return _.h==-1}t.l=function(_){return _=x(this,_),y(_)?-1:g(_)?0:1};function v(_){const k=_.g.length,A=[];for(let I=0;I<k;I++)A[I]=~_.g[I];return new s(A,~_.h).add(h)}t.abs=function(){return y(this)?v(this):this},t.add=function(_){const k=Math.max(this.g.length,_.g.length),A=[];let I=0;for(let C=0;C<=k;C++){let j=I+(this.i(C)&65535)+(_.i(C)&65535),O=(j>>>16)+(this.i(C)>>>16)+(_.i(C)>>>16);I=O>>>16,j&=65535,O&=65535,A[C]=O<<16|j}return new s(A,A[A.length-1]&-2147483648?-1:0)};function x(_,k){return _.add(v(k))}t.j=function(_){if(g(this)||g(_))return d;if(y(this))return y(_)?v(this).j(v(_)):v(v(this).j(_));if(y(_))return v(this.j(v(_)));if(this.l(p)<0&&_.l(p)<0)return c(this.m()*_.m());const k=this.g.length+_.g.length,A=[];for(var I=0;I<2*k;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(let C=0;C<_.g.length;C++){const j=this.i(I)>>>16,O=this.i(I)&65535,M=_.i(C)>>>16,D=_.i(C)&65535;A[2*I+2*C]+=O*D,b(A,2*I+2*C),A[2*I+2*C+1]+=j*D,b(A,2*I+2*C+1),A[2*I+2*C+1]+=O*M,b(A,2*I+2*C+1),A[2*I+2*C+2]+=j*M,b(A,2*I+2*C+2)}for(_=0;_<k;_++)A[_]=A[2*_+1]<<16|A[2*_];for(_=k;_<2*k;_++)A[_]=0;return new s(A,0)};function b(_,k){for(;(_[k]&65535)!=_[k];)_[k+1]+=_[k]>>>16,_[k]&=65535,k++}function w(_,k){this.g=_,this.h=k}function S(_,k){if(g(k))throw Error("division by zero");if(g(_))return new w(d,d);if(y(_))return k=S(v(_),k),new w(v(k.g),v(k.h));if(y(k))return k=S(_,v(k)),new w(v(k.g),k.h);if(_.g.length>30){if(y(_)||y(k))throw Error("slowDivide_ only works with positive integers.");for(var A=h,I=k;I.l(_)<=0;)A=E(A),I=E(I);var C=P(A,1),j=P(I,1);for(I=P(I,2),A=P(A,2);!g(I);){var O=j.add(I);O.l(_)<=0&&(C=C.add(A),j=O),I=P(I,1),A=P(A,1)}return k=x(_,C.j(k)),new w(C,k)}for(C=d;_.l(k)>=0;){for(A=Math.max(1,Math.floor(_.m()/k.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),j=c(A),O=j.j(k);y(O)||O.l(_)>0;)A-=I,j=c(A),O=j.j(k);g(j)&&(j=h),C=C.add(j),_=x(_,O)}return new w(C,_)}t.B=function(_){return S(this,_).h},t.and=function(_){const k=Math.max(this.g.length,_.g.length),A=[];for(let I=0;I<k;I++)A[I]=this.i(I)&_.i(I);return new s(A,this.h&_.h)},t.or=function(_){const k=Math.max(this.g.length,_.g.length),A=[];for(let I=0;I<k;I++)A[I]=this.i(I)|_.i(I);return new s(A,this.h|_.h)},t.xor=function(_){const k=Math.max(this.g.length,_.g.length),A=[];for(let I=0;I<k;I++)A[I]=this.i(I)^_.i(I);return new s(A,this.h^_.h)};function E(_){const k=_.g.length+1,A=[];for(let I=0;I<k;I++)A[I]=_.i(I)<<1|_.i(I-1)>>>31;return new s(A,_.h)}function P(_,k){const A=k>>5;k%=32;const I=_.g.length-A,C=[];for(let j=0;j<I;j++)C[j]=k>0?_.i(j+A)>>>k|_.i(j+A+1)<<32-k:_.i(j+A);return new s(C,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,s3=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Ys=s}).apply(typeof QN<"u"?QN:typeof self<"u"?self:typeof window<"u"?window:{});var fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o3,Gd,l3,sg,V1,c3,u3,d3;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof fm=="object"&&fm];for(var T=0;T<m.length;++T){var N=m[T];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var N=r;m=m.split(".");for(var $=0;$<m.length-1;$++){var K=m[$];if(!(K in N))break e;N=N[K]}m=m[m.length-1],$=N[m],T=T($),T!=$&&T!=null&&e(N,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var N=[],$;for($ in T)Object.prototype.hasOwnProperty.call(T,$)&&N.push([$,T[$]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,N){return m.call.apply(m.bind,arguments)}function c(m,T,N){return c=l,c.apply(null,arguments)}function u(m,T){var N=Array.prototype.slice.call(arguments,1);return function(){var $=N.slice();return $.push.apply($,arguments),m.apply(this,$)}}function d(m,T){function N(){}N.prototype=T.prototype,m.Z=T.prototype,m.prototype=new N,m.prototype.constructor=m,m.Ob=function($,K,J){for(var ve=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ve[ze-2]=arguments[ze];return T.prototype[K].apply($,ve)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const T=m.length;if(T>0){const N=Array(T);for(let $=0;$<T;$++)N[$]=m[$];return N}return[]}function g(m,T){for(let $=1;$<arguments.length;$++){const K=arguments[$];var N=typeof K;if(N=N!="object"?N:K?Array.isArray(K)?"array":N:"null",N=="array"||N=="object"&&typeof K.length=="number"){N=m.length||0;const J=K.length||0;m.length=N+J;for(let ve=0;ve<J;ve++)m[N+ve]=K[ve]}else m.push(K)}}class y{constructor(T,N){this.i=T,this.j=N,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function v(m){s.setTimeout(()=>{throw m},0)}function x(){var m=_;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class b{constructor(){this.h=this.g=null}add(T,N){const $=w.get();$.set(T,N),this.h?this.h.next=$:this.g=$,this.h=$}}var w=new y(()=>new S,m=>m.reset());class S{constructor(){this.next=this.g=this.h=null}set(T,N){this.h=T,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let E,P=!1,_=new b,k=()=>{const m=Promise.resolve(void 0);E=()=>{m.then(A)}};function A(){for(var m;m=x();){try{m.h.call(m.g)}catch(N){v(N)}var T=w;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}P=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};s.addEventListener("test",N,T),s.removeEventListener("test",N,T)}catch{}return m}();function O(m){return/^[\s\xa0]*$/.test(m)}function M(m,T){C.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}d(M,C),M.prototype.init=function(m,T){const N=this.type=m.type,$=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(N=="mouseover"?T=m.fromElement:N=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&M.Z.h.call(this)},M.prototype.h=function(){M.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var D="closure_listenable_"+(Math.random()*1e6|0),L=0;function q(m,T,N,$,K){this.listener=m,this.proxy=null,this.src=T,this.type=N,this.capture=!!$,this.ha=K,this.key=++L,this.da=this.fa=!1}function F(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function V(m,T,N){for(const $ in m)T.call(N,m[$],$,m)}function G(m,T){for(const N in m)T.call(void 0,m[N],N,m)}function Y(m){const T={};for(const N in m)T[N]=m[N];return T}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(m,T){let N,$;for(let K=1;K<arguments.length;K++){$=arguments[K];for(N in $)m[N]=$[N];for(let J=0;J<B.length;J++)N=B[J],Object.prototype.hasOwnProperty.call($,N)&&(m[N]=$[N])}}function ge(m){this.src=m,this.g={},this.h=0}ge.prototype.add=function(m,T,N,$,K){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const ve=te(m,T,$,K);return ve>-1?(T=m[ve],N||(T.fa=!1)):(T=new q(T,this.src,J,!!$,K),T.fa=N,m.push(T)),T};function ye(m,T){const N=T.type;if(N in m.g){var $=m.g[N],K=Array.prototype.indexOf.call($,T,void 0),J;(J=K>=0)&&Array.prototype.splice.call($,K,1),J&&(F(T),m.g[N].length==0&&(delete m.g[N],m.h--))}}function te(m,T,N,$){for(let K=0;K<m.length;++K){const J=m[K];if(!J.da&&J.listener==T&&J.capture==!!N&&J.ha==$)return K}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),de={};function ee(m,T,N,$,K){if(Array.isArray(T)){for(let J=0;J<T.length;J++)ee(m,T[J],N,$,K);return null}return N=en(N),m&&m[D]?m.J(T,N,o($)?!!$.capture:!1,K):_e(m,T,N,!1,$,K)}function _e(m,T,N,$,K,J){if(!T)throw Error("Invalid event type");const ve=o(K)?!!K.capture:!!K;let ze=Ke(m);if(ze||(m[ie]=ze=new ge(m)),N=ze.add(T,N,$,ve,J),N.proxy)return N;if($=re(),N.proxy=$,$.src=m,$.listener=N,m.addEventListener)j||(K=ve),K===void 0&&(K=!1),m.addEventListener(T.toString(),$,K);else if(m.attachEvent)m.attachEvent(be(T.toString()),$);else if(m.addListener&&m.removeListener)m.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return N}function re(){function m(N){return T.call(m.src,m.listener,N)}const T=Me;return m}function X(m,T,N,$,K){if(Array.isArray(T))for(var J=0;J<T.length;J++)X(m,T[J],N,$,K);else $=o($)?!!$.capture:!!$,N=en(N),m&&m[D]?(m=m.i,J=String(T).toString(),J in m.g&&(T=m.g[J],N=te(T,N,$,K),N>-1&&(F(T[N]),Array.prototype.splice.call(T,N,1),T.length==0&&(delete m.g[J],m.h--)))):m&&(m=Ke(m))&&(T=m.g[T.toString()],m=-1,T&&(m=te(T,N,$,K)),(N=m>-1?T[m]:null)&&Z(N))}function Z(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[D])ye(T.i,m);else{var N=m.type,$=m.proxy;T.removeEventListener?T.removeEventListener(N,$,m.capture):T.detachEvent?T.detachEvent(be(N),$):T.addListener&&T.removeListener&&T.removeListener($),(N=Ke(T))?(ye(N,m),N.h==0&&(N.src=null,T[ie]=null)):F(m)}}}function be(m){return m in de?de[m]:de[m]="on"+m}function Me(m,T){if(m.da)m=!0;else{T=new M(T,this);const N=m.listener,$=m.ha||m.src;m.fa&&Z(m),m=N.call($,T)}return m}function Ke(m){return m=m[ie],m instanceof ge?m:null}var De="__closure_events_fn_"+(Math.random()*1e9>>>0);function en(m){return typeof m=="function"?m:(m[De]||(m[De]=function(T){return m.handleEvent(T)}),m[De])}function it(){I.call(this),this.i=new ge(this),this.M=this,this.G=null}d(it,I),it.prototype[D]=!0,it.prototype.removeEventListener=function(m,T,N,$){X(this,m,T,N,$)};function ct(m,T){var N,$=m.G;if($)for(N=[];$;$=$.G)N.push($);if(m=m.M,$=T.type||T,typeof T=="string")T=new C(T,m);else if(T instanceof C)T.target=T.target||m;else{var K=T;T=new C($,m),ae(T,K)}K=!0;let J,ve;if(N)for(ve=N.length-1;ve>=0;ve--)J=T.g=N[ve],K=U(J,$,!0,T)&&K;if(J=T.g=m,K=U(J,$,!0,T)&&K,K=U(J,$,!1,T)&&K,N)for(ve=0;ve<N.length;ve++)J=T.g=N[ve],K=U(J,$,!1,T)&&K}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const N=m.g[T];for(let $=0;$<N.length;$++)F(N[$]);delete m.g[T],m.h--}}this.G=null},it.prototype.J=function(m,T,N,$){return this.i.add(String(m),T,!1,N,$)},it.prototype.K=function(m,T,N,$){return this.i.add(String(m),T,!0,N,$)};function U(m,T,N,$){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let K=!0;for(let J=0;J<T.length;++J){const ve=T[J];if(ve&&!ve.da&&ve.capture==N){const ze=ve.listener,tn=ve.ha||ve.src;ve.fa&&ye(m.i,ve),K=ze.call(tn,$)!==!1&&K}}return K&&!$.defaultPrevented}function Q(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=c(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(m,T||0)}function H(m){m.g=Q(()=>{m.g=null,m.i&&(m.i=!1,H(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class ue extends I{constructor(T,N){super(),this.m=T,this.l=N,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:H(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(m){I.call(this),this.h=m,this.g={}}d(he,I);var Ee=[];function Fe(m){V(m.g,function(T,N){this.g.hasOwnProperty(N)&&Z(T)},m),m.g={}}he.prototype.N=function(){he.Z.N.call(this),Fe(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ht=s.JSON.stringify,un=s.JSON.parse,$r=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function ma(){}function $l(){}var Lr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ci(){C.call(this,"d")}d(ci,C);function is(){C.call(this,"c")}d(is,C);var rr={},W=null;function ce(){return W=W||new it}rr.Ia="serverreachability";function me(m){C.call(this,rr.Ia,m)}d(me,C);function je(m){const T=ce();ct(T,new me(T))}rr.STAT_EVENT="statevent";function dt(m,T){C.call(this,rr.STAT_EVENT,m),this.stat=T}d(dt,C);function qe(m){const T=ce();ct(T,new dt(T,m))}rr.Ja="timingevent";function ir(m,T){C.call(this,rr.Ja,m),this.size=T}d(ir,C);function ga(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},T)}function Dt(){this.g=!0}Dt.prototype.ua=function(){this.g=!1};function Ll(m,T,N,$,K,J){m.info(function(){if(m.g)if(J){var ve="",ze=J.split("&");for(let ft=0;ft<ze.length;ft++){var tn=ze[ft].split("=");if(tn.length>1){const dn=tn[0];tn=tn[1];const Mi=dn.split("_");ve=Mi.length>=2&&Mi[1]=="type"?ve+(dn+"="+tn+"&"):ve+(dn+"=redacted&")}}}else ve=null;else ve=J;return"XMLHTTP REQ ("+$+") [attempt "+K+"]: "+T+`
`+N+`
`+ve})}function Fx(m,T,N,$,K,J,ve){m.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+K+"]: "+T+`
`+N+`
`+J+" "+ve})}function Fl(m,T,N,$){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+j9(m,N)+($?" "+$:"")})}function C9(m,T){m.info(function(){return"TIMEOUT: "+T})}Dt.prototype.info=function(){};function j9(m,T){if(!m.g)return T;if(!T)return null;try{const J=JSON.parse(T);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var N=J[m];if(!(N.length<2)){var $=N[1];if(Array.isArray($)&&!($.length<1)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ve=1;ve<$.length;ve++)$[ve]=""}}}}return Ht(J)}catch{return T}}var $p={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pA={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mA;function Vx(){}d(Vx,ma),Vx.prototype.g=function(){return new XMLHttpRequest},mA=new Vx;function ad(m){return encodeURIComponent(String(m))}function R9(m){var T=1;m=m.split(":");const N=[];for(;T>0&&m.length;)N.push(m.shift()),T--;return m.length&&N.push(m.join(":")),N}function as(m,T,N,$){this.j=m,this.i=T,this.l=N,this.S=$||1,this.V=new he(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gA}function gA(){this.i=null,this.g="",this.h=!1}var yA={},Ux={};function Bx(m,T,N){m.M=1,m.A=Fp(Ri(T)),m.u=N,m.R=!0,vA(m,null)}function vA(m,T){m.F=Date.now(),Lp(m),m.B=Ri(m.A);var N=m.B,$=m.S;Array.isArray($)||($=[String($)]),OA(N.i,"t",$),m.C=0,N=m.j.L,m.h=new gA,m.g=YA(m.j,N?T:null,!m.u),m.P>0&&(m.O=new ue(c(m.Y,m,m.g),m.P)),T=m.V,N=m.g,$=m.ba;var K="readystatechange";Array.isArray(K)||(K&&(Ee[0]=K.toString()),K=Ee);for(let J=0;J<K.length;J++){const ve=ee(N,K[J],$||T.handleEvent,!1,T.h||T);if(!ve)break;T.g[ve.key]=ve}T=m.J?Y(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),je(),Ll(m.i,m.v,m.B,m.l,m.S,m.u)}as.prototype.ba=function(m){m=m.target;const T=this.O;T&&ls(m)==3?T.j():this.Y(m)},as.prototype.Y=function(m){try{if(m==this.g)e:{const ze=ls(this.g),tn=this.g.ya(),ft=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||LA(this.g)))){this.K||ze!=4||tn==7||(tn==8||ft<=0?je(3):je(2)),zx(this);var T=this.g.ca();this.X=T;var N=M9(this);if(this.o=T==200,Fx(this.i,this.v,this.B,this.l,this.S,ze,T),this.o){if(this.U&&!this.L){t:{if(this.g){var $,K=this.g;if(($=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O($)){var J=$;break t}}J=null}if(m=J)Fl(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qx(this,m);else{this.o=!1,this.m=3,qe(12),To(this),sd(this);break e}}if(this.R){m=!0;let dn;for(;!this.K&&this.C<N.length;)if(dn=D9(this,N),dn==Ux){ze==4&&(this.m=4,qe(14),m=!1),Fl(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==yA){this.m=4,qe(15),Fl(this.i,this.l,N,"[Invalid Chunk]"),m=!1;break}else Fl(this.i,this.l,dn,null),qx(this,dn);if(xA(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||N.length!=0||this.h.h||(this.m=1,qe(16),m=!1),this.o=this.o&&m,!m)Fl(this.i,this.l,N,"[Invalid Chunked Response]"),To(this),sd(this);else if(N.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Jx(ve),ve.P=!0,qe(11))}}else Fl(this.i,this.l,N,null),qx(this,N);ze==4&&To(this),this.o&&!this.K&&(ze==4?WA(this.j,this):(this.o=!1,Lp(this)))}else Q9(this.g),T==400&&N.indexOf("Unknown SID")>0?(this.m=3,qe(12)):(this.m=0,qe(13)),To(this),sd(this)}}}catch{}finally{}};function M9(m){if(!xA(m))return m.g.la();const T=LA(m.g);if(T==="")return"";let N="";const $=T.length,K=ls(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return To(m),sd(m),"";m.h.i=new s.TextDecoder}for(let J=0;J<$;J++)m.h.h=!0,N+=m.h.i.decode(T[J],{stream:!(K&&J==$-1)});return T.length=0,m.h.g+=N,m.C=0,m.h.g}function xA(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function D9(m,T){var N=m.C,$=T.indexOf(`
`,N);return $==-1?Ux:(N=Number(T.substring(N,$)),isNaN(N)?yA:($+=1,$+N>T.length?Ux:(T=T.slice($,$+N),m.C=$+N,T)))}as.prototype.cancel=function(){this.K=!0,To(this)};function Lp(m){m.T=Date.now()+m.H,bA(m,m.H)}function bA(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ga(c(m.aa,m),T)}function zx(m){m.D&&(s.clearTimeout(m.D),m.D=null)}as.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(C9(this.i,this.B),this.M!=2&&(je(),qe(17)),To(this),this.m=2,sd(this)):bA(this,this.T-m)};function sd(m){m.j.I==0||m.K||WA(m.j,m)}function To(m){zx(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,Fe(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function qx(m,T){try{var N=m.j;if(N.I!=0&&(N.g==m||Wx(N.h,m))){if(!m.L&&Wx(N.h,m)&&N.I==3){try{var $=N.Ba.g.parse(T)}catch{$=null}if(Array.isArray($)&&$.length==3){var K=$;if(K[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<m.F)qp(N),Bp(N);else break e;Xx(N),qe(18)}}else N.xa=K[1],0<N.xa-N.K&&K[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=ga(c(N.Va,N),6e3));SA(N.h)<=1&&N.ta&&(N.ta=void 0)}else Ao(N,11)}else if((m.L||N.g==m)&&qp(N),!O(T))for(K=N.Ba.g.parse(T),T=0;T<K.length;T++){let ft=K[T];const dn=ft[0];if(!(dn<=N.K))if(N.K=dn,ft=ft[1],N.I==2)if(ft[0]=="c"){N.M=ft[1],N.ba=ft[2];const Mi=ft[3];Mi!=null&&(N.ka=Mi,N.j.info("VER="+N.ka));const No=ft[4];No!=null&&(N.za=No,N.j.info("SVER="+N.za));const cs=ft[5];cs!=null&&typeof cs=="number"&&cs>0&&($=1.5*cs,N.O=$,N.j.info("backChannelRequestTimeoutMs_="+$)),$=N;const us=m.g;if(us){const Hp=us.g?us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hp){var J=$.h;J.g||Hp.indexOf("spdy")==-1&&Hp.indexOf("quic")==-1&&Hp.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Hx(J,J.h),J.h=null))}if($.G){const Zx=us.g?us.g.getResponseHeader("X-HTTP-Session-Id"):null;Zx&&($.wa=Zx,wt($.J,$.G,Zx))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-m.F,N.j.info("Handshake RTT: "+N.T+"ms")),$=N;var ve=m;if($.na=KA($,$.L?$.ba:null,$.W),ve.L){EA($.h,ve);var ze=ve,tn=$.O;tn&&(ze.H=tn),ze.D&&(zx(ze),Lp(ze)),$.g=ve}else zA($);N.i.length>0&&zp(N)}else ft[0]!="stop"&&ft[0]!="close"||Ao(N,7);else N.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Ao(N,7):Qx(N):ft[0]!="noop"&&N.l&&N.l.qa(ft),N.A=0)}}je(4)}catch{}}var $9=class{constructor(m,T){this.g=m,this.map=T}};function wA(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _A(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function SA(m){return m.h?1:m.g?m.g.size:0}function Wx(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Hx(m,T){m.g?m.g.add(T):m.h=T}function EA(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}wA.prototype.cancel=function(){if(this.i=kA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function kA(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const N of m.g.values())T=T.concat(N.G);return T}return p(m.i)}var TA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L9(m,T){if(m){m=m.split("&");for(let N=0;N<m.length;N++){const $=m[N].indexOf("=");let K,J=null;$>=0?(K=m[N].substring(0,$),J=m[N].substring($+1)):K=m[N],T(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ss(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof ss?(this.l=m.l,od(this,m.j),this.o=m.o,this.g=m.g,ld(this,m.u),this.h=m.h,Gx(this,CA(m.i)),this.m=m.m):m&&(T=String(m).match(TA))?(this.l=!1,od(this,T[1]||"",!0),this.o=cd(T[2]||""),this.g=cd(T[3]||"",!0),ld(this,T[4]),this.h=cd(T[5]||"",!0),Gx(this,T[6]||"",!0),this.m=cd(T[7]||"")):(this.l=!1,this.i=new dd(null,this.l))}ss.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(ud(T,PA,!0),":");var N=this.g;return(N||T=="file")&&(m.push("//"),(T=this.o)&&m.push(ud(T,PA,!0),"@"),m.push(ad(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&m.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(ud(N,N.charAt(0)=="/"?U9:V9,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",ud(N,z9)),m.join("")},ss.prototype.resolve=function(m){const T=Ri(this);let N=!!m.j;N?od(T,m.j):N=!!m.o,N?T.o=m.o:N=!!m.g,N?T.g=m.g:N=m.u!=null;var $=m.h;if(N)ld(T,m.u);else if(N=!!m.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var K=T.h.lastIndexOf("/");K!=-1&&($=T.h.slice(0,K+1)+$)}if(K=$,K==".."||K==".")$="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){$=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let ve=0;ve<K.length;){const ze=K[ve++];ze=="."?$&&ve==K.length&&J.push(""):ze==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),$&&ve==K.length&&J.push("")):(J.push(ze),$=!0)}$=J.join("/")}else $=K}return N?T.h=$:N=m.i.toString()!=="",N?Gx(T,CA(m.i)):N=!!m.m,N&&(T.m=m.m),T};function Ri(m){return new ss(m)}function od(m,T,N){m.j=N?cd(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function ld(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function Gx(m,T,N){T instanceof dd?(m.i=T,q9(m.i,m.l)):(N||(T=ud(T,B9)),m.i=new dd(T,m.l))}function wt(m,T,N){m.i.set(T,N)}function Fp(m){return wt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function cd(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ud(m,T,N){return typeof m=="string"?(m=encodeURI(m).replace(T,F9),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function F9(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var PA=/[#\/\?@]/g,V9=/[#\?:]/g,U9=/[#\?]/g,B9=/[#\?@]/g,z9=/#/g;function dd(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Po(m){m.g||(m.g=new Map,m.h=0,m.i&&L9(m.i,function(T,N){m.add(decodeURIComponent(T.replace(/\+/g," ")),N)}))}t=dd.prototype,t.add=function(m,T){Po(this),this.i=null,m=Vl(this,m);let N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(T),this.h+=1,this};function AA(m,T){Po(m),T=Vl(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function NA(m,T){return Po(m),T=Vl(m,T),m.g.has(T)}t.forEach=function(m,T){Po(this),this.g.forEach(function(N,$){N.forEach(function(K){m.call(T,K,$,this)},this)},this)};function IA(m,T){Po(m);let N=[];if(typeof T=="string")NA(m,T)&&(N=N.concat(m.g.get(Vl(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)N=N.concat(m[T]);return N}t.set=function(m,T){return Po(this),this.i=null,m=Vl(this,m),NA(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=IA(this,m),m.length>0?String(m[0]):T):T};function OA(m,T,N){AA(m,T),N.length>0&&(m.i=null,m.g.set(Vl(m,T),p(N)),m.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let $=0;$<T.length;$++){var N=T[$];const K=ad(N);N=IA(this,N);for(let J=0;J<N.length;J++){let ve=K;N[J]!==""&&(ve+="="+ad(N[J])),m.push(ve)}}return this.i=m.join("&")};function CA(m){const T=new dd;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function Vl(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function q9(m,T){T&&!m.j&&(Po(m),m.i=null,m.g.forEach(function(N,$){const K=$.toLowerCase();$!=K&&(AA(this,$),OA(this,K,N))},m)),m.j=T}function W9(m,T){const N=new Dt;if(s.Image){const $=new Image;$.onload=u(os,N,"TestLoadImage: loaded",!0,T,$),$.onerror=u(os,N,"TestLoadImage: error",!1,T,$),$.onabort=u(os,N,"TestLoadImage: abort",!1,T,$),$.ontimeout=u(os,N,"TestLoadImage: timeout",!1,T,$),s.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=m}else T(!1)}function H9(m,T){const N=new Dt,$=new AbortController,K=setTimeout(()=>{$.abort(),os(N,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:$.signal}).then(J=>{clearTimeout(K),J.ok?os(N,"TestPingServer: ok",!0,T):os(N,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(K),os(N,"TestPingServer: error",!1,T)})}function os(m,T,N,$,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),$(N)}catch{}}function G9(){this.g=new $r}function Kx(m){this.i=m.Sb||null,this.h=m.ab||!1}d(Kx,ma),Kx.prototype.g=function(){return new Vp(this.i,this.h)};function Vp(m,T){it.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Vp,it),t=Vp.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,hd(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fd(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,hd(this)),this.g&&(this.readyState=3,hd(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jA(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function jA(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?fd(this):hd(this),this.readyState==3&&jA(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,fd(this))},t.Na=function(m){this.g&&(this.response=m,fd(this))},t.ga=function(){this.g&&fd(this)};function fd(m){m.readyState=4,m.l=null,m.j=null,m.B=null,hd(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var N=T.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=T.next();return m.join(`\r
`)};function hd(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Vp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function RA(m){let T="";return V(m,function(N,$){T+=$,T+=":",T+=N,T+=`\r
`}),T}function Yx(m,T,N){e:{for($ in N){var $=!1;break e}$=!0}$||(N=RA(N),typeof m=="string"?N!=null&&ad(N):wt(m,T,N))}function $t(m){it.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d($t,it);var K9=/^https?$/i,Y9=["POST","PUT"];t=$t.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,N,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mA.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(J){MA(this,J);return}if(m=N||"",N=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var K in $)N.set(K,$[K]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const J of $.keys())N.set(J,$.get(J));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(N.keys()).find(J=>J.toLowerCase()=="content-type"),K=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(Y9,T,void 0)>=0)||$||K||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ve]of N)this.g.setRequestHeader(J,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){MA(this,J)}};function MA(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,DA(m),Up(m)}function DA(m){m.A||(m.A=!0,ct(m,"complete"),ct(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,ct(this,"complete"),ct(this,"abort"),Up(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Up(this,!0)),$t.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?$A(this):this.Xa())},t.Xa=function(){$A(this)};function $A(m){if(m.h&&typeof a<"u"){if(m.v&&ls(m)==4)setTimeout(m.Ca.bind(m),0);else if(ct(m,"readystatechange"),ls(m)==4){m.h=!1;try{const J=m.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var N;if(!(N=T)){var $;if($=J===0){let ve=String(m.D).match(TA)[1]||null;!ve&&s.self&&s.self.location&&(ve=s.self.location.protocol.slice(0,-1)),$=!K9.test(ve?ve.toLowerCase():"")}N=$}if(N)ct(m,"complete"),ct(m,"success");else{m.o=6;try{var K=ls(m)>2?m.g.statusText:""}catch{K=""}m.l=K+" ["+m.ca()+"]",DA(m)}}finally{Up(m)}}}}function Up(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const N=m.g;m.g=null,T||ct(m,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ls(m){return m.g?m.g.readyState:0}t.ca=function(){try{return ls(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),un(T)}};function LA(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Q9(m){const T={};m=(m.g&&ls(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<m.length;$++){if(O(m[$]))continue;var N=R9(m[$]);const K=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const J=T[K]||[];T[K]=J,J.push(N)}G(T,function($){return $.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pd(m,T,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||T}function FA(m){this.za=0,this.i=[],this.j=new Dt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pd("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pd("baseRetryDelayMs",5e3,m),this.Za=pd("retryDelaySeedMs",1e4,m),this.Ta=pd("forwardChannelMaxRetries",2,m),this.va=pd("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new wA(m&&m.concurrentRequestLimit),this.Ba=new G9,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=FA.prototype,t.ka=8,t.I=1,t.connect=function(m,T,N,$){qe(0),this.W=m,this.H=T||{},N&&$!==void 0&&(this.H.OSID=N,this.H.OAID=$),this.F=this.X,this.J=KA(this,null,this.W),zp(this)};function Qx(m){if(VA(m),m.I==3){var T=m.V++,N=Ri(m.J);if(wt(N,"SID",m.M),wt(N,"RID",T),wt(N,"TYPE","terminate"),md(m,N),T=new as(m,m.j,T),T.M=2,T.A=Fp(Ri(N)),N=!1,s.navigator&&s.navigator.sendBeacon)try{N=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!N&&s.Image&&(new Image().src=T.A,N=!0),N||(T.g=YA(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Lp(T)}GA(m)}function Bp(m){m.g&&(Jx(m),m.g.cancel(),m.g=null)}function VA(m){Bp(m),m.v&&(s.clearTimeout(m.v),m.v=null),qp(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function zp(m){if(!_A(m.h)&&!m.m){m.m=!0;var T=m.Ea;E||k(),P||(E(),P=!0),_.add(T,m),m.D=0}}function X9(m,T){return SA(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ga(c(m.Ea,m,T),HA(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const K=new as(this,this.j,m);let J=this.o;if(this.U&&(J?(J=Y(J),ae(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var T=0,N=0;N<this.i.length;N++){t:{var $=this.i[N];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(T+=$,T>4096){T=N;break e}if(T===4096||N===this.i.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=BA(this,K,T),N=Ri(this.J),wt(N,"RID",m),wt(N,"CVER",22),this.G&&wt(N,"X-HTTP-Session-Id",this.G),md(this,N),J&&(this.R?T="headers="+ad(RA(J))+"&"+T:this.u&&Yx(N,this.u,J)),Hx(this.h,K),this.Ra&&wt(N,"TYPE","init"),this.S?(wt(N,"$req",T),wt(N,"SID","null"),K.U=!0,Bx(K,N,null)):Bx(K,N,T),this.I=2}}else this.I==3&&(m?UA(this,m):this.i.length==0||_A(this.h)||UA(this))};function UA(m,T){var N;T?N=T.l:N=m.V++;const $=Ri(m.J);wt($,"SID",m.M),wt($,"RID",N),wt($,"AID",m.K),md(m,$),m.u&&m.o&&Yx($,m.u,m.o),N=new as(m,m.j,N,m.D+1),m.u===null&&(N.J=m.o),T&&(m.i=T.G.concat(m.i)),T=BA(m,N,1e3),N.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Hx(m.h,N),Bx(N,$,T)}function md(m,T){m.H&&V(m.H,function(N,$){wt(T,$,N)}),m.l&&V({},function(N,$){wt(T,$,N)})}function BA(m,T,N){N=Math.min(m.i.length,N);const $=m.l?c(m.l.Ka,m.l,m):null;e:{var K=m.i;let ze=-1;for(;;){const tn=["count="+N];ze==-1?N>0?(ze=K[0].g,tn.push("ofs="+ze)):ze=0:tn.push("ofs="+ze);let ft=!0;for(let dn=0;dn<N;dn++){var J=K[dn].g;const Mi=K[dn].map;if(J-=ze,J<0)ze=Math.max(0,K[dn].g-100),ft=!1;else try{J="req"+J+"_"||"";try{var ve=Mi instanceof Map?Mi:Object.entries(Mi);for(const[No,cs]of ve){let us=cs;o(cs)&&(us=Ht(cs)),tn.push(J+No+"="+encodeURIComponent(us))}}catch(No){throw tn.push(J+"type="+encodeURIComponent("_badmap")),No}}catch{$&&$(Mi)}}if(ft){ve=tn.join("&");break e}}ve=void 0}return m=m.i.splice(0,N),T.G=m,ve}function zA(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;E||k(),P||(E(),P=!0),_.add(T,m),m.A=0}}function Xx(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ga(c(m.Da,m),HA(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,qA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ga(c(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qe(10),Bp(this),qA(this))};function Jx(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function qA(m){m.g=new as(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Ri(m.na);wt(T,"RID","rpc"),wt(T,"SID",m.M),wt(T,"AID",m.K),wt(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&wt(T,"TO",m.ia),wt(T,"TYPE","xmlhttp"),md(m,T),m.u&&m.o&&Yx(T,m.u,m.o),m.O&&(m.g.H=m.O);var N=m.g;m=m.ba,N.M=1,N.A=Fp(Ri(T)),N.u=null,N.R=!0,vA(N,m)}t.Va=function(){this.C!=null&&(this.C=null,Bp(this),Xx(this),qe(19))};function qp(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function WA(m,T){var N=null;if(m.g==T){qp(m),Jx(m),m.g=null;var $=2}else if(Wx(m.h,T))N=T.G,EA(m.h,T),$=1;else return;if(m.I!=0){if(T.o)if($==1){N=T.u?T.u.length:0,T=Date.now()-T.F;var K=m.D;$=ce(),ct($,new ir($,N)),zp(m)}else zA(m);else if(K=T.m,K==3||K==0&&T.X>0||!($==1&&X9(m,T)||$==2&&Xx(m)))switch(N&&N.length>0&&(T=m.h,T.i=T.i.concat(N)),K){case 1:Ao(m,5);break;case 4:Ao(m,10);break;case 3:Ao(m,6);break;default:Ao(m,2)}}}function HA(m,T){let N=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(N*=2),N*T}function Ao(m,T){if(m.j.info("Error code "+T),T==2){var N=c(m.bb,m),$=m.Ua;const K=!$;$=new ss($||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||od($,"https"),Fp($),K?W9($.toString(),N):H9($.toString(),N)}else qe(2);m.I=0,m.l&&m.l.pa(T),GA(m),VA(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),qe(2)):(this.j.info("Failed to ping google.com"),qe(1))};function GA(m){if(m.I=0,m.ja=[],m.l){const T=kA(m.h);(T.length!=0||m.i.length!=0)&&(g(m.ja,T),g(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function KA(m,T,N){var $=N instanceof ss?Ri(N):new ss(N);if($.g!="")T&&($.g=T+"."+$.g),ld($,$.u);else{var K=s.location;$=K.protocol,T=T?T+"."+K.hostname:K.hostname,K=+K.port;const J=new ss(null);$&&od(J,$),T&&(J.g=T),K&&ld(J,K),N&&(J.h=N),$=J}return N=m.G,T=m.wa,N&&T&&wt($,N,T),wt($,"VER",m.ka),md(m,$),$}function YA(m,T,N){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new $t(new Kx({ab:N})):new $t(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function QA(){}t=QA.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Wp(){}Wp.prototype.g=function(m,T){return new vr(m,T)};function vr(m,T){it.call(this),this.g=new FA(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!O(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!O(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Ul(this)}d(vr,it),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Qx(this.g)},vr.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.v&&(N={},N.__data__=Ht(m),m=N);T.i.push(new $9(T.Ya++,m)),T.I==3&&zp(T)},vr.prototype.N=function(){this.g.l=null,delete this.j,Qx(this.g),delete this.g,vr.Z.N.call(this)};function XA(m){ci.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const N in T){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}d(XA,ci);function JA(){is.call(this),this.status=1}d(JA,is);function Ul(m){this.g=m}d(Ul,QA),Ul.prototype.ra=function(){ct(this.g,"a")},Ul.prototype.qa=function(m){ct(this.g,new XA(m))},Ul.prototype.pa=function(m){ct(this.g,new JA)},Ul.prototype.oa=function(){ct(this.g,"b")},Wp.prototype.createWebChannel=Wp.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,d3=function(){return new Wp},u3=function(){return ce()},c3=rr,V1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$p.NO_ERROR=0,$p.TIMEOUT=8,$p.HTTP_ERROR=6,sg=$p,pA.COMPLETE="complete",l3=pA,$l.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",it.prototype.listen=it.prototype.J,Gd=$l,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,o3=$t}).apply(typeof fm<"u"?fm:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu="12.9.0";function MK(t){Lu=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new wv("@firebase/firestore");function Xl(){return dl.logLevel}function we(t,...e){if(dl.logLevel<=Ye.DEBUG){const n=e.map(jk);dl.debug(`Firestore (${Lu}): ${t}`,...n)}}function Ha(t,...e){if(dl.logLevel<=Ye.ERROR){const n=e.map(jk);dl.error(`Firestore (${Lu}): ${t}`,...n)}}function fl(t,...e){if(dl.logLevel<=Ye.WARN){const n=e.map(jk);dl.warn(`Firestore (${Lu}): ${t}`,...n)}}function jk(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,f3(t,r,n)}function f3(t,e,n){let r=`FIRESTORE (${Lu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ha(r),new Error(r)}function at(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||f3(e,i,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cn.UNAUTHENTICATED))}shutdown(){}}class $K{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LK{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qs,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qs)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new h3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class FK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class VK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new FK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new XN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new XN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=BK(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function U1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Mb(i)===Mb(a)?Qe(i,a):Mb(i)?1:-1}return Qe(t.length,e.length)}const zK=55296,qK=57343;function Mb(t){const e=t.charCodeAt(0);return e>=zK&&e<=qK}function Yc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="__name__";class Li{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Li.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Qe(e.length,n.length)}static compareSegments(e,n){const r=Li.isNumericId(e),i=Li.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Li.extractNumericId(e).compare(Li.extractNumericId(n)):U1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class vt extends Li{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const WK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends Li{construct(e,n,r){return new Sn(e,n,r)}static isValidIdentifier(e){return WK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JN}static keyField(){return new Sn([JN])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new xe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new xe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new xe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(vt.fromString(e))}static fromName(e){return new Ae(vt.fromString(e).popFirst(5))}static empty(){return new Ae(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t,e,n){if(!n)throw new xe(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HK(t,e,n,r){if(e===!0&&r===!0)throw new xe(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZN(t){if(!Ae.isDocumentKey(t))throw new xe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eI(t){if(Ae.isDocumentKey(t))throw new xe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function m3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function kv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function Jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kv(t);throw new xe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function mp(t,e){if(!m3(t))throw new xe(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new xe(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=-62135596800,nI=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nI);return new kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tI)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nI}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mp(e,kt._jsonSchema))return new kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:Xt("string",kt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new kt(0,0))}static max(){return new Ve(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=-1;function GK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new ro(i,Ae.empty(),e)}function KK(t){return new ro(t.readTime,t.key,rh)}class ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ro(Ve.min(),Ae.empty(),rh)}static max(){return new ro(Ve.max(),Ae.empty(),rh)}}function YK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==QK)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(i=>i?le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new le((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new le((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function JK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=-1;function Pv(t){return t==null}function t0(t){return t===0&&1/t==-1/0}function ZK(t){return typeof t=="number"&&Number.isInteger(t)&&!t0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="";function eY(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rI(e)),e=tY(t.get(n),e);return rI(e)}function tY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case g3:n+="";break;default:n+=a}}return n}function rI(t){return t+g3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hm(this.root,e,this.comparator,!1)}getReverseIterator(){return new hm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hm(this.root,e,this.comparator,!0)}}class hm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=a??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aI(this.data.getIterator())}getIteratorFrom(e){return new aI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class aI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Tr([])}unionWith(e){let n=new ln(Sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new v3("Invalid base64 string: "+a):a}}(e);return new Pn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const nY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(at(!!t,39018),typeof t=="string"){let e=0;const n=nY.exec(t);if(at(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ao(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="server_timestamp",b3="__type__",w3="__previous_value__",_3="__local_write_time__";function Dk(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[b3])==null?void 0:r.stringValue)===x3}function Av(t){const e=t.mapValue.fields[w3];return Dk(e)?Av(e):e}function ih(t){const e=io(t.mapValue.fields[_3].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(e,n,r,i,a,s,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=d}}const n0="(default)";class ah{constructor(e,n){this.projectId=e,this.database=n||n0}static empty(){return new ah("","")}get isDefaultDatabase(){return this.database===n0}isEqual(e){return e instanceof ah&&e.projectId===this.projectId&&e.database===this.database}}function iY(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ah(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="__type__",aY="__max__",pm={mapValue:{}},E3="__vector__",r0="value";function so(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dk(t)?4:oY(t)?9007199254740991:sY(t)?10:11:Re(28295,{value:t})}function ra(t,e){if(t===e)return!0;const n=so(t);if(n!==so(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ih(t).isEqual(ih(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=io(i.timestampValue),o=io(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ao(i.bytesValue).isEqual(ao(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Bt(i.geoPointValue.latitude)===Bt(a.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Bt(i.integerValue)===Bt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Bt(i.doubleValue),o=Bt(a.doubleValue);return s===o?t0(s)===t0(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Yc(t.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(iI(s)!==iI(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!ra(s[l],o[l])))return!1;return!0}(t,e);default:return Re(52216,{left:t})}}function sh(t,e){return(t.values||[]).find(n=>ra(n,e))!==void 0}function Qc(t,e){if(t===e)return 0;const n=so(t),r=so(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Bt(a.integerValue||a.doubleValue),l=Bt(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return sI(t.timestampValue,e.timestampValue);case 4:return sI(ih(t),ih(e));case 5:return U1(t.stringValue,e.stringValue);case 6:return function(a,s){const o=ao(a),l=ao(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Qe(o[c],l[c]);if(u!==0)return u}return Qe(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Qe(Bt(a.latitude),Bt(s.latitude));return o!==0?o:Qe(Bt(a.longitude),Bt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return oI(t.arrayValue,e.arrayValue);case 10:return function(a,s){var h,p,g,y;const o=a.fields||{},l=s.fields||{},c=(h=o[r0])==null?void 0:h.arrayValue,u=(p=l[r0])==null?void 0:p.arrayValue,d=Qe(((g=c==null?void 0:c.values)==null?void 0:g.length)||0,((y=u==null?void 0:u.values)==null?void 0:y.length)||0);return d!==0?d:oI(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===pm.mapValue&&s===pm.mapValue)return 0;if(a===pm.mapValue)return 1;if(s===pm.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=U1(l[d],u[d]);if(h!==0)return h;const p=Qc(o[l[d]],c[u[d]]);if(p!==0)return p}return Qe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function sI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=io(t),r=io(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function oI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Qc(n[i],r[i]);if(a)return a}return Qe(n.length,r.length)}function Xc(t){return B1(t)}function B1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=B1(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${B1(n.fields[s])}`;return i+"}"}(t.mapValue):Re(61005,{value:t})}function og(t){switch(so(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Av(t);return e?16+og(e):16;case 5:return 2*t.stringValue.length;case 6:return ao(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+og(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return yo(r.fields,(a,s)=>{i+=a.length+og(s)}),i}(t.mapValue);default:throw Re(13486,{value:t})}}function lI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function z1(t){return!!t&&"integerValue"in t}function $k(t){return!!t&&"arrayValue"in t}function cI(t){return!!t&&"nullValue"in t}function uI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lg(t){return!!t&&"mapValue"in t}function sY(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[S3])==null?void 0:r.stringValue)===E3}function bf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bf(t.arrayValue.values[n]);return e}return{...t}}function oY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bf(n)}setAll(e){let n=Sn.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=bf(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());lg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new lr(bf(this.value))}}function k3(t){const e=[];return yo(t.fields,(n,r)=>{const i=new Sn([n]);if(lg(r)){const a=k3(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Rn(e,0,Ve.min(),Ve.min(),Ve.min(),lr.empty(),0)}static newFoundDocument(e,n,r,i){return new Rn(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new Rn(e,2,n,Ve.min(),Ve.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Ve.min(),Ve.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.position=e,this.inclusive=n}}function dI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Ae.comparator(Ae.fromName(s.referenceValue),n.key):r=Qc(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function fI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ra(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function lY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{}class Qt extends T3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uY(e,n,r):n==="array-contains"?new hY(e,r):n==="in"?new pY(e,r):n==="not-in"?new mY(e,r):n==="array-contains-any"?new gY(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dY(e,r):new fY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qc(n,this.value)):n!==null&&so(this.value)===so(n)&&this.matchesComparison(Qc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends T3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Oi(e,n)}matches(e){return P3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P3(t){return t.op==="and"}function A3(t){return cY(t)&&P3(t)}function cY(t){for(const e of t.filters)if(e instanceof Oi)return!1;return!0}function q1(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Xc(t.value);if(A3(t))return t.filters.map(e=>q1(e)).join(",");{const e=t.filters.map(n=>q1(n)).join(",");return`${t.op}(${e})`}}function N3(t,e){return t instanceof Qt?function(r,i){return i instanceof Qt&&r.op===i.op&&r.field.isEqual(i.field)&&ra(r.value,i.value)}(t,e):t instanceof Oi?function(r,i){return i instanceof Oi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&N3(s,i.filters[o]),!0):!1}(t,e):void Re(19439)}function I3(t){return t instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xc(n.value)}`}(t):t instanceof Oi?function(n){return n.op.toString()+" {"+n.getFilters().map(I3).join(" ,")+"}"}(t):"Filter"}class uY extends Qt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class dY extends Qt{constructor(e,n){super(e,"in",n),this.keys=O3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fY extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=O3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function O3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class hY extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $k(n)&&sh(n.arrayValue,this.value)}}class pY extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sh(this.value.arrayValue,n)}}class mY extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sh(this.value.arrayValue,n)}}class gY extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$k(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function hI(t,e=null,n=[],r=[],i=null,a=null,s=null){return new yY(t,e,n,r,i,a,s)}function Lk(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>q1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Pv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xc(r)).join(",")),e.Te=n}return e.Te}function Fk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!N3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fI(t.startAt,e.startAt)&&fI(t.endAt,e.endAt)}function W1(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vY(t,e,n,r,i,a,s,o){return new Uu(t,e,n,r,i,a,s,o)}function Vk(t){return new Uu(t)}function pI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xY(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function C3(t){return t.collectionGroup!==null}function wf(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new ln(Sn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new oh(a,r))}),n.has(Sn.keyField().canonicalString())||e.Ie.push(new oh(Sn.keyField(),r))}return e.Ie}function Xi(t){const e=Ue(t);return e.Ee||(e.Ee=bY(e,wf(t))),e.Ee}function bY(t,e){if(t.limitType==="F")return hI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new oh(i.field,a)});const n=t.endAt?new i0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new i0(t.startAt.position,t.startAt.inclusive):null;return hI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function H1(t,e){const n=t.filters.concat([e]);return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wY(t,e){const n=t.explicitOrderBy.concat([e]);return new Uu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function G1(t,e,n){return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nv(t,e){return Fk(Xi(t),Xi(e))&&t.limitType===e.limitType}function j3(t){return`${Lk(Xi(t))}|lt:${t.limitType}`}function Jl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>I3(i)).join(", ")}]`),Pv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xc(i)).join(",")),`Target(${r})`}(Xi(t))}; limitType=${t.limitType})`}function Iv(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ae.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of wf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=dI(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,wf(r),i)||r.endAt&&!function(s,o,l){const c=dI(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,wf(r),i))}(t,e)}function _Y(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R3(t){return(e,n)=>{let r=!1;for(const i of wf(t)){const a=SY(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function SY(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?Qc(l,c):Re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return y3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=new Mt(Ae.comparator);function Ga(){return EY}const M3=new Mt(Ae.comparator);function Kd(...t){let e=M3;for(const n of t)e=e.insert(n.key,n);return e}function D3(t){let e=M3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qo(){return _f()}function $3(){return _f()}function _f(){return new Ol(t=>t.toString(),(t,e)=>t.isEqual(e))}const kY=new Mt(Ae.comparator),TY=new ln(Ae.comparator);function Xe(...t){let e=TY;for(const n of t)e=e.add(n);return e}const PY=new ln(Qe);function AY(){return PY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t0(e)?"-0":e}}function L3(t){return{integerValue:""+t}}function NY(t,e){return ZK(e)?L3(e):Uk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this._=void 0}}function IY(t,e,n){return t instanceof a0?function(i,a){const s={fields:{[b3]:{stringValue:x3},[_3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Dk(a)&&(a=Av(a)),a&&(s.fields[w3]=a),{mapValue:s}}(n,e):t instanceof lh?V3(t,e):t instanceof ch?U3(t,e):function(i,a){const s=F3(i,a),o=mI(s)+mI(i.Ae);return z1(s)&&z1(i.Ae)?L3(o):Uk(i.serializer,o)}(t,e)}function OY(t,e,n){return t instanceof lh?V3(t,e):t instanceof ch?U3(t,e):n}function F3(t,e){return t instanceof s0?function(r){return z1(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class a0 extends Ov{}class lh extends Ov{constructor(e){super(),this.elements=e}}function V3(t,e){const n=B3(e);for(const r of t.elements)n.some(i=>ra(i,r))||n.push(r);return{arrayValue:{values:n}}}class ch extends Ov{constructor(e){super(),this.elements=e}}function U3(t,e){let n=B3(e);for(const r of t.elements)n=n.filter(i=>!ra(i,r));return{arrayValue:{values:n}}}class s0 extends Ov{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mI(t){return Bt(t.integerValue||t.doubleValue)}function B3(t){return $k(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function CY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof lh&&i instanceof lh||r instanceof ch&&i instanceof ch?Yc(r.elements,i.elements,ra):r instanceof s0&&i instanceof s0?ra(r.Ae,i.Ae):r instanceof a0&&i instanceof a0}(t.transform,e.transform)}class jY{constructor(e,n){this.version=e,this.transformResults=n}}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cv{}function z3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bk(t.key,Zr.none()):new gp(t.key,t.data,Zr.none());{const n=t.data,r=lr.empty();let i=new ln(Sn.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new vo(t.key,r,new Tr(i.toArray()),Zr.none())}}function RY(t,e,n){t instanceof gp?function(i,a,s){const o=i.value.clone(),l=yI(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof vo?function(i,a,s){if(!cg(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=yI(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(q3(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Sf(t,e,n,r){return t instanceof gp?function(a,s,o,l){if(!cg(a.precondition,s))return o;const c=a.value.clone(),u=vI(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof vo?function(a,s,o,l){if(!cg(a.precondition,s))return o;const c=vI(a.fieldTransforms,l,s),u=s.data;return u.setAll(q3(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return cg(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function MY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=F3(r.transform,i||null);a!=null&&(n===null&&(n=lr.empty()),n.set(r.field,a))}return n||null}function gI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yc(r,i,(a,s)=>CY(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gp extends Cv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vo extends Cv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function q3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yI(t,e,n){const r=new Map;at(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,OY(s,o,n[i]))}return r}function vI(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,IY(a,s,e))}return r}class Bk extends Cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DY extends Cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&RY(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$3();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=z3(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Yc(this.mutations,e.mutations,(n,r)=>gI(n,r))&&Yc(this.baseMutations,e.baseMutations,(n,r)=>gI(n,r))}}class zk{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return kY}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new zk(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,et;function VY(t){switch(t){case se.OK:return Re(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function W3(t){if(t===void 0)return Ha("GRPC error has no .code"),se.UNKNOWN;switch(t){case Gt.OK:return se.OK;case Gt.CANCELLED:return se.CANCELLED;case Gt.UNKNOWN:return se.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return se.INTERNAL;case Gt.UNAVAILABLE:return se.UNAVAILABLE;case Gt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Gt.NOT_FOUND:return se.NOT_FOUND;case Gt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Gt.ABORTED:return se.ABORTED;case Gt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Gt.DATA_LOSS:return se.DATA_LOSS;default:return Re(39323,{code:t})}}(et=Gt||(Gt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY=new Ys([4294967295,4294967295],0);function xI(t){const e=UY().encode(t),n=new s3;return n.update(e),new Uint8Array(n.digest())}function bI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ys([n,r],0),new Ys([i,a],0)]}class qk{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yd(`Invalid padding: ${n}`);if(r<0)throw new Yd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ys.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ys.fromNumber(r)));return i.compare(BY)===1&&(i=new Ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=xI(e),[r,i]=bI(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new qk(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=xI(e),[r,i]=bI(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jv(Ve.min(),i,new Mt(Qe),Ga(),Xe())}}class yp{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yp(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class H3{constructor(e,n){this.targetId=e,this.Ce=n}}class G3{constructor(e,n,r=Pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wI{constructor(){this.ve=0,this.Fe=_I(),this.Me=Pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re(38017,{changeType:a})}}),new yp(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=_I()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zY{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ga(),this.He=mm(),this.Je=mm(),this.Ze=new Mt(Qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(W1(a))if(r===0){const s=new Ae(a.path);this.et(n,s,Rn.newNoDocument(s,Ve.min()))}else at(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=ao(r).toUint8Array()}catch(l){if(l instanceof v3)return fl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new qk(s,i,a)}catch(l){return fl(l instanceof Yd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&W1(o.target)){const l=new Ae(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Rn.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let r=Xe();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new jv(e,n,this.Ze,this.je,r);return this.je=Ga(),this.He=mm(),this.Je=mm(),this.Ze=new Mt(Qe),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new wI,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ln(Qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ln(Qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wI),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mm(){return new Mt(Ae.comparator)}function _I(){return new Mt(Ae.comparator)}const qY={asc:"ASCENDING",desc:"DESCENDING"},WY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HY={and:"AND",or:"OR"};class GY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function K1(t,e){return t.useProto3Json||Pv(e)?e:{value:e}}function o0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KY(t,e){return o0(t,e.toTimestamp())}function Ji(t){return at(!!t,49232),Ve.fromTimestamp(function(n){const r=io(n);return new kt(r.seconds,r.nanos)}(t))}function Wk(t,e){return Y1(t,e).canonicalString()}function Y1(t,e){const n=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Y3(t){const e=vt.fromString(t);return at(e5(e),10190,{key:e.toString()}),e}function Q1(t,e){return Wk(t.databaseId,e.path)}function Db(t,e){const n=Y3(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(X3(n))}function Q3(t,e){return Wk(t.databaseId,e)}function YY(t){const e=Y3(t);return e.length===4?vt.emptyPath():X3(e)}function X1(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function X3(t){return at(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function SI(t,e,n){return{name:Q1(t,e),fields:n.value.mapValue.fields}}function QY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Re(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(at(u===void 0||typeof u=="string",58123),Pn.fromBase64String(u||"")):(at(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Pn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?se.UNKNOWN:W3(c.code);return new xe(u,c.message||"")}(s);n=new G3(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Db(t,r.document.name),a=Ji(r.document.updateTime),s=r.document.createTime?Ji(r.document.createTime):Ve.min(),o=new lr({mapValue:{fields:r.document.fields}}),l=Rn.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ug(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Db(t,r.document),a=r.readTime?Ji(r.readTime):Ve.min(),s=Rn.newNoDocument(i,a),o=r.removedTargetIds||[];n=new ug([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Db(t,r.document),a=r.removedTargetIds||[];n=new ug([],a,i,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new FY(i,a),o=r.targetId;n=new H3(o,s)}}return n}function XY(t,e){let n;if(e instanceof gp)n={update:SI(t,e.key,e.value)};else if(e instanceof Bk)n={delete:Q1(t,e.key)};else if(e instanceof vo)n={update:SI(t,e.key,e.data),updateMask:sQ(e.fieldMask)};else{if(!(e instanceof DY))return Re(16599,{dt:e.type});n={verify:Q1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof a0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof lh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ch)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof s0)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Re(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:KY(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re(27497)}(t,e.precondition)),n}function JY(t,e){return t&&t.length>0?(at(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?Ji(i.updateTime):Ji(a);return s.isEqual(Ve.min())&&(s=Ji(a)),new jY(s,i.transformResults||[])}(n,e))):[]}function ZY(t,e){return{documents:[Q3(t,e.path)]}}function eQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q3(t,i);const a=function(c){if(c.length!==0)return Z3(Oi.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Zl(h.field),direction:rQ(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=K1(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function tQ(t){let e=YY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){at(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(d){const h=J3(d);return h instanceof Oi&&A3(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(g){return new oh(ec(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,Pv(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new i0(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new i0(p,h)}(n.endAt)),vY(e,i,s,a,o,"F",l,c)}function nQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ec(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ec(n.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ec(n.unaryFilter.field);return Qt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ec(n.unaryFilter.field);return Qt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(t):t.fieldFilter!==void 0?function(n){return Qt.create(ec(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oi.create(n.compositeFilter.filters.map(r=>J3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(n.compositeFilter.op))}(t):Re(30097,{filter:t})}function rQ(t){return qY[t]}function iQ(t){return WY[t]}function aQ(t){return HY[t]}function Zl(t){return{fieldPath:t.canonicalString()}}function ec(t){return Sn.fromServerFormat(t.fieldPath)}function Z3(t){return t instanceof Qt?function(n){if(n.op==="=="){if(uI(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NAN"}};if(cI(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uI(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NAN"}};if(cI(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(n.field),op:iQ(n.op),value:n.value}}}(t):t instanceof Oi?function(n){const r=n.getFilters().map(i=>Z3(i));return r.length===1?r[0]:{compositeFilter:{op:aQ(n.op),filters:r}}}(t):Re(54877,{filter:t})}function sQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function e5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function t5(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,i,a=Ve.min(),s=Ve.min(),o=Pn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e){this.yt=e}}function lQ(t){const e=tQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?G1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(){this.Sn=new uQ}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(ro.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class uQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ln(vt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n5=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(n5,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Jc(0)}static ar(){return new Jc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="LruGarbageCollector",dQ=1048576;function TI([t,e],[n,r]){const i=Qe(t,n);return i===0?Qe(e,r):i}class fQ{constructor(e){this.Pr=e,this.buffer=new ln(TI),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();TI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(kI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vu(n)?we(kI,"Ignoring IndexedDB error during garbage collection: ",n):await Fu(n)}await this.Ar(3e5)})}}class pQ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Tv.ce);const r=new fQ(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(EI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EI):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Xl()<=Ye.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function mQ(t,e){return new pQ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(){this.changes=new Ol(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Sf(r.mutation,i,Tr.empty(),kt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){const i=qo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Kd();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=Ga();const s=_f(),o=function(){return _f()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof vo)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Sf(u.mutation,c,u.mutation.getFieldMask(),kt.now())):s.set(c.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>o.set(c,new yQ(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=_f();let i=new Mt((s,o)=>s-o),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Tr.empty();u=o.applyToLocalView(c,u),r.set(l,u);const d=(i.get(o.batchId)||Xe()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=$3();u.forEach(h=>{if(!a.has(h)){const p=z3(n.get(h),r.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return le.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return xY(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):le.resolve(qo());let o=rh,l=a;return s.next(c=>le.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(u)?le.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Xe())).next(u=>({batchId:o,changes:D3(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(r=>{let i=Kd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Kd();return this.indexManager.getCollectionParents(e,a).next(o=>le.forEach(o,l=>{const c=function(d,h){return new Uu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Rn.newInvalidDocument(u)))});let o=Kd();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Sf(u.mutation,c,Tr.empty(),kt.now()),Iv(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ji(i.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:lQ(i.bundledQuery),readTime:Ji(i.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(){this.overlays=new Mt(Ae.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qo();return le.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.bt(e,n,a)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=qo(),a=n.length+1,s=new Ae(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Mt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=qo(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=qo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return le.resolve(o)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new LY(n,r));let a=this.Lr.get(n);a===void 0&&(a=Xe(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.kr=new ln(fn.Kr),this.qr=new ln(fn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new fn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new fn(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new Ae(new vt([])),r=new fn(n,e),i=new fn(n,e+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ae(new vt([])),r=new fn(n,e),i=new fn(n,e+1);let a=Xe();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new fn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ae.comparator(e.key,n.key)||Qe(e.Hr,n.Hr)}static Ur(e,n){return Qe(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ln(fn.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $Y(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new fn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Mk:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fn(n,0),i=new fn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(Qe);return n.forEach(i=>{const a=new fn(i,0),s=new fn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),le.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ae.isDocumentKey(a)||(a=a.child(""));const s=new fn(new Ae(a),0);let o=new ln(Qe);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},s),le.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){at(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return le.forEach(n.mutations,i=>{const a=new fn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new fn(n,0),i=this.Jr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e){this.ti=e,this.docs=function(){return new Mt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=Ga();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Rn.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ga();const s=n.path,o=new Ae(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||YK(KK(u),r)<=0||(i.has(u.key)||Iv(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Re(9500)}ni(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EQ(this)}getSize(e){return le.resolve(this.size)}}class EQ extends gQ{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e){this.persistence=e,this.ri=new Ol(n=>Lk(n),Fk),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.ii=0,this.si=new Hk,this.targetCount=0,this.oi=Jc._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Jc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n){this._i={},this.overlays={},this.ai=new Tv(0),this.ui=!1,this.ui=!0,this.ci=new wQ,this.referenceDelegate=e(this),this.li=new kQ(this),this.indexManager=new cQ,this.remoteDocumentCache=function(i){return new SQ(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new oQ(n),this.Pi=new xQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new _Q(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new TQ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return le.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class TQ extends XK{constructor(e){super(),this.currentSequenceNumber=e}}class Gk{constructor(e){this.persistence=e,this.Ri=new Hk,this.Ai=null}static Vi(e){return new Gk(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,r=>{const i=Ae.fromPath(r);return this.mi(e,i).next(a=>{a||n.removeEntry(i,Ve.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class l0{constructor(e,n){this.persistence=e,this.fi=new Ol(r=>eY(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=mQ(this,n)}static Vi(e,n){return new l0(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return le.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(a=>a?le.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,n).next(o=>{o||(r++,a.removeEntry(s,Ve.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=og(e.data.value)),n}wr(e,n,r){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Xe(),i=Xe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Kk(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return mW()?8:JK(Fn())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new PQ;return this.ys(e,n,s).next(o=>{if(a.result=o,this.As)return this.ws(e,n,s,o.size)})}).next(()=>a.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Xl()<=Ye.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Xl()<=Ye.DEBUG&&we("QueryEngine","Query:",Jl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Xl()<=Ye.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(n))):le.resolve())}gs(e,n){if(pI(n))return le.resolve(null);let r=Xi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=G1(n,null,"F"),r=Xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=Xe(...a);return this.fs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,o);return this.Ss(n,c,s,l.readTime)?this.gs(e,G1(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,i){return pI(n)||i.isEqual(Ve.min())?le.resolve(null):this.fs.getDocuments(e,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?le.resolve(null):(Xl()<=Ye.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jl(n)),this.Ds(e,s,n,GK(i,rh)).next(o=>o))})}bs(e,n){let r=new ln(R3(e));return n.forEach((i,a)=>{Iv(e,a)&&(r=r.add(a))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return Xl()<=Ye.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Jl(n)),this.fs.getDocumentsMatchingQuery(e,n,ro.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="LocalStore",NQ=3e8;class IQ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Mt(Qe),this.Fs=new Ol(a=>Lk(a),Fk),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vQ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function OQ(t,e,n,r){return new IQ(t,e,n,r)}async function i5(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=Xe();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:o}))})})}function CQ(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=le.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const v=c.docVersions.get(g);at(v!==null,48541),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Xe();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function a5(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function jQ(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;o.push(n.li.removeMatchingKeys(a,u.removedDocuments,d).next(()=>n.li.addMatchingKeys(a,u.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Pn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(y,v,x){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=NQ?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,u)&&o.push(n.li.updateTargetData(a,p))});let l=Ga(),c=Xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(RQ(a,s,e.documentUpdates).next(u=>{l=u.Bs,c=u.Ls})),!r.isEqual(Ve.min())){const u=n.li.getLastRemoteSnapshotVersion(a).next(d=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return le.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.vs=i,a))}function RQ(t,e,n){let r=Xe(),i=Xe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=Ga();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ve.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):we(Yk,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function MQ(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Mk),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DQ(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(a=>a?(i=a,le.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new Cs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function J1(t,e,n){const r=Ue(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Vu(s))throw s;we(Yk,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function PI(t,e,n){const r=Ue(t);let i=Ve.min(),a=Xe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Ue(l),h=d.Fs.get(u);return h!==void 0?le.resolve(d.vs.get(h)):d.li.getTargetData(c,u)}(r,s,Xi(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Ve.min(),n?a:Xe())).next(o=>($Q(r,_Y(e),o),{documents:o,ks:a})))}function $Q(t,e,n){let r=t.Ms.get(e)||Ve.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ms.set(e,r)}class AI{constructor(){this.activeTargetIds=AY()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LQ{constructor(){this.vo=new AI,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new AI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="ConnectivityMonitor";class II{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(NI,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(NI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm=null;function Z1(){return gm===null?gm=function(){return 268435456+Math.round(2147483648*Math.random())}():gm++,"0x"+gm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="RestConnection",VQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class UQ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===n0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=Z1(),o=this.Qo(e,n.toUriEncodedString());we($b,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:c}=new URL(o),u=Al(c);return this.zo(e,o,l,r,u).then(d=>(we($b,`Received RPC '${e}' ${s}: `,d),d),d=>{throw fl($b,`RPC '${e}' ${s} failed with error: `,d,"url: ",o,"request:",r),d})}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Qo(e,n){const r=VQ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection",Ed=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Ic extends UQ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ic.c_){const e=u3();Ed(e,c3.STAT_EVENT,n=>{n.stat===V1.PROXY?we(In,"STAT_EVENT: detected buffering proxy"):n.stat===V1.NOPROXY&&we(In,"STAT_EVENT: detected no buffering proxy")}),Ic.c_=!0}}zo(e,n,r,i,a){const s=Z1();return new Promise((o,l)=>{const c=new o3;c.setWithCredentials(!0),c.listenOnce(l3.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case sg.NO_ERROR:const d=c.getResponseJson();we(In,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case sg.TIMEOUT:we(In,`RPC '${e}' ${s} timed out`),l(new xe(se.DEADLINE_EXCEEDED,"Request time out"));break;case sg.HTTP_ERROR:const h=c.getStatus();if(we(In,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const y=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(b)>=0?b:se.UNKNOWN}(g.status);l(new xe(y,g.message))}else l(new xe(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new xe(se.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{we(In,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);we(In,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=Z1(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const c=a.join("");we(In,`Creating RPC '${e}' stream ${i}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new BQ({Ho:g=>{h?we(In,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(we(In,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),we(In,`RPC '${e}' stream ${i} sending:`,g),u.send(g))},Jo:()=>u.close()});return Ed(u,Gd.EventType.OPEN,()=>{h||(we(In,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),Ed(u,Gd.EventType.CLOSE,()=>{h||(h=!0,we(In,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(u))}),Ed(u,Gd.EventType.ERROR,g=>{h||(h=!0,fl(In,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new xe(se.UNAVAILABLE,"The operation could not be completed")))}),Ed(u,Gd.EventType.MESSAGE,g=>{var y;if(!h){const v=g.data[0];at(!!v,16349);const x=v,b=(x==null?void 0:x.error)||((y=x[0])==null?void 0:y.error);if(b){we(In,`RPC '${e}' stream ${i} received error:`,b);const w=b.status;let S=function(_){const k=Gt[_];if(k!==void 0)return W3(k)}(w),E=b.message;w==="NOT_FOUND"&&E.includes("database")&&E.includes("does not exist")&&E.includes(this.databaseId.database)&&fl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),S===void 0&&(S=se.INTERNAL,E="Unknown error status: "+w+" with message "+b.message),h=!0,p.o_(new xe(S,E)),u.close()}else we(In,`RPC '${e}' stream ${i} received:`,v),p.__(v)}}),Ic.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return d3()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zQ(t){return new Ic(t)}function Lb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t){return new GY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ic.c_=!1;class s5{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="PersistentStream";class o5{constructor(e,n,r,i,a,s,o,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ha(n.toString()),Ha("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new xe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return we(OI,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(we(OI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qQ extends o5{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=QY(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ve.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ve.min():s.readTime?Ji(s.readTime):Ve.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=X1(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=W1(l)?{documents:ZY(a,l)}:{query:eQ(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=K3(a,s.resumeToken);const c=K1(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ve.min())>0){o.readTime=o0(a,s.snapshotVersion.toTimestamp());const c=K1(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=nQ(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=X1(this.serializer),n.removeTarget=e,this.K_(n)}}class WQ extends o5{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JY(e.writeResults,e.commitTime),r=Ji(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=X1(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XY(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{}class GQ extends HQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(e,Y1(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(se.UNKNOWN,a.toString())})}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(e,Y1(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(se.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function KQ(t,e,n,r){return new GQ(t,e,n,r)}class YQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ha(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="RemoteStore";class QQ{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{Cl(this)&&(we(hl,"Restarting streams for network reachability change."),await async function(l){const c=Ue(l);c.Ea.add(4),await vp(c),c.Va.set("Unknown"),c.Ea.delete(4),await Mv(c)}(this))})}),this.Va=new YQ(r,i)}}async function Mv(t){if(Cl(t))for(const e of t.Ra)await e(!0)}async function vp(t){for(const e of t.Ra)await e(!1)}function l5(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zk(n)?Jk(n):Bu(n).O_()&&Xk(n,e))}function Qk(t,e){const n=Ue(t),r=Bu(n);n.Ia.delete(e),r.O_()&&c5(n,e),n.Ia.size===0&&(r.O_()?r.L_():Cl(n)&&n.Va.set("Unknown"))}function Xk(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bu(t).Z_(e)}function c5(t,e){t.da.$e(e),Bu(t).X_(e)}function Jk(t){t.da=new zY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bu(t).start(),t.Va.ua()}function Zk(t){return Cl(t)&&!Bu(t).x_()&&t.Ia.size>0}function Cl(t){return Ue(t).Ea.size===0}function u5(t){t.da=void 0}async function XQ(t){t.Va.set("Online")}async function JQ(t){t.Ia.forEach((e,n)=>{Xk(t,e)})}async function ZQ(t,e){u5(t),Zk(t)?(t.Va.ha(e),Jk(t)):t.Va.set("Unknown")}async function eX(t,e,n){if(t.Va.set("Online"),e instanceof G3&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))}(t,e)}catch(r){we(hl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await c0(t,r)}else if(e instanceof ug?t.da.Xe(e):e instanceof H3?t.da.st(e):t.da.tt(e),!n.isEqual(Ve.min()))try{const r=await a5(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(Pn.EMPTY_BYTE_STRING,u.snapshotVersion)),c5(a,l);const d=new Cs(u.target,l,c,u.sequenceNumber);Xk(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){we(hl,"Failed to raise snapshot:",r),await c0(t,r)}}async function c0(t,e,n){if(!Vu(e))throw e;t.Ea.add(1),await vp(t),t.Va.set("Offline"),n||(n=()=>a5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(hl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mv(t)})}function d5(t,e){return e().catch(n=>c0(t,n,e))}async function Dv(t){const e=Ue(t),n=oo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mk;for(;tX(e);)try{const i=await MQ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,nX(e,i)}catch(i){await c0(e,i)}f5(e)&&h5(e)}function tX(t){return Cl(t)&&t.Ta.length<10}function nX(t,e){t.Ta.push(e);const n=oo(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function f5(t){return Cl(t)&&!oo(t).x_()&&t.Ta.length>0}function h5(t){oo(t).start()}async function rX(t){oo(t).ra()}async function iX(t){const e=oo(t);for(const n of t.Ta)e.ea(n.mutations)}async function aX(t,e,n){const r=t.Ta.shift(),i=zk.from(r,e,n);await d5(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Dv(t)}async function sX(t,e){e&&oo(t).Y_&&await async function(r,i){if(function(s){return VY(s)&&s!==se.ABORTED}(i.code)){const a=r.Ta.shift();oo(r).B_(),await d5(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Dv(r)}}(t,e),f5(t)&&h5(t)}async function CI(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),we(hl,"RemoteStore received new credentials");const r=Cl(n);n.Ea.add(3),await vp(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mv(n)}async function oX(t,e){const n=Ue(t);e?(n.Ea.delete(2),await Mv(n)):e||(n.Ea.add(2),await vp(n),n.Va.set("Unknown"))}function Bu(t){return t.ma||(t.ma=function(n,r,i){const a=Ue(n);return a.sa(),new qQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:XQ.bind(null,t),Yo:JQ.bind(null,t),t_:ZQ.bind(null,t),J_:eX.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Zk(t)?Jk(t):t.Va.set("Unknown")):(await t.ma.stop(),u5(t))})),t.ma}function oo(t){return t.fa||(t.fa=function(n,r,i){const a=Ue(n);return a.sa(),new WQ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:rX.bind(null,t),t_:sX.bind(null,t),ta:iX.bind(null,t),na:aX.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Dv(t)):(await t.fa.stop(),t.Ta.length>0&&(we(hl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new eT(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tT(t,e){if(Ha("AsyncQueue",`${e}: ${t}`),Vu(t))return new xe(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{static emptySet(e){return new Oc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Kd(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.ga=new Mt(Ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zc{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Zc(e,n,Oc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class cX{constructor(){this.queries=RI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ue(n),a=i.queries;i.queries=RI(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new xe(se.ABORTED,"Firestore shutting down"))}}function RI(){return new Ol(t=>j3(t),Nv)}async function p5(t,e){const n=Ue(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new lX,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=tT(s,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&nT(n)}async function m5(t,e){const n=Ue(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uX(t,e){const n=Ue(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&nT(n)}function dX(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function nT(t){t.Ca.forEach(e=>{e.next()})}var e_,MI;(MI=e_||(e_={})).Ma="default",MI.Cache="cache";class g5{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==e_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.key=e}}class v5{constructor(e){this.key=e}}class fX{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=R3(e),this.tu=new Oc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new jI,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=Iv(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),v=!0):this.su(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),a=y?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,d)=>function(p,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:v})}};return y(p)-y(g)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Xa;return this.Xa=l,s.length!==0||c?{snapshot:new Zc(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jI,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new v5(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new y5(r))}),n}cu(e){this.Za=e.ks,this.Ya=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rT="SyncEngine";class hX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pX{constructor(e){this.key=e,this.hu=!1}}class mX{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ol(o=>j3(o),Nv),this.Iu=new Map,this.Eu=new Set,this.Ru=new Mt(Ae.comparator),this.Au=new Map,this.Vu=new Hk,this.du={},this.mu=new Map,this.fu=Jc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gX(t,e,n=!0){const r=E5(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await x5(r,e,n,!0),i}async function yX(t,e){const n=E5(t);await x5(n,e,!0,!1)}async function x5(t,e,n,r){const i=await DQ(t.localStore,Xi(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await vX(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&l5(t.remoteStore,i),o}async function vX(t,e,n,r,i){t.pu=(d,h,p)=>async function(y,v,x,b){let w=v.view.ru(x);w.Ss&&(w=await PI(y.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,w)));const S=b&&b.targetChanges.get(v.targetId),E=b&&b.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(w,y.isPrimaryClient,S,E);return $I(y,v.targetId,P.au),P.snapshot}(t,d,h,p);const a=await PI(t.localStore,e,!0),s=new fX(e,a.ks),o=s.ru(a.documents),l=yp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);$I(t,n,c.au);const u=new hX(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function xX(t,e,n){const r=Ue(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Nv(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await J1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qk(r.remoteStore,i.targetId),t_(r,i.targetId)}).catch(Fu)):(t_(r,i.targetId),await J1(r.localStore,i.targetId,!0))}async function bX(t,e){const n=Ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qk(n.remoteStore,r.targetId))}async function wX(t,e,n){const r=AX(t);try{const i=await function(s,o){const l=Ue(s),c=kt.now(),u=o.reduce((p,g)=>p.add(g.key),Xe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Ga(),y=Xe();return l.xs.getEntries(p,u).next(v=>{g=v,g.forEach((x,b)=>{b.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const x=[];for(const b of o){const w=MY(b,d.get(b.key).overlayedDocument);w!=null&&x.push(new vo(b.key,w,k3(w.value.mapValue),Zr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,x,o)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:D3(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.du[s.currentUser.toKey()];c||(c=new Mt(Qe)),c=c.insert(o,l),s.du[s.currentUser.toKey()]=c}(r,i.batchId,n),await xp(r,i.changes),await Dv(r.remoteStore)}catch(i){const a=tT(i,"Failed to persist write");n.reject(a)}}async function b5(t,e){const n=Ue(t);try{const r=await jQ(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?at(s.hu,14607):i.removedDocuments.size>0&&(at(s.hu,42227),s.hu=!1))}),await xp(n,r,e)}catch(r){await Fu(r)}}function DI(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Ue(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.ba)h.va(o)&&(c=!0)}),c&&nT(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _X(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new Mt(Ae.comparator);s=s.insert(a,Rn.newNoDocument(a,Ve.min()));const o=Xe().add(a),l=new jv(Ve.min(),new Map,new Mt(Qe),s,o);await b5(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(e),iT(r)}else await J1(r.localStore,e,!1).then(()=>t_(r,e,n)).catch(Fu)}async function SX(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await CQ(n.localStore,e);_5(n,r,null),w5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xp(n,i)}catch(i){await Fu(i)}}async function EX(t,e,n){const r=Ue(t);try{const i=await function(s,o){const l=Ue(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(at(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);_5(r,e,n),w5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xp(r,i)}catch(i){await Fu(i)}}function w5(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function _5(t,e,n){const r=Ue(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function t_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||S5(t,r)})}function S5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Qk(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),iT(t))}function $I(t,e,n){for(const r of n)r instanceof y5?(t.Vu.addReference(r.key,e),kX(t,r)):r instanceof v5?(we(rT,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||S5(t,r.key)):Re(19791,{wu:r})}function kX(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(rT,"New document in limbo: "+n),t.Eu.add(r),iT(t))}function iT(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ae(vt.fromString(e)),r=t.fu.next();t.Au.set(r,new pX(n)),t.Ru=t.Ru.insert(n,r),l5(t.remoteStore,new Cs(Xi(Vk(n.path)),r,"TargetPurposeLimboResolution",Tv.ce))}}async function xp(t,e,n){const r=Ue(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Kk.Es(l.targetId,c);a.push(d)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,c){const u=Ue(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>le.forEach(c,h=>le.forEach(h.Ts,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>le.forEach(h.Is,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Vu(d))throw d;we(Yk,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.vs.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.vs=u.vs.insert(h,y)}}}(r.localStore,a))}async function TX(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){we(rT,"User change. New user:",e.toKey());const r=await i5(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new xe(se.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xp(n,r.Ns)}}function PX(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let i=Xe();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function E5(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=b5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_X.bind(null,e),e.Pu.J_=uX.bind(null,e.eventManager),e.Pu.yu=dX.bind(null,e.eventManager),e}function AX(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EX.bind(null,e),e}class u0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return OQ(this.persistence,new AQ,e.initialUser,this.serializer)}Cu(e){return new r5(Gk.Vi,this.serializer)}Du(e){return new LQ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}u0.provider={build:()=>new u0};class NX extends u0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof l0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hQ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new r5(r=>l0.Vi(r,n),this.serializer)}}class n_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TX.bind(null,this.syncEngine),await oX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cX}()}createDatastore(e){const n=Rv(e.databaseInfo.databaseId),r=zQ(e.databaseInfo);return KQ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new QQ(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>DI(this.syncEngine,n,0),function(){return II.v()?new II:new FQ}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const d=new mX(i,a,s,o,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ue(i);we(hl,"RemoteStore shutting down."),a.Ea.add(5),await vp(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}n_.provider={build:()=>new n_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ha("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="FirestoreClient";class IX{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Cn.UNAUTHENTICATED,this.clientId=Rk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{we(lo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(we(lo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fb(t,e){t.asyncQueue.verifyOperationInProgress(),we(lo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await i5(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function LI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OX(t);we(lo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CI(e.remoteStore,i)),t._onlineComponents=e}async function OX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(lo,"Using user provided OfflineComponentProvider");try{await Fb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;fl("Error using user provided cache. Falling back to memory cache: "+n),await Fb(t,new u0)}}else we(lo,"Using default OfflineComponentProvider"),await Fb(t,new NX(void 0));return t._offlineComponents}async function T5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(lo,"Using user provided OnlineComponentProvider"),await LI(t,t._uninitializedComponentsProvider._online)):(we(lo,"Using default OnlineComponentProvider"),await LI(t,new n_))),t._onlineComponents}function CX(t){return T5(t).then(e=>e.syncEngine)}async function r_(t){const e=await T5(t),n=e.eventManager;return n.onListen=gX.bind(null,e.syncEngine),n.onUnlisten=xX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bX.bind(null,e.syncEngine),n}function jX(t,e,n,r){const i=new k5(r),a=new g5(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>p5(await r_(t),a)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>m5(await r_(t),a))}}function RX(t,e,n={}){const r=new Qs;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new k5({next:h=>{u.Nu(),s.enqueueAndForget(()=>m5(a,d)),h.fromCache&&l.source==="server"?c.reject(new xe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new g5(o,u,{includeMetadataChanges:!0,Ka:!0});return p5(a,d)}(await r_(t),t.asyncQueue,e,n,r)),r.promise}function MX(t,e){const n=new Qs;return t.asyncQueue.enqueueAndForget(async()=>wX(await CX(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DX="ComponentProvider",FI=new Map;function $X(t,e,n,r,i){return new rY(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,P5(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="firestore.googleapis.com",VI=!0;class UI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A5,this.ssl=VI}else this.host=e.host,this.ssl=e.ssl??VI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dQ)throw new xe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P5(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $v{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DK;switch(r.type){case"firstParty":return new VK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FI.get(n);r&&(we(DX,"Removing Datastore"),FI.delete(n),r.terminate())}(this),Promise.resolve()}}function LX(t,e,n,r={}){var c;t=Jr(t,$v);const i=Al(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(wk(`https://${o}`),_k("Firestore",!0)),a.host!==A5&&a.host!==o&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!no(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Cn.MOCK_USER;else{u=xL(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new xe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Cn(h)}t._authCredentials=new $K(new h3(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mp(n,qt._jsonSchema))return new qt(e,r||null,new Ae(vt.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Xt("string",qt._jsonSchemaVersion),referencePath:Xt("string")};class Xs extends xo{constructor(e,n,r){super(e,n,Vk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Ae(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function kd(t,e,...n){if(t=Zt(t),p3("collection","path",e),t instanceof $v){const r=vt.fromString(e,...n);return eI(r),new Xs(t,null,r)}{if(!(t instanceof qt||t instanceof Xs))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return eI(r),new Xs(t.firestore,null,r)}}function dg(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=Rk.newId()),p3("doc","path",e),t instanceof $v){const r=vt.fromString(e,...n);return ZN(r),new qt(t,null,new Ae(r))}{if(!(t instanceof qt||t instanceof Xs))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return ZN(r),new qt(t.firestore,t instanceof Xs?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="AsyncQueue";class zI{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s5(this,"async_queue_retry"),this._c=()=>{const r=Lb();r&&we(BI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Lb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vu(e))throw e;we(BI,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ha("INTERNAL UNHANDLED ERROR: ",qI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=eT.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Re(47125,{Pc:qI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class co extends $v{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zI(e),this._firestoreClient=void 0,await e}}}function FX(t,e){const n=typeof t=="object"?t:_v(),r=typeof t=="string"?t:n0,i=go(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=gL("firestore");a&&LX(i,...a)}return i}function aT(t){if(t._terminated)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VX(t),t._firestoreClient}function VX(t){var r,i,a,s;const e=t._freezeSettings(),n=$X(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new IX(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hr(Pn.fromBase64String(e))}catch(n){throw new xe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hr(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mp(e,Hr._jsonSchema))return Hr.fromBase64String(e.bytes)}}Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:Xt("string",Hr._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zi._jsonSchemaVersion}}static fromJSON(e){if(mp(e,Zi._jsonSchema))return new Zi(e.latitude,e.longitude)}}Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:Xt("string",Zi._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mp(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Pi(e.vectorValues);throw new xe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Xt("string",Pi._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX=/^__.*__$/;class BX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new gp(e,this.data,n,this.fieldTransforms)}}class N5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function I5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:t})}}class lT{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return d0(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(I5(this.dataSource)&&UX.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class zX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rv(e)}createContext(e,n,r,i=!1){return new lT({dataSource:e,methodName:n,targetDoc:r,path:Sn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lv(t){const e=t._freezeSettings(),n=Rv(t._databaseId);return new zX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function O5(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);cT("Data must be an object, but it was:",s,r);const o=C5(r,s);let l,c;if(a.merge)l=new Tr(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=eu(e,d,n);if(!s.contains(h))throw new xe(se.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);M5(u,h)||u.push(h)}l=new Tr(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new BX(new lr(o),l,c)}class Fv extends oT{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fv}}function qX(t,e,n,r){const i=t.createContext(1,e,n);cT("Data must be an object, but it was:",i,r);const a=[],s=lr.empty();yo(r,(l,c)=>{const u=R5(e,l,n);c=Zt(c);const d=i.childContextForFieldPath(u);if(c instanceof Fv)a.push(u);else{const h=bp(c,d);h!=null&&(a.push(u),s.set(u,h))}});const o=new Tr(a);return new N5(s,o,i.fieldTransforms)}function WX(t,e,n,r,i,a){const s=t.createContext(1,e,n),o=[eu(e,r,n)],l=[i];if(a.length%2!=0)throw new xe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(eu(e,a[h])),l.push(a[h+1]);const c=[],u=lr.empty();for(let h=o.length-1;h>=0;--h)if(!M5(c,o[h])){const p=o[h];let g=l[h];g=Zt(g);const y=s.childContextForFieldPath(p);if(g instanceof Fv)c.push(p);else{const v=bp(g,y);v!=null&&(c.push(p),u.set(p,v))}}const d=new Tr(c);return new N5(u,d,s.fieldTransforms)}function HX(t,e,n,r=!1){return bp(n,t.createContext(r?4:3,e))}function bp(t,e){if(j5(t=Zt(t)))return cT("Unsupported field value:",e,t),C5(t,e);if(t instanceof oT)return function(r,i){if(!I5(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=bp(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=kt.fromDate(r);return{timestampValue:o0(i.serializer,a)}}if(r instanceof kt){const a=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:o0(i.serializer,a)}}if(r instanceof Zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hr)return{bytesValue:K3(i.serializer,r._byteString)};if(r instanceof qt){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Wk(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pi)return function(s,o){const l=s instanceof Pi?s.toArray():s;return{mapValue:{fields:{[S3]:{stringValue:E3},[r0]:{arrayValue:{values:l.map(u=>{if(typeof u!="number")throw o.createError("VectorValues must only contain numeric values.");return Uk(o.serializer,u)})}}}}}}(r,i);if(t5(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${kv(r)}`)}(t,e)}function C5(t,e){const n={};return y3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(r,i)=>{const a=bp(i,e.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function j5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof Zi||t instanceof Hr||t instanceof qt||t instanceof oT||t instanceof Pi||t5(t))}function cT(t,e,n){if(!j5(n)||!m3(n)){const r=kv(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function eu(t,e,n){if((e=Zt(e))instanceof sT)return e._internalPath;if(typeof e=="string")return R5(t,e);throw d0("Field path arguments must be of type string or ",t,!1,void 0,n)}const GX=new RegExp("[~\\*/\\[\\]]");function R5(t,e,n){if(e.search(GX)>=0)throw d0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sT(...e.split("."))._internalPath}catch{throw d0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function d0(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new xe(se.INVALID_ARGUMENT,o+t+l)}function M5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{convertValue(e,n="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[r0].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>Bt(s.doubleValue));return new Pi(n)}convertGeoPoint(e){return new Zi(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Av(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const n=io(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);at(e5(r),9688,{name:e});const i=new ah(r.get(1),r.get(3)),a=new Ae(r.popFirst(5));return i.isEqual(n)||Ha(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends KX{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}const WI="@firebase/firestore",HI="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(eu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YX extends D5{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dT{}class L5 extends dT{}function QX(t,e,...n){let r=[];e instanceof dT&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof hT).length,o=a.filter(l=>l instanceof fT).length;if(s>1||s>0&&o>0)throw new xe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fT extends L5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fT(e,n,r)}_apply(e){const n=this._parse(e);return F5(e._query,n),new xo(e.firestore,e.converter,H1(e._query,n))}_parse(e){const n=Lv(e.firestore);return function(a,s,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new xe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){YI(d,u);const g=[];for(const y of d)g.push(KI(l,a,y));h={arrayValue:{values:g}}}else h=KI(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||YI(d,u),h=HX(o,s,d,u==="in"||u==="not-in");return Qt.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class hT extends dT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)F5(s,l),s=H1(s,l)}(e._query,n),new xo(e.firestore,e.converter,H1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pT extends L5{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pT(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new xe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oh(a,s)}(e._query,this._field,this._direction);return new xo(e.firestore,e.converter,wY(e._query,n))}}function XX(t,e="asc"){const n=e,r=eu("orderBy",t);return pT._create(r,n)}function KI(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new xe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C3(e)&&n.indexOf("/")!==-1)throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!Ae.isDocumentKey(r))throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lI(t,new Ae(r))}if(n instanceof qt)return lI(t,n._key);throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kv(n)}.`)}function YI(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F5(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function V5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Qd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tl extends D5{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(eu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=tl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}tl._jsonSchemaVersion="firestore/documentSnapshot/1.0",tl._jsonSchema={type:Xt("string",tl._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class fg extends tl{data(e={}){return super.data(e)}}class nl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fg(this._firestore,this._userDataWriter,r.key,r,new Qd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new fg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Qd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new fg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Qd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:JX(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rk.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nl._jsonSchemaVersion="firestore/querySnapshot/1.0",nl._jsonSchema={type:Xt("string",nl._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};function ZX(t){t=Jr(t,xo);const e=Jr(t.firestore,co),n=aT(e),r=new uT(e);return $5(t._query),RX(n,t._query).then(i=>new nl(e,r,t,i))}function eJ(t,e,n){t=Jr(t,qt);const r=Jr(t.firestore,co),i=V5(t.converter,e),a=Lv(r);return Vv(r,[O5(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Zr.none())])}function tJ(t,e,n,...r){t=Jr(t,qt);const i=Jr(t.firestore,co),a=Lv(i);let s;return s=typeof(e=Zt(e))=="string"||e instanceof sT?WX(a,"updateDoc",t._key,e,n,r):qX(a,"updateDoc",t._key,e),Vv(i,[s.toMutation(t._key,Zr.exists(!0))])}function QI(t){return Vv(Jr(t.firestore,co),[new Bk(t._key,Zr.none())])}function nJ(t,e){const n=Jr(t.firestore,co),r=dg(t),i=V5(t.converter,e),a=Lv(t.firestore);return Vv(n,[O5(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Zr.exists(!1))]).then(()=>r)}function XI(t,...e){var c,u,d;t=Zt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||GI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(GI(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,s,o;if(t instanceof qt)s=Jr(t.firestore,co),o=Vk(t._key.path),a={next:h=>{e[r]&&e[r](rJ(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Jr(t,xo);s=Jr(h.firestore,co),o=h._query;const p=new uT(s);a={next:g=>{e[r]&&e[r](new nl(s,p,h,g))},error:e[r+1],complete:e[r+2]},$5(t._query)}const l=aT(s);return jX(l,o,i,a)}function Vv(t,e){const n=aT(t);return MX(n,e)}function rJ(t,e,n){const r=n.docs.get(e._key),i=new uT(t);return new tl(t,i,e._key,r,new Qd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){MK(Il),Ii(new ri("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new co(new LK(r.getProvider("auth-internal")),new UK(s,r.getProvider("app-check-internal")),iY(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),pr(WI,HI,e),pr(WI,HI,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5="firebasestorage.googleapis.com",iJ="storageBucket",aJ=2*60*1e3,sJ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends ai{constructor(e,n,r=0){super(Vb(e),`Firebase Storage: ${n} (${Vb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ua.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ia;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ia||(ia={}));function Vb(t){return"storage/"+t}function oJ(){const t="An unknown error occurred, please check the error payload for server response.";return new ua(ia.UNKNOWN,t)}function lJ(){return new ua(ia.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cJ(){return new ua(ia.CANCELED,"User canceled the upload/download.")}function uJ(t){return new ua(ia.INVALID_URL,"Invalid URL '"+t+"'.")}function dJ(t){return new ua(ia.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function JI(t){return new ua(ia.INVALID_ARGUMENT,t)}function B5(){return new ua(ia.APP_DELETED,"The Firebase app was deleted.")}function fJ(t){return new ua(ia.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bi.makeFromUrl(e,n)}catch{return new bi(e,"")}if(r.path==="")return r;throw dJ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},y=n===U5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",x=new RegExp(`^https?://${y}/${i}/${v}`,"i"),w=[{regex:o,indices:l,postModify:a},{regex:p,indices:g,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<w.length;S++){const E=w[S],P=E.regex.exec(e);if(P){const _=P[E.indices.bucket];let k=P[E.indices.path];k||(k=""),r=new bi(_,k),E.postModify(r);break}}if(r==null)throw uJ(e);return r}}class hJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pJ(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...x){if(c){h();return}if(v){h(),u.call(null,v,...x);return}if(l()||s){h(),u.call(null,v,...x);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function y(v){g||(g=!0,h(),!c&&(i!==null?(v||(o=2),clearTimeout(i),d(0)):v||(o=1)))}return d(0),a=setTimeout(()=>{s=!0,y(!0)},n),y}function mJ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gJ(t){return t!==void 0}function ZI(t,e,n,r){if(r<e)throw JI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw JI(`Invalid value for '${t}'. Expected ${n} or less.`)}function yJ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var f0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(f0||(f0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e,n,r,i,a,s,o,l,c,u,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ym(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===f0.NO_ERROR,l=a.getStatus();if(!o||vJ(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===f0.ABORT;r(!1,new ym(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new ym(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());gJ(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=oJ();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?B5():cJ();s(l)}else{const l=lJ();s(l)}};this.canceled_?n(!1,new ym(!1,null,!0)):this.backoffId_=pJ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ym{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function bJ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function wJ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _J(t,e){e&&(t["X-Firebase-GMPID"]=e)}function SJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function EJ(t,e,n,r,i,a,s=!0,o=!1){const l=yJ(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return _J(u,e),bJ(u,n),wJ(u,a),SJ(u,r),new xJ(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TJ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){this._service=e,n instanceof bi?this._location=n:this._location=bi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new h0(e,n)}get root(){const e=new bi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TJ(this._location.path)}get storage(){return this._service}get parent(){const e=kJ(this._location.path);if(e===null)return null;const n=new bi(this._location.bucket,e);return new h0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fJ(e)}}function eO(t,e){const n=e==null?void 0:e[iJ];return n==null?null:bi.makeFromBucketSpec(n,t)}function PJ(t,e,n,r={}){t.host=`${e}:${n}`;const i=Al(e);i&&(wk(`https://${t.host}/b`),_k("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:xL(a,t.app.options.projectId))}class AJ{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=U5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aJ,this._maxUploadRetryTime=sJ,this._requests=new Set,i!=null?this._bucket=bi.makeFromBucketSpec(i,this._host):this._bucket=eO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bi.makeFromBucketSpec(this._url,e):this._bucket=eO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new h0(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new hJ(B5());{const s=EJ(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const tO="@firebase/storage",nO="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="storage";function NJ(t=_v(),e){t=Zt(t);const r=go(t,z5).getImmediate({identifier:e}),i=gL("storage");return i&&IJ(r,...i),r}function IJ(t,e,n,r={}){PJ(t,e,n,r)}function OJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new AJ(n,r,i,e,Il)}function CJ(){Ii(new ri(z5,OJ,"PUBLIC").setMultipleInstances(!0)),pr(tO,nO,""),pr(tO,nO,"esm2020")}CJ();const q5="@firebase/installations",mT="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=1e4,H5=`w:${mT}`,G5="FIS_v2",jJ="https://firebaseinstallations.googleapis.com/v1",RJ=60*60*1e3,MJ="installations",DJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $J={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pl=new Nl(MJ,DJ,$J);function K5(t){return t instanceof ai&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5({projectId:t}){return`${jJ}/projects/${t}/installations`}function Q5(t){return{token:t.token,requestStatus:2,expiresIn:FJ(t.expiresIn),creationTime:Date.now()}}async function X5(t,e){const r=(await e.json()).error;return pl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function J5({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function LJ(t,{refreshToken:e}){const n=J5(t);return n.append("Authorization",VJ(e)),n}async function Z5(t){const e=await t();return e.status>=500&&e.status<600?t():e}function FJ(t){return Number(t.replace("s","000"))}function VJ(t){return`${G5} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UJ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Y5(t),i=J5(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:G5,appId:t.appId,sdkVersion:H5},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await Z5(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Q5(c.authToken)}}else throw await X5("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=/^[cdef][\w-]{21}$/,i_="";function qJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=WJ(t);return zJ.test(n)?n:i_}catch{return i_}}function WJ(t){return BJ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=new Map;function n6(t,e){const n=Uv(t);r6(n,e),HJ(n,e)}function r6(t,e){const n=t6.get(t);if(n)for(const r of n)r(e)}function HJ(t,e){const n=GJ();n&&n.postMessage({key:t,fid:e}),KJ()}let Wo=null;function GJ(){return!Wo&&"BroadcastChannel"in self&&(Wo=new BroadcastChannel("[Firebase] FID Change"),Wo.onmessage=t=>{r6(t.data.key,t.data.fid)}),Wo}function KJ(){t6.size===0&&Wo&&(Wo.close(),Wo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ="firebase-installations-database",QJ=1,ml="firebase-installations-store";let Ub=null;function gT(){return Ub||(Ub=kL(YJ,QJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ml)}}})),Ub}async function p0(t,e){const n=Uv(t),i=(await gT()).transaction(ml,"readwrite"),a=i.objectStore(ml),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&n6(t,e.fid),e}async function i6(t){const e=Uv(t),r=(await gT()).transaction(ml,"readwrite");await r.objectStore(ml).delete(e),await r.done}async function Bv(t,e){const n=Uv(t),i=(await gT()).transaction(ml,"readwrite"),a=i.objectStore(ml),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&n6(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(t){let e;const n=await Bv(t.appConfig,r=>{const i=XJ(r),a=JJ(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===i_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function XJ(t){const e=t||{fid:qJ(),registrationStatus:0};return a6(e)}function JJ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(pl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ZJ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:eZ(t)}:{installationEntry:e}}async function ZJ(t,e){try{const n=await UJ(t,e);return p0(t.appConfig,n)}catch(n){throw K5(n)&&n.customData.serverCode===409?await i6(t.appConfig):await p0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function eZ(t){let e=await rO(t.appConfig);for(;e.registrationStatus===1;)await e6(100),e=await rO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await yT(t);return r||n}return e}function rO(t){return Bv(t,e=>{if(!e)throw pl.create("installation-not-found");return a6(e)})}function a6(t){return tZ(t)?{fid:t.fid,registrationStatus:0}:t}function tZ(t){return t.registrationStatus===1&&t.registrationTime+W5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nZ({appConfig:t,heartbeatServiceProvider:e},n){const r=rZ(t,n),i=LJ(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:H5,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await Z5(()=>fetch(r,o));if(l.ok){const c=await l.json();return Q5(c)}else throw await X5("Generate Auth Token",l)}function rZ(t,{fid:e}){return`${Y5(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(t,e=!1){let n;const r=await Bv(t.appConfig,a=>{if(!s6(a))throw pl.create("not-registered");const s=a.authToken;if(!e&&sZ(s))return a;if(s.requestStatus===1)return n=iZ(t,e),a;{if(!navigator.onLine)throw pl.create("app-offline");const o=lZ(a);return n=aZ(t,o),o}});return n?await n:r.authToken}async function iZ(t,e){let n=await iO(t.appConfig);for(;n.authToken.requestStatus===1;)await e6(100),n=await iO(t.appConfig);const r=n.authToken;return r.requestStatus===0?vT(t,e):r}function iO(t){return Bv(t,e=>{if(!s6(e))throw pl.create("not-registered");const n=e.authToken;return cZ(n)?{...e,authToken:{requestStatus:0}}:e})}async function aZ(t,e){try{const n=await nZ(t,e),r={...e,authToken:n};return await p0(t.appConfig,r),n}catch(n){if(K5(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await i6(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await p0(t.appConfig,r)}throw n}}function s6(t){return t!==void 0&&t.registrationStatus===2}function sZ(t){return t.requestStatus===2&&!oZ(t)}function oZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+RJ}function lZ(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function cZ(t){return t.requestStatus===1&&t.requestTime+W5<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uZ(t){const e=t,{installationEntry:n,registrationPromise:r}=await yT(e);return r?r.catch(console.error):vT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dZ(t,e=!1){const n=t;return await fZ(n),(await vT(n,e)).token}async function fZ(t){const{registrationPromise:e}=await yT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hZ(t){if(!t||!t.options)throw Bb("App Configuration");if(!t.name)throw Bb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Bb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Bb(t){return pl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="installations",pZ="installations-internal",mZ=t=>{const e=t.getProvider("app").getImmediate(),n=hZ(e),r=go(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gZ=t=>{const e=t.getProvider("app").getImmediate(),n=go(e,o6).getImmediate();return{getId:()=>uZ(n),getToken:i=>dZ(n,i)}};function yZ(){Ii(new ri(o6,mZ,"PUBLIC")),Ii(new ri(pZ,gZ,"PRIVATE"))}yZ();pr(q5,mT);pr(q5,mT,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="analytics",vZ="firebase_id",xZ="origin",bZ=60*1e3,wZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new wv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Z={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ir=new Nl("analytics","Analytics",_Z);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SZ(t){if(!t.startsWith(xT)){const e=Ir.create("invalid-gtag-resource",{gtagURL:t});return Qn.warn(e.message),""}return t}function l6(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function EZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function kZ(t,e){const n=EZ("firebase-js-sdk-policy",{createScriptURL:SZ}),r=document.createElement("script"),i=`${xT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function TZ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function PZ(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const l=(await l6(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){Qn.error(o)}t("config",i,a)}async function AZ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await l6(n);for(const l of s){const c=o.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Qn.error(a)}}function NZ(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,l]=s;await AZ(t,e,n,o,l)}else if(a==="config"){const[o,l]=s;await PZ(t,e,n,r,o,l)}else if(a==="consent"){const[o,l]=s;t("consent",o,l)}else if(a==="get"){const[o,l,c]=s;t("get",o,l,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){Qn.error(o)}}return i}function IZ(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=NZ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function OZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(xT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CZ=30,jZ=1e3;class RZ{constructor(e={},n=jZ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const c6=new RZ;function MZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function DZ(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:MZ(n)},i=wZ.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw Ir.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function $Z(t,e=c6,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Ir.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Ir.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new VZ;return setTimeout(async()=>{o.abort()},bZ),u6({appId:r,apiKey:i,measurementId:a},s,o,e)}async function u6(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=c6){var o;const{appId:a,measurementId:s}=t;try{await LZ(r,e)}catch(l){if(s)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await DZ(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!FZ(c)){if(i.deleteThrottleMetadata(a),s)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?EN(n,i.intervalMillis,CZ):EN(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,d),Qn.debug(`Calling attemptFetch again in ${u} millis`),u6(t,d,r,i)}}function LZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function FZ(t){if(!(t instanceof ai)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class VZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function UZ(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function BZ(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zZ(){if(wL())try{await _L()}catch(t){return Qn.warn(Ir.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Qn.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qZ(t,e,n,r,i,a,s){const o=$Z(t);o.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Qn.error(h)),e.push(o);const l=zZ().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([o,l]);OZ(a)||kZ(a,c.measurementId),i("js",new Date);const d=(s==null?void 0:s.config)??{};return d[xZ]="firebase",d.update=!0,u!=null&&(d[vZ]=u),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(e){this.app=e}_delete(){return delete Cc[this.app.options.appId],Promise.resolve()}}let Cc={},aO=[];const sO={};let zb="dataLayer",HZ="gtag",oO,bT,lO=!1;function GZ(){const t=[];if(bL()&&t.push("This is a browser extension environment."),gW()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ir.create("invalid-analytics-context",{errorInfo:e});Qn.warn(n.message)}}function KZ(t,e,n){GZ();const r=t.options.appId;if(!r)throw Ir.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ir.create("no-api-key");if(Cc[r]!=null)throw Ir.create("already-exists",{id:r});if(!lO){TZ(zb);const{wrappedGtag:a,gtagCore:s}=IZ(Cc,aO,sO,zb,HZ);bT=a,oO=s,lO=!0}return Cc[r]=qZ(t,aO,sO,e,oO,zb,n),new WZ(t)}function YZ(t=_v()){t=Zt(t);const e=go(t,m0);return e.isInitialized()?e.getImmediate():QZ(t)}function QZ(t,e={}){const n=go(t,m0);if(n.isInitialized()){const i=n.getImmediate();if(no(e,n.getOptions()))return i;throw Ir.create("already-initialized")}return n.initialize({options:e})}function XZ(t,e,n){t=Zt(t),BZ(bT,Cc[t.app.options.appId],e,n).catch(r=>Qn.error(r))}function JZ(t,e,n,r){t=Zt(t),UZ(bT,Cc[t.app.options.appId],e,n,r).catch(i=>Qn.error(i))}const cO="@firebase/analytics",uO="0.10.19";function ZZ(){Ii(new ri(m0,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return KZ(r,i,n)},"PUBLIC")),Ii(new ri("analytics-internal",t,"PRIVATE")),pr(cO,uO),pr(cO,uO,"esm2020");function t(e){try{const n=e.getProvider(m0).getImmediate();return{logEvent:(r,i,a)=>JZ(n,r,i,a),setUserProperties:(r,i)=>XZ(n,r,i)}}catch(n){throw Ir.create("interop-component-reg-failed",{reason:n})}}}ZZ();const eee={apiKey:"AIzaSyALROg4hIMFvYd8hydNKxKWmP3Cn5JmdcQ",authDomain:"test-inventory-stoe.firebaseapp.com",projectId:"test-inventory-stoe",storageBucket:"test-inventory-stoe.firebasestorage.app",messagingSenderId:"1081430501971",appId:"1:1081430501971:web:bb4e4be92aa2519ae934a6",measurementId:"G-3Y7YENDSHN"},zv=TL(eee);jK(zv);const hs=FX(zv);NJ(zv);typeof window<"u"&&YZ(zv);const ht={subscribeToCollection:(t,e,n="name",r="asc")=>{try{if(!t||typeof e!="function")return console.error("subscribeToCollection: invalid arguments",{collectionName:t,callback:e}),()=>{};const i=n?QX(kd(hs,t),XX(n,r)):kd(hs,t);return XI(i,a=>{const s=a.docs.map(o=>({_id:o.id,...o.data()}));e(s)},a=>{if(console.error(`Error subscribing to ${t}:`,a),a.code==="failed-precondition"||a.message.includes("index")){console.log(`Retrying ${t} without orderBy...`);const s=kd(hs,t);return XI(s,o=>{const l=o.docs.map(c=>({_id:c.id,...c.data()}));e(l)})}})}catch(i){return console.error(`Error setting up subscription for ${t}:`,i),()=>{}}},add:async(t,e)=>{if(!t)throw new Error("add: collectionName is required");try{const n=await nJ(kd(hs,t),e);return{...e,_id:n.id}}catch(n){throw console.error(`Error adding to ${t}:`,n),n}},update:async(t,e,n)=>{if(!t||!e)throw new Error("update: collectionName and id are required");try{const r=dg(hs,t,e);await tJ(r,n)}catch(r){throw console.error(`Error updating ${t}:`,r),r}},set:async(t,e,n)=>{if(!t||!e)throw new Error("set: collectionName and id are required");try{const r=dg(hs,t,e);await eJ(r,n)}catch(r){throw console.error(`Error setting in ${t}:`,r),r}},delete:async(t,e)=>{if(!t||!e)throw new Error("delete: collectionName and id are required");try{const n=dg(hs,t,e);await QI(n)}catch(n){throw console.error(`Error deleting from ${t}:`,n),n}},clearCollection:async t=>{if(!t)throw new Error("clearCollection: collectionName is required");try{const n=(await ZX(kd(hs,t))).docs.map(r=>QI(r.ref));await Promise.all(n)}catch(e){throw console.error(`Error clearing ${t}:`,e),e}}},Le=t=>typeof t=="string",Td=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},dO=t=>t==null?"":""+t,tee=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},nee=/###/g,fO=t=>t&&t.indexOf("###")>-1?t.replace(nee,"."):t,hO=t=>!t||Le(t),Ef=(t,e,n)=>{const r=Le(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(hO(t))return{};const a=fO(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return hO(t)?{}:{obj:t,k:fO(r[i])}},pO=(t,e,n)=>{const{obj:r,k:i}=Ef(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],s=e.slice(0,e.length-1),o=Ef(t,s,Object);for(;o.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=Ef(t,s,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=n},ree=(t,e,n,r)=>{const{obj:i,k:a}=Ef(t,e,Object);i[a]=i[a]||[],i[a].push(n)},g0=(t,e)=>{const{obj:n,k:r}=Ef(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},iee=(t,e,n)=>{const r=g0(t,n);return r!==void 0?r:g0(e,n)},d6=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Le(t[r])||t[r]instanceof String||Le(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):d6(t[r],e[r],n):t[r]=e[r]);return t},zl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var aee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const see=t=>Le(t)?t.replace(/[&<>"'\/]/g,e=>aee[e]):t;class oee{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const lee=[" ",",","?","!",";"],cee=new oee(20),uee=(t,e,n)=>{e=e||"",n=n||"";const r=lee.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=cee.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},a_=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,o="";for(let l=a;l<r.length;++l)if(l!==a&&(o+=n),o+=r[l],s=i[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=s}return i},uh=t=>t==null?void 0:t.replace("_","-"),dee={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class y0{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||dee,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Le(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new y0(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new y0(this.logger,e)}}var qi=new y0;let qv=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...n])})}};class mO extends qv{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,u;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):Le(r)&&a?o.push(...r.split(a)):o.push(r)));const l=g0(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!Le(r)?l:a_((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),pO(this.data,o,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(Le(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,s={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=g0(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?d6(l,r,a):l={...l,...r},pO(this.data,o,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var f6={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var s;e=((s=this.processors[a])==null?void 0:s.process(e,n,r,i))??e}),e}};const h6=Symbol("i18next/PATH_KEY");function fee(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===h6?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function s_(t,e){const{[h6]:n}=t(fee());return n.join((e==null?void 0:e.keySeparator)??".")}const gO={},qb=t=>!Le(t)&&typeof t!="boolean"&&typeof t!="number";class v0 extends qv{constructor(e,n={}){super(),tee(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=qi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const a=qb(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!uee(e,r,i);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Le(a)?[a]:a};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(i)}return{key:e,namespaces:Le(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=s_(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?a?{res:`${c}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o;const p=this.resolve(e,i);let g=p==null?void 0:p.res;const y=(p==null?void 0:p.usedKey)||o,v=(p==null?void 0:p.exactUsedKey)||o,x=["[object Number]","[object Function]","[object RegExp]"],b=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,S=i.count!==void 0&&!Le(i.count),E=v0.hasDefaultValue(i),P=S?this.pluralResolver.getSuffix(d,i.count,i):"",_=i.ordinal&&S?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",k=S&&!i.ordinal&&i.count===0,A=k&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${_}`]||i.defaultValue;let I=g;w&&!g&&E&&(I=A);const C=qb(I),j=Object.prototype.toString.apply(I);if(w&&I&&C&&x.indexOf(j)<0&&!(Le(b)&&Array.isArray(I))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,I,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(p.res=O,p.usedParams=this.getUsedParamsDetails(i),p):O}if(s){const O=Array.isArray(I),M=O?[]:{},D=O?v:y;for(const L in I)if(Object.prototype.hasOwnProperty.call(I,L)){const q=`${D}${s}${L}`;E&&!g?M[L]=this.translate(q,{...i,defaultValue:qb(A)?A[L]:void 0,joinArrays:!1,ns:l}):M[L]=this.translate(q,{...i,joinArrays:!1,ns:l}),M[L]===q&&(M[L]=I[L])}g=M}}else if(w&&Le(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,e,i,r));else{let O=!1,M=!1;!this.isValidLookup(g)&&E&&(O=!0,g=A),this.isValidLookup(g)||(M=!0,g=o);const L=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&M?void 0:g,q=E&&A!==g&&this.options.updateMissing;if(M||O||q){if(this.logger.log(q?"updateKey":"missingKey",d,c,o,q?A:g),s){const Y=this.resolve(o,{...i,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const V=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&V&&V[0])for(let Y=0;Y<V.length;Y++)F.push(V[Y]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(i.lng||this.language):F.push(i.lng||this.language);const G=(Y,B,ae)=>{var ye;const ge=E&&ae!==g?ae:L;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,c,B,ge,q,i):(ye=this.backendConnector)!=null&&ye.saveMissing&&this.backendConnector.saveMissing(Y,c,B,ge,q,i),this.emit("missingKey",Y,c,B,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?F.forEach(Y=>{const B=this.pluralResolver.getSuffixes(Y,i);k&&i[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(ae=>{G([Y],o+ae,i[`defaultValue${ae}`]||A)})}):G(F,o,A))}g=this.extendTranslation(g,e,i,p,r),M&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${o}`),(M||O)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${o}`:o,O?g:void 0,i))}return a?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(e,n,r,i,a){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=Le(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!Le(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(a==null?void 0:a[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,o=Le(s)?[s]:s;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=f6.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,s,o;return Le(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!Le(n.count),p=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(Le(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(v=>{var x,b;this.isValidLookup(r)||(o=v,!gO[`${y[0]}-${v}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(o))&&(gO[`${y[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(w=>{var P;if(this.isValidLookup(r))return;s=w;const S=[u];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(S,u,w,v,n);else{let _;h&&(_=this.pluralResolver.getSuffix(w,n.count,n));const k=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&_.indexOf(A)===0&&S.push(u+_.replace(A,this.options.pluralSeparator)),S.push(u+_),p&&S.push(u+k)),g){const I=`${u}${this.options.contextSeparator||"_"}${n.context}`;S.push(I),h&&(n.ordinal&&_.indexOf(A)===0&&S.push(I+_.replace(A,this.options.pluralSeparator)),S.push(I+_),p&&S.push(I+k))}}let E;for(;E=S.pop();)this.isValidLookup(r)||(a=E,r=this.getResource(w,v,E,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Le(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class yO{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=qi.create("languageUtils")}getScriptPartFromCode(e){if(e=uh(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=uh(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Le(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Le(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Le(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Le(e)&&a(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const vO={zero:0,one:1,two:2,few:3,many:4,other:5},xO={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class hee{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=qi.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=uh(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),xO;if(!e.match(/-|_/))return xO;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[a]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>vO[i]-vO[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const bO=(t,e,n,r=".",i=!0)=>{let a=iee(t,e,n);return!a&&i&&Le(n)&&(a=a_(t,n,r),a===void 0&&(a=a_(e,n,r))),a},Wb=t=>t.replace(/\$/g,"$$$$");class wO{constructor(e={}){var n;this.logger=qi.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:v,maxReplaces:x,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:see,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?zl(a):s||"{{",this.suffix=o?zl(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?zl(h):p||zl("$t("),this.nestingSuffix=g?zl(g):y||zl(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=x||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const b=bO(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:g}):b}const y=g.split(this.formatSeparator),v=y.shift().trim(),x=y.join(this.formatSeparator).trim();return this.format(bO(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...i,...n,interpolationkey:v})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Wb(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Wb(this.escape(g)):Wb(g)}].forEach(g=>{for(o=0;a=g.regex.exec(e);){const y=a[1].trim();if(s=c(y),s===void 0)if(typeof u=="function"){const x=u(e,a,i);s=Le(x)?x:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))s="";else if(d){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),s="";else!Le(s)&&!this.useRawValueToEscape&&(s=dO(s));const v=g.safeValue(s);if(e=e.replace(a[0],v),d?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,s;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,s);const p=h.match(/'/g),g=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${u}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!Le(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),a=n(o.call(this,i[1].trim(),s),s),a&&i[0]===e&&!Le(a))return a;Le(a)||(a=dO(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const pee=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},_O=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let o=e[s];return o||(o=t(uh(r),i),e[s]=o),o(n)}},mee=t=>(e,n,r)=>t(uh(n),r)(e);class gee{constructor(e={}){this.logger=qi.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?_O:mee;this.formats={number:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return o=>s.format(o)}),currency:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return o=>s.format(o)}),datetime:r((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return o=>s.format(o)}),relativetime:r((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return o=>s.format(o,a.range||"day")}),list:r((i,a)=>{const s=new Intl.ListFormat(i,{...a});return o=>s.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=_O(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{var d;const{formatName:c,formatOptions:u}=pee(l);if(this.formats[c]){let h=o;try{const p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[c](o,g,{...u,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const yee=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class vee extends qv{constructor(e,n,r,i={}){var a,s;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=qi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(a=this.backend)==null?void 0:a.init)==null||s.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},s={},o={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,u=!1,s[h]===void 0&&(s[h]=!0),a[h]===void 0&&(a[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(o[c]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{ree(l.loaded,[a],s),yee(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{o[c][d]===void 0&&(o[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,s)},a);return}s(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,n,o)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Le(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Le(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,o),this.loaded(e,s,o)})}saveMissing(e,n,r,i,a,s={},o=()=>{}){var l,c,u,d,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const p={...s,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(e,n,r,i,p):y=g(e,n,r,i),y&&typeof y.then=="function"?y.then(v=>o(null,v)).catch(o):o(null,y)}catch(y){o(y)}else g(e,n,r,i,o,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const Hb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Le(t[1])&&(e.defaultValue=t[1]),Le(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),SO=t=>{var e,n;return Le(t.ns)&&(t.ns=[t.ns]),Le(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Le(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},vm=()=>{},xee=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};let EO=!1;const bee=t=>{var e,n,r,i,a,s,o,l,c;return!!(((r=(n=(e=t==null?void 0:t.modules)==null?void 0:e.backend)==null?void 0:n.name)==null?void 0:r.indexOf("Locize"))>0||((o=(s=(a=(i=t==null?void 0:t.modules)==null?void 0:i.backend)==null?void 0:a.constructor)==null?void 0:s.name)==null?void 0:o.indexOf("Locize"))>0||(c=(l=t==null?void 0:t.options)==null?void 0:l.backend)!=null&&c.backends&&t.options.backend.backends.some(u=>{var d,h,p;return((d=u==null?void 0:u.name)==null?void 0:d.indexOf("Locize"))>0||((p=(h=u==null?void 0:u.constructor)==null?void 0:h.name)==null?void 0:p.indexOf("Locize"))>0}))};class kf extends qv{constructor(e={},n){if(super(),this.options=SO(e),this.services={},this.logger=qi,this.modules={external:[]},xee(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Le(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Hb();this.options={...r,...this.options,...SO(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!bee(this)&&!EO&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),EO=!0);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?qi.init(i(this.modules.logger),this.options):qi.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=gee;const u=new yO(this.options);this.store=new mO(this.options.resources,this.options);const d=this.services;d.logger=qi,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new hee(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new wO(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new vee(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new v0(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=vm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const o=Td(),l=()=>{const c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=vm){var a,s;let r=n;const i=Le(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(s=(a=this.options.preload)==null?void 0:a.forEach)==null||s.call(a,c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=Td();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=vm),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&f6.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Td();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(o,(...c)=>this.t(...c))},s=o=>{var u,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=Le(o)?o:o&&o[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Le(o)?[o]:o);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,h=>{a(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(a,s,...o)=>{let l;typeof s!="object"?l=this.options.overloadTranslationOptionHandler([a,s].concat(o)):l={...s},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(a)?u=a.map(d=>(typeof d=="function"&&(d=s_(d,{...this.options,...s})),`${l.keyPrefix}${c}${d}`)):(typeof a=="function"&&(a=s_(a,{...this.options,...s})),u=l.keyPrefix?`${l.keyPrefix}${c}${a}`:a),this.t(u,l)};return Le(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(a,e)))}loadNamespaces(e,n){const r=Td();return this.options.ns?(Le(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Td();Le(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new yO(Hb());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new kf(e,n);return r.createInstance=kf.createInstance,r}cloneInstance(e={},n=vm){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new kf(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});a.store=new mO(o,i),a.services.resourceStore=a.store}if(e.interpolation){const l={...Hb().interpolation,...this.options.interpolation,...e.interpolation},c={...i,interpolation:l};a.services.interpolator=new wO(c)}return a.translator=new v0(a.services,i),a.translator.on("*",(o,...l)=>{a.emit(o,...l)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gn=kf.createInstance();gn.createInstance;gn.dir;gn.init;gn.loadResources;gn.reloadResources;gn.use;gn.changeLanguage;gn.getFixedT;gn.t;gn.exists;gn.setDefaultNamespace;gn.hasLoadedNamespace;gn.loadNamespaces;gn.loadLanguages;const wee=(t,e,n,r)=>{var a,s,o,l;const i=[n,{code:e,...r||{}}];if((s=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);gl(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},kO={},p6=(t,e,n,r)=>{gl(n)&&kO[n]||(gl(n)&&(kO[n]=new Date),wee(t,e,n,r))},m6=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},o_=(t,e,n)=>{t.loadNamespaces(e,m6(t,n))},TO=(t,e,n,r)=>{if(gl(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return o_(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,m6(t,r))},_ee=(t,e,n={})=>!e.languages||!e.languages.length?(p6(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),gl=t=>typeof t=="string",See=t=>typeof t=="object"&&t!==null,Eee=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,kee={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Tee=t=>kee[t],Pee=t=>t.replace(Eee,Tee);let l_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Pee,transDefaultProps:void 0};const Aee=(t={})=>{l_={...l_,...t}},Nee=()=>l_;let g6;const Iee=t=>{g6=t},Oee=()=>g6,Cee={type:"3rdParty",init(t){Aee(t.options.react),Iee(t)}},jee=R.createContext();class Ree{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var y6={exports:{}},v6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=R;function Mee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dee=typeof Object.is=="function"?Object.is:Mee,$ee=tu.useState,Lee=tu.useEffect,Fee=tu.useLayoutEffect,Vee=tu.useDebugValue;function Uee(t,e){var n=e(),r=$ee({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return Fee(function(){i.value=n,i.getSnapshot=e,Gb(i)&&a({inst:i})},[t,n,e]),Lee(function(){return Gb(i)&&a({inst:i}),t(function(){Gb(i)&&a({inst:i})})},[t]),Vee(n),n}function Gb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dee(t,n)}catch{return!0}}function Bee(t,e){return e()}var zee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bee:Uee;v6.useSyncExternalStore=tu.useSyncExternalStore!==void 0?tu.useSyncExternalStore:zee;y6.exports=v6;var qee=y6.exports;const Wee=(t,e)=>gl(e)?e:See(e)&&gl(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Hee={t:Wee,ready:!1},Gee=()=>()=>{},Dr=(t,e={})=>{var A,I,C;const{i18n:n}=e,{i18n:r,defaultNS:i}=R.useContext(jee)||{},a=n||r||Oee();a&&!a.reportNamespaces&&(a.reportNamespaces=new Ree),a||p6(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=R.useMemo(()=>{var j;return{...Nee(),...(j=a==null?void 0:a.options)==null?void 0:j.react,...e}},[a,e]),{useSuspense:o,keyPrefix:l}=s,c=i||((A=a==null?void 0:a.options)==null?void 0:A.defaultNS),u=gl(c)?[c]:c||["translation"],d=R.useMemo(()=>u,u);(C=(I=a==null?void 0:a.reportNamespaces)==null?void 0:I.addUsedNamespaces)==null||C.call(I,d);const h=R.useRef(0),p=R.useCallback(j=>{if(!a)return Gee;const{bindI18n:O,bindI18nStore:M}=s,D=()=>{h.current+=1,j()};return O&&a.on(O,D),M&&a.store.on(M,D),()=>{O&&O.split(" ").forEach(L=>a.off(L,D)),M&&M.split(" ").forEach(L=>a.store.off(L,D))}},[a,s]),g=R.useRef(),y=R.useCallback(()=>{if(!a)return Hee;const j=!!(a.isInitialized||a.initializedStoreOnce)&&d.every(F=>_ee(F,a,s)),O=e.lng||a.language,M=h.current,D=g.current;if(D&&D.ready===j&&D.lng===O&&D.keyPrefix===l&&D.revision===M)return D;const q={t:a.getFixedT(O,s.nsMode==="fallback"?d:d[0],l),ready:j,lng:O,keyPrefix:l,revision:M};return g.current=q,q},[a,d,l,s,e.lng]),[v,x]=R.useState(0),{t:b,ready:w}=qee.useSyncExternalStore(p,y,y);R.useEffect(()=>{if(a&&!w&&!o){const j=()=>x(O=>O+1);e.lng?TO(a,e.lng,d,j):o_(a,d,j)}},[a,e.lng,d,w,o,v]);const S=a||{},E=R.useRef(null),P=R.useRef(),_=j=>{const O=Object.getOwnPropertyDescriptors(j);O.__original&&delete O.__original;const M=Object.create(Object.getPrototypeOf(j),O);if(!Object.prototype.hasOwnProperty.call(M,"__original"))try{Object.defineProperty(M,"__original",{value:j,writable:!1,enumerable:!1,configurable:!1})}catch{}return M},k=R.useMemo(()=>{const j=S,O=j==null?void 0:j.language;let M=j;j&&(E.current&&E.current.__original===j?P.current!==O?(M=_(j),E.current=M,P.current=O):M=E.current:(M=_(j),E.current=M,P.current=O));const D=[b,M,w];return D.t=b,D.i18n=M,D.ready=w,D},[b,S,w,S.resolvedLanguage,S.language,S.languages]);if(a&&o&&!w)throw new Promise(j=>{const O=()=>j();e.lng?TO(a,e.lng,d,O):o_(a,d,O)});return k},x6=R.createContext(),nr=()=>R.useContext(x6),Kee=({children:t})=>{const[e,n]=R.useState(()=>localStorage.getItem("theme")||"light"),[r,i]=R.useState(()=>localStorage.getItem("isSidebarCollapsed")==="true"),[a,s]=R.useState(!1),[o,l]=R.useState(()=>{try{const U=localStorage.getItem("appearance"),Q=U?JSON.parse(U):null;return{theme:(Q==null?void 0:Q.theme)||"default",accentType:(Q==null?void 0:Q.accentType)||"solid",accentColor:(Q==null?void 0:Q.accentColor)||"#1e3a5f",accentGradient:(Q==null?void 0:Q.accentGradient)||{start:"#8B5CF6",end:"#3B82F6"}}}catch(U){return console.error("Error loading appearance settings:",U),{theme:"default",accentType:"solid",accentColor:"#1e3a5f",accentGradient:{start:"#8B5CF6",end:"#3B82F6"}}}});R.useEffect(()=>{const U=document.documentElement;U.classList.remove("theme-liquid","theme-light","theme-dark"),o.theme!=="default"&&U.classList.add(`theme-${o.theme}`);let Q=o.accentColor;if(o.accentColor,o.accentType==="solid")U.style.setProperty("--accent-color",o.accentColor),U.style.setProperty("--accent-gradient",o.accentColor);else{const{start:H,end:ue}=o.accentGradient;Q=H,U.style.setProperty("--accent-color",H),U.style.setProperty("--accent-gradient",`linear-gradient(135deg, ${H} 0%, ${ue} 100%)`)}if(U.style.setProperty("--brand-color",Q),C(H=>({...H,color:Q})),o.theme==="liquid"&&U.style.setProperty("--glass-tint",`${Q}15`),o.theme==="dark")n("dark");else if(o.theme==="light")n("light");else if(o.theme==="default"){const H=localStorage.getItem("theme")||"light";n(H)}},[o]);const[c,u]=R.useState([]),[d,h]=R.useState([]),[p,g]=R.useState([]),[y,v]=R.useState([]),[x,b]=R.useState(["Electronics","Clothing","Home","Beauty","Sports"]),[w,S]=R.useState(!0),[E,P]=R.useState([]),_=(U,Q="info")=>{const H=Math.random().toString(36).substr(2,9);P(ue=>[...ue,{id:H,message:U,type:Q}]),setTimeout(()=>{P(ue=>ue.filter(he=>he.id!==H))},3e3)},[k,A]=R.useState(!1),[I,C]=R.useState({name:"Gem Toys",logo:"https://i.imgur.com/9YXqZ5K.png",color:"#1e3a5f",hideHeader:!1});R.useEffect(()=>{try{I!=null&&I.name&&(document.title=I.name);const U=Q=>{if(!Q)return;let H=document.querySelector("link[rel~='icon']");H||(H=document.createElement("link"),H.rel="icon",document.getElementsByTagName("head")[0].appendChild(H)),H.href=Q};I!=null&&I.favicon?U(I.favicon):I!=null&&I.logo&&U(I.logo)}catch{}},[I]);const j=async U=>{const{_id:Q,...H}=U,ue=Q||"branding";await ht.set("settings",ue,H),C(he=>({...he,...H}))};R.useEffect(()=>{S(!0);const U=ht.subscribeToCollection("products",u,"name"),Q=ht.subscribeToCollection("categories",Fe=>{if(Fe.length>0){const Ht=Fe.map(un=>un.name).sort();b(Ht),M(Fe)}else b([]),M([])}),H=ht.subscribeToCollection("orders",h,"date","desc"),ue=ht.subscribeToCollection("customers",g,"name"),he=ht.subscribeToCollection("users",v,"username"),Ee=ht.subscribeToCollection("settings",Fe=>{const Ht=Fe.find(un=>un._id==="branding");if(Ht){const{_id:un,...$r}=Ht;C($r)}});return S(!1),()=>{U(),Q(),H(),ue(),he(),Ee()}},[]);const[O,M]=R.useState([]),D=async U=>{x.includes(U)||(await ht.add("categories",{name:U}),_(`Category "${U}" added!`,"success"))},L=async(U,Q)=>{const H=O.find(ue=>ue.name===U);if(H){await ht.update("categories",H._id,{name:Q}),_(`Category updated to "${Q}"`,"success");const ue=c.filter(he=>he.category===U);for(const he of ue)await ht.update("products",he._id,{category:Q})}},q=async U=>{const Q=O.find(H=>H.name===U);Q&&(await ht.delete("categories",Q._id),_(`Category "${U}" deleted!`,"success"))},[F,V]=R.useState(null);R.useEffect(()=>{if(y.length>0)if(F){const U=y.find(Q=>Q._id===F._id||Q.username===F.username);U&&V(U)}else{const U=y.find(Q=>Q.role==="Admin");V(U||y[0])}},[y]);const G=U=>{n(U)};R.useEffect(()=>{const U=document.documentElement;e==="dark"?U.classList.add("dark"):e==="light"?U.classList.remove("dark"):e==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?U.classList.add("dark"):U.classList.remove("dark")),localStorage.setItem("theme",e)},[e]);const{i18n:Y}=Dr(),[B,ae]=R.useState(localStorage.getItem("language")||Y.language||"en"),ge=U=>{ae(U),Y.changeLanguage(U),localStorage.setItem("language",U);const Q=U==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",Q),document.documentElement.setAttribute("lang",U)};R.useEffect(()=>{const U=localStorage.getItem("language")||"en",Q=U==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",Q),document.documentElement.setAttribute("lang",U),U!==Y.language&&Y.changeLanguage(U)},[Y]);const ye=()=>{i(U=>{const Q=!U;return localStorage.setItem("isSidebarCollapsed",Q),Q})},te=()=>s(U=>!U),ie=()=>s(!1),de=U=>new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(U),ee=async U=>{const Q=await ht.add("products",U);return _("Product added successfully","success"),Q},_e=async U=>{const{_id:Q,...H}=U;await ht.update("products",Q,H)},re=async U=>{await ht.delete("products",U)},X=async U=>{const Q={...U,createdOn:new Date().toISOString()},H=await ht.add("customers",Q);return _("Customer added successfully","success"),H},Z=async U=>{const{_id:Q,...H}=U;await ht.update("customers",Q,H)},be=async U=>{const Q=`#ORD-${Math.floor(1e3+Math.random()*9e3)}`,H={...U,orderId:Q,date:new Date().toISOString()},ue=await ht.add("orders",H);for(const he of U.items){const Ee=c.find(Fe=>Fe._id===he.product._id);if(Ee){const Fe=Math.max(0,Ee.stock-he.quantity);await ht.update("products",Ee._id,{stock:Fe,status:Fe===0?"Out of Stock":Fe<=10?"Low Stock":"In Stock"})}}return _("Order created successfully","success"),ue},Me=async U=>{const Q=d.find(H=>H._id===U);if(Q)for(const H of Q.items){const ue=c.find(he=>he._id===H.product._id);if(ue){const he=ue.stock+H.quantity;await ht.update("products",ue._id,{stock:he,status:he===0?"Out of Stock":he<=10?"Low Stock":"In Stock"})}}await ht.delete("orders",U),_("Order deleted and stock restored","info")},Ke=async U=>{const{_id:Q,...H}=U,ue=d.find(he=>he._id===Q);if(ue){for(const he of ue.items){const Ee=c.find(Fe=>Fe._id===he.product._id);Ee&&await ht.update("products",Ee._id,{stock:Ee.stock+he.quantity})}for(const he of U.items){const Ee=c.find(Fe=>Fe._id===he.product._id);if(Ee){const Fe=ue.items.find($r=>$r.product._id===he.product._id),Ht=Fe?Fe.quantity:0,un=Math.max(0,Ee.stock+Ht-he.quantity);await ht.update("products",Ee._id,{stock:un,status:un===0?"Out of Stock":un<=10?"Low Stock":"In Stock"})}}}await ht.update("orders",Q,H),_("Order updated successfully","success")},De=async U=>{await ht.add("users",{...U,displayName:U.username})},en=async U=>{const{_id:Q,...H}=U;await ht.update("users",Q,H)},it=async U=>{F&&(await ht.update("users",F._id,U),V(Q=>({...Q,...U})))},ct=async U=>{await ht.delete("users",U)};return f.jsx(x6.Provider,{value:{products:c,addProduct:ee,updateProduct:_e,deleteProduct:re,orders:d,addOrder:be,updateOrder:Ke,deleteOrder:Me,customers:p,addCustomer:X,updateCustomer:Z,users:y,addUser:De,updateUser:en,deleteUser:ct,categories:x,addCategory:D,updateCategory:L,deleteCategory:q,loading:w,theme:e,toggleTheme:G,brand:I,updateBrand:j,appearance:o,setAppearance:U=>{l(Q=>{const H={...Q,...U};return localStorage.setItem("appearance",JSON.stringify(H)),H})},currentUser:F,updateUserProfile:it,language:B,changeLanguage:ge,formatCurrency:de,isSidebarCollapsed:r,toggleSidebar:ye,isMobileMenuOpen:a,toggleMobileMenu:te,closeMobileMenu:ie,toasts:E,addToast:_,isModalOpen:k,setIsModalOpen:A},children:t})},Yee=()=>{var x,b;const{t,i18n:e}=Dr(),n=Mu(),{theme:r,currentUser:i,brand:a,isSidebarCollapsed:s,toggleSidebar:o,isMobileMenuOpen:l,closeMobileMenu:c,language:u}=nr(),d=u==="ar",h=[{icon:Vq,label:t("menu.dashboard"),path:"/"},{icon:yN,label:t("menu.inventory"),path:"/products"},{icon:Ma,label:t("menu.productPicture"),path:"/product-picture"},{icon:cL,label:t("menu.orders"),path:"/orders"},{icon:bk,label:t("menu.customers"),path:"/customers"},{icon:lL,label:t("menu.settings"),path:"/settings"}],v=`fixed lg:static top-0 bottom-0 ${d?"right-0 left-auto":"left-0 right-auto"} border-e z-40 ${s?"w-20":"w-56"} bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 flex flex-col h-screen transition-all duration-300 ease-in-out ${l?"translate-x-0 shadow-2xl":(d?"translate-x-full":"-translate-x-full")+" lg:translate-x-0"} glass-panel`;return f.jsxs("aside",{className:v,children:[f.jsxs("div",{className:`h-24 flex items-center ${s?"justify-center":"px-8"} relative`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg text-white overflow-hidden shrink-0",style:{backgroundColor:a.color,boxShadow:`0 10px 15px -3px ${a.color}33`},children:a.logo?f.jsx("img",{src:a.logo,alt:"Logo",className:"w-full h-full object-cover"}):f.jsx(yN,{className:"w-6 h-6"})}),!s&&f.jsx("div",{className:"animate-in fade-in duration-300",children:f.jsxs("h1",{className:"font-bold text-slate-800 dark:text-white text-lg leading-tight tracking-tight",children:[a.name.split(" ")[0],f.jsx("br",{}),f.jsx("span",{style:{color:a.color},className:"font-extrabold",children:a.name.split(" ").slice(1).join(" ")||"APP"})]})})]}),f.jsx("button",{onClick:c,className:`lg:hidden absolute top-6 ${d?"left-4":"right-4"} p-2 text-slate-400 hover:text-red-500 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors`,children:f.jsx(Nr,{className:"w-5 h-5"})})]}),f.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-2 custom-scrollbar",children:[!s&&f.jsx("div",{className:"mb-4 px-4",children:f.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t("menu.mainMenu")})}),h.map(w=>{const S=n.pathname===w.path;return f.jsxs(Aq,{to:w.path,title:s?w.label:"",onClick:c,className:`flex items-center gap-3 rounded-xl transition-all duration-200 group relative overflow-hidden ${s?"justify-center p-3":"px-4 py-3.5"} ${S?"text-white shadow-lg bg-accent shadow-accent":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:[f.jsx(w.icon,{className:`w-5 h-5 relative z-10 transition-transform duration-200 ${S?"scale-110":"group-hover:scale-110"}`}),!s&&f.jsx("span",{className:"font-medium relative z-10 animate-in fade-in slide-in-from-start-2 duration-300",children:w.label})]},w.path)})]}),f.jsx("div",{className:"p-4 mt-auto border-t border-slate-100 dark:border-slate-800/50",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 flex items-center shadow-sm glass-panel ${s?"p-2 justify-center":"p-4 gap-3"}`,children:[f.jsxs("div",{className:"relative shrink-0 w-10 h-10",children:[f.jsx("div",{className:"w-full h-full text-white rounded-full flex items-center justify-center font-bold text-lg overflow-hidden",style:{backgroundColor:a.color},children:i!=null&&i.photoURL?f.jsx("img",{src:i.photoURL,alt:"User",className:"w-full h-full object-cover"}):((x=i==null?void 0:i.displayName)==null?void 0:x.charAt(0))||"U"}),f.jsx("div",{className:"absolute bottom-0 end-0 w-3 h-3 bg-emerald-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),!s&&f.jsxs("div",{className:"overflow-hidden animate-in fade-in duration-300",children:[f.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white truncate",children:((b=i==null?void 0:i.displayName)==null?void 0:b.split(" ")[0])||t("user.defaultName")}),f.jsx("p",{className:"text-xs text-slate-500 truncate",children:(i==null?void 0:i.role)||t("user.defaultRole")})]})]})}),f.jsx("button",{onClick:o,className:`hidden lg:flex absolute bottom-24 ${d?"-left-3":"-right-3"} w-6 h-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full items-center justify-center text-slate-400 shadow-sm z-50 transition-all hover:scale-110`,style:{color:a.color},children:s?f.jsx(gk,{className:"w-3.5 h-3.5"}):f.jsx(mk,{className:"w-3.5 h-3.5"})})]})},Qee=({title:t})=>{var u,d,h;const{t:e}=Dr(),{currentUser:n,toggleMobileMenu:r,theme:i,toggleTheme:a,brand:s,isModalOpen:o}=nr(),l=s.hideHeader,c=o?"hidden md:flex":l?"lg:hidden":"flex";return f.jsxs("header",{className:`${c} h-24 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200 dark:border-slate-800 items-center justify-between px-4 md:px-8 sticky top-0 z-20 transition-all duration-300`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:r,className:"p-2 lg:hidden text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:f.jsx(zq,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl md:text-2xl font-black text-slate-800 dark:text-white tracking-tight truncate max-w-[150px] md:max-w-none",children:t}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium hidden md:block",children:[e("header.welcome")," ",((u=n==null?void 0:n.displayName)==null?void 0:u.split(" ")[0])||e("header.admin")]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 md:gap-6",children:[f.jsx("button",{onClick:()=>a(i==="dark"?"light":"dark"),className:"p-2.5 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-all group",title:`Switch to ${i==="dark"?"light":"dark"} mode`,children:i==="dark"?f.jsx(uL,{className:"w-5 h-5 group-hover:rotate-45 transition-transform"}):f.jsx("svg",{className:"w-5 h-5 group-hover:-rotate-12 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),f.jsxs("div",{className:"relative group",children:[f.jsxs("button",{className:"p-2.5 text-slate-400 hover:text-accent hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-all relative group",children:[f.jsx(Rq,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white dark:border-slate-900 animate-pulse"})]}),f.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-[100] overflow-hidden translate-y-2 group-hover:translate-y-0",children:[f.jsxs("div",{className:"px-5 py-4 border-b border-slate-50 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/50",children:[f.jsx("h3",{className:"font-bold text-sm text-slate-800 dark:text-white uppercase tracking-wider",children:"Activity Logs"}),f.jsx("span",{className:"text-[10px] font-black bg-accent text-white px-2 py-0.5 rounded-full",children:"New"})]}),f.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:[{title:"New Customer",desc:"Sami Ahmed joined the database",time:"2m ago",icon:"",color:"bg-blue-50 text-blue-600"},{title:"Order Completed",desc:"Order #ORD-8829 was delivered",time:"15m ago",icon:"",color:"bg-emerald-50 text-emerald-600"},{title:"Low Stock Alert",desc:"iPhone 15 Pro is below 5 units",time:"1h ago",icon:"",color:"bg-amber-50 text-amber-600"}].map((p,g)=>f.jsx("div",{className:"px-5 py-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors cursor-pointer border-b last:border-0 border-slate-50 dark:border-slate-700/50",children:f.jsxs("div",{className:"flex gap-4",children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-lg ${p.color}`,children:p.icon}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[f.jsx("p",{className:"font-bold text-xs text-slate-800 dark:text-white uppercase tracking-tighter",children:p.title}),f.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:p.time})]}),f.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400 line-clamp-1",children:p.desc})]})]})},g))}),f.jsx("div",{className:"px-5 py-3 border-t border-slate-50 dark:border-slate-700 text-center",children:f.jsx("button",{className:"text-[10px] font-black text-accent uppercase tracking-widest hover:brightness-110 transition-all",children:e("header.viewAllActivity")})})]})]}),f.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700 mx-1 hidden min-[400px]:block"}),f.jsxs("button",{className:"flex items-center gap-2 p-1 md:p-1.5 md:pr-3 rounded-full hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-700",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold text-sm shadow-md overflow-hidden shrink-0",children:n!=null&&n.photoURL?f.jsx("img",{src:n.photoURL,alt:"User",className:"w-full h-full object-cover"}):((d=n==null?void 0:n.displayName)==null?void 0:d.charAt(0))||"A"}),f.jsx("span",{className:"hidden sm:block text-sm font-bold text-slate-700 dark:text-slate-300 truncate max-w-[80px]",children:((h=n==null?void 0:n.displayName)==null?void 0:h.split(" ")[0])||"Admin"})]})]})]})},Xee=()=>{const{toasts:t}=nr();return f.jsx("div",{className:"fixed bottom-8 right-8 z-[1000] flex flex-col gap-3 pointer-events-none",children:t.map(e=>f.jsxs("div",{className:`
                        pointer-events-auto
                        flex items-center gap-4 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md
                        animate-in slide-in-from-right-8 fade-in duration-300
                        ${e.type==="success"?"bg-emerald-500/90 text-white":e.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}
                    `,children:[f.jsxs("div",{className:"flex-shrink-0",children:[e.type==="success"&&f.jsx(aL,{className:"w-6 h-6"}),e.type==="error"&&f.jsx(Mq,{className:"w-6 h-6"}),e.type==="info"&&f.jsx(sL,{className:"w-6 h-6"})]}),f.jsx("div",{className:"flex-1",children:f.jsx("p",{className:"font-bold text-sm",children:e.message})})]},e.id))})},zu=({children:t,title:e})=>{const{isSidebarCollapsed:n,isMobileMenuOpen:r,closeMobileMenu:i,brand:a}=nr();return f.jsxs("div",{className:"flex h-screen bg-transparent font-sans transition-colors duration-300",children:[r&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:i}),f.jsx(Yee,{}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-screen transition-all duration-300",children:[f.jsx(Qee,{title:e||"Dashboard"}),f.jsx("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto ${a.hideHeader?"lg:pt-8":""} overflow-x-hidden`,children:f.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t})}),f.jsx(Xee,{})]})]})};function b6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=b6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=b6(t))&&(r&&(r+=" "),r+=e);return r}var Jee=Array.isArray,yr=Jee,Zee=typeof Gp=="object"&&Gp&&Gp.Object===Object&&Gp,w6=Zee,ete=w6,tte=typeof self=="object"&&self&&self.Object===Object&&self,nte=ete||tte||Function("return this")(),da=nte,rte=da,ite=rte.Symbol,wp=ite,PO=wp,_6=Object.prototype,ate=_6.hasOwnProperty,ste=_6.toString,Pd=PO?PO.toStringTag:void 0;function ote(t){var e=ate.call(t,Pd),n=t[Pd];try{t[Pd]=void 0;var r=!0}catch{}var i=ste.call(t);return r&&(e?t[Pd]=n:delete t[Pd]),i}var lte=ote,cte=Object.prototype,ute=cte.toString;function dte(t){return ute.call(t)}var fte=dte,AO=wp,hte=lte,pte=fte,mte="[object Null]",gte="[object Undefined]",NO=AO?AO.toStringTag:void 0;function yte(t){return t==null?t===void 0?gte:mte:NO&&NO in Object(t)?hte(t):pte(t)}var ts=yte;function vte(t){return t!=null&&typeof t=="object"}var ns=vte,xte=ts,bte=ns,wte="[object Symbol]";function _te(t){return typeof t=="symbol"||bte(t)&&xte(t)==wte}var qu=_te,Ste=yr,Ete=qu,kte=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tte=/^\w*$/;function Pte(t,e){if(Ste(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ete(t)?!0:Tte.test(t)||!kte.test(t)||e!=null&&t in Object(e)}var wT=Pte;function Ate(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bo=Ate;const Wu=gt(bo);var Nte=ts,Ite=bo,Ote="[object AsyncFunction]",Cte="[object Function]",jte="[object GeneratorFunction]",Rte="[object Proxy]";function Mte(t){if(!Ite(t))return!1;var e=Nte(t);return e==Cte||e==jte||e==Ote||e==Rte}var _T=Mte;const Be=gt(_T);var Dte=da,$te=Dte["__core-js_shared__"],Lte=$te,Kb=Lte,IO=function(){var t=/[^.]+$/.exec(Kb&&Kb.keys&&Kb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Fte(t){return!!IO&&IO in t}var Vte=Fte,Ute=Function.prototype,Bte=Ute.toString;function zte(t){if(t!=null){try{return Bte.call(t)}catch{}try{return t+""}catch{}}return""}var S6=zte,qte=_T,Wte=Vte,Hte=bo,Gte=S6,Kte=/[\\^$.*+?()[\]{}|]/g,Yte=/^\[object .+?Constructor\]$/,Qte=Function.prototype,Xte=Object.prototype,Jte=Qte.toString,Zte=Xte.hasOwnProperty,ene=RegExp("^"+Jte.call(Zte).replace(Kte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tne(t){if(!Hte(t)||Wte(t))return!1;var e=qte(t)?ene:Yte;return e.test(Gte(t))}var nne=tne;function rne(t,e){return t==null?void 0:t[e]}var ine=rne,ane=nne,sne=ine;function one(t,e){var n=sne(t,e);return ane(n)?n:void 0}var jl=one,lne=jl,cne=lne(Object,"create"),Wv=cne,OO=Wv;function une(){this.__data__=OO?OO(null):{},this.size=0}var dne=une;function fne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var hne=fne,pne=Wv,mne="__lodash_hash_undefined__",gne=Object.prototype,yne=gne.hasOwnProperty;function vne(t){var e=this.__data__;if(pne){var n=e[t];return n===mne?void 0:n}return yne.call(e,t)?e[t]:void 0}var xne=vne,bne=Wv,wne=Object.prototype,_ne=wne.hasOwnProperty;function Sne(t){var e=this.__data__;return bne?e[t]!==void 0:_ne.call(e,t)}var Ene=Sne,kne=Wv,Tne="__lodash_hash_undefined__";function Pne(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=kne&&e===void 0?Tne:e,this}var Ane=Pne,Nne=dne,Ine=hne,One=xne,Cne=Ene,jne=Ane;function Hu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hu.prototype.clear=Nne;Hu.prototype.delete=Ine;Hu.prototype.get=One;Hu.prototype.has=Cne;Hu.prototype.set=jne;var Rne=Hu;function Mne(){this.__data__=[],this.size=0}var Dne=Mne;function $ne(t,e){return t===e||t!==t&&e!==e}var ST=$ne,Lne=ST;function Fne(t,e){for(var n=t.length;n--;)if(Lne(t[n][0],e))return n;return-1}var Hv=Fne,Vne=Hv,Une=Array.prototype,Bne=Une.splice;function zne(t){var e=this.__data__,n=Vne(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Bne.call(e,n,1),--this.size,!0}var qne=zne,Wne=Hv;function Hne(t){var e=this.__data__,n=Wne(e,t);return n<0?void 0:e[n][1]}var Gne=Hne,Kne=Hv;function Yne(t){return Kne(this.__data__,t)>-1}var Qne=Yne,Xne=Hv;function Jne(t,e){var n=this.__data__,r=Xne(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Zne=Jne,ere=Dne,tre=qne,nre=Gne,rre=Qne,ire=Zne;function Gu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gu.prototype.clear=ere;Gu.prototype.delete=tre;Gu.prototype.get=nre;Gu.prototype.has=rre;Gu.prototype.set=ire;var Gv=Gu,are=jl,sre=da,ore=are(sre,"Map"),ET=ore,CO=Rne,lre=Gv,cre=ET;function ure(){this.size=0,this.__data__={hash:new CO,map:new(cre||lre),string:new CO}}var dre=ure;function fre(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var hre=fre,pre=hre;function mre(t,e){var n=t.__data__;return pre(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Kv=mre,gre=Kv;function yre(t){var e=gre(this,t).delete(t);return this.size-=e?1:0,e}var vre=yre,xre=Kv;function bre(t){return xre(this,t).get(t)}var wre=bre,_re=Kv;function Sre(t){return _re(this,t).has(t)}var Ere=Sre,kre=Kv;function Tre(t,e){var n=kre(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Pre=Tre,Are=dre,Nre=vre,Ire=wre,Ore=Ere,Cre=Pre;function Ku(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ku.prototype.clear=Are;Ku.prototype.delete=Nre;Ku.prototype.get=Ire;Ku.prototype.has=Ore;Ku.prototype.set=Cre;var kT=Ku,E6=kT,jre="Expected a function";function TT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jre);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(TT.Cache||E6),n}TT.Cache=E6;var k6=TT;const Rre=gt(k6);var Mre=k6,Dre=500;function $re(t){var e=Mre(t,function(r){return n.size===Dre&&n.clear(),r}),n=e.cache;return e}var Lre=$re,Fre=Lre,Vre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ure=/\\(\\)?/g,Bre=Fre(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Vre,function(n,r,i,a){e.push(i?a.replace(Ure,"$1"):r||n)}),e}),zre=Bre;function qre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var PT=qre,jO=wp,Wre=PT,Hre=yr,Gre=qu,RO=jO?jO.prototype:void 0,MO=RO?RO.toString:void 0;function T6(t){if(typeof t=="string")return t;if(Hre(t))return Wre(t,T6)+"";if(Gre(t))return MO?MO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Kre=T6,Yre=Kre;function Qre(t){return t==null?"":Yre(t)}var P6=Qre,Xre=yr,Jre=wT,Zre=zre,eie=P6;function tie(t,e){return Xre(t)?t:Jre(t,e)?[t]:Zre(eie(t))}var A6=tie,nie=qu;function rie(t){if(typeof t=="string"||nie(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Yv=rie,iie=A6,aie=Yv;function sie(t,e){e=iie(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[aie(e[n++])];return n&&n==r?t:void 0}var AT=sie,oie=AT;function lie(t,e,n){var r=t==null?void 0:oie(t,e);return r===void 0?n:r}var N6=lie;const ei=gt(N6);function cie(t){return t==null}var uie=cie;const Je=gt(uie);var die=ts,fie=yr,hie=ns,pie="[object String]";function mie(t){return typeof t=="string"||!fie(t)&&hie(t)&&die(t)==pie}var gie=mie;const yl=gt(gie);var I6={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT=Symbol.for("react.element"),IT=Symbol.for("react.portal"),Qv=Symbol.for("react.fragment"),Xv=Symbol.for("react.strict_mode"),Jv=Symbol.for("react.profiler"),Zv=Symbol.for("react.provider"),ex=Symbol.for("react.context"),yie=Symbol.for("react.server_context"),tx=Symbol.for("react.forward_ref"),nx=Symbol.for("react.suspense"),rx=Symbol.for("react.suspense_list"),ix=Symbol.for("react.memo"),ax=Symbol.for("react.lazy"),vie=Symbol.for("react.offscreen"),O6;O6=Symbol.for("react.module.reference");function si(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case NT:switch(t=t.type,t){case Qv:case Jv:case Xv:case nx:case rx:return t;default:switch(t=t&&t.$$typeof,t){case yie:case ex:case tx:case ax:case ix:case Zv:return t;default:return e}}case IT:return e}}}lt.ContextConsumer=ex;lt.ContextProvider=Zv;lt.Element=NT;lt.ForwardRef=tx;lt.Fragment=Qv;lt.Lazy=ax;lt.Memo=ix;lt.Portal=IT;lt.Profiler=Jv;lt.StrictMode=Xv;lt.Suspense=nx;lt.SuspenseList=rx;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(t){return si(t)===ex};lt.isContextProvider=function(t){return si(t)===Zv};lt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===NT};lt.isForwardRef=function(t){return si(t)===tx};lt.isFragment=function(t){return si(t)===Qv};lt.isLazy=function(t){return si(t)===ax};lt.isMemo=function(t){return si(t)===ix};lt.isPortal=function(t){return si(t)===IT};lt.isProfiler=function(t){return si(t)===Jv};lt.isStrictMode=function(t){return si(t)===Xv};lt.isSuspense=function(t){return si(t)===nx};lt.isSuspenseList=function(t){return si(t)===rx};lt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qv||t===Jv||t===Xv||t===nx||t===rx||t===vie||typeof t=="object"&&t!==null&&(t.$$typeof===ax||t.$$typeof===ix||t.$$typeof===Zv||t.$$typeof===ex||t.$$typeof===tx||t.$$typeof===O6||t.getModuleId!==void 0)};lt.typeOf=si;I6.exports=lt;var xie=I6.exports,bie=ts,wie=ns,_ie="[object Number]";function Sie(t){return typeof t=="number"||wie(t)&&bie(t)==_ie}var C6=Sie;const Eie=gt(C6);var kie=C6;function Tie(t){return kie(t)&&t!=+t}var Pie=Tie;const Yu=gt(Pie);var wi=function(e){return e===0?0:e>0?1:-1},Ho=function(e){return yl(e)&&e.indexOf("%")===e.length-1},pe=function(e){return Eie(e)&&!Yu(e)},Aie=function(e){return Je(e)},on=function(e){return pe(e)||yl(e)},Nie=0,_p=function(e){var n=++Nie;return"".concat(e||"").concat(n)},vl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(e)&&!yl(e))return r;var a;if(Ho(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Yu(a)&&(a=r),i&&a>n&&(a=n),a},As=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Iie=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Wr=function(e,n){return pe(e)&&pe(n)?function(r){return e+r*(n-e)}:function(){return n}};function x0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ei(r,e))===n})}var Oie=function(e,n){return pe(e)&&pe(n)?e-n:yl(e)&&yl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function jc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function c_(t){"@babel/helpers - typeof";return c_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c_(t)}var Cie=["viewBox","children"],jie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],DO=["points","pathLength"],Yb={svg:Cie,polygon:DO,polyline:DO},OT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],b0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!Wu(r))return null;var i={};return Object.keys(r).forEach(function(a){OT.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Rie=function(e,n,r){return function(i){return e(n,r,i),null}},w0=function(e,n,r){if(!Wu(e)||c_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];OT.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Rie(s,n,r))}),i},Mie=["children"],Die=["children"];function $O(t,e){if(t==null)return{};var n=$ie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u_(t){"@babel/helpers - typeof";return u_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u_(t)}var LO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Da=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},FO=null,Qb=null,CT=function t(e){if(e===FO&&Array.isArray(Qb))return Qb;var n=[];return R.Children.forEach(e,function(r){Je(r)||(xie.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Qb=n,FO=e,n};function Ai(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Da(i)}):r=[Da(e)],CT(t).forEach(function(i){var a=ei(i,"type.displayName")||ei(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function wr(t,e){var n=Ai(t,e);return n&&n[0]}var VO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!pe(r)||r<=0||!pe(i)||i<=0)},Lie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Fie=function(e){return e&&e.type&&yl(e.type)&&Lie.indexOf(e.type)>=0},Vie=function(e){return e&&u_(e)==="object"&&"clipDot"in e},Uie=function(e,n,r,i){var a,s=(a=Yb==null?void 0:Yb[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Be(e)&&(i&&s.includes(n)||jie.includes(n))||r&&OT.includes(n)},He=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!Wu(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Uie((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},d_=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return UO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!UO(a,s))return!1}return!0},UO=function(e,n){if(Je(e)&&Je(n))return!0;if(!Je(e)&&!Je(n)){var r=e.props||{},i=r.children,a=$O(r,Mie),s=n.props||{},o=s.children,l=$O(s,Die);return i&&o?jc(a,l)&&d_(i,o):!i&&!o?jc(a,l):!1}return!1},BO=function(e,n){var r=[],i={};return CT(e).forEach(function(a,s){if(Fie(a))r.push(a);else if(a){var o=Da(a.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(a,o,s);r.push(d),i[o]=!0}}}),r},Bie=function(e){var n=e&&e.type;return n&&LO[n]?LO[n]:null},zie=function(e,n){return CT(n).indexOf(e)},qie=["children","width","height","viewBox","className","style","title","desc"];function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}function Wie(t,e){if(t==null)return{};var n=Hie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function h_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=Wie(t,qie),u=i||{width:n,height:r,x:0,y:0},d=nt("recharts-surface",a);return z.createElement("svg",f_({},He(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),z.createElement("title",null,o),z.createElement("desc",null,l),e)}var Gie=["children","className"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function Kie(t,e){if(t==null)return{};var n=Yie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ot=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Kie(t,Gie),a=nt("recharts-layer",r);return z.createElement("g",p_({className:a},He(i,!0),{ref:e}),n)}),$a=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Qie(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Xie=Qie,Jie=Xie;function Zie(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Jie(t,e,n)}var eae=Zie,tae="\\ud800-\\udfff",nae="\\u0300-\\u036f",rae="\\ufe20-\\ufe2f",iae="\\u20d0-\\u20ff",aae=nae+rae+iae,sae="\\ufe0e\\ufe0f",oae="\\u200d",lae=RegExp("["+oae+tae+aae+sae+"]");function cae(t){return lae.test(t)}var j6=cae;function uae(t){return t.split("")}var dae=uae,R6="\\ud800-\\udfff",fae="\\u0300-\\u036f",hae="\\ufe20-\\ufe2f",pae="\\u20d0-\\u20ff",mae=fae+hae+pae,gae="\\ufe0e\\ufe0f",yae="["+R6+"]",m_="["+mae+"]",g_="\\ud83c[\\udffb-\\udfff]",vae="(?:"+m_+"|"+g_+")",M6="[^"+R6+"]",D6="(?:\\ud83c[\\udde6-\\uddff]){2}",$6="[\\ud800-\\udbff][\\udc00-\\udfff]",xae="\\u200d",L6=vae+"?",F6="["+gae+"]?",bae="(?:"+xae+"(?:"+[M6,D6,$6].join("|")+")"+F6+L6+")*",wae=F6+L6+bae,_ae="(?:"+[M6+m_+"?",m_,D6,$6,yae].join("|")+")",Sae=RegExp(g_+"(?="+g_+")|"+_ae+wae,"g");function Eae(t){return t.match(Sae)||[]}var kae=Eae,Tae=dae,Pae=j6,Aae=kae;function Nae(t){return Pae(t)?Aae(t):Tae(t)}var Iae=Nae,Oae=eae,Cae=j6,jae=Iae,Rae=P6;function Mae(t){return function(e){e=Rae(e);var n=Cae(e)?jae(e):void 0,r=n?n[0]:e.charAt(0),i=n?Oae(n,1).join(""):e.slice(1);return r[t]()+i}}var Dae=Mae,$ae=Dae,Lae=$ae("toUpperCase"),Fae=Lae;const sx=gt(Fae);function yt(t){return function(){return t}}const V6=Math.cos,_0=Math.sin,Ci=Math.sqrt,S0=Math.PI,ox=2*S0,y_=Math.PI,v_=2*y_,Do=1e-6,Vae=v_-Do;function U6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Uae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return U6;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Bae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?U6:Uae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,d=o-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Do)if(!(Math.abs(d*l-c*u)>Do)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-o,y=l*l+c*c,v=p*p+g*g,x=Math.sqrt(y),b=Math.sqrt(h),w=a*Math.tan((y_-Math.acos((y+h-v)/(2*x*b)))/2),S=w/b,E=w/x;Math.abs(S-1)>Do&&this._append`L${e+S*u},${n+S*d}`,this._append`A${a},${a},0,0,${+(d*p>u*g)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Do||Math.abs(this._y1-u)>Do)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%v_+v_),h>Vae?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>Do&&this._append`A${r},${r},0,${+(h>=y_)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Bae(e)}function RT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function B6(t){this._context=t}B6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lx(t){return new B6(t)}function z6(t){return t[0]}function q6(t){return t[1]}function W6(t,e){var n=yt(!0),r=null,i=lx,a=null,s=jT(o);t=typeof t=="function"?t:t===void 0?z6:yt(t),e=typeof e=="function"?e:e===void 0?q6:yt(e);function o(l){var c,u=(l=RT(l)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:yt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:yt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:yt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function xm(t,e,n){var r=null,i=yt(!0),a=null,s=lx,o=null,l=jT(c);t=typeof t=="function"?t:t===void 0?z6:yt(+t),e=typeof e=="function"?e:yt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?q6:yt(+n);function c(d){var h,p,g,y=(d=RT(d)).length,v,x=!1,b,w=new Array(y),S=new Array(y);for(a==null&&(o=s(b=l())),h=0;h<=y;++h){if(!(h<y&&i(v=d[h],h,d))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],S[g]);o.lineEnd(),o.areaEnd()}x&&(w[h]=+t(v,h,d),S[h]=+e(v,h,d),o.point(r?+r(v,h,d):w[h],n?+n(v,h,d):S[h]))}if(b)return o=null,b+""||null}function u(){return W6().defined(i).curve(s).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:yt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:yt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:yt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:yt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:yt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:yt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:yt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}class H6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zae(t){return new H6(t,!0)}function qae(t){return new H6(t,!1)}const MT={draw(t,e){const n=Ci(e/S0);t.moveTo(n,0),t.arc(0,0,n,0,ox)}},Wae={draw(t,e){const n=Ci(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},G6=Ci(1/3),Hae=G6*2,Gae={draw(t,e){const n=Ci(e/Hae),r=n*G6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Kae={draw(t,e){const n=Ci(e),r=-n/2;t.rect(r,r,n,n)}},Yae=.8908130915292852,K6=_0(S0/10)/_0(7*S0/10),Qae=_0(ox/10)*K6,Xae=-V6(ox/10)*K6,Jae={draw(t,e){const n=Ci(e*Yae),r=Qae*n,i=Xae*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=ox*a/5,o=V6(s),l=_0(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},Xb=Ci(3),Zae={draw(t,e){const n=-Ci(e/(Xb*3));t.moveTo(0,n*2),t.lineTo(-Xb*n,-n),t.lineTo(Xb*n,-n),t.closePath()}},Fr=-.5,Vr=Ci(3)/2,x_=1/Ci(12),ese=(x_/2+1)*3,tse={draw(t,e){const n=Ci(e/ese),r=n/2,i=n*x_,a=r,s=n*x_+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Fr*r-Vr*i,Vr*r+Fr*i),t.lineTo(Fr*a-Vr*s,Vr*a+Fr*s),t.lineTo(Fr*o-Vr*l,Vr*o+Fr*l),t.lineTo(Fr*r+Vr*i,Fr*i-Vr*r),t.lineTo(Fr*a+Vr*s,Fr*s-Vr*a),t.lineTo(Fr*o+Vr*l,Fr*l-Vr*o),t.closePath()}};function nse(t,e){let n=null,r=jT(i);t=typeof t=="function"?t:yt(t||MT),e=typeof e=="function"?e:yt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:yt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:yt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function E0(){}function k0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Y6(t){this._context=t}Y6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:k0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:k0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rse(t){return new Y6(t)}function Q6(t){this._context=t}Q6.prototype={areaStart:E0,areaEnd:E0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:k0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ise(t){return new Q6(t)}function X6(t){this._context=t}X6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:k0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ase(t){return new X6(t)}function J6(t){this._context=t}J6.prototype={areaStart:E0,areaEnd:E0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sse(t){return new J6(t)}function zO(t){return t<0?-1:1}function qO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(zO(a)+zO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function WO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Jb(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function T0(t){this._context=t}T0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jb(this,this._t0,WO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Jb(this,WO(this,n=qO(this,t,e)),n);break;default:Jb(this,this._t0,n=qO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Z6(t){this._context=new eF(t)}(Z6.prototype=Object.create(T0.prototype)).point=function(t,e){T0.prototype.point.call(this,e,t)};function eF(t){this._context=t}eF.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function ose(t){return new T0(t)}function lse(t){return new Z6(t)}function tF(t){this._context=t}tF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=HO(t),i=HO(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function cse(t){return new tF(t)}function cx(t,e){this._context=t,this._t=e}cx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function use(t){return new cx(t,.5)}function dse(t){return new cx(t,0)}function fse(t){return new cx(t,1)}function nu(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function b_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hse(t,e){return t[e]}function pse(t){const e=[];return e.key=t,e}function mse(){var t=yt([]),e=b_,n=nu,r=hse;function i(a){var s=Array.from(t.apply(this,arguments),pse),o,l=s.length,c=-1,u;for(const d of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(d,s[o].key,c,a)]).data=d;for(o=0,u=RT(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:yt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:yt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?b_:typeof a=="function"?a:yt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??nu,i):n},i}function gse(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}nu(t,e)}}function yse(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}nu(t,e)}}function vse(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var y=t[e[g]],v=y[r][1]||0,x=y[r-1][1]||0;p+=v-x}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,nu(t,e)}}function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}var xse=["type","size","sizeType"];function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bse(t,e,n){return e=wse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wse(t){var e=_se(t,"string");return dh(e)=="symbol"?e:e+""}function _se(t,e){if(dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sse(t,e){if(t==null)return{};var n=Ese(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ese(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nF={symbolCircle:MT,symbolCross:Wae,symbolDiamond:Gae,symbolSquare:Kae,symbolStar:Jae,symbolTriangle:Zae,symbolWye:tse},kse=Math.PI/180,Tse=function(e){var n="symbol".concat(sx(e));return nF[n]||MT},Pse=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*kse;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ase=function(e,n){nF["symbol".concat(sx(e))]=n},DT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=Sse(e,xse),c=KO(KO({},l),{},{type:r,size:a,sizeType:o}),u=function(){var v=Tse(r),x=nse().type(v).size(Pse(a,o,r));return x()},d=c.className,h=c.cx,p=c.cy,g=He(c,!0);return h===+h&&p===+p&&a===+a?z.createElement("path",w_({},g,{className:nt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};DT.registerSymbol=Ase;function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function __(){return __=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},__.apply(this,arguments)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ise(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ose(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iF(r.key),r)}}function Cse(t,e,n){return e&&Ose(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jse(t,e,n){return e=P0(e),Rse(t,rF()?Reflect.construct(e,n||[],P0(t).constructor):e.apply(t,n))}function Rse(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mse(t)}function Mse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rF=function(){return!!t})()}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P0(t)}function Dse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function fh(t,e,n){return e=iF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iF(t){var e=$se(t,"string");return ru(e)=="symbol"?e:e+""}function $se(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ur=32,$T=function(t){function e(){return Ise(this,e),jse(this,e,arguments)}return Dse(e,t),Cse(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Ur/2,s=Ur/6,o=Ur/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Ur,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ur,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ur/8,"h").concat(Ur,"v").concat(Ur*3/4,"h").concat(-Ur,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var c=Nse({},r);return delete c.legendIcon,z.cloneElement(r.legendIcon,c)}return z.createElement(DT,{fill:l,cx:a,cy:a,size:Ur,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Ur,height:Ur},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var y=p.formatter||l,v=nt(fh(fh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Be(p.value)?null:p.value;$a(!Be(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return z.createElement("li",__({className:v,style:d,key:"legend-item-".concat(g)},w0(r.props,p,g)),z.createElement(h_,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(x,p,g):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(R.PureComponent);fh($T,"displayName","Legend");fh($T,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Lse=Gv;function Fse(){this.__data__=new Lse,this.size=0}var Vse=Fse;function Use(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Bse=Use;function zse(t){return this.__data__.get(t)}var qse=zse;function Wse(t){return this.__data__.has(t)}var Hse=Wse,Gse=Gv,Kse=ET,Yse=kT,Qse=200;function Xse(t,e){var n=this.__data__;if(n instanceof Gse){var r=n.__data__;if(!Kse||r.length<Qse-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yse(r)}return n.set(t,e),this.size=n.size,this}var Jse=Xse,Zse=Gv,eoe=Vse,toe=Bse,noe=qse,roe=Hse,ioe=Jse;function Qu(t){var e=this.__data__=new Zse(t);this.size=e.size}Qu.prototype.clear=eoe;Qu.prototype.delete=toe;Qu.prototype.get=noe;Qu.prototype.has=roe;Qu.prototype.set=ioe;var aF=Qu,aoe="__lodash_hash_undefined__";function soe(t){return this.__data__.set(t,aoe),this}var ooe=soe;function loe(t){return this.__data__.has(t)}var coe=loe,uoe=kT,doe=ooe,foe=coe;function A0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new uoe;++e<n;)this.add(t[e])}A0.prototype.add=A0.prototype.push=doe;A0.prototype.has=foe;var sF=A0;function hoe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var oF=hoe;function poe(t,e){return t.has(e)}var lF=poe,moe=sF,goe=oF,yoe=lF,voe=1,xoe=2;function boe(t,e,n,r,i,a){var s=n&voe,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&xoe?new moe:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var g=t[d],y=e[d];if(r)var v=s?r(y,g,d,e,t,a):r(g,y,d,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!goe(e,function(x,b){if(!yoe(p,b)&&(g===x||i(g,x,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(g===y||i(g,y,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var cF=boe,woe=da,_oe=woe.Uint8Array,Soe=_oe;function Eoe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var koe=Eoe;function Toe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var LT=Toe,QO=wp,XO=Soe,Poe=ST,Aoe=cF,Noe=koe,Ioe=LT,Ooe=1,Coe=2,joe="[object Boolean]",Roe="[object Date]",Moe="[object Error]",Doe="[object Map]",$oe="[object Number]",Loe="[object RegExp]",Foe="[object Set]",Voe="[object String]",Uoe="[object Symbol]",Boe="[object ArrayBuffer]",zoe="[object DataView]",JO=QO?QO.prototype:void 0,Zb=JO?JO.valueOf:void 0;function qoe(t,e,n,r,i,a,s){switch(n){case zoe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Boe:return!(t.byteLength!=e.byteLength||!a(new XO(t),new XO(e)));case joe:case Roe:case $oe:return Poe(+t,+e);case Moe:return t.name==e.name&&t.message==e.message;case Loe:case Voe:return t==e+"";case Doe:var o=Noe;case Foe:var l=r&Ooe;if(o||(o=Ioe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Coe,s.set(t,e);var u=Aoe(o(t),o(e),r,i,a,s);return s.delete(t),u;case Uoe:if(Zb)return Zb.call(t)==Zb.call(e)}return!1}var Woe=qoe;function Hoe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var uF=Hoe,Goe=uF,Koe=yr;function Yoe(t,e,n){var r=e(t);return Koe(t)?r:Goe(r,n(t))}var Qoe=Yoe;function Xoe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var Joe=Xoe;function Zoe(){return[]}var ele=Zoe,tle=Joe,nle=ele,rle=Object.prototype,ile=rle.propertyIsEnumerable,ZO=Object.getOwnPropertySymbols,ale=ZO?function(t){return t==null?[]:(t=Object(t),tle(ZO(t),function(e){return ile.call(t,e)}))}:nle,sle=ale;function ole(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var lle=ole,cle=ts,ule=ns,dle="[object Arguments]";function fle(t){return ule(t)&&cle(t)==dle}var hle=fle,eC=hle,ple=ns,dF=Object.prototype,mle=dF.hasOwnProperty,gle=dF.propertyIsEnumerable,yle=eC(function(){return arguments}())?eC:function(t){return ple(t)&&mle.call(t,"callee")&&!gle.call(t,"callee")},FT=yle,N0={exports:{}};function vle(){return!1}var xle=vle;N0.exports;(function(t,e){var n=da,r=xle,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(N0,N0.exports);var fF=N0.exports,ble=9007199254740991,wle=/^(?:0|[1-9]\d*)$/;function _le(t,e){var n=typeof t;return e=e??ble,!!e&&(n=="number"||n!="symbol"&&wle.test(t))&&t>-1&&t%1==0&&t<e}var VT=_le,Sle=9007199254740991;function Ele(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Sle}var UT=Ele,kle=ts,Tle=UT,Ple=ns,Ale="[object Arguments]",Nle="[object Array]",Ile="[object Boolean]",Ole="[object Date]",Cle="[object Error]",jle="[object Function]",Rle="[object Map]",Mle="[object Number]",Dle="[object Object]",$le="[object RegExp]",Lle="[object Set]",Fle="[object String]",Vle="[object WeakMap]",Ule="[object ArrayBuffer]",Ble="[object DataView]",zle="[object Float32Array]",qle="[object Float64Array]",Wle="[object Int8Array]",Hle="[object Int16Array]",Gle="[object Int32Array]",Kle="[object Uint8Array]",Yle="[object Uint8ClampedArray]",Qle="[object Uint16Array]",Xle="[object Uint32Array]",St={};St[zle]=St[qle]=St[Wle]=St[Hle]=St[Gle]=St[Kle]=St[Yle]=St[Qle]=St[Xle]=!0;St[Ale]=St[Nle]=St[Ule]=St[Ile]=St[Ble]=St[Ole]=St[Cle]=St[jle]=St[Rle]=St[Mle]=St[Dle]=St[$le]=St[Lle]=St[Fle]=St[Vle]=!1;function Jle(t){return Ple(t)&&Tle(t.length)&&!!St[kle(t)]}var Zle=Jle;function ece(t){return function(e){return t(e)}}var hF=ece,I0={exports:{}};I0.exports;(function(t,e){var n=w6,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(I0,I0.exports);var tce=I0.exports,nce=Zle,rce=hF,tC=tce,nC=tC&&tC.isTypedArray,ice=nC?rce(nC):nce,pF=ice,ace=lle,sce=FT,oce=yr,lce=fF,cce=VT,uce=pF,dce=Object.prototype,fce=dce.hasOwnProperty;function hce(t,e){var n=oce(t),r=!n&&sce(t),i=!n&&!r&&lce(t),a=!n&&!r&&!i&&uce(t),s=n||r||i||a,o=s?ace(t.length,String):[],l=o.length;for(var c in t)(e||fce.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||cce(c,l)))&&o.push(c);return o}var pce=hce,mce=Object.prototype;function gce(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||mce;return t===n}var yce=gce;function vce(t,e){return function(n){return t(e(n))}}var mF=vce,xce=mF,bce=xce(Object.keys,Object),wce=bce,_ce=yce,Sce=wce,Ece=Object.prototype,kce=Ece.hasOwnProperty;function Tce(t){if(!_ce(t))return Sce(t);var e=[];for(var n in Object(t))kce.call(t,n)&&n!="constructor"&&e.push(n);return e}var Pce=Tce,Ace=_T,Nce=UT;function Ice(t){return t!=null&&Nce(t.length)&&!Ace(t)}var Sp=Ice,Oce=pce,Cce=Pce,jce=Sp;function Rce(t){return jce(t)?Oce(t):Cce(t)}var ux=Rce,Mce=Qoe,Dce=sle,$ce=ux;function Lce(t){return Mce(t,$ce,Dce)}var Fce=Lce,rC=Fce,Vce=1,Uce=Object.prototype,Bce=Uce.hasOwnProperty;function zce(t,e,n,r,i,a){var s=n&Vce,o=rC(t),l=o.length,c=rC(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in e:Bce.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);for(var v=s;++d<l;){h=o[d];var x=t[h],b=e[h];if(r)var w=s?r(b,x,h,e,t,a):r(x,b,h,t,e,a);if(!(w===void 0?x===b||i(x,b,n,r,a):w)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(y=!1)}return a.delete(t),a.delete(e),y}var qce=zce,Wce=jl,Hce=da,Gce=Wce(Hce,"DataView"),Kce=Gce,Yce=jl,Qce=da,Xce=Yce(Qce,"Promise"),Jce=Xce,Zce=jl,eue=da,tue=Zce(eue,"Set"),gF=tue,nue=jl,rue=da,iue=nue(rue,"WeakMap"),aue=iue,E_=Kce,k_=ET,T_=Jce,P_=gF,A_=aue,yF=ts,Xu=S6,iC="[object Map]",sue="[object Object]",aC="[object Promise]",sC="[object Set]",oC="[object WeakMap]",lC="[object DataView]",oue=Xu(E_),lue=Xu(k_),cue=Xu(T_),uue=Xu(P_),due=Xu(A_),$o=yF;(E_&&$o(new E_(new ArrayBuffer(1)))!=lC||k_&&$o(new k_)!=iC||T_&&$o(T_.resolve())!=aC||P_&&$o(new P_)!=sC||A_&&$o(new A_)!=oC)&&($o=function(t){var e=yF(t),n=e==sue?t.constructor:void 0,r=n?Xu(n):"";if(r)switch(r){case oue:return lC;case lue:return iC;case cue:return aC;case uue:return sC;case due:return oC}return e});var fue=$o,ew=aF,hue=cF,pue=Woe,mue=qce,cC=fue,uC=yr,dC=fF,gue=pF,yue=1,fC="[object Arguments]",hC="[object Array]",bm="[object Object]",vue=Object.prototype,pC=vue.hasOwnProperty;function xue(t,e,n,r,i,a){var s=uC(t),o=uC(e),l=s?hC:cC(t),c=o?hC:cC(e);l=l==fC?bm:l,c=c==fC?bm:c;var u=l==bm,d=c==bm,h=l==c;if(h&&dC(t)){if(!dC(e))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new ew),s||gue(t)?hue(t,e,n,r,i,a):pue(t,e,l,n,r,i,a);if(!(n&yue)){var p=u&&pC.call(t,"__wrapped__"),g=d&&pC.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,v=g?e.value():e;return a||(a=new ew),i(y,v,n,r,a)}}return h?(a||(a=new ew),mue(t,e,n,r,i,a)):!1}var bue=xue,wue=bue,mC=ns;function vF(t,e,n,r,i){return t===e?!0:t==null||e==null||!mC(t)&&!mC(e)?t!==t&&e!==e:wue(t,e,n,r,vF,i)}var BT=vF,_ue=aF,Sue=BT,Eue=1,kue=2;function Tue(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new _ue;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?Sue(u,c,Eue|kue,r,d):h))return!1}}return!0}var Pue=Tue,Aue=bo;function Nue(t){return t===t&&!Aue(t)}var xF=Nue,Iue=xF,Oue=ux;function Cue(t){for(var e=Oue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Iue(i)]}return e}var jue=Cue;function Rue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var bF=Rue,Mue=Pue,Due=jue,$ue=bF;function Lue(t){var e=Due(t);return e.length==1&&e[0][2]?$ue(e[0][0],e[0][1]):function(n){return n===t||Mue(n,t,e)}}var Fue=Lue;function Vue(t,e){return t!=null&&e in Object(t)}var Uue=Vue,Bue=A6,zue=FT,que=yr,Wue=VT,Hue=UT,Gue=Yv;function Kue(t,e,n){e=Bue(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=Gue(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Hue(i)&&Wue(s,i)&&(que(t)||zue(t)))}var Yue=Kue,Que=Uue,Xue=Yue;function Jue(t,e){return t!=null&&Xue(t,e,Que)}var Zue=Jue,ede=BT,tde=N6,nde=Zue,rde=wT,ide=xF,ade=bF,sde=Yv,ode=1,lde=2;function cde(t,e){return rde(t)&&ide(e)?ade(sde(t),e):function(n){var r=tde(n,t);return r===void 0&&r===e?nde(n,t):ede(e,r,ode|lde)}}var ude=cde;function dde(t){return t}var Ju=dde;function fde(t){return function(e){return e==null?void 0:e[t]}}var hde=fde,pde=AT;function mde(t){return function(e){return pde(e,t)}}var gde=mde,yde=hde,vde=gde,xde=wT,bde=Yv;function wde(t){return xde(t)?yde(bde(t)):vde(t)}var _de=wde,Sde=Fue,Ede=ude,kde=Ju,Tde=yr,Pde=_de;function Ade(t){return typeof t=="function"?t:t==null?kde:typeof t=="object"?Tde(t)?Ede(t[0],t[1]):Sde(t):Pde(t)}var wo=Ade;function Nde(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var wF=Nde;function Ide(t){return t!==t}var Ode=Ide;function Cde(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var jde=Cde,Rde=wF,Mde=Ode,Dde=jde;function $de(t,e,n){return e===e?Dde(t,e,n):Rde(t,Mde,n)}var Lde=$de,Fde=Lde;function Vde(t,e){var n=t==null?0:t.length;return!!n&&Fde(t,e,0)>-1}var Ude=Vde;function Bde(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var zde=Bde;function qde(){}var Wde=qde,tw=gF,Hde=Wde,Gde=LT,Kde=1/0,Yde=tw&&1/Gde(new tw([,-0]))[1]==Kde?function(t){return new tw(t)}:Hde,Qde=Yde,Xde=sF,Jde=Ude,Zde=zde,efe=lF,tfe=Qde,nfe=LT,rfe=200;function ife(t,e,n){var r=-1,i=Jde,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=Zde;else if(a>=rfe){var c=e?null:tfe(t);if(c)return nfe(c);s=!1,i=efe,l=new Xde}else l=e?[]:o;e:for(;++r<a;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}var afe=ife,sfe=wo,ofe=afe;function lfe(t,e){return t&&t.length?ofe(t,sfe(e)):[]}var cfe=lfe;const gC=gt(cfe);function _F(t,e,n){return e===!0?gC(t,n):Be(e)?gC(t,e):t}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}var ufe=["ref"];function yC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(n),!0).forEach(function(r){dx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EF(r.key),r)}}function ffe(t,e,n){return e&&vC(t.prototype,e),n&&vC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hfe(t,e,n){return e=O0(e),pfe(t,SF()?Reflect.construct(e,n||[],O0(t).constructor):e.apply(t,n))}function pfe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mfe(t)}function mfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O0(t)}function gfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function dx(t,e,n){return e=EF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EF(t){var e=yfe(t,"string");return iu(e)=="symbol"?e:e+""}function yfe(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vfe(t,e){if(t==null)return{};var n=xfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bfe(t){return t.value}function wfe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=vfe(e,ufe);return z.createElement($T,n)}var xC=1,Rc=function(t){function e(){var n;dfe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hfe(this,e,[].concat(i)),dx(n,"lastBoundingBox",{width:-1,height:-1}),n}return gfe(e,t),ffe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>xC||Math.abs(i.height-this.lastBoundingBox.height)>xC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ya({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ya(ya({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=ya(ya({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},wfe(a,ya(ya({},this.props),{},{payload:_F(u,c,bfe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ya(ya({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&pe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);dx(Rc,"displayName","Legend");dx(Rc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bC=wp,_fe=FT,Sfe=yr,wC=bC?bC.isConcatSpreadable:void 0;function Efe(t){return Sfe(t)||_fe(t)||!!(wC&&t&&t[wC])}var kfe=Efe,Tfe=uF,Pfe=kfe;function kF(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=Pfe),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?kF(o,e-1,n,r,i):Tfe(i,o):r||(i[i.length]=o)}return i}var TF=kF;function Afe(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var Nfe=Afe,Ife=Nfe,Ofe=Ife(),Cfe=Ofe,jfe=Cfe,Rfe=ux;function Mfe(t,e){return t&&jfe(t,e,Rfe)}var PF=Mfe,Dfe=Sp;function $fe(t,e){return function(n,r){if(n==null)return n;if(!Dfe(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var Lfe=$fe,Ffe=PF,Vfe=Lfe,Ufe=Vfe(Ffe),zT=Ufe,Bfe=zT,zfe=Sp;function qfe(t,e){var n=-1,r=zfe(t)?Array(t.length):[];return Bfe(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var AF=qfe;function Wfe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Hfe=Wfe,_C=qu;function Gfe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=_C(t),s=e!==void 0,o=e===null,l=e===e,c=_C(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var Kfe=Gfe,Yfe=Kfe;function Qfe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=Yfe(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Xfe=Qfe,nw=PT,Jfe=AT,Zfe=wo,ehe=AF,the=Hfe,nhe=hF,rhe=Xfe,ihe=Ju,ahe=yr;function she(t,e,n){e.length?e=nw(e,function(a){return ahe(a)?function(s){return Jfe(s,a.length===1?a[0]:a)}:a}):e=[ihe];var r=-1;e=nw(e,nhe(Zfe));var i=ehe(t,function(a,s,o){var l=nw(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return the(i,function(a,s){return rhe(a,s,n)})}var ohe=she;function lhe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var che=lhe,uhe=che,SC=Math.max;function dhe(t,e,n){return e=SC(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=SC(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),uhe(t,this,o)}}var fhe=dhe;function hhe(t){return function(){return t}}var phe=hhe,mhe=jl,ghe=function(){try{var t=mhe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),NF=ghe,yhe=phe,EC=NF,vhe=Ju,xhe=EC?function(t,e){return EC(t,"toString",{configurable:!0,enumerable:!1,value:yhe(e),writable:!0})}:vhe,bhe=xhe,whe=800,_he=16,She=Date.now;function Ehe(t){var e=0,n=0;return function(){var r=She(),i=_he-(r-n);if(n=r,i>0){if(++e>=whe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var khe=Ehe,The=bhe,Phe=khe,Ahe=Phe(The),Nhe=Ahe,Ihe=Ju,Ohe=fhe,Che=Nhe;function jhe(t,e){return Che(Ohe(t,e,Ihe),t+"")}var Rhe=jhe,Mhe=ST,Dhe=Sp,$he=VT,Lhe=bo;function Fhe(t,e,n){if(!Lhe(n))return!1;var r=typeof e;return(r=="number"?Dhe(n)&&$he(e,n.length):r=="string"&&e in n)?Mhe(n[e],t):!1}var fx=Fhe,Vhe=TF,Uhe=ohe,Bhe=Rhe,kC=fx,zhe=Bhe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&kC(t,e[0],e[1])?e=[]:n>2&&kC(e[0],e[1],e[2])&&(e=[e[0]]),Uhe(t,Vhe(e,1),[])}),qhe=zhe;const qT=gt(qhe);function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function Whe(t,e){return Yhe(t)||Khe(t,e)||Ghe(t,e)||Hhe()}function Hhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ghe(t,e){if(t){if(typeof t=="string")return TC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TC(t,e)}}function TC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Khe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Yhe(t){if(Array.isArray(t))return t}function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(r){Qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qhe(t,e,n){return e=Xhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Jhe(t,"string");return hh(e)=="symbol"?e:e+""}function Jhe(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zhe(t){return Array.isArray(t)&&on(t[0])&&on(t[1])?t.join(" ~ "):t}var epe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,v=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,w=function(){if(u&&u.length){var j={padding:0,margin:0},O=(h?qT(u,h):u).map(function(M,D){if(M.type==="none")return null;var L=rw({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},o),q=M.formatter||d||Zhe,F=M.value,V=M.name,G=F,Y=V;if(q&&G!=null&&Y!=null){var B=q(F,V,M,D,u);if(Array.isArray(B)){var ae=Whe(B,2);G=ae[0],Y=ae[1]}else G=B}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:L},on(Y)?z.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,on(Y)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},G),z.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},S=rw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=rw({margin:0},c),P=!Je(y),_=P?y:"",k=nt("recharts-default-tooltip",p),A=nt("recharts-tooltip-label",g);P&&v&&u!==void 0&&u!==null&&(_=v(y,u));var I=b?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",I_({className:k,style:S},I),z.createElement("p",{className:A,style:E},z.isValidElement(_)?_:"".concat(_)),w())};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function wm(t,e,n){return e=tpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tpe(t){var e=npe(t,"string");return ph(e)=="symbol"?e:e+""}function npe(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ad="recharts-tooltip-wrapper",rpe={visibility:"hidden"};function ipe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return nt(Ad,wm(wm(wm(wm({},"".concat(Ad,"-right"),pe(n)&&e&&pe(e.x)&&n>=e.x),"".concat(Ad,"-left"),pe(n)&&e&&pe(e.x)&&n<e.x),"".concat(Ad,"-bottom"),pe(r)&&e&&pe(e.y)&&r>=e.y),"".concat(Ad,"-top"),pe(r)&&e&&pe(e.y)&&r<e.y))}function AC(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&pe(a[r]))return a[r];var u=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?u:d;if(s[r]){var h=u,p=l[r];return h<p?Math.max(d,l[r]):Math.max(u,l[r])}var g=d+o,y=l[r]+c;return g>y?Math.max(u,l[r]):Math.max(d,l[r])}function ape(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function spe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return s.height>0&&s.width>0&&n?(u=AC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=AC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=ape({translateX:u,translateY:d,useTranslate3d:o})):c=rpe,{cssProperties:c,cssClasses:ipe({translateX:u,translateY:d,coordinate:n})}}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function NC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(n),!0).forEach(function(r){C_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ope(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OF(r.key),r)}}function cpe(t,e,n){return e&&lpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function upe(t,e,n){return e=C0(e),dpe(t,IF()?Reflect.construct(e,n||[],C0(t).constructor):e.apply(t,n))}function dpe(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fpe(t)}function fpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(t)}function hpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function C_(t,e,n){return e=OF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OF(t){var e=ppe(t,"string");return au(e)=="symbol"?e:e+""}function ppe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OC=1,mpe=function(t){function e(){var n;ope(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=upe(this,e,[].concat(i)),C_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),C_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return hpe(e,t),cpe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>OC||Math.abs(r.height-this.state.lastBoundingBox.height)>OC)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,y=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,w=spe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),S=w.cssClasses,E=w.cssProperties,P=IC(IC({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return z.createElement("div",{tabIndex:-1,className:S,style:P,ref:function(k){r.wrapperNode=k}},c)}}])}(R.PureComponent),gpe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Zu={isSsr:gpe()};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){WT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ype(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jF(r.key),r)}}function xpe(t,e,n){return e&&vpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bpe(t,e,n){return e=j0(e),wpe(t,CF()?Reflect.construct(e,n||[],j0(t).constructor):e.apply(t,n))}function wpe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pe(t)}function _pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CF=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}function Spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function WT(t,e,n){return e=jF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jF(t){var e=Epe(t,"string");return su(e)=="symbol"?e:e+""}function Epe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kpe(t){return t.dataKey}function Tpe(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(epe,e)}var Fi=function(t){function e(){return ype(this,e),bpe(this,e,arguments)}return Spe(e,t),xpe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,y=i.payloadUniqBy,v=i.position,x=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,E=g??[];d&&E.length&&(E=_F(g.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),y,kpe));var P=E.length>0;return z.createElement(mpe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:P,offset:p,position:v,reverseDirection:x,useTranslate3d:b,viewBox:w,wrapperStyle:S},Tpe(c,jC(jC({},this.props),{},{payload:E})))}}])}(R.PureComponent);WT(Fi,"displayName","Tooltip");WT(Fi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ppe=da,Ape=function(){return Ppe.Date.now()},Npe=Ape,Ipe=/\s/;function Ope(t){for(var e=t.length;e--&&Ipe.test(t.charAt(e)););return e}var Cpe=Ope,jpe=Cpe,Rpe=/^\s+/;function Mpe(t){return t&&t.slice(0,jpe(t)+1).replace(Rpe,"")}var Dpe=Mpe,$pe=Dpe,RC=bo,Lpe=qu,MC=NaN,Fpe=/^[-+]0x[0-9a-f]+$/i,Vpe=/^0b[01]+$/i,Upe=/^0o[0-7]+$/i,Bpe=parseInt;function zpe(t){if(typeof t=="number")return t;if(Lpe(t))return MC;if(RC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=RC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=$pe(t);var n=Vpe.test(t);return n||Upe.test(t)?Bpe(t.slice(2),n?2:8):Fpe.test(t)?MC:+t}var RF=zpe,qpe=bo,iw=Npe,DC=RF,Wpe="Expected a function",Hpe=Math.max,Gpe=Math.min;function Kpe(t,e,n){var r,i,a,s,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Wpe);e=DC(e)||0,qpe(n)&&(u=!!n.leading,d="maxWait"in n,a=d?Hpe(DC(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(P){var _=r,k=i;return r=i=void 0,c=P,s=t.apply(k,_),s}function g(P){return c=P,o=setTimeout(x,e),u?p(P):s}function y(P){var _=P-l,k=P-c,A=e-_;return d?Gpe(A,a-k):A}function v(P){var _=P-l,k=P-c;return l===void 0||_>=e||_<0||d&&k>=a}function x(){var P=iw();if(v(P))return b(P);o=setTimeout(x,y(P))}function b(P){return o=void 0,h&&r?p(P):(r=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function S(){return o===void 0?s:b(iw())}function E(){var P=iw(),_=v(P);if(r=arguments,i=this,l=P,_){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(x,e),p(l)}return o===void 0&&(o=setTimeout(x,e)),s}return E.cancel=w,E.flush=S,E}var Ype=Kpe,Qpe=Ype,Xpe=bo,Jpe="Expected a function";function Zpe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Jpe);return Xpe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Qpe(t,e,{leading:r,maxWait:e,trailing:i})}var eme=Zpe;const MF=gt(eme);function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function $C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(n),!0).forEach(function(r){tme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tme(t,e,n){return e=nme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nme(t){var e=rme(t,"string");return mh(e)=="symbol"?e:e+""}function rme(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ime(t,e){return lme(t)||ome(t,e)||sme(t,e)||ame()}function ame(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sme(t,e){if(t){if(typeof t=="string")return LC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LC(t,e)}}function LC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ome(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function lme(t){if(Array.isArray(t))return t}var cme=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,v=t.id,x=t.className,b=t.onResize,w=t.style,S=w===void 0?{}:w,E=R.useRef(null),P=R.useRef();P.current=b,R.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var _=R.useState({containerWidth:i.width,containerHeight:i.height}),k=ime(_,2),A=k[0],I=k[1],C=R.useCallback(function(O,M){I(function(D){var L=Math.round(O),q=Math.round(M);return D.containerWidth===L&&D.containerHeight===q?D:{containerWidth:L,containerHeight:q}})},[]);R.useEffect(function(){var O=function(V){var G,Y=V[0].contentRect,B=Y.width,ae=Y.height;C(B,ae),(G=P.current)===null||G===void 0||G.call(P,B,ae)};y>0&&(O=MF(O,y,{trailing:!0,leading:!1}));var M=new ResizeObserver(O),D=E.current.getBoundingClientRect(),L=D.width,q=D.height;return C(L,q),M.observe(E.current),function(){M.disconnect()}},[C,y]);var j=R.useMemo(function(){var O=A.containerWidth,M=A.containerHeight;if(O<0||M<0)return null;$a(Ho(s)||Ho(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),$a(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=Ho(s)?O:s,L=Ho(l)?M:l;n&&n>0&&(D?L=D/n:L&&(D=L*n),h&&L>h&&(L=h)),$a(D>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,L,s,l,u,d,n);var q=!Array.isArray(p)&&Da(p.type).endsWith("Chart");return z.Children.map(p,function(F){return z.isValidElement(F)?R.cloneElement(F,_m({width:D,height:L},q?{style:_m({height:"100%",width:"100%",maxHeight:L,maxWidth:D},F.props.style)}:{})):F})},[n,p,l,h,d,u,A,s]);return z.createElement("div",{id:v?"".concat(v):void 0,className:nt("recharts-responsive-container",x),style:_m(_m({},S),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:E},j)}),DF=function(e){return null};DF.displayName="Cell";function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ume(t,e,n){return e=dme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dme(t){var e=fme(t,"string");return gh(e)=="symbol"?e:e+""}function fme(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ql={widthCache:{},cacheCount:0},hme=2e3,pme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VC="recharts_measurement_span";function mme(t){var e=R_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Tf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Zu.isSsr)return{width:0,height:0};var r=mme(n),i=JSON.stringify({text:e,copyStyle:r});if(ql.widthCache[i])return ql.widthCache[i];try{var a=document.getElementById(VC);a||(a=document.createElement("span"),a.setAttribute("id",VC),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=R_(R_({},pme),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return ql.widthCache[i]=l,++ql.cacheCount>hme&&(ql.cacheCount=0,ql.widthCache={}),l}catch{return{width:0,height:0}}},gme=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function R0(t,e){return bme(t)||xme(t,e)||vme(t,e)||yme()}function yme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vme(t,e){if(t){if(typeof t=="string")return UC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UC(t,e)}}function UC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function bme(t){if(Array.isArray(t))return t}function wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sme(r.key),r)}}function _me(t,e,n){return e&&BC(t.prototype,e),n&&BC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sme(t){var e=Eme(t,"string");return yh(e)=="symbol"?e:e+""}function Eme(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$F={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Pme=Object.keys($F),pc="NaN";function Ame(t,e){return t*$F[e]}var Sm=function(){function t(e,n){wme(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!kme.test(n)&&(this.num=NaN,this.unit=""),Pme.includes(n)&&(this.num=Ame(e,n),this.unit="px")}return _me(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Tme.exec(n))!==null&&r!==void 0?r:[],a=R0(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function LF(t){if(t.includes(pc))return pc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=zC.exec(e))!==null&&n!==void 0?n:[],i=R0(r,4),a=i[1],s=i[2],o=i[3],l=Sm.parse(a??""),c=Sm.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return pc;e=e.replace(zC,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=qC.exec(e))!==null&&d!==void 0?d:[],p=R0(h,4),g=p[1],y=p[2],v=p[3],x=Sm.parse(g??""),b=Sm.parse(v??""),w=y==="+"?x.add(b):x.subtract(b);if(w.isNaN())return pc;e=e.replace(qC,w.toString())}return e}var WC=/\(([^()]*)\)/;function Nme(t){for(var e=t;e.includes("(");){var n=WC.exec(e),r=R0(n,2),i=r[1];e=e.replace(WC,LF(i))}return e}function Ime(t){var e=t.replace(/\s+/g,"");return e=Nme(e),e=LF(e),e}function Ome(t){try{return Ime(t)}catch{return pc}}function aw(t){var e=Ome(t.slice(5,-1));return e===pc?"":e}var Cme=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jme=["dx","dy","angle","className","breakAll"];function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(this,arguments)}function HC(t,e){if(t==null)return{};var n=Rme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GC(t,e){return Lme(t)||$me(t,e)||Dme(t,e)||Mme()}function Mme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dme(t,e){if(t){if(typeof t=="string")return KC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KC(t,e)}}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $me(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Lme(t){if(Array.isArray(t))return t}var FF=/[ \f\n\r\t\v\u2028\u2029]+/,VF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Je(n)||(r?a=n.toString().split(""):a=n.toString().split(FF));var s=a.map(function(l){return{word:l,width:Tf(l,i).width}}),o=r?0:Tf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Fme=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=pe(s),d=o,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(L,q){var F=q.word,V=q.width,G=L[L.length-1];if(G&&(i==null||a||G.width+V+r<Number(i)))G.words.push(F),G.width+=V+r;else{var Y={words:[F],width:V};L.push(Y)}return L},[])},p=h(n),g=function(D){return D.reduce(function(L,q){return L.width>q.width?L:q})};if(!u)return p;for(var y="",v=function(D){var L=d.slice(0,D),q=VF({breakAll:c,style:l,children:L+y}).wordsWithComputedWidth,F=h(q),V=F.length>s||g(F).width>Number(i);return[V,F]},x=0,b=d.length-1,w=0,S;x<=b&&w<=d.length-1;){var E=Math.floor((x+b)/2),P=E-1,_=v(P),k=GC(_,2),A=k[0],I=k[1],C=v(E),j=GC(C,1),O=j[0];if(!A&&!O&&(x=E+1),A&&O&&(b=E-1),!A&&O){S=I;break}w++}return S||p},YC=function(e){var n=Je(e)?[]:e.toString().split(FF);return[{words:n}]},Vme=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!Zu.isSsr){var l,c,u=VF({breakAll:s,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return YC(i);return Fme({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return YC(i)},QC="#808080",M0=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,v=e.fill,x=v===void 0?QC:v,b=HC(e,Cme),w=R.useMemo(function(){return Vme({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),S=b.dx,E=b.dy,P=b.angle,_=b.className,k=b.breakAll,A=HC(b,jme);if(!on(r)||!on(a))return null;var I=r+(pe(S)?S:0),C=a+(pe(E)?E:0),j;switch(y){case"start":j=aw("calc(".concat(c,")"));break;case"middle":j=aw("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:j=aw("calc(".concat(w.length-1," * -").concat(o,")"));break}var O=[];if(d){var M=w[0].width,D=b.width;O.push("scale(".concat((pe(D)?D/M:1)/M,")"))}return P&&O.push("rotate(".concat(P,", ").concat(I,", ").concat(C,")")),O.length&&(A.transform=O.join(" ")),z.createElement("text",M_({},He(A,!0),{x:I,y:C,className:nt("recharts-text",_),textAnchor:p,fill:x.includes("url")?QC:x}),w.map(function(L,q){var F=L.words.join(k?"":" ");return z.createElement("tspan",{x:I,dy:q===0?j:o,key:"".concat(F,"-").concat(q)},F)}))};function Js(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ume(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HT(t){let e,n,r;t.length!==2?(e=Js,n=(o,l)=>Js(t(o),l),r=(o,l)=>t(o)-l):(e=t===Js||t===Ume?t:Bme,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function Bme(){return 0}function UF(t){return t===null?NaN:+t}function*zme(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const qme=HT(Js),Ep=qme.right;HT(UF).center;let sw=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}};class XC extends Map{constructor(e,n=Gme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(JC(this,e))}has(e){return super.has(JC(this,e))}set(e,n){return super.set(Wme(this,e),n)}delete(e){return super.delete(Hme(this,e))}}function JC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Wme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Hme({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Gme(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Kme(t=Js){if(t===Js)return BF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function BF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Yme=Math.sqrt(50),Qme=Math.sqrt(10),Xme=Math.sqrt(2);function D0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Yme?10:a>=Qme?5:a>=Xme?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?D0(t,e,n*2):[o,l,c]}function D_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?D0(e,t,n):D0(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function $_(t,e,n){return e=+e,t=+t,n=+n,D0(t,e,n)[2]}function L_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?$_(e,t,n):$_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ZC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ej(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function zF(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?BF:Kme(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+h)),g=Math.min(r,Math.floor(e+(l-c)*d/l+h));zF(t,e,p,g,i)}const a=t[e];let s=n,o=r;for(Nd(t,n,e),i(t[r],a)>0&&Nd(t,n,r);s<o;){for(Nd(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Nd(t,n,o):(++o,Nd(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Nd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Jme(t,e,n){if(t=Float64Array.from(zme(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ej(t);if(e>=1)return ZC(t);var r,i=(r-1)*e,a=Math.floor(i),s=ZC(zF(t,a).subarray(0,a+1)),o=ej(t.subarray(a+1));return s+(o-s)*(i-a)}}function Zme(t,e,n=UF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function ege(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function oi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function rs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const F_=Symbol("implicit");function GT(){var t=new XC,e=[],n=[],r=F_;function i(a){let s=t.get(a);if(s===void 0){if(r!==F_)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new XC;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return GT(e,n).unknown(r)},oi.apply(i,arguments),i}function vh(){var t=GT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<r,g=p?i:r,y=p?r:i;a=(y-g)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=ege(h).map(function(x){return g+a*x});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return vh(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},oi.apply(d(),arguments)}function qF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return qF(e())},t}function Pf(){return qF(vh.apply(null,arguments).paddingInner(1))}function KT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function WF(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function kp(){}var xh=.7,$0=1/xh,Mc="\\s*([+-]?\\d+)\\s*",bh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tge=/^#([0-9a-f]{3,8})$/,nge=new RegExp(`^rgb\\(${Mc},${Mc},${Mc}\\)$`),rge=new RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),ige=new RegExp(`^rgba\\(${Mc},${Mc},${Mc},${bh}\\)$`),age=new RegExp(`^rgba\\(${ea},${ea},${ea},${bh}\\)$`),sge=new RegExp(`^hsl\\(${bh},${ea},${ea}\\)$`),oge=new RegExp(`^hsla\\(${bh},${ea},${ea},${bh}\\)$`),tj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KT(kp,wh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nj,formatHex:nj,formatHex8:lge,formatHsl:cge,formatRgb:rj,toString:rj});function nj(){return this.rgb().formatHex()}function lge(){return this.rgb().formatHex8()}function cge(){return HF(this).formatHsl()}function rj(){return this.rgb().formatRgb()}function wh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tge.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ij(e):n===3?new ur(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Em(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Em(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nge.exec(t))?new ur(e[1],e[2],e[3],1):(e=rge.exec(t))?new ur(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ige.exec(t))?Em(e[1],e[2],e[3],e[4]):(e=age.exec(t))?Em(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sge.exec(t))?oj(e[1],e[2]/100,e[3]/100,1):(e=oge.exec(t))?oj(e[1],e[2]/100,e[3]/100,e[4]):tj.hasOwnProperty(t)?ij(tj[t]):t==="transparent"?new ur(NaN,NaN,NaN,0):null}function ij(t){return new ur(t>>16&255,t>>8&255,t&255,1)}function Em(t,e,n,r){return r<=0&&(t=e=n=NaN),new ur(t,e,n,r)}function uge(t){return t instanceof kp||(t=wh(t)),t?(t=t.rgb(),new ur(t.r,t.g,t.b,t.opacity)):new ur}function V_(t,e,n,r){return arguments.length===1?uge(t):new ur(t,e,n,r??1)}function ur(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}KT(ur,V_,WF(kp,{brighter(t){return t=t==null?$0:Math.pow($0,t),new ur(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xh:Math.pow(xh,t),new ur(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ur(rl(this.r),rl(this.g),rl(this.b),L0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aj,formatHex:aj,formatHex8:dge,formatRgb:sj,toString:sj}));function aj(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}`}function dge(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}${Go((isNaN(this.opacity)?1:this.opacity)*255)}`}function sj(){const t=L0(this.opacity);return`${t===1?"rgb(":"rgba("}${rl(this.r)}, ${rl(this.g)}, ${rl(this.b)}${t===1?")":`, ${t})`}`}function L0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Go(t){return t=rl(t),(t<16?"0":"")+t.toString(16)}function oj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yi(t,e,n,r)}function HF(t){if(t instanceof yi)return new yi(t.h,t.s,t.l,t.opacity);if(t instanceof kp||(t=wh(t)),!t)return new yi;if(t instanceof yi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new yi(s,o,l,t.opacity)}function fge(t,e,n,r){return arguments.length===1?HF(t):new yi(t,e,n,r??1)}function yi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}KT(yi,fge,WF(kp,{brighter(t){return t=t==null?$0:Math.pow($0,t),new yi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xh:Math.pow(xh,t),new yi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ur(ow(t>=240?t-240:t+120,i,r),ow(t,i,r),ow(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new yi(lj(this.h),km(this.s),km(this.l),L0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=L0(this.opacity);return`${t===1?"hsl(":"hsla("}${lj(this.h)}, ${km(this.s)*100}%, ${km(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lj(t){return t=(t||0)%360,t<0?t+360:t}function km(t){return Math.max(0,Math.min(1,t||0))}function ow(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const YT=t=>()=>t;function hge(t,e){return function(n){return t+n*e}}function pge(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mge(t){return(t=+t)==1?GF:function(e,n){return n-e?pge(e,n,t):YT(isNaN(e)?n:e)}}function GF(t,e){var n=e-t;return n?hge(t,n):YT(isNaN(t)?e:t)}const cj=function t(e){var n=mge(e);function r(i,a){var s=n((i=V_(i)).r,(a=V_(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=GF(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function gge(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function yge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vge(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=ed(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function xge(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function F0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bge(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ed(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var U_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lw=new RegExp(U_.source,"g");function wge(t){return function(){return t}}function _ge(t){return function(e){return t(e)+""}}function Sge(t,e){var n=U_.lastIndex=lw.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=U_.exec(t))&&(i=lw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:F0(r,i)})),n=lw.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?_ge(l[0].x):wge(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function ed(t,e){var n=typeof e,r;return e==null||n==="boolean"?YT(e):(n==="number"?F0:n==="string"?(r=wh(e))?(e=r,cj):Sge:e instanceof wh?cj:e instanceof Date?xge:yge(e)?gge:Array.isArray(e)?vge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bge:F0)(t,e)}function QT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ege(t,e){e===void 0&&(e=t,t=ed);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function kge(t){return function(){return t}}function V0(t){return+t}var uj=[0,1];function Kn(t){return t}function B_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:kge(isNaN(e)?NaN:.5)}function Tge(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Pge(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=B_(i,r),a=n(s,a)):(r=B_(r,i),a=n(a,s)),function(o){return a(r(o))}}function Age(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=B_(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=Ep(t,o,1,r)-1;return a[l](i[l](o))}}function Tp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hx(){var t=uj,e=uj,n=ed,r,i,a,s=Kn,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==Kn&&(s=Tge(t[0],t[h-1])),o=h>2?Age:Pge,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((c||(c=o(e,t.map(r),F0)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,V0),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=QT,u()},d.clamp=function(h){return arguments.length?(s=h?!0:Kn,u()):s!==Kn},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function XT(){return hx()(Kn,Kn)}function Nge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function U0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ou(t){return t=U0(Math.abs(t)),t?t[1]:NaN}function Ige(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Oge(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Cge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _h(t){if(!(e=Cge.exec(t)))throw new Error("invalid format: "+t);var e;return new JT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_h.prototype=JT.prototype;function JT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jge(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var B0;function Rge(t,e){var n=U0(t,e);if(!n)return B0=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(B0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+U0(t,Math.max(0,e+a-1))[0]}function dj(t,e){var n=U0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fj={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dj(t*100,e),r:dj,s:Rge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hj(t){return t}var pj=Array.prototype.map,mj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mge(t){var e=t.grouping===void 0||t.thousands===void 0?hj:Ige(pj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?hj:Oge(pj.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,h){d=_h(d);var p=d.fill,g=d.align,y=d.sign,v=d.symbol,x=d.zero,b=d.width,w=d.comma,S=d.precision,E=d.trim,P=d.type;P==="n"?(w=!0,P="g"):fj[P]||(S===void 0&&(S=12),E=!0,P="g"),(x||p==="0"&&g==="=")&&(x=!0,p="0",g="=");var _=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),k=(v==="$"?r:/[%p]/.test(P)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),A=fj[P],I=/[defgprs%]/.test(P);S=S===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function C(j){var O=_,M=k,D,L,q;if(P==="c")M=A(j)+M,j="";else{j=+j;var F=j<0||1/j<0;if(j=isNaN(j)?l:A(Math.abs(j),S),E&&(j=jge(j)),F&&+j==0&&y!=="+"&&(F=!1),O=(F?y==="("?y:o:y==="-"||y==="("?"":y)+O,M=(P==="s"&&!isNaN(j)&&B0!==void 0?mj[8+B0/3]:"")+M+(F&&y==="("?")":""),I){for(D=-1,L=j.length;++D<L;)if(q=j.charCodeAt(D),48>q||q>57){M=(q===46?i+j.slice(D+1):j.slice(D))+M,j=j.slice(0,D);break}}}w&&!x&&(j=e(j,1/0));var V=O.length+j.length+M.length,G=V<b?new Array(b-V+1).join(p):"";switch(w&&x&&(j=e(G+j,G.length?b-M.length:1/0),G=""),g){case"<":j=O+j+M+G;break;case"=":j=O+G+j+M;break;case"^":j=G.slice(0,V=G.length>>1)+O+j+M+G.slice(V);break;default:j=G+O+j+M;break}return a(j)}return C.toString=function(){return d+""},C}function u(d,h){var p=Math.max(-8,Math.min(8,Math.floor(ou(h)/3)))*3,g=Math.pow(10,-p),y=c((d=_h(d),d.type="f",d),{suffix:mj[8+p/3]});return function(v){return y(g*v)}}return{format:c,formatPrefix:u}}var Tm,ZT,KF;Dge({thousands:",",grouping:[3],currency:["$",""]});function Dge(t){return Tm=Mge(t),ZT=Tm.format,KF=Tm.formatPrefix,Tm}function $ge(t){return Math.max(0,-ou(Math.abs(t)))}function Lge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ou(e)/3)))*3-ou(Math.abs(t)))}function Fge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ou(e)-ou(t))+1}function YF(t,e,n,r){var i=L_(t,e,n),a;switch(r=_h(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Lge(i,s))&&(r.precision=a),KF(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Fge(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=$ge(i))&&(r.precision=a-(r.type==="%")*2);break}}return ZT(r)}function _o(t){var e=t.domain;return t.ticks=function(n){var r=e();return D_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return YF(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=$_(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Sh(){var t=XT();return t.copy=function(){return Tp(t,Sh())},oi.apply(t,arguments),_o(t)}function QF(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,V0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return QF(t).unknown(e)},t=arguments.length?Array.from(t,V0):[0,1],_o(n)}function XF(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function gj(t){return Math.log(t)}function yj(t){return Math.exp(t)}function Vge(t){return-Math.log(-t)}function Uge(t){return-Math.exp(-t)}function Bge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zge(t){return t===10?Bge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vj(t){return(e,n)=>-t(-e,n)}function eP(t){const e=t(gj,yj),n=e.domain;let r=10,i,a;function s(){return i=qge(r),a=zge(r),n()[0]<0?(i=vj(i),a=vj(a),t(Vge,Uge)):t(gj,yj),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),g,y;const v=o==null?10:+o;let x=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<r;++g)if(y=h<0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;x.push(y)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<c)){if(y>u)break;x.push(y)}x.length*2<v&&(x=D_(c,u,v))}else x=D_(h,p,Math.min(p-h,v)).map(a);return d?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=_h(l)).precision==null&&(l.trim=!0),l=ZT(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(XF(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function JF(){const t=eP(hx()).domain([1,10]);return t.copy=()=>Tp(t,JF()).base(t.base()),oi.apply(t,arguments),t}function xj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tP(t){var e=1,n=t(xj(e),bj(e));return n.constant=function(r){return arguments.length?t(xj(e=+r),bj(e)):e},_o(n)}function ZF(){var t=tP(hx());return t.copy=function(){return Tp(t,ZF()).constant(t.constant())},oi.apply(t,arguments)}function wj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Wge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Hge(t){return t<0?-t*t:t*t}function nP(t){var e=t(Kn,Kn),n=1;function r(){return n===1?t(Kn,Kn):n===.5?t(Wge,Hge):t(wj(n),wj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},_o(e)}function rP(){var t=nP(hx());return t.copy=function(){return Tp(t,rP()).exponent(t.exponent())},oi.apply(t,arguments),t}function Gge(){return rP.apply(null,arguments).exponent(.5)}function _j(t){return Math.sign(t)*t*t}function Kge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function eV(){var t=XT(),e=[0,1],n=!1,r;function i(a){var s=Kge(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(_j(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,V0)).map(_j)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},oi.apply(i,arguments),_o(i)}function tV(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=Zme(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Ep(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Js),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return tV().domain(t).range(e).unknown(r)},oi.apply(a,arguments)}function nV(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Ep(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return nV().domain([t,e]).range(i).unknown(a)},oi.apply(_o(s),arguments)}function rV(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ep(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return rV().domain(t).range(e).unknown(n)},oi.apply(i,arguments)}const cw=new Date,uw=new Date;function cn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>cn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(cw.setTime(+a),uw.setTime(+s),t(cw),t(uw),Math.floor(n(cw,uw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const z0=cn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);z0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?cn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):z0);z0.range;const Na=1e3,Yr=Na*60,Ia=Yr*60,Ka=Ia*24,iP=Ka*7,Sj=Ka*30,dw=Ka*365,Ko=cn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Na)},(t,e)=>(e-t)/Na,t=>t.getUTCSeconds());Ko.range;const aP=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Na)},(t,e)=>{t.setTime(+t+e*Yr)},(t,e)=>(e-t)/Yr,t=>t.getMinutes());aP.range;const sP=cn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Yr)},(t,e)=>(e-t)/Yr,t=>t.getUTCMinutes());sP.range;const oP=cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Na-t.getMinutes()*Yr)},(t,e)=>{t.setTime(+t+e*Ia)},(t,e)=>(e-t)/Ia,t=>t.getHours());oP.range;const lP=cn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ia)},(t,e)=>(e-t)/Ia,t=>t.getUTCHours());lP.range;const Pp=cn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yr)/Ka,t=>t.getDate()-1);Pp.range;const px=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ka,t=>t.getUTCDate()-1);px.range;const iV=cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ka,t=>Math.floor(t/Ka));iV.range;function Rl(t){return cn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Yr)/iP)}const mx=Rl(0),q0=Rl(1),Yge=Rl(2),Qge=Rl(3),lu=Rl(4),Xge=Rl(5),Jge=Rl(6);mx.range;q0.range;Yge.range;Qge.range;lu.range;Xge.range;Jge.range;function Ml(t){return cn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/iP)}const gx=Ml(0),W0=Ml(1),Zge=Ml(2),e0e=Ml(3),cu=Ml(4),t0e=Ml(5),n0e=Ml(6);gx.range;W0.range;Zge.range;e0e.range;cu.range;t0e.range;n0e.range;const cP=cn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());cP.range;const uP=cn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());uP.range;const Ya=cn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ya.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ya.range;const Qa=cn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:cn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qa.range;function aV(t,e,n,r,i,a){const s=[[Ko,1,Na],[Ko,5,5*Na],[Ko,15,15*Na],[Ko,30,30*Na],[a,1,Yr],[a,5,5*Yr],[a,15,15*Yr],[a,30,30*Yr],[i,1,Ia],[i,3,3*Ia],[i,6,6*Ia],[i,12,12*Ia],[r,1,Ka],[r,2,2*Ka],[n,1,iP],[e,1,Sj],[e,3,3*Sj],[t,1,dw]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=HT(([,,v])=>v).right(s,h);if(p===s.length)return t.every(L_(c/dw,u/dw,d));if(p===0)return z0.every(Math.max(L_(c,u,d),1));const[g,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(y)}return[o,l]}const[r0e,i0e]=aV(Qa,uP,gx,iV,lP,sP),[a0e,s0e]=aV(Ya,cP,mx,Pp,oP,aP);function fw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Id(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function o0e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=Od(i),u=Cd(i),d=Od(a),h=Cd(a),p=Od(s),g=Cd(s),y=Od(o),v=Cd(o),x=Od(l),b=Cd(l),w={a:q,A:F,b:V,B:G,c:null,d:Nj,e:Nj,f:I0e,g:V0e,G:B0e,H:P0e,I:A0e,j:N0e,L:sV,m:O0e,M:C0e,p:Y,q:B,Q:Cj,s:jj,S:j0e,u:R0e,U:M0e,V:D0e,w:$0e,W:L0e,x:null,X:null,y:F0e,Y:U0e,Z:z0e,"%":Oj},S={a:ae,A:ge,b:ye,B:te,c:null,d:Ij,e:Ij,f:G0e,g:rye,G:aye,H:q0e,I:W0e,j:H0e,L:lV,m:K0e,M:Y0e,p:ie,q:de,Q:Cj,s:jj,S:Q0e,u:X0e,U:J0e,V:Z0e,w:eye,W:tye,x:null,X:null,y:nye,Y:iye,Z:sye,"%":Oj},E={a:I,A:C,b:j,B:O,c:M,d:Pj,e:Pj,f:S0e,g:Tj,G:kj,H:Aj,I:Aj,j:x0e,L:_0e,m:v0e,M:b0e,p:A,q:y0e,Q:k0e,s:T0e,S:w0e,u:f0e,U:h0e,V:p0e,w:d0e,W:m0e,x:D,X:L,y:Tj,Y:kj,Z:g0e,"%":E0e};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),S.x=P(n,S),S.X=P(r,S),S.c=P(e,S);function P(ee,_e){return function(re){var X=[],Z=-1,be=0,Me=ee.length,Ke,De,en;for(re instanceof Date||(re=new Date(+re));++Z<Me;)ee.charCodeAt(Z)===37&&(X.push(ee.slice(be,Z)),(De=Ej[Ke=ee.charAt(++Z)])!=null?Ke=ee.charAt(++Z):De=Ke==="e"?" ":"0",(en=_e[Ke])&&(Ke=en(re,De)),X.push(Ke),be=Z+1);return X.push(ee.slice(be,Z)),X.join("")}}function _(ee,_e){return function(re){var X=Id(1900,void 0,1),Z=k(X,ee,re+="",0),be,Me;if(Z!=re.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(_e&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(be=hw(Id(X.y,0,1)),Me=be.getUTCDay(),be=Me>4||Me===0?W0.ceil(be):W0(be),be=px.offset(be,(X.V-1)*7),X.y=be.getUTCFullYear(),X.m=be.getUTCMonth(),X.d=be.getUTCDate()+(X.w+6)%7):(be=fw(Id(X.y,0,1)),Me=be.getDay(),be=Me>4||Me===0?q0.ceil(be):q0(be),be=Pp.offset(be,(X.V-1)*7),X.y=be.getFullYear(),X.m=be.getMonth(),X.d=be.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Me="Z"in X?hw(Id(X.y,0,1)).getUTCDay():fw(Id(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Me+5)%7:X.w+X.U*7-(Me+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,hw(X)):fw(X)}}function k(ee,_e,re,X){for(var Z=0,be=_e.length,Me=re.length,Ke,De;Z<be;){if(X>=Me)return-1;if(Ke=_e.charCodeAt(Z++),Ke===37){if(Ke=_e.charAt(Z++),De=E[Ke in Ej?_e.charAt(Z++):Ke],!De||(X=De(ee,re,X))<0)return-1}else if(Ke!=re.charCodeAt(X++))return-1}return X}function A(ee,_e,re){var X=c.exec(_e.slice(re));return X?(ee.p=u.get(X[0].toLowerCase()),re+X[0].length):-1}function I(ee,_e,re){var X=p.exec(_e.slice(re));return X?(ee.w=g.get(X[0].toLowerCase()),re+X[0].length):-1}function C(ee,_e,re){var X=d.exec(_e.slice(re));return X?(ee.w=h.get(X[0].toLowerCase()),re+X[0].length):-1}function j(ee,_e,re){var X=x.exec(_e.slice(re));return X?(ee.m=b.get(X[0].toLowerCase()),re+X[0].length):-1}function O(ee,_e,re){var X=y.exec(_e.slice(re));return X?(ee.m=v.get(X[0].toLowerCase()),re+X[0].length):-1}function M(ee,_e,re){return k(ee,e,_e,re)}function D(ee,_e,re){return k(ee,n,_e,re)}function L(ee,_e,re){return k(ee,r,_e,re)}function q(ee){return s[ee.getDay()]}function F(ee){return a[ee.getDay()]}function V(ee){return l[ee.getMonth()]}function G(ee){return o[ee.getMonth()]}function Y(ee){return i[+(ee.getHours()>=12)]}function B(ee){return 1+~~(ee.getMonth()/3)}function ae(ee){return s[ee.getUTCDay()]}function ge(ee){return a[ee.getUTCDay()]}function ye(ee){return l[ee.getUTCMonth()]}function te(ee){return o[ee.getUTCMonth()]}function ie(ee){return i[+(ee.getUTCHours()>=12)]}function de(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var _e=P(ee+="",w);return _e.toString=function(){return ee},_e},parse:function(ee){var _e=_(ee+="",!1);return _e.toString=function(){return ee},_e},utcFormat:function(ee){var _e=P(ee+="",S);return _e.toString=function(){return ee},_e},utcParse:function(ee){var _e=_(ee+="",!0);return _e.toString=function(){return ee},_e}}}var Ej={"-":"",_:" ",0:"0"},vn=/^\s*\d+/,l0e=/^%/,c0e=/[\\^$*+?|[\]().{}]/g;function rt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function u0e(t){return t.replace(c0e,"\\$&")}function Od(t){return new RegExp("^(?:"+t.map(u0e).join("|")+")","i")}function Cd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function d0e(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function f0e(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function h0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function p0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function m0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kj(t,e,n){var r=vn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Tj(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function g0e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function y0e(t,e,n){var r=vn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function v0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Pj(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function x0e(t,e,n){var r=vn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Aj(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function b0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function w0e(t,e,n){var r=vn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function _0e(t,e,n){var r=vn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function S0e(t,e,n){var r=vn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function E0e(t,e,n){var r=l0e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function k0e(t,e,n){var r=vn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function T0e(t,e,n){var r=vn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Nj(t,e){return rt(t.getDate(),e,2)}function P0e(t,e){return rt(t.getHours(),e,2)}function A0e(t,e){return rt(t.getHours()%12||12,e,2)}function N0e(t,e){return rt(1+Pp.count(Ya(t),t),e,3)}function sV(t,e){return rt(t.getMilliseconds(),e,3)}function I0e(t,e){return sV(t,e)+"000"}function O0e(t,e){return rt(t.getMonth()+1,e,2)}function C0e(t,e){return rt(t.getMinutes(),e,2)}function j0e(t,e){return rt(t.getSeconds(),e,2)}function R0e(t){var e=t.getDay();return e===0?7:e}function M0e(t,e){return rt(mx.count(Ya(t)-1,t),e,2)}function oV(t){var e=t.getDay();return e>=4||e===0?lu(t):lu.ceil(t)}function D0e(t,e){return t=oV(t),rt(lu.count(Ya(t),t)+(Ya(t).getDay()===4),e,2)}function $0e(t){return t.getDay()}function L0e(t,e){return rt(q0.count(Ya(t)-1,t),e,2)}function F0e(t,e){return rt(t.getFullYear()%100,e,2)}function V0e(t,e){return t=oV(t),rt(t.getFullYear()%100,e,2)}function U0e(t,e){return rt(t.getFullYear()%1e4,e,4)}function B0e(t,e){var n=t.getDay();return t=n>=4||n===0?lu(t):lu.ceil(t),rt(t.getFullYear()%1e4,e,4)}function z0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rt(e/60|0,"0",2)+rt(e%60,"0",2)}function Ij(t,e){return rt(t.getUTCDate(),e,2)}function q0e(t,e){return rt(t.getUTCHours(),e,2)}function W0e(t,e){return rt(t.getUTCHours()%12||12,e,2)}function H0e(t,e){return rt(1+px.count(Qa(t),t),e,3)}function lV(t,e){return rt(t.getUTCMilliseconds(),e,3)}function G0e(t,e){return lV(t,e)+"000"}function K0e(t,e){return rt(t.getUTCMonth()+1,e,2)}function Y0e(t,e){return rt(t.getUTCMinutes(),e,2)}function Q0e(t,e){return rt(t.getUTCSeconds(),e,2)}function X0e(t){var e=t.getUTCDay();return e===0?7:e}function J0e(t,e){return rt(gx.count(Qa(t)-1,t),e,2)}function cV(t){var e=t.getUTCDay();return e>=4||e===0?cu(t):cu.ceil(t)}function Z0e(t,e){return t=cV(t),rt(cu.count(Qa(t),t)+(Qa(t).getUTCDay()===4),e,2)}function eye(t){return t.getUTCDay()}function tye(t,e){return rt(W0.count(Qa(t)-1,t),e,2)}function nye(t,e){return rt(t.getUTCFullYear()%100,e,2)}function rye(t,e){return t=cV(t),rt(t.getUTCFullYear()%100,e,2)}function iye(t,e){return rt(t.getUTCFullYear()%1e4,e,4)}function aye(t,e){var n=t.getUTCDay();return t=n>=4||n===0?cu(t):cu.ceil(t),rt(t.getUTCFullYear()%1e4,e,4)}function sye(){return"+0000"}function Oj(){return"%"}function Cj(t){return+t}function jj(t){return Math.floor(+t/1e3)}var Wl,uV,dV;oye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oye(t){return Wl=o0e(t),uV=Wl.format,Wl.parse,dV=Wl.utcFormat,Wl.utcParse,Wl}function lye(t){return new Date(t)}function cye(t){return t instanceof Date?+t:+new Date(+t)}function dP(t,e,n,r,i,a,s,o,l,c){var u=XT(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),y=c("%I:%M"),v=c("%I %p"),x=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function E(P){return(l(P)<P?p:o(P)<P?g:s(P)<P?y:a(P)<P?v:r(P)<P?i(P)<P?x:b:n(P)<P?w:S)(P)}return u.invert=function(P){return new Date(d(P))},u.domain=function(P){return arguments.length?h(Array.from(P,cye)):h().map(lye)},u.ticks=function(P){var _=h();return t(_[0],_[_.length-1],P??10)},u.tickFormat=function(P,_){return _==null?E:c(_)},u.nice=function(P){var _=h();return(!P||typeof P.range!="function")&&(P=e(_[0],_[_.length-1],P??10)),P?h(XF(_,P)):u},u.copy=function(){return Tp(u,dP(t,e,n,r,i,a,s,o,l,c))},u}function uye(){return oi.apply(dP(a0e,s0e,Ya,cP,mx,Pp,oP,aP,Ko,uV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dye(){return oi.apply(dP(r0e,i0e,Qa,uP,gx,px,lP,sP,Ko,dV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yx(){var t=0,e=1,n,r,i,a,s=Kn,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(ed),c.rangeRound=u(QT),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function So(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function fV(){var t=_o(yx()(Kn));return t.copy=function(){return So(t,fV())},rs.apply(t,arguments)}function hV(){var t=eP(yx()).domain([1,10]);return t.copy=function(){return So(t,hV()).base(t.base())},rs.apply(t,arguments)}function pV(){var t=tP(yx());return t.copy=function(){return So(t,pV()).constant(t.constant())},rs.apply(t,arguments)}function fP(){var t=nP(yx());return t.copy=function(){return So(t,fP()).exponent(t.exponent())},rs.apply(t,arguments)}function fye(){return fP.apply(null,arguments).exponent(.5)}function mV(){var t=[],e=Kn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ep(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Js),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Jme(t,a/r))},n.copy=function(){return mV(e).domain(t)},rs.apply(n,arguments)}function vx(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=Kn,u,d=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+u(y))-a)*(r*y<r*a?o:l),c(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(c=y,p):c};function g(y){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,c=Ege(y,[x,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(ed),p.rangeRound=g(QT),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return u=y,i=y(t),a=y(e),s=y(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function gV(){var t=_o(vx()(Kn));return t.copy=function(){return So(t,gV())},rs.apply(t,arguments)}function yV(){var t=eP(vx()).domain([.1,1,10]);return t.copy=function(){return So(t,yV()).base(t.base())},rs.apply(t,arguments)}function vV(){var t=tP(vx());return t.copy=function(){return So(t,vV()).constant(t.constant())},rs.apply(t,arguments)}function hP(){var t=nP(vx());return t.copy=function(){return So(t,hP()).exponent(t.exponent())},rs.apply(t,arguments)}function hye(){return hP.apply(null,arguments).exponent(.5)}const Rj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vh,scaleDiverging:gV,scaleDivergingLog:yV,scaleDivergingPow:hP,scaleDivergingSqrt:hye,scaleDivergingSymlog:vV,scaleIdentity:QF,scaleImplicit:F_,scaleLinear:Sh,scaleLog:JF,scaleOrdinal:GT,scalePoint:Pf,scalePow:rP,scaleQuantile:tV,scaleQuantize:nV,scaleRadial:eV,scaleSequential:fV,scaleSequentialLog:hV,scaleSequentialPow:fP,scaleSequentialQuantile:mV,scaleSequentialSqrt:fye,scaleSequentialSymlog:pV,scaleSqrt:Gge,scaleSymlog:ZF,scaleThreshold:rV,scaleTime:uye,scaleUtc:dye,tickFormat:YF},Symbol.toStringTag,{value:"Module"}));var pye=qu;function mye(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!pye(s):n(s,o)))var o=s,l=a}return l}var xV=mye;function gye(t,e){return t>e}var yye=gye,vye=xV,xye=yye,bye=Ju;function wye(t){return t&&t.length?vye(t,bye,xye):void 0}var _ye=wye;const js=gt(_ye);function Sye(t,e){return t<e}var Eye=Sye,kye=xV,Tye=Eye,Pye=Ju;function Aye(t){return t&&t.length?kye(t,Pye,Tye):void 0}var Nye=Aye;const xx=gt(Nye);var Iye=PT,Oye=wo,Cye=AF,jye=yr;function Rye(t,e){var n=jye(t)?Iye:Cye;return n(t,Oye(e))}var Mye=Rye,Dye=TF,$ye=Mye;function Lye(t,e){return Dye($ye(t,e),1)}var Fye=Lye;const Vye=gt(Fye);var Uye=BT;function Bye(t,e){return Uye(t,e)}var zye=Bye;const Eh=gt(zye);var td=1e9,qye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mP,At=!0,ii="[DecimalError] ",il=ii+"Invalid argument: ",pP=ii+"Exponent out of range: ",nd=Math.floor,Lo=Math.pow,Wye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Er,hn=1e7,Et=7,bV=9007199254740991,H0=nd(bV/Et),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Et;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return La(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return mt(La(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Jt(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Er))throw Error(ii+"NaN");if(n.s<1)throw Error(ii+(n.s?"NaN":"-Infinity"));return n.eq(Er)?new r(0):(At=!1,e=La(kh(n,a),kh(t,a),a),At=!0,mt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SV(e,t):wV(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ii+"NaN");return n.s?(At=!1,e=La(n,t,0,1).times(t),At=!0,n.minus(e)):mt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return _V(this)};Te.naturalLogarithm=Te.ln=function(){return kh(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wV(e,t):SV(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(il+t);if(e=Jt(i)+1,r=i.d.length-1,n=r*Et+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ii+"NaN")}for(t=Jt(o),At=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Wi(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(La(o,a,s+2)).times(.5),Wi(a.d).slice(0,s)===(e=Wi(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(mt(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return At=!0,mt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%hn|0,e=o/hn|0;a[i]=(a[i]+e)%hn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,At?mt(t,d.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(aa(t,0,td),e===void 0?e=r.rounding:aa(e,0,8),mt(n,t+Jt(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xl(r,!0):(aa(t,0,td),e===void 0?e=i.rounding:aa(e,0,8),r=mt(new i(r),t+1,e),n=xl(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?xl(i):(aa(t,0,td),e===void 0?e=a.rounding:aa(e,0,8),r=mt(new a(i),t+Jt(i)+1,e),n=xl(r.abs(),!1,t+Jt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return mt(new e(t),Jt(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Er);if(o=new l(o),!o.s){if(t.s<1)throw Error(ii+"Infinity");return o}if(o.eq(Er))return o;if(r=l.precision,t.eq(Er))return mt(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=bV){for(i=new l(Er),e=Math.ceil(r/Et+4),At=!1;n%2&&(i=i.times(o),Dj(i.d,e)),n=nd(n/2),n!==0;)o=o.times(o),Dj(o.d,e);return At=!0,t.s<0?new l(Er).div(i):mt(i,r)}}else if(a<0)throw Error(ii+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,At=!1,i=t.times(kh(o,r+c)),At=!0,i=_V(i),i.s=a,i};Te.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Jt(i),r=xl(i,n<=a.toExpNeg||n>=a.toExpPos)):(aa(t,1,td),e===void 0?e=a.rounding:aa(e,0,8),i=mt(new a(i),t,e),n=Jt(i),r=xl(i,t<=n||n<=a.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(aa(t,1,td),e===void 0?e=r.rounding:aa(e,0,8)),mt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Jt(t),n=t.constructor;return xl(t,e<=n.toExpNeg||e>=n.toExpPos)};function wV(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),At?mt(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(d/Et),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/hn|0,l[a]%=hn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,At?mt(e,d):e}function aa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(il+t)}function Wi(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Et-r.length,n&&(a+=xs(n)),a+=r;s=t[e],r=s+"",n=Et-r.length,n&&(a+=xs(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var La=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%hn|0,s=a/hn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*hn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,d,h,p,g,y,v,x,b,w,S,E,P,_,k,A=r.constructor,I=r.s==i.s?1:-1,C=r.d,j=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(ii+"Division by zero");for(l=r.e-i.e,_=j.length,E=C.length,p=new A(I),g=p.d=[],c=0;j[c]==(C[c]||0);)++c;if(j[c]>(C[c]||0)&&--l,a==null?b=a=A.precision:s?b=a+(Jt(r)-Jt(i))+1:b=a,b<0)return new A(0);if(b=b/Et+2|0,c=0,_==1)for(u=0,j=j[0],b++;(c<E||u)&&b--;c++)w=u*hn+(C[c]||0),g[c]=w/j|0,u=w%j|0;else{for(u=hn/(j[0]+1)|0,u>1&&(j=t(j,u),C=t(C,u),_=j.length,E=C.length),S=_,y=C.slice(0,_),v=y.length;v<_;)y[v++]=0;k=j.slice(),k.unshift(0),P=j[0],j[1]>=hn/2&&++P;do u=0,o=e(j,y,_,v),o<0?(x=y[0],_!=v&&(x=x*hn+(y[1]||0)),u=x/P|0,u>1?(u>=hn&&(u=hn-1),d=t(j,u),h=d.length,v=y.length,o=e(d,y,h,v),o==1&&(u--,n(d,_<h?k:j,h))):(u==0&&(o=u=1),d=j.slice()),h=d.length,h<v&&d.unshift(0),n(y,d,v),o==-1&&(v=y.length,o=e(j,y,_,v),o<1&&(u++,n(y,_<v?k:j,v))),v=y.length):o===0&&(u++,y=[0]),g[c++]=u,o&&y[0]?y[v++]=C[S]||0:(y=[C[S]],v=1);while((S++<E||y[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,mt(p,s?a+Jt(p)+1:a)}}();function _V(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,d=u.precision;if(Jt(t)>16)throw Error(pP+Jt(t));if(!t.s)return new u(Er);for(At=!1,o=d,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Lo(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(Er),u.precision=o;;){if(i=mt(i.times(t),o),n=n.times(++l),s=a.plus(La(i,n,o)),Wi(s.d).slice(0,o)===Wi(a.d).slice(0,o)){for(;c--;)a=mt(a.times(a),o);return u.precision=d,e==null?(At=!0,mt(a,d)):a}a=s}}function Jt(t){for(var e=t.e*Et,n=t.d[0];n>=10;n/=10)e++;return e}function pw(t,e,n){if(e>t.LN10.sd())throw At=!0,n&&(t.precision=n),Error(ii+"LN10 precision limit exceeded");return mt(new t(t.LN10),e)}function xs(t){for(var e="";t--;)e+="0";return e}function kh(t,e){var n,r,i,a,s,o,l,c,u,d=1,h=10,p=t,g=p.d,y=p.constructor,v=y.precision;if(p.s<1)throw Error(ii+(p.s?"NaN":"-Infinity"));if(p.eq(Er))return new y(0);if(e==null?(At=!1,c=v):c=e,p.eq(10))return e==null&&(At=!0),pw(y,c);if(c+=h,y.precision=c,n=Wi(g),r=n.charAt(0),a=Jt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Wi(p.d),r=n.charAt(0),d++;a=Jt(p),r>1?(p=new y("0."+n),a++):p=new y(r+"."+n.slice(1))}else return l=pw(y,c+2,v).times(a+""),p=kh(new y(r+"."+n.slice(1)),c-h).plus(l),y.precision=v,e==null?(At=!0,mt(p,v)):p;for(o=s=p=La(p.minus(Er),p.plus(Er),c),u=mt(p.times(p),c),i=3;;){if(s=mt(s.times(u),c),l=o.plus(La(s,new y(i),c)),Wi(l.d).slice(0,c)===Wi(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(pw(y,c+2,v).times(a+""))),o=La(o,new y(d),c),y.precision=v,e==null?(At=!0,mt(o,v)):o;o=l,i+=2}}function Mj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nd(n/Et),t.d=[],r=(n+1)%Et,n<0&&(r+=Et),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Et;r<i;)t.d.push(+e.slice(r,r+=Et));e=e.slice(r),r=Et-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),At&&(t.e>H0||t.e<-H0))throw Error(pP+n)}else t.s=0,t.e=0,t.d=[0];return t}function mt(t,e,n){var r,i,a,s,o,l,c,u,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Et,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Et),a=d.length,u>=a)return t;for(c=a=d[u],s=1;a>=10;a/=10)s++;r%=Et,i=r-Et+s}if(n!==void 0&&(a=Lo(10,s-i-1),o=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Lo(10,s-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=Jt(t),d.length=1,e=e-a-1,d[0]=Lo(10,(Et-e%Et)%Et),t.e=nd(-e/Et)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=Lo(10,Et-r),d[u]=i>0?(c/Lo(10,s-i)%Lo(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==hn&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=hn)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(At&&(t.e>H0||t.e<-H0))throw Error(pP+Jt(t));return t}function SV(t,e){var n,r,i,a,s,o,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),At?mt(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(p/Et),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=hn-1;--l[a],l[i]+=hn}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,At?mt(e,p):e):new h(0)}function xl(t,e,n){var r,i=Jt(t),a=Wi(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+xs(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+xs(-i-1)+a,n&&(r=n-s)>0&&(a+=xs(r))):i>=s?(a+=xs(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+xs(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=xs(r))),t.s<0?"-"+a:a}function Dj(t,e){if(t.length>e)return t.length=e,!0}function EV(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(il+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Mj(s,a.toString())}else if(typeof a!="string")throw Error(il+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Wye.test(a))Mj(s,a);else throw Error(il+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=EV,i.config=i.set=Hye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Hye(t){if(!t||typeof t!="object")throw Error(ii+"Object expected");var e,n,r,i=["precision",1,td,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(il+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(il+n+": "+r);return this}var mP=EV(qye);Er=new mP(1);const ut=mP;function Gye(t){return Xye(t)||Qye(t)||Yye(t)||Kye()}function Kye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yye(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function Qye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Xye(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jye=function(e){return e},kV={},TV=function(e){return e===kV},$j=function(e){return function n(){return arguments.length===0||arguments.length===1&&TV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Zye=function t(e,n){return e===1?n:$j(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==kV}).length;return s>=e?n.apply(void 0,i):t(e-s,$j(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return TV(d)?l.shift():d});return n.apply(void 0,Gye(u).concat(l))}))})},bx=function(e){return Zye(e.length,e)},q_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},eve=bx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),tve=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Jye;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},W_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},PV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function nve(t){var e;return t===0?e=1:e=Math.floor(new ut(t).abs().log(10).toNumber())+1,e}function rve(t,e,n){for(var r=new ut(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var ive=bx(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),ave=bx(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),sve=bx(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const wx={rangeStep:rve,getDigitCount:nve,interpolateNumber:ive,uninterpolateNumber:ave,uninterpolateTruncation:sve};function H_(t){return cve(t)||lve(t)||AV(t)||ove()}function ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cve(t){if(Array.isArray(t))return G_(t)}function Th(t,e){return fve(t)||dve(t,e)||AV(t,e)||uve()}function uve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AV(t,e){if(t){if(typeof t=="string")return G_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G_(t,e)}}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dve(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function fve(t){if(Array.isArray(t))return t}function NV(t){var e=Th(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function IV(t,e,n){if(t.lte(0))return new ut(0);var r=wx.getDigitCount(t.toNumber()),i=new ut(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new ut(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new ut(Math.ceil(l))}function hve(t,e,n){var r=1,i=new ut(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ut(10).pow(wx.getDigitCount(t)-1),i=new ut(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ut(Math.floor(t)))}else t===0?i=new ut(Math.floor((e-1)/2)):n||(i=new ut(Math.floor(t)));var s=Math.floor((e-1)/2),o=tve(eve(function(l){return i.add(new ut(l-s).mul(r)).toNumber()}),q_);return o(0,e)}function OV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var a=IV(new ut(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new ut(0):(s=new ut(t).add(e).div(2),s=s.sub(new ut(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new ut(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?OV(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new ut(o).mul(a)),tickMax:s.add(new ut(l).mul(a))})}function pve(t){var e=Th(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=NV([n,r]),l=Th(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(H_(q_(0,i-1).map(function(){return 1/0}))):[].concat(H_(q_(0,i-1).map(function(){return-1/0})),[u]);return n>r?W_(d):d}if(c===u)return hve(c,i,a);var h=OV(c,u,s,a),p=h.step,g=h.tickMin,y=h.tickMax,v=wx.rangeStep(g,y.add(new ut(.1).mul(p)),p);return n>r?W_(v):v}function mve(t,e){var n=Th(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=NV([r,i]),o=Th(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=IV(new ut(c).sub(l).div(u-1),a,0),h=[].concat(H_(wx.rangeStep(new ut(l),new ut(c).sub(new ut(.99).mul(d)),d)),[c]);return r>i?W_(h):h}var gve=PV(pve),yve=PV(mve),vve="Invariant failed";function bl(t,e){throw new Error(vve)}var xve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G0.apply(this,arguments)}function bve(t,e){return Eve(t)||Sve(t,e)||_ve(t,e)||wve()}function wve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ve(t,e){if(t){if(typeof t=="string")return Lj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lj(t,e)}}function Lj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Eve(t){if(Array.isArray(t))return t}function kve(t,e){if(t==null)return{};var n=Tve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ave(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RV(r.key),r)}}function Nve(t,e,n){return e&&Ave(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ive(t,e,n){return e=K0(e),Ove(t,CV()?Reflect.construct(e,n||[],K0(t).constructor):e.apply(t,n))}function Ove(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cve(t)}function Cve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CV=function(){return!!t})()}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(t)}function jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function jV(t,e,n){return e=RV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RV(t){var e=Rve(t,"string");return uu(e)=="symbol"?e:e+""}function Rve(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _x=function(t){function e(){return Pve(this,e),Ive(this,e,arguments)}return jve(e,t),Nve(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=kve(r,xve),p=He(h,!1);this.props.direction==="x"&&u.type!=="number"&&bl();var g=l.map(function(y){var v=c(y,o),x=v.x,b=v.y,w=v.value,S=v.errorVal;if(!S)return null;var E=[],P,_;if(Array.isArray(S)){var k=bve(S,2);P=k[0],_=k[1]}else P=_=S;if(a==="vertical"){var A=u.scale,I=b+i,C=I+s,j=I-s,O=A(w-P),M=A(w+_);E.push({x1:M,y1:C,x2:M,y2:j}),E.push({x1:O,y1:I,x2:M,y2:I}),E.push({x1:O,y1:C,x2:O,y2:j})}else if(a==="horizontal"){var D=d.scale,L=x+i,q=L-s,F=L+s,V=D(w-P),G=D(w+_);E.push({x1:q,y1:G,x2:F,y2:G}),E.push({x1:L,y1:V,x2:L,y2:G}),E.push({x1:q,y1:V,x2:F,y2:V})}return z.createElement(Ot,G0({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},p),E.map(function(Y){return z.createElement("line",G0({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return z.createElement(Ot,{className:"recharts-errorBars"},g)}}])}(z.Component);jV(_x,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});jV(_x,"displayName","ErrorBar");function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){Mve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mve(t,e,n){return e=Dve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dve(t){var e=$ve(t,"string");return Ph(e)=="symbol"?e:e+""}function $ve(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=wr(n,Rc);if(!s)return null;var o=Rc.defaultProps,l=o!==void 0?Io(Io({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?Io(Io({},h),d.props):{},g=p.dataKey,y=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:g,type:l.iconType||v||"square",color:gP(d),value:y||g,payload:p}}),Io(Io(Io({},l),Rc.getWithHeight(s,i)),{},{payload:c,item:s})};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function Vj(t){return Uve(t)||Vve(t)||Fve(t)||Lve()}function Lve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fve(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(t,e)}}function Vve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uve(t){if(Array.isArray(t))return Y_(t)}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(n),!0).forEach(function(r){Dc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dc(t,e,n){return e=Bve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bve(t){var e=zve(t,"string");return Ah(e)=="symbol"?e:e+""}function zve(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cr(t,e,n){return Je(t)||Je(e)?n:on(e)?ei(t,e,n):Be(e)?e(t):n}function Af(t,e,n,r){var i=Vye(t,function(o){return Cr(o,e)});if(n==="number"){var a=i.filter(function(o){return pe(o)||parseFloat(o)});return a.length?[xx(a),js(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!Je(o)}):i;return s.map(function(o){return on(o)||o instanceof Date?o:""})}var qve=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(wi(d-u)!==wi(h-d)){var g=[];if(wi(h-d)===wi(l[1]-l[0])){p=h;var y=d+l[1]-l[0];g[0]=Math.min(y,(y+u)/2),g[1]=Math.max(y,(y+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){s=i[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(e>(b+d)/2&&e<=(w+d)/2){s=i[c].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){s=r[S].index;break}return s},gP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Wve=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],y=g.items,v=g.cateAxisId,x=y.filter(function(_){return Da(_.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,w=b!==void 0?Vt(Vt({},b),x[0].props):x[0].props,S=w.barSize,E=w[v];s[E]||(s[E]=[]);var P=Je(S)?n:S;s[E].push({item:x[0],stackList:x.slice(1),barSize:Je(P)?void 0:vl(P,r,0)})}}return s},Hve=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=vl(n,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,g=s.reduce(function(S,E){return S+E.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var y=(i-g)/2>>0,v={offset:y-c,size:0};u=s.reduce(function(S,E){var P={item:E.item,position:{offset:v.offset+v.size+c,size:h?p:E.barSize}},_=[].concat(Vj(S),[P]);return v=_[_.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(k){_.push({item:k,position:v})}),_},d)}else{var x=vl(r,i,0,!0);i-2*x-(l-1)*c<=0&&(c=0);var b=(i-2*x-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(S,E,P){var _=[].concat(Vj(S),[{item:E.item,position:{offset:x+(b+c)*P+(b-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(k){_.push({item:k,position:_[_.length-1].position})}),_},d)}return u},Gve=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=MV({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&pe(e[p]))return Vt(Vt({},e),{},Dc({},p,e[p]+(d||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&pe(e[g]))return Vt(Vt({},e),{},Dc({},g,e[g]+(h||0)))}return e},Kve=function(e,n,r){return Je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},DV=function(e,n,r,i,a){var s=n.props.children,o=Ai(s,_x).filter(function(c){return Kve(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Cr(u,r);if(Je(d))return c;var h=Array.isArray(d)?[xx(d),js(d)]:[d,d],p=l.reduce(function(g,y){var v=Cr(u,y,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},Yve=function(e,n,r,i,a){var s=n.map(function(o){return DV(e,o,r,a,i)}).filter(function(o){return!Je(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},$V=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&DV(e,l,c,i)||Af(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},LV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},FV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},Oa=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?wi(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!Yu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:a?a[d]:d,index:h,offset:c}})},mw=new WeakMap,Pm=function(e,n){if(typeof n!="function")return e;mw.has(e)||mw.set(e,new WeakMap);var r=mw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Qve=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:vh(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Sh(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Pf(),realScaleType:"point"}:a==="category"?{scale:vh(),realScaleType:"band"}:{scale:Sh(),realScaleType:"linear"};if(yl(i)){var l="scale".concat(sx(i));return{scale:(Rj[l]||Pf)(),realScaleType:Rj[l]?l:"point"}}return Be(i)?{scale:i}:{scale:Pf(),realScaleType:"point"}},Bj=1e-4,Xve=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-Bj,s=Math.max(i[0],i[1])+Bj,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},Jve=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Zve=function(e,n){if(!n||n.length!==2||!pe(n[0])||!pe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!pe(e[0])||e[0]<r)&&(a[0]=r),(!pe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},exe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Yu(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},txe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Yu(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},nxe={sign:exe,expand:gse,none:nu,silhouette:yse,wiggle:vse,positive:txe},rxe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=nxe[r],s=mse().keys(i).value(function(o,l){return+Cr(o,l,0)}).order(b_).offset(a);return s(e)},ixe=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Vt(Vt({},h.type.defaultProps),h.props):h.props,y=g.stackId,v=g.hide;if(v)return d;var x=g[r],b=d[x]||{hasStack:!1,stackGroups:{}};if(on(y)){var w=b.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[y]=w}else b.stackGroups[_p("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Vt(Vt({},d),{},Dc({},x,b))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,v){var x=p.stackGroups[v];return Vt(Vt({},y),{},Dc({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:rxe(e,x.items,a)}))},g)}return Vt(Vt({},d),{},Dc({},h,p))},u)},axe=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=gve(c,a,o);return e.domain([xx(u),js(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),h=yve(d,a,o);return{niceTicks:h}}return null};function zj(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var o=x0(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Cr(i,Je(s)?e.dataKey:s);return Je(l)?null:e.scale(l)}var qj=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Cr(s,n.dataKey,n.domain[o]);return Je(l)?null:n.scale(l)-a/2+i},sxe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},oxe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(on(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},lxe=function(e){return e.reduce(function(n,r){return[xx(r.concat([n[0]]).filter(pe)),js(r.concat([n[1]]).filter(pe))]},[1/0,-1/0])},VV=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var d=lxe(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Wj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q_=function(e,n,r){if(Be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(pe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Wj.test(e[0])){var a=+Wj.exec(e[0])[1];i[0]=n[0]-a}else Be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(pe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Hj.test(e[1])){var s=+Hj.exec(e[1])[1];i[1]=n[1]+s}else Be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Y0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=qT(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},Gj=function(e,n,r){return!e||!e.length||Eh(e,ei(r,"type.defaultProps.domain"))?n:e},UV=function(e,n){var r=e.type.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Vt(Vt({},He(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:gP(e),value:Cr(n,i),type:l,payload:n,chartType:c,hide:u})};function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){cxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cxe(t,e,n){return e=uxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uxe(t){var e=dxe(t,"string");return Nh(e)=="symbol"?e:e+""}function dxe(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q0=Math.PI/180,fxe=function(e){return e*180/Math.PI},En=function(e,n,r,i){return{x:e+Math.cos(-Q0*i)*r,y:n+Math.sin(-Q0*i)*r}},hxe=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},pxe=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=hxe({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:fxe(c),angleInRadian:c}},mxe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},gxe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},Qj=function(e,n){var r=e.x,i=e.y,a=pxe({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=mxe(n),d=u.startAngle,h=u.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?Yj(Yj({},n),{},{radius:s,angle:gxe(p,n)}):null};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}var yxe=["offset"];function vxe(t){return _xe(t)||wxe(t)||bxe(t)||xxe()}function xxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bxe(t,e){if(t){if(typeof t=="string")return X_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(t,e)}}function wxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _xe(t){if(Array.isArray(t))return X_(t)}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sxe(t,e){if(t==null)return{};var n=Exe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Exe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(n),!0).forEach(function(r){kxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kxe(t,e,n){return e=Txe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Txe(t){var e=Pxe(t,"string");return Ih(e)=="symbol"?e:e+""}function Pxe(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oh.apply(this,arguments)}var Axe=function(e){var n=e.value,r=e.formatter,i=Je(e.children)?n:e.children;return Be(r)?r(i):i},Nxe=function(e,n){var r=wi(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ixe=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,y=l.clockWise,v=(d+h)/2,x=Nxe(p,g),b=x>=0?1:-1,w,S;i==="insideStart"?(w=p+b*s,S=y):i==="insideEnd"?(w=g-b*s,S=!y):i==="end"&&(w=g+b*s,S=y),S=x<=0?S:!S;var E=En(c,u,v,w),P=En(c,u,v,w+(S?1:-1)*359),_="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(P.x,",").concat(P.y),k=Je(e.id)?_p("recharts-radial-line-"):e.id;return z.createElement("text",Oh({},r,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",o)}),z.createElement("defs",null,z.createElement("path",{id:k,d:_})),z.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Oxe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,h=(u+d)/2;if(i==="outside"){var p=En(s,o,c+r,h),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,x=En(s,o,v,h),b=x.x,w=x.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Cxe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*i,p=d>0?"end":"start",g=d>0?"start":"end",y=c>=0?1:-1,v=y*i,x=y>0?"end":"start",b=y>0?"start":"end";if(a==="top"){var w={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return rn(rn({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var S={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return rn(rn({},S),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var E={x:o-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return rn(rn({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(a==="right"){var P={x:o+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return rn(rn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:u}:{})}var _=r?{width:c,height:u}:{};return a==="insideLeft"?rn({x:o+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?rn({x:o+c-v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},_):a==="insideTop"?rn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},_):a==="insideBottom"?rn({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},_):a==="insideTopLeft"?rn({x:o+v,y:l+h,textAnchor:b,verticalAnchor:g},_):a==="insideTopRight"?rn({x:o+c-v,y:l+h,textAnchor:x,verticalAnchor:g},_):a==="insideBottomLeft"?rn({x:o+v,y:l+u-h,textAnchor:b,verticalAnchor:p},_):a==="insideBottomRight"?rn({x:o+c-v,y:l+u-h,textAnchor:x,verticalAnchor:p},_):Wu(a)&&(pe(a.x)||Ho(a.x))&&(pe(a.y)||Ho(a.y))?rn({x:o+vl(a.x,c),y:l+vl(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):rn({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},jxe=function(e){return"cx"in e&&pe(e.cx)};function Mn(t){var e=t.offset,n=e===void 0?5:e,r=Sxe(t,yxe),i=rn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!a||Je(o)&&Je(l)&&!R.isValidElement(c)&&!Be(c))return null;if(R.isValidElement(c))return R.cloneElement(c,i);var p;if(Be(c)){if(p=R.createElement(c,i),R.isValidElement(p))return p}else p=Axe(i);var g=jxe(a),y=He(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ixe(i,p,y);var v=g?Oxe(i):Cxe(i);return z.createElement(M0,Oh({className:nt("recharts-label",d)},y,v,{breakAll:h}),p)}Mn.displayName="Label";var BV=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,p=e.top,g=e.left,y=e.width,v=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(pe(y)&&pe(v)){if(pe(d)&&pe(h))return{x:d,y:h,width:y,height:v};if(pe(p)&&pe(g))return{x:p,y:g,width:y,height:v}}return pe(d)&&pe(h)?{x:d,y:h,width:0,height:0}:pe(n)&&pe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},Rxe=function(e,n){return e?e===!0?z.createElement(Mn,{key:"label-implicit",viewBox:n}):on(e)?z.createElement(Mn,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===Mn?R.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(Mn,{key:"label-implicit",content:e,viewBox:n}):Be(e)?z.createElement(Mn,{key:"label-implicit",content:e,viewBox:n}):Wu(e)?z.createElement(Mn,Oh({viewBox:n},e,{key:"label-implicit"})):null:null},Mxe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=BV(e),s=Ai(i,Mn).map(function(l,c){return R.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=Rxe(e.label,n||a);return[o].concat(vxe(s))};Mn.parseViewBox=BV;Mn.renderCallByParent=Mxe;function Dxe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var $xe=Dxe;const Lxe=gt($xe);function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}var Fxe=["valueAccessor"],Vxe=["data","dataKey","clockWise","id","textBreakAll"];function Uxe(t){return Wxe(t)||qxe(t)||zxe(t)||Bxe()}function Bxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zxe(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function qxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wxe(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){Hxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hxe(t,e,n){return e=Gxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gxe(t){var e=Kxe(t,"string");return Ch(e)=="symbol"?e:e+""}function Kxe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eR(t,e){if(t==null)return{};var n=Yxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qxe=function(e){return Array.isArray(e.value)?Lxe(e.value):e.value};function Zs(t){var e=t.valueAccessor,n=e===void 0?Qxe:e,r=eR(t,Fxe),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=eR(r,Vxe);return!i||!i.length?null:z.createElement(Ot,{className:"recharts-label-list"},i.map(function(u,d){var h=Je(a)?n(u,d):Cr(u&&u.payload,a),p=Je(o)?{}:{id:"".concat(o,"-").concat(d)};return z.createElement(Mn,X0({},He(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Mn.parseViewBox(Je(s)?u:Zj(Zj({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Zs.displayName="LabelList";function Xxe(t,e){return t?t===!0?z.createElement(Zs,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Be(t)?z.createElement(Zs,{key:"labelList-implicit",data:e,content:t}):Wu(t)?z.createElement(Zs,X0({data:e},t,{key:"labelList-implicit"})):null:null}function Jxe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ai(r,Zs).map(function(s,o){return R.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=Xxe(t.label,e);return[a].concat(Uxe(i))}Zs.renderCallByParent=Jxe;function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(this,arguments)}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){Zxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zxe(t,e,n){return e=ebe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ebe(t){var e=tbe(t,"string");return jh(e)=="symbol"?e:e+""}function tbe(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nbe=function(e,n){var r=wi(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Am=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/Q0,h=c?a:a+s*d,p=En(n,r,u,h),g=En(n,r,i,h),y=c?a-s*d:a,v=En(n,r,u*Math.cos(d*Q0),y);return{center:p,circleTangency:g,lineTangency:v,theta:d}},zV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=nbe(s,o),c=s+l,u=En(n,r,a,s),d=En(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=En(n,r,i,s),g=En(n,r,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},rbe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=wi(u-c),h=Am({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,y=h.theta,v=Am({cx:n,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,b=v.lineTangency,w=v.theta,S=l?Math.abs(c-u):Math.abs(c-u)-y-w;if(S<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):zV({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=Am({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),_=P.circleTangency,k=P.lineTangency,A=P.theta,I=Am({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=I.circleTangency,j=I.lineTangency,O=I.theta,M=l?Math.abs(c-u):Math.abs(c-u)-A-O;if(M<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},ibe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qV=function(e){var n=nR(nR({},ibe),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(s<a||u===d)return null;var p=nt("recharts-sector",h),g=s-a,y=vl(o,g,0,!0),v;return y>0&&Math.abs(u-d)<360?v=rbe({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=zV({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),z.createElement("path",Z_({},He(n,!0),{className:p,d:v,role:"img"}))};function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(this,arguments)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){abe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function abe(t,e,n){return e=sbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sbe(t){var e=obe(t,"string");return Rh(e)=="symbol"?e:e+""}function obe(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aR={curveBasisClosed:ise,curveBasisOpen:ase,curveBasis:rse,curveBumpX:zae,curveBumpY:qae,curveLinearClosed:sse,curveLinear:lx,curveMonotoneX:ose,curveMonotoneY:lse,curveNatural:cse,curveStep:use,curveStepAfter:fse,curveStepBefore:dse},Nm=function(e){return e.x===+e.x&&e.y===+e.y},jd=function(e){return e.x},Rd=function(e){return e.y},lbe=function(e,n){if(Be(e))return e;var r="curve".concat(sx(e));return(r==="curveMonotone"||r==="curveBump")&&n?aR["".concat(r).concat(n==="vertical"?"Y":"X")]:aR[r]||lx},cbe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=lbe(r,o),d=c?a.filter(function(y){return Nm(y)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(y){return Nm(y)}):s,g=d.map(function(y,v){return iR(iR({},y),{},{base:p[v]})});return o==="vertical"?h=xm().y(Rd).x1(jd).x0(function(y){return y.base.x}):h=xm().x(jd).y1(Rd).y0(function(y){return y.base.y}),h.defined(Nm).curve(u),h(g)}return o==="vertical"&&pe(s)?h=xm().y(Rd).x1(jd).x0(s):pe(s)?h=xm().x(jd).y1(Rd).y0(s):h=W6().x(jd).y(Rd),h.defined(Nm).curve(u),h(d)},Nf=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?cbe(e):i;return R.createElement("path",eS({},He(e,!1),b0(e),{className:nt("recharts-curve",n),d:s,ref:a}))},WV={exports:{}},ube="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dbe=ube,fbe=dbe;function HV(){}function GV(){}GV.resetWarningCache=HV;var hbe=function(){function t(r,i,a,s,o,l){if(l!==fbe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:GV,resetWarningCache:HV};return n.PropTypes=n,n};WV.exports=hbe();var pbe=WV.exports;const oe=gt(pbe),{getOwnPropertyNames:mbe,getOwnPropertySymbols:gbe}=Object,{hasOwnProperty:ybe}=Object.prototype;function gw(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Im(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function vbe(t){return t!=null?t[Symbol.toStringTag]:void 0}function sR(t){return mbe(t).concat(gbe(t))}const xbe=Object.hasOwn||((t,e)=>ybe.call(t,e));function Dl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const bbe="__v",wbe="__o",_be="_owner",{getOwnPropertyDescriptor:oR,keys:lR}=Object;function Sbe(t,e){return t.byteLength===e.byteLength&&J0(new Uint8Array(t),new Uint8Array(e))}function Ebe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function kbe(t,e){return t.byteLength===e.byteLength&&J0(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Tbe(t,e){return Dl(t.getTime(),e.getTime())}function Pbe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Abe(t,e){return t===e}function cR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let u=!1,d=0;for(;(o=c.next())&&!o.done;){if(i[d]){d++;continue}const h=s.value,p=o.value;if(n.equals(h[0],p[0],l,d,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const Nbe=Dl;function Ibe(t,e,n){const r=lR(t);let i=r.length;if(lR(e).length!==i)return!1;for(;i-- >0;)if(!KV(t,e,n,r[i]))return!1;return!0}function Md(t,e,n){const r=sR(t);let i=r.length;if(sR(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!KV(t,e,n,a)||(s=oR(t,a),o=oR(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Obe(t,e){return Dl(t.valueOf(),e.valueOf())}function Cbe(t,e){return t.source===e.source&&t.flags===e.flags}function uR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function J0(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function jbe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function KV(t,e,n,r){return(r===_be||r===wbe||r===bbe)&&(t.$$typeof||e.$$typeof)?!0:xbe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Rbe="[object ArrayBuffer]",Mbe="[object Arguments]",Dbe="[object Boolean]",$be="[object DataView]",Lbe="[object Date]",Fbe="[object Error]",Vbe="[object Map]",Ube="[object Number]",Bbe="[object Object]",zbe="[object RegExp]",qbe="[object Set]",Wbe="[object String]",Hbe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Gbe="[object URL]",Kbe=Object.prototype.toString;function Ybe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,x,b){if(v===x)return!0;if(v==null||x==null)return!1;const w=typeof v;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?o(v,x,b):w==="function"?a(v,x,b):!1;const S=v.constructor;if(S!==x.constructor)return!1;if(S===Object)return l(v,x,b);if(Array.isArray(v))return e(v,x,b);if(S===Date)return r(v,x,b);if(S===RegExp)return u(v,x,b);if(S===Map)return s(v,x,b);if(S===Set)return d(v,x,b);const E=Kbe.call(v);if(E===Lbe)return r(v,x,b);if(E===zbe)return u(v,x,b);if(E===Vbe)return s(v,x,b);if(E===qbe)return d(v,x,b);if(E===Bbe)return typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,b);if(E===Gbe)return p(v,x,b);if(E===Fbe)return i(v,x,b);if(E===Mbe)return l(v,x,b);if(Hbe[E])return h(v,x,b);if(E===Rbe)return t(v,x,b);if(E===$be)return n(v,x,b);if(E===Dbe||E===Ube||E===Wbe)return c(v,x,b);if(g){let P=g[E];if(!P){const _=vbe(v);_&&(P=g[_])}if(P)return P(v,x,b)}return!1}}function Qbe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Sbe,areArraysEqual:n?Md:Ebe,areDataViewsEqual:kbe,areDatesEqual:Tbe,areErrorsEqual:Pbe,areFunctionsEqual:Abe,areMapsEqual:n?gw(cR,Md):cR,areNumbersEqual:Nbe,areObjectsEqual:n?Md:Ibe,arePrimitiveWrappersEqual:Obe,areRegExpsEqual:Cbe,areSetsEqual:n?gw(uR,Md):uR,areTypedArraysEqual:n?gw(J0,Md):J0,areUrlsEqual:jbe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Im(r.areArraysEqual),a=Im(r.areMapsEqual),s=Im(r.areObjectsEqual),o=Im(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function Xbe(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function Jbe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const Zbe=Eo();Eo({strict:!0});Eo({circular:!0});Eo({circular:!0,strict:!0});Eo({createInternalComparator:()=>Dl});Eo({strict:!0,createInternalComparator:()=>Dl});Eo({circular:!0,createInternalComparator:()=>Dl});Eo({circular:!0,createInternalComparator:()=>Dl,strict:!0});function Eo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Qbe(t),s=Ybe(a),o=n?n(s):Xbe(s);return Jbe({circular:e,comparator:s,createState:r,equals:o,strict:i})}function ewe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function dR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):ewe(i)};requestAnimationFrame(r)}function tS(t){"@babel/helpers - typeof";return tS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tS(t)}function twe(t){return awe(t)||iwe(t)||rwe(t)||nwe()}function nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rwe(t,e){if(t){if(typeof t=="string")return fR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fR(t,e)}}function fR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function awe(t){if(Array.isArray(t))return t}function swe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=twe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){dR(i.bind(null,c),l);return}i(l),dR(i.bind(null,c));return}tS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){YV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YV(t,e,n){return e=owe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function owe(t){var e=lwe(t,"string");return Mh(e)==="symbol"?e:String(e)}function lwe(t,e){if(Mh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cwe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},uwe=function(e){return e},dwe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},If=function(e,n){return Object.keys(n).reduce(function(r,i){return pR(pR({},r),{},YV({},i,e(i,n[i])))},{})},mR=function(e,n,r){return e.map(function(i){return"".concat(dwe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function fwe(t,e){return mwe(t)||pwe(t,e)||QV(t,e)||hwe()}function hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function mwe(t){if(Array.isArray(t))return t}function gwe(t){return xwe(t)||vwe(t)||QV(t)||ywe()}function ywe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QV(t,e){if(t){if(typeof t=="string")return nS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nS(t,e)}}function vwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xwe(t){if(Array.isArray(t))return nS(t)}function nS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Z0=1e-4,XV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},JV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},gR=function(e,n){return function(r){var i=XV(e,n);return JV(i,r)}},bwe=function(e,n){return function(r){var i=XV(e,n),a=[].concat(gwe(i.map(function(s,o){return s*o}).slice(1)),[0]);return JV(a,r)}},yR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=fwe(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var d=gR(i,s),h=gR(a,o),p=bwe(i,s),g=function(x){return x>1?1:x<0?0:x},y=function(x){for(var b=x>1?1:x,w=b,S=0;S<8;++S){var E=d(w)-b,P=p(w);if(Math.abs(E-b)<Z0||P<Z0)return h(w);w=g(w-E/P)}return h(w)};return y.isStepper=!1,y},wwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*r,g=h*a,y=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-d)<Z0&&Math.abs(y)<Z0?[d,0]:[v,y]};return l.isStepper=!0,l.dt=o,l},_we=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yR(i);case"spring":return wwe();default:if(i.split("(")[0]==="cubic-bezier")return yR(i)}return typeof i=="function"?i:null};function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function vR(t){return kwe(t)||Ewe(t)||ZV(t)||Swe()}function Swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kwe(t){if(Array.isArray(t))return iS(t)}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){rS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rS(t,e,n){return e=Twe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Twe(t){var e=Pwe(t,"string");return Dh(e)==="symbol"?e:String(e)}function Pwe(t,e){if(Dh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Awe(t,e){return Owe(t)||Iwe(t,e)||ZV(t,e)||Nwe()}function Nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZV(t,e){if(t){if(typeof t=="string")return iS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iS(t,e)}}function iS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Owe(t){if(Array.isArray(t))return t}var ey=function(e,n,r){return e+(n-e)*r},aS=function(e){var n=e.from,r=e.to;return n!==r},Cwe=function t(e,n,r){var i=If(function(a,s){if(aS(s)){var o=e(s.from,s.to,s.velocity),l=Awe(o,2),c=l[0],u=l[1];return xn(xn({},s),{},{from:c,velocity:u})}return s},n);return r<1?If(function(a,s){return aS(s)?xn(xn({},s),{},{velocity:ey(s.velocity,i[a].velocity,r),from:ey(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const jwe=function(t,e,n,r,i){var a=cwe(t,e),s=a.reduce(function(v,x){return xn(xn({},v),{},rS({},x,[t[x],e[x]]))},{}),o=a.reduce(function(v,x){return xn(xn({},v),{},rS({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return If(function(x,b){return b.from},o)},p=function(){return!Object.values(o).filter(aS).length},g=function(x){c||(c=x);var b=x-c,w=b/n.dt;o=Cwe(n,o,w),i(xn(xn(xn({},t),e),h())),c=x,p()||(l=requestAnimationFrame(d))},y=function(x){u||(u=x);var b=(x-u)/r,w=If(function(E,P){return ey.apply(void 0,vR(P).concat([n(b)]))},s);if(i(xn(xn(xn({},t),e),w)),b<1)l=requestAnimationFrame(d);else{var S=If(function(E,P){return ey.apply(void 0,vR(P).concat([n(1)]))},s);i(xn(xn(xn({},t),e),S))}};return d=n.isStepper?g:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}var Rwe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Mwe(t,e){if(t==null)return{};var n=Dwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yw(t){return Vwe(t)||Fwe(t)||Lwe(t)||$we()}function $we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lwe(t,e){if(t){if(typeof t=="string")return sS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sS(t,e)}}function Fwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vwe(t){if(Array.isArray(t))return sS(t)}function sS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){Xd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xd(t,e,n){return e=e8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e8(r.key),r)}}function zwe(t,e,n){return e&&Bwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e8(t){var e=qwe(t,"string");return du(e)==="symbol"?e:String(e)}function qwe(t,e){if(du(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oS(t,e)}function oS(t,e){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oS(t,e)}function Hwe(t){var e=Gwe();return function(){var r=ty(t),i;if(e){var a=ty(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return lS(this,i)}}function lS(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cS(t)}function cS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}var Xa=function(t){Wwe(n,t);var e=Hwe(n);function n(r,i){var a;Uwe(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(cS(a)),a.changeStyle=a.changeStyle.bind(cS(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),lS(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof h=="function")return a.state={style:c},lS(a);a.state={style:l?Xd({},l,c):c}}else a.state={style:{}};return a}return zwe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Xd({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(Zbe(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||c?d:i.to;if(this.state&&h){var v={style:l?Xd({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(v)}this.runAnimation(di(di({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=jwe(s,o,_we(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(y,v,x){if(x===0)return y;var b=v.duration,w=v.easing,S=w===void 0?"ease":w,E=v.style,P=v.properties,_=v.onAnimationEnd,k=x>0?s[x-1]:v,A=P||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(yw(y),[a.runJSAnimation.bind(a,{from:k.style,to:E,duration:b,easing:S}),b]);var I=mR(A,b,S),C=di(di(di({},k.style),E),{},{transition:I});return[].concat(yw(y),[C,b,_]).filter(uwe)};return this.manager.start([l].concat(yw(s.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=swe());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=o?Xd({},o,l):l,v=mR(Object.keys(y),s,c);g.start([u,a,di(di({},y),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Mwe(i,Rwe),c=R.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var d=function(p){var g=p.props,y=g.style,v=y===void 0?{}:y,x=g.className,b=R.cloneElement(p,di(di({},l),{},{style:di(di({},v),u),className:x}));return b};return c===1?d(R.Children.only(a)):z.createElement("div",null,R.Children.map(a,function(h){return d(h)}))}}]),n}(R.PureComponent);Xa.displayName="Animate";Xa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xa.propTypes={from:oe.oneOfType([oe.object,oe.string]),to:oe.oneOfType([oe.object,oe.string]),attributeName:oe.string,duration:oe.number,begin:oe.number,easing:oe.oneOfType([oe.string,oe.func]),steps:oe.arrayOf(oe.shape({duration:oe.number.isRequired,style:oe.object.isRequired,easing:oe.oneOfType([oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),oe.func]),properties:oe.arrayOf("string"),onAnimationEnd:oe.func})),children:oe.oneOfType([oe.node,oe.func]),isActive:oe.bool,canBegin:oe.bool,onAnimationEnd:oe.func,shouldReAnimate:oe.bool,onAnimationStart:oe.func,onAnimationReStart:oe.func};function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(this,arguments)}function Kwe(t,e){return Jwe(t)||Xwe(t,e)||Qwe(t,e)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qwe(t,e){if(t){if(typeof t=="string")return wR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wR(t,e)}}function wR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Jwe(t){if(Array.isArray(t))return t}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){Zwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zwe(t,e,n){return e=e1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e1e(t){var e=t1e(t,"string");return $h(e)=="symbol"?e:e+""}function t1e(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ER=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>s?s:a[h];u="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),u+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);u="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*g," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},n1e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},r1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yP=function(e){var n=SR(SR({},r1e),e),r=R.useRef(),i=R.useState(-1),a=Kwe(i,2),s=a[0],o=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,p=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=nt("recharts-rectangle",p);return b?z.createElement(Xa,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:y,animationEasing:g,isActive:b},function(S){var E=S.width,P=S.height,_=S.x,k=S.y;return z.createElement(Xa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:x,easing:g},z.createElement("path",ny({},He(n,!0),{className:w,d:ER(_,k,E,P,h),ref:r})))}):z.createElement("path",ny({},He(n,!0),{className:w,d:ER(l,c,u,d,h)}))};function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uS.apply(this,arguments)}var vP=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=nt("recharts-dot",a);return n===+n&&r===+r&&i===+i?R.createElement("circle",uS({},He(e,!1),b0(e),{className:s,cx:n,cy:r,r:i})):null};function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}var i1e=["x","y","top","left","width","height","className"];function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(this,arguments)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){s1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s1e(t,e,n){return e=o1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o1e(t){var e=l1e(t,"string");return Lh(e)=="symbol"?e:e+""}function l1e(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c1e(t,e){if(t==null)return{};var n=u1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var d1e=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},f1e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,p=h===void 0?0:h,g=e.className,y=c1e(e,i1e),v=a1e({x:r,y:a,top:o,left:c,width:d,height:p},y);return!pe(r)||!pe(a)||!pe(d)||!pe(p)||!pe(o)||!pe(c)?null:z.createElement("path",dS({},He(v,!0),{className:nt("recharts-cross",g),d:d1e(r,a,d,p,o,c)}))},h1e=mF,p1e=h1e(Object.getPrototypeOf,Object),m1e=p1e,g1e=ts,y1e=m1e,v1e=ns,x1e="[object Object]",b1e=Function.prototype,w1e=Object.prototype,t8=b1e.toString,_1e=w1e.hasOwnProperty,S1e=t8.call(Object);function E1e(t){if(!v1e(t)||g1e(t)!=x1e)return!1;var e=y1e(t);if(e===null)return!0;var n=_1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&t8.call(n)==S1e}var k1e=E1e;const T1e=gt(k1e);var P1e=ts,A1e=ns,N1e="[object Boolean]";function I1e(t){return t===!0||t===!1||A1e(t)&&P1e(t)==N1e}var O1e=I1e;const C1e=gt(O1e);function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ry.apply(this,arguments)}function j1e(t,e){return $1e(t)||D1e(t,e)||M1e(t,e)||R1e()}function R1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M1e(t,e){if(t){if(typeof t=="string")return TR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TR(t,e)}}function TR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function $1e(t){if(Array.isArray(t))return t}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){L1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L1e(t,e,n){return e=F1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F1e(t){var e=V1e(t,"string");return Fh(e)=="symbol"?e:e+""}function V1e(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NR=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},U1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B1e=function(e){var n=AR(AR({},U1e),e),r=R.useRef(),i=R.useState(-1),a=j1e(i,2),s=a[0],o=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var b=nt("recharts-trapezoid",p);return x?z.createElement(Xa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:y,animationEasing:g,isActive:x},function(w){var S=w.upperWidth,E=w.lowerWidth,P=w.height,_=w.x,k=w.y;return z.createElement(Xa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:g},z.createElement("path",ry({},He(n,!0),{className:b,d:NR(_,k,S,E,P),ref:r})))}):z.createElement("g",null,z.createElement("path",ry({},He(n,!0),{className:b,d:NR(l,c,u,d,h)})))},z1e=["option","shapeType","propTransformer","activeClassName","isActive"];function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function q1e(t,e){if(t==null)return{};var n=W1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){H1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H1e(t,e,n){return e=G1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G1e(t){var e=K1e(t,"string");return Vh(e)=="symbol"?e:e+""}function K1e(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y1e(t,e){return iy(iy({},e),t)}function Q1e(t,e){return t==="symbols"}function OR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(yP,n);case"trapezoid":return z.createElement(B1e,n);case"sector":return z.createElement(qV,n);case"symbols":if(Q1e(e))return z.createElement(DT,n);break;default:return null}}function X1e(t){return R.isValidElement(t)?t.props:t}function J1e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Y1e:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=q1e(t,z1e),c;if(R.isValidElement(e))c=R.cloneElement(e,iy(iy({},l),X1e(e)));else if(Be(e))c=e(l);else if(T1e(e)&&!C1e(e)){var u=i(e,l);c=z.createElement(OR,{shapeType:n,elementProps:u})}else{var d=l;c=z.createElement(OR,{shapeType:n,elementProps:d})}return o?z.createElement(Ot,{className:s},c):c}function Sx(t,e){return e!=null&&"trapezoids"in t.props}function Ex(t,e){return e!=null&&"sectors"in t.props}function Uh(t,e){return e!=null&&"points"in t.props}function Z1e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function e_e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function t_e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function n_e(t,e){var n;return Sx(t,e)?n=Z1e:Ex(t,e)?n=e_e:Uh(t,e)&&(n=t_e),n}function r_e(t,e){var n;return Sx(t,e)?n="trapezoids":Ex(t,e)?n="sectors":Uh(t,e)&&(n="points"),n}function i_e(t,e){if(Sx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ex(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Uh(t,e)?e.payload:{}}function a_e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=r_e(n,e),a=i_e(n,e),s=r.filter(function(l,c){var u=Eh(a,l),d=n.props[i].filter(function(g){var y=n_e(n,e);return y(g,e)}),h=n.props[i].indexOf(d[d.length-1]),p=c===h;return u&&p}),o=r.indexOf(s[s.length-1]);return o}var s_e=Math.ceil,o_e=Math.max;function l_e(t,e,n,r){for(var i=-1,a=o_e(s_e((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var c_e=l_e,u_e=RF,CR=1/0,d_e=17976931348623157e292;function f_e(t){if(!t)return t===0?t:0;if(t=u_e(t),t===CR||t===-CR){var e=t<0?-1:1;return e*d_e}return t===t?t:0}var n8=f_e,h_e=c_e,p_e=fx,vw=n8;function m_e(t){return function(e,n,r){return r&&typeof r!="number"&&p_e(e,n,r)&&(n=r=void 0),e=vw(e),n===void 0?(n=e,e=0):n=vw(n),r=r===void 0?e<n?1:-1:vw(r),h_e(e,n,r,t)}}var g_e=m_e,y_e=g_e,v_e=y_e(),x_e=v_e;const ay=gt(x_e);function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){r8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r8(t,e,n){return e=b_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b_e(t){var e=w_e(t,"string");return Bh(e)=="symbol"?e:e+""}function w_e(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var __e=["Webkit","Moz","O","ms"],S_e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=__e.reduce(function(a,s){return RR(RR({},a),{},r8({},s+r,n))},{});return i[e]=n,i};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sy.apply(this,arguments)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a8(r.key),r)}}function k_e(t,e,n){return e&&DR(t.prototype,e),n&&DR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T_e(t,e,n){return e=oy(e),P_e(t,i8()?Reflect.construct(e,n||[],oy(t).constructor):e.apply(t,n))}function P_e(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A_e(t)}function A_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!t})()}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oy(t)}function N_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fS(t,e)}function fS(t,e){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fS(t,e)}function xr(t,e,n){return e=a8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a8(t){var e=I_e(t,"string");return fu(e)=="symbol"?e:e+""}function I_e(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O_e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Pf().domain(ay(0,l)).range([a,a+s-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},$R=function(e){return e.changedTouches&&!!e.changedTouches.length},hu=function(t){function e(n){var r;return E_e(this,e),r=T_e(this,e,[n]),xr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),xr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),xr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),xr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),xr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),xr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),xr(r,"handleSlideDragStart",function(i){var a=$R(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return N_e(e,t),k_e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,d),g=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Cr(a[r],o,r);return Be(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,y=r.pageX-a;y>0?y=Math.min(y,c+u-d-o,c+u-d-s):y<0&&(y=Math.max(y,c-s,c-o));var v=this.getIndex({startX:s+y,endX:o+y});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+y,endX:o+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=$R(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,y=u.gap,v=u.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,d+h-p-c):b<0&&(b=Math.max(b,d-c)),x[s]=c+b;var w=this.getIndex(x),S=w.startIndex,E=w.endIndex,P=function(){var k=v.length-1;return s==="startX"&&(o>l?S%y===0:E%y===0)||o<l&&E===k||s==="endX"&&(o>l?E%y===0:S%y===0)||o>l&&E===k};this.setState(xr(xr({},s,c+b),"brushMoveStartX",r.pageX),function(){g&&P()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(xr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return z.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=R.Children.only(c);return d?z.cloneElement(d,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,y=l.startIndex,v=l.endIndex,x=Math.max(r,this.props.x),b=xw(xw({},He(this.props,!1)),{},{x,y:c,width:u,height:d}),w=p||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return z.createElement(Ot,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return z.createElement(Ot,{className:"recharts-brush-texts"},z.createElement(M0,sy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(i)),z.createElement(M0,sy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,y=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!pe(o)||!pe(l)||!pe(c)||!pe(u)||c<=0||u<=0)return null;var w=nt("recharts-brush",a),S=z.Children.count(s)===1,E=S_e("userSelect","none");return z.createElement(Ot,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||v||x||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):Be(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return xw({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?O_e({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(R.PureComponent);xr(hu,"displayName","Brush");xr(hu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var C_e=zT;function j_e(t,e){var n;return C_e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var R_e=j_e,M_e=oF,D_e=wo,$_e=R_e,L_e=yr,F_e=fx;function V_e(t,e,n){var r=L_e(t)?M_e:$_e;return n&&F_e(t,e,n)&&(e=void 0),r(t,D_e(e))}var U_e=V_e;const B_e=gt(U_e);var ta=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},LR=NF;function z_e(t,e,n){e=="__proto__"&&LR?LR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var q_e=z_e,W_e=q_e,H_e=PF,G_e=wo;function K_e(t,e){var n={};return e=G_e(e),H_e(t,function(r,i,a){W_e(n,i,e(r,i,a))}),n}var Y_e=K_e;const Q_e=gt(Y_e);function X_e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var J_e=X_e,Z_e=zT;function eSe(t,e){var n=!0;return Z_e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var tSe=eSe,nSe=J_e,rSe=tSe,iSe=wo,aSe=yr,sSe=fx;function oSe(t,e,n){var r=aSe(t)?nSe:rSe;return n&&sSe(t,e,n)&&(e=void 0),r(t,iSe(e))}var lSe=oSe;const s8=gt(lSe);var cSe=["x","y"];function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hS.apply(this,arguments)}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){uSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uSe(t,e,n){return e=dSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dSe(t){var e=fSe(t,"string");return zh(e)=="symbol"?e:e+""}function fSe(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hSe(t,e){if(t==null)return{};var n=pSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mSe(t,e){var n=t.x,r=t.y,i=hSe(t,cSe),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Dd(Dd(Dd(Dd(Dd({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function VR(t){return z.createElement(J1e,hS({shapeType:"rectangle",propTransformer:mSe,activeClassName:"recharts-active-bar"},t))}var gSe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=pe(r)||Aie(r);return a?e(r,i):(a||bl(),n)}},ySe=["value","background"],o8;function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function vSe(t,e){if(t==null)return{};var n=xSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(this,arguments)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Rs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c8(r.key),r)}}function wSe(t,e,n){return e&&BR(t.prototype,e),n&&BR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Se(t,e,n){return e=cy(e),SSe(t,l8()?Reflect.construct(e,n||[],cy(t).constructor):e.apply(t,n))}function SSe(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ESe(t)}function ESe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l8=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(t)}function kSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pS(t,e)}function pS(t,e){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pS(t,e)}function Rs(t,e,n){return e=c8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c8(t){var e=TSe(t,"string");return pu(e)=="symbol"?e:e+""}function TSe(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ap=function(t){function e(){var n;bSe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=_Se(this,e,[].concat(i)),Rs(n,"state",{isAnimationFinished:!1}),Rs(n,"id",_p("recharts-bar-")),Rs(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Rs(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return kSe(e,t),wSe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=He(this.props,!1);return r&&r.map(function(d,h){var p=h===l,g=p?c:s,y=Kt(Kt(Kt({},u),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(Ot,ly({className:"recharts-bar-rectangle"},w0(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),z.createElement(VR,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return z.createElement(Xa,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,y=a.map(function(v,x){var b=h&&h[x];if(b){var w=Wr(b.x,v.x),S=Wr(b.y,v.y),E=Wr(b.width,v.width),P=Wr(b.height,v.height);return Kt(Kt({},v),{},{x:w(g),y:S(g),width:E(g),height:P(g)})}if(s==="horizontal"){var _=Wr(0,v.height),k=_(g);return Kt(Kt({},v),{},{y:v.y+v.height-k,height:k})}var A=Wr(0,v.width),I=A(g);return Kt(Kt({},v),{},{width:I})});return z.createElement(Ot,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Eh(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=He(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,h=vSe(c,ySe);if(!d)return null;var p=Kt(Kt(Kt(Kt(Kt({},h),{},{fill:"#eee"},d),l),w0(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return z.createElement(VR,ly({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=Ai(u,_x);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Cr(v,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(Ot,g,d.map(function(y){return z.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,p=r.isAnimationActive,g=r.background,y=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=nt("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,S=b||w,E=Je(y)?this.id:y;return z.createElement(Ot,{className:x},b||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(E)},z.createElement("rect",{x:b?c:c-d/2,y:w?u:u-h/2,width:b?d:d*2,height:w?h:h*2}))):null,z.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!p||v)&&Zs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);o8=Ap;Rs(Ap,"displayName","Bar");Rs(Ap,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Rs(Ap,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=Jve(r,n);if(!p)return null;var g=e.layout,y=n.type.defaultProps,v=y!==void 0?Kt(Kt({},y),n.props):n.props,x=v.dataKey,b=v.children,w=v.minPointSize,S=g==="horizontal"?s:a,E=c?S.scale.domain():null,P=sxe({numericAxis:S}),_=Ai(b,DF),k=d.map(function(A,I){var C,j,O,M,D,L;c?C=Zve(c[u+I],E):(C=Cr(A,x),Array.isArray(C)||(C=[P,C]));var q=gSe(w,o8.defaultProps.minPointSize)(C[1],I);if(g==="horizontal"){var F,V=[s.scale(C[0]),s.scale(C[1])],G=V[0],Y=V[1];j=qj({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:A,index:I}),O=(F=Y??G)!==null&&F!==void 0?F:void 0,M=p.size;var B=G-Y;if(D=Number.isNaN(B)?0:B,L={x:j,y:s.y,width:M,height:s.height},Math.abs(q)>0&&Math.abs(D)<Math.abs(q)){var ae=wi(D||q)*(Math.abs(q)-Math.abs(D));O-=ae,D+=ae}}else{var ge=[a.scale(C[0]),a.scale(C[1])],ye=ge[0],te=ge[1];if(j=ye,O=qj({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:A,index:I}),M=te-ye,D=p.size,L={x:a.x,y:O,width:a.width,height:D},Math.abs(q)>0&&Math.abs(M)<Math.abs(q)){var ie=wi(M||q)*(Math.abs(q)-Math.abs(M));M+=ie}}return Kt(Kt(Kt({},A),{},{x:j,y:O,width:M,height:D,value:c?C:C[1],payload:A,background:L},_&&_[I]&&_[I].props),{},{tooltipPayload:[UV(n,A)],tooltipPosition:{x:j+M/2,y:O+D/2}})});return Kt({data:k,layout:g},h)});function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function PSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u8(r.key),r)}}function ASe(t,e,n){return e&&zR(t.prototype,e),n&&zR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){kx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kx(t,e,n){return e=u8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u8(t){var e=NSe(t,"string");return qh(e)=="symbol"?e:e+""}function NSe(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ISe=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!wr(c,Ap);return u.reduce(function(p,g){var y=n[g],v=y.orientation,x=y.domain,b=y.padding,w=b===void 0?{}:b,S=y.mirror,E=y.reversed,P="".concat(v).concat(S?"Mirror":""),_,k,A,I,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var j=x[1]-x[0],O=1/0,M=y.categoricalDomain.sort(Oie);if(M.forEach(function(ge,ye){ye>0&&(O=Math.min((ge||0)-(M[ye-1]||0),O))}),Number.isFinite(O)){var D=O/j,L=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(_=D*L/2),y.padding==="no-gap"){var q=vl(e.barCategoryGap,D*L),F=D*L/2;_=F-q-(F-q)/L*q}}}i==="xAxis"?k=[r.left+(w.left||0)+(_||0),r.left+r.width-(w.right||0)-(_||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(_||0),r.top+r.height-(w.bottom||0)-(_||0)]:k=y.range,E&&(k=[k[1],k[0]]);var V=Qve(y,a,h),G=V.scale,Y=V.realScaleType;G.domain(x).range(k),Xve(G);var B=axe(G,pi(pi({},y),{},{realScaleType:Y}));i==="xAxis"?(C=v==="top"&&!S||v==="bottom"&&S,A=r.left,I=d[P]-C*y.height):i==="yAxis"&&(C=v==="left"&&!S||v==="right"&&S,A=d[P]-C*y.width,I=r.top);var ae=pi(pi(pi({},y),B),{},{realScaleType:Y,x:A,y:I,scale:G,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ae.bandSize=Y0(ae,B),!y.hide&&i==="xAxis"?d[P]+=(C?-1:1)*ae.height:y.hide||(d[P]+=(C?-1:1)*ae.width),pi(pi({},p),{},kx({},g,ae))},{})},d8=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},OSe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return d8({x:n,y:r},{x:i,y:a})},f8=function(){function t(e){PSe(this,t),this.scale=e}return ASe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();kx(f8,"EPS",1e-4);var xP=function(e){var n=Object.keys(e).reduce(function(r,i){return pi(pi({},r),{},kx({},i,f8.create(e[i])))},{});return pi(pi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Q_e(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return s8(i,function(a,s){return n[s].isInRange(a)})}})};function CSe(t){return(t%180+180)%180}var jSe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=CSe(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},RSe=wo,MSe=Sp,DSe=ux;function $Se(t){return function(e,n,r){var i=Object(e);if(!MSe(e)){var a=RSe(n);e=DSe(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var LSe=$Se,FSe=n8;function VSe(t){var e=FSe(t),n=e%1;return e===e?n?e-n:e:0}var USe=VSe,BSe=wF,zSe=wo,qSe=USe,WSe=Math.max;function HSe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:qSe(n);return i<0&&(i=WSe(r+i,0)),BSe(t,zSe(e),i)}var GSe=HSe,KSe=LSe,YSe=GSe,QSe=KSe(YSe),XSe=QSe;const JSe=gt(XSe);var ZSe=Rre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),bP=R.createContext(void 0),wP=R.createContext(void 0),h8=R.createContext(void 0),p8=R.createContext({}),m8=R.createContext(void 0),g8=R.createContext(0),y8=R.createContext(0),WR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=ZSe(a);return z.createElement(bP.Provider,{value:r},z.createElement(wP.Provider,{value:i},z.createElement(p8.Provider,{value:a},z.createElement(h8.Provider,{value:u},z.createElement(m8.Provider,{value:s},z.createElement(g8.Provider,{value:c},z.createElement(y8.Provider,{value:l},o)))))))},eEe=function(){return R.useContext(m8)},v8=function(e){var n=R.useContext(bP);n==null&&bl();var r=n[e];return r==null&&bl(),r},tEe=function(){var e=R.useContext(bP);return As(e)},nEe=function(){var e=R.useContext(wP),n=JSe(e,function(r){return s8(r.domain,Number.isFinite)});return n||As(e)},x8=function(e){var n=R.useContext(wP);n==null&&bl();var r=n[e];return r==null&&bl(),r},rEe=function(){var e=R.useContext(h8);return e},iEe=function(){return R.useContext(p8)},_P=function(){return R.useContext(y8)},SP=function(){return R.useContext(g8)};function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function aEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w8(r.key),r)}}function oEe(t,e,n){return e&&sEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lEe(t,e,n){return e=uy(e),cEe(t,b8()?Reflect.construct(e,n||[],uy(t).constructor):e.apply(t,n))}function cEe(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uEe(t)}function uEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b8=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uy(t)}function dEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mS(t,e)}function mS(t,e){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mS(t,e)}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){EP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EP(t,e,n){return e=w8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w8(t){var e=fEe(t,"string");return mu(e)=="symbol"?e:e+""}function fEe(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hEe(t,e){return yEe(t)||gEe(t,e)||mEe(t,e)||pEe()}function pEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mEe(t,e){if(t){if(typeof t=="string")return KR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KR(t,e)}}function KR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function yEe(t){if(Array.isArray(t))return t}function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gS.apply(this,arguments)}var vEe=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):Be(e)?r=e(n):r=z.createElement("line",gS({},n,{className:"recharts-reference-line-line"})),r},xEe=function(e,n,r,i,a,s,o,l,c){var u=a.x,d=a.y,h=a.width,p=a.height;if(r){var g=c.y,y=e.y.apply(g,{position:s});if(ta(c,"discard")&&!e.y.isInRange(y))return null;var v=[{x:u+h,y},{x:u,y}];return l==="left"?v.reverse():v}if(n){var x=c.x,b=e.x.apply(x,{position:s});if(ta(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+p},{x:b,y:d}];return o==="top"?w.reverse():w}if(i){var S=c.segment,E=S.map(function(P){return e.apply(P,{position:s})});return ta(c,"discard")&&B_e(E,function(P){return!e.isInRange(P)})?null:E}return null};function bEe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=eEe(),u=v8(i),d=x8(a),h=rEe();if(!c||!h)return null;$a(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=xP({x:u.scale,y:d.scale}),g=on(e),y=on(n),v=r&&r.length===2,x=xEe(p,g,y,v,h,t.position,u.orientation,d.orientation,t);if(!x)return null;var b=hEe(x,2),w=b[0],S=w.x,E=w.y,P=b[1],_=P.x,k=P.y,A=ta(t,"hidden")?"url(#".concat(c,")"):void 0,I=GR(GR({clipPath:A},He(t,!0)),{},{x1:S,y1:E,x2:_,y2:k});return z.createElement(Ot,{className:nt("recharts-reference-line",o)},vEe(s,I),Mn.renderCallByParent(t,OSe({x1:S,y1:E,x2:_,y2:k})))}var kP=function(t){function e(){return aEe(this,e),lEe(this,e,arguments)}return dEe(e,t),oEe(e,[{key:"render",value:function(){return z.createElement(bEe,this.props)}}])}(z.Component);EP(kP,"displayName","ReferenceLine");EP(kP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(this,arguments)}function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Tx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S8(r.key),r)}}function SEe(t,e,n){return e&&_Ee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EEe(t,e,n){return e=dy(e),kEe(t,_8()?Reflect.construct(e,n||[],dy(t).constructor):e.apply(t,n))}function kEe(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TEe(t)}function TEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_8=function(){return!!t})()}function dy(t){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dy(t)}function PEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vS(t,e)}function Tx(t,e,n){return e=S8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S8(t){var e=AEe(t,"string");return gu(e)=="symbol"?e:e+""}function AEe(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NEe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=xP({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return ta(e,"discard")&&!s.isInRange(o)?null:o},Px=function(t){function e(){return wEe(this,e),EEe(this,e,arguments)}return PEe(e,t),SEe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=on(i),u=on(a);if($a(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=NEe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,y=g.shape,v=g.className,x=ta(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=QR(QR({clipPath:x},He(this.props,!0)),{},{cx:h,cy:p});return z.createElement(Ot,{className:nt("recharts-reference-dot",v)},e.renderDot(y,b),Mn.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(z.Component);Tx(Px,"displayName","ReferenceDot");Tx(Px,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tx(Px,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Be(t)?n=t(e):n=z.createElement(vP,yS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function xS(){return xS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xS.apply(this,arguments)}function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){Ax(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k8(r.key),r)}}function CEe(t,e,n){return e&&OEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jEe(t,e,n){return e=fy(e),REe(t,E8()?Reflect.construct(e,n||[],fy(t).constructor):e.apply(t,n))}function REe(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MEe(t)}function MEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E8=function(){return!!t})()}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(t)}function DEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bS(t,e)}function bS(t,e){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bS(t,e)}function Ax(t,e,n){return e=k8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k8(t){var e=$Ee(t,"string");return yu(e)=="symbol"?e:e+""}function $Ee(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LEe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var h=xP({x:u.scale,y:d.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return ta(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:d8(p,g)},Nx=function(t){function e(){return IEe(this,e),jEe(this,e,arguments)}return DEe(e,t),CEe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;$a(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=on(i),h=on(a),p=on(s),g=on(o),y=this.props.shape;if(!d&&!h&&!p&&!g&&!y)return null;var v=LEe(d,h,p,g,this.props);if(!v&&!y)return null;var x=ta(this.props,"hidden")?"url(#".concat(u,")"):void 0;return z.createElement(Ot,{className:nt("recharts-reference-area",l)},e.renderRect(y,JR(JR({clipPath:x},He(this.props,!0)),v)),Mn.renderCallByParent(this.props,v))}}])}(z.Component);Ax(Nx,"displayName","ReferenceArea");Ax(Nx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ax(Nx,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Be(t)?n=t(e):n=z.createElement(yP,xS({},e,{className:"recharts-reference-area-rect"})),n});function T8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function FEe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return jSe(r,n)}function VEe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function hy(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function UEe(t,e){return T8(t,e+1)}function BEe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:T8(r,c)};var y=l,v,x=function(){return v===void 0&&(v=n(g,y)),v},b=g.coordinate,w=l===0||hy(t,b,x,u,o);w||(l=0,u=s,c+=1),w&&(u=b+t*(x()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){zEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zEe(t,e,n){return e=qEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qEe(t){var e=WEe(t,"string");return Wh(e)=="symbol"?e:e+""}function WEe(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HEe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],g,y=function(){return g===void 0&&(g=n(p,h)),g};if(h===s-1){var v=t*(p.coordinate+t*y()/2-l);a[h]=p=On(On({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=On(On({},p),{},{tickCoord:p.coordinate});var x=hy(t,p.tickCoord,y,o,l);x&&(l=p.tickCoord-t*(y()/2+i),a[h]=On(On({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function GEe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=r[o-1],d=n(u,o-1),h=t*(u.coordinate+t*d/2-c);s[o-1]=u=On(On({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=hy(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),s[o-1]=On(On({},u),{},{isShow:!0}))}for(var g=a?o-1:o,y=function(b){var w=s[b],S,E=function(){return S===void 0&&(S=n(w,b)),S};if(b===0){var P=t*(w.coordinate-t*E()/2-l);s[b]=w=On(On({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else s[b]=w=On(On({},w),{},{tickCoord:w.coordinate});var _=hy(t,w.tickCoord,E,l,c);_&&(l=w.tickCoord+t*(E()/2+i),s[b]=On(On({},w),{},{isShow:!0}))},v=0;v<g;v++)y(v);return s}function TP(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(pe(l)||Zu.isSsr)return UEe(i,typeof l=="number"&&pe(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?Tf(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(w,S){var E=Be(c)?c(w.value,S):w.value;return p==="width"?FEe(Tf(E,{fontSize:e,letterSpacing:n}),g,d):Tf(E,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?wi(i[1].coordinate-i[0].coordinate):1,x=VEe(a,v,p);return l==="equidistantPreserveStart"?BEe(v,x,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=GEe(v,x,y,i,s,l==="preserveStartEnd"):h=HEe(v,x,y,i,s),h.filter(function(b){return b.isShow}))}var KEe=["viewBox"],YEe=["viewBox"],QEe=["ticks"];function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){PP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bw(t,e){if(t==null)return{};var n=XEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A8(r.key),r)}}function ZEe(t,e,n){return e&&tM(t.prototype,e),n&&tM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eke(t,e,n){return e=py(e),tke(t,P8()?Reflect.construct(e,n||[],py(t).constructor):e.apply(t,n))}function tke(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nke(t)}function nke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P8=function(){return!!t})()}function py(t){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},py(t)}function rke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wS(t,e)}function PP(t,e,n){return e=A8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A8(t){var e=ike(t,"string");return vu(e)=="symbol"?e:e+""}function ike(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rd=function(t){function e(n){var r;return JEe(this,e),r=eke(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return rke(e,t),ZEe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=bw(r,KEe),o=this.props,l=o.viewBox,c=bw(o,YEe);return!jc(a,l)||!jc(s,c)||!jc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,p,g,y,v,x,b,w=d?-1:1,S=r.tickSize||u,E=pe(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=g=r.coordinate,v=s+ +!d*l,y=v-w*S,b=y-w*h,x=E;break;case"left":y=v=r.coordinate,g=a+ +!d*o,p=g-w*S,x=p-w*h,b=E;break;case"right":y=v=r.coordinate,g=a+ +d*o,p=g+w*S,x=p+w*h,b=E;break;default:p=g=r.coordinate,v=s+ +d*l,y=v+w*S,b=y+w*h,x=E;break}return{line:{x1:p,y1:y,x2:g,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=nn(nn(nn({},He(this.props,!1)),He(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=nn(nn({},d),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=nn(nn({},d),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return z.createElement("line",mc({},d,{className:nt("recharts-cartesian-axis-line",ei(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,p=TP(nn(nn({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=He(this.props,!1),x=He(u,!1),b=nn(nn({},v),{},{fill:"none"},He(l,!1)),w=p.map(function(S,E){var P=s.getTickLineCoord(S),_=P.line,k=P.tick,A=nn(nn(nn(nn({textAnchor:g,verticalAnchor:y},v),{},{stroke:"none",fill:c},x),k),{},{index:E,payload:S,visibleTicksCount:p.length,tickFormatter:d});return z.createElement(Ot,mc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},w0(s.props,S,E)),l&&z.createElement("line",mc({},b,_,{className:nt("recharts-cartesian-axis-tick-line",ei(l,"className"))})),u&&e.renderTickItem(u,A,"".concat(Be(d)?d(S.value,E):S.value).concat(h||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,p=bw(d,QEe),g=h;return Be(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:z.createElement(Ot,{className:nt("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Mn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=nt(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?s=z.cloneElement(r,nn(nn({},i),{},{className:o})):Be(r)?s=r(nn(nn({},i),{},{className:o})):s=z.createElement(M0,mc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(R.Component);PP(rd,"displayName","CartesianAxis");PP(rd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ake=["x1","y1","x2","y2","key"],ske=["offset"];function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){oke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oke(t,e,n){return e=lke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lke(t){var e=cke(t,"string");return wl(e)=="symbol"?e:e+""}function cke(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(this,arguments)}function rM(t,e){if(t==null)return{};var n=uke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dke=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return z.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function N8(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(Be(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=rM(e,ake),c=He(l,!1);c.offset;var u=rM(c,ske);n=z.createElement("line",Yo({},u,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function fke(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Dn(Dn({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return N8(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function hke(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=Dn(Dn({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return N8(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function pke(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],y=g?i+s-h:u[p+1]-h;if(y<=0)return null;var v=p%e.length;return z.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function mke(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],y=g?a+o-h:u[p+1]-h;if(y<=0)return null;var v=p%r.length;return z.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:y,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var gke=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return FV(TP(Dn(Dn(Dn({},rd.defaultProps),r),{},{ticks:Oa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},yke=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return FV(TP(Dn(Dn(Dn({},rd.defaultProps),r),{},{ticks:Oa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Hl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function I8(t){var e,n,r,i,a,s,o=_P(),l=SP(),c=iEe(),u=Dn(Dn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Hl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Hl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Hl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Hl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Hl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Hl.verticalFill,x:pe(t.x)?t.x:c.left,y:pe(t.y)?t.y:c.top,width:pe(t.width)?t.width:c.width,height:pe(t.height)?t.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,y=u.syncWithTicks,v=u.horizontalValues,x=u.verticalValues,b=tEe(),w=nEe();if(!pe(p)||p<=0||!pe(g)||g<=0||!pe(d)||d!==+d||!pe(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||gke,E=u.horizontalCoordinatesGenerator||yke,P=u.horizontalPoints,_=u.verticalPoints;if((!P||!P.length)&&Be(E)){var k=v&&v.length,A=E({yAxis:w?Dn(Dn({},w),{},{ticks:k?v:w.ticks}):void 0,width:o,height:l,offset:c},k?!0:y);$a(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wl(A),"]")),Array.isArray(A)&&(P=A)}if((!_||!_.length)&&Be(S)){var I=x&&x.length,C=S({xAxis:b?Dn(Dn({},b),{},{ticks:I?x:b.ticks}):void 0,width:o,height:l,offset:c},I?!0:y);$a(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wl(C),"]")),Array.isArray(C)&&(_=C)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(dke,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),z.createElement(fke,Yo({},u,{offset:c,horizontalPoints:P,xAxis:b,yAxis:w})),z.createElement(hke,Yo({},u,{offset:c,verticalPoints:_,xAxis:b,yAxis:w})),z.createElement(pke,Yo({},u,{horizontalPoints:P})),z.createElement(mke,Yo({},u,{verticalPoints:_})))}I8.displayName="CartesianGrid";var vke=["layout","type","stroke","connectNulls","isRange","ref"],xke=["key"],O8;function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function C8(t,e){if(t==null)return{};var n=bke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qo.apply(this,arguments)}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){Hi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R8(r.key),r)}}function _ke(t,e,n){return e&&aM(t.prototype,e),n&&aM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ske(t,e,n){return e=my(e),Eke(t,j8()?Reflect.construct(e,n||[],my(t).constructor):e.apply(t,n))}function Eke(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kke(t)}function kke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j8=function(){return!!t})()}function my(t){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},my(t)}function Tke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_S(t,e)}function _S(t,e){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_S(t,e)}function Hi(t,e,n){return e=R8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R8(t){var e=Pke(t,"string");return xu(e)=="symbol"?e:e+""}function Pke(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ko=function(t){function e(){var n;wke(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ske(this,e,[].concat(i)),Hi(n,"state",{isAnimationFinished:!0}),Hi(n,"id",_p("recharts-area-")),Hi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Be(s)&&s()}),Hi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Be(s)&&s()}),n}return Tke(e,t),_ke(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=He(this.props,!1),p=He(c,!0),g=u.map(function(v,x){var b=gs(gs(gs({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:v.x,cy:v.y,dataKey:d,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return z.createElement(Ot,Qo({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),d=js(s.map(function(h){return h.y||0}));return pe(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(js(a.map(function(h){return h.y||0})),d)),pe(d)?z.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),d=js(s.map(function(h){return h.x||0}));return pe(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(js(a.map(function(h){return h.x||0})),d)),pe(d)?z.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,d=o.connectNulls,h=o.isRange;o.ref;var p=C8(o,vke);return z.createElement(Ot,{clipPath:a?"url(#clipPath-".concat(s,")"):null},z.createElement(Nf,Qo({},He(p,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&z.createElement(Nf,Qo({},He(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&h&&z.createElement(Nf,Qo({},He(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,y=g.prevPoints,v=g.prevBaseLine;return z.createElement(Xa,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(y){var w=y.length/o.length,S=o.map(function(k,A){var I=Math.floor(A*w);if(y[I]){var C=y[I],j=Wr(C.x,k.x),O=Wr(C.y,k.y);return gs(gs({},k),{},{x:j(b),y:O(b)})}return k}),E;if(pe(l)&&typeof l=="number"){var P=Wr(v,l);E=P(b)}else if(Je(l)||Yu(l)){var _=Wr(v,0);E=_(b)}else E=l.map(function(k,A){var I=Math.floor(A*w);if(v[I]){var C=v[I],j=Wr(C.x,k.x),O=Wr(C.y,k.y);return gs(gs({},k),{},{x:j(b),y:O(b)})}return k});return a.renderAreaStatically(S,E,r,i)}return z.createElement(Ot,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),z.createElement(Ot,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!Eh(u,s)||!Eh(d,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,p=i.width,g=i.height,y=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,b=o.length===1,w=nt("recharts-area",l),S=d&&d.allowDataOverflow,E=h&&h.allowDataOverflow,P=S||E,_=Je(v)?this.id:v,k=(r=He(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},A=k.r,I=A===void 0?3:A,C=k.strokeWidth,j=C===void 0?2:C,O=Vie(s)?s:{},M=O.clipDot,D=M===void 0?!0:M,L=I*2+j;return z.createElement(Ot,{className:w},S||E?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(_)},z.createElement("rect",{x:S?u:u-p/2,y:E?c:c-g/2,width:S?p:p*2,height:E?g:g*2})),!D&&z.createElement("clipPath",{id:"clipPath-dots-".concat(_)},z.createElement("rect",{x:u-L/2,y:c-L/2,width:p+L,height:g+L}))):null,b?null:this.renderArea(P,_),(s||b)&&this.renderDots(P,D,_),(!y||x)&&Zs.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(R.PureComponent);O8=ko;Hi(ko,"displayName","Area");Hi(ko,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Zu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Hi(ko,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(pe(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});Hi(ko,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=e.layout,g=c&&c.length,y=O8.getBaseValue(e,n,r,i),v=p==="horizontal",x=!1,b=d.map(function(S,E){var P;g?P=c[u+E]:(P=Cr(S,l),Array.isArray(P)?x=!0:P=[y,P]);var _=P[1]==null||g&&Cr(S,l)==null;return v?{x:zj({axis:r,ticks:a,bandSize:o,entry:S,index:E}),y:_?null:i.scale(P[1]),value:P,payload:S}:{x:_?null:r.scale(P[1]),y:zj({axis:i,ticks:s,bandSize:o,entry:S,index:E}),value:P,payload:S}}),w;return g||x?w=b.map(function(S){var E=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:E!=null&&S.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:S.y}}):w=v?i.scale(y):r.scale(y),gs({points:b,baseLine:w,layout:p,isRange:x},h)});Hi(ko,"renderDotItem",function(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(Be(t))n=t(e);else{var r=nt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=C8(e,xke);n=z.createElement(vP,Qo({},a,{key:i,className:r}))}return n});function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Ake(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$8(r.key),r)}}function Ike(t,e,n){return e&&Nke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oke(t,e,n){return e=gy(e),Cke(t,M8()?Reflect.construct(e,n||[],gy(t).constructor):e.apply(t,n))}function Cke(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jke(t)}function jke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M8=function(){return!!t})()}function gy(t){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gy(t)}function Rke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SS(t,e)}function SS(t,e){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SS(t,e)}function D8(t,e,n){return e=$8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $8(t){var e=Mke(t,"string");return bu(e)=="symbol"?e:e+""}function Mke(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(this,arguments)}function Dke(t){var e=t.xAxisId,n=_P(),r=SP(),i=v8(e);return i==null?null:R.createElement(rd,ES({},i,{className:nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Oa(s,!0)}}))}var Ix=function(t){function e(){return Ake(this,e),Oke(this,e,arguments)}return Rke(e,t),Ike(e,[{key:"render",value:function(){return R.createElement(Dke,this.props)}}])}(R.Component);D8(Ix,"displayName","XAxis");D8(Ix,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function $ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V8(r.key),r)}}function Fke(t,e,n){return e&&Lke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vke(t,e,n){return e=yy(e),Uke(t,L8()?Reflect.construct(e,n||[],yy(t).constructor):e.apply(t,n))}function Uke(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bke(t)}function Bke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L8=function(){return!!t})()}function yy(t){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(t)}function zke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kS(t,e)}function F8(t,e,n){return e=V8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V8(t){var e=qke(t,"string");return wu(e)=="symbol"?e:e+""}function qke(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(this,arguments)}var Wke=function(e){var n=e.yAxisId,r=_P(),i=SP(),a=x8(n);return a==null?null:R.createElement(rd,TS({},a,{className:nt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Oa(o,!0)}}))},Ox=function(t){function e(){return $ke(this,e),Vke(this,e,arguments)}return zke(e,t),Fke(e,[{key:"render",value:function(){return R.createElement(Wke,this.props)}}])}(R.Component);F8(Ox,"displayName","YAxis");F8(Ox,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sM(t){return Yke(t)||Kke(t)||Gke(t)||Hke()}function Hke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gke(t,e){if(t){if(typeof t=="string")return PS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PS(t,e)}}function Kke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yke(t){if(Array.isArray(t))return PS(t)}function PS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var AS=function(e,n,r,i,a){var s=Ai(e,kP),o=Ai(e,Px),l=[].concat(sM(s),sM(o)),c=Ai(e,Nx),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(y,v){if(v.props[u]===r&&ta(v.props,"extendDomain")&&pe(v.props[d])){var x=v.props[d];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(y,v){if(v.props[u]===r&&ta(v.props,"extendDomain")&&pe(v.props[p])&&pe(v.props[g])){var x=v.props[p],b=v.props[g];return[Math.min(y[0],x,b),Math.max(y[1],x,b)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,v){return pe(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},U8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,p,g){var y=n?n+c:c;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,p),!0;case 6:return v.fn.call(v.context,u,d,h,p,g),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var S=v.length,E;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,d);break;case 4:v[w].fn.call(v[w].context,u,d,h);break;default:if(!b)for(E=1,b=new Array(x-1);E<x;E++)b[E-1]=arguments[E];v[w].fn.apply(v[w].context,b)}}return!0},o.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var y=0,v=[],x=g.length;y<x;y++)(g[y].fn!==u||h&&!g[y].once||d&&g[y].context!==d)&&v.push(g[y]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(U8);var Qke=U8.exports;const Xke=gt(Qke);var ww=new Xke,_w="recharts.syncMouseEvents";function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function Jke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B8(r.key),r)}}function eTe(t,e,n){return e&&Zke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sw(t,e,n){return e=B8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B8(t){var e=tTe(t,"string");return Hh(e)=="symbol"?e:e+""}function tTe(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nTe=function(){function t(){Jke(this,t),Sw(this,"activeIndex",0),Sw(this,"coordinateList",[]),Sw(this,"layout","horizontal")}return eTe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function rTe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&pe(r)&&pe(i))return!0}return!1}function iTe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function z8(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=En(e,n,r,i),o=En(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function aTe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=En(o,l,c,d),p=En(o,l,u,d);r=h.x,i=h.y,a=p.x,s=p.y}else return z8(e);return[{x:r,y:i},{x:a,y:s}]}function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){sTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sTe(t,e,n){return e=oTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oTe(t){var e=lTe(t,"string");return Gh(e)=="symbol"?e:e+""}function lTe(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cTe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,y=Nf;if(h==="ScatterChart")g=s,y=f1e;else if(h==="BarChart")g=iTe(d,s,l,u),y=yP;else if(d==="radial"){var v=z8(s),x=v.cx,b=v.cy,w=v.radius,S=v.startAngle,E=v.endAngle;g={cx:x,cy:b,startAngle:S,endAngle:E,innerRadius:w,outerRadius:w},y=qV}else g={points:aTe(d,s,l)},y=Nf;var P=Om(Om(Om(Om({stroke:"#ccc",pointerEvents:"none"},l),g),He(p,!1)),{},{payload:o,payloadIndex:c,className:nt("recharts-tooltip-cursor",p.className)});return R.isValidElement(p)?R.cloneElement(p,P):R.createElement(y,P)}var uTe=["item"],dTe=["children","className","width","height","style","compact","title","desc"];function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function lM(t,e){return pTe(t)||hTe(t,e)||W8(t,e)||fTe()}function fTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function pTe(t){if(Array.isArray(t))return t}function cM(t,e){if(t==null)return{};var n=mTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H8(r.key),r)}}function vTe(t,e,n){return e&&yTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xTe(t,e,n){return e=vy(e),bTe(t,q8()?Reflect.construct(e,n||[],vy(t).constructor):e.apply(t,n))}function bTe(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wTe(t)}function wTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q8=function(){return!!t})()}function vy(t){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vy(t)}function _Te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NS(t,e)}function NS(t,e){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NS(t,e)}function Su(t){return kTe(t)||ETe(t)||W8(t)||STe()}function STe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8(t,e){if(t){if(typeof t=="string")return IS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IS(t,e)}}function ETe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kTe(t){if(Array.isArray(t))return IS(t)}function IS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ce(t,e,n){return e=H8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H8(t){var e=TTe(t,"string");return _u(e)=="symbol"?e:e+""}function TTe(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PTe={xAxis:["bottom","top"],yAxis:["left","right"]},ATe={width:"100%",height:"100%"},G8={x:0,y:0};function Cm(t){return t}var NTe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},ITe=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return ne(ne(ne({},i),En(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return ne(ne(ne({},i),En(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return G8},Cx=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Su(o),Su(c)):o},[]);return s.length>0?s:e&&e.length&&pe(i)&&pe(a)?e.slice(i,a+1):[]};function K8(t){return t==="number"?[0,"auto"]:void 0}var OS=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Cx(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=x0(p,s.dataKey,i)}else h=d&&d[r]||o[r];return h?[].concat(Su(l),[UV(c,h)]):l},[])},dM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=NTe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=qve(s,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=OS(e,n,u,d),p=ITe(r,o,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},OTe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,p=LV(u,a);return r.reduce(function(g,y){var v,x=y.type.defaultProps!==void 0?ne(ne({},y.type.defaultProps),y.props):y.props,b=x.type,w=x.dataKey,S=x.allowDataOverflow,E=x.allowDuplicatedCategory,P=x.scale,_=x.ticks,k=x.includeHidden,A=x[s];if(g[A])return g;var I=Cx(e.data,{graphicalItems:i.filter(function(B){var ae,ge=s in B.props?B.props[s]:(ae=B.type.defaultProps)===null||ae===void 0?void 0:ae[s];return ge===A}),dataStartIndex:l,dataEndIndex:c}),C=I.length,j,O,M;rTe(x.domain,S,b)&&(j=Q_(x.domain,null,S),p&&(b==="number"||P!=="auto")&&(M=Af(I,w,"category")));var D=K8(b);if(!j||j.length===0){var L,q=(L=x.domain)!==null&&L!==void 0?L:D;if(w){if(j=Af(I,w,b),b==="category"&&p){var F=Iie(j);E&&F?(O=j,j=ay(0,C)):E||(j=Gj(q,j,y).reduce(function(B,ae){return B.indexOf(ae)>=0?B:[].concat(Su(B),[ae])},[]))}else if(b==="category")E?j=j.filter(function(B){return B!==""&&!Je(B)}):j=Gj(q,j,y).reduce(function(B,ae){return B.indexOf(ae)>=0||ae===""||Je(ae)?B:[].concat(Su(B),[ae])},[]);else if(b==="number"){var V=Yve(I,i.filter(function(B){var ae,ge,ye=s in B.props?B.props[s]:(ae=B.type.defaultProps)===null||ae===void 0?void 0:ae[s],te="hide"in B.props?B.props.hide:(ge=B.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return ye===A&&(k||!te)}),w,a,u);V&&(j=V)}p&&(b==="number"||P!=="auto")&&(M=Af(I,w,"category"))}else p?j=ay(0,C):o&&o[A]&&o[A].hasStack&&b==="number"?j=h==="expand"?[0,1]:VV(o[A].stackGroups,l,c):j=$V(I,i.filter(function(B){var ae=s in B.props?B.props[s]:B.type.defaultProps[s],ge="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return ae===A&&(k||!ge)}),b,u,!0);if(b==="number")j=AS(d,j,A,a,_),q&&(j=Q_(q,j,S));else if(b==="category"&&q){var G=q,Y=j.every(function(B){return G.indexOf(B)>=0});Y&&(j=G)}}return ne(ne({},g),{},Ce({},A,ne(ne({},x),{},{axisType:a,domain:j,categoricalDomain:M,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:D,isCategorical:p,layout:u})))},{})},CTe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=Cx(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=LV(u,a),y=-1;return r.reduce(function(v,x){var b=x.type.defaultProps!==void 0?ne(ne({},x.type.defaultProps),x.props):x.props,w=b[s],S=K8("number");if(!v[w]){y++;var E;return g?E=ay(0,p):o&&o[w]&&o[w].hasStack?(E=VV(o[w].stackGroups,l,c),E=AS(d,E,w,a)):(E=Q_(S,$V(h,r.filter(function(P){var _,k,A=s in P.props?P.props[s]:(_=P.type.defaultProps)===null||_===void 0?void 0:_[s],I="hide"in P.props?P.props.hide:(k=P.type.defaultProps)===null||k===void 0?void 0:k.hide;return A===w&&!I}),"number",u),i.defaultProps.allowDataOverflow),E=AS(d,E,w,a)),ne(ne({},v),{},Ce({},w,ne(ne({axisType:a},i.defaultProps),{},{hide:!0,orientation:ei(PTe,"".concat(a,".").concat(y%2),null),domain:E,originalDomain:S,isCategorical:g,layout:u})))}return v},{})},jTe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=Ai(u,a),p={};return h&&h.length?p=OTe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=CTe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},RTe=function(e){var n=As(e),r=Oa(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:qT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Y0(n,r)}},fM=function(e){var n=e.children,r=e.defaultShowTooltip,i=wr(n,hu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},MTe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Da(n&&n.type);return r&&r.indexOf("Bar")>=0})},hM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},DTe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,h=r.margin||{},p=wr(d,hu),g=wr(d,Rc),y=Object.keys(l).reduce(function(E,P){var _=l[P],k=_.orientation;return!_.mirror&&!_.hide?ne(ne({},E),{},Ce({},k,E[k]+_.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(E,P){var _=s[P],k=_.orientation;return!_.mirror&&!_.hide?ne(ne({},E),{},Ce({},k,ei(E,"".concat(k))+_.height)):E},{top:h.top||0,bottom:h.bottom||0}),x=ne(ne({},v),y),b=x.bottom;p&&(x.bottom+=p.props.height||hu.defaultProps.height),g&&n&&(x=Gve(x,i,r,n));var w=c-x.left-x.right,S=u-x.top-x.bottom;return ne(ne({brushBottom:b},x),{},{width:Math.max(w,0),height:Math.max(S,0)})},$Te=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},LTe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(x,b){var w=b.graphicalItems,S=b.stackGroups,E=b.offset,P=b.updateId,_=b.dataStartIndex,k=b.dataEndIndex,A=x.barSize,I=x.layout,C=x.barGap,j=x.barCategoryGap,O=x.maxBarSize,M=hM(I),D=M.numericAxisName,L=M.cateAxisName,q=MTe(w),F=[];return w.forEach(function(V,G){var Y=Cx(x.data,{graphicalItems:[V],dataStartIndex:_,dataEndIndex:k}),B=V.type.defaultProps!==void 0?ne(ne({},V.type.defaultProps),V.props):V.props,ae=B.dataKey,ge=B.maxBarSize,ye=B["".concat(D,"Id")],te=B["".concat(L,"Id")],ie={},de=l.reduce(function(U,Q){var H=b["".concat(Q.axisType,"Map")],ue=B["".concat(Q.axisType,"Id")];H&&H[ue]||Q.axisType==="zAxis"||bl();var he=H[ue];return ne(ne({},U),{},Ce(Ce({},Q.axisType,he),"".concat(Q.axisType,"Ticks"),Oa(he)))},ie),ee=de[L],_e=de["".concat(L,"Ticks")],re=S&&S[ye]&&S[ye].hasStack&&oxe(V,S[ye].stackGroups),X=Da(V.type).indexOf("Bar")>=0,Z=Y0(ee,_e),be=[],Me=q&&Wve({barSize:A,stackGroups:S,totalSize:$Te(de,L)});if(X){var Ke,De,en=Je(ge)?O:ge,it=(Ke=(De=Y0(ee,_e,!0))!==null&&De!==void 0?De:en)!==null&&Ke!==void 0?Ke:0;be=Hve({barGap:C,barCategoryGap:j,bandSize:it!==Z?it:Z,sizeList:Me[te],maxBarSize:en}),it!==Z&&(be=be.map(function(U){return ne(ne({},U),{},{position:ne(ne({},U.position),{},{offset:U.position.offset-it/2})})}))}var ct=V&&V.type&&V.type.getComposedData;ct&&F.push({props:ne(ne({},ct(ne(ne({},de),{},{displayedData:Y,props:x,dataKey:ae,item:V,bandSize:Z,barPosition:be,offset:E,stackedData:re,layout:I,dataStartIndex:_,dataEndIndex:k}))),{},Ce(Ce(Ce({key:V.key||"item-".concat(G)},D,de[D]),L,de[L]),"animationId",P)),childIndex:zie(V,x.children),item:V})}),F},p=function(x,b){var w=x.props,S=x.dataStartIndex,E=x.dataEndIndex,P=x.updateId;if(!VO({props:w}))return null;var _=w.children,k=w.layout,A=w.stackOffset,I=w.data,C=w.reverseStackOrder,j=hM(k),O=j.numericAxisName,M=j.cateAxisName,D=Ai(_,r),L=ixe(I,D,"".concat(O,"Id"),"".concat(M,"Id"),A,C),q=l.reduce(function(B,ae){var ge="".concat(ae.axisType,"Map");return ne(ne({},B),{},Ce({},ge,jTe(w,ne(ne({},ae),{},{graphicalItems:D,stackGroups:ae.axisType===O&&L,dataStartIndex:S,dataEndIndex:E}))))},{}),F=DTe(ne(ne({},q),{},{props:w,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys(q).forEach(function(B){q[B]=u(w,q[B],F,B.replace("Map",""),n)});var V=q["".concat(M,"Map")],G=RTe(V),Y=h(w,ne(ne({},q),{},{dataStartIndex:S,dataEndIndex:E,updateId:P,graphicalItems:D,stackGroups:L,offset:F}));return ne(ne({formattedGraphicalItems:Y,graphicalItems:D,offset:F,stackGroups:L},G),q)},g=function(v){function x(b){var w,S,E;return gTe(this,x),E=xTe(this,x,[b]),Ce(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ce(E,"accessibilityManager",new nTe),Ce(E,"handleLegendBBoxUpdate",function(P){if(P){var _=E.state,k=_.dataStartIndex,A=_.dataEndIndex,I=_.updateId;E.setState(ne({legendBBox:P},p({props:E.props,dataStartIndex:k,dataEndIndex:A,updateId:I},ne(ne({},E.state),{},{legendBBox:P}))))}}),Ce(E,"handleReceiveSyncEvent",function(P,_,k){if(E.props.syncId===P){if(k===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(_)}}),Ce(E,"handleBrushChange",function(P){var _=P.startIndex,k=P.endIndex;if(_!==E.state.dataStartIndex||k!==E.state.dataEndIndex){var A=E.state.updateId;E.setState(function(){return ne({dataStartIndex:_,dataEndIndex:k},p({props:E.props,dataStartIndex:_,dataEndIndex:k,updateId:A},E.state))}),E.triggerSyncEvent({dataStartIndex:_,dataEndIndex:k})}}),Ce(E,"handleMouseEnter",function(P){var _=E.getMouseInfo(P);if(_){var k=ne(ne({},_),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var A=E.props.onMouseEnter;Be(A)&&A(k,P)}}),Ce(E,"triggeredAfterMouseMove",function(P){var _=E.getMouseInfo(P),k=_?ne(ne({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(k),E.triggerSyncEvent(k);var A=E.props.onMouseMove;Be(A)&&A(k,P)}),Ce(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ce(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ce(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),Ce(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};E.setState(_),E.triggerSyncEvent(_);var k=E.props.onMouseLeave;Be(k)&&k(_,P)}),Ce(E,"handleOuterEvent",function(P){var _=Bie(P),k=ei(E.props,"".concat(_));if(_&&Be(k)){var A,I;/.*touch.*/i.test(_)?I=E.getMouseInfo(P.changedTouches[0]):I=E.getMouseInfo(P),k((A=I)!==null&&A!==void 0?A:{},P)}}),Ce(E,"handleClick",function(P){var _=E.getMouseInfo(P);if(_){var k=ne(ne({},_),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var A=E.props.onClick;Be(A)&&A(k,P)}}),Ce(E,"handleMouseDown",function(P){var _=E.props.onMouseDown;if(Be(_)){var k=E.getMouseInfo(P);_(k,P)}}),Ce(E,"handleMouseUp",function(P){var _=E.props.onMouseUp;if(Be(_)){var k=E.getMouseInfo(P);_(k,P)}}),Ce(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ce(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),Ce(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),Ce(E,"handleDoubleClick",function(P){var _=E.props.onDoubleClick;if(Be(_)){var k=E.getMouseInfo(P);_(k,P)}}),Ce(E,"handleContextMenu",function(P){var _=E.props.onContextMenu;if(Be(_)){var k=E.getMouseInfo(P);_(k,P)}}),Ce(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&ww.emit(_w,E.props.syncId,P,E.eventEmitterSymbol)}),Ce(E,"applySyncEvent",function(P){var _=E.props,k=_.layout,A=_.syncMethod,I=E.state.updateId,C=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(ne({dataStartIndex:C,dataEndIndex:j},p({props:E.props,dataStartIndex:C,dataEndIndex:j,updateId:I},E.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,M=P.chartY,D=P.activeTooltipIndex,L=E.state,q=L.offset,F=L.tooltipTicks;if(!q)return;if(typeof A=="function")D=A(F,P);else if(A==="value"){D=-1;for(var V=0;V<F.length;V++)if(F[V].value===P.activeLabel){D=V;break}}var G=ne(ne({},q),{},{x:q.left,y:q.top}),Y=Math.min(O,G.x+G.width),B=Math.min(M,G.y+G.height),ae=F[D]&&F[D].value,ge=OS(E.state,E.props.data,D),ye=F[D]?{x:k==="horizontal"?F[D].coordinate:Y,y:k==="horizontal"?B:F[D].coordinate}:G8;E.setState(ne(ne({},P),{},{activeLabel:ae,activeCoordinate:ye,activePayload:ge,activeTooltipIndex:D}))}else E.setState(P)}),Ce(E,"renderCursor",function(P){var _,k=E.state,A=k.isTooltipActive,I=k.activeCoordinate,C=k.activePayload,j=k.offset,O=k.activeTooltipIndex,M=k.tooltipAxisBandSize,D=E.getTooltipEventType(),L=(_=P.props.active)!==null&&_!==void 0?_:A,q=E.props.layout,F=P.key||"_recharts-cursor";return z.createElement(cTe,{key:F,activeCoordinate:I,activePayload:C,activeTooltipIndex:O,chartName:n,element:P,isActive:L,layout:q,offset:j,tooltipAxisBandSize:M,tooltipEventType:D})}),Ce(E,"renderPolarAxis",function(P,_,k){var A=ei(P,"type.axisType"),I=ei(E.state,"".concat(A,"Map")),C=P.type.defaultProps,j=C!==void 0?ne(ne({},C),P.props):P.props,O=I&&I[j["".concat(A,"Id")]];return R.cloneElement(P,ne(ne({},O),{},{className:nt(A,O.className),key:P.key||"".concat(_,"-").concat(k),ticks:Oa(O,!0)}))}),Ce(E,"renderPolarGrid",function(P){var _=P.props,k=_.radialLines,A=_.polarAngles,I=_.polarRadius,C=E.state,j=C.radiusAxisMap,O=C.angleAxisMap,M=As(j),D=As(O),L=D.cx,q=D.cy,F=D.innerRadius,V=D.outerRadius;return R.cloneElement(P,{polarAngles:Array.isArray(A)?A:Oa(D,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(I)?I:Oa(M,!0).map(function(G){return G.coordinate}),cx:L,cy:q,innerRadius:F,outerRadius:V,key:P.key||"polar-grid",radialLines:k})}),Ce(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,_=E.props,k=_.children,A=_.width,I=_.height,C=E.props.margin||{},j=A-(C.left||0)-(C.right||0),O=MV({children:k,formattedGraphicalItems:P,legendWidth:j,legendContent:c});if(!O)return null;var M=O.item,D=cM(O,uTe);return R.cloneElement(M,ne(ne({},D),{},{chartWidth:A,chartHeight:I,margin:C,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ce(E,"renderTooltip",function(){var P,_=E.props,k=_.children,A=_.accessibilityLayer,I=wr(k,Fi);if(!I)return null;var C=E.state,j=C.isTooltipActive,O=C.activeCoordinate,M=C.activePayload,D=C.activeLabel,L=C.offset,q=(P=I.props.active)!==null&&P!==void 0?P:j;return R.cloneElement(I,{viewBox:ne(ne({},L),{},{x:L.left,y:L.top}),active:q,label:D,payload:q?M:[],coordinate:O,accessibilityLayer:A})}),Ce(E,"renderBrush",function(P){var _=E.props,k=_.margin,A=_.data,I=E.state,C=I.offset,j=I.dataStartIndex,O=I.dataEndIndex,M=I.updateId;return R.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Pm(E.handleBrushChange,P.props.onChange),data:A,x:pe(P.props.x)?P.props.x:C.left,y:pe(P.props.y)?P.props.y:C.top+C.height+C.brushBottom-(k.bottom||0),width:pe(P.props.width)?P.props.width:C.width,startIndex:j,endIndex:O,updateId:"brush-".concat(M)})}),Ce(E,"renderReferenceElement",function(P,_,k){if(!P)return null;var A=E,I=A.clipPathId,C=E.state,j=C.xAxisMap,O=C.yAxisMap,M=C.offset,D=P.type.defaultProps||{},L=P.props,q=L.xAxisId,F=q===void 0?D.xAxisId:q,V=L.yAxisId,G=V===void 0?D.yAxisId:V;return R.cloneElement(P,{key:P.key||"".concat(_,"-").concat(k),xAxis:j[F],yAxis:O[G],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:I})}),Ce(E,"renderActivePoints",function(P){var _=P.item,k=P.activePoint,A=P.basePoint,I=P.childIndex,C=P.isRange,j=[],O=_.props.key,M=_.item.type.defaultProps!==void 0?ne(ne({},_.item.type.defaultProps),_.item.props):_.item.props,D=M.activeDot,L=M.dataKey,q=ne(ne({index:I,dataKey:L,cx:k.x,cy:k.y,r:4,fill:gP(_.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},He(D,!1)),b0(D));return j.push(x.renderActiveDot(D,q,"".concat(O,"-activePoint-").concat(I))),A?j.push(x.renderActiveDot(D,ne(ne({},q),{},{cx:A.x,cy:A.y}),"".concat(O,"-basePoint-").concat(I))):C&&j.push(null),j}),Ce(E,"renderGraphicChild",function(P,_,k){var A=E.filterFormatItem(P,_,k);if(!A)return null;var I=E.getTooltipEventType(),C=E.state,j=C.isTooltipActive,O=C.tooltipAxis,M=C.activeTooltipIndex,D=C.activeLabel,L=E.props.children,q=wr(L,Fi),F=A.props,V=F.points,G=F.isRange,Y=F.baseLine,B=A.item.type.defaultProps!==void 0?ne(ne({},A.item.type.defaultProps),A.item.props):A.item.props,ae=B.activeDot,ge=B.hide,ye=B.activeBar,te=B.activeShape,ie=!!(!ge&&j&&q&&(ae||ye||te)),de={};I!=="axis"&&q&&q.props.trigger==="click"?de={onClick:Pm(E.handleItemMouseEnter,P.props.onClick)}:I!=="axis"&&(de={onMouseLeave:Pm(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Pm(E.handleItemMouseEnter,P.props.onMouseEnter)});var ee=R.cloneElement(P,ne(ne({},A.props),de));function _e(Q){return typeof O.dataKey=="function"?O.dataKey(Q.payload):null}if(ie)if(M>=0){var re,X;if(O.dataKey&&!O.allowDuplicatedCategory){var Z=typeof O.dataKey=="function"?_e:"payload.".concat(O.dataKey.toString());re=x0(V,Z,D),X=G&&Y&&x0(Y,Z,D)}else re=V==null?void 0:V[M],X=G&&Y&&Y[M];if(te||ye){var be=P.props.activeIndex!==void 0?P.props.activeIndex:M;return[R.cloneElement(P,ne(ne(ne({},A.props),de),{},{activeIndex:be})),null,null]}if(!Je(re))return[ee].concat(Su(E.renderActivePoints({item:A,activePoint:re,basePoint:X,childIndex:M,isRange:G})))}else{var Me,Ke=(Me=E.getItemByXY(E.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:ee},De=Ke.graphicalItem,en=De.item,it=en===void 0?P:en,ct=De.childIndex,U=ne(ne(ne({},A.props),de),{},{activeIndex:ct});return[R.cloneElement(it,U),null,null]}return G?[ee,null,null]:[ee,null]}),Ce(E,"renderCustomized",function(P,_,k){return R.cloneElement(P,ne(ne({key:"recharts-customized-".concat(k)},E.props),E.state))}),Ce(E,"renderMap",{CartesianGrid:{handler:Cm,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Cm},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Cm},YAxis:{handler:Cm},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:_p("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=MF(E.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return _Te(x,v),vTe(x,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,E=w.data,P=w.height,_=w.layout,k=wr(S,Fi);if(k){var A=k.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,C=OS(this.state,E,A,I),j=this.state.tooltipTicks[A].coordinate,O=(this.state.offset.top+P)/2,M=_==="horizontal",D=M?{x:j,y:O}:{y:j,x:O},L=this.state.formattedGraphicalItems.find(function(F){var V=F.item;return V.type.name==="Scatter"});L&&(D=ne(ne({},D),L.props.points[A].tooltipPosition),C=L.props.points[A].tooltipPayload);var q={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:I,activePayload:C,activeCoordinate:D};this.setState(q),this.renderCursor(k),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){d_([wr(w.children,Fi)],[wr(this.props.children,Fi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=wr(this.props.children,Fi);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),P=gme(E),_={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},k=E.width/S.offsetWidth||1,A=this.inRange(_.chartX,_.chartY,k);if(!A)return null;var I=this.state,C=I.xAxisMap,j=I.yAxisMap,O=this.getTooltipEventType(),M=dM(this.state,this.props.data,this.props.layout,A);if(O!=="axis"&&C&&j){var D=As(C).scale,L=As(j).scale,q=D&&D.invert?D.invert(_.chartX):null,F=L&&L.invert?L.invert(_.chartY):null;return ne(ne({},_),{},{xValue:q,yValue:F},M)}return M?ne(ne({},_),M):null}},{key:"inRange",value:function(w,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,_=w/E,k=S/E;if(P==="horizontal"||P==="vertical"){var A=this.state.offset,I=_>=A.left&&_<=A.left+A.width&&k>=A.top&&k<=A.top+A.height;return I?{x:_,y:k}:null}var C=this.state,j=C.angleAxisMap,O=C.radiusAxisMap;if(j&&O){var M=As(j);return Qj({x:_,y:k},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),E=wr(w,Fi),P={};E&&S==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=b0(this.props,this.handleOuterEvent);return ne(ne({},_),P)}},{key:"addListener",value:function(){ww.on(_w,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ww.removeListener(_w,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,E){for(var P=this.state.formattedGraphicalItems,_=0,k=P.length;_<k;_++){var A=P[_];if(A.item===w||A.props.key===w.key||S===Da(A.item.type)&&E===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,E=S.left,P=S.top,_=S.height,k=S.width;return z.createElement("defs",null,z.createElement("clipPath",{id:w},z.createElement("rect",{x:E,y:P,height:_,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,E){var P=lM(E,2),_=P[0],k=P[1];return ne(ne({},S),{},Ce({},_,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,E){var P=lM(E,2),_=P[0],k=P[1];return ne(ne({},S),{},Ce({},_,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,E=S.formattedGraphicalItems,P=S.activeItem;if(E&&E.length)for(var _=0,k=E.length;_<k;_++){var A=E[_],I=A.props,C=A.item,j=C.type.defaultProps!==void 0?ne(ne({},C.type.defaultProps),C.props):C.props,O=Da(C.type);if(O==="Bar"){var M=(I.data||[]).find(function(F){return n1e(w,F)});if(M)return{graphicalItem:A,payload:M}}else if(O==="RadialBar"){var D=(I.data||[]).find(function(F){return Qj(w,F)});if(D)return{graphicalItem:A,payload:D}}else if(Sx(A,P)||Ex(A,P)||Uh(A,P)){var L=a_e({graphicalItem:A,activeTooltipItem:P,itemData:j.data}),q=j.activeIndex===void 0?L:j.activeIndex;return{graphicalItem:ne(ne({},A),{},{childIndex:q}),payload:Uh(A,P)?j.data[L]:A.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!VO(this))return null;var S=this.props,E=S.children,P=S.className,_=S.width,k=S.height,A=S.style,I=S.compact,C=S.title,j=S.desc,O=cM(S,dTe),M=He(O,!1);if(I)return z.createElement(WR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(h_,gc({},M,{width:_,height:k,title:C,desc:j}),this.renderClipPath(),BO(E,this.renderMap)));if(this.props.accessibilityLayer){var D,L;M.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,M.role=(L=this.props.role)!==null&&L!==void 0?L:"application",M.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},M.onFocus=function(){w.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return z.createElement(WR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",gc({className:nt("recharts-wrapper",P),style:ne({position:"relative",cursor:"default",width:_,height:k},A)},q,{ref:function(V){w.container=V}}),z.createElement(h_,gc({},M,{width:_,height:k,title:C,desc:j,style:ATe}),this.renderClipPath(),BO(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);Ce(g,"displayName",n),Ce(g,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ce(g,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,w=v.data,S=v.children,E=v.width,P=v.height,_=v.layout,k=v.stackOffset,A=v.margin,I=x.dataStartIndex,C=x.dataEndIndex;if(x.updateId===void 0){var j=fM(v);return ne(ne(ne({},j),{},{updateId:0},p(ne(ne({props:v},j),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:w,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:k,prevMargin:A,prevChildren:S})}if(b!==x.prevDataKey||w!==x.prevData||E!==x.prevWidth||P!==x.prevHeight||_!==x.prevLayout||k!==x.prevStackOffset||!jc(A,x.prevMargin)){var O=fM(v),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},D=ne(ne({},dM(x,w,_)),{},{updateId:x.updateId+1}),L=ne(ne(ne({},O),M),D);return ne(ne(ne({},L),p(ne({props:v},L),x)),{},{prevDataKey:b,prevData:w,prevWidth:E,prevHeight:P,prevLayout:_,prevStackOffset:k,prevMargin:A,prevChildren:S})}if(!d_(S,x.prevChildren)){var q,F,V,G,Y=wr(S,hu),B=Y&&(q=(F=Y.props)===null||F===void 0?void 0:F.startIndex)!==null&&q!==void 0?q:I,ae=Y&&(V=(G=Y.props)===null||G===void 0?void 0:G.endIndex)!==null&&V!==void 0?V:C,ge=B!==I||ae!==C,ye=!Je(w),te=ye&&!ge?x.updateId:x.updateId+1;return ne(ne({updateId:te},p(ne(ne({props:v},x),{},{updateId:te,dataStartIndex:B,dataEndIndex:ae}),x)),{},{prevChildren:S,dataStartIndex:B,dataEndIndex:ae})}return null}),Ce(g,"renderActiveDot",function(v,x,b){var w;return R.isValidElement(v)?w=R.cloneElement(v,x):Be(v)?w=v(x):w=z.createElement(vP,x),z.createElement(Ot,{className:"recharts-active-dot",key:b},w)});var y=R.forwardRef(function(x,b){return z.createElement(g,gc({},x,{ref:b}))});return y.displayName=g.displayName,y},FTe=LTe({chartName:"AreaChart",GraphicalChild:ko,axisComponents:[{axisType:"xAxis",AxisComp:Ix},{axisType:"yAxis",AxisComp:Ox}],formatAxisMap:ISe});const Y8=6048e5,VTe=864e5,Q8=6e4,X8=36e5,pM=Symbol.for("constructDateFrom");function jr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&pM in t?t[pM](e):t instanceof Date?new t.constructor(e):new Date(e)}function bt(t,e){return jr(e||t,t)}function J8(t,e,n){const r=bt(t,n==null?void 0:n.in);return isNaN(e)?jr(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function hg(t,e,n){const r=bt(t,n==null?void 0:n.in);if(isNaN(e))return jr(t,NaN);if(!e)return r;const i=r.getDate(),a=jr(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let UTe={};function jx(){return UTe}function Eu(t,e){var o,l,c,u;const n=jx(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=bt(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function xy(t,e){return Eu(t,{...e,weekStartsOn:1})}function Z8(t,e){const n=bt(t,e==null?void 0:e.in),r=n.getFullYear(),i=jr(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=xy(i),s=jr(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=xy(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function mM(t){const e=bt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Np(t,...e){const n=jr.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Ca(t,e){const n=bt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function eU(t,e,n){const[r,i]=Np(n==null?void 0:n.in,t,e),a=Ca(r),s=Ca(i),o=+a-mM(a),l=+s-mM(s);return Math.round((o-l)/VTe)}function BTe(t,e){const n=Z8(t,e),r=jr(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),xy(r)}function yc(t,e,n){const[r,i]=Np(n==null?void 0:n.in,t,e);return+Ca(r)==+Ca(i)}function zTe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qTe(t){return!(!zTe(t)&&typeof t!="number"||isNaN(+bt(t)))}function WTe(t,e,n){const[r,i]=Np(n==null?void 0:n.in,t,e),a=gM(r,i),s=Math.abs(eU(r,i));r.setDate(r.getDate()-a*s);const o=+(gM(r,i)===-a),l=a*(s-o);return l===0?0:l}function gM(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function pg(t,e){const n=bt(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function HTe(t,e){const n=bt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function GTe(t,e){const[n,r]=Np(t,e.start,e.end);return{start:n,end:r}}function KTe(t,e){const{start:n,end:r}=GTe(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(jr(n,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function YTe(t,e){const n=bt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function QTe(t,e){const n=bt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function XTe(t,e){const n=e==null?void 0:e.weekStartsOn,r=bt(t,e==null?void 0:e.in),i=r.getDay(),a=(i<n?-7:0)+6-(i-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}const JTe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZTe=(t,e,n)=>{let r;const i=JTe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ew(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ePe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tPe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nPe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rPe={date:Ew({formats:ePe,defaultWidth:"full"}),time:Ew({formats:tPe,defaultWidth:"full"}),dateTime:Ew({formats:nPe,defaultWidth:"full"})},iPe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aPe=(t,e,n,r)=>iPe[t];function $d(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const sPe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oPe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cPe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fPe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hPe={ordinalNumber:fPe,era:$d({values:sPe,defaultWidth:"wide"}),quarter:$d({values:oPe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$d({values:lPe,defaultWidth:"wide"}),day:$d({values:cPe,defaultWidth:"wide"}),dayPeriod:$d({values:uPe,defaultWidth:"wide",formattingValues:dPe,defaultFormattingWidth:"wide"})};function Ld(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?mPe(o,d=>d.test(s)):pPe(o,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function pPe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function mPe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function gPe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const yPe=/^(\d+)(th|st|nd|rd)?/i,vPe=/\d+/i,xPe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bPe={any:[/^b/i,/^(a|c)/i]},wPe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_Pe={any:[/1/i,/2/i,/3/i,/4/i]},SPe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},EPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kPe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TPe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PPe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},APe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NPe={ordinalNumber:gPe({matchPattern:yPe,parsePattern:vPe,valueCallback:t=>parseInt(t,10)}),era:Ld({matchPatterns:xPe,defaultMatchWidth:"wide",parsePatterns:bPe,defaultParseWidth:"any"}),quarter:Ld({matchPatterns:wPe,defaultMatchWidth:"wide",parsePatterns:_Pe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ld({matchPatterns:SPe,defaultMatchWidth:"wide",parsePatterns:EPe,defaultParseWidth:"any"}),day:Ld({matchPatterns:kPe,defaultMatchWidth:"wide",parsePatterns:TPe,defaultParseWidth:"any"}),dayPeriod:Ld({matchPatterns:PPe,defaultMatchWidth:"any",parsePatterns:APe,defaultParseWidth:"any"})},IPe={code:"en-US",formatDistance:ZTe,formatLong:rPe,formatRelative:aPe,localize:hPe,match:NPe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OPe(t,e){const n=bt(t,e==null?void 0:e.in);return eU(n,QTe(n))+1}function CPe(t,e){const n=bt(t,e==null?void 0:e.in),r=+xy(n)-+BTe(n);return Math.round(r/Y8)+1}function tU(t,e){var u,d,h,p;const n=bt(t,e==null?void 0:e.in),r=n.getFullYear(),i=jx(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=jr((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=Eu(s,e),l=jr((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=Eu(l,e);return+n>=+o?r+1:+n>=+c?r:r-1}function jPe(t,e){var o,l,c,u;const n=jx(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=tU(t,e),a=jr((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Eu(a,e)}function RPe(t,e){const n=bt(t,e==null?void 0:e.in),r=+Eu(n,e)-+jPe(n,e);return Math.round(r/Y8)+1}function st(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ps={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return st(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):st(n+1,2)},d(t,e){return st(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return st(t.getHours()%12||12,e.length)},H(t,e){return st(t.getHours(),e.length)},m(t,e){return st(t.getMinutes(),e.length)},s(t,e){return st(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return st(i,e.length)}},Gl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ps.y(t,e)},Y:function(t,e,n,r){const i=tU(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return st(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):st(a,e.length)},R:function(t,e){const n=Z8(t);return st(n,e.length)},u:function(t,e){const n=t.getFullYear();return st(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return st(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return st(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ps.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return st(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=RPe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):st(i,e.length)},I:function(t,e,n){const r=CPe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):st(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ps.d(t,e)},D:function(t,e,n){const r=OPe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):st(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return st(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return st(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return st(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Gl.noon:r===0?i=Gl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Gl.evening:r>=12?i=Gl.afternoon:r>=4?i=Gl.morning:i=Gl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ps.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ps.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):st(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):st(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ps.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ps.s(t,e)},S:function(t,e){return ps.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return xM(r);case"XXXX":case"XX":return Fo(r);case"XXXXX":case"XXX":default:return Fo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return xM(r);case"xxxx":case"xx":return Fo(r);case"xxxxx":case"xxx":default:return Fo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+vM(r,":");case"OOOO":default:return"GMT"+Fo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+vM(r,":");case"zzzz":default:return"GMT"+Fo(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return st(r,e.length)},T:function(t,e,n){return st(+t,e.length)}};function vM(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+st(a,2)}function xM(t,e){return t%60===0?(t>0?"-":"+")+st(Math.abs(t)/60,2):Fo(t,e)}function Fo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=st(Math.trunc(r/60),2),a=st(r%60,2);return n+i+e+a}const bM=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},MPe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return bM(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",bM(r,e)).replace("{{time}}",nU(i,e))},DPe={p:nU,P:MPe},$Pe=/^D+$/,LPe=/^Y+$/,FPe=["D","DD","YY","YYYY"];function VPe(t){return $Pe.test(t)}function UPe(t){return LPe.test(t)}function BPe(t,e,n){const r=zPe(t,e,n);if(console.warn(r),FPe.includes(t))throw new RangeError(r)}function zPe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qPe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WPe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HPe=/^'([^]*?)'?$/,GPe=/''/g,KPe=/[a-zA-Z]/;function Br(t,e,n){var u,d,h,p;const r=jx(),i=r.locale??IPe,a=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=bt(t,n==null?void 0:n.in);if(!qTe(o))throw new RangeError("Invalid time value");let l=e.match(WPe).map(g=>{const y=g[0];if(y==="p"||y==="P"){const v=DPe[y];return v(g,i.formatLong)}return g}).join("").match(qPe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:YPe(g)};if(yM[y])return{isToken:!0,value:g};if(y.match(KPe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const y=g.value;(UPe(y)||VPe(y))&&BPe(y,e,String(t));const v=yM[y[0]];return v(o,y,i.localize,c)}).join("")}function YPe(t){const e=t.match(HPe);return e?e[1].replace(GPe,"'"):t}function rU(t,e){return+bt(t)>+bt(e)}function Fd(t,e){return+bt(t)<+bt(e)}function QPe(t,e,n){const[r,i]=Np(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Kh(t,e,n){const r=+bt(t,n==null?void 0:n.in),[i,a]=[+bt(e.start,n==null?void 0:n.in),+bt(e.end,n==null?void 0:n.in)].sort((s,o)=>s-o);return r>=i&&r<=a}function AP(t,e,n){return J8(t,-e,n)}function _a(t,e){const n=()=>jr(e==null?void 0:e.in,NaN),i=eAe(t);let a;if(i.date){const c=tAe(i.date,2);a=nAe(c.restDateString,c.year)}if(!a||isNaN(+a))return n();const s=+a;let o=0,l;if(i.time&&(o=rAe(i.time),isNaN(o)))return n();if(i.timezone){if(l=iAe(i.timezone),isNaN(l))return n()}else{const c=new Date(s+o),u=bt(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return bt(s+o+l,e==null?void 0:e.in)}const jm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},XPe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,JPe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ZPe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function eAe(t){const e={},n=t.split(jm.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],jm.timeZoneDelimiter.test(e.date)&&(e.date=t.split(jm.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=jm.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function tAe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function nAe(t,e){if(e===null)return new Date(NaN);const n=t.match(XPe);if(!n)return new Date(NaN);const r=!!n[4],i=Vd(n[1]),a=Vd(n[2])-1,s=Vd(n[3]),o=Vd(n[4]),l=Vd(n[5])-1;if(r)return cAe(e,o,l)?aAe(e,o,l):new Date(NaN);{const c=new Date(0);return!oAe(e,a,s)||!lAe(e,i)?new Date(NaN):(c.setUTCFullYear(e,a,Math.max(i,s)),c)}}function Vd(t){return t?parseInt(t):1}function rAe(t){const e=t.match(JPe);if(!e)return NaN;const n=kw(e[1]),r=kw(e[2]),i=kw(e[3]);return uAe(n,r,i)?n*X8+r*Q8+i*1e3:NaN}function kw(t){return t&&parseFloat(t.replace(",","."))||0}function iAe(t){if(t==="Z")return 0;const e=t.match(ZPe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return dAe(r,i)?n*(r*X8+i*Q8):NaN}function aAe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const sAe=[31,null,31,30,31,30,31,31,30,31,30,31];function iU(t){return t%400===0||t%4===0&&t%100!==0}function oAe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(sAe[e]||(iU(t)?29:28))}function lAe(t,e){return e>=1&&e<=(iU(t)?366:365)}function cAe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function uAe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function dAe(t,e){return e>=0&&e<=59}function fAe(t,e,n){return hg(t,-1,n)}const NP=({onChange:t,initialRange:e,range:n,onRangeChange:r,brandColor:i})=>{const[a,s]=R.useState(!1),[o,l]=R.useState(n||e||{from:null,to:null}),[c,u]=R.useState(null),[d,h]=R.useState(new Date),p=R.useRef(null);R.useEffect(()=>{const _=k=>{p.current&&!p.current.contains(k.target)&&s(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const g=_=>{const k=t||r,A=Ca(_);if(!o.from||o.from&&o.to)l({from:A,to:null});else{let I;Fd(_,o.from)?I={from:Ca(_),to:pg(o.from)}:I={from:Ca(o.from),to:pg(_)},l(I),k&&k(I)}},y=_=>{o.from&&!o.to?u(_):u(null)},v=()=>{s(!1);const _=t||r;if(_){const k={...o};o.from&&(k.from=Ca(o.from)),o.to&&(k.to=pg(o.to)),_(k)}},x=()=>{s(!1),l(n||e||{from:null,to:null})};R.useEffect(()=>{n&&l(n)},[n]);const b=()=>o.from&&o.to?`${Br(o.from,"d MMM yyyy")}  ${Br(o.to,"d MMM yyyy")}`:o.from?`${Br(o.from,"d MMM yyyy")}  Select end date`:"",w=_=>{const k=YTe(_),A=HTe(k),I=Eu(k,{weekStartsOn:1}),C=XTe(A,{weekStartsOn:1});let j=I;const O=[];let M=[];for(;j<=C;)M.push(j),M.length===7&&(O.push(M),M=[]),j=J8(j,1);return f.jsx("div",{className:"grid grid-cols-7 gap-y-2",children:O.map((D,L)=>D.map((q,F)=>{const V=o.from&&yc(q,o.from),G=o.to&&yc(q,o.to),Y=o.from&&o.to&&Kh(q,{start:o.from,end:o.to});let B=!1;if(o.from&&!o.to&&c){const ee=Fd(o.from,c)?o.from:c,_e=rU(o.from,c)?o.from:c;B=Kh(q,{start:ee,end:_e})&&!yc(q,o.from)}const ae=QPe(q,k);let ge="relative w-10 h-10 flex items-center justify-center",ye="w-10 h-10 flex items-center justify-center text-sm relative z-10 cursor-pointer rounded-full transition-colors font-medium",te="",ie="text-gray-700 dark:text-slate-300";ae?V?(te="bg-accent text-white font-semibold shadow-accent z-20 brightness-110",ie="text-white"):G?te="bg-white dark:bg-slate-800 border-2 border-accent text-accent font-semibold z-20 hover:brightness-110":Y||B?ie="text-accent font-semibold":ye+=" hover:bg-slate-100 dark:hover:bg-slate-700":ie="text-gray-300 dark:text-slate-600 pointer-events-none";let de="";return ae&&(Y||B)&&(de="absolute h-10 z-0 top-0 bottom-0",V&&(o.to||c)?de+=Fd(o.to||c,o.from)?" left-0 right-1/2":" left-1/2 right-0 rounded-l-none":G?de+=" left-0 right-1/2 rounded-r-none":yc(q,c)&&o.from?de+=Fd(c,o.from)?" left-1/2 right-0":" left-0 right-1/2":de+=" left-0 right-0",V&&o.to&&Fd(o.to,o.from)&&(de="absolute h-10 z-0 top-0 bottom-0 left-0 right-1/2")),f.jsxs("div",{className:ge,role:"button","aria-label":`Select ${Br(q,"d MMMM yyyy")}`,tabIndex:ae?0:-1,onMouseEnter:()=>y(q),onClick:()=>g(q),onKeyDown:ee=>{(ee.key==="Enter"||ee.key===" ")&&(ee.preventDefault(),g(q))},children:[de&&f.jsx("div",{className:de,style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}}),f.jsx("div",{className:`${ye} ${te} ${ie}`,children:Br(q,"d")})]},q.toISOString())}))})},S=()=>h(hg(d,1)),E=()=>h(fAe(d)),P=["Mo","Tu","We","Th","Fr","Sa","Su"];return f.jsxs("div",{className:"relative w-full max-w-xl font-sans",ref:p,children:[f.jsxs("div",{className:"relative flex items-center w-full",onClick:()=>s(!a),role:"button","aria-haspopup":"dialog","aria-expanded":a,"aria-label":"Select date range",tabIndex:0,onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&s(!a)},children:[f.jsx("div",{className:`w-full h-[44px] flex items-center ps-4 pe-10 bg-white dark:bg-slate-800 border-2 rounded-2xl cursor-pointer transition-all shadow-sm font-bold
            ${a?"border-accent/30 ring-4 ring-accent/10 bg-accent/5":"border-slate-100 dark:border-slate-800 hover:border-slate-300 dark:hover:border-slate-600"}`,children:f.jsx("span",{className:`text-[11px] font-bold ${o.from?"text-gray-900 dark:text-white":"text-gray-500 dark:text-slate-400"}`,children:o.from?b():"Select date range"})}),f.jsx(nL,{className:`absolute end-3 w-4 h-4 pointer-events-none transition-colors ${a?"text-accent":"text-slate-400"}`})]}),a&&f.jsxs("div",{className:"absolute top-full start-0 mt-4 z-50 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-100 dark:border-slate-700 p-0 overflow-hidden w-[680px] animate-in fade-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true","aria-label":"Calendar date range picker",children:[f.jsxs("div",{className:"flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x dark:md:divide-slate-700 md:divide-gray-100",children:[f.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("button",{onClick:E,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Previous month",children:f.jsx(mk,{className:"w-5 h-5"})}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:Br(d,"MMMM yyyy")}),f.jsx("div",{className:"w-7"})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:_},_))}),w(d)]}),f.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("div",{className:"w-7"}),f.jsx("h3",{className:"text-base font-bold text-gray-900",children:Br(hg(d,1),"MMMM yyyy")}),f.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 rounded-full text-gray-500 transition-colors","aria-label":"Next month",children:f.jsx(gk,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(_=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 uppercase tracking-wide",children:_},_))}),w(hg(d,1))]})]}),f.jsxs("div",{className:"border-t border-gray-100 p-4 flex items-center justify-between bg-white px-6 py-4",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-700",children:o.from&&o.to?`${WTe(o.to,o.from)+1} days`:o.from?"Select end date":""}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:x,className:"px-6 py-2.5 text-sm font-bold text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 hover:text-gray-900 transition-all font-sans",children:"Cancel"}),f.jsx("button",{onClick:v,className:"px-8 py-2.5 text-sm font-bold text-white bg-accent rounded-lg shadow-accent transition-all transform active:scale-95 font-sans",children:"Done"})]})]})]})]})},hAe=({title:t,options:e,selectedValues:n,onChange:r,onClear:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,collapsible:l=!1})=>{const{appearance:c}=nr(),[u,d]=R.useState(""),[h,p]=R.useState(!l),g=v=>{const x=n.includes(v)?n.filter(b=>b!==v):[...n,v];r(x)},y=o?a?e:e.filter(v=>v.label.toLowerCase().includes(u.toLowerCase())):e;return f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"glass-panel":""}`,children:[t&&t.length>0&&f.jsxs("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})}),l&&f.jsx("button",{onClick:()=>p(!h),className:"p-1 rounded-full text-slate-400 hover:text-slate-600",children:h?f.jsx(iL,{className:"w-4 h-4"}):f.jsx(Pl,{className:"w-4 h-4"})})]}),!a&&o&&h&&f.jsx("div",{className:"px-3 pb-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(Du,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:v=>d(v.target.value),className:"w-full ps-9 pe-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-lg text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all dark:text-white"})]})}),f.jsx("div",{className:`flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto ${h?"":"hidden"}`,children:y.map(v=>{const x=n.includes(v.value);return f.jsxs("div",{onClick:()=>g(v.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${x?"bg-accent/10":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-5 h-5 rounded-[5px] border flex items-center justify-center transition-all ${x?"bg-accent border-accent shadow-sm":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:x&&f.jsx(rL,{className:"w-3.5 h-3.5 text-white stroke-[3px]"})}),f.jsx("span",{className:`text-sm font-semibold ${x?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:v.label})]}),f.jsx("span",{className:`text-xs font-bold ${x?"text-accent":"text-slate-400 group-hover:text-slate-500"}`,children:v.count})]},v.value)})}),n.length>0&&f.jsx("div",{className:"px-4 py-3 border-t border-slate-50 dark:border-slate-700/50",children:f.jsx("button",{onClick:i,className:"text-xs font-bold text-accent hover:underline transition-colors flex items-center gap-1",children:"Clear All"})})]})},_i=({title:t,options:e,selectedValues:n,onChange:r,icon:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,ariaLabel:l=null})=>{const[c,u]=R.useState(!1),d=R.useRef(null);R.useEffect(()=>{const y=v=>{d.current&&!d.current.contains(v.target)&&u(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const h=()=>{r([])},p=()=>{u(!1)},g=n.length>0;return f.jsxs("div",{className:"relative",ref:d,children:[f.jsxs("button",{onClick:()=>u(!c),"aria-label":l||t||"Filter",className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${c||g?"bg-accent/10 border-accent/30 text-accent":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(yk,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:g?`${n.length} Selected`:t}),f.jsx(Pl,{className:`w-4 h-4 transition-transform ${c?"rotate-180":""}`})]}),c&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsx(hAe,{title:"",options:e,selectedValues:n,onChange:r,onClear:h,onClose:p,showProductCount:a,productCount:s,showSearch:o})})]})};class $n{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}function*pAe(t){for(const e of t)yield*e}function aU(t){return Array.from(pAe(t))}function vc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var Ie=1e-6,Yh=1e-12,We=Math.PI,Ut=We/2,by=We/4,Xn=We*2,pt=180/We,Oe=We/180,Ze=Math.abs,id=Math.atan,Jn=Math.atan2,Pe=Math.cos,Rm=Math.ceil,sU=Math.exp,CS=Math.hypot,wy=Math.log,Tw=Math.pow,Se=Math.sin,Qr=Math.sign||function(t){return t>0?1:t<0?-1:0},yn=Math.sqrt,IP=Math.tan;function oU(t){return t>1?0:t<-1?We:Math.acos(t)}function Zn(t){return t>1?Ut:t<-1?-Ut:Math.asin(t)}function wM(t){return(t=Se(t/2))*t}function Ct(){}function _y(t,e){t&&SM.hasOwnProperty(t.type)&&SM[t.type](t,e)}var _M={Feature:function(t,e){_y(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)_y(n[r].geometry,e)}},SM={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){jS(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)jS(n[r],e,0)},Polygon:function(t,e){EM(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)EM(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)_y(n[r],e)}};function jS(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function EM(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)jS(t[n],e,1);e.polygonEnd()}function vi(t,e){t&&_M.hasOwnProperty(t.type)?_M[t.type](t,e):_y(t,e)}var Sy=new $n,Ey=new $n,lU,cU,RS,MS,DS,sa={point:Ct,lineStart:Ct,lineEnd:Ct,polygonStart:function(){Sy=new $n,sa.lineStart=mAe,sa.lineEnd=gAe},polygonEnd:function(){var t=+Sy;Ey.add(t<0?Xn+t:t),this.lineStart=this.lineEnd=this.point=Ct},sphere:function(){Ey.add(Xn)}};function mAe(){sa.point=yAe}function gAe(){uU(lU,cU)}function yAe(t,e){sa.point=uU,lU=t,cU=e,t*=Oe,e*=Oe,RS=t,MS=Pe(e=e/2+by),DS=Se(e)}function uU(t,e){t*=Oe,e*=Oe,e=e/2+by;var n=t-RS,r=n>=0?1:-1,i=r*n,a=Pe(e),s=Se(e),o=DS*s,l=MS*a+o*Pe(i),c=o*r*Se(i);Sy.add(Jn(c,l)),RS=t,MS=a,DS=s}function vAe(t){return Ey=new $n,vi(t,sa),Ey*2}function ky(t){return[Jn(t[1],t[0]),Zn(t[2])]}function _l(t){var e=t[0],n=t[1],r=Pe(n);return[r*Pe(e),r*Se(e),Se(n)]}function Mm(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ku(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Pw(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Dm(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ty(t){var e=yn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Nt,or,Lt,Sr,Vo,dU,fU,$c,Of,bs,Ja,ba={point:$S,lineStart:kM,lineEnd:TM,polygonStart:function(){ba.point=pU,ba.lineStart=xAe,ba.lineEnd=bAe,Of=new $n,sa.polygonStart()},polygonEnd:function(){sa.polygonEnd(),ba.point=$S,ba.lineStart=kM,ba.lineEnd=TM,Sy<0?(Nt=-(Lt=180),or=-(Sr=90)):Of>Ie?Sr=90:Of<-Ie&&(or=-90),Ja[0]=Nt,Ja[1]=Lt},sphere:function(){Nt=-(Lt=180),or=-(Sr=90)}};function $S(t,e){bs.push(Ja=[Nt=t,Lt=t]),e<or&&(or=e),e>Sr&&(Sr=e)}function hU(t,e){var n=_l([t*Oe,e*Oe]);if($c){var r=ku($c,n),i=[r[1],-r[0],0],a=ku(i,r);Ty(a),a=ky(a);var s=t-Vo,o=s>0?1:-1,l=a[0]*pt*o,c,u=Ze(s)>180;u^(o*Vo<l&&l<o*t)?(c=a[1]*pt,c>Sr&&(Sr=c)):(l=(l+360)%360-180,u^(o*Vo<l&&l<o*t)?(c=-a[1]*pt,c<or&&(or=c)):(e<or&&(or=e),e>Sr&&(Sr=e))),u?t<Vo?_r(Nt,t)>_r(Nt,Lt)&&(Lt=t):_r(t,Lt)>_r(Nt,Lt)&&(Nt=t):Lt>=Nt?(t<Nt&&(Nt=t),t>Lt&&(Lt=t)):t>Vo?_r(Nt,t)>_r(Nt,Lt)&&(Lt=t):_r(t,Lt)>_r(Nt,Lt)&&(Nt=t)}else bs.push(Ja=[Nt=t,Lt=t]);e<or&&(or=e),e>Sr&&(Sr=e),$c=n,Vo=t}function kM(){ba.point=hU}function TM(){Ja[0]=Nt,Ja[1]=Lt,ba.point=$S,$c=null}function pU(t,e){if($c){var n=t-Vo;Of.add(Ze(n)>180?n+(n>0?360:-360):n)}else dU=t,fU=e;sa.point(t,e),hU(t,e)}function xAe(){sa.lineStart()}function bAe(){pU(dU,fU),sa.lineEnd(),Ze(Of)>Ie&&(Nt=-(Lt=180)),Ja[0]=Nt,Ja[1]=Lt,$c=null}function _r(t,e){return(e-=t)<0?e+360:e}function wAe(t,e){return t[0]-e[0]}function PM(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function _Ae(t){var e,n,r,i,a,s,o;if(Sr=Lt=-(Nt=or=1/0),bs=[],vi(t,ba),n=bs.length){for(bs.sort(wAe),e=1,r=bs[0],a=[r];e<n;++e)i=bs[e],PM(r,i[0])||PM(r,i[1])?(_r(r[0],i[1])>_r(r[0],r[1])&&(r[1]=i[1]),_r(i[0],r[1])>_r(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(o=_r(r[1],i[0]))>s&&(s=o,Nt=i[0],Lt=r[1])}return bs=Ja=null,Nt===1/0||or===1/0?[[NaN,NaN],[NaN,NaN]]:[[Nt,or],[Lt,Sr]]}var Jd,Py,Ay,Ny,Iy,Oy,Cy,jy,LS,FS,VS,mU,gU,Bn,zn,qn,Si={sphere:Ct,point:OP,lineStart:AM,lineEnd:NM,polygonStart:function(){Si.lineStart=kAe,Si.lineEnd=TAe},polygonEnd:function(){Si.lineStart=AM,Si.lineEnd=NM}};function OP(t,e){t*=Oe,e*=Oe;var n=Pe(e);Ip(n*Pe(t),n*Se(t),Se(e))}function Ip(t,e,n){++Jd,Ay+=(t-Ay)/Jd,Ny+=(e-Ny)/Jd,Iy+=(n-Iy)/Jd}function AM(){Si.point=SAe}function SAe(t,e){t*=Oe,e*=Oe;var n=Pe(e);Bn=n*Pe(t),zn=n*Se(t),qn=Se(e),Si.point=EAe,Ip(Bn,zn,qn)}function EAe(t,e){t*=Oe,e*=Oe;var n=Pe(e),r=n*Pe(t),i=n*Se(t),a=Se(e),s=Jn(yn((s=zn*a-qn*i)*s+(s=qn*r-Bn*a)*s+(s=Bn*i-zn*r)*s),Bn*r+zn*i+qn*a);Py+=s,Oy+=s*(Bn+(Bn=r)),Cy+=s*(zn+(zn=i)),jy+=s*(qn+(qn=a)),Ip(Bn,zn,qn)}function NM(){Si.point=OP}function kAe(){Si.point=PAe}function TAe(){yU(mU,gU),Si.point=OP}function PAe(t,e){mU=t,gU=e,t*=Oe,e*=Oe,Si.point=yU;var n=Pe(e);Bn=n*Pe(t),zn=n*Se(t),qn=Se(e),Ip(Bn,zn,qn)}function yU(t,e){t*=Oe,e*=Oe;var n=Pe(e),r=n*Pe(t),i=n*Se(t),a=Se(e),s=zn*a-qn*i,o=qn*r-Bn*a,l=Bn*i-zn*r,c=CS(s,o,l),u=Zn(c),d=c&&-u/c;LS.add(d*s),FS.add(d*o),VS.add(d*l),Py+=u,Oy+=u*(Bn+(Bn=r)),Cy+=u*(zn+(zn=i)),jy+=u*(qn+(qn=a)),Ip(Bn,zn,qn)}function AAe(t){Jd=Py=Ay=Ny=Iy=Oy=Cy=jy=0,LS=new $n,FS=new $n,VS=new $n,vi(t,Si);var e=+LS,n=+FS,r=+VS,i=CS(e,n,r);return i<Yh&&(e=Oy,n=Cy,r=jy,Py<Ie&&(e=Ay,n=Ny,r=Iy),i=CS(e,n,r),i<Yh)?[NaN,NaN]:[Jn(n,e)*pt,Zn(r/i)*pt]}function Kl(t){return function(){return t}}function US(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function BS(t,e){return[Ze(t)>We?t+Math.round(-t/Xn)*Xn:t,e]}BS.invert=BS;function CP(t,e,n){return(t%=Xn)?e||n?US(OM(t),CM(e,n)):OM(t):e||n?CM(e,n):BS}function IM(t){return function(e,n){return e+=t,[e>We?e-Xn:e<-We?e+Xn:e,n]}}function OM(t){var e=IM(t);return e.invert=IM(-t),e}function CM(t,e){var n=Pe(t),r=Se(t),i=Pe(e),a=Se(e);function s(o,l){var c=Pe(l),u=Pe(o)*c,d=Se(o)*c,h=Se(l),p=h*n+u*r;return[Jn(d*i-p*a,u*n-h*r),Zn(p*i+d*a)]}return s.invert=function(o,l){var c=Pe(l),u=Pe(o)*c,d=Se(o)*c,h=Se(l),p=h*i-d*a;return[Jn(d*i+h*a,u*n+p*r),Zn(p*n-u*r)]},s}function vU(t){t=CP(t[0]*Oe,t[1]*Oe,t.length>2?t[2]*Oe:0);function e(n){return n=t(n[0]*Oe,n[1]*Oe),n[0]*=pt,n[1]*=pt,n}return e.invert=function(n){return n=t.invert(n[0]*Oe,n[1]*Oe),n[0]*=pt,n[1]*=pt,n},e}function xU(t,e,n,r,i,a){if(n){var s=Pe(e),o=Se(e),l=r*n;i==null?(i=e+r*Xn,a=e-l/2):(i=jM(s,i),a=jM(s,a),(r>0?i<a:i>a)&&(i+=r*Xn));for(var c,u=i;r>0?u>a:u<a;u-=l)c=ky([s,-o*Pe(u),-o*Se(u)]),t.point(c[0],c[1])}}function jM(t,e){e=_l(e),e[0]-=t,Ty(e);var n=oU(-e[1]);return((-e[2]<0?-n:n)+Xn-Ie)%Xn}function NAe(){var t=Kl([0,0]),e=Kl(90),n=Kl(6),r,i,a={point:s};function s(l,c){r.push(l=i(l,c)),l[0]*=pt,l[1]*=pt}function o(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*Oe,u=n.apply(this,arguments)*Oe;return r=[],i=CP(-l[0]*Oe,-l[1]*Oe,0).invert,xU(a,c,u,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return o.center=function(l){return arguments.length?(t=typeof l=="function"?l:Kl([+l[0],+l[1]]),o):t},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Kl(+l),o):e},o.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Kl(+l),o):n},o}function bU(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Ct,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function mg(t,e){return Ze(t[0]-e[0])<Ie&&Ze(t[1]-e[1])<Ie}function $m(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function wU(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((y=g.length-1)<=0)){var y,v=g[0],x=g[y],b;if(mg(v,x)){if(!v[2]&&!x[2]){for(i.lineStart(),o=0;o<y;++o)i.point((v=g[o])[0],v[1]);i.lineEnd();return}x[0]+=2*Ie}a.push(b=new $m(v,g,null,!0)),s.push(b.o=new $m(v,null,b,!1)),a.push(b=new $m(x,g,null,!1)),s.push(b.o=new $m(x,null,b,!0))}}),!!a.length){for(s.sort(e),RM(a),RM(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function RM(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Aw(t){return Ze(t[0])<=We?t[0]:Qr(t[0])*((Ze(t[0])+We)%Xn-We)}function _U(t,e){var n=Aw(e),r=e[1],i=Se(r),a=[Se(n),-Pe(n),0],s=0,o=0,l=new $n;i===1?r=Ut+Ie:i===-1&&(r=-Ut-Ie);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=Aw(p),y=p[1]/2+by,v=Se(y),x=Pe(y),b=0;b<h;++b,g=S,v=P,x=_,p=w){var w=d[b],S=Aw(w),E=w[1]/2+by,P=Se(E),_=Pe(E),k=S-g,A=k>=0?1:-1,I=A*k,C=I>We,j=v*P;if(l.add(Jn(j*A*Se(I),x*_+j*Pe(I))),s+=C?k+A*Xn:k,C^g>=n^S>=n){var O=ku(_l(p),_l(w));Ty(O);var M=ku(a,O);Ty(M);var D=(C^k>=0?-1:1)*Zn(M[2]);(r>D||r===D&&(O[0]||O[1]))&&(o+=C^k>=0?1:-1)}}return(s<-Ie||s<Ie&&l<-Yh)^o&1}function SU(t,e,n,r){return function(i){var a=e(i),s=bU(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:y,lineEnd:v,polygonStart:function(){h.point=x,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=y,h.lineEnd=v,u=aU(u);var S=_U(c,r);u.length?(l||(i.polygonStart(),l=!0),wU(u,OAe,S,n,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(S,E){t(S,E)&&i.point(S,E)}function g(S,E){a.point(S,E)}function y(){h.point=g,a.lineStart()}function v(){h.point=p,a.lineEnd()}function x(S,E){d.push([S,E]),o.point(S,E)}function b(){o.lineStart(),d=[]}function w(){x(d[0][0],d[0][1]),o.lineEnd();var S=o.clean(),E=s.result(),P,_=E.length,k,A,I;if(d.pop(),c.push(d),d=null,!!_){if(S&1){if(A=E[0],(k=A.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),P=0;P<k;++P)i.point((I=A[P])[0],I[1]);i.lineEnd()}return}_>1&&S&2&&E.push(E.pop().concat(E.shift())),u.push(E.filter(IAe))}}return h}}function IAe(t){return t.length>1}function OAe(t,e){return((t=t.x)[0]<0?t[1]-Ut-Ie:Ut-t[1])-((e=e.x)[0]<0?e[1]-Ut-Ie:Ut-e[1])}const zS=SU(function(){return!0},CAe,RAe,[-We,-Ut]);function CAe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?We:-We,l=Ze(a-e);Ze(l-We)<Ie?(t.point(e,n=(n+s)/2>0?Ut:-Ut),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=We&&(Ze(e-r)<Ie&&(e-=r*Ie),Ze(a-o)<Ie&&(a-=o*Ie),n=jAe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function jAe(t,e,n,r){var i,a,s=Se(t-n);return Ze(s)>Ie?id((Se(e)*(a=Pe(r))*Se(n)-Se(r)*(i=Pe(e))*Se(t))/(i*a*s)):(e+r)/2}function RAe(t,e,n,r){var i;if(t==null)i=n*Ut,r.point(-We,i),r.point(0,i),r.point(We,i),r.point(We,0),r.point(We,-i),r.point(0,-i),r.point(-We,-i),r.point(-We,0),r.point(-We,i);else if(Ze(t[0]-e[0])>Ie){var a=t[0]<e[0]?We:-We;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function EU(t){var e=Pe(t),n=6*Oe,r=e>0,i=Ze(e)>Ie;function a(u,d,h,p){xU(p,t,n,h,u,d)}function s(u,d){return Pe(u)*Pe(d)>e}function o(u){var d,h,p,g,y;return{lineStart:function(){g=p=!1,y=1},point:function(v,x){var b=[v,x],w,S=s(v,x),E=r?S?0:c(v,x):S?c(v+(v<0?We:-We),x):0;if(!d&&(g=p=S)&&u.lineStart(),S!==p&&(w=l(d,b),(!w||mg(d,w)||mg(b,w))&&(b[2]=1)),S!==p)y=0,S?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^S){var P;!(E&h)&&(P=l(b,d,!0))&&(y=0,r?(u.lineStart(),u.point(P[0][0],P[0][1]),u.point(P[1][0],P[1][1]),u.lineEnd()):(u.point(P[1][0],P[1][1]),u.lineEnd(),u.lineStart(),u.point(P[0][0],P[0][1],3)))}S&&(!d||!mg(d,b))&&u.point(b[0],b[1]),d=b,p=S,h=E},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return y|(g&&p)<<1}}}function l(u,d,h){var p=_l(u),g=_l(d),y=[1,0,0],v=ku(p,g),x=Mm(v,v),b=v[0],w=x-b*b;if(!w)return!h&&u;var S=e*x/w,E=-e*b/w,P=ku(y,v),_=Dm(y,S),k=Dm(v,E);Pw(_,k);var A=P,I=Mm(_,A),C=Mm(A,A),j=I*I-C*(Mm(_,_)-1);if(!(j<0)){var O=yn(j),M=Dm(A,(-I-O)/C);if(Pw(M,_),M=ky(M),!h)return M;var D=u[0],L=d[0],q=u[1],F=d[1],V;L<D&&(V=D,D=L,L=V);var G=L-D,Y=Ze(G-We)<Ie,B=Y||G<Ie;if(!Y&&F<q&&(V=q,q=F,F=V),B?Y?q+F>0^M[1]<(Ze(M[0]-D)<Ie?q:F):q<=M[1]&&M[1]<=F:G>We^(D<=M[0]&&M[0]<=L)){var ae=Dm(A,(-I+O)/C);return Pw(ae,_),[M,ky(ae)]}}}function c(u,d){var h=r?t:We-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return SU(s,o,a,r?[0,-t]:[-We,t-We])}function MAe(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var Zd=1e9,Lm=-Zd;function Rx(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return Ze(c[0]-t)<Ie?u>0?0:3:Ze(c[0]-n)<Ie?u>0?2:1:Ze(c[1]-e)<Ie?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=bU(),h,p,g,y,v,x,b,w,S,E,P,_={point:k,lineStart:j,lineEnd:O,polygonStart:I,polygonEnd:C};function k(D,L){i(D,L)&&u.point(D,L)}function A(){for(var D=0,L=0,q=p.length;L<q;++L)for(var F=p[L],V=1,G=F.length,Y=F[0],B,ae,ge=Y[0],ye=Y[1];V<G;++V)B=ge,ae=ye,Y=F[V],ge=Y[0],ye=Y[1],ae<=r?ye>r&&(ge-B)*(r-ae)>(ye-ae)*(t-B)&&++D:ye<=r&&(ge-B)*(r-ae)<(ye-ae)*(t-B)&&--D;return D}function I(){u=d,h=[],p=[],P=!0}function C(){var D=A(),L=P&&D,q=(h=aU(h)).length;(L||q)&&(c.polygonStart(),L&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),q&&wU(h,o,D,a,c),c.polygonEnd()),u=c,h=p=g=null}function j(){_.point=M,p&&p.push(g=[]),E=!0,S=!1,b=w=NaN}function O(){h&&(M(y,v),x&&S&&d.rejoin(),h.push(d.result())),_.point=k,S&&u.lineEnd()}function M(D,L){var q=i(D,L);if(p&&g.push([D,L]),E)y=D,v=L,x=q,E=!1,q&&(u.lineStart(),u.point(D,L));else if(q&&S)u.point(D,L);else{var F=[b=Math.max(Lm,Math.min(Zd,b)),w=Math.max(Lm,Math.min(Zd,w))],V=[D=Math.max(Lm,Math.min(Zd,D)),L=Math.max(Lm,Math.min(Zd,L))];MAe(F,V,t,e,n,r)?(S||(u.lineStart(),u.point(F[0],F[1])),u.point(V[0],V[1]),q||u.lineEnd(),P=!1):q&&(u.lineStart(),u.point(D,L),P=!1)}b=D,w=L,S=q}return _}}function DAe(){var t=0,e=0,n=960,r=500,i,a,s;return s={stream:function(o){return i&&a===o?i:i=Rx(t,e,n,r)(a=o)},extent:function(o){return arguments.length?(t=+o[0][0],e=+o[0][1],n=+o[1][0],r=+o[1][1],i=a=null,s):[[t,e],[n,r]]}}}var qS,WS,gg,yg,Tu={sphere:Ct,point:Ct,lineStart:$Ae,lineEnd:Ct,polygonStart:Ct,polygonEnd:Ct};function $Ae(){Tu.point=FAe,Tu.lineEnd=LAe}function LAe(){Tu.point=Tu.lineEnd=Ct}function FAe(t,e){t*=Oe,e*=Oe,WS=t,gg=Se(e),yg=Pe(e),Tu.point=VAe}function VAe(t,e){t*=Oe,e*=Oe;var n=Se(e),r=Pe(e),i=Ze(t-WS),a=Pe(i),s=Se(i),o=r*s,l=yg*n-gg*r*a,c=gg*n+yg*r*a;qS.add(Jn(yn(o*o+l*l),c)),WS=t,gg=n,yg=r}function kU(t){return qS=new $n,vi(t,Tu),+qS}var HS=[null,null],UAe={type:"LineString",coordinates:HS};function Ry(t,e){return HS[0]=t,HS[1]=e,kU(UAe)}var MM={Feature:function(t,e){return My(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(My(n[r].geometry,e))return!0;return!1}},DM={Sphere:function(){return!0},Point:function(t,e){return $M(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if($M(n[r],e))return!0;return!1},LineString:function(t,e){return LM(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(LM(n[r],e))return!0;return!1},Polygon:function(t,e){return FM(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(FM(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(My(n[r],e))return!0;return!1}};function My(t,e){return t&&DM.hasOwnProperty(t.type)?DM[t.type](t,e):!1}function $M(t,e){return Ry(t,e)===0}function LM(t,e){for(var n,r,i,a=0,s=t.length;a<s;a++){if(r=Ry(t[a],e),r===0||a>0&&(i=Ry(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Yh*i))return!0;n=r}return!1}function FM(t,e){return!!_U(t.map(BAe),TU(e))}function BAe(t){return t=t.map(TU),t.pop(),t}function TU(t){return[t[0]*Oe,t[1]*Oe]}function zAe(t,e){return(t&&MM.hasOwnProperty(t.type)?MM[t.type]:My)(t,e)}function VM(t,e,n){var r=vc(t,e-Ie,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function UM(t,e,n){var r=vc(t,e-Ie,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function jP(){var t,e,n,r,i,a,s,o,l=10,c=l,u=90,d=360,h,p,g,y,v=2.5;function x(){return{type:"MultiLineString",coordinates:b()}}function b(){return vc(Rm(r/u)*u,n,u).map(g).concat(vc(Rm(o/d)*d,s,d).map(y)).concat(vc(Rm(e/l)*l,t,l).filter(function(w){return Ze(w%u)>Ie}).map(h)).concat(vc(Rm(a/c)*c,i,c).filter(function(w){return Ze(w%d)>Ie}).map(p))}return x.lines=function(){return b().map(function(w){return{type:"LineString",coordinates:w}})},x.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(y(s).slice(1),g(n).reverse().slice(1),y(o).reverse().slice(1))]}},x.extent=function(w){return arguments.length?x.extentMajor(w).extentMinor(w):x.extentMinor()},x.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],o=+w[0][1],s=+w[1][1],r>n&&(w=r,r=n,n=w),o>s&&(w=o,o=s,s=w),x.precision(v)):[[r,o],[n,s]]},x.extentMinor=function(w){return arguments.length?(e=+w[0][0],t=+w[1][0],a=+w[0][1],i=+w[1][1],e>t&&(w=e,e=t,t=w),a>i&&(w=a,a=i,i=w),x.precision(v)):[[e,a],[t,i]]},x.step=function(w){return arguments.length?x.stepMajor(w).stepMinor(w):x.stepMinor()},x.stepMajor=function(w){return arguments.length?(u=+w[0],d=+w[1],x):[u,d]},x.stepMinor=function(w){return arguments.length?(l=+w[0],c=+w[1],x):[l,c]},x.precision=function(w){return arguments.length?(v=+w,h=VM(a,i,90),p=UM(e,t,v),g=VM(o,s,90),y=UM(r,n,v),x):v},x.extentMajor([[-180,-90+Ie],[180,90-Ie]]).extentMinor([[-180,-80-Ie],[180,80+Ie]])}function qAe(){return jP()()}function WAe(t,e){var n=t[0]*Oe,r=t[1]*Oe,i=e[0]*Oe,a=e[1]*Oe,s=Pe(r),o=Se(r),l=Pe(a),c=Se(a),u=s*Pe(n),d=s*Se(n),h=l*Pe(i),p=l*Se(i),g=2*Zn(yn(wM(a-r)+s*l*wM(i-n))),y=Se(g),v=g?function(x){var b=Se(x*=g)/y,w=Se(g-x)/y,S=w*u+b*h,E=w*d+b*p,P=w*o+b*c;return[Jn(E,S)*pt,Jn(P,yn(S*S+E*E))*pt]}:function(){return[n*pt,r*pt]};return v.distance=g,v}const Qh=t=>t;var Nw=new $n,GS=new $n,PU,AU,KS,YS,Sa={point:Ct,lineStart:Ct,lineEnd:Ct,polygonStart:function(){Sa.lineStart=HAe,Sa.lineEnd=KAe},polygonEnd:function(){Sa.lineStart=Sa.lineEnd=Sa.point=Ct,Nw.add(Ze(GS)),GS=new $n},result:function(){var t=Nw/2;return Nw=new $n,t}};function HAe(){Sa.point=GAe}function GAe(t,e){Sa.point=NU,PU=KS=t,AU=YS=e}function NU(t,e){GS.add(YS*t-KS*e),KS=t,YS=e}function KAe(){NU(PU,AU)}var Pu=1/0,Dy=Pu,Xh=-Pu,$y=Xh,Ly={point:YAe,lineStart:Ct,lineEnd:Ct,polygonStart:Ct,polygonEnd:Ct,result:function(){var t=[[Pu,Dy],[Xh,$y]];return Xh=$y=-(Dy=Pu=1/0),t}};function YAe(t,e){t<Pu&&(Pu=t),t>Xh&&(Xh=t),e<Dy&&(Dy=e),e>$y&&($y=e)}var QS=0,XS=0,ef=0,Fy=0,Vy=0,xc=0,JS=0,ZS=0,tf=0,IU,OU,Ui,Bi,Gr={point:Sl,lineStart:BM,lineEnd:zM,polygonStart:function(){Gr.lineStart=JAe,Gr.lineEnd=ZAe},polygonEnd:function(){Gr.point=Sl,Gr.lineStart=BM,Gr.lineEnd=zM},result:function(){var t=tf?[JS/tf,ZS/tf]:xc?[Fy/xc,Vy/xc]:ef?[QS/ef,XS/ef]:[NaN,NaN];return QS=XS=ef=Fy=Vy=xc=JS=ZS=tf=0,t}};function Sl(t,e){QS+=t,XS+=e,++ef}function BM(){Gr.point=QAe}function QAe(t,e){Gr.point=XAe,Sl(Ui=t,Bi=e)}function XAe(t,e){var n=t-Ui,r=e-Bi,i=yn(n*n+r*r);Fy+=i*(Ui+t)/2,Vy+=i*(Bi+e)/2,xc+=i,Sl(Ui=t,Bi=e)}function zM(){Gr.point=Sl}function JAe(){Gr.point=e2e}function ZAe(){CU(IU,OU)}function e2e(t,e){Gr.point=CU,Sl(IU=Ui=t,OU=Bi=e)}function CU(t,e){var n=t-Ui,r=e-Bi,i=yn(n*n+r*r);Fy+=i*(Ui+t)/2,Vy+=i*(Bi+e)/2,xc+=i,i=Bi*t-Ui*e,JS+=i*(Ui+t),ZS+=i*(Bi+e),tf+=i*3,Sl(Ui=t,Bi=e)}function jU(t){this._context=t}jU.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Xn);break}}},result:Ct};var eE=new $n,Iw,RU,MU,nf,rf,Jh={point:Ct,lineStart:function(){Jh.point=t2e},lineEnd:function(){Iw&&DU(RU,MU),Jh.point=Ct},polygonStart:function(){Iw=!0},polygonEnd:function(){Iw=null},result:function(){var t=+eE;return eE=new $n,t}};function t2e(t,e){Jh.point=DU,RU=nf=t,MU=rf=e}function DU(t,e){nf-=t,rf-=e,eE.add(yn(nf*nf+rf*rf)),nf=t,rf=e}function $U(){this._string=[]}$U.prototype={_radius:4.5,_circle:qM(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=qM(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function qM(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function LU(t,e){var n=4.5,r,i;function a(s){return s&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),vi(s,r(i))),i.result()}return a.area=function(s){return vi(s,r(Sa)),Sa.result()},a.measure=function(s){return vi(s,r(Jh)),Jh.result()},a.bounds=function(s){return vi(s,r(Ly)),Ly.result()},a.centroid=function(s){return vi(s,r(Gr)),Gr.result()},a.projection=function(s){return arguments.length?(r=s==null?(t=null,Qh):(t=s).stream,a):t},a.context=function(s){return arguments.length?(i=s==null?(e=null,new $U):new jU(e=s),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(i.pointRadius(+s),+s),a):n},a.projection(t).context(e)}function n2e(t){return{stream:Op(t)}}function Op(t){return function(e){var n=new tE;for(var r in t)n[r]=t[r];return n.stream=e,n}}function tE(){}tE.prototype={constructor:tE,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function RP(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),vi(n,t.stream(Ly)),e(Ly.result()),r!=null&&t.clipExtent(r),t}function Mx(t,e,n){return RP(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function MP(t,e,n){return Mx(t,[[0,0],e],n)}function DP(t,e,n){return RP(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function $P(t,e,n){return RP(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var WM=16,r2e=Pe(30*Oe);function HM(t,e){return+e?a2e(t,e):i2e(t)}function i2e(t){return Op({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function a2e(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,y,v){var x=c-r,b=u-i,w=x*x+b*b;if(w>4*e&&y--){var S=s+h,E=o+p,P=l+g,_=yn(S*S+E*E+P*P),k=Zn(P/=_),A=Ze(Ze(P)-1)<Ie||Ze(a-d)<Ie?(a+d)/2:Jn(E,S),I=t(A,k),C=I[0],j=I[1],O=C-r,M=j-i,D=b*O-x*M;(D*D/w>e||Ze((x*O+b*M)/w-.5)>.3||s*h+o*p+l*g<r2e)&&(n(r,i,a,s,o,l,C,j,A,S/=_,E/=_,P,y,v),v.point(C,j),n(C,j,A,S,E,P,c,u,d,h,p,g,y,v))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,y,v={point:x,lineStart:b,lineEnd:S,polygonStart:function(){r.polygonStart(),v.lineStart=E},polygonEnd:function(){r.polygonEnd(),v.lineStart=b}};function x(k,A){k=t(k,A),r.point(k[0],k[1])}function b(){d=NaN,v.point=w,r.lineStart()}function w(k,A){var I=_l([k,A]),C=t(k,A);n(d,h,u,p,g,y,d=C[0],h=C[1],u=k,p=I[0],g=I[1],y=I[2],WM,r),r.point(d,h)}function S(){v.point=x,r.lineEnd()}function E(){b(),v.point=P,v.lineEnd=_}function P(k,A){w(i=k,A),a=d,s=h,o=p,l=g,c=y,v.point=w}function _(){n(d,h,u,p,g,y,a,s,i,o,l,c,WM,r),v.lineEnd=S,S()}return v}}var s2e=Op({point:function(t,e){this.stream.point(t*Oe,e*Oe)}});function o2e(t){return Op({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function l2e(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function GM(t,e,n,r,i,a){if(!a)return l2e(t,e,n,r,i);var s=Pe(a),o=Se(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(y,v){return y*=r,v*=i,[l*y-c*v+e,n-c*y-l*v]}return g.invert=function(y,v){return[r*(u*y-d*v+h),i*(p-d*y-u*v)]},g}function fa(t){return LP(function(){return t})()}function LP(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,y=zS,v=null,x,b,w,S=Qh,E=.5,P,_,k,A,I;function C(D){return k(D[0]*Oe,D[1]*Oe)}function j(D){return D=k.invert(D[0],D[1]),D&&[D[0]*pt,D[1]*pt]}C.stream=function(D){return A&&I===D?A:A=s2e(o2e(u)(y(P(S(I=D)))))},C.preclip=function(D){return arguments.length?(y=D,g=void 0,M()):y},C.postclip=function(D){return arguments.length?(S=D,v=x=b=w=null,M()):S},C.clipAngle=function(D){return arguments.length?(y=+D?EU(g=D*Oe):(g=null,zS),M()):g*pt},C.clipExtent=function(D){return arguments.length?(S=D==null?(v=x=b=w=null,Qh):Rx(v=+D[0][0],x=+D[0][1],b=+D[1][0],w=+D[1][1]),M()):v==null?null:[[v,x],[b,w]]},C.scale=function(D){return arguments.length?(n=+D,O()):n},C.translate=function(D){return arguments.length?(r=+D[0],i=+D[1],O()):[r,i]},C.center=function(D){return arguments.length?(a=D[0]%360*Oe,s=D[1]%360*Oe,O()):[a*pt,s*pt]},C.rotate=function(D){return arguments.length?(o=D[0]%360*Oe,l=D[1]%360*Oe,c=D.length>2?D[2]%360*Oe:0,O()):[o*pt,l*pt,c*pt]},C.angle=function(D){return arguments.length?(d=D%360*Oe,O()):d*pt},C.reflectX=function(D){return arguments.length?(h=D?-1:1,O()):h<0},C.reflectY=function(D){return arguments.length?(p=D?-1:1,O()):p<0},C.precision=function(D){return arguments.length?(P=HM(_,E=D*D),M()):yn(E)},C.fitExtent=function(D,L){return Mx(C,D,L)},C.fitSize=function(D,L){return MP(C,D,L)},C.fitWidth=function(D,L){return DP(C,D,L)},C.fitHeight=function(D,L){return $P(C,D,L)};function O(){var D=GM(n,0,0,h,p,d).apply(null,e(a,s)),L=GM(n,r-D[0],i-D[1],h,p,d);return u=CP(o,l,c),_=US(e,L),k=US(u,_),P=HM(_,E),M()}function M(){return A=I=null,C}return function(){return e=t.apply(this,arguments),C.invert=e.invert&&j,O()}}function FP(t){var e=0,n=We/3,r=LP(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Oe,n=a[1]*Oe):[e*pt,n*pt]},i}function c2e(t){var e=Pe(t);function n(r,i){return[r*e,Se(i)/e]}return n.invert=function(r,i){return[r/e,Zn(i*e)]},n}function FU(t,e){var n=Se(t),r=(n+Se(e))/2;if(Ze(r)<Ie)return c2e(t);var i=1+n*(2*r-n),a=yn(i)/r;function s(o,l){var c=yn(i-2*r*Se(l))/r;return[c*Se(o*=r),a-c*Pe(o)]}return s.invert=function(o,l){var c=a-l,u=Jn(o,Ze(c))*Qr(c);return c*r<0&&(u-=We*Qr(o)*Qr(c)),[u/r,Zn((i-(o*o+c*c)*r*r)/(2*r))]},s}function Uy(){return FP(FU).scale(155.424).center([0,33.6442])}function VU(){return Uy().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function u2e(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function d2e(){var t,e,n=VU(),r,i=Uy().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Uy().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(h,p){l=[h,p]}};function u(h){var p=h[0],g=h[1];return l=null,r.point(p,g),l||(a.point(p,g),l)||(o.point(p,g),l)}u.invert=function(h){var p=n.scale(),g=n.translate(),y=(h[0]-g[0])/p,v=(h[1]-g[1])/p;return(v>=.12&&v<.234&&y>=-.425&&y<-.214?i:v>=.166&&v<.234&&y>=-.214&&y<-.115?s:n).invert(h)},u.stream=function(h){return t&&e===h?t:t=u2e([n.stream(e=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],y=+h[1];return r=n.translate(h).clipExtent([[g-.455*p,y-.238*p],[g+.455*p,y+.238*p]]).stream(c),a=i.translate([g-.307*p,y+.201*p]).clipExtent([[g-.425*p+Ie,y+.12*p+Ie],[g-.214*p-Ie,y+.234*p-Ie]]).stream(c),o=s.translate([g-.205*p,y+.212*p]).clipExtent([[g-.214*p+Ie,y+.166*p+Ie],[g-.115*p-Ie,y+.234*p-Ie]]).stream(c),d()},u.fitExtent=function(h,p){return Mx(u,h,p)},u.fitSize=function(h,p){return MP(u,h,p)},u.fitWidth=function(h,p){return DP(u,h,p)},u.fitHeight=function(h,p){return $P(u,h,p)};function d(){return t=e=null,u}return u.scale(1070)}function UU(t){return function(e,n){var r=Pe(e),i=Pe(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Se(e),a*Se(n)]}}function Cp(t){return function(e,n){var r=yn(e*e+n*n),i=t(r),a=Se(i),s=Pe(i);return[Jn(e*a,r*s),Zn(r&&n*a/r)]}}var VP=UU(function(t){return yn(2/(1+t))});VP.invert=Cp(function(t){return 2*Zn(t/2)});function f2e(){return fa(VP).scale(124.75).clipAngle(180-.001)}var UP=UU(function(t){return(t=oU(t))&&t/Se(t)});UP.invert=Cp(function(t){return t});function h2e(){return fa(UP).scale(79.4188).clipAngle(180-.001)}function jp(t,e){return[t,wy(IP((Ut+e)/2))]}jp.invert=function(t,e){return[t,2*id(sU(e))-Ut]};function p2e(){return BU(jp).scale(961/Xn)}function BU(t){var e=fa(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=We*r(),h=e(vU(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===jp?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}function Fm(t){return IP((Ut+t)/2)}function zU(t,e){var n=Pe(t),r=t===e?Se(t):wy(n/Pe(e))/wy(Fm(e)/Fm(t)),i=n*Tw(Fm(t),r)/r;if(!r)return jp;function a(s,o){i>0?o<-Ut+Ie&&(o=-Ut+Ie):o>Ut-Ie&&(o=Ut-Ie);var l=i/Tw(Fm(o),r);return[l*Se(r*s),i-l*Pe(r*s)]}return a.invert=function(s,o){var l=i-o,c=Qr(r)*yn(s*s+l*l),u=Jn(s,Ze(l))*Qr(l);return l*r<0&&(u-=We*Qr(s)*Qr(l)),[u/r,2*id(Tw(i/c,1/r))-Ut]},a}function m2e(){return FP(zU).scale(109.5).parallels([30,30])}function Zh(t,e){return[t,e]}Zh.invert=Zh;function g2e(){return fa(Zh).scale(152.63)}function qU(t,e){var n=Pe(t),r=t===e?Se(t):(n-Pe(e))/(e-t),i=n/r+t;if(Ze(r)<Ie)return Zh;function a(s,o){var l=i-o,c=r*s;return[l*Se(c),i-l*Pe(c)]}return a.invert=function(s,o){var l=i-o,c=Jn(s,Ze(l))*Qr(l);return l*r<0&&(c-=We*Qr(s)*Qr(l)),[c/r,i-Qr(r)*yn(s*s+l*l)]},a}function y2e(){return FP(qU).scale(131.154).center([0,13.9389])}var Cf=1.340264,jf=-.081106,Rf=893e-6,Mf=.003796,By=yn(3)/2,v2e=12;function BP(t,e){var n=Zn(By*Se(e)),r=n*n,i=r*r*r;return[t*Pe(n)/(By*(Cf+3*jf*r+i*(7*Rf+9*Mf*r))),n*(Cf+jf*r+i*(Rf+Mf*r))]}BP.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,s,o,l;a<v2e&&(o=n*(Cf+jf*r+i*(Rf+Mf*r))-e,l=Cf+3*jf*r+i*(7*Rf+9*Mf*r),n-=s=o/l,r=n*n,i=r*r*r,!(Ze(s)<Yh));++a);return[By*t*(Cf+3*jf*r+i*(7*Rf+9*Mf*r))/Pe(n),Zn(Se(n)/By)]};function x2e(){return fa(BP).scale(177.158)}function zP(t,e){var n=Pe(e),r=Pe(t)*n;return[n*Se(t)/r,Se(e)/r]}zP.invert=Cp(id);function b2e(){return fa(zP).scale(144.049).clipAngle(60)}function w2e(){var t=1,e=0,n=0,r=1,i=1,a=0,s,o,l=null,c,u,d,h=1,p=1,g=Op({point:function(S,E){var P=w([S,E]);this.stream.point(P[0],P[1])}}),y=Qh,v,x;function b(){return h=t*r,p=t*i,v=x=null,w}function w(S){var E=S[0]*h,P=S[1]*p;if(a){var _=P*s-E*o;E=E*s+P*o,P=_}return[E+e,P+n]}return w.invert=function(S){var E=S[0]-e,P=S[1]-n;if(a){var _=P*s+E*o;E=E*s-P*o,P=_}return[E/h,P/p]},w.stream=function(S){return v&&x===S?v:v=g(y(x=S))},w.postclip=function(S){return arguments.length?(y=S,l=c=u=d=null,b()):y},w.clipExtent=function(S){return arguments.length?(y=S==null?(l=c=u=d=null,Qh):Rx(l=+S[0][0],c=+S[0][1],u=+S[1][0],d=+S[1][1]),b()):l==null?null:[[l,c],[u,d]]},w.scale=function(S){return arguments.length?(t=+S,b()):t},w.translate=function(S){return arguments.length?(e=+S[0],n=+S[1],b()):[e,n]},w.angle=function(S){return arguments.length?(a=S%360*Oe,o=Se(a),s=Pe(a),b()):a*pt},w.reflectX=function(S){return arguments.length?(r=S?-1:1,b()):r<0},w.reflectY=function(S){return arguments.length?(i=S?-1:1,b()):i<0},w.fitExtent=function(S,E){return Mx(w,S,E)},w.fitSize=function(S,E){return MP(w,S,E)},w.fitWidth=function(S,E){return DP(w,S,E)},w.fitHeight=function(S,E){return $P(w,S,E)},w}function qP(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}qP.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-e)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(Ze(i)>Ie&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function _2e(){return fa(qP).scale(175.295)}function WP(t,e){return[Pe(e)*Se(t),Se(e)]}WP.invert=Cp(Zn);function S2e(){return fa(WP).scale(249.5).clipAngle(90+Ie)}function HP(t,e){var n=Pe(e),r=1+Pe(t)*n;return[n*Se(t)/r,Se(e)/r]}HP.invert=Cp(function(t){return 2*id(t)});function E2e(){return fa(HP).scale(250).clipAngle(142)}function GP(t,e){return[wy(IP((Ut+e)/2)),-t]}GP.invert=function(t,e){return[-e,2*id(sU(t))-Ut]};function k2e(){var t=BU(GP),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const T2e=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:VU,geoAlbersUsa:d2e,geoArea:vAe,geoAzimuthalEqualArea:f2e,geoAzimuthalEqualAreaRaw:VP,geoAzimuthalEquidistant:h2e,geoAzimuthalEquidistantRaw:UP,geoBounds:_Ae,geoCentroid:AAe,geoCircle:NAe,geoClipAntimeridian:zS,geoClipCircle:EU,geoClipExtent:DAe,geoClipRectangle:Rx,geoConicConformal:m2e,geoConicConformalRaw:zU,geoConicEqualArea:Uy,geoConicEqualAreaRaw:FU,geoConicEquidistant:y2e,geoConicEquidistantRaw:qU,geoContains:zAe,geoDistance:Ry,geoEqualEarth:x2e,geoEqualEarthRaw:BP,geoEquirectangular:g2e,geoEquirectangularRaw:Zh,geoGnomonic:b2e,geoGnomonicRaw:zP,geoGraticule:jP,geoGraticule10:qAe,geoIdentity:w2e,geoInterpolate:WAe,geoLength:kU,geoMercator:p2e,geoMercatorRaw:jp,geoNaturalEarth1:_2e,geoNaturalEarth1Raw:qP,geoOrthographic:S2e,geoOrthographicRaw:WP,geoPath:LU,geoProjection:fa,geoProjectionMutator:LP,geoRotation:vU,geoStereographic:E2e,geoStereographicRaw:HP,geoStream:vi,geoTransform:n2e,geoTransverseMercator:k2e,geoTransverseMercatorRaw:GP},Symbol.toStringTag,{value:"Module"}));function P2e(t){return t}function A2e(t){if(t==null)return P2e;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(o,l){l||(e=n=0);var c=2,u=o.length,d=new Array(u);for(d[0]=(e+=o[0])*r+a,d[1]=(n+=o[1])*i+s;c<u;)d[c]=o[c],++c;return d}}function N2e(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function I2e(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return KM(t,n)})}:KM(t,e)}function KM(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,a=WU(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function WU(t,e){var n=A2e(t.transform),r=t.arcs;function i(u,d){d.length&&d.pop();for(var h=r[u<0?~u:u],p=0,g=h.length;p<g;++p)d.push(n(h[p],p));u<0&&N2e(d,g)}function a(u){return n(u)}function s(u){for(var d=[],h=0,p=u.length;h<p;++h)i(u[h],d);return d.length<2&&d.push(d[0]),d}function o(u){for(var d=s(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(o)}function c(u){var d=u.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":h=a(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(a);break;case"LineString":h=s(u.arcs);break;case"MultiLineString":h=u.arcs.map(s);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return c(e)}function O2e(t,e){var n={},r={},i={},a=[],s=-1;e.forEach(function(c,u){var d=t.arcs[c<0?~c:c],h;d.length<3&&!d[1][0]&&!d[1][1]&&(h=e[++s],e[s]=c,e[u]=h)}),e.forEach(function(c){var u=o(c),d=u[0],h=u[1],p,g;if(p=i[d])if(delete i[p.end],p.push(c),p.end=h,g=r[h]){delete r[g.start];var y=g===p?p:p.concat(g);r[y.start=p.start]=i[y.end=g.end]=y}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(c),p.start=d,g=i[d]){delete i[g.end];var v=g===p?p:g.concat(p);r[v.start=g.start]=i[v.end=p.end]=v}else r[p.start]=i[p.end]=p;else p=[c],r[p.start=d]=i[p.end=h]=p});function o(c){var u=t.arcs[c<0?~c:c],d=u[0],h;return t.transform?(h=[0,0],u.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=u[u.length-1],c<0?[h,d]:[d,h]}function l(c,u){for(var d in c){var h=c[d];delete u[h.start],delete h.start,delete h.end,h.forEach(function(p){n[p<0?~p:p]=1}),a.push(h)}}return l(i,r),l(r,i),e.forEach(function(c){n[c<0?~c:c]||a.push([c])}),a}function YM(t){return WU(t,C2e.apply(this,arguments))}function C2e(t,e,n){var r,i,a;if(arguments.length>1)r=j2e(t,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:O2e(t,r)}}function j2e(t,e,n){var r=[],i=[],a;function s(d){var h=d<0?~d:d;(i[h]||(i[h]=[])).push({i:d,g:a})}function o(d){d.forEach(s)}function l(d){d.forEach(o)}function c(d){d.forEach(l)}function u(d){switch(a=d,d.type){case"GeometryCollection":d.geometries.forEach(u);break;case"LineString":o(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return u(e),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}var R2e={value:()=>{}};function KP(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new vg(n)}function vg(t){this._=t}function M2e(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}vg.prototype=KP.prototype={constructor:vg,on:function(t,e){var n=this._,r=M2e(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=D2e(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=QM(n[i],t.name,e);else if(e==null)for(i in n)n[i]=QM(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new vg(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function D2e(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function QM(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=R2e,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var nE="http://www.w3.org/1999/xhtml";const XM={svg:"http://www.w3.org/2000/svg",xhtml:nE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dx(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),XM.hasOwnProperty(e)?{space:XM[e],local:t}:t}function $2e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===nE&&e.documentElement.namespaceURI===nE?e.createElement(t):e.createElementNS(n,t)}}function L2e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function HU(t){var e=Dx(t);return(e.local?L2e:$2e)(e)}function F2e(){}function YP(t){return t==null?F2e:function(){return this.querySelector(t)}}function V2e(t){typeof t!="function"&&(t=YP(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=a[u])&&(c=t.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new mr(r,this._parents)}function GU(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function U2e(){return[]}function KU(t){return t==null?U2e:function(){return this.querySelectorAll(t)}}function B2e(t){return function(){var e=t.apply(this,arguments);return e==null?[]:GU(e)}}function z2e(t){typeof t=="function"?t=B2e(t):t=KU(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),i.push(l));return new mr(r,i)}function YU(t){return function(){return this.matches(t)}}function QU(t){return function(e){return e.matches(t)}}var q2e=Array.prototype.find;function W2e(t){return function(){return q2e.call(this.children,t)}}function H2e(){return this.firstElementChild}function G2e(t){return this.select(t==null?H2e:W2e(typeof t=="function"?t:QU(t)))}var K2e=Array.prototype.filter;function Y2e(){return this.children}function Q2e(t){return function(){return K2e.call(this.children,t)}}function X2e(t){return this.selectAll(t==null?Y2e:Q2e(typeof t=="function"?t:QU(t)))}function J2e(t){typeof t!="function"&&(t=YU(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new mr(r,this._parents)}function XU(t){return new Array(t.length)}function Z2e(){return new mr(this._enter||this._groups.map(XU),this._parents)}function zy(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}zy.prototype={constructor:zy,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function eNe(t){return function(){return t}}function tNe(t,e,n,r,i,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new zy(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function nNe(t,e,n,r,i,a,s){var o,l,c=new Map,u=e.length,d=a.length,h=new Array(u),p;for(o=0;o<u;++o)(l=e[o])&&(h[o]=p=s.call(l,l.__data__,o,e)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<d;++o)p=s.call(t,a[o],o,a)+"",(l=c.get(p))?(r[o]=l,l.__data__=a[o],c.delete(p)):n[o]=new zy(t,a[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(h[o])===l&&(i[o]=l)}function rNe(t){return t.__data__}function iNe(t,e){if(!arguments.length)return Array.from(this,rNe);var n=e?nNe:tNe,r=this._parents,i=this._groups;typeof t!="function"&&(t=eNe(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=GU(t.call(u,u&&u.__data__,c,r)),g=p.length,y=o[c]=new Array(g),v=s[c]=new Array(g),x=l[c]=new Array(h);n(u,d,y,v,x,p,e);for(var b=0,w=0,S,E;b<g;++b)if(S=y[b]){for(b>=w&&(w=b+1);!(E=v[w])&&++w<g;);S._next=E||null}}return s=new mr(s,r),s._enter=o,s._exit=l,s}function aNe(){return new mr(this._exit||this._groups.map(XU),this._parents)}function sNe(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function oNe(t){if(!(t instanceof mr))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new mr(s,this._parents)}function lNe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function cNe(t){t||(t=uNe);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),c,u=0;u<o;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new mr(i,this._parents).order()}function uNe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function dNe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function fNe(){return Array.from(this)}function hNe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function pNe(){let t=0;for(const e of this)++t;return t}function mNe(){return!this.node()}function gNe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function yNe(t){return function(){this.removeAttribute(t)}}function vNe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xNe(t,e){return function(){this.setAttribute(t,e)}}function bNe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function wNe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function _Ne(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function SNe(t,e){var n=Dx(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?vNe:yNe:typeof e=="function"?n.local?_Ne:wNe:n.local?bNe:xNe)(n,e))}function JU(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ENe(t){return function(){this.style.removeProperty(t)}}function kNe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function TNe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function PNe(t,e,n){return arguments.length>1?this.each((e==null?ENe:typeof e=="function"?TNe:kNe)(t,e,n??"")):Au(this.node(),t)}function Au(t,e){return t.style.getPropertyValue(e)||JU(t).getComputedStyle(t,null).getPropertyValue(e)}function ANe(t){return function(){delete this[t]}}function NNe(t,e){return function(){this[t]=e}}function INe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ONe(t,e){return arguments.length>1?this.each((e==null?ANe:typeof e=="function"?INe:NNe)(t,e)):this.node()[t]}function ZU(t){return t.trim().split(/^|\s+/)}function QP(t){return t.classList||new e9(t)}function e9(t){this._node=t,this._names=ZU(t.getAttribute("class")||"")}e9.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function t9(t,e){for(var n=QP(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function n9(t,e){for(var n=QP(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function CNe(t){return function(){t9(this,t)}}function jNe(t){return function(){n9(this,t)}}function RNe(t,e){return function(){(e.apply(this,arguments)?t9:n9)(this,t)}}function MNe(t,e){var n=ZU(t+"");if(arguments.length<2){for(var r=QP(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?RNe:e?CNe:jNe)(n,e))}function DNe(){this.textContent=""}function $Ne(t){return function(){this.textContent=t}}function LNe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function FNe(t){return arguments.length?this.each(t==null?DNe:(typeof t=="function"?LNe:$Ne)(t)):this.node().textContent}function VNe(){this.innerHTML=""}function UNe(t){return function(){this.innerHTML=t}}function BNe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function zNe(t){return arguments.length?this.each(t==null?VNe:(typeof t=="function"?BNe:UNe)(t)):this.node().innerHTML}function qNe(){this.nextSibling&&this.parentNode.appendChild(this)}function WNe(){return this.each(qNe)}function HNe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function GNe(){return this.each(HNe)}function KNe(t){var e=typeof t=="function"?t:HU(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function YNe(){return null}function QNe(t,e){var n=typeof t=="function"?t:HU(t),r=e==null?YNe:typeof e=="function"?e:YP(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function XNe(){var t=this.parentNode;t&&t.removeChild(this)}function JNe(){return this.each(XNe)}function ZNe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function eIe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tIe(t){return this.select(t?eIe:ZNe)}function nIe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function rIe(t){return function(e){t.call(this,e,this.__data__)}}function iIe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function aIe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function sIe(t,e,n){return function(){var r=this.__on,i,a=rIe(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function oIe(t,e,n){var r=iIe(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<a;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(o=e?sIe:aIe,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function r9(t,e,n){var r=JU(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function lIe(t,e){return function(){return r9(this,t,e)}}function cIe(t,e){return function(){return r9(this,t,e.apply(this,arguments))}}function uIe(t,e){return this.each((typeof e=="function"?cIe:lIe)(t,e))}function*dIe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var i9=[null];function mr(t,e){this._groups=t,this._parents=e}function Rp(){return new mr([[document.documentElement]],i9)}function fIe(){return this}mr.prototype=Rp.prototype={constructor:mr,select:V2e,selectAll:z2e,selectChild:G2e,selectChildren:X2e,filter:J2e,data:iNe,enter:Z2e,exit:aNe,join:sNe,merge:oNe,selection:fIe,order:lNe,sort:cNe,call:dNe,nodes:fNe,node:hNe,size:pNe,empty:mNe,each:gNe,attr:SNe,style:PNe,property:ONe,classed:MNe,text:FNe,html:zNe,raise:WNe,lower:GNe,append:KNe,insert:QNe,remove:JNe,clone:tIe,datum:nIe,on:oIe,dispatch:uIe,[Symbol.iterator]:dIe};function Ea(t){return typeof t=="string"?new mr([[document.querySelector(t)]],[document.documentElement]):new mr([[t]],i9)}function hIe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Oo(t,e){if(t=hIe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function rE(t){t.preventDefault(),t.stopImmediatePropagation()}function pIe(t){var e=t.document.documentElement,n=Ea(t).on("dragstart.drag",rE,!0);"onselectstart"in e?n.on("selectstart.drag",rE,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function mIe(t,e){var n=t.document.documentElement,r=Ea(t).on("dragstart.drag",null);e&&(r.on("click.drag",rE,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var gIe=1e-12;function JM(t){return((t=Math.exp(t))+1/t)/2}function yIe(t){return((t=Math.exp(t))-1/t)/2}function vIe(t){return((t=Math.exp(2*t))-1)/(t+1)}const xIe=function t(e,n,r){function i(a,s){var o=a[0],l=a[1],c=a[2],u=s[0],d=s[1],h=s[2],p=u-o,g=d-l,y=p*p+g*g,v,x;if(y<gIe)x=Math.log(h/c)/e,v=function(_){return[o+_*p,l+_*g,c*Math.exp(e*_*x)]};else{var b=Math.sqrt(y),w=(h*h-c*c+r*y)/(2*c*n*b),S=(h*h-c*c-r*y)/(2*h*n*b),E=Math.log(Math.sqrt(w*w+1)-w),P=Math.log(Math.sqrt(S*S+1)-S);x=(P-E)/e,v=function(_){var k=_*x,A=JM(E),I=c/(n*b)*(A*vIe(e*k+E)-yIe(E));return[o+I*p,l+I*g,c*A/JM(e*k+E)]}}return v.duration=x*1e3*e/Math.SQRT2,v}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return t(s,o,l)},i}(Math.SQRT2,2,4);var Nu=0,af=0,Ud=0,a9=1e3,qy,sf,Wy=0,El=0,$x=0,ep=typeof performance=="object"&&performance.now?performance:Date,s9=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function XP(){return El||(s9(bIe),El=ep.now()+$x)}function bIe(){El=0}function Hy(){this._call=this._time=this._next=null}Hy.prototype=o9.prototype={constructor:Hy,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?XP():+n)+(e==null?0:+e),!this._next&&sf!==this&&(sf?sf._next=this:qy=this,sf=this),this._call=t,this._time=n,iE()},stop:function(){this._call&&(this._call=null,this._time=1/0,iE())}};function o9(t,e,n){var r=new Hy;return r.restart(t,e,n),r}function wIe(){XP(),++Nu;for(var t=qy,e;t;)(e=El-t._time)>=0&&t._call.call(null,e),t=t._next;--Nu}function ZM(){El=(Wy=ep.now())+$x,Nu=af=0;try{wIe()}finally{Nu=0,SIe(),El=0}}function _Ie(){var t=ep.now(),e=t-Wy;e>a9&&($x-=e,Wy=t)}function SIe(){for(var t,e=qy,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:qy=n);sf=t,iE(r)}function iE(t){if(!Nu){af&&(af=clearTimeout(af));var e=t-El;e>24?(t<1/0&&(af=setTimeout(ZM,t-ep.now()-$x)),Ud&&(Ud=clearInterval(Ud))):(Ud||(Wy=ep.now(),Ud=setInterval(_Ie,a9)),Nu=1,s9(ZM))}}function eD(t,e,n){var r=new Hy;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var EIe=KP("start","end","cancel","interrupt"),kIe=[],l9=0,tD=1,aE=2,xg=3,nD=4,sE=5,bg=6;function Lx(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;TIe(t,n,{name:e,index:r,group:i,on:EIe,tween:kIe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:l9})}function JP(t,e){var n=ji(t,e);if(n.state>l9)throw new Error("too late; already scheduled");return n}function ha(t,e){var n=ji(t,e);if(n.state>xg)throw new Error("too late; already running");return n}function ji(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function TIe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=o9(a,0,n.time);function a(c){n.state=tD,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,h,p;if(n.state!==tD)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===xg)return eD(s);p.state===nD?(p.state=bg,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=bg,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(eD(function(){n.state===xg&&(n.state=nD,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=aE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===aE){for(n.state=xg,i=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=sE,1),d=-1,h=i.length;++d<h;)i[d].call(t,u);n.state===sE&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=bg,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function wg(t,e){var n=t.__transition,r,i,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>aE&&r.state<sE,r.state=bg,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function PIe(t){return this.each(function(){wg(this,t)})}function ZP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function c9(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mp(){}var tp=.7,Gy=1/tp,Lc="\\s*([+-]?\\d+)\\s*",np="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",na="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AIe=/^#([0-9a-f]{3,8})$/,NIe=new RegExp("^rgb\\("+[Lc,Lc,Lc]+"\\)$"),IIe=new RegExp("^rgb\\("+[na,na,na]+"\\)$"),OIe=new RegExp("^rgba\\("+[Lc,Lc,Lc,np]+"\\)$"),CIe=new RegExp("^rgba\\("+[na,na,na,np]+"\\)$"),jIe=new RegExp("^hsl\\("+[np,na,na]+"\\)$"),RIe=new RegExp("^hsla\\("+[np,na,na,np]+"\\)$"),rD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZP(Mp,rp,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:iD,formatHex:iD,formatHsl:MIe,formatRgb:aD,toString:aD});function iD(){return this.rgb().formatHex()}function MIe(){return u9(this).formatHsl()}function aD(){return this.rgb().formatRgb()}function rp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=AIe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?sD(e):n===3?new Pr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=NIe.exec(t))?new Pr(e[1],e[2],e[3],1):(e=IIe.exec(t))?new Pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=OIe.exec(t))?Vm(e[1],e[2],e[3],e[4]):(e=CIe.exec(t))?Vm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jIe.exec(t))?cD(e[1],e[2]/100,e[3]/100,1):(e=RIe.exec(t))?cD(e[1],e[2]/100,e[3]/100,e[4]):rD.hasOwnProperty(t)?sD(rD[t]):t==="transparent"?new Pr(NaN,NaN,NaN,0):null}function sD(t){return new Pr(t>>16&255,t>>8&255,t&255,1)}function Vm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pr(t,e,n,r)}function DIe(t){return t instanceof Mp||(t=rp(t)),t?(t=t.rgb(),new Pr(t.r,t.g,t.b,t.opacity)):new Pr}function oE(t,e,n,r){return arguments.length===1?DIe(t):new Pr(t,e,n,r??1)}function Pr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ZP(Pr,oE,c9(Mp,{brighter:function(t){return t=t==null?Gy:Math.pow(Gy,t),new Pr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?tp:Math.pow(tp,t),new Pr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oD,formatHex:oD,formatRgb:lD,toString:lD}));function oD(){return"#"+Ow(this.r)+Ow(this.g)+Ow(this.b)}function lD(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Ow(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function cD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zi(t,e,n,r)}function u9(t){if(t instanceof zi)return new zi(t.h,t.s,t.l,t.opacity);if(t instanceof Mp||(t=rp(t)),!t)return new zi;if(t instanceof zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new zi(s,o,l,t.opacity)}function $Ie(t,e,n,r){return arguments.length===1?u9(t):new zi(t,e,n,r??1)}function zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ZP(zi,$Ie,c9(Mp,{brighter:function(t){return t=t==null?Gy:Math.pow(Gy,t),new zi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?tp:Math.pow(tp,t),new zi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pr(Cw(t>=240?t-240:t+120,i,r),Cw(t,i,r),Cw(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Cw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const d9=t=>()=>t;function LIe(t,e){return function(n){return t+n*e}}function FIe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function VIe(t){return(t=+t)==1?f9:function(e,n){return n-e?FIe(e,n,t):d9(isNaN(e)?n:e)}}function f9(t,e){var n=e-t;return n?LIe(t,n):d9(isNaN(t)?e:t)}const uD=function t(e){var n=VIe(e);function r(i,a){var s=n((i=oE(i)).r,(a=oE(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=f9(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function ws(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var lE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jw=new RegExp(lE.source,"g");function UIe(t){return function(){return t}}function BIe(t){return function(e){return t(e)+""}}function zIe(t,e){var n=lE.lastIndex=jw.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=lE.exec(t))&&(i=jw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:ws(r,i)})),n=jw.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?BIe(l[0].x):UIe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}var dD=180/Math.PI,cE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function h9(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*dD,skewX:Math.atan(l)*dD,scaleX:s,scaleY:o}}var Um;function qIe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?cE:h9(e.a,e.b,e.c,e.d,e.e,e.f)}function WIe(t){return t==null||(Um||(Um=document.createElementNS("http://www.w3.org/2000/svg","g")),Um.setAttribute("transform",t),!(t=Um.transform.baseVal.consolidate()))?cE:(t=t.matrix,h9(t.a,t.b,t.c,t.d,t.e,t.f))}function p9(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,h,p,g){if(c!==d||u!==h){var y=p.push("translate(",null,e,null,n);g.push({i:y-4,x:ws(c,d)},{i:y-2,x:ws(u,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function s(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ws(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function o(c,u,d,h){c!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ws(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,h,p,g){if(c!==d||u!==h){var y=p.push(i(p)+"scale(",null,",",null,")");g.push({i:y-4,x:ws(c,d)},{i:y-2,x:ws(u,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,h),s(c.rotate,u.rotate,d,h),o(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(p){for(var g=-1,y=h.length,v;++g<y;)d[(v=h[g]).i]=v.x(p);return d.join("")}}}var HIe=p9(qIe,"px, ","px)","deg)"),GIe=p9(WIe,", ",")",")");function KIe(t,e){var n,r;return function(){var i=ha(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function YIe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=ha(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function QIe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ji(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?KIe:YIe)(n,t,e))}function eA(t,e,n){var r=t._id;return t.each(function(){var i=ha(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ji(i,r).value[e]}}function m9(t,e){var n;return(typeof e=="number"?ws:e instanceof rp?uD:(n=rp(e))?(e=n,uD):zIe)(t,e)}function XIe(t){return function(){this.removeAttribute(t)}}function JIe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ZIe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function eOe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function tOe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function nOe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function rOe(t,e){var n=Dx(t),r=n==="transform"?GIe:m9;return this.attrTween(t,typeof e=="function"?(n.local?nOe:tOe)(n,r,eA(this,"attr."+t,e)):e==null?(n.local?JIe:XIe)(n):(n.local?eOe:ZIe)(n,r,e))}function iOe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function aOe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function sOe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&aOe(t,a)),n}return i._value=e,i}function oOe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&iOe(t,a)),n}return i._value=e,i}function lOe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Dx(t);return this.tween(n,(r.local?sOe:oOe)(r,e))}function cOe(t,e){return function(){JP(this,t).delay=+e.apply(this,arguments)}}function uOe(t,e){return e=+e,function(){JP(this,t).delay=e}}function dOe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?cOe:uOe)(e,t)):ji(this.node(),e).delay}function fOe(t,e){return function(){ha(this,t).duration=+e.apply(this,arguments)}}function hOe(t,e){return e=+e,function(){ha(this,t).duration=e}}function pOe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fOe:hOe)(e,t)):ji(this.node(),e).duration}function mOe(t,e){if(typeof e!="function")throw new Error;return function(){ha(this,t).ease=e}}function gOe(t){var e=this._id;return arguments.length?this.each(mOe(e,t)):ji(this.node(),e).ease}function yOe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ha(this,t).ease=n}}function vOe(t){if(typeof t!="function")throw new Error;return this.each(yOe(this._id,t))}function xOe(t){typeof t!="function"&&(t=YU(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new Za(r,this._parents,this._name,this._id)}function bOe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new Za(s,this._parents,this._name,this._id)}function wOe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function _Oe(t,e,n){var r,i,a=wOe(e)?JP:ha;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function SOe(t,e){var n=this._id;return arguments.length<2?ji(this.node(),n).on.on(t):this.each(_Oe(n,t,e))}function EOe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function kOe(){return this.on("end.remove",EOe(this._id))}function TOe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=YP(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,c=a[s]=new Array(l),u,d,h=0;h<l;++h)(u=o[h])&&(d=t.call(u,u.__data__,h,o))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Lx(c[h],e,n,h,c,ji(u,n)));return new Za(a,this._parents,e,n)}function POe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=KU(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=t.call(u,u.__data__,d,l),p,g=ji(u,n),y=0,v=h.length;y<v;++y)(p=h[y])&&Lx(p,e,n,y,h,g);a.push(h),s.push(u)}return new Za(a,s,e,n)}var AOe=Rp.prototype.constructor;function NOe(){return new AOe(this._groups,this._parents)}function IOe(t,e){var n,r,i;return function(){var a=Au(this,t),s=(this.style.removeProperty(t),Au(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function g9(t){return function(){this.style.removeProperty(t)}}function OOe(t,e,n){var r,i=n+"",a;return function(){var s=Au(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function COe(t,e,n){var r,i,a;return function(){var s=Au(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Au(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function jOe(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=ha(this,t),c=l.on,u=l.value[a]==null?o||(o=g9(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function ROe(t,e,n){var r=(t+="")=="transform"?HIe:m9;return e==null?this.styleTween(t,IOe(t,r)).on("end.style."+t,g9(t)):typeof e=="function"?this.styleTween(t,COe(t,r,eA(this,"style."+t,e))).each(jOe(this._id,t)):this.styleTween(t,OOe(t,r,e),n).on("end.style."+t,null)}function MOe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function DOe(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&MOe(t,s,n)),r}return a._value=e,a}function $Oe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,DOe(t,e,n??""))}function LOe(t){return function(){this.textContent=t}}function FOe(t){return function(){var e=t(this);this.textContent=e??""}}function VOe(t){return this.tween("text",typeof t=="function"?FOe(eA(this,"text",t)):LOe(t==null?"":t+""))}function UOe(t){return function(e){this.textContent=t.call(this,e)}}function BOe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&UOe(i)),e}return r._value=t,r}function zOe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,BOe(t))}function qOe(){for(var t=this._name,e=this._id,n=y9(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var u=ji(l,e);Lx(l,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Za(r,this._parents,t,n)}function WOe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var c=ha(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&a()})}var HOe=0;function Za(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function y9(){return++HOe}var Co=Rp.prototype;Za.prototype={constructor:Za,select:TOe,selectAll:POe,filter:xOe,merge:bOe,selection:NOe,transition:qOe,call:Co.call,nodes:Co.nodes,node:Co.node,size:Co.size,empty:Co.empty,each:Co.each,on:SOe,attr:rOe,attrTween:lOe,style:ROe,styleTween:$Oe,text:VOe,textTween:zOe,remove:kOe,tween:QIe,delay:dOe,duration:pOe,ease:gOe,easeVarying:vOe,end:WOe,[Symbol.iterator]:Co[Symbol.iterator]};function GOe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var KOe={time:null,delay:0,duration:250,ease:GOe};function YOe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function QOe(t){var e,n;t instanceof Za?(e=t._id,t=t._name):(e=y9(),(n=KOe).time=XP(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&Lx(l,t,e,c,s,n||YOe(l,e));return new Za(r,this._parents,t,e)}Rp.prototype.interrupt=PIe;Rp.prototype.transition=QOe;const Bm=t=>()=>t;function XOe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ja(t,e,n){this.k=t,this.x=e,this.y=n}ja.prototype={constructor:ja,scale:function(t){return t===1?this:new ja(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ja(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tA=new ja(1,0,0);ja.prototype;function Rw(t){t.stopImmediatePropagation()}function Bd(t){t.preventDefault(),t.stopImmediatePropagation()}function JOe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ZOe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function fD(){return this.__zoom||tA}function eCe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function tCe(){return navigator.maxTouchPoints||"ontouchstart"in this}function nCe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function rCe(){var t=JOe,e=ZOe,n=nCe,r=eCe,i=tCe,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=xIe,c=KP("start","zoom","end"),u,d,h,p=500,g=150,y=0,v=10;function x(M){M.property("__zoom",fD).on("wheel.zoom",k).on("mousedown.zoom",A).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",C).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(M,D,L,q){var F=M.selection?M.selection():M;F.property("__zoom",fD),M!==F?E(M,D,L,q):F.interrupt().each(function(){P(this,arguments).event(q).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},x.scaleBy=function(M,D,L,q){x.scaleTo(M,function(){var F=this.__zoom.k,V=typeof D=="function"?D.apply(this,arguments):D;return F*V},L,q)},x.scaleTo=function(M,D,L,q){x.transform(M,function(){var F=e.apply(this,arguments),V=this.__zoom,G=L==null?S(F):typeof L=="function"?L.apply(this,arguments):L,Y=V.invert(G),B=typeof D=="function"?D.apply(this,arguments):D;return n(w(b(V,B),G,Y),F,s)},L,q)},x.translateBy=function(M,D,L,q){x.transform(M,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof L=="function"?L.apply(this,arguments):L),e.apply(this,arguments),s)},null,q)},x.translateTo=function(M,D,L,q,F){x.transform(M,function(){var V=e.apply(this,arguments),G=this.__zoom,Y=q==null?S(V):typeof q=="function"?q.apply(this,arguments):q;return n(tA.translate(Y[0],Y[1]).scale(G.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof L=="function"?-L.apply(this,arguments):-L),V,s)},q,F)};function b(M,D){return D=Math.max(a[0],Math.min(a[1],D)),D===M.k?M:new ja(D,M.x,M.y)}function w(M,D,L){var q=D[0]-L[0]*M.k,F=D[1]-L[1]*M.k;return q===M.x&&F===M.y?M:new ja(M.k,q,F)}function S(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function E(M,D,L,q){M.on("start.zoom",function(){P(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(q).end()}).tween("zoom",function(){var F=this,V=arguments,G=P(F,V).event(q),Y=e.apply(F,V),B=L==null?S(Y):typeof L=="function"?L.apply(F,V):L,ae=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),ge=F.__zoom,ye=typeof D=="function"?D.apply(F,V):D,te=l(ge.invert(B).concat(ae/ge.k),ye.invert(B).concat(ae/ye.k));return function(ie){if(ie===1)ie=ye;else{var de=te(ie),ee=ae/de[2];ie=new ja(ee,B[0]-de[0]*ee,B[1]-de[1]*ee)}G.zoom(null,ie)}})}function P(M,D,L){return!L&&M.__zooming||new _(M,D)}function _(M,D){this.that=M,this.args=D,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,D),this.taps=0}_.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,D){return this.mouse&&M!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var D=Ea(this.that).datum();c.call(M,this.that,new XOe(M,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:c}),D)}};function k(M,...D){if(!t.apply(this,arguments))return;var L=P(this,D).event(M),q=this.__zoom,F=Math.max(a[0],Math.min(a[1],q.k*Math.pow(2,r.apply(this,arguments)))),V=Oo(M);if(L.wheel)(L.mouse[0][0]!==V[0]||L.mouse[0][1]!==V[1])&&(L.mouse[1]=q.invert(L.mouse[0]=V)),clearTimeout(L.wheel);else{if(q.k===F)return;L.mouse=[V,q.invert(V)],wg(this),L.start()}Bd(M),L.wheel=setTimeout(G,g),L.zoom("mouse",n(w(b(q,F),L.mouse[0],L.mouse[1]),L.extent,s));function G(){L.wheel=null,L.end()}}function A(M,...D){if(h||!t.apply(this,arguments))return;var L=P(this,D,!0).event(M),q=Ea(M.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",ae,!0),F=Oo(M,V),V=M.currentTarget,G=M.clientX,Y=M.clientY;pIe(M.view),Rw(M),L.mouse=[F,this.__zoom.invert(F)],wg(this),L.start();function B(ge){if(Bd(ge),!L.moved){var ye=ge.clientX-G,te=ge.clientY-Y;L.moved=ye*ye+te*te>y}L.event(ge).zoom("mouse",n(w(L.that.__zoom,L.mouse[0]=Oo(ge,V),L.mouse[1]),L.extent,s))}function ae(ge){q.on("mousemove.zoom mouseup.zoom",null),mIe(ge.view,L.moved),Bd(ge),L.event(ge).end()}}function I(M,...D){if(t.apply(this,arguments)){var L=this.__zoom,q=Oo(M.changedTouches?M.changedTouches[0]:M,this),F=L.invert(q),V=L.k*(M.shiftKey?.5:2),G=n(w(b(L,V),q,F),e.apply(this,D),s);Bd(M),o>0?Ea(this).transition().duration(o).call(E,G,q,M):Ea(this).call(x.transform,G,q,M)}}function C(M,...D){if(t.apply(this,arguments)){var L=M.touches,q=L.length,F=P(this,D,M.changedTouches.length===q).event(M),V,G,Y,B;for(Rw(M),G=0;G<q;++G)Y=L[G],B=Oo(Y,this),B=[B,this.__zoom.invert(B),Y.identifier],F.touch0?!F.touch1&&F.touch0[2]!==B[2]&&(F.touch1=B,F.taps=0):(F.touch0=B,V=!0,F.taps=1+!!u);u&&(u=clearTimeout(u)),V&&(F.taps<2&&(d=B[0],u=setTimeout(function(){u=null},p)),wg(this),F.start())}}function j(M,...D){if(this.__zooming){var L=P(this,D).event(M),q=M.changedTouches,F=q.length,V,G,Y,B;for(Bd(M),V=0;V<F;++V)G=q[V],Y=Oo(G,this),L.touch0&&L.touch0[2]===G.identifier?L.touch0[0]=Y:L.touch1&&L.touch1[2]===G.identifier&&(L.touch1[0]=Y);if(G=L.that.__zoom,L.touch1){var ae=L.touch0[0],ge=L.touch0[1],ye=L.touch1[0],te=L.touch1[1],ie=(ie=ye[0]-ae[0])*ie+(ie=ye[1]-ae[1])*ie,de=(de=te[0]-ge[0])*de+(de=te[1]-ge[1])*de;G=b(G,Math.sqrt(ie/de)),Y=[(ae[0]+ye[0])/2,(ae[1]+ye[1])/2],B=[(ge[0]+te[0])/2,(ge[1]+te[1])/2]}else if(L.touch0)Y=L.touch0[0],B=L.touch0[1];else return;L.zoom("touch",n(w(G,Y,B),L.extent,s))}}function O(M,...D){if(this.__zooming){var L=P(this,D).event(M),q=M.changedTouches,F=q.length,V,G;for(Rw(M),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),V=0;V<F;++V)G=q[V],L.touch0&&L.touch0[2]===G.identifier?delete L.touch0:L.touch1&&L.touch1[2]===G.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(G=Oo(G,this),Math.hypot(d[0]-G[0],d[1]-G[1])<v)){var Y=Ea(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return x.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:Bm(+M),x):r},x.filter=function(M){return arguments.length?(t=typeof M=="function"?M:Bm(!!M),x):t},x.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:Bm(!!M),x):i},x.extent=function(M){return arguments.length?(e=typeof M=="function"?M:Bm([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),x):e},x.scaleExtent=function(M){return arguments.length?(a[0]=+M[0],a[1]=+M[1],x):[a[0],a[1]]},x.translateExtent=function(M){return arguments.length?(s[0][0]=+M[0][0],s[1][0]=+M[1][0],s[0][1]=+M[0][1],s[1][1]=+M[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(M){return arguments.length?(n=M,x):n},x.duration=function(M){return arguments.length?(o=+M,x):o},x.interpolate=function(M){return arguments.length?(l=M,x):l},x.on=function(){var M=c.on.apply(c,arguments);return M===c?x:M},x.clickDistance=function(M){return arguments.length?(y=(M=+M)*M,x):Math.sqrt(y)},x.tapDistance=function(M){return arguments.length?(v=+M,x):v},x}function hD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hD(Object(n),!0).forEach(function(r){iCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uE(t){"@babel/helpers - typeof";return uE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uE(t)}function iCe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gr(){return gr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gr.apply(this,arguments)}function aCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function li(t,e){if(t==null)return{};var n=aCe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _n(t,e){return sCe(t)||oCe(t,e)||lCe(t,e)||cCe()}function sCe(t){if(Array.isArray(t))return t}function oCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function lCe(t,e){if(t){if(typeof t=="string")return pD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pD(t,e)}}function pD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var uCe=["width","height","projection","projectionConfig"],dCe=LU,fCe=li(T2e,["geoPath"]),pa=R.createContext(),hCe=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,a=i===void 0?"geoEqualEarth":i,s=e.width,o=s===void 0?800:s,l=e.height,c=l===void 0?600:l,u=typeof a=="function";if(u)return a;var d=fCe[a]().translate([o/2,c/2]),h=[d.center?"center":null,d.rotate?"rotate":null,d.scale?"scale":null,d.parallels?"parallels":null];return h.forEach(function(p){p&&(d=d[p](r[p]||d[p]()))}),d},v9=function(e){var n=e.width,r=e.height,i=e.projection,a=e.projectionConfig,s=li(e,uCe),o=a.center||[],l=_n(o,2),c=l[0],u=l[1],d=a.rotate||[],h=_n(d,3),p=h[0],g=h[1],y=h[2],v=a.parallels||[],x=_n(v,2),b=x[0],w=x[1],S=a.scale||null,E=R.useMemo(function(){return hCe({projectionConfig:{center:c||c===0||u||u===0?[c,u]:null,rotate:p||p===0||g||g===0?[p,g,y]:null,parallels:b||b===0||w||w===0?[b,w]:null,scale:S},projection:i,width:n,height:r})},[n,r,i,c,u,p,g,y,b,w,S]),P=R.useCallback(E,[E]),_=R.useMemo(function(){return{width:n,height:r,projection:P,path:dCe().projection(P)}},[n,r,P]);return z.createElement(pa.Provider,gr({value:_},s))};v9.propTypes={width:oe.number,height:oe.number,projection:oe.oneOfType([oe.string,oe.func]),projectionConfig:oe.object};var pCe=["width","height","projection","projectionConfig","className"],nA=R.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,a=i===void 0?600:i,s=t.projection,o=s===void 0?"geoEqualEarth":s,l=t.projectionConfig,c=l===void 0?{}:l,u=t.className,d=u===void 0?"":u,h=li(t,pCe);return z.createElement(v9,{width:r,height:a,projection:o,projectionConfig:c},z.createElement("svg",gr({ref:e,viewBox:"0 0 ".concat(r," ").concat(a),className:"rsm-svg ".concat(d)},h)))});nA.displayName="ComposableMap";nA.propTypes={width:oe.number,height:oe.number,projection:oe.oneOfType([oe.string,oe.func]),projectionConfig:oe.object,className:oe.string};function mD(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function mCe(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function gD(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=I2e(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function yD(t){var e=t.type==="Topology";if(!e)return null;var n=YM(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i===a}),r=YM(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i!==a});return{outline:n,borders:r}}function gCe(t,e,n){return t&&e?{outline:bc(bc({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:bc(bc({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function yCe(t,e){return t?t.map(function(n,r){return bc(bc({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function vCe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],a=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+a," ").concat(-t,",").concat(-e)}function xCe(t){return typeof t=="string"}function bCe(t){var e=t.geography,n=t.parseGeographies,r=R.useContext(pa),i=r.path,a=R.useState({}),s=_n(a,2),o=s[0],l=s[1];R.useEffect(function(){(typeof window>"u"?"undefined":uE(window))!=="undefined"&&e&&(xCe(e)?mCe(e).then(function(p){p&&l({geographies:gD(p,n),mesh:yD(p)})}):l({geographies:gD(e,n),mesh:yD(e)}))},[e,n]);var c=R.useMemo(function(){var p=o.mesh||{},g=gCe(p.outline,p.borders,i);return{geographies:yCe(o.geographies,i),outline:g.outline,borders:g.borders}},[o,i]),u=c.geographies,d=c.outline,h=c.borders;return{geographies:u,outline:d,borders:h}}var wCe=["geography","children","parseGeographies","className"],rA=R.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,a=t.className,s=a===void 0?"":a,o=li(t,wCe),l=R.useContext(pa),c=l.path,u=l.projection,d=bCe({geography:n,parseGeographies:i}),h=d.geographies,p=d.outline,g=d.borders;return z.createElement("g",gr({ref:e,className:"rsm-geographies ".concat(s)},o),h&&h.length>0&&r({geographies:h,outline:p,borders:g,path:c,projection:u}))});rA.displayName="Geographies";rA.propTypes={geography:oe.oneOfType([oe.string,oe.object,oe.array]),children:oe.func,parseGeographies:oe.func,className:oe.string};var _Ce=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],iA=R.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,a=t.onMouseDown,s=t.onMouseUp,o=t.onFocus,l=t.onBlur,c=t.style,u=c===void 0?{}:c,d=t.className,h=d===void 0?"":d,p=li(t,_Ce),g=R.useState(!1),y=_n(g,2),v=y[0],x=y[1],b=R.useState(!1),w=_n(b,2),S=w[0],E=w[1];function P(j){E(!0),r&&r(j)}function _(j){E(!1),v&&x(!1),i&&i(j)}function k(j){E(!0),o&&o(j)}function A(j){E(!1),v&&x(!1),l&&l(j)}function I(j){x(!0),a&&a(j)}function C(j){x(!1),s&&s(j)}return z.createElement("path",gr({ref:e,tabIndex:"0",className:"rsm-geography ".concat(h),d:n.svgPath,onMouseEnter:P,onMouseLeave:_,onFocus:k,onBlur:A,onMouseDown:I,onMouseUp:C,style:u[v||S?v?"pressed":"hover":"default"]},p))});iA.displayName="Geography";iA.propTypes={geography:oe.object,onMouseEnter:oe.func,onMouseLeave:oe.func,onMouseDown:oe.func,onMouseUp:oe.func,onFocus:oe.func,onBlur:oe.func,style:oe.object,className:oe.string};var SCe=R.memo(iA),ECe=["fill","stroke","step","className"],aA=R.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,a=i===void 0?"currentcolor":i,s=t.step,o=s===void 0?[10,10]:s,l=t.className,c=l===void 0?"":l,u=li(t,ECe),d=R.useContext(pa),h=d.path;return z.createElement("path",gr({ref:e,d:h(jP().step(o)()),fill:r,stroke:a,className:"rsm-graticule ".concat(c)},u))});aA.displayName="Graticule";aA.propTypes={fill:oe.string,stroke:oe.string,step:oe.array,className:oe.string};R.memo(aA);var kCe=["value"],TCe=R.createContext(),PCe={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},x9=function(e){var n=e.value,r=n===void 0?PCe:n,i=li(e,kCe);return z.createElement(TCe.Provider,gr({value:r},i))};x9.propTypes={x:oe.number,y:oe.number,k:oe.number,transformString:oe.string};function ACe(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,a=t.onMove,s=t.translateExtent,o=s===void 0?[[-1/0,-1/0],[1/0,1/0]]:s,l=t.scaleExtent,c=l===void 0?[1,8]:l,u=t.zoom,d=u===void 0?1:u,h=R.useContext(pa),p=h.width,g=h.height,y=h.projection,v=_n(e,2),x=v[0],b=v[1],w=R.useState({x:0,y:0,k:1}),S=_n(w,2),E=S[0],P=S[1],_=R.useRef({x:0,y:0,k:1}),k=R.useRef(),A=R.useRef(),I=R.useRef(!1),C=_n(o,2),j=C[0],O=C[1],M=_n(j,2),D=M[0],L=M[1],q=_n(O,2),F=q[0],V=q[1],G=_n(c,2),Y=G[0],B=G[1];return R.useEffect(function(){var ae=Ea(k.current);function ge(ee){!r||I.current||r({coordinates:y.invert(mD(p,g,ee.transform)),zoom:ee.transform.k},ee)}function ye(ee){if(!I.current){var _e=ee.transform,re=ee.sourceEvent;P({x:_e.x,y:_e.y,k:_e.k,dragging:re}),a&&a({x:_e.x,y:_e.y,zoom:_e.k,dragging:re},ee)}}function te(ee){if(I.current){I.current=!1;return}var _e=y.invert(mD(p,g,ee.transform)),re=_n(_e,2),X=re[0],Z=re[1];_.current={x:X,y:Z,k:ee.transform.k},i&&i({coordinates:[X,Z],zoom:ee.transform.k},ee)}function ie(ee){return n?n(ee):ee?!ee.ctrlKey&&!ee.button:!1}var de=rCe().filter(ie).scaleExtent([Y,B]).translateExtent([[D,L],[F,V]]).on("start",ge).on("zoom",ye).on("end",te);A.current=de,ae.call(de)},[p,g,D,L,F,V,Y,B,y,r,a,i,n]),R.useEffect(function(){if(!(x===_.current.x&&b===_.current.y&&d===_.current.k)){var ae=y([x,b]),ge=ae[0]*d,ye=ae[1]*d,te=Ea(k.current);I.current=!0,te.call(A.current.transform,tA.translate(p/2-ge,g/2-ye).scale(d)),P({x:p/2-ge,y:g/2-ye,k:d}),_.current={x,y:b,k:d}}},[x,b,d,p,g,y]),{mapRef:k,position:E,transformString:"translate(".concat(E.x," ").concat(E.y,") scale(").concat(E.k,")")}}var NCe=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],sA=R.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,a=i===void 0?1:i,s=t.minZoom,o=s===void 0?1:s,l=t.maxZoom,c=l===void 0?8:l,u=t.translateExtent,d=t.filterZoomEvent,h=t.onMoveStart,p=t.onMove,g=t.onMoveEnd,y=t.className,v=li(t,NCe),x=R.useContext(pa),b=x.width,w=x.height,S=ACe({center:r,filterZoomEvent:d,onMoveStart:h,onMove:p,onMoveEnd:g,scaleExtent:[o,c],translateExtent:u,zoom:a}),E=S.mapRef,P=S.transformString,_=S.position;return z.createElement(x9,{value:{x:_.x,y:_.y,k:_.k,transformString:P}},z.createElement("g",{ref:E},z.createElement("rect",{width:b,height:w,fill:"transparent"}),z.createElement("g",gr({ref:e,transform:P,className:"rsm-zoomable-group ".concat(y)},v))))});sA.displayName="ZoomableGroup";sA.propTypes={center:oe.array,zoom:oe.number,minZoom:oe.number,maxZoom:oe.number,translateExtent:oe.arrayOf(oe.array),onMoveStart:oe.func,onMove:oe.func,onMoveEnd:oe.func,className:oe.string};var ICe=["id","fill","stroke","strokeWidth","className"],oA=R.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,a=i===void 0?"transparent":i,s=t.stroke,o=s===void 0?"currentcolor":s,l=t.strokeWidth,c=l===void 0?.5:l,u=t.className,d=u===void 0?"":u,h=li(t,ICe),p=R.useContext(pa),g=p.path,y=R.useMemo(function(){return g({type:"Sphere"})},[g]);return z.createElement(R.Fragment,null,z.createElement("defs",null,z.createElement("clipPath",{id:r},z.createElement("path",{d:y}))),z.createElement("path",gr({ref:e,d:y,fill:a,stroke:o,strokeWidth:c,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(d)},h)))});oA.displayName="Sphere";oA.propTypes={id:oe.string,fill:oe.string,stroke:oe.string,strokeWidth:oe.number,className:oe.string};R.memo(oA);var OCe=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],lA=R.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,a=t.onMouseLeave,s=t.onMouseDown,o=t.onMouseUp,l=t.onFocus,c=t.onBlur,u=t.style,d=u===void 0?{}:u,h=t.className,p=h===void 0?"":h,g=li(t,OCe),y=R.useContext(pa),v=y.projection,x=R.useState(!1),b=_n(x,2),w=b[0],S=b[1],E=R.useState(!1),P=_n(E,2),_=P[0],k=P[1],A=v(n),I=_n(A,2),C=I[0],j=I[1];function O(V){k(!0),i&&i(V)}function M(V){k(!1),w&&S(!1),a&&a(V)}function D(V){k(!0),l&&l(V)}function L(V){k(!1),w&&S(!1),c&&c(V)}function q(V){S(!0),s&&s(V)}function F(V){S(!1),o&&o(V)}return z.createElement("g",gr({ref:e,transform:"translate(".concat(C,", ").concat(j,")"),className:"rsm-marker ".concat(p),onMouseEnter:O,onMouseLeave:M,onFocus:D,onBlur:L,onMouseDown:q,onMouseUp:F,style:d[w||_?w?"pressed":"hover":"default"]},g),r)});lA.displayName="Marker";lA.propTypes={coordinates:oe.array,children:oe.oneOfType([oe.node,oe.arrayOf(oe.node)]),onMouseEnter:oe.func,onMouseLeave:oe.func,onMouseDown:oe.func,onMouseUp:oe.func,onFocus:oe.func,onBlur:oe.func,style:oe.object,className:oe.string};var CCe=["from","to","coordinates","stroke","strokeWidth","fill","className"],b9=R.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,a=i===void 0?[0,0]:i,s=t.coordinates,o=t.stroke,l=o===void 0?"currentcolor":o,c=t.strokeWidth,u=c===void 0?3:c,d=t.fill,h=d===void 0?"transparent":d,p=t.className,g=p===void 0?"":p,y=li(t,CCe),v=R.useContext(pa),x=v.path,b={type:"LineString",coordinates:s||[r,a]};return z.createElement("path",gr({ref:e,d:x(b),className:"rsm-line ".concat(g),stroke:l,strokeWidth:u,fill:h},y))});b9.displayName="Line";b9.propTypes={from:oe.array,to:oe.array,coordinates:oe.array,stroke:oe.string,strokeWidth:oe.number,fill:oe.string,className:oe.string};var jCe=["subject","children","connectorProps","dx","dy","curve","className"],w9=R.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,a=t.dx,s=a===void 0?30:a,o=t.dy,l=o===void 0?30:o,c=t.curve,u=c===void 0?0:c,d=t.className,h=d===void 0?"":d,p=li(t,jCe),g=R.useContext(pa),y=g.projection,v=y(n),x=_n(v,2),b=x[0],w=x[1],S=vCe(s,l,u);return z.createElement("g",gr({ref:e,transform:"translate(".concat(b+s,", ").concat(w+l,")"),className:"rsm-annotation ".concat(h)},p),z.createElement("path",gr({d:S,fill:"transparent",stroke:"#000"},i)),r)});w9.displayName="Annotation";w9.propTypes={subject:oe.array,children:oe.oneOfType([oe.node,oe.arrayOf(oe.node)]),dx:oe.number,dy:oe.number,curve:oe.number,connectorProps:oe.object,className:oe.string};var RCe=1e-6,vD=1e-12,cA=Math.PI,xD=cA/2,bD=180/cA,oa=cA/180,_9=Math.atan2,la=Math.cos,dE=Math.hypot,ca=Math.sin,MCe=Math.sqrt;function S9(t){return t>1?xD:t<-1?-xD:Math.asin(t)}function DCe(){}function Ky(t,e){t&&_D.hasOwnProperty(t.type)&&_D[t.type](t,e)}var wD={Feature:function(t,e){Ky(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ky(n[r].geometry,e)}},_D={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fE(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fE(n[r],e,0)},Polygon:function(t,e){SD(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)SD(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ky(n[r],e)}};function fE(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function SD(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fE(t[n],e,1);e.polygonEnd()}function $Ce(t,e){t&&wD.hasOwnProperty(t.type)?wD[t.type](t,e):Ky(t,e)}var of,Yy,Qy,Xy,Jy,Zy,ev,tv,hE,pE,mE,E9,k9,Wn,Hn,Gn,Ei={sphere:DCe,point:uA,lineStart:ED,lineEnd:kD,polygonStart:function(){Ei.lineStart=VCe,Ei.lineEnd=UCe},polygonEnd:function(){Ei.lineStart=ED,Ei.lineEnd=kD}};function uA(t,e){t*=oa,e*=oa;var n=la(e);Dp(n*la(t),n*ca(t),ca(e))}function Dp(t,e,n){++of,Qy+=(t-Qy)/of,Xy+=(e-Xy)/of,Jy+=(n-Jy)/of}function ED(){Ei.point=LCe}function LCe(t,e){t*=oa,e*=oa;var n=la(e);Wn=n*la(t),Hn=n*ca(t),Gn=ca(e),Ei.point=FCe,Dp(Wn,Hn,Gn)}function FCe(t,e){t*=oa,e*=oa;var n=la(e),r=n*la(t),i=n*ca(t),a=ca(e),s=_9(MCe((s=Hn*a-Gn*i)*s+(s=Gn*r-Wn*a)*s+(s=Wn*i-Hn*r)*s),Wn*r+Hn*i+Gn*a);Yy+=s,Zy+=s*(Wn+(Wn=r)),ev+=s*(Hn+(Hn=i)),tv+=s*(Gn+(Gn=a)),Dp(Wn,Hn,Gn)}function kD(){Ei.point=uA}function VCe(){Ei.point=BCe}function UCe(){T9(E9,k9),Ei.point=uA}function BCe(t,e){E9=t,k9=e,t*=oa,e*=oa,Ei.point=T9;var n=la(e);Wn=n*la(t),Hn=n*ca(t),Gn=ca(e),Dp(Wn,Hn,Gn)}function T9(t,e){t*=oa,e*=oa;var n=la(e),r=n*la(t),i=n*ca(t),a=ca(e),s=Hn*a-Gn*i,o=Gn*r-Wn*a,l=Wn*i-Hn*r,c=dE(s,o,l),u=S9(c),d=c&&-u/c;hE.add(d*s),pE.add(d*o),mE.add(d*l),Yy+=u,Zy+=u*(Wn+(Wn=r)),ev+=u*(Hn+(Hn=i)),tv+=u*(Gn+(Gn=a)),Dp(Wn,Hn,Gn)}function zCe(t){of=Yy=Qy=Xy=Jy=Zy=ev=tv=0,hE=new sw,pE=new sw,mE=new sw,$Ce(t,Ei);var e=+hE,n=+pE,r=+mE,i=dE(e,n,r);return i<vD&&(e=Zy,n=ev,r=tv,Yy<RCe&&(e=Qy,n=Xy,r=Jy),i=dE(e,n,r),i<vD)?[NaN,NaN]:[_9(n,e)*bD,S9(r/i)*bD]}const qCe="https://raw.githubusercontent.com/deldar-h/iraq-governorates-geojson/master/Iraq_Governorates.json",WCe=({data:t,selectedGovernorates:e=[],onSelect:n})=>{const{theme:r,brand:i}=nr(),[a,s]=R.useState(!0),[o,l]=R.useState(!1);z.useEffect(()=>{const p=setTimeout(()=>{a&&s(!1)},5e3);return()=>clearTimeout(p)},[a]);const{maxValue:c,minPositive:u}=R.useMemo(()=>{const p=Object.values(t||{}).filter(x=>typeof x=="number"),g=p.length>0?Math.max(...p):0,y=p.filter(x=>x>0),v=y.length>0?Math.min(...y):1;return{maxValue:g,minPositive:v}},[t]),d=Sh().domain([u||1,c||u||1]).range([`${i.color}40`,i.color]),h=r==="dark"?"#0f172a":"#f1f5f9";return f.jsxs("div",{className:"w-full h-full bg-slate-50 dark:bg-slate-900/50 rounded-2xl overflow-hidden relative flex items-center justify-center border border-slate-100 dark:border-slate-800",children:[a&&!o&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-900 z-10",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Loading Map Data..."})]})}),o&&f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-400 bg-slate-50 dark:bg-slate-900 z-10 p-4 text-center",children:[f.jsx("p",{className:"font-bold",children:"Map data unavailable"}),f.jsx("p",{className:"text-xs mt-2",children:"Check internet connection or data source."})]}),f.jsx(nA,{projection:"geoMercator",projectionConfig:{scale:3500,center:[44,33]},className:"w-full h-full",children:f.jsx(sA,{zoom:1,maxZoom:3,children:f.jsx(rA,{geography:qCe,onGeographyLoad:()=>{s(!1),l(!1)},onGeographyError:p=>{console.error("Map Load Error:",p),s(!1),l(!0)},children:({geographies:p})=>f.jsxs(f.Fragment,{children:[p.map(g=>{const y=g.properties.name||"",v=P=>P.toLowerCase().replace(/[^a-z0-9]/g,""),x=Object.keys(t||{}).find(P=>{const _=v(y),k=v(P);return _.includes(k)||k.includes(_)}),b=x||y,w=typeof t=="object"&&x&&t[x]||0,S=e.includes(b),E=S?"#F59E0B":w>0?d(w):h;return f.jsx(SCe,{geography:g,fill:E,stroke:S?"#ffffff":r==="dark"?"#334155":"#cbd5e1",strokeWidth:S?2:.5,onClick:()=>{n&&n(b)},style:{default:{outline:"none",transition:"all 250ms"},hover:{fill:"#F59E0B",outline:"none",stroke:"#fff",strokeWidth:2,cursor:"pointer",opacity:.8},pressed:{outline:"none"}},title:`${b}: ${w} Orders`},g.rsmKey)}),p.map(g=>{const y=zCe(g),v=g.properties.name||"",x=_=>_.toLowerCase().replace(/[^a-z0-9]/g,""),b=Object.keys(t||{}).find(_=>{const k=x(v),A=x(_);return k.includes(A)||A.includes(k)}),w=b||v,S=typeof t=="object"&&b&&t[b]||0,[E,P]=y||[];return!Number.isFinite(E)||!Number.isFinite(P)?null:f.jsx(lA,{coordinates:y,children:f.jsxs("g",{className:"pointer-events-none",style:{transform:"translateY(-6px)"},children:[f.jsx("text",{y:"-6",textAnchor:"middle",style:{fontSize:8,fill:r==="dark"?"#fff":"#ffffff",fontWeight:"bold",pointerEvents:"none"},children:w}),f.jsx("text",{y:"8",textAnchor:"middle",style:{fontSize:10,fill:r==="dark"?"#e6f0ff":"#ffffff",fontWeight:"800",pointerEvents:"none"},children:S})]})},`${g.rsmKey}-label`)})]})})})}),f.jsxs("div",{className:"absolute bottom-4 end-4 bg-white/90 dark:bg-slate-800/90 backdrop-blur p-3 rounded-xl shadow-lg border border-slate-100 dark:border-slate-700 text-xs text-slate-500 dark:text-slate-400 z-20 pointer-events-none",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:i.color}})," High Order Volume"]}),f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:r==="dark"?"#1E293B":"#E0E7FF"}})," Low Order Volume"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-3 h-3 bg-[#F59E0B] rounded-sm"})," Selected"]})]})]})},HCe=({regions:t,selectedRegion:e,onSelect:n})=>{const r=[...t].sort((a,s)=>s.count-a.count).slice(0,5),i=a=>{n(a)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 h-full flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(qs,{className:"w-5 h-5 text-accent"})," Top Regions"]}),f.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pe-2",children:[r.map((a,s)=>{const o=e===a.name||Array.isArray(e)&&e.includes(a.name);return f.jsxs("div",{onClick:()=>i(a.name),className:`flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all ltr:hover:translate-x-1 rtl:hover:-translate-x-1 ${o?"bg-accent text-white shadow-accent":"bg-slate-50 dark:bg-slate-700/30 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-black transition-all ${s===0?"bg-amber-100 text-amber-600":s===1?"bg-slate-200 text-slate-600":s===2?"bg-orange-100 text-orange-600":""}`,style:s>2?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:s+1}),f.jsx("span",{className:`font-bold transition-colors ${o?"text-white":"text-slate-700 dark:text-slate-300"}`,children:a.name})]}),f.jsx("span",{className:`font-black transition-colors ${o?"text-white":"text-slate-800 dark:text-white"}`,children:a.count})]},a.name)}),r.length===0&&f.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No data available"})]})]})},GCe=({products:t,orders:e,formatCurrency:n})=>{const r=z.useMemo(()=>{const o={};return t.forEach(l=>{const c=l._id||l.id||l.id_str||l.sku||l.name;o[c]={...l,_id:c,totalSales:0,orderCount:0,distinctOrders:[]}}),e.forEach(l=>{l.items&&l.items.forEach(c=>{var d,h;const u=((d=c.product)==null?void 0:d._id)||c.productId;u&&o[u]&&(o[u].totalSales+=c.price*c.quantity,o[u].orderCount+=c.quantity,o[u].distinctOrders.push({id:l._id||l.id,customer:((h=l.customer)==null?void 0:h.name)||l.customer||"",date:l.date||l.createdAt||l.updatedAt,quantity:c.quantity,total:c.price*c.quantity}))})}),Object.values(o).sort((l,c)=>c.orderCount-l.orderCount).slice(0,10)},[t,e]),[i,a]=R.useState(null),s=o=>{a(i===o?null:o)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Hc,{className:"w-5 h-5 text-accent"})," Top Selling Products"]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700",children:[f.jsx("th",{className:"py-3 ps-2",children:"Product Name"}),f.jsx("th",{className:"py-3 text-center",children:"Sales"}),f.jsx("th",{className:"py-3 text-end pe-2",children:"Total Revenue"}),f.jsx("th",{className:"py-3 w-10"})]})}),f.jsxs("tbody",{className:"text-sm",children:[r.filter(o=>o.orderCount>0).map(o=>{var l;return f.jsxs(z.Fragment,{children:[f.jsxs("tr",{onClick:()=>s(o._id),className:`group cursor-pointer transition-colors border-b border-slate-50 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${i===o._id?"bg-slate-50 dark:bg-slate-800":""}`,children:[f.jsxs("td",{className:"py-4 ps-2 font-bold text-slate-700 dark:text-slate-200 flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-700 overflow-hidden shrink-0",children:f.jsx("img",{src:((l=o.images)==null?void 0:l[0])||"https://via.placeholder.com/40",alt:o.name||"Product image",className:"w-full h-full object-cover"})}),o.name]}),f.jsx("td",{className:"py-4 text-center text-slate-600 dark:text-slate-300",children:f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-black transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[o.orderCount," Orders"]})}),f.jsx("td",{className:"py-4 text-end pe-2 font-bold text-slate-800 dark:text-white",children:n(o.totalSales)}),f.jsx("td",{className:"py-4 text-center text-slate-400 group-hover:text-accent",children:i===o._id?f.jsx(iL,{className:"w-4 h-4"}):f.jsx(Pl,{className:"w-4 h-4"})})]}),i===o._id&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"bg-slate-50/50 dark:bg-slate-900/30 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[f.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-700/30 border-b border-slate-100 dark:border-slate-700 text-xs font-bold text-slate-500 uppercase flex justify-between",children:f.jsxs("span",{children:["Order Details (",o.distinctOrders.length,")"]})}),f.jsxs("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:[o.distinctOrders.map((c,u)=>f.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-50 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-700/20 transition-colors",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 flex items-center gap-1",children:[f.jsx(yf,{className:"w-3 h-3 text-slate-400"})," ",c.customer]}),f.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1 mt-0.5",children:[f.jsx(nL,{className:"w-3 h-3"})," ",c.date&&!isNaN(new Date(c.date).getTime())?Br(new Date(c.date),"dd MMM yyyy"):"N/A"]})]})}),f.jsxs("div",{className:"text-end",children:[f.jsxs("span",{className:"block text-xs font-bold text-slate-800 dark:text-white",children:["Qty: ",c.quantity]}),f.jsx("span",{className:"block text-[10px] font-semibold text-emerald-600 dark:text-emerald-400",children:n(c.total)})]})]},u)),o.distinctOrders.length===0&&f.jsx("div",{className:"text-center py-4 text-slate-400 text-xs",children:"No order details available"})]})]})})})]},o._id)}),r.filter(o=>o.orderCount>0).length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"text-center py-8 text-slate-400",children:"No sales data matches current filters"})})]})]})})]})},ip=["Al Anbar","Babil","Baghdad","Basra","Dhi Qar","Al-Qadisiyyah","Diyala","Duhok","Erbil","Karbala","Kirkuk","Maysan","Muthanna","Najaf","Nineveh","Saladin","Sulaymaniyah","Wasit"],ap=["Facebook","Instagram","TikTok","Snapchat","Telegram","WhatsApp","Other"],KCe=()=>{var B,ae,ge,ye;const{t}=Dr(),{orders:e,products:n,customers:r,loading:i,formatCurrency:a,brand:s,categories:o,theme:l,appearance:c}=nr(),u=R.useMemo(()=>e.length===0?AP(new Date,30):e.reduce((te,ie)=>{try{const de=_a(ie.date);return de<te?de:te}catch{return te}},new Date),[e]),d=R.useMemo(()=>({from:u,to:new Date}),[u]),[h,p]=R.useState(d),[g,y]=R.useState(!1);z.useEffect(()=>{!i&&e.length>0&&!g&&(p(d),y(!0))},[i,e.length,d,g]);const[v,x]=R.useState([]),[b,w]=R.useState([]),[S,E]=R.useState([]),[P,_]=R.useState([]),k=R.useMemo(()=>e.filter(te=>{const ie=_a(te.date),de=!(h!=null&&h.from)||!(h!=null&&h.to)||Kh(ie,{start:h.from,end:h.to}),ee=v.length===0||v.includes(te.status),_e=b.length===0||b.includes(te.customer.governorate),re=S.length===0||S.includes(te.customer.social),X=P.length===0||te.items.some(Z=>P.includes(Z.product.category));return de&&ee&&_e&&re&&X}),[e,h,v,b,S,P]),A=R.useMemo(()=>k.reduce((te,ie)=>te+ie.total,0),[k]),I=k.length,C=R.useMemo(()=>new Set(k.map(te=>te.customer.phone)).size,[k]),j=R.useMemo(()=>{const te={};return k.forEach(ie=>{var ee;const de=(ee=ie.customer)==null?void 0:ee.governorate;de&&(te[de]=(te[de]||0)+1)}),Object.entries(te).map(([ie,de])=>({name:ie,count:de}))},[k]),O=R.useMemo(()=>j.length===0?{name:"N/A",count:0}:j.reduce((te,ie)=>te.count>ie.count?te:ie),[j]),M=R.useMemo(()=>e.filter(te=>{const ie=_a(te.date);return!(h!=null&&h.from)||!(h!=null&&h.to)||Kh(ie,{start:h.from,end:h.to})}),[e,h]),D=R.useMemo(()=>{const te={};return M.forEach(ie=>te[ie.status]=(te[ie.status]||0)+1),["Processing","Completed","Cancelled"].map(ie=>({value:ie,label:ie,count:te[ie]||0}))},[M]),L=R.useMemo(()=>{const te={};return M.forEach(ie=>{var ee;const de=(ee=ie.customer)==null?void 0:ee.governorate;de&&(te[de]=(te[de]||0)+1)}),ip.map(ie=>({value:ie,label:ie,count:te[ie]||0})).sort((ie,de)=>de.count-ie.count)},[M]),q=R.useMemo(()=>{const te={};return M.forEach(ie=>{var ee;const de=(ee=ie.customer)==null?void 0:ee.social;de&&(te[de]=(te[de]||0)+1)}),ap.map(ie=>({value:ie,label:ie,count:te[ie]||0})).sort((ie,de)=>de.count-ie.count)},[M]),F=R.useMemo(()=>{const te={};return M.forEach(ie=>{var ee;const de=new Set;(ee=ie.items)==null||ee.forEach(_e=>{var X;const re=(X=_e.product)==null?void 0:X.category;re&&!de.has(re)&&(te[re]=(te[re]||0)+1,de.add(re))})}),o.map(ie=>({value:ie,label:ie,count:te[ie]||0})).sort((ie,de)=>de.count-ie.count)},[M,o]),V=R.useMemo(()=>{if(!(h!=null&&h.from)||!(h!=null&&h.to)||rU(h.from,h.to))return[];let te=[];try{te=KTe({start:h.from,end:h.to})}catch(de){return console.error("Invalid date range for chart:",de),[]}const ie={};return te.forEach(de=>ie[Br(de,"yyyy-MM-dd")]=0),k.forEach(de=>{const ee=Br(_a(de.date),"yyyy-MM-dd");ie[ee]!==void 0&&(ie[ee]+=de.total)}),Object.entries(ie).map(([de,ee])=>({date:Br(_a(de),"MMM d"),value:ee}))},[k,h]),G=R.useMemo(()=>j.reduce((te,ie)=>(te[ie.name]=ie.count,te),{}),[j]),Y=l==="dark"?{text:"#94A3B8",grid:"#334155",tooltipBg:"#1E293B"}:{text:"#64748B",grid:"#E2E8F0",tooltipBg:"#FFFFFF"};return f.jsxs(zu,{title:t("dashboard.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsx("div",{className:"flex gap-3 items-center flex-wrap",children:f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl font-bold text-sm border border-indigo-100 dark:border-indigo-900/50",children:[f.jsx(Pb,{className:"w-4 h-4"}),f.jsx("span",{children:t("dashboard.liveDashboard")})]})}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(v.length>0||b.length>0||S.length>0||P.length>0||((B=h.from)==null?void 0:B.getTime())!==((ae=d.from)==null?void 0:ae.getTime())||((ge=h.to)==null?void 0:ge.getTime())!==((ye=d.to)==null?void 0:ye.getTime()))&&f.jsx("button",{onClick:()=>{x([]),w([]),E([]),_([]),p(d)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("dashboard.clearFilters")}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Hc,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:k.length})," ",t("dashboard.filteredOrders")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(NP,{range:h,onRangeChange:p,brandColor:s.color})}),f.jsx(_i,{title:t("dashboard.governorate"),options:L,selectedValues:b,onChange:w,icon:qs,showSearch:!1}),f.jsx(_i,{title:t("dashboard.socialMedia"),options:q,selectedValues:S,onChange:E,icon:Zo,showSearch:!1}),f.jsx(_i,{title:t("dashboard.categories"),options:F,selectedValues:P,onChange:_,icon:Hc,showSearch:!1}),f.jsx(_i,{title:t("dashboard.status"),options:D,selectedValues:v,onChange:x,icon:Un,showSearch:!1})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-accent rounded-3xl p-6 text-white shadow-accent",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 opacity-80",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalRevenue")}),f.jsx(Dq,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black mb-1",children:a(A)}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium opacity-80",children:[f.jsx(Pb,{className:"w-3 h-3"}),f.jsx("span",{children:t("dashboard.revenueComparison")})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalOrders")}),f.jsx(cL,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:I}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersPlaced")})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.topRegion")}),f.jsx(qs,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-1 truncate",children:O.name}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersCount",{count:O.count})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.activeCustomers")}),f.jsx(bk,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:C}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.uniqueBuyers")})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[400px]",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Pb,{className:"w-5 h-5",style:{color:c.accentType==="solid"?c.accentColor:c.accentGradient.start}})," ",t("dashboard.revenueTrend")]}),f.jsx("div",{className:"flex-1 min-h-0",children:f.jsx(cme,{width:"100%",height:"100%",children:f.jsxs(FTe,{data:V,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:0})]})}),f.jsx(I8,{strokeDasharray:"3 3",vertical:!1,stroke:Y.grid}),f.jsx(Ix,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:Y.text},dy:10}),f.jsx(Ox,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:Y.text},tickFormatter:te=>`${te/1e3}k`}),f.jsx(Fi,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 8px 16px rgba(0,0,0,0.1)",backgroundColor:Y.tooltipBg,color:l==="dark"?"#F8FAFC":"#1E293B"},itemStyle:{color:l==="dark"?"#F8FAFC":"#1E293B"},formatter:te=>[a(te),t("dashboard.revenue")]}),f.jsx(ko,{type:"monotone",dataKey:"value",stroke:c.accentType==="solid"?c.accentColor:c.accentGradient.start,strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),f.jsxs("div",{className:"lg:col-span-1 border border-slate-100 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm h-full relative",children:[f.jsx(WCe,{data:G,selectedGovernorates:b,onSelect:te=>{b.includes(te)?w(b.filter(ie=>ie!==te)):w([...b,te])}}),f.jsx("div",{className:"absolute top-4 start-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 shadow-sm border border-slate-100",children:t("dashboard.interactiveMap")})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[400px]",children:[f.jsx(HCe,{regions:j,selectedRegion:b,onSelect:te=>{b.includes(te)?w(b.filter(ie=>ie!==te)):w([...b,te])}}),f.jsx("div",{className:"h-full",children:f.jsx(GCe,{products:n,orders:M,formatCurrency:a})})]})]})]})},YCe=({categories:t,products:e,onClose:n,onAdd:r,onUpdate:i,onDelete:a})=>{const{addToast:s}=nr(),[o,l]=R.useState(""),[c,u]=R.useState(null),[d,h]=R.useState(""),[p,g]=R.useState({});R.useEffect(()=>{const b={};t.forEach(w=>{b[w]=e.filter(S=>S.category===w).length}),g(b)},[t,e]);const y=()=>{o.trim()&&(r(o.trim()),l(""))},v=()=>{c&&d.trim()&&d!==c&&(i(c,d.trim()),u(null),h(""))},x=b=>{if(p[b]>0){s(`Cannot delete category "${b}" because it is used by ${p[b]} products.`,"error");return}window.confirm(`Are you sure you want to delete category "${b}"?`)&&a(b)};return f.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Manage Categories"}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:f.jsx(Nr,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:o,onChange:b=>l(b.target.value),placeholder:"New Category Name",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent dark:text-white",onKeyDown:b=>b.key==="Enter"&&y()}),f.jsx("button",{onClick:y,disabled:!o.trim(),className:"px-4 py-2 bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl shadow-lg shadow-accent/20 transition-all flex items-center justify-center",children:f.jsx(Ws,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/20",children:[t.map(b=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm group hover:border-indigo-100 dark:hover:border-slate-600 transition-colors",children:c===b?f.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[f.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:w=>h(w.target.value),className:"flex-1 px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-accent rounded-lg text-sm outline-none dark:text-white",onKeyDown:w=>{w.key==="Enter"&&v(),w.key==="Escape"&&u(null)}}),f.jsx("button",{onClick:v,className:"text-emerald-500 hover:bg-emerald-50 rounded p-1",children:f.jsx(vk,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:bg-red-50 rounded p-1",children:f.jsx(Nr,{className:"w-4 h-4"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:b}),f.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:[p[b]||0," products"]})]}),f.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{u(b),h(b)},className:"p-2 text-slate-400 hover:text-accent hover:bg-accent/10 rounded-lg transition-colors",title:"Rename",children:f.jsx(Gq,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>x(b),className:`p-2 rounded-lg transition-colors ${p[b]>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:p[b]>0?"Cannot delete used category":"Delete",children:p[b]>0?f.jsx(jq,{className:"w-4 h-4"}):f.jsx(Gc,{className:"w-4 h-4"})})]})]})},b)),t.length===0&&f.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No categories found. Add one above."})]})]})})},wa=({title:t,options:e,selectedValue:n,onChange:r,icon:i,placeholder:a="Search...",showSearch:s=!0,customAction:o=null,disabled:l=!1,direction:c="down"})=>{const[u,d]=R.useState(!1),[h,p]=R.useState(""),g=R.useRef(null);R.useEffect(()=>{const w=S=>{g.current&&!g.current.contains(S.target)&&d(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),R.useEffect(()=>{u&&p("")},[u]);const y=w=>{r(w),d(!1)},v=R.useMemo(()=>h?e.filter(w=>w.label.toLowerCase().includes(h.toLowerCase())):e,[e,h]),x=e.find(w=>w.value===n),b=x?x.label:t;return f.jsxs("div",{className:"relative w-full",ref:g,children:[f.jsxs("button",{type:"button",disabled:l,onClick:()=>d(!u),className:`flex items-center justify-between w-full px-3 h-[44px] rounded-xl border-2 transition-all font-bold text-[11px] outline-none shadow-sm ${l?"bg-slate-50 dark:bg-slate-900/50 border-slate-100 dark:border-slate-800 text-slate-400 cursor-not-allowed opacity-60":u?"bg-accent/10 border-accent/40 text-accent":"bg-white dark:bg-slate-900 border-white dark:border-slate-800 text-slate-700 dark:text-white hover:border-slate-200 dark:hover:border-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-1 truncate",children:[i&&f.jsx(i,{className:`w-3.5 h-3.5 ${u?"text-accent":"text-slate-400"}`}),f.jsx("span",{className:"truncate",children:b})]}),f.jsx(Pl,{className:`w-3 h-3 transition-transform flex-shrink-0 ${u?"rotate-180 text-accent":"text-slate-400"}`})]}),u&&f.jsx("div",{className:`absolute start-0 z-[100] w-full animate-in fade-in zoom-in-95 duration-200 ${c==="up"?"bottom-full mb-2":"top-full mt-2"}`,children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col",children:[s&&f.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"relative",children:[f.jsx(Du,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{autoFocus:!0,type:"text",placeholder:a,value:h,onChange:w=>p(w.target.value),className:"w-full ps-9 pe-4 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white"})]})}),f.jsxs("div",{className:"flex-1 max-h-48 overflow-y-auto p-2 space-y-1",children:[o&&f.jsxs("div",{onClick:()=>{o.onClick(),d(!1)},className:"flex items-center gap-3 px-3 py-2 rounded-xl cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 text-accent font-bold text-sm border border-dashed border-accent/30 mb-1",children:[o.icon&&f.jsx(o.icon,{className:"w-4 h-4"}),f.jsx("span",{children:o.label})]}),v.length===0?f.jsx("div",{className:"px-4 py-8 text-center text-slate-400",children:f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No results found"})}):v.map(w=>{const S=n===w.value;return f.jsxs("div",{onClick:()=>y(w.value),className:`flex items-center justify-between px-3 py-2 rounded-xl cursor-pointer transition-all group ${S?"bg-accent/10 text-accent font-bold":"hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-600 dark:text-slate-300"}`,children:[f.jsx("span",{className:`text-xs font-semibold ${S?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:w.label}),S&&f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent shadow-[0_0_8px_var(--accent-color)]"})]},w.value)})]})]})})]})},QCe=({images:t=[],currentIndex:e=0,onChange:n,onDelete:r,onDownload:i})=>{const[a,s]=R.useState(null),[o,l]=R.useState(null);R.useRef(null);const c=50,u=y=>{l(null),s(y.targetTouches[0].clientX)},d=y=>{l(y.targetTouches[0].clientX)},h=()=>{if(!a||!o)return;const y=a-o,v=y>c,x=y<-c;v&&e<t.length-1?n(e+1):x&&e>0&&n(e-1)},p=()=>{e<t.length-1?n(e+1):n(0)},g=()=>{e>0?n(e-1):n(t.length-1)};return!t||t.length===0?f.jsx("div",{className:"w-full aspect-square bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-800",children:f.jsx("span",{className:"text-slate-400 font-medium",children:"No images available"})}):f.jsxs("div",{className:"flex flex-col gap-4 w-full h-full",children:[f.jsxs("div",{className:"relative flex-1 group overflow-hidden bg-slate-50 dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-center",onTouchStart:u,onTouchMove:d,onTouchEnd:h,children:[f.jsx("div",{className:"flex transition-transform duration-500 ease-out h-full",style:{transform:`translateX(-${e*100}%)`},children:t.map((y,v)=>f.jsx("div",{className:"min-w-full h-full flex-none flex items-center justify-center p-4",children:f.jsx("img",{src:typeof y=="string"?y:y.url,alt:`Product view ${v+1}`,className:"max-w-full max-h-full object-contain pointer-events-none select-none drop-shadow-md"})},v))}),t.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:y=>{y.stopPropagation(),g()},className:"absolute left-4 z-10 p-3 bg-white/90 dark:bg-slate-800/90 rounded-full shadow-lg text-slate-800 dark:text-white hover:scale-110 active:scale-95 transition-all opacity-0 group-hover:opacity-100 backdrop-blur-sm",children:f.jsx(mk,{className:"w-6 h-6"})}),f.jsx("button",{onClick:y=>{y.stopPropagation(),p()},className:"absolute right-4 z-10 p-3 bg-white/90 dark:bg-slate-800/90 rounded-full shadow-lg text-slate-800 dark:text-white hover:scale-110 active:scale-95 transition-all opacity-0 group-hover:opacity-100 backdrop-blur-sm",children:f.jsx(gk,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:i&&f.jsx("button",{onClick:y=>{y.stopPropagation(),i()},className:"p-2.5 bg-white/90 dark:bg-slate-800/90 rounded-xl shadow-md text-slate-600 dark:text-slate-300 hover:text-accent transition-colors backdrop-blur-sm",title:"Download Image",children:f.jsx(xv,{className:"w-5 h-5"})})}),f.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1 bg-black/40 backdrop-blur-md rounded-full text-[10px] font-bold text-white tracking-widest uppercase",children:[e+1," / ",t.length]})]}),f.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-4 pt-2 px-1 custom-scrollbar",children:t.map((y,v)=>f.jsxs("div",{className:"relative shrink-0 group",children:[f.jsx("button",{onClick:()=>n(v),className:`w-16 h-16 rounded-xl overflow-hidden border-2 transition-all ${e===v?"border-accent ring-2 ring-accent/20 dark:ring-accent/40 scale-105":"border-transparent hover:border-slate-300 dark:hover:border-slate-600"}`,children:f.jsx("img",{src:typeof y=="string"?y:y.url,alt:`Thumbnail ${v+1} of ${t.length}`,className:"w-full h-full object-cover"})}),r&&f.jsx("button",{onClick:x=>{x.stopPropagation(),r(v)},className:"absolute -top-1 -right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-sm hover:bg-red-600 hover:scale-110 z-10",children:f.jsx(Nr,{className:"w-3 h-3"})})]},v))})]})},P9=({product:t,onClose:e,onSave:n,onUpload:r})=>{var P;const{t:i}=Dr(),{formatCurrency:a}=nr(),[s,o]=R.useState(0),[l,c]=R.useState(t.name||""),[u,d]=R.useState(t.description||""),[h,p]=R.useState(t.images||[]),[g,y]=R.useState(!1);R.useEffect(()=>{const _=k=>{k.key==="Escape"&&e()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[e]),R.useEffect(()=>{c(t.name||""),d(t.description||""),p(t.images||[]),o(0)},[t]);const v=async()=>{y(!0),await n({...t,name:l,description:u,images:h}),y(!1)},x=async _=>{if(_.target.files&&_.target.files.length>0){const k=await r(Array.from(_.target.files));k&&p([...h,...k])}},b=async _=>{if(window.confirm(i("productPicture.modal.confirmDeleteImage"))){const k=h.filter((A,I)=>I!==_);p(k),s>=k.length&&k.length>0?o(k.length-1):k.length===0&&o(0),y(!0),await n({...t,images:k,name:l,description:u}),y(!1)}},w=h.length>0?h[s]:((P=t.images)==null?void 0:P[0])||t.image,S=typeof w=="string"?w:(w==null?void 0:w.url)||"https://via.placeholder.com/600",E=()=>{const _=document.createElement("a");_.href=S,_.download=`product-${t.sku}-${s}.jpg`,document.body.appendChild(_),_.click(),document.body.removeChild(_)};return f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full max-w-5xl bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row max-h-[90vh]",children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-50 p-2 bg-white/50 dark:bg-black/50 hover:bg-white dark:hover:bg-black rounded-full text-slate-800 dark:text-white transition-all backdrop-blur",children:f.jsx(Nr,{className:"w-5 h-5"})}),f.jsxs("div",{className:"w-full md:w-2/3 bg-slate-100 dark:bg-slate-900 flex flex-col p-6 overflow-hidden",children:[f.jsx("div",{className:"flex-1 min-h-0",children:f.jsx(QCe,{images:h,currentIndex:s,onChange:o,onDelete:b,onDownload:E})}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[f.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:[h.length," ",i("productPicture.modal.images")]}),f.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold text-slate-700 dark:text-slate-200 hover:text-accent hover:border-accent cursor-pointer transition-all shadow-sm active:scale-95",children:[f.jsx(xk,{className:"w-4 h-4"}),f.jsx("span",{children:i("productPicture.modal.addPhoto")}),f.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:x})]})]})]}),f.jsxs("div",{className:"w-full md:w-1/3 p-6 flex flex-col h-full bg-white dark:bg-slate-800 border-l border-slate-100 dark:border-slate-700 overflow-y-auto",children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Ma,{className:"w-5 h-5 text-accent"}),i("productPicture.modal.details")]}),f.jsxs("div",{className:"space-y-6 flex-1",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.productTitle")}),f.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-800 dark:text-white focus:ring-2 focus:ring-accent outline-none transition-all",placeholder:i("productPicture.modal.enterTitle")})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.description")}),f.jsx("textarea",{value:u,onChange:_=>d(_.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 focus:ring-2 focus:ring-accent outline-none transition-all resize-none h-32",placeholder:i("productPicture.modal.enterDescription")})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:i("productPicture.modal.sellingPrice")}),f.jsx("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:a(t.sellingPriceIQD||t.price||0)})]}),f.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:f.jsx(dL,{className:"w-5 h-5 text-accent"})})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:v,disabled:g||!l.trim(),className:"w-full py-3.5 bg-accent text-white font-bold rounded-xl shadow-accent transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:g?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(vk,{className:"w-5 h-5"}),i("settings.saveChanges")]})})})]})]})]})},dA=({limit:t,onChange:e})=>{const{t:n}=Dr(),{appearance:r}=nr(),[i,a]=R.useState(!1),[s,o]=R.useState(![50,100,500,1e3].includes(t)),l=R.useRef(null),c=R.useRef(null),u=[50,100,500,1e3];R.useEffect(()=>{const p=g=>{l.current&&!l.current.contains(g.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=p=>{p==="custom"?o(!0):(o(!1),e(Number(p)),a(!1))},h=p=>{const g=Number(p.target.value);g>0&&e(g)};return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>a(!i),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${i?"bg-accent/10 border-accent/30 text-accent":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[f.jsx(oL,{className:"w-4 h-4"}),f.jsxs("span",{className:"truncate",children:[n("common.showRows")||"Rows",": ",t]}),f.jsx(Pl,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&f.jsx("div",{className:"absolute top-full end-0 mt-2 z-50 w-48 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden py-2 ${["liquid","default_glass"].includes(r==null?void 0:r.theme)?"glass-panel":""}`,children:[u.map(p=>f.jsx("button",{onClick:()=>d(p),className:`w-full text-start px-4 py-2 text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${t===p&&!s?"text-accent bg-accent/5":"text-slate-600 dark:text-slate-300"}`,children:p},p)),f.jsxs("div",{className:"px-2 pt-2 mt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("button",{onClick:()=>d("custom"),className:`w-full text-start px-2 py-1.5 text-xs font-black uppercase tracking-widest ${s?"text-accent":"text-slate-400"}`,children:n("common.custom")||"Custom"}),s&&f.jsx("div",{className:"px-2 pb-2",children:f.jsx("input",{ref:c,type:"number",value:t,onChange:h,className:"w-full mt-1 px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold outline-none focus:border-accent transition-all dark:text-white",placeholder:"Value...",autoFocus:!0})})]})]})})]})},fA=(t,e=null)=>{if(!t||t.length===0)return"";const n=e||Object.keys(t[0]),r=n.map(a=>`"${a}"`).join(","),i=t.map(a=>n.map(s=>{let o=a[s];return typeof o=="object"&&o!==null&&(o=JSON.stringify(o)),o==null&&(o=""),`"${String(o).replace(/"/g,'""')}"`}).join(","));return[r,...i].join(`
`)},hA=(t,e)=>{const n="\uFEFF",r=new Blob([n+t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),a=URL.createObjectURL(r);i.setAttribute("href",a),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},XCe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>{var s,o,l,c,u,d,h;return{"Order ID":a.orderId||a._id,Date:a.date,Status:a.status,"Customer Name":((s=a.customer)==null?void 0:s.name)||"","Customer Phone":((o=a.customer)==null?void 0:o.phone)||"","Customer Email":((l=a.customer)==null?void 0:l.email)||"","Customer Address":((c=a.customer)==null?void 0:c.address)||"",Governorate:((u=a.customer)==null?void 0:u.governorate)||"","Social Platform":((d=a.customer)==null?void 0:d.social)||"","Items Count":((h=a.items)==null?void 0:h.length)||0,Subtotal:a.subtotal||a.total,"Discount %":a.discount||0,Total:a.total,Notes:a.notes||""}}),r=fA(n),i=e||`orders_export_${new Date().toISOString().split("T")[0]}.csv`;hA(r,i)},JCe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,Phone:a.phone,Email:a.email||"",Address:a.address||"",Governorate:a.governorate||"","Social Platform":a.social||"",Notes:a.notes||"","Created On":a.createdOn||""})),r=fA(n),i=e||`customers_export_${new Date().toISOString().split("T")[0]}.csv`;hA(r,i)},ZCe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,SKU:a.sku,Category:a.category,Stock:a.stock,Status:a.status,"Selling Price (IQD)":a.sellingPriceIQD||a.price,"Unit Price ($)":a.unitPriceUSD||a.unitPrice,"Profit per Unit (IQD)":a.profitPerUnitIQD||0,"Units Sold":a.unitsSold||0,"Total Profit (IQD)":a.totalProfitIQD||0})),r=fA(n),i=e||`products_export_${new Date().toISOString().split("T")[0]}.csv`;hA(r,i)},zm=t=>{const e=Number(t);return e<=0?"Out of Stock":e<10?"Low Stock":"In Stock"},TD=t=>Math.round(t/500)*500,eje=["In Stock","Low Stock","Out of Stock"],PD=({status:t})=>{const{t:e}=Dr(),n=i=>{switch(i){case"In Stock":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400";case"Low Stock":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Out of Stock":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200"}},r=i=>{switch(i){case"In Stock":return e("products.stockStatus.instock");case"Low Stock":return e("products.stockStatus.lowstock");case"Out of Stock":return e("products.stockStatus.outofstock");default:return i}};return f.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold ${n(t)}`,children:r(t)})},tje=()=>{const{t,i18n:e}=Dr(),{products:n,addProduct:r,updateProduct:i,deleteProduct:a,categories:s,addCategory:o,updateCategory:l,deleteCategory:c,formatCurrency:u,loading:d,brand:h,addToast:p,appearance:g,setIsModalOpen:y}=nr(),[v,x]=R.useState(""),[b,w]=R.useState([]),[S,E]=R.useState([]),[P,_]=R.useState(!1),[k,A]=R.useState(!1),[I,C]=R.useState(!1);R.useEffect(()=>(y(P||k||I),()=>y(!1)),[P,k,I,y]);const[j,O]=R.useState(100),[M,D]=R.useState(null),[L,q]=R.useState(null),[F,V]=R.useState({key:null,direction:"ascending"}),G=R.useRef(null),Y={name:"",sku:"",category:"",unitPrice:"",price:"",stock:"",status:"In Stock",images:[],alibabaProductLink:"",alibabaMessageLink:"",alibabaOrderLink:"",alibabaOrderNumber:"",unitPriceUSD:"",exchangeRate:"1380",unitPriceIQD:0,additionalFeesIQD:"",shippingToIraqIQD:"",marginPercent:"",sellingPriceIQD:0,profitPerUnitIQD:0,unitsSold:0,totalProfitIQD:0,alibabaFeeUSD:"",isSellingPriceOverridden:!1,costPriceIQD_total:0,costPriceIQD_perUnit:0,recommendedSellingPriceIQD_perUnit:0,alibabaNote:"",description:"",profitPerUnitUSD:0,totalProfitUSD:0},[B,ae]=R.useState(Y),[ge,ye]=R.useState(""),[te,ie]=R.useState(!1),de=R.useMemo(()=>{const H={};return n.forEach(ue=>{ue.category&&(H[ue.category]=(H[ue.category]||0)+1)}),s.map(ue=>({value:ue,label:ue,count:H[ue]||0})).sort((ue,he)=>he.count-ue.count)},[s,n]),ee=R.useMemo(()=>{const H={};return n.forEach(ue=>{ue.status&&(H[ue.status]=(H[ue.status]||0)+1)}),eje.map(ue=>({value:ue,label:t(`products.stockStatus.${ue.replace(/\s/g,"").toLowerCase()}`),count:H[ue]||0}))},[n,t]),X=R.useMemo(()=>{let H=[...n];return F.key&&H.sort((ue,he)=>{let Ee=ue[F.key],Fe=he[F.key];return typeof Ee=="string"&&(Ee=Ee.toLowerCase()),typeof Fe=="string"&&(Fe=Fe.toLowerCase()),Ee<Fe?F.direction==="ascending"?-1:1:Ee>Fe?F.direction==="ascending"?1:-1:0}),H},[n,F]).filter(H=>{const ue=H.name.toLowerCase().includes(v.toLowerCase())||H.sku.toLowerCase().includes(v.toLowerCase()),he=b.length===0||b.includes(H.category),Ee=S.length===0||S.includes(H.status);return ue&&he&&Ee}).slice(0,j),Z=H=>{let ue="ascending";F.key===H&&F.direction==="ascending"&&(ue="descending"),V({key:H,direction:ue})};R.useEffect(()=>{const H=parseFloat(B.unitPriceUSD)||0,ue=parseFloat(B.alibabaFeeUSD)||0,he=parseInt(B.stock)||0,Ee=parseFloat(B.exchangeRate)||1320,Fe=parseFloat(B.shippingToIraqIQD)||0,Ht=parseFloat(B.additionalFeesIQD)||0,un=parseFloat(B.marginPercent)||0,$r=parseInt(B.unitsSold)||0,Lr=(H+ue)*he*Ee+Fe+Ht,ci=he>0?Lr/he:0,is=ci*(1+un/100),rr=TD(is);ae(W=>{let ce=W.sellingPriceIQD;W.isSellingPriceOverridden||(ce=rr);const me=(parseFloat(ce)||0)-ci,je=me*$r,dt=Ee>0?me/Ee:0,qe=dt*$r;return W.costPriceIQD_total===Lr&&W.costPriceIQD_perUnit===ci&&W.recommendedSellingPriceIQD_perUnit===rr&&W.sellingPriceIQD===ce&&W.profitPerUnitIQD===me&&W.totalProfitIQD===je&&W.profitPerUnitUSD===dt&&W.totalProfitUSD===qe?W:{...W,costPriceIQD_total:Lr,costPriceIQD_perUnit:ci,recommendedSellingPriceIQD_perUnit:rr,sellingPriceIQD:ce,profitPerUnitIQD:me,totalProfitIQD:je,profitPerUnitUSD:dt,totalProfitUSD:qe,unitPrice:H,price:ce}})},[B.unitPriceUSD,B.alibabaFeeUSD,B.stock,B.exchangeRate,B.shippingToIraqIQD,B.additionalFeesIQD,B.marginPercent,B.unitsSold,B.isSellingPriceOverridden]);const be=()=>{D(null),ae(Y),_(!0)},Me=H=>{D(H),ae({...Y,...H,images:H.images||[]}),_(!0)},Ke=H=>{window.confirm(t("products.confirmDelete"))&&a(H)},De=H=>{const{name:ue,value:he}=H.target;if(ue==="category"&&he==="new")ie(!0),ae(Ee=>({...Ee,category:""}));else if(ue==="sellingPriceIQD"){const Ee=he===""?"":parseFloat(he);ae(Fe=>({...Fe,sellingPriceIQD:Ee,isSellingPriceOverridden:!0}))}else ae(Ee=>({...Ee,[ue]:he}))},en=()=>{ae(H=>{if(!H.isSellingPriceOverridden)return H;const ue=TD(parseFloat(H.sellingPriceIQD)||0),he=H.costPriceIQD_perUnit,Ee=he>0?(ue/he-1)*100:0;return{...H,sellingPriceIQD:ue,marginPercent:Ee.toFixed(2)}})},it=H=>{const ue=Array.from(H.target.files);ue.length!==0&&ue.forEach(he=>{const Ee=new FileReader;Ee.onloadend=()=>{ae(Fe=>({...Fe,images:[...Fe.images,Ee.result]}))},Ee.readAsDataURL(he)})},ct=H=>{const ue=B.images.filter((he,Ee)=>Ee!==H);ae(he=>({...he,images:ue}))},U=H=>{if(H.preventDefault(),parseFloat(B.marginPercent)>=100){p(t("products.marginTooHigh"),"error");return}const ue={...B,unitPriceUSD:parseFloat(B.unitPriceUSD)||0,alibabaFeeUSD:parseFloat(B.alibabaFeeUSD)||0,exchangeRate:parseFloat(B.exchangeRate)||1380,additionalFeesIQD:parseFloat(B.additionalFeesIQD)||0,shippingToIraqIQD:parseFloat(B.shippingToIraqIQD)||0,marginPercent:parseFloat(B.marginPercent)||0,unitsSold:parseInt(B.unitsSold)||0,stock:parseInt(B.stock)||0,status:zm(B.stock),unitPrice:parseFloat(B.unitPriceUSD)||0,price:B.sellingPriceIQD||0,images:B.images||[]};M?i({...ue,_id:M._id}):r(ue),_(!1)},Q=({column:H,label:ue,border:he=!1})=>{const Ee=F.key===H;return f.jsx("th",{onClick:()=>Z(H),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${he?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[ue,Ee&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:F.direction==="ascending"?"":""})]})})};return f.jsxs(zu,{title:t("products.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:be,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent hover:brightness-110 active:scale-95",children:[f.jsx(Ws,{className:"w-5 h-5"}),f.jsx("span",{children:t("products.addProduct")})]}),f.jsxs("button",{onClick:()=>{if(X.length===0)return p(t("common.noDataToExport"),"info");ZCe(X)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700 active:scale-95",children:[f.jsx(xv,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700 active:scale-95",children:[f.jsx(yk,{className:"w-4 h-4"}),f.jsx("span",{children:t("products.manageCategories")})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(b.length>0||S.length>0||v)&&f.jsx("button",{onClick:()=>{x(""),w([]),E([])},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(dA,{limit:j,onChange:O}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Ma,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:X.length})," ",t("products.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(Du,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:v,onChange:H=>x(H.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx(_i,{title:t("products.categories"),options:de,selectedValues:b,onChange:w,icon:Hc,showProductCount:!0}),f.jsx(_i,{title:t("products.status"),options:ee,selectedValues:S,onChange:E,icon:Un,showSearch:!1})]})]}),k&&f.jsx(YCe,{categories:s,products:n,onClose:()=>A(!1),onAdd:o,onUpdate:l,onDelete:c}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(Q,{column:"name",label:t("products.table.product")}),f.jsx(Q,{column:"category",label:t("products.table.category")}),f.jsx(Q,{column:"stock",label:t("products.table.stock"),border:!0}),f.jsx(Q,{column:"sellingPriceIQD",label:t("products.table.price"),border:!0}),f.jsx(Q,{column:"status",label:t("products.table.status"),border:!0}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:d?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"text-center py-12",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:t("products.loading")})]})})}):X.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"text-center py-12 text-slate-400",children:[f.jsx(Ma,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]})}):X.map(H=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0 cursor-zoom-in hover:brightness-90 transition-all shadow-sm",onClick:()=>{q(H),C(!0)},children:f.jsx("img",{src:H.images&&H.images[0]?typeof H.images[0]=="string"?H.images[0]:H.images[0].url:H.imageUrl||"https://via.placeholder.com/150",alt:H.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:H.name}),f.jsx("p",{className:"text-xs font-mono text-slate-400 uppercase tracking-tighter",children:H.sku})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-bold",children:H.category})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:H.stock})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(H.sellingPriceIQD||H.price||0)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(PD,{status:zm(H.stock)})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>Me(H),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(Hs,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Ke(H._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Gc,{className:"w-4 h-4"})})]})})]},H._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:d?f.jsx("div",{className:"text-center py-12",children:f.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mx-auto"})}):X.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(Ma,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]}):X.map(H=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0",children:f.jsx("img",{src:H.images&&H.images[0]?typeof H.images[0]=="string"?H.images[0]:H.images[0].url:H.imageUrl||"https://via.placeholder.com/150",alt:H.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:H.name}),f.jsxs("p",{className:"text-xs text-slate-400",children:[H.sku,"  ",f.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-slate-100 dark:bg-slate-700",children:H.category})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(H.sellingPriceIQD||H.price||0)}),f.jsx("div",{className:"text-[10px] text-slate-400",children:zm(H.stock)})]})]}),f.jsxs("div",{className:"flex items-center justify-between mt-3",children:[f.jsxs("div",{className:"text-[11px] text-slate-600",children:[t("products.table.stock"),": ",f.jsx("span",{className:"font-bold",children:H.stock})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>Me(H),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(Hs,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Ke(H._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Gc,{className:"w-4 h-4"})})]})]})]})]},H._id))})]}),P&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/50 backdrop-blur-sm p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-2xl my-4 sm:my-8 animate-in fade-in zoom-in duration-200 flex flex-col relative max-h-[90vh]",children:[f.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-20 rounded-t-3xl",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:t(M?"products.editProduct":"products.addProduct")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:M?`${t("products.sku")}: ${B.sku}`:t("products.fillInfo")})]}),f.jsx("button",{onClick:()=>_(!1),className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-all",children:f.jsx(Nr,{className:"w-6 h-6"})})]}),f.jsxs("form",{id:"productForm",onSubmit:U,className:"overflow-y-auto p-6 space-y-8 custom-scrollbar relative",children:[f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.basicInfo")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productName")}),f.jsx("input",{required:!0,name:"name",value:B.name,onChange:De,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.productNamePlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.sku")}),f.jsx("input",{required:!0,name:"sku",value:B.sku,onChange:De,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.skuPlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.category")}),f.jsx(wa,{title:t("products.form.selectCategory"),options:s.map(H=>({value:H,label:H})),selectedValue:B.category,onChange:H=>ae(ue=>({...ue,category:H})),icon:Hc,showSearch:!1,customAction:{label:t("products.form.createCategory"),icon:Ws,onClick:()=>A(!0)}})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.stock")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"stock",value:B.stock,onChange:De,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all shadow-sm"}),f.jsx("div",{className:"absolute end-3 top-1/2 -translate-y-1/2",children:f.jsx(PD,{status:zm(B.stock)})})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.alibabaSourcing")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productLink")}),f.jsx("input",{name:"alibabaProductLink",value:B.alibabaProductLink,onChange:De,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.messageLink")}),f.jsx("input",{name:"alibabaMessageLink",value:B.alibabaMessageLink,onChange:De,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.orderLink")}),f.jsx("input",{name:"alibabaOrderLink",value:B.alibabaOrderLink,onChange:De,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaOrderNo")}),f.jsx("input",{name:"alibabaOrderNumber",value:B.alibabaOrderNumber,onChange:De,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold shadow-sm",placeholder:"1234..."})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaNote")}),f.jsxs("div",{className:"relative",children:[f.jsx(Wq,{className:"absolute start-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"alibabaNote",value:B.alibabaNote,onChange:De,className:"w-full ps-10 pe-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[80px] resize-none",placeholder:t("products.form.notePlaceholder")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.costAndPricing")}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.unitPrice")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{required:!0,type:"number",step:"0.01",name:"unitPriceUSD",value:B.unitPriceUSD,onChange:De,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaFee")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{type:"number",step:"0.01",name:"alibabaFeeUSD",value:B.alibabaFeeUSD,onChange:De,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.exchangeRate")}),f.jsx("input",{required:!0,type:"number",name:"exchangeRate",value:B.exchangeRate,onChange:De,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.margin")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"marginPercent",value:B.marginPercent,onChange:De,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"}),f.jsx("span",{className:"absolute end-3 top-1/2 -translate-y-1/2 text-slate-400",children:"%"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.shippingIQD")}),f.jsx("input",{type:"number",name:"shippingToIraqIQD",value:B.shippingToIraqIQD,onChange:De,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.otherFeesIQD")}),f.jsx("input",{type:"number",name:"additionalFeesIQD",value:B.additionalFeesIQD,onChange:De,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costTotal")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(B.costPriceIQD_total||0).toLocaleString()]})]}),f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costPerUnit")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(B.costPriceIQD_perUnit||0).toLocaleString()]})]})]}),f.jsxs("div",{className:"col-span-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:t("products.form.recommendedPrice")}),f.jsxs("span",{className:"text-xl font-bold text-slate-600 dark:text-slate-400",children:["IQD ",(B.recommendedSellingPriceIQD_perUnit||0).toLocaleString()]})]}),f.jsxs("div",{className:`p-4 rounded-2xl border-2 transition-all ${B.isSellingPriceOverridden?"bg-orange-50 border-orange-200 dark:bg-orange-900/10 dark:border-orange-800/50":"bg-[var(--brand-color)]/5 border-[var(--brand-color)]/20"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-[var(--brand-color)] uppercase tracking-wider",children:t("products.form.finalPrice")}),B.isSellingPriceOverridden&&f.jsxs("button",{type:"button",onClick:()=>ae(H=>({...H,isSellingPriceOverridden:!1})),className:"text-[10px] font-bold text-orange-600 hover:underline flex items-center gap-1",children:[f.jsx(Nr,{className:"w-3 h-3"})," ",t("common.reset")]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg font-black text-[var(--brand-color)]",children:"IQD"}),f.jsx("input",{type:"number",name:"sellingPriceIQD",value:B.sellingPriceIQD,onChange:De,onBlur:en,className:"w-full bg-transparent border-b-2 border-[var(--brand-color)] animate-pulse-slow outline-none text-2xl font-black text-[var(--brand-color)]"})]}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-medium italic",children:B.isSellingPriceOverridden?t("products.form.manualOverride"):t("products.form.autoCalculated")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.profitAnalysis")}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-green-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:t("products.form.iqdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${B.profitPerUnitIQD>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:[B.profitPerUnitIQD>=0?"+":"-"," IQD ",Math.abs(B.profitPerUnitIQD||0).toLocaleString()]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${B.totalProfitIQD>=0?"text-green-500":"text-red-400"}`,children:["IQD ",(B.totalProfitIQD||0).toLocaleString()]})]})]})]}),f.jsxs("div",{className:"p-4 bg-slate-900 dark:bg-slate-950 rounded-2xl border border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-blue-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:t("products.form.usdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${B.profitPerUnitUSD>=0?"text-blue-500":"text-red-400"}`,children:[B.profitPerUnitUSD>=0?"+":"-"," $",Math.abs(B.profitPerUnitUSD||0).toFixed(2)]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${B.totalProfitUSD>=0?"text-blue-400":"text-red-400"}`,children:["$",(B.totalProfitUSD||0).toFixed(2)]})]})]})]}),f.jsxs("div",{className:"col-span-full p-4 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:f.jsx(Un,{className:"w-4 h-4 text-slate-500"})}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.qtyCalculation")}),f.jsx("span",{className:"text-xs font-medium text-slate-500 italic",children:t("products.form.unitsExpected")})]})]}),f.jsx("input",{type:"number",name:"unitsSold",value:B.unitsSold,onChange:De,className:"w-24 text-right p-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg outline-none text-base font-black text-accent focus:ring-2 focus:ring-accent/20"})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.generalInfo")}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.description")}),f.jsxs("div",{className:"relative",children:[f.jsx(sL,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"description",value:B.description,onChange:De,className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[120px] resize-none",placeholder:t("products.form.descriptionPlaceholder")})]})]})})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.gallery")}),f.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[B.images.map((H,ue)=>f.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 group",children:[f.jsx("img",{src:H,alt:"Product",className:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>ct(ue),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity transform hover:scale-110",children:f.jsx(Nr,{className:"w-3 h-3"})})]},ue)),f.jsxs("button",{type:"button",onClick:()=>{var H;return(H=G.current)==null?void 0:H.click()},className:"aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400 hover:border-[var(--brand-color)] hover:text-[var(--brand-color)] transition-all hover:bg-slate-50 dark:hover:bg-slate-900 group",children:[f.jsx(xk,{className:"w-5 h-5 mb-1 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"text-[9px] font-black uppercase",children:t("products.form.addImage")})]})]}),f.jsx("input",{type:"file",ref:G,className:"hidden",onChange:it,multiple:!0,accept:"image/*"})]}),f.jsx("div",{className:"h-20"})]}),f.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-end gap-3 sticky bottom-0 bg-white dark:bg-slate-800 rounded-b-2xl shadow-[0_-10px_20px_rgba(0,0,0,0.05)] z-20",children:[f.jsx("button",{type:"button",onClick:()=>_(!1),className:"order-2 sm:order-1 px-6 py-2.5 text-slate-500 dark:text-slate-400 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-all",children:t("common.cancel")}),f.jsxs("button",{type:"submit",form:"productForm",className:"order-1 sm:order-2 px-8 py-2.5 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 flex items-center justify-center gap-2",children:[f.jsx(vk,{className:"w-5 h-5"}),t(M?"products.update":"products.create")]})]})]})}),I&&L&&f.jsx(P9,{product:L,onClose:()=>{C(!1),q(null)},onSave:i,onUpload:async H=>H.map(ue=>URL.createObjectURL(ue))})]})},A9=({title:t,options:e,selectedValue:n,onChange:r,icon:i})=>{var u;const[a,s]=R.useState(!1),o=R.useRef(null);R.useEffect(()=>{const d=h=>{o.current&&!o.current.contains(h.target)&&s(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const l=d=>{r(d),s(!1)},c=((u=e.find(d=>d.value===n))==null?void 0:u.label)||t;return f.jsxs("div",{className:"relative",ref:o,children:[f.jsxs("button",{onClick:()=>s(!a),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${a?"bg-accent/10 border-accent/30 text-accent":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(yk,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:c}),f.jsx(Pl,{className:`w-4 h-4 transition-transform ${a?"rotate-180":""}`})]}),a&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px]",children:[f.jsx("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})})}),f.jsx("div",{className:"flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto",children:e.map(d=>{const h=n===d.value;return f.jsx("div",{onClick:()=>l(d.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${h?"bg-accent/10":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:f.jsx("span",{className:`text-sm font-semibold ${h?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:d.label})},d.value)})})]})})]})},AD=({order:t,onUpdate:e})=>{const[n,r]=R.useState(!1),i=z.useRef(null);z.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const{t:a}=Dr(),s=c=>{switch(c){case"Processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},o=c=>{c!==t.status&&e({...t,status:c}),r(!1)},l=c=>a(`common.status.${c.toLowerCase()}`,c);return f.jsxs("div",{className:"relative",ref:i,children:[f.jsxs("button",{onClick:()=>r(!n),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-all hover:brightness-95 active:scale-95 ${s(t.status)}`,children:[l(t.status),f.jsx("div",{className:`w-0 h-0 border-s-[3px] border-s-transparent border-t-[4px] border-t-current border-e-[3px] border-e-transparent opacity-50 ${document.dir==="rtl"?"me-1":"ms-1"}`})]}),n&&f.jsx("div",{className:`absolute top-full mt-1 w-32 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-100 dark:border-slate-700 py-1 z-50 animate-in fade-in zoom-in-95 duration-100 ${document.dir==="rtl"?"end-0":"start-0"}`,children:["Processing","Completed","Cancelled","Pending"].map(c=>f.jsx("button",{onClick:()=>o(c),className:`w-full text-start px-3 py-2 text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${t.status===c?"text-accent bg-slate-50 dark:bg-slate-700/30":"text-slate-600 dark:text-slate-300"}`,children:l(c)},c))})]})},nje=()=>{var $l,Lr,ci,is,rr;const{t}=Dr(),{orders:e,products:n,customers:r,addOrder:i,updateOrder:a,deleteOrder:s,addCustomer:o,formatCurrency:l,brand:c,loading:u,appearance:d,addToast:h,setIsModalOpen:p}=nr(),[g,y]=R.useState(""),[v,x]=R.useState(!1),[b,w]=R.useState(!1),[S,E]=R.useState(null),[P,_]=R.useState(null),[k,A]=R.useState(!1);R.useEffect(()=>(p(v||b),()=>p(!1)),[v,b,p]);const[I,C]=R.useState(100),j=R.useMemo(()=>e.length===0?AP(new Date,30):e.reduce((W,ce)=>{try{const me=_a(ce.date);return me<W?me:W}catch{return W}},new Date),[e]),O=R.useMemo(()=>({from:j,to:new Date}),[j]),[M,D]=R.useState(O),[L,q]=R.useState(!1);z.useEffect(()=>{!u&&e.length>0&&!L&&(D(O),q(!0))},[u,e.length,O,L]);const[F,V]=R.useState([]),[G,Y]=R.useState([]),[B,ae]=R.useState([]),[ge,ye]=R.useState("date-new"),[te,ie]=R.useState({column:"date",direction:"desc"}),de=R.useMemo(()=>{const W={};return e.forEach(ce=>{var je;const me=(je=ce.customer)==null?void 0:je.governorate;me&&(W[me]=(W[me]||0)+1)}),ip.map(ce=>({value:ce,label:ce,count:W[ce]||0})).sort((ce,me)=>me.count-ce.count)},[e]),ee=R.useMemo(()=>{const W={};return e.forEach(ce=>{var je;const me=(je=ce.customer)==null?void 0:je.social;me&&(W[me]=(W[me]||0)+1)}),ap.map(ce=>({value:ce,label:ce,count:W[ce]||0})).sort((ce,me)=>me.count-ce.count)},[e]),_e=R.useMemo(()=>{const W={};return e.forEach(ce=>{const me=ce.status;me&&(W[me]=(W[me]||0)+1)}),["Processing","Completed","Cancelled","Pending"].map(ce=>({value:ce,label:t(`common.status.${ce.toLowerCase()}`,ce),count:W[ce]||0}))},[e,t]),[re,X]=R.useState({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0}),[Z,be]=R.useState(""),[Me,Ke]=R.useState(1),De=R.useMemo(()=>e.filter(me=>{const je=g.toLowerCase(),dt=me.orderId.toLowerCase().includes(je)||me.customer.name.toLowerCase().includes(je),qe=_a(me.date),ir=!(M!=null&&M.from)||!(M!=null&&M.to)||Kh(qe,{start:M.from,end:M.to}),ga=F.length===0||F.includes(me.customer.governorate),Dt=G.length===0||G.includes(me.customer.social),Ll=B.length===0||B.includes(me.status);return dt&&ir&&ga&&Dt&&Ll}).sort((me,je)=>{let dt=0;return te.column==="orderId"?dt=me.orderId.localeCompare(je.orderId):te.column==="customer"?dt=me.customer.name.localeCompare(je.customer.name):te.column==="date"?dt=new Date(me.date)-new Date(je.date):te.column==="total"?dt=me.total-je.total:te.column==="status"&&(dt=me.status.localeCompare(je.status)),te.direction==="asc"?dt:-dt}).slice(0,I),[e,g,F,G,B,ge,M,te,I]),en=W=>{ye(W),W==="date-new"?ie({column:"date",direction:"desc"}):W==="date-old"?ie({column:"date",direction:"asc"}):W==="total-high"?ie({column:"total",direction:"desc"}):W==="total-low"?ie({column:"total",direction:"asc"}):W==="name-asc"&&ie({column:"customer",direction:"asc"})},it=()=>{if(!Z)return;const W=n.find(Dt=>Dt._id===Z);if(!W)return;const ce=parseInt(Me),me=e.find(Dt=>Dt._id===P),je=me==null?void 0:me.items.find(Dt=>Dt.product._id===W._id),dt=je?je.quantity:0,qe=W.stock+dt;if(ce>qe)return h(t("orders.stockError",{available:qe}),"error");const ir=re.items.findIndex(Dt=>Dt.product._id===W._id),ga=W.sellingPriceIQD||W.price||0;if(ir>-1){const Dt=[...re.items],Ll=Dt[ir].quantity+ce;if(Ll>qe)return h(t("orders.limitReached",{available:qe}),"error");Dt[ir].quantity=Ll,X(Fx=>({...Fx,items:Dt}))}else X(Dt=>({...Dt,items:[...Dt.items,{product:W,quantity:ce,price:ga}]}));Ke(1),be("")},ct=W=>{const ce=re.items.filter((me,je)=>je!==W);X(me=>({...me,items:ce}))},U=(W,ce)=>{const me=[...re.items];me[W].price=parseFloat(ce||0),X(je=>({...je,items:me}))},Q=(W,ce)=>{re.items[W].product;const me=parseInt(ce||0),je=[...re.items];je[W].quantity=me,X(dt=>({...dt,items:je}))},H=W=>W.reduce((ce,me)=>ce+me.price*me.quantity,0),ue=()=>{const W=H(re.items),ce=W*(re.discount/100);let me=W-ce;return me=Math.ceil(me/500)*500,me},he=W=>{if(X(ce=>({...ce,customerId:W})),W==="new")X(ce=>({...ce,customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:""}));else if(W){const ce=r.find(me=>me._id===W);ce&&X(me=>({...me,customerName:ce.name,customerPhone:ce.phone,customerGender:ce.gender||"",customerAddress:ce.address,customerGovernorate:ce.governorate,customerSocial:ce.social}))}},Ee=W=>{w(!1),_(W._id);const ce=r.find(me=>me.name===W.customer.name&&me.phone===W.customer.phone);X({customerId:ce?ce._id:"new",customerName:W.customer.name,customerPhone:W.customer.phone,customerGender:W.customer.gender||"",customerAddress:W.customer.address||"",customerGovernorate:W.customer.governorate||"",customerSocial:W.customer.social||"",customerNotes:W.notes||"",items:W.items,discount:W.discount||0}),x(!0)},Fe=W=>{E(W),w(!0)},Ht=async()=>{if(re.items.length===0)return h(t("orders.addItemsError"),"error");if(!re.customerName||!re.customerPhone)return h(t("orders.customerError"),"error");const W=e.find(ce=>ce._id===P);for(const ce of re.items){const me=n.find(ir=>ir._id===ce.product._id),je=W==null?void 0:W.items.find(ir=>ir.product._id===ce.product._id),dt=je?je.quantity:0,qe=((me==null?void 0:me.stock)||0)+dt;if(ce.quantity>qe)return h(t("orders.stockErrorWithName",{name:ce.product.name,available:qe}),"error")}A(!0);try{let ce={_id:re.customerId!=="new"?re.customerId:void 0,name:re.customerName,phone:re.customerPhone,gender:re.customerGender,address:re.customerAddress,governorate:re.customerGovernorate,social:re.customerSocial};if(re.customerId==="new"){const qe=await o({...ce,email:""});ce._id=qe._id}const me=H(re.items),je=ue(),dt={customer:ce,date:P&&W?W.date:new Date().toISOString(),total:je,subtotal:me,discount:re.discount,status:P&&W?W.status:"Processing",items:re.items,notes:re.customerNotes};if(P&&W)await a({...dt,_id:P,orderId:W.orderId});else{const qe=await i(dt);qe&&setTimeout(()=>{try{un(qe)}catch(ir){console.error("Print error:",ir)}},800)}x(!1),_(null),X({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})}catch(ce){console.error("Order submission error:",ce),h(t("orders.errors.submitError",{message:ce.message||t("orders.errors.unknown")}),"error")}finally{A(!1)}},un=W=>{const ce=window.open("","","width=600,height=800"),me=document.dir==="rtl";ce.document.write(`
            <html dir="${me?"rtl":"ltr"}">
                <head>
                    <title>${t("orders.receipt.title")}</title>
                    <style>
                        body { font-family: 'Cairo', 'Courier New', monospace; padding: 20px; font-size: 14px; direction: ${me?"rtl":"ltr"}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .item { display: flex; justify-content: space-between; margin-bottom: 5px; }
                        .divider { border-top: 1px dashed black; margin: 10px 0; }
                        .totals { text-align: ${me?"left":"right"}; margin-top: 10px; }
                        .total-row { display: flex; justify-content: space-between; font-weight: bold; margin-top: 5px; }
                        .discount { color: red; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>${t("orders.receipt.companyName")}</h2>
                        <p>${t("orders.receipt.address")}</p>
                        <p>${t("orders.receipt.order")}: ${W.orderId||"###"}</p>
                        <p>${W.date}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        <p><strong>${t("orders.receipt.customer")}:</strong> ${W.customer.name}</p>
                        <p><strong>${t("orders.receipt.phone")}:</strong> ${W.customer.phone||t("orders.receipt.na")}</p>
                        <p><strong>${t("orders.receipt.gov")}:</strong> ${W.customer.governorate||t("orders.receipt.na")}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        ${W.items.map(je=>`
                            <div class="item">
                                <span>${je.product.name} <br> <small>x${je.quantity} @ ${l(je.price)}</small></span>
                                <span>${l(je.price*je.quantity)}</span>
                            </div>
                        `).join("")}
                    </div>
                    <div class="divider"></div>
                    <div class="totals">
                        <div class="total-row" style="font-weight: normal;">
                            <span>${t("orders.receipt.subtotal")}:</span>
                            <span>${l(W.subtotal||W.total)}</span>
                        </div>
                        ${W.discount?`
                        <div class="total-row discount" style="font-weight: normal;">
                            <span>${t("orders.receipt.discount")} (${W.discount}%):</span>
                            <span>-${l((W.subtotal||W.total)-W.total)}</span>
                        </div>
                        `:""}
                        <div class="total-row" style="font-size: 18px; margin-top: 10px;">
                            <span>${t("orders.receipt.total")}:</span>
                            <span>${l(W.total)}</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <p>${t("orders.receipt.thankYou")}</p>
                        <p>${t("orders.receipt.noReturn")}</p>
                    </div>
                </body>
            </html>
        `),ce.document.close(),ce.print()},$r=W=>{te.column===W?ie(ce=>({...ce,direction:ce.direction==="asc"?"desc":"asc"})):ie({column:W,direction:"asc"})},ma=({column:W,label:ce,border:me=!1})=>{const je=te.column===W;return f.jsx("th",{onClick:()=>$r(W),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors select-none ${me?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[ce,je&&f.jsx("span",{className:"text-accent font-bold",children:te.direction==="asc"?"":""})]})})};return f.jsxs(zu,{title:t("orders.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:()=>{x(!0),_(null),X({customerId:"new",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})},className:"flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(Ws,{className:"w-5 h-5"}),f.jsx("span",{children:t("orders.createOrder")})]}),f.jsxs("button",{onClick:()=>{if(De.length===0)return h(t("common.noDataToExport"),"info");XCe(De)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(xv,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(F.length>0||B.length>0||G.length>0||g||(($l=M.from)==null?void 0:$l.getTime())!==((Lr=O.from)==null?void 0:Lr.getTime())||((ci=M.to)==null?void 0:ci.getTime())!==((is=O.to)==null?void 0:is.getTime()))&&f.jsx("button",{onClick:()=>{y(""),ae([]),V([]),Y([]),D(O)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(dA,{limit:I,onChange:C}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Un,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:De.length})," ",t("orders.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(Du,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("orders.searchPlaceholder"),value:g,onChange:W=>y(W.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(NP,{range:M,onRangeChange:D,brandColor:c.color})}),f.jsx(_i,{title:t("orders.status"),options:_e,selectedValues:B,onChange:ae,icon:Un,showSearch:!1}),f.jsx(_i,{title:t("orders.governorate"),options:de,selectedValues:F,onChange:V,icon:qs,showSearch:!1}),f.jsx(_i,{title:t("orders.socialMedia"),options:ee,selectedValues:G,onChange:Y,icon:Zo,showSearch:!1}),f.jsx(A9,{title:t("common.sort"),options:[{value:"date-new",label:t("common.dateNew")},{value:"date-old",label:t("common.dateOld")},{value:"total-high",label:t("common.priceHigh")},{value:"total-low",label:t("common.priceLow")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:ge,onChange:en})]})]}),f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[f.jsx(ma,{column:"orderId",label:t("orders.table.orderId")}),f.jsx(ma,{column:"customer",label:t("orders.table.customer")}),f.jsx(ma,{column:"date",label:t("orders.table.date"),border:!0}),f.jsx(ma,{column:"total",label:t("orders.table.total"),border:!0}),f.jsx(ma,{column:"status",label:t("orders.table.status"),border:!0}),f.jsx("th",{className:"ps-6 pe-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:u?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"py-8",children:f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded animate-pulse w-1/3"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded animate-pulse w-1/2"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded animate-pulse w-2/3"})]})})}):De.map(W=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-[var(--brand-color)]",children:W.orderId}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:W.customer.name}),f.jsxs("span",{className:"text-xs text-slate-500 flex gap-1 items-center",children:[W.customer.governorate&&f.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1 rounded",children:W.customer.governorate}),W.customer.phone]})]})}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400 border-s dark:border-slate-700",children:W.date}),f.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-white border-s dark:border-slate-700",children:l(W.total)}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(AD,{order:W,onUpdate:a})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>Fe(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"View Details",children:f.jsx(vN,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Ee(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"Edit Order",children:f.jsx(Hs,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>un(W),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Print Receipt",children:f.jsx(O1,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{window.confirm(t("orders.deleteConfirm"))&&s(W._id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete Order",children:f.jsx(Gc,{className:"w-4 h-4"})})]})})]},W._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:u?f.jsx("div",{className:"space-y-3",children:[1,2,3].map(W=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/3 animate-pulse mb-2"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse mb-2"}),f.jsx("div",{className:"h-8 bg-slate-200 dark:bg-slate-700 rounded w-24 animate-pulse"})]},W))}):De.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(Un,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("orders.noOrders")||t("orders.title")})]}):De.map(W=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black text-[var(--brand-color)]",children:W.orderId}),f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white",children:W.customer.name}),f.jsx("div",{className:"text-xs text-slate-400",children:W.date})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsx("div",{className:"font-black text-lg",children:l(W.total)}),f.jsx("div",{children:f.jsx(AD,{order:W,onUpdate:a})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>Fe(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(vN,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Ee(W),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(Hs,{className:"w-4 h-4"})})]})]})]},W._id))})]}),v&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/60 backdrop-blur-md p-2 md:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-5xl my-4 sm:my-8 min-h-0 flex flex-col md:flex-row overflow-hidden animate-in fade-in zoom-in duration-300 relative max-h-[90vh]",children:[f.jsxs("div",{className:"flex-1 p-4 md:p-6 border-b md:border-b-0 md:border-e border-slate-100 dark:border-slate-700 flex flex-col min-h-0 overflow-y-auto lg:overflow-visible relative z-20",children:[f.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 pb-4 z-10 lg:static",children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Add Items"}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.searchProduct")}),f.jsx(wa,{title:t("orders.chooseProduct"),options:n.filter(W=>W.stock>0).map(W=>({value:W._id,label:`${W.name} (${W.stock}) - ${l(W.price)}`})),selectedValue:Z,onChange:be,icon:Hc,placeholder:t("orders.searchPlaceholder")})]}),f.jsxs("div",{className:"w-24",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.qty")}),f.jsx("input",{type:"number",min:"1",value:Me,onChange:W=>Ke(W.target.value),className:`w-full p-3 border-2 rounded-xl dark:bg-slate-900 dark:text-white outline-none text-center font-bold ${Z&&parseInt(Me)>(((rr=n.find(W=>W._id===Z))==null?void 0:rr.stock)||0)?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-[var(--brand-color)]"}`})]}),f.jsx("button",{type:"button",onClick:it,disabled:!Z||!Me,className:"h-[52px] px-6 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 disabled:opacity-50",children:f.jsx(Ws,{className:"w-6 h-6"})})]})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto mt-6 space-y-3 custom-scrollbar min-h-[300px]",children:re.items.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 dark:border-slate-700/50 rounded-3xl py-12",children:[f.jsx(Un,{className:"w-12 h-12 mb-2 opacity-20"}),f.jsx("p",{className:"font-bold",children:t("orders.cartEmpty")}),f.jsx("p",{className:"text-xs",children:t("orders.cartEmptySub")})]}):re.items.map((W,ce)=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-700/50 group hover:border-indigo-500/50 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white dark:bg-slate-800 border dark:border-slate-700 shrink-0",children:f.jsx("img",{src:W.product.images&&W.product.images[0]?W.product.images[0]:"https://via.placeholder.com/150",alt:W.product.name||"Product image",className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"text-sm font-black text-slate-800 dark:text-white truncate",children:W.product.name}),f.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.price")}),f.jsx("input",{type:"number",value:W.price,onChange:me=>U(ce,me.target.value),className:"w-24 p-1.5 text-xs font-black border-2 border-slate-100 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-colors focus:border-[var(--brand-color)]"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.qty")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"number",min:"1",value:W.quantity,onChange:me=>Q(ce,me.target.value),className:`w-16 p-1.5 text-xs font-black border-2 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-all text-center ${W.quantity>W.product.stock?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-indigo-500"}`}),W.quantity>W.product.stock&&f.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[8px] px-1.5 py-0.5 rounded font-black whitespace-nowrap animate-bounce",children:t("orders.onlyLeft",{count:W.product.stock})})]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t("orders.subtotal")}),f.jsx("span",{className:"text-sm font-black dark:text-white",children:l(W.price*W.quantity)})]}),f.jsx("button",{onClick:()=>ct(ce),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:f.jsx(Gc,{className:"w-4 h-4"})})]})]},ce))}),f.jsx("div",{className:"mt-8 pt-6 pb-8 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 sticky bottom-0",children:f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"font-bold text-slate-400 uppercase tracking-widest text-[10px]",children:t("orders.orderSubtotal")}),f.jsx("span",{className:"font-black dark:text-white text-lg",children:l(H(re.items))})]}),f.jsxs("div",{className:"flex justify-between items-center p-3.5 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-2",children:[f.jsx(dL,{className:"w-4 h-4 text-accent"})," ",t("orders.applyDiscount")]}),f.jsx("div",{className:"w-48",children:f.jsx(wa,{title:t("orders.noDiscount"),options:[0,5,10,15,20,30,40,50].map(W=>({value:W,label:W===0?t("orders.noDiscount"):t("orders.offDiscount",{percent:W})})),selectedValue:re.discount,onChange:W=>X(ce=>({...ce,discount:W})),showSearch:!1,direction:"up"})})]}),f.jsxs("div",{className:"flex justify-between items-center pt-2",children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tighter text-sm",children:t("orders.grandTotal")}),f.jsx("span",{className:"font-black text-3xl text-accent",children:l(ue())})]})]})})]}),f.jsxs("div",{className:"w-full md:w-1/3 p-4 bg-slate-50 dark:bg-slate-900/50 flex flex-col min-h-0 border-t md:border-t-0 md:border-l border-slate-100 dark:border-slate-700 relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:t("orders.customerInfo")}),f.jsx("button",{onClick:()=>x(!1),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:f.jsx(Nr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-2 flex-1 overflow-y-auto pr-1 custom-scrollbar",children:[f.jsx("div",{className:"space-y-2",children:f.jsx(wa,{title:t("orders.chooseCustomer"),options:r.map(W=>({value:W._id,label:W.name})),selectedValue:re.customerId,onChange:he,icon:yf,placeholder:t("orders.searchCustomers"),customAction:{label:t("orders.createNewCustomer"),icon:Ws,onClick:()=>he("new")}})}),f.jsxs("div",{className:`space-y-2 transition-all duration-300 ${re.customerId?"opacity-100 pointer-events-auto":"opacity-30 pointer-events-none grayscale"}`,children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.fullName")}),f.jsx("input",{placeholder:"e.g. Ahmed Ali",value:re.customerName,onChange:W=>X({...re,customerName:W.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:re.customerId!=="new"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.phone")}),f.jsx("input",{placeholder:"07XX XXX XXXX",value:re.customerPhone,onChange:W=>X({...re,customerPhone:W.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:re.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.gender")}),f.jsx(wa,{title:t("common.select"),options:[{value:"Male",label:t("common.male")},{value:"Female",label:t("common.female")}],selectedValue:re.customerGender,onChange:W=>X({...re,customerGender:W}),showSearch:!1,disabled:re.customerId!=="new"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.governorate")}),f.jsx(wa,{title:t("common.select"),options:ip.map(W=>({value:W,label:W})),selectedValue:re.customerGovernorate,onChange:W=>X({...re,customerGovernorate:W}),icon:qs,showSearch:!1,disabled:re.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.social")}),f.jsx(wa,{title:t("common.select"),options:ap.map(W=>({value:W,label:W})),selectedValue:re.customerSocial,onChange:W=>X({...re,customerSocial:W}),icon:Zo,showSearch:!1,disabled:re.customerId!=="new"})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.shippingAddress")}),f.jsx("textarea",{placeholder:"House/District/Street...",value:re.customerAddress,onChange:W=>X({...re,customerAddress:W.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",disabled:re.customerId!=="new",rows:"1"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.internalNotes")}),f.jsx("textarea",{placeholder:"Special instructions...",value:re.customerNotes,onChange:W=>X({...re,customerNotes:W.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",rows:"2"})]})]})]}),f.jsx("div",{className:"mt-auto pt-2 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:Ht,disabled:k||re.items.length===0||re.items.some(W=>{const ce=n.find(qe=>qe._id===W.product._id),me=e.find(qe=>qe._id===P),je=me==null?void 0:me.items.find(qe=>qe.product._id===W.product._id),dt=je?je.quantity:0;return W.quantity>((ce==null?void 0:ce.stock)||0)+dt}),className:"w-full py-3 bg-accent text-white rounded-2xl font-black shadow-accent active:scale-[0.98] transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",children:k?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(Un,{className:"w-5 h-5"}),t(P?"orders.updateOrder":"orders.saveOrder")]})})})]})]})}),b&&S&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("orders.orderDetails")}),f.jsxs("p",{className:"text-sm text-slate-500",children:[S.orderId,"  ",S.date]})]}),f.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx(Nr,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-start bg-slate-50 dark:bg-slate-700/30 p-4 rounded-xl",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:t("orders.customerInfo")}),f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:S.customer.name}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:S.customer.phone}),f.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:[S.customer.address,", ",S.customer.governorate]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:t("orders.orderStatus")}),f.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-bold ${S.status==="Completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:S.status})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:t("orders.orderItems")}),f.jsx("div",{className:"space-y-3",children:S.items.map((W,ce)=>f.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 dark:border-slate-700 pb-3 last:border-0 last:pb-0",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:W.product.images&&W.product.images[0]?f.jsx("img",{src:W.product.images[0],alt:W.product.name||"Product image",className:"w-full h-full object-cover"}):f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 text-xs",children:"No Img"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:W.product.name}),f.jsxs("p",{className:"text-xs text-slate-500",children:[W.quantity," x ",l(W.price)]})]})]}),f.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:l(W.price*W.quantity)})]},ce))})]}),f.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"flex justify-end space-y-2 flex-col items-end",children:[f.jsxs("div",{className:"flex gap-8 text-sm",children:[f.jsxs("span",{className:"text-slate-500",children:[t("orders.subtotal"),":"]}),f.jsx("span",{className:"font-medium text-slate-800 dark:text-white",children:l(S.subtotal||S.total)})]}),S.discount>0&&f.jsxs("div",{className:"flex gap-8 text-sm text-red-500",children:[f.jsxs("span",{children:[t("orders.discount")," (",S.discount,"%):"]}),f.jsxs("span",{children:["-",l((S.subtotal||S.total)-S.total)]})]}),f.jsxs("div",{className:"flex gap-8 text-lg font-bold pt-2",children:[f.jsxs("span",{className:"text-slate-800 dark:text-white",children:[t("orders.table.total"),":"]}),f.jsx("span",{className:"text-accent",children:l(S.total)})]})]})}),f.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("button",{onClick:()=>un(S),className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-800 dark:text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[f.jsx(O1,{className:"w-4 h-4"})," ",t("orders.printReceipt")]}),f.jsxs("button",{onClick:()=>Ee(S),className:"px-4 py-2 bg-accent text-white rounded-lg font-medium transition-all shadow-accent hover:brightness-110 active:scale-95 flex items-center gap-2",children:[f.jsx(Hs,{className:"w-4 h-4"})," ",t("orders.editOrder")]})]})]})]})})]})},rje=()=>{const{t}=Dr(),{customers:e,orders:n,addCustomer:r,updateCustomer:i,formatCurrency:a,brand:s,addToast:o,loading:l,appearance:c,setIsModalOpen:u}=nr(),[d,h]=R.useState(""),[p,g]=R.useState([]),[y,v]=R.useState([]),[x,b]=R.useState(!1),[w,S]=R.useState(!1);R.useEffect(()=>(u(x||w),()=>u(!1)),[x,w,u]);const[E,P]=R.useState("orders-high"),_=R.useMemo(()=>e.length===0?AP(new Date,90):e.reduce((U,Q)=>{try{const H=Q.createdOn?_a(Q.createdOn):new Date;return H<U?H:U}catch{return U}},new Date),[e]),k=R.useMemo(()=>({from:_,to:new Date}),[_]),[A,I]=R.useState(k),[C,j]=R.useState(!1);R.useEffect(()=>{e.length>0&&!C&&(I({from:_,to:new Date}),j(!0))},[e.length,C,_]);const[O,M]=R.useState(null),[D,L]=R.useState(null),[q,F]=R.useState(null),[V,G]=R.useState({column:"orders",direction:"desc"}),[Y,B]=R.useState("table"),[ae,ge]=R.useState(100),ye=U=>{V.column===U?G(Q=>({...Q,direction:Q.direction==="asc"?"desc":"asc"})):G({column:U,direction:"asc"})},te=({column:U,label:Q,border:H=!1})=>{const ue=V.column===U;return f.jsx("th",{onClick:()=>ye(U),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${H?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[Q,ue&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:V.direction==="asc"?"":""})]})})},[ie,de]=R.useState({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),ee=R.useMemo(()=>{const U={};return e.forEach(Q=>{const H=Q.governorate;H&&(U[H]=(U[H]||0)+1)}),ip.map(Q=>({value:Q,label:Q,count:U[Q]||0})).sort((Q,H)=>H.count-Q.count)},[e]),_e=R.useMemo(()=>{const U={};return e.forEach(Q=>{const H=Q.social;H&&(U[H]=(U[H]||0)+1)}),ap.map(Q=>({value:Q,label:Q,count:U[Q]||0})).sort((Q,H)=>H.count-Q.count)},[e]),re=U=>n.filter(Q=>{var ue,he,Ee;const H=e.find(Fe=>Fe._id===U);return H?((ue=Q.customer)==null?void 0:ue._id)===U||((he=Q.customer)==null?void 0:he.name)===H.name&&((Ee=Q.customer)==null?void 0:Ee.phone)===H.phone:!1}),X=U=>{const Q=U.createdOn||U.createdAt;if(!Q)return null;try{return typeof Q=="string"?_a(Q):Q.toDate?Q.toDate():new Date(Q)}catch{return null}},Z=R.useMemo(()=>e.filter(H=>{const ue=H.name.toLowerCase().includes(d.toLowerCase())||H.phone.includes(d),he=X(H);let Ee=!0;if(A!=null&&A.from&&(A!=null&&A.to)&&he){const un=Ca(A.from),$r=pg(A.to);Ee=he>=un&&he<=$r}const Fe=p.length===0||p.includes(H.governorate),Ht=y.length===0||y.includes(H.social);return ue&&Ee&&Fe&&Ht}).sort((H,ue)=>{if(V.column==="name"){const he=H.name.toLowerCase(),Ee=ue.name.toLowerCase();return V.direction==="asc"?he.localeCompare(Ee):Ee.localeCompare(he)}if(V.column==="orders"){const he=re(H._id).length,Ee=re(ue._id).length;return V.direction==="asc"?he-Ee:Ee-he}if(V.column==="spent"){const he=re(H._id).reduce((Fe,Ht)=>Fe+Ht.total,0),Ee=re(ue._id).reduce((Fe,Ht)=>Fe+Ht.total,0);return V.direction==="asc"?he-Ee:Ee-he}if(V.column==="governorate"){const he=(H.governorate||"").toLowerCase(),Ee=(ue.governorate||"").toLowerCase();return V.direction==="asc"?he.localeCompare(Ee):Ee.localeCompare(he)}return 0}).slice(0,ae),[e,d,p,y,E,V,n,A,ae]),be=U=>{P(U),U==="orders-high"?G({column:"orders",direction:"desc"}):U==="orders-low"?G({column:"orders",direction:"asc"}):U==="name-asc"?G({column:"name",direction:"asc"}):U==="date-new"&&G({column:"orders",direction:"desc"})};R.useEffect(()=>{(()=>{try{window.innerWidth<640&&Y==="table"&&B("card")}catch{}})();const Q=()=>{window.innerWidth<640&&B("card")};return window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const Me=()=>{L(null),de({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),b(!0)},Ke=U=>{L(U),de(U),b(!0)},De=U=>{M(U),S(!0),F(null)},en=U=>{U.preventDefault(),D?i({...ie,_id:D._id}):r(ie),b(!1)},it=U=>{const Q=window.open("","_blank");Q.document.write(`
            <html>
                <head>
                    <title>${t("customers.receipt.title")} ${U.orderId}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; direction: ${document.dir}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .order-info { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { text-align: ${document.dir==="rtl"?"right":"left"}; padding: 8px; border-bottom: 1px solid #eee; }
                        .total { text-align: ${document.dir==="rtl"?"left":"right"}; font-weight: bold; font-size: 1.2em; margin-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>${t("customers.receipt.title")}</h1>
                        <h3>${U.orderId}</h3>
                    </div>
                    <div class="order-info">
                        <p><strong>${t("customers.receipt.customer")}:</strong> ${U.customer.name}</p>
                        <p><strong>${t("customers.receipt.date")}:</strong> ${U.date}</p>
                        <p><strong>${t("customers.receipt.status")}:</strong> ${U.status}</p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>${t("customers.receipt.item")}</th>
                                <th>${t("customers.receipt.qty")}</th>
                                <th>${t("customers.receipt.price")}</th>
                                <th>${t("customers.receipt.total")}</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${U.items.map(H=>`
                                <tr>
                                    <td>${H.product.name}</td>
                                    <td>${H.quantity}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(H.price)}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(H.price*H.quantity)}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="total">
                        ${t("customers.receipt.total")}: ${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(U.total)}
                    </div>
                    <script>window.onload = function() { window.print(); window.close(); }<\/script>
                </body>
            </html>
        `),Q.document.close()},ct=U=>{switch(U==null?void 0:U.toLowerCase()){case"facebook":return f.jsx(Lq,{className:"w-4 h-4"});case"instagram":return f.jsx(Fq,{className:"w-4 h-4"});case"twitter":return f.jsx(Qq,{className:"w-4 h-4"});case"tiktok":return f.jsx("div",{className:"w-4 h-4 font-bold text-xs flex items-center justify-center",children:"TT"});case"whatsapp":return f.jsx(qq,{className:"w-4 h-4"});default:return f.jsx(Zo,{className:"w-4 h-4"})}};return f.jsxs(zu,{title:t("customers.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:Me,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(Ws,{className:"w-5 h-5"}),f.jsx("span",{children:t("customers.addCustomer")})]}),f.jsxs("button",{onClick:()=>{if(Z.length===0)return o(t("customers.noMatch"),"info");JCe(Z)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(xv,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl border border-slate-200 dark:border-slate-600 ms-2",children:[f.jsx("button",{onClick:()=>B("table"),className:`p-1.5 rounded-lg transition-all ${Y==="table"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:"Table View",children:f.jsx(oL,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>B("card"),className:`p-1.5 rounded-lg transition-all ${Y==="card"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:t("customers.viewCard"),children:f.jsx(Uq,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(p.length>0||y.length>0||d||!yc(A.from,k.from)||!yc(A.to,k.to))&&f.jsx("button",{onClick:()=>{h(""),g([]),v([]),I(k)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(dA,{limit:ae,onChange:ge}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(yf,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:Z.length})," ",t("customers.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(Du,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("customers.searchPlaceholder"),value:d,onChange:U=>h(U.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-slate-50 dark:bg-slate-900/50 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-blue-200 dark:focus:border-blue-800 focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold text-sm dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(NP,{range:A,onRangeChange:I,brandColor:s.color})}),f.jsx(_i,{title:t("customers.form.governorate"),options:ee,selectedValues:p,onChange:g,icon:qs,showSearch:!1}),f.jsx(_i,{title:t("customers.social"),options:_e,selectedValues:y,onChange:v,icon:Zo,showSearch:!1}),f.jsx(A9,{title:t("common.sort"),options:[{value:"orders-high",label:t("common.priceHigh")},{value:"orders-low",label:t("common.priceLow")},{value:"date-new",label:t("common.dateNew")},{value:"name-asc",label:t("common.nameAZ")}].map(U=>({...U,label:U.value==="orders-high"?t("customers.totalSpent")+" (High)":U.value==="orders-low"?t("customers.totalSpent")+" (Low)":U.label})),selectedValue:E,onChange:be})]})]}),Y==="table"?f.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(te,{column:"name",label:t("customers.name")}),f.jsx(te,{column:"governorate",label:t("customers.location"),border:!0}),f.jsx(te,{column:"orders",label:t("customers.orders"),border:!0}),f.jsx(te,{column:"spent",label:t("customers.totalSpent"),border:!0}),f.jsx("th",{className:"px-6 py-4 border-s dark:border-slate-700 select-none",children:t("customers.createdOn")}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("customers.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:l?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-12",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/3 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]})})}):Z.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400",children:[f.jsx(yf,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("customers.noData")})]})}):Z.map(U=>{const Q=re(U._id),H=Q.reduce((ue,he)=>ue+he.total,0);return f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-bold text-lg border border-slate-100 dark:border-slate-800 shadow-sm",children:U.name.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:U.name}),f.jsx("p",{className:"text-xs text-slate-400",children:U.phone})]})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:U.governorate}),f.jsx("span",{className:"text-[11px] text-slate-400 line-clamp-1",children:U.address})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-xl text-xs font-black inline-flex transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[f.jsx(Un,{className:"w-3.5 h-3.5"}),Q.length]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:a(H)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-xs font-bold text-slate-500 whitespace-nowrap",children:X(U)?Br(X(U),"MMM dd, yyyy"):t("orders.receipt.na")})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>De(U),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Order History",children:f.jsx(Un,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Ke(U),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Edit",children:f.jsx(Hs,{className:"w-4 h-4"})})]})})]},U._id)})})]})})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in duration-500",children:l?[1,2,3].map(U=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:[f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 animate-pulse mb-4"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse mb-2"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]},U)):Z.length===0?f.jsxs("div",{className:"col-span-full py-20 text-center bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700",children:[f.jsx(yf,{className:"w-16 h-16 mx-auto mb-4 text-slate-200"}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-sm",children:t("customers.noMatch")})]}):Z.map(U=>{const Q=re(U._id),H=Q.reduce((ue,he)=>ue+he.total,0);return f.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group overflow-hidden flex flex-col h-full ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:f.jsxs("div",{className:"p-6 flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-black text-xl border border-slate-100 dark:border-slate-800 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900 transition-colors",children:U.name.charAt(0)}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>De(U),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Order History",children:f.jsx(Un,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Ke(U),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Edit Profile",children:f.jsx(Hs,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg mb-2 truncate",children:U.name}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[f.jsx(Un,{className:"w-3 h-3"}),Q.length," ",Q.length===1?t("customers.receipt.order"):t("customers.orders")]}),f.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:a(H)})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:f.jsx(Kq,{className:"w-4 h-4 text-slate-400"})}),f.jsx("span",{className:"font-bold",children:U.phone||"No phone"})]}),f.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0 mt-0.5",children:f.jsx(qs,{className:"w-4 h-4 text-slate-400"})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-xs",children:U.governorate}),f.jsx("span",{className:"text-[10px] text-slate-400 line-clamp-1",children:U.address})]})]}),U.social&&f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:ct(U.social)}),f.jsx("span",{className:"text-[10px] font-black uppercase text-blue-500 tracking-wider",children:U.social})]})]})]})},U._id)})}),x&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/80 backdrop-blur-md p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-md my-4 sm:my-8 flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 relative ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-10",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white",children:t(D?"customers.form.edit":"customers.form.new")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:t("customers.form.sub")})]}),f.jsx("button",{onClick:()=>b(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Nr,{className:"w-5 h-5 text-slate-400"})})]}),f.jsx("div",{className:"p-5 overflow-y-auto custom-scrollbar",children:f.jsx("form",{id:"customer-form",onSubmit:en,className:"space-y-4",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.fullName")}),f.jsx("input",{required:!0,placeholder:"Ahmed Ali",value:ie.name,onChange:U=>de({...ie,name:U.target.value}),className:"w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.phone")}),f.jsx("input",{required:!0,placeholder:"07XX XXX XXXX",value:ie.phone,onChange:U=>de({...ie,phone:U.target.value}),className:"w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.email")}),f.jsx("input",{placeholder:"customer@example.com",type:"email",value:ie.email,onChange:U=>de({...ie,email:U.target.value}),className:"w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.governorate")}),f.jsx(wa,{title:t("common.select"),options:ip.map(U=>({value:U,label:U})),selectedValue:ie.governorate,onChange:U=>de(Q=>({...Q,governorate:U})),icon:qs,showSearch:!1})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.channel")}),f.jsx(wa,{title:t("common.select"),options:ap.map(U=>({value:U,label:U})),selectedValue:ie.social,onChange:U=>de(Q=>({...Q,social:U})),icon:Zo,showSearch:!1})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.shippingAddress")}),f.jsx("textarea",{rows:"2",placeholder:"Street name, landmark, house number...",value:ie.address,onChange:U=>de({...ie,address:U.target.value}),className:"w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:bg-slate-900 dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold resize-none placeholder:opacity-30"})]})]})})}),f.jsx("div",{className:"p-6 pt-0 mt-auto border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-3 border-2 border-slate-100 dark:border-slate-800 rounded-2xl font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:t("common.cancel")}),f.jsx("button",{onClick:()=>document.getElementById("customer-form").requestSubmit(),className:"flex-2 py-3 text-white rounded-2xl font-black transition-all active:scale-95 bg-accent shadow-accent hover:brightness-110 flex-[2]",children:t(D?"customers.form.save":"customers.form.register")})]})})]})}),w&&O&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in slide-in-from-bottom-8 duration-500 ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:[f.jsx("div",{className:"px-10 py-8 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:f.jsx(Un,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t("customers.history.title")})]}),f.jsxs("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-[0.2em] ms-13",children:[t("customers.receipt.customer"),": ",f.jsx("span",{className:"text-[var(--brand-color)]",children:O.name})]})]}),f.jsx("button",{onClick:()=>S(!1),className:"w-12 h-12 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Nr,{className:"w-8 h-8 text-slate-400"})})]})}),f.jsx("div",{className:"p-10 overflow-y-auto custom-scrollbar bg-slate-50/50 dark:bg-slate-900/50",children:re(O._id).length===0?f.jsxs("div",{className:"text-center py-24",children:[f.jsx("div",{className:"w-24 h-24 bg-white dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-6 text-slate-200",children:f.jsx(Un,{className:"w-12 h-12"})}),f.jsx("h4",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:t("customers.history.noRecords")})]}):f.jsx("div",{className:"space-y-4",children:re(O._id).map(U=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[28px] border-2 border-slate-50 dark:border-slate-800 shadow-sm overflow-hidden transition-all hover:shadow-xl hover:border-accent group",children:[f.jsxs("div",{className:"p-6 flex items-center justify-between cursor-pointer",onClick:()=>F(q===U._id?null:U._id),children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-14 h-14 bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center text-[var(--brand-color)] group-hover:bg-[var(--brand-color)] group-hover:text-white transition-all",children:f.jsx(Un,{className:"w-7 h-7"})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-lg",children:U.orderId}),f.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:U.date})]})]}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"text-end",children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-xl",children:a(U.total)}),f.jsx("div",{className:`text-[10px] font-black uppercase px-2.5 py-1 rounded-lg inline-block mt-1 ${U.status==="Completed"?"bg-emerald-50 text-emerald-600 border border-emerald-100":U.status==="Processing"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-slate-50 text-slate-600 border border-slate-100"}`,children:U.status})]}),f.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-transform ${q===U._id?"rotate-180":"bg-slate-50 dark:bg-slate-900 text-slate-300"}`,style:q===U._id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:f.jsx(Pl,{className:"w-6 h-6"})})]})]}),q===U._id&&f.jsxs("div",{className:"px-8 pb-8 pt-0 border-t border-slate-50 dark:border-slate-800 animate-in slide-in-from-top-4 duration-300",children:[f.jsx("div",{className:"grid grid-cols-1 gap-3 mt-6",children:U.items.map((Q,H)=>f.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-900/80 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center font-black text-sm text-[var(--brand-color)] border border-slate-100 dark:border-slate-700 shadow-sm",children:[Q.quantity,""]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white block text-sm",children:Q.product.name}),f.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a(Q.price)," ",t("common.perUnit")]})]})]}),f.jsx("span",{className:"font-black text-slate-900 dark:text-white",children:a(Q.price*Q.quantity)})]},H))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.paymentMethod")}),f.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:t("common.cashOnDelivery")})]}),f.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.itemsCount")}),f.jsxs("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:[U.items.length," ",t("customers.receipt.item")]})]})]}),f.jsxs("button",{onClick:Q=>{Q.stopPropagation(),it(U)},className:"flex items-center gap-2 px-8 py-4 bg-slate-900 dark:bg-slate-700 text-white rounded-2xl font-black text-sm transition-all shadow-xl active:scale-95 hover:brightness-125 hover:shadow-2xl",children:[f.jsx(O1,{className:"w-5 h-5"}),t("customers.history.printThermal")]})]})]})]},U._id))})})]})})]})},ije=()=>{const{t}=Dr(),{products:e,updateProduct:n,loading:r}=nr(),[i,a]=R.useState(null),[s,o]=R.useState(""),l=p=>{a(p)},c=()=>{a(null)},u=async p=>{await n(p),a(null)},d=async p=>{const g=p.map(y=>({url:URL.createObjectURL(y),file:y,name:y.name}));if(i){const y=[...i.images||[],...g],v={...i,images:y};a(v),await n(v)}return g},h=e.filter(p=>{var g;return p.name.toLowerCase().includes(s.toLowerCase())||((g=p.sku)==null?void 0:g.toLowerCase().includes(s.toLowerCase()))});return f.jsxs(zu,{title:t("productPicture.title"),children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 mb-8",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Ma,{className:"w-6 h-6 text-accent"}),t("productPicture.subtitle")]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:t("productPicture.description")})]}),f.jsxs("div",{className:"relative w-full md:w-64",children:[f.jsx(Du,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:s,onChange:p=>o(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium focus:ring-2 focus:ring-accent outline-none transition-all"})]})]}),r?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"w-8 h-8 border-4 border-accent border-t-transparent rounded-full animate-spin"})}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map(p=>{var v;const g=((v=p.images)==null?void 0:v[0])||p.image||"https://via.placeholder.com/400x400?text=No+Image",y=typeof g=="string"?g:g.url;return f.jsxs("div",{onClick:()=>l(p),className:"group bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-accent",children:[f.jsxs("div",{className:"aspect-[4/5] w-full rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 relative",children:[f.jsx("img",{src:y,alt:p.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),p.stock<=5&&f.jsx("div",{className:"absolute top-3 left-3 bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-md shadow-md",children:t("products.stockStatus.lowStock")}),f.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),f.jsxs("div",{className:"mt-4 px-1",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white truncate text-base mb-1 group-hover:text-accent transition-colors",children:p.name}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs font-mono font-bold text-slate-400 uppercase tracking-wider",children:p.sku||"NO-SKU"}),f.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 rounded-lg",children:p.category||"General"})]})]})]},p.id||p._id)})}),h.length===0&&!r&&f.jsxs("div",{className:"text-center py-20 text-slate-400",children:[f.jsx(Ma,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),f.jsx("p",{children:t("productPicture.noProducts")})]}),i&&f.jsx(P9,{product:i,onClose:c,onSave:u,onUpload:d})]})},aje=({image:t,onCrop:e,onClose:n,aspect:r=1})=>{const[i,a]=R.useState(1),[s,o]=R.useState(0),[l,c]=R.useState({x:0,y:0}),[u,d]=R.useState(!1),[h,p]=R.useState({x:0,y:0}),[g,y]=R.useState({width:0,height:0}),v=320,x=512,b=R.useRef(null);R.useRef(null),R.useEffect(()=>{a(1),o(0),c({x:0,y:0})},[t]);const w=A=>{const{naturalWidth:I,naturalHeight:C}=A.currentTarget;y({width:I,height:C}),a(1)},S=A=>{d(!0),p({x:A.clientX-l.x,y:A.clientY-l.y})},E=A=>{u&&(A.preventDefault(),c({x:A.clientX-h.x,y:A.clientY-h.y}))},P=()=>{d(!1)},_=()=>{const A=document.createElement("canvas"),I=A.getContext("2d"),C=b.current;A.width=x,A.height=x/r,I.clearRect(0,0,A.width,A.height),I.save();const j=x/v;I.translate(A.width/2,A.height/2),I.translate(l.x*j,l.y*j),I.rotate(s*Math.PI/180);const O=i*j;I.scale(O,O);const M=C.naturalWidth,D=C.naturalHeight;return I.imageSmoothingEnabled=!0,I.imageSmoothingQuality="high",I.drawImage(C,-M/2,-D/2,M,D),I.restore(),A.toDataURL("image/png",1)},k=()=>{const A=_();e(A)};return f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800",children:[f.jsxs("div",{className:"px-8 py-5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900 z-20",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(Ma,{className:"w-6 h-6 text-accent"})," Editor Studio"]}),f.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-wider",children:"Customize your brand identity"})]}),f.jsx("button",{onClick:n,className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx(Nr,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[f.jsxs("div",{className:"flex-1 relative bg-slate-100 dark:bg-slate-950 overflow-hidden flex items-center justify-center cursor-move select-none",style:{backgroundImage:"linear-gradient(45deg, #e5e7eb 25%, transparent 25%), linear-gradient(-45deg, #e5e7eb 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #e5e7eb 75%), linear-gradient(-45deg, transparent 75% , #e5e7eb 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"},onMouseDown:S,onMouseMove:E,onMouseUp:P,onMouseLeave:P,children:[f.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none z-0"}),f.jsxs("div",{className:"relative z-10 border-2 border-white/80 shadow-[0_0_0_9999px_rgba(0,0,0,0.7)] rounded-xl overflow-visible",style:{width:v,height:v/r,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)"},children:[f.jsxs("div",{className:"absolute inset-0 grid grid-cols-3 grid-rows-3 pointer-events-none opacity-50",children:[f.jsx("div",{className:"border-r border-white/30 h-full col-start-2"}),f.jsx("div",{className:"border-r border-white/30 h-full col-start-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-2 col-span-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-3 col-span-3"})]}),f.jsx("div",{className:"absolute -top-1 -left-1 w-4 h-4 border-t-4 border-l-4 border-white rounded-tl-sm shadow-sm"}),f.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 border-t-4 border-r-4 border-white rounded-tr-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 border-b-4 border-l-4 border-white rounded-bl-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 border-b-4 border-r-4 border-white rounded-br-sm shadow-sm"})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none overflow-hidden",children:f.jsx("img",{ref:b,src:t,alt:"To crop",onLoad:w,draggable:!1,className:"max-none transition-transform duration-75 origin-center will-change-transform",style:{transform:`translate(${l.x}px, ${l.y}px) rotate(${s}deg) scale(${i})`}})})]}),f.jsxs("div",{className:"w-full lg:w-80 bg-white dark:bg-slate-900 border-s border-slate-100 dark:border-slate-800 p-6 flex flex-col z-20 shadow-xl",children:[f.jsxs("div",{className:"space-y-8 flex-1 overflow-y-auto custom-scrollbar",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:"Zoom & Scale"}),f.jsxs("span",{className:"font-mono text-accent",children:[Math.round(i*100),"%"]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>a(A=>Math.max(.1,A-.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(Jq,{className:"w-5 h-5 text-slate-400"})}),f.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.01",value:i,onChange:A=>a(parseFloat(A.target.value)),className:"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-accent"}),f.jsx("button",{onClick:()=>a(A=>Math.min(3,A+.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(Xq,{className:"w-5 h-5 text-slate-400"})})]})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Orientation"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>o(A=>A-90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(bN,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"-90"})]}),f.jsxs("button",{onClick:()=>o(A=>A+90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(bN,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors scale-x-[-1]"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"+90"})]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 text-center",children:f.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["Current Rotation: ",s,""]})})]})]}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800 flex flex-col gap-3",children:[f.jsxs("button",{onClick:k,className:"w-full py-4 bg-accent text-white font-black rounded-2xl shadow-accent shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-3 hover:brightness-110",children:[f.jsx(rL,{className:"w-5 h-5"}),"Apply Changes"]}),f.jsx("button",{onClick:n,className:"w-full py-3 text-slate-500 hover:text-slate-800 dark:hover:text-white font-bold transition-colors",children:"Cancel"})]})]})]})]})})},sje=()=>{var re,X;const{t}=Dr(),{theme:e,toggleTheme:n,appearance:r,setAppearance:i,users:a,addUser:s,updateUser:o,deleteUser:l,currentUser:c,updateUserProfile:u,brand:d,updateBrand:h,addToast:p,seedData:g,language:y,changeLanguage:v}=nr(),[x,b]=R.useState("general"),[w,S]=R.useState(!1),[E,P]=R.useState(!1),[_,k]=R.useState(null),[A,I]=R.useState(null),[C,j]=R.useState(null),[O,M]=R.useState((c==null?void 0:c.displayName)||""),[D,L]=R.useState(!1);R.useEffect(()=>{c&&M(c.displayName)},[c]);const q=async()=>{try{await u({displayName:O}),L(!1),p("Profile updated successfully!","success")}catch(Z){console.error("Profile update error:",Z),p("Failed to update profile.","error")}},F=Z=>{const be=Z.target.files[0];if(be){if(be.size>3*1024*1024)return p("Avatar too large. Max 3MB.","error");const Me=new FileReader;Me.onloadend=()=>{I(Me.result),j("avatar")},Me.readAsDataURL(be)}},[V,G]=R.useState({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,hideHeader:d.hideHeader||!1});R.useEffect(()=>{G({name:d.name,color:d.color,logo:d.logo,favicon:d.favicon||null,hideHeader:d.hideHeader||!1})},[d]);const Y=async()=>{try{await h(V),p("Branding settings saved successfully!","success")}catch{p("Failed to save branding settings.","error")}},B=Z=>{const be=Z.target.files[0];if(be){if(be.size>3*1024*1024)return p("File too large. Max 3MB.","error");const Me=new FileReader;Me.onloadend=()=>{I(Me.result),j("logo")},Me.readAsDataURL(be)}},ae=Z=>{const be=Z.target.files[0];if(be){if(be.size>512*1024)return p("Favicon too large. Max 512KB.","error");const Me=new FileReader;Me.onloadend=()=>{G(Ke=>({...Ke,favicon:Me.result})),p("Favicon updated (preview). Save to persist.","success")},Me.readAsDataURL(be)}},ge=async Z=>{C==="avatar"?(await u({photoURL:Z}),p("Avatar updated successfully!","success")):C==="logo"&&(G(be=>({...be,logo:Z})),p("Logo updated successfully!","success")),I(null),j(null)},[ye,te]=R.useState({username:"",email:"",role:"Staff",password:"",displayName:""}),ie=()=>{k(null),te({username:"",email:"",role:"Staff",password:"",displayName:""}),S(!0)},de=Z=>{k(Z),te({...Z,password:""}),S(!0)},ee=async Z=>{Z.preventDefault();try{_?(await o({...ye,_id:_._id}),p("User updated successfully!","success")):(await s({...ye}),p("User created successfully!","success")),S(!1)}catch(be){console.error("User management error:",be),p("Failed to save user.","error")}},_e=async Z=>{if(window.confirm("Are you sure you want to delete this user?"))try{await l(Z),p("User deleted successfully.","success")}catch{p("Failed to delete user.","error")}};return f.jsxs(zu,{title:"Settings",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsx("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>b("general"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="general"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(lL,{className:"w-5 h-5"}),t("settings.general")]}),f.jsxs("button",{onClick:()=>b("appearance"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="appearance"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(xN,{className:"w-5 h-5"}),t("settings.appearance")]}),f.jsxs("button",{onClick:()=>b("branding"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="branding"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(Yq,{className:"w-5 h-5"}),t("settings.branding")]}),f.jsxs("button",{onClick:()=>b("users"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${x==="users"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(bk,{className:"w-5 h-5"}),t("settings.users")]})]})}),f.jsxs("div",{className:"flex-1",children:[x==="general"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.general")}),f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[f.jsx(Zo,{className:"w-4 h-4 text-accent"}),t("settings.language")]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>v("en"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${y==="en"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" English"}),f.jsx("button",{onClick:()=>v("ar"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${y==="ar"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" "})]})]})})]}),x==="branding"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.branding")}),f.jsx("button",{onClick:Y,className:"px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all active:scale-95 bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveBranding")})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"max-w-md",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:t("settings.appName")}),f.jsx("input",{type:"text",value:V.name,onChange:Z=>G({...V,name:Z.target.value}),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.logoAndFavicon")||"Logo & Favicon"}),f.jsxs("div",{className:"flex flex-wrap items-center gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center border border-slate-200 dark:border-slate-600 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-sm",style:{backgroundColor:r.accentType==="solid"?r.accentColor:(re=r.accentGradient)==null?void 0:re.start},children:V.logo?f.jsx("img",{src:V.logo,alt:"Logo",className:"w-full h-full object-cover"}):f.jsx("span",{className:"text-white font-bold text-3xl",children:(V.name||"").charAt(0)})}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t("settings.logo")})]}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center border border-slate-200 dark:border-slate-600 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-sm",children:V.favicon?f.jsx("img",{src:V.favicon,alt:"Favicon",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-8 h-8 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"})}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Favicon"})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2.5 bg-accent text-white rounded-xl transition-all shadow-lg shadow-accent/20 hover:brightness-110 font-bold text-sm",children:[f.jsx(xk,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.uploadLogo")}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:B})]}),f.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl transition-colors font-bold text-sm border border-slate-200 dark:border-slate-600",children:[f.jsx(Ma,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.uploadFavicon")||"Upload Favicon"}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ae})]})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t("settings.logoSize")}),f.jsxs("div",{className:"flex gap-4",children:[V.logo&&f.jsx("button",{onClick:()=>G({...V,logo:null}),className:"text-[11px] text-red-500 hover:text-red-600 font-bold uppercase tracking-wider",children:t("settings.removeLogo")||"Remove Logo"}),V.favicon&&f.jsx("button",{onClick:()=>G(Z=>({...Z,favicon:null})),className:"text-[11px] text-red-500 hover:text-red-600 font-bold uppercase tracking-wider",children:t("settings.removeFavicon")||"Remove Favicon"})]})]})]})]}),f.jsx("div",{className:"pt-8 border-t border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-white",children:t("settings.appHeader")}),f.jsx("p",{className:"text-xs text-slate-500",children:t("settings.appHeaderDesc")})]}),f.jsx("button",{onClick:async()=>{const Z=!V.hideHeader;G(be=>({...be,hideHeader:Z})),await h({...d,hideHeader:Z})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:V.hideHeader?"#e2e8f0":d.color},children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${V.hideHeader?"translate-x-1":"translate-x-6"}`})})]})})]})]}),x==="appearance"&&f.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(xN,{className:"w-5 h-5 text-[var(--brand-color)]"}),t("settings.themeOptions")]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{id:"liquid",name:"Liquid Glass",icon:$q,desc:"Apple macOS style"},{id:"light",name:"Pro Light",icon:uL,desc:"Clean & minimal"},{id:"dark",name:"Pro Dark",icon:Hq,desc:"Deep & elegant"}].map(Z=>f.jsxs("button",{onClick:()=>i({theme:Z.id}),className:`group relative flex flex-col p-4 rounded-2xl border-2 transition-all text-left ${r.theme===Z.id?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}`,style:r.theme===Z.id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors ${r.theme===Z.id?"bg-accent text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500"}`,children:f.jsx(Z.icon,{className:"w-6 h-6"})}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:Z.name}),f.jsx("span",{className:"text-xs text-slate-500 mt-1",children:Z.desc}),r.theme===Z.id&&f.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-accent rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-slate-800 animate-in zoom-in duration-200",children:f.jsx(aL,{className:"w-3.5 h-3.5 text-white"})})]},Z.id))})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-accent"}),t("settings.accentCustomization")]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>i({accentType:"solid"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="solid"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.solid")}),f.jsx("button",{onClick:()=>i({accentType:"gradient"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="gradient"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.gradient")})]})]}),f.jsx("div",{className:"space-y-8",children:r.accentType==="solid"?f.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[["#1e3a5f","#6366f1","#8b5cf6","#ec4899","#f43f5e","#f59e0b","#10b981","#06b6d4"].map(Z=>f.jsx("button",{onClick:()=>i({accentColor:Z}),className:`w-10 h-10 rounded-full border-4 transition-transform hover:scale-110 ${r.accentColor===Z?"border-white dark:border-slate-800 shadow-xl":"border-transparent"}`,style:{backgroundColor:Z}},Z)),f.jsx("div",{className:"h-8 w-[1px] bg-slate-200 dark:bg-slate-700 mx-2"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"color",value:r.accentColor,onChange:Z=>i({accentColor:Z.target.value}),className:"w-10 h-10 rounded-full cursor-pointer border-0 p-0 overflow-hidden bg-transparent"}),f.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap",children:t("settings.customColor")})]}),f.jsx("span",{className:"font-mono text-sm text-slate-500 uppercase",children:r.accentColor})]})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{start:"#8B5CF6",end:"#3B82F6",name:"Royal"},{start:"#F472B6",end:"#FB923C",name:"Sunset"},{start:"#34D399",end:"#3B82F6",name:"Aurora"},{start:"#EC4899",end:"#8B5CF6",name:"Vibrant"}].map((Z,be)=>f.jsxs("button",{onClick:()=>i({accentGradient:Z}),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all ${r.accentGradient.start===Z.start&&r.accentGradient.end===Z.end?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200"}`,style:r.accentGradient.start===Z.start&&r.accentGradient.end===Z.end?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:"w-10 h-10 rounded-lg",style:{background:`linear-gradient(135deg, ${Z.start}, ${Z.end})`}}),f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:Z.name})]},be))}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.customDualColors")}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.start,onChange:Z=>i({accentGradient:{...r.accentGradient,start:Z.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.start")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.start.toUpperCase()})]})]}),f.jsx("div",{className:"w-8 h-0.5 bg-slate-200 dark:bg-slate-700 rounded-full"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.end,onChange:Z=>i({accentGradient:{...r.accentGradient,end:Z.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.end")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.end.toUpperCase()})]})]})]})]})]})})]}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 rounded-2xl p-8 flex flex-col items-center justify-center min-h-[300px] border border-slate-200 dark:border-slate-800",children:[f.jsx("p",{className:"text-sm font-bold text-slate-500 mb-8 tracking-widest uppercase",children:t("settings.livePreview")}),f.jsxs("div",{className:`w-full max-w-sm p-8 rounded-2xl transition-all glass-panel ${r.theme==="liquid"?"":"bg-white dark:bg-slate-800 shadow-xl"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:t("settings.contentLayoutExample")}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[f.jsx("div",{className:"h-2 w-3/4 bg-slate-200 dark:bg-slate-700 rounded mb-2"}),f.jsx("div",{className:"h-2 w-1/2 bg-slate-200 dark:bg-slate-700 rounded"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"px-4 py-2 bg-[var(--brand-color)] text-white rounded-lg text-sm font-medium shadow-lg shadow-[var(--brand-color)]/20",children:t("settings.primaryButton")}),f.jsx("button",{className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-medium",children:t("common.cancel")})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t("settings.toggleSwitch")}),f.jsx("div",{className:"w-10 h-5 bg-accent rounded-full relative",children:f.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full"})})]})]})]})]})]}),x==="account"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.accountSettings")}),f.jsxs("div",{className:"max-w-xl space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-accent/20 rounded-full flex items-center justify-center text-3xl font-bold text-accent overflow-hidden border-4 border-white dark:border-slate-800 shadow-lg",children:c!=null&&c.photoURL?f.jsx("img",{src:c.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):((X=c==null?void 0:c.displayName)==null?void 0:X.charAt(0))||"U"}),f.jsxs("div",{children:[f.jsxs("label",{className:"cursor-pointer px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all inline-block hover:scale-[1.02] bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[t("settings.changeAvatar"),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:F})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:t("settings.avatarRecommendedSize")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.displayName")}),f.jsx("input",{type:"text",id:"displayName",value:O,onChange:Z=>M(Z.target.value),disabled:!D,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.username")}),f.jsx("input",{type:"text",value:(c==null?void 0:c.username)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.emailAddress")}),f.jsx("input",{type:"email",value:(c==null?void 0:c.email)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsx("div",{className:"flex justify-end pt-4",children:D?f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{M((c==null?void 0:c.displayName)||""),L(!1)},className:"px-6 py-3 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{onClick:q,className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveChanges")})]}):f.jsx("button",{onClick:()=>L(!0),className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.editProfile")})}),f.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Bq,{className:"w-5 h-5 text-accent"}),t("settings.securitySettings")]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:t("settings.password")}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:t("settings.passwordDescription")}),f.jsx("button",{onClick:()=>P(!0),className:"w-full py-2.5 bg-accent text-white text-sm font-bold rounded-xl shadow-lg hover:brightness-110 transition-all",style:{boxShadow:"0 4px 10px -2px var(--accent-color)44"},children:t("settings.changePassword")})]}),f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:"Two-Factor Authentication"}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:"Add an extra layer of protection to your profile."}),f.jsx("button",{className:"w-full py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 text-sm font-bold rounded-xl hover:bg-slate-300 dark:hover:bg-slate-600 transition-all",children:t("settings.enable2fa")})]})]})]})]})]}),x==="users"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.users")}),f.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-4 py-2 text-white font-medium rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[f.jsx(Ws,{className:"w-5 h-5"})," ",t("settings.addUser")]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.user")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.email")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.role")}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.map(Z=>{var be,Me;return f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden flex-shrink-0 border-2 border-white dark:border-slate-700 shadow-sm",children:Z.photoURL?f.jsx("img",{src:Z.photoURL,alt:Z.displayName,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-accent text-white font-bold",children:((be=Z.displayName)==null?void 0:be.charAt(0))||((Me=Z.username)==null?void 0:Me.charAt(0))||"U"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:Z.displayName}),f.jsxs("div",{className:"text-xs text-slate-500",children:["@",Z.username]})]})]})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:Z.email}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:f.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${Z.role==="Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"}`,children:Z.role})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>de(Z),className:"p-2 text-accent hover:bg-accent/10 rounded-lg transition-all",children:f.jsx(Hs,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>_e(Z._id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:f.jsx(Gc,{className:"w-4 h-4"})})]})})]},Z._id)})})]})})]})]})]}),w&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t(_?"settings.editUser":"settings.addNewUser")}),f.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.displayName"),value:ye.displayName,onChange:Z=>te({...ye,displayName:Z.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.username"),value:ye.username,onChange:Z=>te({...ye,username:Z.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.email"),type:"email",value:ye.email,onChange:Z=>te({...ye,email:Z.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("select",{value:ye.role,onChange:Z=>te({...ye,role:Z.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",children:[f.jsx("option",{value:"Manager",children:"Manager"}),f.jsx("option",{value:"Staff",children:"Staff"}),f.jsx("option",{value:"Admin",children:"Admin"})]}),f.jsx("input",{placeholder:t(_?"settings.placeholders.passwordKeep":"settings.placeholders.password"),type:"password",value:ye.password,onChange:Z=>te({...ye,password:Z.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",required:!_}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t(_?"settings.updateUser":"settings.createUser")})]})]})]})}),E&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t("settings.changePassword")}),f.jsxs("form",{onSubmit:Z=>{Z.preventDefault(),p(t("settings.toasts.passwordChanged"),"success"),P(!1)},className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.currentPassword"),type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.newPassword"),type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.confirmPassword"),type:"password",className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>P(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.changePassword")})]})]})]})}),A&&f.jsx(aje,{image:A,onCrop:ge,onClose:()=>{I(null),j(null)},aspect:1})]})};function oje(){return f.jsx(Kee,{children:f.jsx(kq,{children:f.jsxs(vq,{children:[f.jsx(ms,{path:"/",element:f.jsx(KCe,{})}),f.jsx(ms,{path:"/products",element:f.jsx(tje,{})}),f.jsx(ms,{path:"/orders",element:f.jsx(nje,{})}),f.jsx(ms,{path:"/customers",element:f.jsx(rje,{})}),f.jsx(ms,{path:"/product-picture",element:f.jsx(ije,{})}),f.jsx(ms,{path:"/settings",element:f.jsx(sje,{})}),f.jsx(ms,{path:"*",element:f.jsx(gq,{to:"/",replace:!0})})]})})})}const{slice:lje,forEach:cje}=[];function uje(t){return cje.call(lje.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function dje(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const ND=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,fje=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!ND.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!ND.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},ID={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=fje(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var hje={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return ID.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;n&&typeof document<"u"&&ID.create(n,t,r,i,a)}},pje={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(n=s[o].substring(l+1))}}return n}},mje={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const s=a.substring(1);if(e){const o=s.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(r=o[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Yl=null;const OD=()=>{if(Yl!==null)return Yl;try{if(Yl=typeof window<"u"&&window.localStorage!==null,!Yl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Yl=!1}return Yl};var gje={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&OD())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&OD()&&window.localStorage.setItem(n,t)}};let Ql=null;const CD=()=>{if(Ql!==null)return Ql;try{if(Ql=typeof window<"u"&&window.sessionStorage!==null,!Ql)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Ql=!1}return Ql};var yje={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&CD())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&CD()&&window.sessionStorage.setItem(n,t)}},vje={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)e.push(n[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},xje={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},bje={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},wje={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let N9=!1;try{document.cookie,N9=!0}catch{}const I9=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];N9||I9.splice(1,1);const _je=()=>({order:I9,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class O9{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=uje(n,this.options||{},_je()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(hje),this.addDetector(pje),this.addDetector(gje),this.addDetector(yje),this.addDetector(vje),this.addDetector(xje),this.addDetector(bje),this.addDetector(wje),this.addDetector(mje)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!dje(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}O9.type="languageDetector";const Sje={mainMenu:"Main Menu",dashboard:"Dashboard",inventory:"Inventory",productPicture:"Product Picture",orders:"Orders",customers:"Customers",settings:"Settings",logout:"Logout"},Eje={welcome:"Welcome back,",admin:"Admin",switchMode:"Switch to {{mode}} mode",activityLogs:"Activity Logs",new:"New",viewAllActivity:"View All Activity"},kje={defaultName:"User",defaultRole:"Staff"},Tje={loading:"Loading...",error:"Error",success:"Success",save:"Save",saving:"Saving...",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search...",actions:"Actions",noData:"No data found",noDataToExport:"No data to export",clearFilters:"Clear Filters",exportCSV:"Export CSV",print:"Print",confirmDelete:"Are you sure you want to delete this?",yes:"Yes",no:"No",status:{processing:"Processing",completed:"Completed",cancelled:"Cancelled",pending:"Pending",shipped:"Shipped",delivered:"Delivered",returned:"Returned"},sort:"Sort",dateNew:"Newest First",dateOld:"Oldest First",priceHigh:"Highest Price",priceLow:"Lowest Price",nameAZ:"Name (A-Z)",male:"Male",female:"Female",showRows:"Show Rows",custom:"Custom",select:"Select...",cashOnDelivery:"Cash on Delivery",perUnit:"per unit"},Pje={title:"Dashboard",live:"Live Dashboard",totalRevenue:"Total Revenue",revenueTrend:"Revenue Trend",totalOrders:"Total Orders",ordersPlaced:"Orders placed",totalCustomers:"Total Customers",activeCustomers:"Active Customers",uniqueBuyers:"Unique buyers",topRegion:"Top Region",interactiveMap:"Interactive Map",totalProducts:"Total Products",lowStock:"Low Stock Items",recentActivity:"Recent Activity",filteredOrders:"Filtered Orders",liveDashboard:"Live Dashboard",revenueComparison:"+12.5% vs last period",ordersCount:"{{count}} orders",revenue:"Revenue",governorate:"Governorate",socialMedia:"Social Media",categories:"Categories",status:"Status"},Aje={title:"Inventory",addProduct:"Add Product",productName:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",supplier:"Supplier",description:"Description",image:"Image",sellingPrice:"Selling Price (IQD)",costPrice:"Cost Price (USD)",exchangeRate:"Exchange Rate",profit:"Profit",margin:"Margin",create:"Create Product",update:"Update Product",stockStatus:{inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",instock:"In Stock",lowstock:"Low Stock",outofstock:"Out of Stock"},form:{generalInfo:"General Information",description:"Description",descriptionPlaceholder:"General product description, features, or internal notes...",gallery:"Product Gallery",addImage:"Add Image",category:"Category",status:"Status",productName:"Product Name",productNamePlaceholder:"e.g. Wireless Headset",sku:"SKU",skuPlaceholder:"e.g. WH-001",stock:"Stock",unitPrice:"Unit Price",alibabaSourcing:"Alibaba Sourcing",productLink:"Product Link",messageLink:"Message Link",orderLink:"Order Link",alibabaOrderNo:"Alibaba Order No",alibabaNote:"Alibaba Note",notePlaceholder:"Enter details...",costAndPricing:"Cost & Pricing",alibabaFee:"Alibaba Fee",exchangeRate:"Exchange Rate",margin:"Margin",shippingIQD:"Shipping (IQD)",otherFeesIQD:"Other Fees (IQD)",costTotal:"Total Cost",costPerUnit:"Cost Per Unit",recommendedPrice:"Recommended Price",finalPrice:"Final Price",manualOverride:"Manual Override Active",autoCalculated:"Auto Calculated",profitAnalysis:"Profit Analysis",iqdAnalysis:"IQD Analysis",usdAnalysis:"USD Analysis",profitPerUnit:"Profit / Unit",totalProfit:"Total Profit",qtyCalculation:"Quantity Calculation",unitsExpected:"Units Expected to Sell",selectCategory:"Select Category",createCategory:"Create New Category"},searchPlaceholder:"Search products...",confirmDelete:"Are you sure you want to delete this product?",marginTooHigh:"Margin percentage must be less than 100%",fillInfo:"Fill in the details below to add a new product.",editProduct:"Edit Product",manageCategories:"Manage Categories",categories:"Categories",table:{product:"Product",category:"Category",stock:"Stock",price:"Price",status:"Status"}},Nje={title:"Orders",createOrder:"Create Order",orderId:"Order ID",customer:"Customer",date:"Date",total:"Total",status:"Status",items:"Items",quantity:"Qty",discount:"Discount",subtotal:"Subtotal",grandTotal:"Grand Total",customerInfo:"Customer Info",shippingAddress:"Shipping Address",internalNotes:"Internal Notes",paymentMethod:"Payment Method",governorate:"Governorate",socialMedia:"Social Media",deleteConfirm:"Are you sure you want to delete this order?",searchPlaceholder:"Search orders...",stockError:"Only {{available}} units available",limitReached:"Limit reached: {{available}}",addItemsError:"Please add items to the order",customerError:"Please fill in customer name and phone",stockErrorWithName:"Not enough stock for {{name}}. Max available: {{available}}",chooseProduct:"Choose Product",searchProduct:"Search & Select Product",qty:"Qty",price:"PRICE",cartEmpty:"Your cart is empty",cartEmptySub:"Add products to start building the order",onlyLeft:"ONLY {{count}} LEFT",orderSubtotal:"Order Subtotal",applyDiscount:"APPLY DISCOUNT",noDiscount:"No Discount",offDiscount:"{{percent}}% OFF DISCOUNT",chooseCustomer:"Choose a Customer",searchCustomers:"Search customers...",createNewCustomer:"Create New Customer",fullName:"Full Name",phone:"Phone Number",gender:"Gender",social:"Social",saveOrder:"SAVE ORDER",updateOrder:"UPDATE ORDER",orderStatus:"Order Status",orderItems:"Order Items",printReceipt:"Print Receipt",editOrder:"Edit Order",receipt:{title:"Receipt",companyName:"SHAN ENTERPRISE",address:"Baghdad, Iraq",order:"Order",customer:"Customer",phone:"Phone",gov:"Gov",subtotal:"Subtotal",discount:"Discount",total:"TOTAL",thankYou:"Thank you for your business!",noReturn:"Items checked out cannot be returned.",na:"N/A"},errors:{submitError:"Failed to submit order: {{message}}",unknown:"Unknown error"},table:{orderId:"Order ID",customer:"Customer",date:"Date",total:"Total (IQD)",status:"Status"}},Ije={title:"Product Picture Gallery",subtitle:"Product Gallery",description:"Manage your product visual assets.",noProducts:"No products found matching your search.",modal:{images:"Product Images",addPhoto:"Add Photo",details:"Product Details",productTitle:"Product Title",enterTitle:"Enter product title",description:"Description",enterDescription:"Enter product description...",sellingPrice:"Selling Price",confirmDeleteImage:"Are you sure you want to delete this image?"}},Oje={title:"Customers",addCustomer:"Add Customer",name:"Name",phone:"Phone",email:"Email",address:"Address",governorate:"Governorate",social:"Social Media",totalSpent:"Total Spent",lastOrder:"Last Order",joinDate:"Join Date",orders:"Orders",location:"Location",createdOn:"Created On",actions:"Actions",noData:"No customers found",noMatch:"No customers matching filters",searchPlaceholder:"Search by name or phone...",viewTable:"Table View",viewCard:"Card View",form:{new:"New Customer",edit:"Refine Profile",sub:"Customer Database",fullName:"Full Name",phone:"Phone Number",email:"Email (Optional)",governorate:"Governorate",channel:"Channel",shippingAddress:"Shipping Address",save:"Save Profile",register:"Register Customer"},history:{title:"Transaction Logs",customer:"Customer",noRecords:"No Active Records Found",paymentMethod:"Payment Method",itemsCount:"Items Count",printThermal:"Print Thermal Receipt"},receipt:{title:"Order Receipt",order:"Order",customer:"Customer",date:"Date",status:"Status",item:"Item",qty:"Qty",price:"Price",total:"Total"}},Cje={title:"Settings",general:"General",account:"Account",appearance:"Appearance",users:"User Management",language:"Language",saveChanges:"Save Changes",branding:"Branding",appHeader:"Application Header",appHeaderDesc:"Show or hide the top navigation header",saveBranding:"Save Branding Settings",appName:"Application Name",logo:"Logo",logoAndFavicon:"Logo & Favicon",uploadLogo:"Upload Logo",uploadFavicon:"Upload Favicon",logoSize:"Recommended size: 512x512px. Max 3MB.",removeLogo:"Remove Logo",removeFavicon:"Remove Favicon",themeOptions:"Theme Options",themes:{liquid:"Liquid Glass",liquidDesc:"Apple macOS style",light:"Pro Light",lightDesc:"Clean & minimal",dark:"Pro Dark",darkDesc:"Deep & elegant"},accentCustomization:"Accent Customization",solid:"Solid",gradient:"Gradient",customColor:"Custom Color",gradients:{royal:"Royal",sunset:"Sunset",aurora:"Aurora",vibrant:"Vibrant"},customDualColors:"Custom Dual Colors",start:"Start",end:"End",livePreview:"Live Preview",contentLayoutExample:"Content Layout Example",primaryButton:"Primary Button",toggleSwitch:"Toggle Switch",accountSettings:"Account Settings",changeAvatar:"Change Avatar",avatarFormat:"JPG, GIF or PNG. Max size of 3MB",emailAddress:"Email Address",avatarRecommendedSize:"JPG, GIF or PNG. Max size of 3MB",displayName:"Display Name",username:"Username",securitySettings:"Security Settings",password:"Password",passwordDescription:"Change your password to keep your account safe.",changePassword:"Change Password",addUser:"Add User",editUser:"Edit User",addNewUser:"Add New User",updateUser:"Update User",createUser:"Create User",confirmDeleteUser:"Are you sure you want to delete this user?",table:{user:"User",email:"Email",role:"Role"},placeholders:{displayName:"Display Name",username:"Username",email:"Email",password:"Password",passwordKeep:"Password (leave blank to keep)",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password"},toasts:{profileUpdated:"Profile updated successfully!",avatarTooLarge:"Avatar too large. Max 3MB.",brandingSaved:"Branding settings saved successfully!",fileTooLarge:"File too large. Max 3MB.",userUpdated:"User updated successfully!",userCreated:"User created successfully!",passwordChanged:"Password changed successfully!"}},jje={menu:Sje,header:Eje,user:kje,common:Tje,dashboard:Pje,products:Aje,orders:Nje,productPicture:Ije,customers:Oje,settings:Cje},Rje={mainMenu:" ",dashboard:" ",inventory:"",productPicture:" ",orders:"",customers:"",settings:"",logout:" "},Mje={welcome:" ",admin:"",switchMode:"   {{mode}}",activityLogs:" ",new:"",viewAllActivity:"  "},Dje={defaultName:"",defaultRole:""},$je={loading:" ...",error:"",success:" ",save:"",saving:" ...",cancel:"",delete:"",edit:"",view:"",search:"...",actions:"",noData:"  ",noDataToExport:"   ",clearFilters:" ",exportCSV:" CSV",print:"",confirmDelete:"    ",yes:"",no:"",status:{processing:" ",completed:"",cancelled:"",pending:" ",shipped:" ",delivered:" ",returned:""},sort:"",dateNew:" ",dateOld:" ",priceHigh:" ",priceLow:" ",nameAZ:" (-)",male:"",female:"",showRows:" ",custom:"",select:"...",cashOnDelivery:"  ",perUnit:" "},Lje={title:" ",live:"  ",totalRevenue:" ",revenueTrend:" ",totalOrders:" ",ordersPlaced:" ",totalCustomers:" ",activeCustomers:" ",uniqueBuyers:" ",topRegion:" ",interactiveMap:" ",totalProducts:" ",lowStock:"  ",recentActivity:" ",filteredOrders:" ",liveDashboard:"  ",revenueComparison:"+12.5%   ",ordersCount:"{{count}} ",revenue:"",governorate:"",socialMedia:" ",categories:"",status:""},Fje={title:"",addProduct:" ",productName:" ",category:"",price:"",stock:"",status:"",supplier:"",description:"",image:"",sellingPrice:"  (.)",costPrice:"  ()",exchangeRate:" ",profit:"",margin:"",create:" ",update:" ",stockStatus:{inStock:"",lowStock:" ",outOfStock:" ",instock:"",lowstock:" ",outofstock:" "},form:{generalInfo:" ",description:"",descriptionPlaceholder:"     ...",gallery:" ",addImage:" ",category:"",status:"",productName:" ",productNamePlaceholder:":  ",sku:"  (SKU)",skuPlaceholder:": WH-001",stock:"",unitPrice:" ",alibabaSourcing:"  ",productLink:" ",messageLink:" ",orderLink:" ",alibabaOrderNo:"   ",alibabaNote:"  ",notePlaceholder:" ...",costAndPricing:" ",alibabaFee:"  ",exchangeRate:" ",margin:" ",shippingIQD:" (.)",otherFeesIQD:"  (.)",costTotal:" ",costPerUnit:" ",recommendedPrice:" ",finalPrice:" ",manualOverride:"  ",autoCalculated:" ",profitAnalysis:" ",iqdAnalysis:"  ",usdAnalysis:"  ",profitPerUnit:" / ",totalProfit:" ",qtyCalculation:" ",unitsExpected:"  ",selectCategory:" ",createCategory:"  "},searchPlaceholder:"  ...",confirmDelete:"      ",marginTooHigh:"       100%",fillInfo:"     .",editProduct:" ",manageCategories:" ",categories:"",table:{product:"",category:"",stock:"",price:"",status:""}},Vje={title:"",createOrder:" ",orderId:" ",customer:"",date:"",total:"",status:"",items:"",quantity:"",discount:"",subtotal:" ",grandTotal:" ",customerInfo:" ",shippingAddress:" ",internalNotes:" ",paymentMethod:" ",governorate:"",socialMedia:" ",deleteConfirm:"      ",searchPlaceholder:"  ...",stockError:" {{available}}  ",limitReached:"  : {{available}}",addItemsError:"   ",customerError:"    ",stockErrorWithName:"     {{name}}. : {{available}}",chooseProduct:" ",searchProduct:"  ",qty:"",price:"",cartEmpty:" ",cartEmptySub:"     ",onlyLeft:" {{count}} ",orderSubtotal:" ",applyDiscount:" ",noDiscount:" ",offDiscount:" {{percent}}%",chooseCustomer:" ",searchCustomers:"  ...",createNewCustomer:"  ",fullName:" ",phone:" ",gender:"",social:" ",saveOrder:" ",updateOrder:" ",orderStatus:" ",orderItems:" ",printReceipt:" ",editOrder:" ",receipt:{title:" ",companyName:"SHAN ENTERPRISE",address:" ",order:"",customer:"",phone:"",gov:"",subtotal:" ",discount:"",total:"",thankYou:"  !",noReturn:"     .",na:" "},errors:{submitError:"   : {{message}}",unknown:"  "},table:{orderId:" ",customer:"",date:"",total:" (.)",status:""}},Uje={title:"  ",subtitle:" ",description:"   .",noProducts:"      .",modal:{images:" ",addPhoto:" ",details:" ",productTitle:" ",enterTitle:"  ",description:"",enterDescription:"  ...",sellingPrice:" ",confirmDeleteImage:"      "}},Bje={title:"",addCustomer:" ",name:"",phone:"",email:" ",address:"",governorate:"",social:" ",totalSpent:" ",lastOrder:" ",joinDate:" ",orders:"",location:"",createdOn:" ",actions:"",noData:"  ",noMatch:"   ",searchPlaceholder:"   ...",viewTable:" ",viewCard:" ",form:{new:" ",edit:" ",sub:"  ",fullName:" ",phone:" ",email:"  ()",governorate:"",channel:"",shippingAddress:" ",save:" ",register:" "},history:{title:" ",customer:"",noRecords:"   ",paymentMethod:" ",itemsCount:" ",printThermal:"  "},receipt:{title:" ",order:"",customer:"",date:"",status:"",item:"",qty:"",price:"",total:""}},zje={title:"",general:"",account:"",appearance:"",users:" ",language:"",saveChanges:" ",branding:" ",appHeader:" ",appHeaderDesc:"     ",saveBranding:"   ",appName:" ",logo:"",logoAndFavicon:" ",uploadLogo:" ",uploadFavicon:" ",logoSize:"  : 512x512 .   3 .",removeLogo:" ",removeFavicon:" ",themeOptions:" ",themes:{liquid:" ",liquidDesc:"  ",light:" ",lightDesc:" ",dark:" ",darkDesc:" "},accentCustomization:"  ",solid:" ",gradient:" ",customColor:" ",gradients:{royal:"",sunset:"",aurora:"",vibrant:""},customDualColors:"  ",start:"",end:"",livePreview:" ",contentLayoutExample:"  ",primaryButton:" ",toggleSwitch:" ",accountSettings:" ",changeAvatar:"  ",avatarFormat:"JPG GIF  PNG.   3 ",emailAddress:" ",avatarRecommendedSize:"JPG GIF  PNG.   3 ",displayName:" ",username:" ",securitySettings:" ",password:" ",passwordDescription:"      .",changePassword:"  ",addUser:" ",editUser:" ",addNewUser:"  ",updateUser:" ",createUser:" ",confirmDeleteUser:"      ",table:{user:"",email:" ",role:""},placeholders:{displayName:" ",username:" ",email:" ",password:" ",passwordKeep:"  (   )",currentPassword:"  ",newPassword:"  ",confirmPassword:"   "},toasts:{profileUpdated:"    !",avatarTooLarge:"  .   3 .",brandingSaved:"     !",fileTooLarge:"  .   3 .",userUpdated:"   !",userCreated:"   !",passwordChanged:"    !"}},qje={menu:Rje,header:Mje,user:Dje,common:$je,dashboard:Lje,products:Fje,orders:Vje,productPicture:Uje,customers:Bje,settings:zje};gn.use(O9).use(Cee).init({resources:{en:{translation:jje},ar:{translation:qje}},fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}}).then(()=>{const t=gn.language==="ar"?"rtl":"ltr";document.dir=t,document.documentElement.lang=gn.language});gn.on("languageChanged",t=>{const e=t==="ar"?"rtl":"ltr";document.dir=e,document.documentElement.lang=t});Mw.createRoot(document.getElementById("root")).render(f.jsx(z.StrictMode,{children:f.jsx(oje,{})}));
