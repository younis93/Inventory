function mz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var F4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NC={exports:{}},cg={},AC={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh=Symbol.for("react.element"),gz=Symbol.for("react.portal"),yz=Symbol.for("react.fragment"),vz=Symbol.for("react.strict_mode"),xz=Symbol.for("react.profiler"),bz=Symbol.for("react.provider"),wz=Symbol.for("react.context"),_z=Symbol.for("react.forward_ref"),Sz=Symbol.for("react.suspense"),Ez=Symbol.for("react.memo"),kz=Symbol.for("react.lazy"),N_=Symbol.iterator;function Pz(t){return t===null||typeof t!="object"?null:(t=N_&&t[N_]||t["@@iterator"],typeof t=="function"?t:null)}var IC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CC=Object.assign,OC={};function fu(t,e,n){this.props=t,this.context=e,this.refs=OC,this.updater=n||IC}fu.prototype.isReactComponent={};fu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jC(){}jC.prototype=fu.prototype;function q9(t,e,n){this.props=t,this.context=e,this.refs=OC,this.updater=n||IC}var W9=q9.prototype=new jC;W9.constructor=q9;CC(W9,fu.prototype);W9.isPureReactComponent=!0;var A_=Array.isArray,RC=Object.prototype.hasOwnProperty,H9={current:null},MC={key:!0,ref:!0,__self:!0,__source:!0};function $C(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)RC.call(e,r)&&!MC.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Yh,type:t,key:a,ref:s,props:i,_owner:H9.current}}function Tz(t,e){return{$$typeof:Yh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G9(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yh}function Nz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I_=/\/+/g;function l5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nz(""+t.key):e.toString(36)}function Up(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Yh:case gz:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+l5(s,0):r,A_(i)?(n="",t!=null&&(n=t.replace(I_,"$&/")+"/"),Up(i,e,n,"",function(c){return c})):i!=null&&(G9(i)&&(i=Tz(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(I_,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",A_(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+l5(a,o);s+=Up(a,e,n,l,i)}else if(l=Pz(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+l5(a,o++),s+=Up(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function V4(t,e,n){if(t==null)return t;var r=[],i=0;return Up(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Az(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wr={current:null},Bp={transition:null},Iz={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:Bp,ReactCurrentOwner:H9};function DC(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:V4,forEach:function(t,e,n){V4(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return V4(t,function(){e++}),e},toArray:function(t){return V4(t,function(e){return e})||[]},only:function(t){if(!G9(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rt.Component=fu;rt.Fragment=yz;rt.Profiler=xz;rt.PureComponent=q9;rt.StrictMode=vz;rt.Suspense=Sz;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iz;rt.act=DC;rt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CC({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=H9.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)RC.call(e,l)&&!MC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Yh,type:t.type,key:i,ref:a,props:r,_owner:s}};rt.createContext=function(t){return t={$$typeof:wz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bz,_context:t},t.Consumer=t};rt.createElement=$C;rt.createFactory=function(t){var e=$C.bind(null,t);return e.type=t,e};rt.createRef=function(){return{current:null}};rt.forwardRef=function(t){return{$$typeof:_z,render:t}};rt.isValidElement=G9;rt.lazy=function(t){return{$$typeof:kz,_payload:{_status:-1,_result:t},_init:Az}};rt.memo=function(t,e){return{$$typeof:Ez,type:t,compare:e===void 0?null:e}};rt.startTransition=function(t){var e=Bp.transition;Bp.transition={};try{t()}finally{Bp.transition=e}};rt.unstable_act=DC;rt.useCallback=function(t,e){return wr.current.useCallback(t,e)};rt.useContext=function(t){return wr.current.useContext(t)};rt.useDebugValue=function(){};rt.useDeferredValue=function(t){return wr.current.useDeferredValue(t)};rt.useEffect=function(t,e){return wr.current.useEffect(t,e)};rt.useId=function(){return wr.current.useId()};rt.useImperativeHandle=function(t,e,n){return wr.current.useImperativeHandle(t,e,n)};rt.useInsertionEffect=function(t,e){return wr.current.useInsertionEffect(t,e)};rt.useLayoutEffect=function(t,e){return wr.current.useLayoutEffect(t,e)};rt.useMemo=function(t,e){return wr.current.useMemo(t,e)};rt.useReducer=function(t,e,n){return wr.current.useReducer(t,e,n)};rt.useRef=function(t){return wr.current.useRef(t)};rt.useState=function(t){return wr.current.useState(t)};rt.useSyncExternalStore=function(t,e,n){return wr.current.useSyncExternalStore(t,e,n)};rt.useTransition=function(){return wr.current.useTransition()};rt.version="18.3.1";AC.exports=rt;var R=AC.exports;const B=jt(R),Cz=mz({__proto__:null,default:B},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oz=R,jz=Symbol.for("react.element"),Rz=Symbol.for("react.fragment"),Mz=Object.prototype.hasOwnProperty,$z=Oz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dz={key:!0,ref:!0,__self:!0,__source:!0};function LC(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Mz.call(e,r)&&!Dz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jz,type:t,key:a,ref:s,props:i,_owner:$z.current}}cg.Fragment=Rz;cg.jsx=LC;cg.jsxs=LC;NC.exports=cg;var f=NC.exports,H6={},FC={exports:{}},ii={},VC={exports:{}},UC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var H=F.length;F.push(U);e:for(;0<H;){var G=H-1>>>1,K=F[G];if(0<i(K,U))F[G]=U,F[H]=K,H=G;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],H=F.pop();if(H!==U){F[0]=H;e:for(var G=0,K=F.length,ne=K>>>1;G<ne;){var ce=2*(G+1)-1,pe=F[ce],ee=ce+1,we=F[ee];if(0>i(pe,H))ee<K&&0>i(we,pe)?(F[G]=we,F[ee]=H,G=ee):(F[G]=pe,F[ce]=H,G=ce);else if(ee<K&&0>i(we,H))F[G]=we,F[ee]=H,G=ee;else break e}}return U}function i(F,U){var H=F.sortIndex-U.sortIndex;return H!==0?H:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=F)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function _(F){if(x=!1,w(F),!g)if(n(l)!==null)g=!0,D(S);else{var U=n(c);U!==null&&V(_,U.startTime-F)}}function S(F,U){g=!1,x&&(x=!1,v(k),k=-1),p=!0;var H=h;try{for(w(U),d=n(l);d!==null&&(!(d.expirationTime>U)||F&&!A());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var K=G(d.expirationTime<=U);U=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),w(U)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var ce=n(c);ce!==null&&V(_,ce.startTime-U),ne=!1}return ne}finally{d=null,h=H,p=!1}}var P=!1,E=null,k=-1,N=5,I=-1;function A(){return!(t.unstable_now()-I<N)}function j(){if(E!==null){var F=t.unstable_now();I=F;var U=!0;try{U=E(!0,F)}finally{U?O():(P=!1,E=null)}}else P=!1}var O;if(typeof b=="function")O=function(){b(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,M=$.port2;$.port1.onmessage=j,O=function(){M.postMessage(null)}}else O=function(){y(j,0)};function D(F){E=F,P||(P=!0,O())}function V(F,U){k=y(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,D(S))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var H=h;h=U;try{return F()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=h;h=F;try{return U()}finally{h=H}},t.unstable_scheduleCallback=function(F,U,H){var G=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=H+K,F={id:u++,callback:U,priorityLevel:F,startTime:H,expirationTime:K,sortIndex:-1},H>G?(F.sortIndex=H,e(c,F),n(l)===null&&F===n(c)&&(x?(v(k),k=-1):x=!0,V(_,H-G))):(F.sortIndex=K,e(l,F),g||p||(g=!0,D(S))),F},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(F){var U=h;return function(){var H=h;h=U;try{return F.apply(this,arguments)}finally{h=H}}}})(UC);VC.exports=UC;var Lz=VC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fz=R,ei=Lz;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BC=new Set,Ef={};function ol(t,e){_c(t,e),_c(t+"Capture",e)}function _c(t,e){for(Ef[t]=e,t=0;t<e.length;t++)BC.add(e[t])}var h0=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G6=Object.prototype.hasOwnProperty,Vz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C_={},O_={};function Uz(t){return G6.call(O_,t)?!0:G6.call(C_,t)?!1:Vz.test(t)?O_[t]=!0:(C_[t]=!0,!1)}function Bz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zz(t,e,n,r){if(e===null||typeof e>"u"||Bz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _r(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qn[t]=new _r(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qn[e]=new _r(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qn[t]=new _r(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qn[t]=new _r(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qn[t]=new _r(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qn[t]=new _r(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qn[t]=new _r(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qn[t]=new _r(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qn[t]=new _r(t,5,!1,t.toLowerCase(),null,!1,!1)});var K9=/[\-:]([a-z])/g;function Y9(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(K9,Y9);qn[e]=new _r(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(K9,Y9);qn[e]=new _r(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(K9,Y9);qn[e]=new _r(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qn[t]=new _r(t,1,!1,t.toLowerCase(),null,!1,!1)});qn.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qn[t]=new _r(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q9(t,e,n,r){var i=qn.hasOwnProperty(e)?qn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zz(e,n,i,r)&&(n=null),r||i===null?Uz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var T0=Fz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U4=Symbol.for("react.element"),Dl=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),X9=Symbol.for("react.strict_mode"),K6=Symbol.for("react.profiler"),zC=Symbol.for("react.provider"),qC=Symbol.for("react.context"),J9=Symbol.for("react.forward_ref"),Y6=Symbol.for("react.suspense"),Q6=Symbol.for("react.suspense_list"),Z9=Symbol.for("react.memo"),q0=Symbol.for("react.lazy"),WC=Symbol.for("react.offscreen"),j_=Symbol.iterator;function Qu(t){return t===null||typeof t!="object"?null:(t=j_&&t[j_]||t["@@iterator"],typeof t=="function"?t:null)}var en=Object.assign,c5;function kd(t){if(c5===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);c5=e&&e[1]||""}return`
`+c5+t}var u5=!1;function d5(t,e){if(!t||u5)return"";u5=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{u5=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kd(t):""}function qz(t){switch(t.tag){case 5:return kd(t.type);case 16:return kd("Lazy");case 13:return kd("Suspense");case 19:return kd("SuspenseList");case 0:case 2:case 15:return t=d5(t.type,!1),t;case 11:return t=d5(t.type.render,!1),t;case 1:return t=d5(t.type,!0),t;default:return""}}function X6(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ll:return"Fragment";case Dl:return"Portal";case K6:return"Profiler";case X9:return"StrictMode";case Y6:return"Suspense";case Q6:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qC:return(t.displayName||"Context")+".Consumer";case zC:return(t._context.displayName||"Context")+".Provider";case J9:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z9:return e=t.displayName||null,e!==null?e:X6(t.type)||"Memo";case q0:e=t._payload,t=t._init;try{return X6(t(e))}catch{}}return null}function Wz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X6(e);case 8:return e===X9?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hz(t){var e=HC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function B4(t){t._valueTracker||(t._valueTracker=Hz(t))}function GC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=HC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function b3(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function J6(t,e){var n=e.checked;return en({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function R_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ps(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KC(t,e){e=e.checked,e!=null&&Q9(t,"checked",e,!1)}function Z6(t,e){KC(t,e);var n=Ps(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ey(t,e.type,n):e.hasOwnProperty("defaultValue")&&ey(t,e.type,Ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function M_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ey(t,e,n){(e!=="number"||b3(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pd=Array.isArray;function rc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ps(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ty(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return en({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(Pd(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ps(n)}}function YC(t,e){var n=Ps(e.value),r=Ps(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ny(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var z4,XC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(z4=z4||document.createElement("div"),z4.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=z4.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gz=["Webkit","ms","Moz","O"];Object.keys(Qd).forEach(function(t){Gz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qd[e]=Qd[t]})});function JC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qd.hasOwnProperty(t)&&Qd[t]?(""+e).trim():e+"px"}function ZC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Kz=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ry(t,e){if(e){if(Kz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function iy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ay=null;function e8(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sy=null,ic=null,ac=null;function L_(t){if(t=Jh(t)){if(typeof sy!="function")throw Error(he(280));var e=t.stateNode;e&&(e=pg(e),sy(t.stateNode,t.type,e))}}function eO(t){ic?ac?ac.push(t):ac=[t]:ic=t}function tO(){if(ic){var t=ic,e=ac;if(ac=ic=null,L_(t),e)for(t=0;t<e.length;t++)L_(e[t])}}function nO(t,e){return t(e)}function rO(){}var f5=!1;function iO(t,e,n){if(f5)return t(e,n);f5=!0;try{return nO(t,e,n)}finally{f5=!1,(ic!==null||ac!==null)&&(rO(),tO())}}function Pf(t,e){var n=t.stateNode;if(n===null)return null;var r=pg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var oy=!1;if(h0)try{var Xu={};Object.defineProperty(Xu,"passive",{get:function(){oy=!0}}),window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{oy=!1}function Yz(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Xd=!1,w3=null,_3=!1,ly=null,Qz={onError:function(t){Xd=!0,w3=t}};function Xz(t,e,n,r,i,a,s,o,l){Xd=!1,w3=null,Yz.apply(Qz,arguments)}function Jz(t,e,n,r,i,a,s,o,l){if(Xz.apply(this,arguments),Xd){if(Xd){var c=w3;Xd=!1,w3=null}else throw Error(he(198));_3||(_3=!0,ly=c)}}function ll(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F_(t){if(ll(t)!==t)throw Error(he(188))}function Zz(t){var e=t.alternate;if(!e){if(e=ll(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return F_(i),t;if(a===r)return F_(i),e;a=a.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function sO(t){return t=Zz(t),t!==null?oO(t):null}function oO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oO(t);if(e!==null)return e;t=t.sibling}return null}var lO=ei.unstable_scheduleCallback,V_=ei.unstable_cancelCallback,eq=ei.unstable_shouldYield,tq=ei.unstable_requestPaint,cn=ei.unstable_now,nq=ei.unstable_getCurrentPriorityLevel,t8=ei.unstable_ImmediatePriority,cO=ei.unstable_UserBlockingPriority,S3=ei.unstable_NormalPriority,rq=ei.unstable_LowPriority,uO=ei.unstable_IdlePriority,ug=null,_a=null;function iq(t){if(_a&&typeof _a.onCommitFiberRoot=="function")try{_a.onCommitFiberRoot(ug,t,void 0,(t.current.flags&128)===128)}catch{}}var Qi=Math.clz32?Math.clz32:oq,aq=Math.log,sq=Math.LN2;function oq(t){return t>>>=0,t===0?32:31-(aq(t)/sq|0)|0}var q4=64,W4=4194304;function Td(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function E3(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Td(o):(a&=s,a!==0&&(r=Td(a)))}else s=n&~i,s!==0?r=Td(s):a!==0&&(r=Td(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qi(e),i=1<<n,r|=t[n],e&=~i;return r}function lq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cq(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Qi(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=lq(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function cy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dO(){var t=q4;return q4<<=1,!(q4&4194240)&&(q4=64),t}function h5(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qi(e),t[e]=n}function uq(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qi(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function n8(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var kt=0;function fO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hO,r8,pO,mO,gO,uy=!1,H4=[],os=null,ls=null,cs=null,Tf=new Map,Nf=new Map,Y0=[],dq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U_(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Tf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nf.delete(e.pointerId)}}function Ju(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Jh(e),e!==null&&r8(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fq(t,e,n,r,i){switch(e){case"focusin":return os=Ju(os,t,e,n,r,i),!0;case"dragenter":return ls=Ju(ls,t,e,n,r,i),!0;case"mouseover":return cs=Ju(cs,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tf.set(a,Ju(Tf.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nf.set(a,Ju(Nf.get(a)||null,t,e,n,r,i)),!0}return!1}function yO(t){var e=yo(t.target);if(e!==null){var n=ll(e);if(n!==null){if(e=n.tag,e===13){if(e=aO(n),e!==null){t.blockedOn=e,gO(t.priority,function(){pO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ay=r,n.target.dispatchEvent(r),ay=null}else return e=Jh(n),e!==null&&r8(e),t.blockedOn=n,!1;e.shift()}return!0}function B_(t,e,n){zp(t)&&n.delete(e)}function hq(){uy=!1,os!==null&&zp(os)&&(os=null),ls!==null&&zp(ls)&&(ls=null),cs!==null&&zp(cs)&&(cs=null),Tf.forEach(B_),Nf.forEach(B_)}function Zu(t,e){t.blockedOn===e&&(t.blockedOn=null,uy||(uy=!0,ei.unstable_scheduleCallback(ei.unstable_NormalPriority,hq)))}function Af(t){function e(i){return Zu(i,t)}if(0<H4.length){Zu(H4[0],t);for(var n=1;n<H4.length;n++){var r=H4[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&Zu(os,t),ls!==null&&Zu(ls,t),cs!==null&&Zu(cs,t),Tf.forEach(e),Nf.forEach(e),n=0;n<Y0.length;n++)r=Y0[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Y0.length&&(n=Y0[0],n.blockedOn===null);)yO(n),n.blockedOn===null&&Y0.shift()}var sc=T0.ReactCurrentBatchConfig,k3=!0;function pq(t,e,n,r){var i=kt,a=sc.transition;sc.transition=null;try{kt=1,i8(t,e,n,r)}finally{kt=i,sc.transition=a}}function mq(t,e,n,r){var i=kt,a=sc.transition;sc.transition=null;try{kt=4,i8(t,e,n,r)}finally{kt=i,sc.transition=a}}function i8(t,e,n,r){if(k3){var i=dy(t,e,n,r);if(i===null)S5(t,e,r,P3,n),U_(t,r);else if(fq(i,t,e,n,r))r.stopPropagation();else if(U_(t,r),e&4&&-1<dq.indexOf(t)){for(;i!==null;){var a=Jh(i);if(a!==null&&hO(a),a=dy(t,e,n,r),a===null&&S5(t,e,r,P3,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else S5(t,e,r,null,n)}}var P3=null;function dy(t,e,n,r){if(P3=null,t=e8(r),t=yo(t),t!==null)if(e=ll(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return P3=t,null}function vO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nq()){case t8:return 1;case cO:return 4;case S3:case rq:return 16;case uO:return 536870912;default:return 16}default:return 16}}var ts=null,a8=null,qp=null;function xO(){if(qp)return qp;var t,e=a8,n=e.length,r,i="value"in ts?ts.value:ts.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return qp=i.slice(t,1<r?1-r:void 0)}function Wp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function G4(){return!0}function z_(){return!1}function ai(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?G4:z_,this.isPropagationStopped=z_,this}return en(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=G4)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=G4)},persist:function(){},isPersistent:G4}),e}var hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s8=ai(hu),Xh=en({},hu,{view:0,detail:0}),gq=ai(Xh),p5,m5,ed,dg=en({},Xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o8,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ed&&(ed&&t.type==="mousemove"?(p5=t.screenX-ed.screenX,m5=t.screenY-ed.screenY):m5=p5=0,ed=t),p5)},movementY:function(t){return"movementY"in t?t.movementY:m5}}),q_=ai(dg),yq=en({},dg,{dataTransfer:0}),vq=ai(yq),xq=en({},Xh,{relatedTarget:0}),g5=ai(xq),bq=en({},hu,{animationName:0,elapsedTime:0,pseudoElement:0}),wq=ai(bq),_q=en({},hu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sq=ai(_q),Eq=en({},hu,{data:0}),W_=ai(Eq),kq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tq[t])?!!e[t]:!1}function o8(){return Nq}var Aq=en({},Xh,{key:function(t){if(t.key){var e=kq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o8,charCode:function(t){return t.type==="keypress"?Wp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iq=ai(Aq),Cq=en({},dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H_=ai(Cq),Oq=en({},Xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o8}),jq=ai(Oq),Rq=en({},hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mq=ai(Rq),$q=en({},dg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dq=ai($q),Lq=[9,13,27,32],l8=h0&&"CompositionEvent"in window,Jd=null;h0&&"documentMode"in document&&(Jd=document.documentMode);var Fq=h0&&"TextEvent"in window&&!Jd,bO=h0&&(!l8||Jd&&8<Jd&&11>=Jd),G_=" ",K_=!1;function wO(t,e){switch(t){case"keyup":return Lq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _O(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fl=!1;function Vq(t,e){switch(t){case"compositionend":return _O(e);case"keypress":return e.which!==32?null:(K_=!0,G_);case"textInput":return t=e.data,t===G_&&K_?null:t;default:return null}}function Uq(t,e){if(Fl)return t==="compositionend"||!l8&&wO(t,e)?(t=xO(),qp=a8=ts=null,Fl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bO&&e.locale!=="ko"?null:e.data;default:return null}}var Bq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bq[t.type]:e==="textarea"}function SO(t,e,n,r){eO(r),e=T3(e,"onChange"),0<e.length&&(n=new s8("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zd=null,If=null;function zq(t){RO(t,0)}function fg(t){var e=Bl(t);if(GC(e))return t}function qq(t,e){if(t==="change")return e}var EO=!1;if(h0){var y5;if(h0){var v5="oninput"in document;if(!v5){var Q_=document.createElement("div");Q_.setAttribute("oninput","return;"),v5=typeof Q_.oninput=="function"}y5=v5}else y5=!1;EO=y5&&(!document.documentMode||9<document.documentMode)}function X_(){Zd&&(Zd.detachEvent("onpropertychange",kO),If=Zd=null)}function kO(t){if(t.propertyName==="value"&&fg(If)){var e=[];SO(e,If,t,e8(t)),iO(zq,e)}}function Wq(t,e,n){t==="focusin"?(X_(),Zd=e,If=n,Zd.attachEvent("onpropertychange",kO)):t==="focusout"&&X_()}function Hq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fg(If)}function Gq(t,e){if(t==="click")return fg(e)}function Kq(t,e){if(t==="input"||t==="change")return fg(e)}function Yq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ta=typeof Object.is=="function"?Object.is:Yq;function Cf(t,e){if(ta(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!G6.call(e,i)||!ta(t[i],e[i]))return!1}return!0}function J_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z_(t,e){var n=J_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J_(n)}}function PO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TO(){for(var t=window,e=b3();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=b3(t.document)}return e}function c8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qq(t){var e=TO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PO(n.ownerDocument.documentElement,n)){if(r!==null&&c8(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=Z_(n,a);var s=Z_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xq=h0&&"documentMode"in document&&11>=document.documentMode,Vl=null,fy=null,ef=null,hy=!1;function eS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hy||Vl==null||Vl!==b3(r)||(r=Vl,"selectionStart"in r&&c8(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ef&&Cf(ef,r)||(ef=r,r=T3(fy,"onSelect"),0<r.length&&(e=new s8("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vl)))}function K4(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ul={animationend:K4("Animation","AnimationEnd"),animationiteration:K4("Animation","AnimationIteration"),animationstart:K4("Animation","AnimationStart"),transitionend:K4("Transition","TransitionEnd")},x5={},NO={};h0&&(NO=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function hg(t){if(x5[t])return x5[t];if(!Ul[t])return t;var e=Ul[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NO)return x5[t]=e[n];return t}var AO=hg("animationend"),IO=hg("animationiteration"),CO=hg("animationstart"),OO=hg("transitionend"),jO=new Map,tS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(t,e){jO.set(t,e),ol(e,[t])}for(var b5=0;b5<tS.length;b5++){var w5=tS[b5],Jq=w5.toLowerCase(),Zq=w5[0].toUpperCase()+w5.slice(1);Ds(Jq,"on"+Zq)}Ds(AO,"onAnimationEnd");Ds(IO,"onAnimationIteration");Ds(CO,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(OO,"onTransitionEnd");_c("onMouseEnter",["mouseout","mouseover"]);_c("onMouseLeave",["mouseout","mouseover"]);_c("onPointerEnter",["pointerout","pointerover"]);_c("onPointerLeave",["pointerout","pointerover"]);ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nd));function nS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Jz(r,e,void 0,t),t.currentTarget=null}function RO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;nS(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;nS(i,o,c),a=l}}}if(_3)throw t=ly,_3=!1,ly=null,t}function Ut(t,e){var n=e[vy];n===void 0&&(n=e[vy]=new Set);var r=t+"__bubble";n.has(r)||(MO(e,t,2,!1),n.add(r))}function _5(t,e,n){var r=0;e&&(r|=4),MO(n,t,r,e)}var Y4="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[Y4]){t[Y4]=!0,BC.forEach(function(n){n!=="selectionchange"&&(eW.has(n)||_5(n,!1,t),_5(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Y4]||(e[Y4]=!0,_5("selectionchange",!1,e))}}function MO(t,e,n,r){switch(vO(e)){case 1:var i=pq;break;case 4:i=mq;break;default:i=i8}n=i.bind(null,e,n,t),i=void 0,!oy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function S5(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=yo(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}iO(function(){var c=a,u=e8(n),d=[];e:{var h=jO.get(t);if(h!==void 0){var p=s8,g=t;switch(t){case"keypress":if(Wp(n)===0)break e;case"keydown":case"keyup":p=Iq;break;case"focusin":g="focus",p=g5;break;case"focusout":g="blur",p=g5;break;case"beforeblur":case"afterblur":p=g5;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=q_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jq;break;case AO:case IO:case CO:p=wq;break;case OO:p=Mq;break;case"scroll":p=gq;break;case"wheel":p=Dq;break;case"copy":case"cut":case"paste":p=Sq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=H_}var x=(e&4)!==0,y=!x&&t==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var b=c,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,v!==null&&(_=Pf(b,v),_!=null&&x.push(jf(b,_,w)))),y)break;b=b.return}0<x.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==ay&&(g=n.relatedTarget||n.fromElement)&&(yo(g)||g[p0]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?yo(g):null,g!==null&&(y=ll(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(x=q_,_="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=H_,_="onPointerLeave",v="onPointerEnter",b="pointer"),y=p==null?h:Bl(p),w=g==null?h:Bl(g),h=new x(_,b+"leave",p,n,u),h.target=y,h.relatedTarget=w,_=null,yo(u)===c&&(x=new x(v,b+"enter",g,n,u),x.target=w,x.relatedTarget=y,_=x),y=_,p&&g)t:{for(x=p,v=g,b=0,w=x;w;w=El(w))b++;for(w=0,_=v;_;_=El(_))w++;for(;0<b-w;)x=El(x),b--;for(;0<w-b;)v=El(v),w--;for(;b--;){if(x===v||v!==null&&x===v.alternate)break t;x=El(x),v=El(v)}x=null}else x=null;p!==null&&rS(d,h,p,x,!1),g!==null&&y!==null&&rS(d,y,g,x,!0)}}e:{if(h=c?Bl(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=qq;else if(Y_(h))if(EO)S=Kq;else{S=Hq;var P=Wq}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Gq);if(S&&(S=S(t,c))){SO(d,S,n,u);break e}P&&P(t,h,c),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&ey(h,"number",h.value)}switch(P=c?Bl(c):window,t){case"focusin":(Y_(P)||P.contentEditable==="true")&&(Vl=P,fy=c,ef=null);break;case"focusout":ef=fy=Vl=null;break;case"mousedown":hy=!0;break;case"contextmenu":case"mouseup":case"dragend":hy=!1,eS(d,n,u);break;case"selectionchange":if(Xq)break;case"keydown":case"keyup":eS(d,n,u)}var E;if(l8)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Fl?wO(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(bO&&n.locale!=="ko"&&(Fl||k!=="onCompositionStart"?k==="onCompositionEnd"&&Fl&&(E=xO()):(ts=u,a8="value"in ts?ts.value:ts.textContent,Fl=!0)),P=T3(c,k),0<P.length&&(k=new W_(k,t,null,n,u),d.push({event:k,listeners:P}),E?k.data=E:(E=_O(n),E!==null&&(k.data=E)))),(E=Fq?Vq(t,n):Uq(t,n))&&(c=T3(c,"onBeforeInput"),0<c.length&&(u=new W_("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}RO(d,e)})}function jf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function T3(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Pf(t,n),a!=null&&r.unshift(jf(t,a,i)),a=Pf(t,e),a!=null&&r.push(jf(t,a,i))),t=t.return}return r}function El(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rS(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Pf(n,a),l!=null&&s.unshift(jf(n,l,o))):i||(l=Pf(n,a),l!=null&&s.push(jf(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var tW=/\r\n?/g,nW=/\u0000|\uFFFD/g;function iS(t){return(typeof t=="string"?t:""+t).replace(tW,`
`).replace(nW,"")}function Q4(t,e,n){if(e=iS(e),iS(t)!==e&&n)throw Error(he(425))}function N3(){}var py=null,my=null;function gy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yy=typeof setTimeout=="function"?setTimeout:void 0,rW=typeof clearTimeout=="function"?clearTimeout:void 0,aS=typeof Promise=="function"?Promise:void 0,iW=typeof queueMicrotask=="function"?queueMicrotask:typeof aS<"u"?function(t){return aS.resolve(null).then(t).catch(aW)}:yy;function aW(t){setTimeout(function(){throw t})}function E5(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Af(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Af(e)}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pu=Math.random().toString(36).slice(2),ha="__reactFiber$"+pu,Rf="__reactProps$"+pu,p0="__reactContainer$"+pu,vy="__reactEvents$"+pu,sW="__reactListeners$"+pu,oW="__reactHandles$"+pu;function yo(t){var e=t[ha];if(e)return e;for(var n=t.parentNode;n;){if(e=n[p0]||n[ha]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sS(t);t!==null;){if(n=t[ha])return n;t=sS(t)}return e}t=n,n=t.parentNode}return null}function Jh(t){return t=t[ha]||t[p0],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function pg(t){return t[Rf]||null}var xy=[],zl=-1;function Ls(t){return{current:t}}function Wt(t){0>zl||(t.current=xy[zl],xy[zl]=null,zl--)}function Dt(t,e){zl++,xy[zl]=t.current,t.current=e}var Ts={},rr=Ls(Ts),jr=Ls(!1),Mo=Ts;function Sc(t,e){var n=t.type.contextTypes;if(!n)return Ts;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(t){return t=t.childContextTypes,t!=null}function A3(){Wt(jr),Wt(rr)}function oS(t,e,n){if(rr.current!==Ts)throw Error(he(168));Dt(rr,e),Dt(jr,n)}function $O(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(he(108,Wz(t)||"Unknown",i));return en({},n,r)}function I3(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ts,Mo=rr.current,Dt(rr,t),Dt(jr,jr.current),!0}function lS(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=$O(t,e,Mo),r.__reactInternalMemoizedMergedChildContext=t,Wt(jr),Wt(rr),Dt(rr,t)):Wt(jr),Dt(jr,n)}var Wa=null,mg=!1,k5=!1;function DO(t){Wa===null?Wa=[t]:Wa.push(t)}function lW(t){mg=!0,DO(t)}function Fs(){if(!k5&&Wa!==null){k5=!0;var t=0,e=kt;try{var n=Wa;for(kt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wa=null,mg=!1}catch(i){throw Wa!==null&&(Wa=Wa.slice(t+1)),lO(t8,Fs),i}finally{kt=e,k5=!1}}return null}var ql=[],Wl=0,C3=null,O3=0,hi=[],pi=0,$o=null,Ja=1,Za="";function oo(t,e){ql[Wl++]=O3,ql[Wl++]=C3,C3=t,O3=e}function LO(t,e,n){hi[pi++]=Ja,hi[pi++]=Za,hi[pi++]=$o,$o=t;var r=Ja;t=Za;var i=32-Qi(r)-1;r&=~(1<<i),n+=1;var a=32-Qi(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ja=1<<32-Qi(e)+i|n<<i|r,Za=a+t}else Ja=1<<a|n<<i|r,Za=t}function u8(t){t.return!==null&&(oo(t,1),LO(t,1,0))}function d8(t){for(;t===C3;)C3=ql[--Wl],ql[Wl]=null,O3=ql[--Wl],ql[Wl]=null;for(;t===$o;)$o=hi[--pi],hi[pi]=null,Za=hi[--pi],hi[pi]=null,Ja=hi[--pi],hi[pi]=null}var Xr=null,Gr=null,Ht=!1,Vi=null;function FO(t,e){var n=xi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xr=t,Gr=us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xr=t,Gr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$o!==null?{id:Ja,overflow:Za}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xr=t,Gr=null,!0):!1;default:return!1}}function by(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wy(t){if(Ht){var e=Gr;if(e){var n=e;if(!cS(t,e)){if(by(t))throw Error(he(418));e=us(n.nextSibling);var r=Xr;e&&cS(t,e)?FO(r,n):(t.flags=t.flags&-4097|2,Ht=!1,Xr=t)}}else{if(by(t))throw Error(he(418));t.flags=t.flags&-4097|2,Ht=!1,Xr=t}}}function uS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xr=t}function X4(t){if(t!==Xr)return!1;if(!Ht)return uS(t),Ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gy(t.type,t.memoizedProps)),e&&(e=Gr)){if(by(t))throw VO(),Error(he(418));for(;e;)FO(t,e),e=us(e.nextSibling)}if(uS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gr=us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gr=null}}else Gr=Xr?us(t.stateNode.nextSibling):null;return!0}function VO(){for(var t=Gr;t;)t=us(t.nextSibling)}function Ec(){Gr=Xr=null,Ht=!1}function f8(t){Vi===null?Vi=[t]:Vi.push(t)}var cW=T0.ReactCurrentBatchConfig;function td(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function J4(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dS(t){var e=t._init;return e(t._payload)}function UO(t){function e(v,b){if(t){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=ps(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,_){return b===null||b.tag!==6?(b=O5(w,v.mode,_),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,_){var S=w.type;return S===Ll?u(v,b,w.props.children,_,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===q0&&dS(S)===b.type)?(_=i(b,w.props),_.ref=td(v,b,w),_.return=v,_):(_=Jp(w.type,w.key,w.props,null,v.mode,_),_.ref=td(v,b,w),_.return=v,_)}function c(v,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=j5(w,v.mode,_),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function u(v,b,w,_,S){return b===null||b.tag!==7?(b=Ao(w,v.mode,_,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function d(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=O5(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case U4:return w=Jp(b.type,b.key,b.props,null,v.mode,w),w.ref=td(v,null,b),w.return=v,w;case Dl:return b=j5(b,v.mode,w),b.return=v,b;case q0:var _=b._init;return d(v,_(b._payload),w)}if(Pd(b)||Qu(b))return b=Ao(b,v.mode,w,null),b.return=v,b;J4(v,b)}return null}function h(v,b,w,_){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:o(v,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case U4:return w.key===S?l(v,b,w,_):null;case Dl:return w.key===S?c(v,b,w,_):null;case q0:return S=w._init,h(v,b,S(w._payload),_)}if(Pd(w)||Qu(w))return S!==null?null:u(v,b,w,_,null);J4(v,w)}return null}function p(v,b,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(w)||null,o(b,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case U4:return v=v.get(_.key===null?w:_.key)||null,l(b,v,_,S);case Dl:return v=v.get(_.key===null?w:_.key)||null,c(b,v,_,S);case q0:var P=_._init;return p(v,b,w,P(_._payload),S)}if(Pd(_)||Qu(_))return v=v.get(w)||null,u(b,v,_,S,null);J4(b,_)}return null}function g(v,b,w,_){for(var S=null,P=null,E=b,k=b=0,N=null;E!==null&&k<w.length;k++){E.index>k?(N=E,E=null):N=E.sibling;var I=h(v,E,w[k],_);if(I===null){E===null&&(E=N);break}t&&E&&I.alternate===null&&e(v,E),b=a(I,b,k),P===null?S=I:P.sibling=I,P=I,E=N}if(k===w.length)return n(v,E),Ht&&oo(v,k),S;if(E===null){for(;k<w.length;k++)E=d(v,w[k],_),E!==null&&(b=a(E,b,k),P===null?S=E:P.sibling=E,P=E);return Ht&&oo(v,k),S}for(E=r(v,E);k<w.length;k++)N=p(E,v,k,w[k],_),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?k:N.key),b=a(N,b,k),P===null?S=N:P.sibling=N,P=N);return t&&E.forEach(function(A){return e(v,A)}),Ht&&oo(v,k),S}function x(v,b,w,_){var S=Qu(w);if(typeof S!="function")throw Error(he(150));if(w=S.call(w),w==null)throw Error(he(151));for(var P=S=null,E=b,k=b=0,N=null,I=w.next();E!==null&&!I.done;k++,I=w.next()){E.index>k?(N=E,E=null):N=E.sibling;var A=h(v,E,I.value,_);if(A===null){E===null&&(E=N);break}t&&E&&A.alternate===null&&e(v,E),b=a(A,b,k),P===null?S=A:P.sibling=A,P=A,E=N}if(I.done)return n(v,E),Ht&&oo(v,k),S;if(E===null){for(;!I.done;k++,I=w.next())I=d(v,I.value,_),I!==null&&(b=a(I,b,k),P===null?S=I:P.sibling=I,P=I);return Ht&&oo(v,k),S}for(E=r(v,E);!I.done;k++,I=w.next())I=p(E,v,k,I.value,_),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?k:I.key),b=a(I,b,k),P===null?S=I:P.sibling=I,P=I);return t&&E.forEach(function(j){return e(v,j)}),Ht&&oo(v,k),S}function y(v,b,w,_){if(typeof w=="object"&&w!==null&&w.type===Ll&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case U4:e:{for(var S=w.key,P=b;P!==null;){if(P.key===S){if(S=w.type,S===Ll){if(P.tag===7){n(v,P.sibling),b=i(P,w.props.children),b.return=v,v=b;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===q0&&dS(S)===P.type){n(v,P.sibling),b=i(P,w.props),b.ref=td(v,P,w),b.return=v,v=b;break e}n(v,P);break}else e(v,P);P=P.sibling}w.type===Ll?(b=Ao(w.props.children,v.mode,_,w.key),b.return=v,v=b):(_=Jp(w.type,w.key,w.props,null,v.mode,_),_.ref=td(v,b,w),_.return=v,v=_)}return s(v);case Dl:e:{for(P=w.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=j5(w,v.mode,_),b.return=v,v=b}return s(v);case q0:return P=w._init,y(v,b,P(w._payload),_)}if(Pd(w))return g(v,b,w,_);if(Qu(w))return x(v,b,w,_);J4(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=O5(w,v.mode,_),b.return=v,v=b),s(v)):n(v,b)}return y}var kc=UO(!0),BO=UO(!1),j3=Ls(null),R3=null,Hl=null,h8=null;function p8(){h8=Hl=R3=null}function m8(t){var e=j3.current;Wt(j3),t._currentValue=e}function _y(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oc(t,e){R3=t,h8=Hl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ir=!0),t.firstContext=null)}function Pi(t){var e=t._currentValue;if(h8!==t)if(t={context:t,memoizedValue:e,next:null},Hl===null){if(R3===null)throw Error(he(308));Hl=t,R3.dependencies={lanes:0,firstContext:t}}else Hl=Hl.next=t;return e}var vo=null;function g8(t){vo===null?vo=[t]:vo.push(t)}function zO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,g8(e)):(n.next=i.next,i.next=n),e.interleaved=n,m0(t,r)}function m0(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var W0=!1;function y8(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function o0(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ds(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,m0(t,n)}return i=r.interleaved,i===null?(e.next=e,g8(r)):(e.next=i.next,i.next=e),r.interleaved=e,m0(t,n)}function Hp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n8(t,n)}}function fS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function M3(t,e,n,r){var i=t.updateQueue;W0=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,u=c=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,x=o;switch(h=e,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=en({},d,h);break e;case 2:W0=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Lo|=s,t.lanes=s,t.memoizedState=d}}function hS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var Zh={},Sa=Ls(Zh),Mf=Ls(Zh),$f=Ls(Zh);function xo(t){if(t===Zh)throw Error(he(174));return t}function v8(t,e){switch(Dt($f,e),Dt(Mf,t),Dt(Sa,Zh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ny(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ny(e,t)}Wt(Sa),Dt(Sa,e)}function Pc(){Wt(Sa),Wt(Mf),Wt($f)}function WO(t){xo($f.current);var e=xo(Sa.current),n=ny(e,t.type);e!==n&&(Dt(Mf,t),Dt(Sa,n))}function x8(t){Mf.current===t&&(Wt(Sa),Wt(Mf))}var Yt=Ls(0);function $3(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var P5=[];function b8(){for(var t=0;t<P5.length;t++)P5[t]._workInProgressVersionPrimary=null;P5.length=0}var Gp=T0.ReactCurrentDispatcher,T5=T0.ReactCurrentBatchConfig,Do=0,Zt=null,wn=null,On=null,D3=!1,tf=!1,Df=0,uW=0;function Gn(){throw Error(he(321))}function w8(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ta(t[n],e[n]))return!1;return!0}function _8(t,e,n,r,i,a){if(Do=a,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gp.current=t===null||t.memoizedState===null?pW:mW,t=n(r,i),tf){a=0;do{if(tf=!1,Df=0,25<=a)throw Error(he(301));a+=1,On=wn=null,e.updateQueue=null,Gp.current=gW,t=n(r,i)}while(tf)}if(Gp.current=L3,e=wn!==null&&wn.next!==null,Do=0,On=wn=Zt=null,D3=!1,e)throw Error(he(300));return t}function S8(){var t=Df!==0;return Df=0,t}function ca(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Zt.memoizedState=On=t:On=On.next=t,On}function Ti(){if(wn===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=wn.next;var e=On===null?Zt.memoizedState:On.next;if(e!==null)On=e,wn=t;else{if(t===null)throw Error(he(310));wn=t,t={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},On===null?Zt.memoizedState=On=t:On=On.next=t}return On}function Lf(t,e){return typeof e=="function"?e(t):e}function N5(t){var e=Ti(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=wn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((Do&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,Zt.lanes|=u,Lo|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ta(r,e.memoizedState)||(Ir=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Zt.lanes|=a,Lo|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function A5(t){var e=Ti(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ta(a,e.memoizedState)||(Ir=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function HO(){}function GO(t,e){var n=Zt,r=Ti(),i=e(),a=!ta(r.memoizedState,i);if(a&&(r.memoizedState=i,Ir=!0),r=r.queue,E8(QO.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||On!==null&&On.memoizedState.tag&1){if(n.flags|=2048,Ff(9,YO.bind(null,n,r,i,e),void 0,null),jn===null)throw Error(he(349));Do&30||KO(n,e,i)}return i}function KO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YO(t,e,n,r){e.value=n,e.getSnapshot=r,XO(e)&&JO(t)}function QO(t,e,n){return n(function(){XO(e)&&JO(t)})}function XO(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ta(t,n)}catch{return!0}}function JO(t){var e=m0(t,1);e!==null&&Xi(e,t,1,-1)}function pS(t){var e=ca();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:t},e.queue=t,t=t.dispatch=hW.bind(null,Zt,t),[e.memoizedState,t]}function Ff(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZO(){return Ti().memoizedState}function Kp(t,e,n,r){var i=ca();Zt.flags|=t,i.memoizedState=Ff(1|e,n,void 0,r===void 0?null:r)}function gg(t,e,n,r){var i=Ti();r=r===void 0?null:r;var a=void 0;if(wn!==null){var s=wn.memoizedState;if(a=s.destroy,r!==null&&w8(r,s.deps)){i.memoizedState=Ff(e,n,a,r);return}}Zt.flags|=t,i.memoizedState=Ff(1|e,n,a,r)}function mS(t,e){return Kp(8390656,8,t,e)}function E8(t,e){return gg(2048,8,t,e)}function ej(t,e){return gg(4,2,t,e)}function tj(t,e){return gg(4,4,t,e)}function nj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rj(t,e,n){return n=n!=null?n.concat([t]):null,gg(4,4,nj.bind(null,e,t),n)}function k8(){}function ij(t,e){var n=Ti();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&w8(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aj(t,e){var n=Ti();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&w8(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sj(t,e,n){return Do&21?(ta(n,e)||(n=dO(),Zt.lanes|=n,Lo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ir=!0),t.memoizedState=n)}function dW(t,e){var n=kt;kt=n!==0&&4>n?n:4,t(!0);var r=T5.transition;T5.transition={};try{t(!1),e()}finally{kt=n,T5.transition=r}}function oj(){return Ti().memoizedState}function fW(t,e,n){var r=hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lj(t))cj(e,n);else if(n=zO(t,e,n,r),n!==null){var i=gr();Xi(n,t,r,i),uj(n,e,r)}}function hW(t,e,n){var r=hs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lj(t))cj(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ta(o,s)){var l=e.interleaved;l===null?(i.next=i,g8(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=zO(t,e,i,r),n!==null&&(i=gr(),Xi(n,t,r,i),uj(n,e,r))}}function lj(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function cj(t,e){tf=D3=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n8(t,n)}}var L3={readContext:Pi,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},pW={readContext:Pi,useCallback:function(t,e){return ca().memoizedState=[t,e===void 0?null:e],t},useContext:Pi,useEffect:mS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kp(4194308,4,nj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kp(4,2,t,e)},useMemo:function(t,e){var n=ca();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ca();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fW.bind(null,Zt,t),[r.memoizedState,t]},useRef:function(t){var e=ca();return t={current:t},e.memoizedState=t},useState:pS,useDebugValue:k8,useDeferredValue:function(t){return ca().memoizedState=t},useTransition:function(){var t=pS(!1),e=t[0];return t=dW.bind(null,t[1]),ca().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Zt,i=ca();if(Ht){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),jn===null)throw Error(he(349));Do&30||KO(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,mS(QO.bind(null,r,a,t),[t]),r.flags|=2048,Ff(9,YO.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=ca(),e=jn.identifierPrefix;if(Ht){var n=Za,r=Ja;n=(r&~(1<<32-Qi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Df++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mW={readContext:Pi,useCallback:ij,useContext:Pi,useEffect:E8,useImperativeHandle:rj,useInsertionEffect:ej,useLayoutEffect:tj,useMemo:aj,useReducer:N5,useRef:ZO,useState:function(){return N5(Lf)},useDebugValue:k8,useDeferredValue:function(t){var e=Ti();return sj(e,wn.memoizedState,t)},useTransition:function(){var t=N5(Lf)[0],e=Ti().memoizedState;return[t,e]},useMutableSource:HO,useSyncExternalStore:GO,useId:oj,unstable_isNewReconciler:!1},gW={readContext:Pi,useCallback:ij,useContext:Pi,useEffect:E8,useImperativeHandle:rj,useInsertionEffect:ej,useLayoutEffect:tj,useMemo:aj,useReducer:A5,useRef:ZO,useState:function(){return A5(Lf)},useDebugValue:k8,useDeferredValue:function(t){var e=Ti();return wn===null?e.memoizedState=t:sj(e,wn.memoizedState,t)},useTransition:function(){var t=A5(Lf)[0],e=Ti().memoizedState;return[t,e]},useMutableSource:HO,useSyncExternalStore:GO,useId:oj,unstable_isNewReconciler:!1};function Di(t,e){if(t&&t.defaultProps){e=en({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:en({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yg={isMounted:function(t){return(t=t._reactInternals)?ll(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gr(),i=hs(t),a=o0(r,i);a.payload=e,n!=null&&(a.callback=n),e=ds(t,a,i),e!==null&&(Xi(e,t,i,r),Hp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gr(),i=hs(t),a=o0(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ds(t,a,i),e!==null&&(Xi(e,t,i,r),Hp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gr(),r=hs(t),i=o0(n,r);i.tag=2,e!=null&&(i.callback=e),e=ds(t,i,r),e!==null&&(Xi(e,t,r,n),Hp(e,t,r))}};function gS(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Cf(n,r)||!Cf(i,a):!0}function dj(t,e,n){var r=!1,i=Ts,a=e.contextType;return typeof a=="object"&&a!==null?a=Pi(a):(i=Rr(e)?Mo:rr.current,r=e.contextTypes,a=(r=r!=null)?Sc(t,i):Ts),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function yS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yg.enqueueReplaceState(e,e.state,null)}function Ey(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},y8(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Pi(a):(a=Rr(e)?Mo:rr.current,i.context=Sc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Sy(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yg.enqueueReplaceState(i,i.state,null),M3(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tc(t,e){try{var n="",r=e;do n+=qz(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function I5(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ky(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yW=typeof WeakMap=="function"?WeakMap:Map;function fj(t,e,n){n=o0(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){V3||(V3=!0,My=r),ky(t,e)},n}function hj(t,e,n){n=o0(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ky(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ky(t,e),typeof r!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function vS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=CW.bind(null,t,e,n),e.then(t,t))}function xS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=o0(-1,1),e.tag=2,ds(n,e,1))),n.lanes|=1),t)}var vW=T0.ReactCurrentOwner,Ir=!1;function sr(t,e,n,r){e.child=t===null?BO(e,null,n,r):kc(e,t.child,n,r)}function wS(t,e,n,r,i){n=n.render;var a=e.ref;return oc(e,i),r=_8(t,e,n,r,a,i),n=S8(),t!==null&&!Ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,g0(t,e,i)):(Ht&&n&&u8(e),e.flags|=1,sr(t,e,r,i),e.child)}function _S(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!j8(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,pj(t,e,a,r,i)):(t=Jp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Cf,n(s,r)&&t.ref===e.ref)return g0(t,e,i)}return e.flags|=1,t=ps(a,r),t.ref=e.ref,t.return=e,e.child=t}function pj(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Cf(a,r)&&t.ref===e.ref)if(Ir=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Ir=!0);else return e.lanes=t.lanes,g0(t,e,i)}return Py(t,e,n,r,i)}function mj(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(Kl,Br),Br|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Dt(Kl,Br),Br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Dt(Kl,Br),Br|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Dt(Kl,Br),Br|=r;return sr(t,e,i,n),e.child}function gj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Py(t,e,n,r,i){var a=Rr(n)?Mo:rr.current;return a=Sc(e,a),oc(e,i),n=_8(t,e,n,r,a,i),r=S8(),t!==null&&!Ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,g0(t,e,i)):(Ht&&r&&u8(e),e.flags|=1,sr(t,e,n,i),e.child)}function SS(t,e,n,r,i){if(Rr(n)){var a=!0;I3(e)}else a=!1;if(oc(e,i),e.stateNode===null)Yp(t,e),dj(e,n,r),Ey(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pi(c):(c=Rr(n)?Mo:rr.current,c=Sc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&yS(e,s,r,c),W0=!1;var h=e.memoizedState;s.state=h,M3(e,r,s,i),l=e.memoizedState,o!==r||h!==l||jr.current||W0?(typeof u=="function"&&(Sy(e,n,u,r),l=e.memoizedState),(o=W0||gS(e,n,o,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,qO(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Di(e.type,o),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pi(l):(l=Rr(n)?Mo:rr.current,l=Sc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&yS(e,s,r,l),W0=!1,h=e.memoizedState,s.state=h,M3(e,r,s,i);var g=e.memoizedState;o!==d||h!==g||jr.current||W0?(typeof p=="function"&&(Sy(e,n,p,r),g=e.memoizedState),(c=W0||gS(e,n,c,r,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ty(t,e,n,r,a,i)}function Ty(t,e,n,r,i,a){gj(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&lS(e,n,!1),g0(t,e,a);r=e.stateNode,vW.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=kc(e,t.child,null,a),e.child=kc(e,null,o,a)):sr(t,e,o,a),e.memoizedState=r.state,i&&lS(e,n,!0),e.child}function yj(t){var e=t.stateNode;e.pendingContext?oS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oS(t,e.context,!1),v8(t,e.containerInfo)}function ES(t,e,n,r,i){return Ec(),f8(i),e.flags|=256,sr(t,e,n,r),e.child}var Ny={dehydrated:null,treeContext:null,retryLane:0};function Ay(t){return{baseLanes:t,cachePool:null,transitions:null}}function vj(t,e,n){var r=e.pendingProps,i=Yt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Dt(Yt,i&1),t===null)return wy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=bg(s,r,0,null),t=Ao(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Ay(n),e.memoizedState=Ny,t):P8(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return xW(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ps(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=ps(o,a):(a=Ao(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?Ay(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=Ny,r}return a=t.child,t=a.sibling,r=ps(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function P8(t,e){return e=bg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Z4(t,e,n,r){return r!==null&&f8(r),kc(e,t.child,null,n),t=P8(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xW(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=I5(Error(he(422))),Z4(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=bg({mode:"visible",children:r.children},i,0,null),a=Ao(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&kc(e,t.child,null,s),e.child.memoizedState=Ay(s),e.memoizedState=Ny,a);if(!(e.mode&1))return Z4(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(he(419)),r=I5(a,r,void 0),Z4(t,e,s,r)}if(o=(s&t.childLanes)!==0,Ir||o){if(r=jn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,m0(t,i),Xi(r,t,i,-1))}return O8(),r=I5(Error(he(421))),Z4(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=OW.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Gr=us(i.nextSibling),Xr=e,Ht=!0,Vi=null,t!==null&&(hi[pi++]=Ja,hi[pi++]=Za,hi[pi++]=$o,Ja=t.id,Za=t.overflow,$o=e),e=P8(e,r.children),e.flags|=4096,e)}function kS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_y(t.return,e,n)}function C5(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function xj(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(sr(t,e,r.children,n),r=Yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kS(t,n,e);else if(t.tag===19)kS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Dt(Yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$3(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),C5(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$3(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}C5(e,!0,n,null,a);break;case"together":C5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function g0(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bW(t,e,n){switch(e.tag){case 3:yj(e),Ec();break;case 5:WO(e);break;case 1:Rr(e.type)&&I3(e);break;case 4:v8(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Dt(j3,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Dt(Yt,Yt.current&1),e.flags|=128,null):n&e.child.childLanes?vj(t,e,n):(Dt(Yt,Yt.current&1),t=g0(t,e,n),t!==null?t.sibling:null);Dt(Yt,Yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xj(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dt(Yt,Yt.current),r)break;return null;case 22:case 23:return e.lanes=0,mj(t,e,n)}return g0(t,e,n)}var bj,Iy,wj,_j;bj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iy=function(){};wj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xo(Sa.current);var a=null;switch(n){case"input":i=J6(t,i),r=J6(t,r),a=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),a=[];break;case"textarea":i=ty(t,i),r=ty(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=N3)}ry(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ef.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ef.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ut("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};_j=function(t,e,n,r){n!==r&&(e.flags|=4)};function nd(t,e){if(!Ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wW(t,e,n){var r=e.pendingProps;switch(d8(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(e),null;case 1:return Rr(e.type)&&A3(),Kn(e),null;case 3:return r=e.stateNode,Pc(),Wt(jr),Wt(rr),b8(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(X4(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vi!==null&&(Ly(Vi),Vi=null))),Iy(t,e),Kn(e),null;case 5:x8(e);var i=xo($f.current);if(n=e.type,t!==null&&e.stateNode!=null)wj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return Kn(e),null}if(t=xo(Sa.current),X4(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[ha]=e,r[Rf]=a,t=(e.mode&1)!==0,n){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(i=0;i<Nd.length;i++)Ut(Nd[i],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":R_(r,a),Ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ut("invalid",r);break;case"textarea":$_(r,a),Ut("invalid",r)}ry(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Q4(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Q4(r.textContent,o,t),i=["children",""+o]):Ef.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ut("scroll",r)}switch(n){case"input":B4(r),M_(r,a,!0);break;case"textarea":B4(r),D_(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=N3)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ha]=e,t[Rf]=r,bj(t,e,!1,!1),e.stateNode=t;e:{switch(s=iy(n,r),n){case"dialog":Ut("cancel",t),Ut("close",t),i=r;break;case"iframe":case"object":case"embed":Ut("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nd.length;i++)Ut(Nd[i],t);i=r;break;case"source":Ut("error",t),i=r;break;case"img":case"image":case"link":Ut("error",t),Ut("load",t),i=r;break;case"details":Ut("toggle",t),i=r;break;case"input":R_(t,r),i=J6(t,r),Ut("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=en({},r,{value:void 0}),Ut("invalid",t);break;case"textarea":$_(t,r),i=ty(t,r),Ut("invalid",t);break;default:i=r}ry(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?ZC(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XC(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kf(t,l):typeof l=="number"&&kf(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ef.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ut("scroll",t):l!=null&&Q9(t,a,l,s))}switch(n){case"input":B4(t),M_(t,r,!1);break;case"textarea":B4(t),D_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ps(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?rc(t,!!r.multiple,a,!1):r.defaultValue!=null&&rc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=N3)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kn(e),null;case 6:if(t&&e.stateNode!=null)_j(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=xo($f.current),xo(Sa.current),X4(e)){if(r=e.stateNode,n=e.memoizedProps,r[ha]=e,(a=r.nodeValue!==n)&&(t=Xr,t!==null))switch(t.tag){case 3:Q4(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Q4(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ha]=e,e.stateNode=r}return Kn(e),null;case 13:if(Wt(Yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ht&&Gr!==null&&e.mode&1&&!(e.flags&128))VO(),Ec(),e.flags|=98560,a=!1;else if(a=X4(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(he(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[ha]=e}else Ec(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kn(e),a=!1}else Vi!==null&&(Ly(Vi),Vi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Yt.current&1?_n===0&&(_n=3):O8())),e.updateQueue!==null&&(e.flags|=4),Kn(e),null);case 4:return Pc(),Iy(t,e),t===null&&Of(e.stateNode.containerInfo),Kn(e),null;case 10:return m8(e.type._context),Kn(e),null;case 17:return Rr(e.type)&&A3(),Kn(e),null;case 19:if(Wt(Yt),a=e.memoizedState,a===null)return Kn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)nd(a,!1);else{if(_n!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=$3(t),s!==null){for(e.flags|=128,nd(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Dt(Yt,Yt.current&1|2),e.child}t=t.sibling}a.tail!==null&&cn()>Nc&&(e.flags|=128,r=!0,nd(a,!1),e.lanes=4194304)}else{if(!r)if(t=$3(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ht)return Kn(e),null}else 2*cn()-a.renderingStartTime>Nc&&n!==1073741824&&(e.flags|=128,r=!0,nd(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=cn(),e.sibling=null,n=Yt.current,Dt(Yt,r?n&1|2:n&1),e):(Kn(e),null);case 22:case 23:return C8(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Br&1073741824&&(Kn(e),e.subtreeFlags&6&&(e.flags|=8192)):Kn(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function _W(t,e){switch(d8(e),e.tag){case 1:return Rr(e.type)&&A3(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pc(),Wt(jr),Wt(rr),b8(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return x8(e),null;case 13:if(Wt(Yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));Ec()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Wt(Yt),null;case 4:return Pc(),null;case 10:return m8(e.type._context),null;case 22:case 23:return C8(),null;case 24:return null;default:return null}}var ep=!1,Jn=!1,SW=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Gl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){an(t,e,r)}else n.current=null}function Cy(t,e,n){try{n()}catch(r){an(t,e,r)}}var PS=!1;function EW(t,e){if(py=k3,t=TO(),c8(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(o=s),h===a&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(my={focusedElem:t,selectionRange:n},k3=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:Di(e.type,x),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(_){an(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return g=PS,PS=!1,g}function nf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Cy(e,n,a)}i=i.next}while(i!==r)}}function vg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Oy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sj(t){var e=t.alternate;e!==null&&(t.alternate=null,Sj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ha],delete e[Rf],delete e[vy],delete e[sW],delete e[oW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ej(t){return t.tag===5||t.tag===3||t.tag===4}function TS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ej(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=N3));else if(r!==4&&(t=t.child,t!==null))for(jy(t,e,n),t=t.sibling;t!==null;)jy(t,e,n),t=t.sibling}function Ry(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ry(t,e,n),t=t.sibling;t!==null;)Ry(t,e,n),t=t.sibling}var Ln=null,Li=!1;function F0(t,e,n){for(n=n.child;n!==null;)kj(t,e,n),n=n.sibling}function kj(t,e,n){if(_a&&typeof _a.onCommitFiberUnmount=="function")try{_a.onCommitFiberUnmount(ug,n)}catch{}switch(n.tag){case 5:Jn||Gl(n,e);case 6:var r=Ln,i=Li;Ln=null,F0(t,e,n),Ln=r,Li=i,Ln!==null&&(Li?(t=Ln,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ln.removeChild(n.stateNode));break;case 18:Ln!==null&&(Li?(t=Ln,n=n.stateNode,t.nodeType===8?E5(t.parentNode,n):t.nodeType===1&&E5(t,n),Af(t)):E5(Ln,n.stateNode));break;case 4:r=Ln,i=Li,Ln=n.stateNode.containerInfo,Li=!0,F0(t,e,n),Ln=r,Li=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Cy(n,e,s),i=i.next}while(i!==r)}F0(t,e,n);break;case 1:if(!Jn&&(Gl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){an(n,e,o)}F0(t,e,n);break;case 21:F0(t,e,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,F0(t,e,n),Jn=r):F0(t,e,n);break;default:F0(t,e,n)}}function NS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SW),e.forEach(function(r){var i=jW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ln=o.stateNode,Li=!1;break e;case 3:Ln=o.stateNode.containerInfo,Li=!0;break e;case 4:Ln=o.stateNode.containerInfo,Li=!0;break e}o=o.return}if(Ln===null)throw Error(he(160));kj(a,s,i),Ln=null,Li=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){an(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pj(e,t),e=e.sibling}function Pj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mi(e,t),la(t),r&4){try{nf(3,t,t.return),vg(3,t)}catch(x){an(t,t.return,x)}try{nf(5,t,t.return)}catch(x){an(t,t.return,x)}}break;case 1:Mi(e,t),la(t),r&512&&n!==null&&Gl(n,n.return);break;case 5:if(Mi(e,t),la(t),r&512&&n!==null&&Gl(n,n.return),t.flags&32){var i=t.stateNode;try{kf(i,"")}catch(x){an(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&KC(i,a),iy(o,s);var c=iy(o,a);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?ZC(i,d):u==="dangerouslySetInnerHTML"?XC(i,d):u==="children"?kf(i,d):Q9(i,u,d,c)}switch(o){case"input":Z6(i,a);break;case"textarea":YC(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?rc(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?rc(i,!!a.multiple,a.defaultValue,!0):rc(i,!!a.multiple,a.multiple?[]:"",!1))}i[Rf]=a}catch(x){an(t,t.return,x)}}break;case 6:if(Mi(e,t),la(t),r&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){an(t,t.return,x)}}break;case 3:if(Mi(e,t),la(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Af(e.containerInfo)}catch(x){an(t,t.return,x)}break;case 4:Mi(e,t),la(t);break;case 13:Mi(e,t),la(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(A8=cn())),r&4&&NS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Jn=(c=Jn)||u,Mi(e,t),Jn=c):Mi(e,t),la(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Te=t,u=t.child;u!==null;){for(d=Te=u;Te!==null;){switch(h=Te,p=h.child,h.tag){case 0:case 11:case 14:case 15:nf(4,h,h.return);break;case 1:Gl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){an(r,n,x)}}break;case 5:Gl(h,h.return);break;case 22:if(h.memoizedState!==null){IS(d);continue}}p!==null?(p.return=h,Te=p):IS(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=JC("display",s))}catch(x){an(t,t.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){an(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Mi(e,t),la(t),r&4&&NS(t);break;case 21:break;default:Mi(e,t),la(t)}}function la(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ej(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kf(i,""),r.flags&=-33);var a=TS(t);Ry(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=TS(t);jy(t,o,s);break;default:throw Error(he(161))}}catch(l){an(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kW(t,e,n){Te=t,Tj(t)}function Tj(t,e,n){for(var r=(t.mode&1)!==0;Te!==null;){var i=Te,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ep;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Jn;o=ep;var c=Jn;if(ep=s,(Jn=l)&&!c)for(Te=i;Te!==null;)s=Te,l=s.child,s.tag===22&&s.memoizedState!==null?CS(i):l!==null?(l.return=s,Te=l):CS(i);for(;a!==null;)Te=a,Tj(a),a=a.sibling;Te=i,ep=o,Jn=c}AS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Te=a):AS(t)}}function AS(t){for(;Te!==null;){var e=Te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||vg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Di(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&hS(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hS(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Af(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Jn||e.flags&512&&Oy(e)}catch(h){an(e,e.return,h)}}if(e===t){Te=null;break}if(n=e.sibling,n!==null){n.return=e.return,Te=n;break}Te=e.return}}function IS(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Te=n;break}Te=e.return}}function CS(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vg(4,e)}catch(l){an(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){an(e,i,l)}}var a=e.return;try{Oy(e)}catch(l){an(e,a,l)}break;case 5:var s=e.return;try{Oy(e)}catch(l){an(e,s,l)}}}catch(l){an(e,e.return,l)}if(e===t){Te=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Te=o;break}Te=e.return}}var PW=Math.ceil,F3=T0.ReactCurrentDispatcher,T8=T0.ReactCurrentOwner,_i=T0.ReactCurrentBatchConfig,pt=0,jn=null,pn=null,zn=0,Br=0,Kl=Ls(0),_n=0,Vf=null,Lo=0,xg=0,N8=0,rf=null,Pr=null,A8=0,Nc=1/0,qa=null,V3=!1,My=null,fs=null,tp=!1,ns=null,U3=0,af=0,$y=null,Qp=-1,Xp=0;function gr(){return pt&6?cn():Qp!==-1?Qp:Qp=cn()}function hs(t){return t.mode&1?pt&2&&zn!==0?zn&-zn:cW.transition!==null?(Xp===0&&(Xp=dO()),Xp):(t=kt,t!==0||(t=window.event,t=t===void 0?16:vO(t.type)),t):1}function Xi(t,e,n,r){if(50<af)throw af=0,$y=null,Error(he(185));Qh(t,n,r),(!(pt&2)||t!==jn)&&(t===jn&&(!(pt&2)&&(xg|=n),_n===4&&Q0(t,zn)),Mr(t,r),n===1&&pt===0&&!(e.mode&1)&&(Nc=cn()+500,mg&&Fs()))}function Mr(t,e){var n=t.callbackNode;cq(t,e);var r=E3(t,t===jn?zn:0);if(r===0)n!==null&&V_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&V_(n),e===1)t.tag===0?lW(OS.bind(null,t)):DO(OS.bind(null,t)),iW(function(){!(pt&6)&&Fs()}),n=null;else{switch(fO(r)){case 1:n=t8;break;case 4:n=cO;break;case 16:n=S3;break;case 536870912:n=uO;break;default:n=S3}n=Mj(n,Nj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Nj(t,e){if(Qp=-1,Xp=0,pt&6)throw Error(he(327));var n=t.callbackNode;if(lc()&&t.callbackNode!==n)return null;var r=E3(t,t===jn?zn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=B3(t,r);else{e=r;var i=pt;pt|=2;var a=Ij();(jn!==t||zn!==e)&&(qa=null,Nc=cn()+500,No(t,e));do try{AW();break}catch(o){Aj(t,o)}while(!0);p8(),F3.current=a,pt=i,pn!==null?e=0:(jn=null,zn=0,e=_n)}if(e!==0){if(e===2&&(i=cy(t),i!==0&&(r=i,e=Dy(t,i))),e===1)throw n=Vf,No(t,0),Q0(t,r),Mr(t,cn()),n;if(e===6)Q0(t,r);else{if(i=t.current.alternate,!(r&30)&&!TW(i)&&(e=B3(t,r),e===2&&(a=cy(t),a!==0&&(r=a,e=Dy(t,a))),e===1))throw n=Vf,No(t,0),Q0(t,r),Mr(t,cn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:lo(t,Pr,qa);break;case 3:if(Q0(t,r),(r&130023424)===r&&(e=A8+500-cn(),10<e)){if(E3(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yy(lo.bind(null,t,Pr,qa),e);break}lo(t,Pr,qa);break;case 4:if(Q0(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Qi(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PW(r/1960))-r,10<r){t.timeoutHandle=yy(lo.bind(null,t,Pr,qa),r);break}lo(t,Pr,qa);break;case 5:lo(t,Pr,qa);break;default:throw Error(he(329))}}}return Mr(t,cn()),t.callbackNode===n?Nj.bind(null,t):null}function Dy(t,e){var n=rf;return t.current.memoizedState.isDehydrated&&(No(t,e).flags|=256),t=B3(t,e),t!==2&&(e=Pr,Pr=n,e!==null&&Ly(e)),t}function Ly(t){Pr===null?Pr=t:Pr.push.apply(Pr,t)}function TW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ta(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Q0(t,e){for(e&=~N8,e&=~xg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qi(e),r=1<<n;t[n]=-1,e&=~r}}function OS(t){if(pt&6)throw Error(he(327));lc();var e=E3(t,0);if(!(e&1))return Mr(t,cn()),null;var n=B3(t,e);if(t.tag!==0&&n===2){var r=cy(t);r!==0&&(e=r,n=Dy(t,r))}if(n===1)throw n=Vf,No(t,0),Q0(t,e),Mr(t,cn()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lo(t,Pr,qa),Mr(t,cn()),null}function I8(t,e){var n=pt;pt|=1;try{return t(e)}finally{pt=n,pt===0&&(Nc=cn()+500,mg&&Fs())}}function Fo(t){ns!==null&&ns.tag===0&&!(pt&6)&&lc();var e=pt;pt|=1;var n=_i.transition,r=kt;try{if(_i.transition=null,kt=1,t)return t()}finally{kt=r,_i.transition=n,pt=e,!(pt&6)&&Fs()}}function C8(){Br=Kl.current,Wt(Kl)}function No(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rW(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(d8(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&A3();break;case 3:Pc(),Wt(jr),Wt(rr),b8();break;case 5:x8(r);break;case 4:Pc();break;case 13:Wt(Yt);break;case 19:Wt(Yt);break;case 10:m8(r.type._context);break;case 22:case 23:C8()}n=n.return}if(jn=t,pn=t=ps(t.current,null),zn=Br=e,_n=0,Vf=null,N8=xg=Lo=0,Pr=rf=null,vo!==null){for(e=0;e<vo.length;e++)if(n=vo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}vo=null}return t}function Aj(t,e){do{var n=pn;try{if(p8(),Gp.current=L3,D3){for(var r=Zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}D3=!1}if(Do=0,On=wn=Zt=null,tf=!1,Df=0,T8.current=null,n===null||n.return===null){_n=1,Vf=e,pn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=zn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xS(s);if(p!==null){p.flags&=-257,bS(p,s,o,a,e),p.mode&1&&vS(a,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){vS(a,c,e),O8();break e}l=Error(he(426))}}else if(Ht&&o.mode&1){var y=xS(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),bS(y,s,o,a,e),f8(Tc(l,o));break e}}a=l=Tc(l,o),_n!==4&&(_n=2),rf===null?rf=[a]:rf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=fj(a,l,e);fS(a,v);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fs===null||!fs.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=hj(a,o,e);fS(a,_);break e}}a=a.return}while(a!==null)}Oj(n)}catch(S){e=S,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function Ij(){var t=F3.current;return F3.current=L3,t===null?L3:t}function O8(){(_n===0||_n===3||_n===2)&&(_n=4),jn===null||!(Lo&268435455)&&!(xg&268435455)||Q0(jn,zn)}function B3(t,e){var n=pt;pt|=2;var r=Ij();(jn!==t||zn!==e)&&(qa=null,No(t,e));do try{NW();break}catch(i){Aj(t,i)}while(!0);if(p8(),pt=n,F3.current=r,pn!==null)throw Error(he(261));return jn=null,zn=0,_n}function NW(){for(;pn!==null;)Cj(pn)}function AW(){for(;pn!==null&&!eq();)Cj(pn)}function Cj(t){var e=Rj(t.alternate,t,Br);t.memoizedProps=t.pendingProps,e===null?Oj(t):pn=e,T8.current=null}function Oj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_W(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_n=6,pn=null;return}}else if(n=wW(n,e,Br),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);_n===0&&(_n=5)}function lo(t,e,n){var r=kt,i=_i.transition;try{_i.transition=null,kt=1,IW(t,e,n,r)}finally{_i.transition=i,kt=r}return null}function IW(t,e,n,r){do lc();while(ns!==null);if(pt&6)throw Error(he(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(uq(t,a),t===jn&&(pn=jn=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tp||(tp=!0,Mj(S3,function(){return lc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=_i.transition,_i.transition=null;var s=kt;kt=1;var o=pt;pt|=4,T8.current=null,EW(t,n),Pj(n,t),Qq(my),k3=!!py,my=py=null,t.current=n,kW(n),tq(),pt=o,kt=s,_i.transition=a}else t.current=n;if(tp&&(tp=!1,ns=t,U3=i),a=t.pendingLanes,a===0&&(fs=null),iq(n.stateNode),Mr(t,cn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(V3)throw V3=!1,t=My,My=null,t;return U3&1&&t.tag!==0&&lc(),a=t.pendingLanes,a&1?t===$y?af++:(af=0,$y=t):af=0,Fs(),null}function lc(){if(ns!==null){var t=fO(U3),e=_i.transition,n=kt;try{if(_i.transition=null,kt=16>t?16:t,ns===null)var r=!1;else{if(t=ns,ns=null,U3=0,pt&6)throw Error(he(331));var i=pt;for(pt|=4,Te=t.current;Te!==null;){var a=Te,s=a.child;if(Te.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Te=c;Te!==null;){var u=Te;switch(u.tag){case 0:case 11:case 15:nf(8,u,a)}var d=u.child;if(d!==null)d.return=u,Te=d;else for(;Te!==null;){u=Te;var h=u.sibling,p=u.return;if(Sj(u),u===c){Te=null;break}if(h!==null){h.return=p,Te=h;break}Te=p}}}var g=a.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Te=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Te=s;else e:for(;Te!==null;){if(a=Te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:nf(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Te=v;break e}Te=a.return}}var b=t.current;for(Te=b;Te!==null;){s=Te;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Te=w;else e:for(s=b;Te!==null;){if(o=Te,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:vg(9,o)}}catch(S){an(o,o.return,S)}if(o===s){Te=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Te=_;break e}Te=o.return}}if(pt=i,Fs(),_a&&typeof _a.onPostCommitFiberRoot=="function")try{_a.onPostCommitFiberRoot(ug,t)}catch{}r=!0}return r}finally{kt=n,_i.transition=e}}return!1}function jS(t,e,n){e=Tc(n,e),e=fj(t,e,1),t=ds(t,e,1),e=gr(),t!==null&&(Qh(t,1,e),Mr(t,e))}function an(t,e,n){if(t.tag===3)jS(t,t,n);else for(;e!==null;){if(e.tag===3){jS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fs===null||!fs.has(r))){t=Tc(n,t),t=hj(e,t,1),e=ds(e,t,1),t=gr(),e!==null&&(Qh(e,1,t),Mr(e,t));break}}e=e.return}}function CW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gr(),t.pingedLanes|=t.suspendedLanes&n,jn===t&&(zn&n)===n&&(_n===4||_n===3&&(zn&130023424)===zn&&500>cn()-A8?No(t,0):N8|=n),Mr(t,e)}function jj(t,e){e===0&&(t.mode&1?(e=W4,W4<<=1,!(W4&130023424)&&(W4=4194304)):e=1);var n=gr();t=m0(t,e),t!==null&&(Qh(t,e,n),Mr(t,n))}function OW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jj(t,n)}function jW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),jj(t,n)}var Rj;Rj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jr.current)Ir=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ir=!1,bW(t,e,n);Ir=!!(t.flags&131072)}else Ir=!1,Ht&&e.flags&1048576&&LO(e,O3,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yp(t,e),t=e.pendingProps;var i=Sc(e,rr.current);oc(e,n),i=_8(null,e,r,t,i,n);var a=S8();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rr(r)?(a=!0,I3(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y8(e),i.updater=yg,e.stateNode=i,i._reactInternals=e,Ey(e,r,t,n),e=Ty(null,e,r,!0,a,n)):(e.tag=0,Ht&&a&&u8(e),sr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=MW(r),t=Di(r,t),i){case 0:e=Py(null,e,r,t,n);break e;case 1:e=SS(null,e,r,t,n);break e;case 11:e=wS(null,e,r,t,n);break e;case 14:e=_S(null,e,r,Di(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Di(r,i),Py(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Di(r,i),SS(t,e,r,i,n);case 3:e:{if(yj(e),t===null)throw Error(he(387));r=e.pendingProps,a=e.memoizedState,i=a.element,qO(t,e),M3(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Tc(Error(he(423)),e),e=ES(t,e,r,n,i);break e}else if(r!==i){i=Tc(Error(he(424)),e),e=ES(t,e,r,n,i);break e}else for(Gr=us(e.stateNode.containerInfo.firstChild),Xr=e,Ht=!0,Vi=null,n=BO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ec(),r===i){e=g0(t,e,n);break e}sr(t,e,r,n)}e=e.child}return e;case 5:return WO(e),t===null&&wy(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,gy(r,i)?s=null:a!==null&&gy(r,a)&&(e.flags|=32),gj(t,e),sr(t,e,s,n),e.child;case 6:return t===null&&wy(e),null;case 13:return vj(t,e,n);case 4:return v8(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kc(e,null,r,n):sr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Di(r,i),wS(t,e,r,i,n);case 7:return sr(t,e,e.pendingProps,n),e.child;case 8:return sr(t,e,e.pendingProps.children,n),e.child;case 12:return sr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Dt(j3,r._currentValue),r._currentValue=s,a!==null)if(ta(a.value,s)){if(a.children===i.children&&!jr.current){e=g0(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=o0(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),_y(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(he(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),_y(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}sr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,oc(e,n),i=Pi(i),r=r(i),e.flags|=1,sr(t,e,r,n),e.child;case 14:return r=e.type,i=Di(r,e.pendingProps),i=Di(r.type,i),_S(t,e,r,i,n);case 15:return pj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Di(r,i),Yp(t,e),e.tag=1,Rr(r)?(t=!0,I3(e)):t=!1,oc(e,n),dj(e,r,i),Ey(e,r,i,n),Ty(null,e,r,!0,t,n);case 19:return xj(t,e,n);case 22:return mj(t,e,n)}throw Error(he(156,e.tag))};function Mj(t,e){return lO(t,e)}function RW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,e,n,r){return new RW(t,e,n,r)}function j8(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MW(t){if(typeof t=="function")return j8(t)?1:0;if(t!=null){if(t=t.$$typeof,t===J9)return 11;if(t===Z9)return 14}return 2}function ps(t,e){var n=t.alternate;return n===null?(n=xi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jp(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")j8(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ll:return Ao(n.children,i,a,e);case X9:s=8,i|=8;break;case K6:return t=xi(12,n,e,i|2),t.elementType=K6,t.lanes=a,t;case Y6:return t=xi(13,n,e,i),t.elementType=Y6,t.lanes=a,t;case Q6:return t=xi(19,n,e,i),t.elementType=Q6,t.lanes=a,t;case WC:return bg(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zC:s=10;break e;case qC:s=9;break e;case J9:s=11;break e;case Z9:s=14;break e;case q0:s=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=xi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ao(t,e,n,r){return t=xi(7,t,r,e),t.lanes=n,t}function bg(t,e,n,r){return t=xi(22,t,r,e),t.elementType=WC,t.lanes=n,t.stateNode={isHidden:!1},t}function O5(t,e,n){return t=xi(6,t,null,e),t.lanes=n,t}function j5(t,e,n){return e=xi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $W(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h5(0),this.expirationTimes=h5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h5(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function R8(t,e,n,r,i,a,s,o,l){return t=new $W(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=xi(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},y8(a),t}function DW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $j(t){if(!t)return Ts;t=t._reactInternals;e:{if(ll(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(Rr(n))return $O(t,n,e)}return e}function Dj(t,e,n,r,i,a,s,o,l){return t=R8(n,r,!0,t,i,a,s,o,l),t.context=$j(null),n=t.current,r=gr(),i=hs(n),a=o0(r,i),a.callback=e??null,ds(n,a,i),t.current.lanes=i,Qh(t,i,r),Mr(t,r),t}function wg(t,e,n,r){var i=e.current,a=gr(),s=hs(i);return n=$j(n),e.context===null?e.context=n:e.pendingContext=n,e=o0(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ds(i,e,s),t!==null&&(Xi(t,i,s,a),Hp(t,i,s)),s}function z3(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function RS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function M8(t,e){RS(t,e),(t=t.alternate)&&RS(t,e)}function LW(){return null}var Lj=typeof reportError=="function"?reportError:function(t){console.error(t)};function $8(t){this._internalRoot=t}_g.prototype.render=$8.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));wg(t,e,null,null)};_g.prototype.unmount=$8.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fo(function(){wg(null,t,null,null)}),e[p0]=null}};function _g(t){this._internalRoot=t}_g.prototype.unstable_scheduleHydration=function(t){if(t){var e=mO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Y0.length&&e!==0&&e<Y0[n].priority;n++);Y0.splice(n,0,t),n===0&&yO(t)}};function D8(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function MS(){}function FW(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=z3(s);a.call(c)}}var s=Dj(e,r,t,0,null,!1,!1,"",MS);return t._reactRootContainer=s,t[p0]=s.current,Of(t.nodeType===8?t.parentNode:t),Fo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=z3(l);o.call(c)}}var l=R8(t,0,!1,null,null,!1,!1,"",MS);return t._reactRootContainer=l,t[p0]=l.current,Of(t.nodeType===8?t.parentNode:t),Fo(function(){wg(e,l,n,r)}),l}function Eg(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=z3(s);o.call(l)}}wg(e,s,t,i)}else s=FW(n,e,t,i,r);return z3(s)}hO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Td(e.pendingLanes);n!==0&&(n8(e,n|1),Mr(e,cn()),!(pt&6)&&(Nc=cn()+500,Fs()))}break;case 13:Fo(function(){var r=m0(t,1);if(r!==null){var i=gr();Xi(r,t,1,i)}}),M8(t,1)}};r8=function(t){if(t.tag===13){var e=m0(t,134217728);if(e!==null){var n=gr();Xi(e,t,134217728,n)}M8(t,134217728)}};pO=function(t){if(t.tag===13){var e=hs(t),n=m0(t,e);if(n!==null){var r=gr();Xi(n,t,e,r)}M8(t,e)}};mO=function(){return kt};gO=function(t,e){var n=kt;try{return kt=t,e()}finally{kt=n}};sy=function(t,e,n){switch(e){case"input":if(Z6(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pg(r);if(!i)throw Error(he(90));GC(r),Z6(r,i)}}}break;case"textarea":YC(t,n);break;case"select":e=n.value,e!=null&&rc(t,!!n.multiple,e,!1)}};nO=I8;rO=Fo;var VW={usingClientEntryPoint:!1,Events:[Jh,Bl,pg,eO,tO,I8]},rd={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UW={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T0.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sO(t),t===null?null:t.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||LW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!np.isDisabled&&np.supportsFiber)try{ug=np.inject(UW),_a=np}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VW;ii.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D8(e))throw Error(he(200));return DW(t,e,null,n)};ii.createRoot=function(t,e){if(!D8(t))throw Error(he(299));var n=!1,r="",i=Lj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=R8(t,1,!1,null,null,n,!1,r,i),t[p0]=e.current,Of(t.nodeType===8?t.parentNode:t),new $8(e)};ii.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=sO(e),t=t===null?null:t.stateNode,t};ii.flushSync=function(t){return Fo(t)};ii.hydrate=function(t,e,n){if(!Sg(e))throw Error(he(200));return Eg(null,t,e,!0,n)};ii.hydrateRoot=function(t,e,n){if(!D8(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=Lj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Dj(e,null,t,1,n??null,i,!1,a,s),t[p0]=e.current,Of(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _g(e)};ii.render=function(t,e,n){if(!Sg(e))throw Error(he(200));return Eg(null,t,e,!1,n)};ii.unmountComponentAtNode=function(t){if(!Sg(t))throw Error(he(40));return t._reactRootContainer?(Fo(function(){Eg(null,null,t,!1,function(){t._reactRootContainer=null,t[p0]=null})}),!0):!1};ii.unstable_batchedUpdates=I8;ii.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sg(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return Eg(t,e,n,!1,r)};ii.version="18.3.1-next-f1338f8080-20240426";function Fj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fj)}catch(t){console.error(t)}}Fj(),FC.exports=ii;var BW=FC.exports,$S=BW;H6.createRoot=$S.createRoot,H6.hydrateRoot=$S.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}var rs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rs||(rs={}));const DS="popstate";function zW(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Fy("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:q3(i)}return WW(e,n,null,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function L8(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qW(){return Math.random().toString(36).substr(2,8)}function LS(t,e){return{usr:t.state,key:t.key,idx:e}}function Fy(t,e,n,r){return n===void 0&&(n=null),Uf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mu(e):e,{state:n,key:e&&e.key||r||qW()})}function q3(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WW(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=rs.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Uf({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=rs.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:o,location:x.location,delta:v})}function h(y,v){o=rs.Push;let b=Fy(x.location,y,v);c=u()+1;let w=LS(b,c),_=x.createHref(b);try{s.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}a&&l&&l({action:o,location:x.location,delta:1})}function p(y,v){o=rs.Replace;let b=Fy(x.location,y,v);c=u();let w=LS(b,c),_=x.createHref(b);s.replaceState(w,"",_),a&&l&&l({action:o,location:x.location,delta:0})}function g(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:q3(y);return b=b.replace(/ $/,"%20"),dn(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let x={get action(){return o},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(DS,d),l=y,()=>{i.removeEventListener(DS,d),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return s.go(y)}};return x}var FS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(FS||(FS={}));function HW(t,e,n){return n===void 0&&(n="/"),GW(t,e,n)}function GW(t,e,n,r){let i=typeof e=="string"?mu(e):e,a=F8(i.pathname||"/",n);if(a==null)return null;let s=Vj(t);KW(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=sH(a);o=rH(s[l],c)}return o}function Vj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(dn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ms([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Vj(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:tH(c,a.index),routesMeta:u})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of Uj(a.path))i(a,s,l)}),e}function Uj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=Uj(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function KW(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YW=/^:[\w-]+$/,QW=3,XW=2,JW=1,ZW=10,eH=-2,VS=t=>t==="*";function tH(t,e){let n=t.split("/"),r=n.length;return n.some(VS)&&(r+=eH),e&&(r+=XW),n.filter(i=>!VS(i)).reduce((i,a)=>i+(YW.test(a)?QW:a===""?JW:ZW),r)}function nH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rH(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=iH({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:ms([a,d.pathname]),pathnameBase:dH(ms([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=ms([a,d.pathnameBase]))}return s}function iH(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let x=o[d]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function aH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),L8(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return L8(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function F8(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const oH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lH=t=>oH.test(t);function cH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?mu(t):t,a;if(n)if(lH(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),L8(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=US(n.substring(1),"/"):a=US(n,e)}else a=e;return{pathname:a,search:fH(r),hash:hH(i)}}function US(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function R5(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function V8(t,e){let n=uH(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function U8(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=mu(t):(i=Uf({},t),dn(!i.pathname||!i.pathname.includes("?"),R5("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),R5("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),R5("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=cH(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ms=t=>t.join("/").replace(/\/\/+/g,"/"),dH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bj=["post","put","patch","delete"];new Set(Bj);const mH=["get",...Bj];new Set(mH);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bf.apply(this,arguments)}const B8=R.createContext(null),gH=R.createContext(null),Vs=R.createContext(null),kg=R.createContext(null),N0=R.createContext({outlet:null,matches:[],isDataRoute:!1}),zj=R.createContext(null);function yH(t,e){let{relative:n}=e===void 0?{}:e;gu()||dn(!1);let{basename:r,navigator:i}=R.useContext(Vs),{hash:a,pathname:s,search:o}=Wj(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ms([r,s])),i.createHref({pathname:l,search:o,hash:a})}function gu(){return R.useContext(kg)!=null}function A0(){return gu()||dn(!1),R.useContext(kg).location}function qj(t){R.useContext(Vs).static||R.useLayoutEffect(t)}function e4(){let{isDataRoute:t}=R.useContext(N0);return t?OH():vH()}function vH(){gu()||dn(!1);let t=R.useContext(B8),{basename:e,future:n,navigator:r}=R.useContext(Vs),{matches:i}=R.useContext(N0),{pathname:a}=A0(),s=JSON.stringify(V8(i,n.v7_relativeSplatPath)),o=R.useRef(!1);return qj(()=>{o.current=!0}),R.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=U8(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ms([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,a,t])}const xH=R.createContext(null);function bH(t){let e=R.useContext(N0).outlet;return e&&R.createElement(xH.Provider,{value:t},e)}function Wj(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Vs),{matches:i}=R.useContext(N0),{pathname:a}=A0(),s=JSON.stringify(V8(i,r.v7_relativeSplatPath));return R.useMemo(()=>U8(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function wH(t,e){return _H(t,e)}function _H(t,e,n,r){gu()||dn(!1);let{navigator:i}=R.useContext(Vs),{matches:a}=R.useContext(N0),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=A0(),u;if(e){var d;let y=typeof e=="string"?mu(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||dn(!1),u=y}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=HW(t,{pathname:p}),x=TH(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:ms([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:ms([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&x?R.createElement(kg.Provider,{value:{location:Bf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:rs.Pop}},x):x}function SH(){let t=CH(),e=pH(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const EH=R.createElement(SH,null);class kH extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(N0.Provider,{value:this.props.routeContext},R.createElement(zj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PH(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(B8);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(N0.Provider,{value:e},r)}function TH(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||dn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,g=!1,x=null,y=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||EH,l&&(c<0&&h===0?(jH("route-fallback"),g=!0,y=null):c===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=x:g?w=y:d.route.Component?w=R.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,R.createElement(PH,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?R.createElement(kH,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var Hj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Hj||{}),Gj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gj||{});function NH(t){let e=R.useContext(B8);return e||dn(!1),e}function AH(t){let e=R.useContext(gH);return e||dn(!1),e}function IH(t){let e=R.useContext(N0);return e||dn(!1),e}function Kj(t){let e=IH(),n=e.matches[e.matches.length-1];return n.route.id||dn(!1),n.route.id}function CH(){var t;let e=R.useContext(zj),n=AH(),r=Kj();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function OH(){let{router:t}=NH(Hj.UseNavigateStable),e=Kj(Gj.UseNavigateStable),n=R.useRef(!1);return qj(()=>{n.current=!0}),R.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Bf({fromRouteId:e},a)))},[t,e])}const BS={};function jH(t,e,n){BS[t]||(BS[t]=!0)}function RH(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Pg(t){let{to:e,replace:n,state:r,relative:i}=t;gu()||dn(!1);let{future:a,static:s}=R.useContext(Vs),{matches:o}=R.useContext(N0),{pathname:l}=A0(),c=e4(),u=U8(e,V8(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return R.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function z8(t){return bH(t.context)}function di(t){dn(!1)}function MH(t){let{basename:e="/",children:n=null,location:r,navigationType:i=rs.Pop,navigator:a,static:s=!1,future:o}=t;gu()&&dn(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:a,static:s,future:Bf({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=mu(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,x=R.useMemo(()=>{let y=F8(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:g},navigationType:i}},[l,u,d,h,p,g,i]);return x==null?null:R.createElement(Vs.Provider,{value:c},R.createElement(kg.Provider,{children:n,value:x}))}function $H(t){let{children:e,location:n}=t;return wH(Vy(e),n)}new Promise(()=>{});function Vy(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Vy(r.props.children,a));return}r.type!==di&&dn(!1),!r.props.index||!r.props.children||dn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Vy(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uy.apply(this,arguments)}function DH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FH(t,e){return t.button===0&&(!e||e==="_self")&&!LH(t)}function By(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function VH(t,e){let n=By(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const UH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BH="6";try{window.__reactRouterVersion=BH}catch{}const zH="startTransition",zS=Cz[zH];function qH(t){let{basename:e,children:n,future:r,window:i}=t,a=R.useRef();a.current==null&&(a.current=zW({window:i,v5Compat:!0}));let s=a.current,[o,l]=R.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=R.useCallback(d=>{c&&zS?zS(()=>l(d)):l(d)},[l,c]);return R.useLayoutEffect(()=>s.listen(u),[s,u]),R.useEffect(()=>RH(r),[r]),R.createElement(MH,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const WH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GH=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=DH(e,UH),{basename:p}=R.useContext(Vs),g,x=!1;if(typeof c=="string"&&HH.test(c)&&(g=c,WH))try{let w=new URL(window.location.href),_=c.startsWith("//")?new URL(w.protocol+c):new URL(c),S=F8(_.pathname,p);_.origin===w.origin&&S!=null?c=S+_.search+_.hash:x=!0}catch{}let y=yH(c,{relative:i}),v=KH(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(w){r&&r(w),w.defaultPrevented||v(w)}return R.createElement("a",Uy({},h,{href:g||y,onClick:x||a?r:b,ref:n,target:l}))});var qS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qS||(qS={}));var WS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(WS||(WS={}));function KH(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=e4(),c=A0(),u=Wj(t,{relative:s});return R.useCallback(d=>{if(FH(d,n)){d.preventDefault();let h=r!==void 0?r:q3(c)===q3(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,t,a,s,o])}function YH(t){let e=R.useRef(By(t)),n=R.useRef(!1),r=A0(),i=R.useMemo(()=>VH(r.search,n.current?null:e.current),[r.search]),a=e4(),s=R.useCallback((o,l)=>{const c=By(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yj=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>R.createElement("svg",{ref:l,...XH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Yj("lucide",i),...o},[...s.map(([c,u])=>R.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(JH,{ref:a,iconNode:e,className:Yj(`lucide-${QH(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=je("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=je("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=je("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=je("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=je("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=je("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=je("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=je("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=je("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=je("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=je("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=je("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=je("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=je("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=je("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=je("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=je("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=je("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=je("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=je("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=je("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=je("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=je("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=je("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=je("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=je("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=je("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=je("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),xG=()=>{};var JS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},uR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||d==null)throw new wG;const h=a<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _G=function(t){const e=cR(t);return uR.encodeByteArray(e,!0)},G3=function(t){return _G(t).replace(/\./g,"")},dR=function(t){try{return uR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=()=>SG().__FIREBASE_DEFAULTS__,kG=()=>{if(typeof process>"u"||typeof JS>"u")return;const t=JS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dR(t[1]);return e&&JSON.parse(e)},Ng=()=>{try{return xG()||EG()||kG()||PG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fR=t=>{var e,n;return(n=(e=Ng())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},hR=t=>{const e=fR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pR=()=>{var t;return(t=Ng())==null?void 0:t.config},mR=t=>{var e;return(e=Ng())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K8(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[G3(JSON.stringify(n)),G3(JSON.stringify(s)),""].join(".")}const sf={};function NG(){const t={prod:[],emulator:[]};for(const e of Object.keys(sf))sf[e]?t.emulator.push(e):t.prod.push(e);return t}function AG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZS=!1;function Y8(t,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||sf[t]===e||sf[t]||ZS)return;sf[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",a=NG().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{ZS=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=AG(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),x=n("learnmore"),y=document.getElementById(x)||document.createElement("a"),v=n("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,x);const _=c();l(b,v),w.append(b,g,y,_),document.body.appendChild(w)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function CG(){var e;const t=(e=Ng())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RG(){const t=ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MG(){return!CG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vR(){try{return typeof indexedDB=="object"}catch{return!1}}function xR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function $G(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG="FirebaseError";class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DG,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?LG(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Ci(i,o,r)}}function LG(t,e){return t.replace(FG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FG=/\{\$([^}]+)}/g;function VG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function As(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(eE(a)&&eE(s)){if(!As(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ad(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Id(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UG(t,e){const n=new BG(t,e);return n.subscribe.bind(n)}class BG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=M5),i.error===void 0&&(i.error=M5),i.complete===void 0&&(i.complete=M5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function M5(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=1e3,WG=2,HG=4*60*60*1e3,GG=.5;function tE(t,e=qG,n=WG){const r=e*Math.pow(n,t),i=Math.round(GG*r*(Math.random()-.5)*2);return Math.min(HG,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class Ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new TG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QG(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YG(t){return t===co?void 0:t}function QG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const JG={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},ZG=at.INFO,eK={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},tK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Ag=class{constructor(e){this.name=e,this._logLevel=ZG,this._logHandler=tK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}};const nK=(t,e)=>e.some(n=>t instanceof n);let nE,rE;function rK(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iK(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bR=new WeakMap,qy=new WeakMap,wR=new WeakMap,$5=new WeakMap,Q8=new WeakMap;function aK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(xs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&bR.set(n,t)}).catch(()=>{}),Q8.set(e,t),e}function sK(t){if(qy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});qy.set(t,e)}let Wy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oK(t){Wy=t(Wy)}function lK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(D5(this),e,...n);return wR.set(r,e.sort?e.sort():[e]),xs(r)}:iK().includes(t)?function(...e){return t.apply(D5(this),e),xs(bR.get(this))}:function(...e){return xs(t.apply(D5(this),e))}}function cK(t){return typeof t=="function"?lK(t):(t instanceof IDBTransaction&&sK(t),nK(t,rK())?new Proxy(t,Wy):t)}function xs(t){if(t instanceof IDBRequest)return aK(t);if($5.has(t))return $5.get(t);const e=cK(t);return e!==t&&($5.set(t,e),Q8.set(e,t)),e}const D5=t=>Q8.get(t);function _R(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=xs(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xs(s.result),l.oldVersion,l.newVersion,xs(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const uK=["get","getKey","getAll","getAllKeys","count"],dK=["put","add","delete","clear"],L5=new Map;function iE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(L5.get(e))return L5.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uK.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return L5.set(e,a),a}oK(t=>({...t,get:(e,n,r)=>iE(e,n)||t.get(e,n,r),has:(e,n)=>!!iE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hy="@firebase/app",aE="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Ag("@firebase/app"),pK="@firebase/app-compat",mK="@firebase/analytics-compat",gK="@firebase/analytics",yK="@firebase/app-check-compat",vK="@firebase/app-check",xK="@firebase/auth",bK="@firebase/auth-compat",wK="@firebase/database",_K="@firebase/data-connect",SK="@firebase/database-compat",EK="@firebase/functions",kK="@firebase/functions-compat",PK="@firebase/installations",TK="@firebase/installations-compat",NK="@firebase/messaging",AK="@firebase/messaging-compat",IK="@firebase/performance",CK="@firebase/performance-compat",OK="@firebase/remote-config",jK="@firebase/remote-config-compat",RK="@firebase/storage",MK="@firebase/storage-compat",$K="@firebase/firestore",DK="@firebase/ai",LK="@firebase/firestore-compat",FK="firebase",VK="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="[DEFAULT]",UK={[Hy]:"fire-core",[pK]:"fire-core-compat",[gK]:"fire-analytics",[mK]:"fire-analytics-compat",[vK]:"fire-app-check",[yK]:"fire-app-check-compat",[xK]:"fire-auth",[bK]:"fire-auth-compat",[wK]:"fire-rtdb",[_K]:"fire-data-connect",[SK]:"fire-rtdb-compat",[EK]:"fire-fn",[kK]:"fire-fn-compat",[PK]:"fire-iid",[TK]:"fire-iid-compat",[NK]:"fire-fcm",[AK]:"fire-fcm-compat",[IK]:"fire-perf",[CK]:"fire-perf-compat",[OK]:"fire-rc",[jK]:"fire-rc-compat",[RK]:"fire-gcs",[MK]:"fire-gcs-compat",[$K]:"fire-fst",[LK]:"fire-fst-compat",[DK]:"fire-vertex","fire-js":"fire-js",[FK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new Map,BK=new Map,Ky=new Map;function sE(t,e){try{t.container.addComponent(e)}catch(n){y0.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function na(t){const e=t.name;if(Ky.has(e))return y0.debug(`There were multiple attempts to register component ${e}.`),!1;Ky.set(e,t);for(const n of K3.values())sE(n,t);for(const n of BK.values())sE(n,t);return!0}function Us(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new dl("app","Firebase",zK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=VK;function SR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gy,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw bs.create("bad-app-name",{appName:String(i)});if(n||(n=pR()),!n)throw bs.create("no-options");const a=K3.get(i);if(a){if(As(n,a.options)&&As(r,a.config))return a;throw bs.create("duplicate-app",{appName:i})}const s=new XG(i);for(const l of Ky.values())s.addComponent(l);const o=new qK(n,r,s);return K3.set(i,o),o}function Ig(t=Gy){const e=K3.get(t);if(!e&&t===Gy&&pR())return SR();if(!e)throw bs.create("no-app",{appName:t});return e}function $r(t,e,n){let r=UK[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),y0.warn(s.join(" "));return}na(new Ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK="firebase-heartbeat-database",HK=1,zf="firebase-heartbeat-store";let F5=null;function ER(){return F5||(F5=_R(WK,HK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zf)}catch(n){console.warn(n)}}}}).catch(t=>{throw bs.create("idb-open",{originalErrorMessage:t.message})})),F5}async function GK(t){try{const n=(await ER()).transaction(zf),r=await n.objectStore(zf).get(kR(t));return await n.done,r}catch(e){if(e instanceof Ci)y0.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});y0.warn(n.message)}}}async function oE(t,e){try{const r=(await ER()).transaction(zf,"readwrite");await r.objectStore(zf).put(e,kR(t)),await r.done}catch(n){if(n instanceof Ci)y0.warn(n.message);else{const r=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});y0.warn(r.message)}}}function kR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KK=1024,YK=30;class QK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=lE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>YK){const s=ZK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){y0.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lE(),{heartbeatsToSend:r,unsentEntries:i}=XK(this._heartbeatsCache.heartbeats),a=G3(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return y0.warn(n),""}}}function lE(){return new Date().toISOString().substring(0,10)}function XK(t,e=KK){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),cE(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vR()?xR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function cE(t){return G3(JSON.stringify({version:2,heartbeats:t})).length}function ZK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t){na(new Ni("platform-logger",e=>new fK(e),"PRIVATE")),na(new Ni("heartbeat",e=>new QK(e),"PRIVATE")),$r(Hy,aE,t),$r(Hy,aE,"esm2020"),$r("fire-js","")}eY("");var uE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,PR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,k){function N(){}N.prototype=k.prototype,E.F=k.prototype,E.prototype=new N,E.prototype.constructor=E,E.D=function(I,A,j){for(var O=Array(arguments.length-2),$=2;$<arguments.length;$++)O[$-2]=arguments[$];return k.prototype[A].apply(I,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,k,N){N||(N=0);const I=Array(16);if(typeof k=="string")for(var A=0;A<16;++A)I[A]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(A=0;A<16;++A)I[A]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=E.g[0],N=E.g[1],A=E.g[2];let j=E.g[3],O;O=k+(j^N&(A^j))+I[0]+3614090360&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(A^k&(N^A))+I[1]+3905402710&4294967295,j=k+(O<<12&4294967295|O>>>20),O=A+(N^j&(k^N))+I[2]+606105819&4294967295,A=j+(O<<17&4294967295|O>>>15),O=N+(k^A&(j^k))+I[3]+3250441966&4294967295,N=A+(O<<22&4294967295|O>>>10),O=k+(j^N&(A^j))+I[4]+4118548399&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(A^k&(N^A))+I[5]+1200080426&4294967295,j=k+(O<<12&4294967295|O>>>20),O=A+(N^j&(k^N))+I[6]+2821735955&4294967295,A=j+(O<<17&4294967295|O>>>15),O=N+(k^A&(j^k))+I[7]+4249261313&4294967295,N=A+(O<<22&4294967295|O>>>10),O=k+(j^N&(A^j))+I[8]+1770035416&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(A^k&(N^A))+I[9]+2336552879&4294967295,j=k+(O<<12&4294967295|O>>>20),O=A+(N^j&(k^N))+I[10]+4294925233&4294967295,A=j+(O<<17&4294967295|O>>>15),O=N+(k^A&(j^k))+I[11]+2304563134&4294967295,N=A+(O<<22&4294967295|O>>>10),O=k+(j^N&(A^j))+I[12]+1804603682&4294967295,k=N+(O<<7&4294967295|O>>>25),O=j+(A^k&(N^A))+I[13]+4254626195&4294967295,j=k+(O<<12&4294967295|O>>>20),O=A+(N^j&(k^N))+I[14]+2792965006&4294967295,A=j+(O<<17&4294967295|O>>>15),O=N+(k^A&(j^k))+I[15]+1236535329&4294967295,N=A+(O<<22&4294967295|O>>>10),O=k+(A^j&(N^A))+I[1]+4129170786&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^A&(k^N))+I[6]+3225465664&4294967295,j=k+(O<<9&4294967295|O>>>23),O=A+(k^N&(j^k))+I[11]+643717713&4294967295,A=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(A^j))+I[0]+3921069994&4294967295,N=A+(O<<20&4294967295|O>>>12),O=k+(A^j&(N^A))+I[5]+3593408605&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^A&(k^N))+I[10]+38016083&4294967295,j=k+(O<<9&4294967295|O>>>23),O=A+(k^N&(j^k))+I[15]+3634488961&4294967295,A=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(A^j))+I[4]+3889429448&4294967295,N=A+(O<<20&4294967295|O>>>12),O=k+(A^j&(N^A))+I[9]+568446438&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^A&(k^N))+I[14]+3275163606&4294967295,j=k+(O<<9&4294967295|O>>>23),O=A+(k^N&(j^k))+I[3]+4107603335&4294967295,A=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(A^j))+I[8]+1163531501&4294967295,N=A+(O<<20&4294967295|O>>>12),O=k+(A^j&(N^A))+I[13]+2850285829&4294967295,k=N+(O<<5&4294967295|O>>>27),O=j+(N^A&(k^N))+I[2]+4243563512&4294967295,j=k+(O<<9&4294967295|O>>>23),O=A+(k^N&(j^k))+I[7]+1735328473&4294967295,A=j+(O<<14&4294967295|O>>>18),O=N+(j^k&(A^j))+I[12]+2368359562&4294967295,N=A+(O<<20&4294967295|O>>>12),O=k+(N^A^j)+I[5]+4294588738&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^A)+I[8]+2272392833&4294967295,j=k+(O<<11&4294967295|O>>>21),O=A+(j^k^N)+I[11]+1839030562&4294967295,A=j+(O<<16&4294967295|O>>>16),O=N+(A^j^k)+I[14]+4259657740&4294967295,N=A+(O<<23&4294967295|O>>>9),O=k+(N^A^j)+I[1]+2763975236&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^A)+I[4]+1272893353&4294967295,j=k+(O<<11&4294967295|O>>>21),O=A+(j^k^N)+I[7]+4139469664&4294967295,A=j+(O<<16&4294967295|O>>>16),O=N+(A^j^k)+I[10]+3200236656&4294967295,N=A+(O<<23&4294967295|O>>>9),O=k+(N^A^j)+I[13]+681279174&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^A)+I[0]+3936430074&4294967295,j=k+(O<<11&4294967295|O>>>21),O=A+(j^k^N)+I[3]+3572445317&4294967295,A=j+(O<<16&4294967295|O>>>16),O=N+(A^j^k)+I[6]+76029189&4294967295,N=A+(O<<23&4294967295|O>>>9),O=k+(N^A^j)+I[9]+3654602809&4294967295,k=N+(O<<4&4294967295|O>>>28),O=j+(k^N^A)+I[12]+3873151461&4294967295,j=k+(O<<11&4294967295|O>>>21),O=A+(j^k^N)+I[15]+530742520&4294967295,A=j+(O<<16&4294967295|O>>>16),O=N+(A^j^k)+I[2]+3299628645&4294967295,N=A+(O<<23&4294967295|O>>>9),O=k+(A^(N|~j))+I[0]+4096336452&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~A))+I[7]+1126891415&4294967295,j=k+(O<<10&4294967295|O>>>22),O=A+(k^(j|~N))+I[14]+2878612391&4294967295,A=j+(O<<15&4294967295|O>>>17),O=N+(j^(A|~k))+I[5]+4237533241&4294967295,N=A+(O<<21&4294967295|O>>>11),O=k+(A^(N|~j))+I[12]+1700485571&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~A))+I[3]+2399980690&4294967295,j=k+(O<<10&4294967295|O>>>22),O=A+(k^(j|~N))+I[10]+4293915773&4294967295,A=j+(O<<15&4294967295|O>>>17),O=N+(j^(A|~k))+I[1]+2240044497&4294967295,N=A+(O<<21&4294967295|O>>>11),O=k+(A^(N|~j))+I[8]+1873313359&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~A))+I[15]+4264355552&4294967295,j=k+(O<<10&4294967295|O>>>22),O=A+(k^(j|~N))+I[6]+2734768916&4294967295,A=j+(O<<15&4294967295|O>>>17),O=N+(j^(A|~k))+I[13]+1309151649&4294967295,N=A+(O<<21&4294967295|O>>>11),O=k+(A^(N|~j))+I[4]+4149444226&4294967295,k=N+(O<<6&4294967295|O>>>26),O=j+(N^(k|~A))+I[11]+3174756917&4294967295,j=k+(O<<10&4294967295|O>>>22),O=A+(k^(j|~N))+I[2]+718787259&4294967295,A=j+(O<<15&4294967295|O>>>17),O=N+(j^(A|~k))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+k&4294967295,E.g[1]=E.g[1]+(A+(O<<21&4294967295|O>>>11))&4294967295,E.g[2]=E.g[2]+A&4294967295,E.g[3]=E.g[3]+j&4294967295}r.prototype.v=function(E,k){k===void 0&&(k=E.length);const N=k-this.blockSize,I=this.C;let A=this.h,j=0;for(;j<k;){if(A==0)for(;j<=N;)i(this,E,j),j+=this.blockSize;if(typeof E=="string"){for(;j<k;)if(I[A++]=E.charCodeAt(j++),A==this.blockSize){i(this,I),A=0;break}}else for(;j<k;)if(I[A++]=E[j++],A==this.blockSize){i(this,I),A=0;break}}this.h=A,this.o+=k},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var k=1;k<E.length-8;++k)E[k]=0;k=this.o*8;for(var N=E.length-8;N<E.length;++N)E[N]=k&255,k/=256;for(this.v(E),E=Array(16),k=0,N=0;N<4;++N)for(let I=0;I<32;I+=8)E[k++]=this.g[N]>>>I&255;return E};function a(E,k){var N=o;return Object.prototype.hasOwnProperty.call(N,E)?N[E]:N[E]=k(E)}function s(E,k){this.h=k;const N=[];let I=!0;for(let A=E.length-1;A>=0;A--){const j=E[A]|0;I&&j==k||(N[A]=j,I=!1)}this.g=N}var o={};function l(E){return-128<=E&&E<128?a(E,function(k){return new s([k|0],k<0?-1:0)}):new s([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return d;if(E<0)return y(c(-E));const k=[];let N=1;for(let I=0;E>=N;I++)k[I]=E/N|0,N*=4294967296;return new s(k,0)}function u(E,k){if(E.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(E.charAt(0)=="-")return y(u(E.substring(1),k));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=c(Math.pow(k,8));let I=d;for(let j=0;j<E.length;j+=8){var A=Math.min(8,E.length-j);const O=parseInt(E.substring(j,j+A),k);A<8?(A=c(Math.pow(k,A)),I=I.j(A).add(c(O))):(I=I.j(N),I=I.add(c(O)))}return I}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(x(this))return-y(this).m();let E=0,k=1;for(let N=0;N<this.g.length;N++){const I=this.i(N);E+=(I>=0?I:4294967296+I)*k,k*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(x(this))return"-"+y(this).toString(E);const k=c(Math.pow(E,6));var N=this;let I="";for(;;){const A=_(N,k).g;N=v(N,A.j(k));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(E);if(N=A,g(N))return j+I;for(;j.length<6;)j="0"+j;I=j+I}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(let k=0;k<E.g.length;k++)if(E.g[k]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=v(this,E),x(E)?-1:g(E)?0:1};function y(E){const k=E.g.length,N=[];for(let I=0;I<k;I++)N[I]=~E.g[I];return new s(N,~E.h).add(h)}t.abs=function(){return x(this)?y(this):this},t.add=function(E){const k=Math.max(this.g.length,E.g.length),N=[];let I=0;for(let A=0;A<=k;A++){let j=I+(this.i(A)&65535)+(E.i(A)&65535),O=(j>>>16)+(this.i(A)>>>16)+(E.i(A)>>>16);I=O>>>16,j&=65535,O&=65535,N[A]=O<<16|j}return new s(N,N[N.length-1]&-2147483648?-1:0)};function v(E,k){return E.add(y(k))}t.j=function(E){if(g(this)||g(E))return d;if(x(this))return x(E)?y(this).j(y(E)):y(y(this).j(E));if(x(E))return y(this.j(y(E)));if(this.l(p)<0&&E.l(p)<0)return c(this.m()*E.m());const k=this.g.length+E.g.length,N=[];for(var I=0;I<2*k;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(let A=0;A<E.g.length;A++){const j=this.i(I)>>>16,O=this.i(I)&65535,$=E.i(A)>>>16,M=E.i(A)&65535;N[2*I+2*A]+=O*M,b(N,2*I+2*A),N[2*I+2*A+1]+=j*M,b(N,2*I+2*A+1),N[2*I+2*A+1]+=O*$,b(N,2*I+2*A+1),N[2*I+2*A+2]+=j*$,b(N,2*I+2*A+2)}for(E=0;E<k;E++)N[E]=N[2*E+1]<<16|N[2*E];for(E=k;E<2*k;E++)N[E]=0;return new s(N,0)};function b(E,k){for(;(E[k]&65535)!=E[k];)E[k+1]+=E[k]>>>16,E[k]&=65535,k++}function w(E,k){this.g=E,this.h=k}function _(E,k){if(g(k))throw Error("division by zero");if(g(E))return new w(d,d);if(x(E))return k=_(y(E),k),new w(y(k.g),y(k.h));if(x(k))return k=_(E,y(k)),new w(y(k.g),k.h);if(E.g.length>30){if(x(E)||x(k))throw Error("slowDivide_ only works with positive integers.");for(var N=h,I=k;I.l(E)<=0;)N=S(N),I=S(I);var A=P(N,1),j=P(I,1);for(I=P(I,2),N=P(N,2);!g(I);){var O=j.add(I);O.l(E)<=0&&(A=A.add(N),j=O),I=P(I,1),N=P(N,1)}return k=v(E,A.j(k)),new w(A,k)}for(A=d;E.l(k)>=0;){for(N=Math.max(1,Math.floor(E.m()/k.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),j=c(N),O=j.j(k);x(O)||O.l(E)>0;)N-=I,j=c(N),O=j.j(k);g(j)&&(j=h),A=A.add(j),E=v(E,O)}return new w(A,E)}t.B=function(E){return _(this,E).h},t.and=function(E){const k=Math.max(this.g.length,E.g.length),N=[];for(let I=0;I<k;I++)N[I]=this.i(I)&E.i(I);return new s(N,this.h&E.h)},t.or=function(E){const k=Math.max(this.g.length,E.g.length),N=[];for(let I=0;I<k;I++)N[I]=this.i(I)|E.i(I);return new s(N,this.h|E.h)},t.xor=function(E){const k=Math.max(this.g.length,E.g.length),N=[];for(let I=0;I<k;I++)N[I]=this.i(I)^E.i(I);return new s(N,this.h^E.h)};function S(E){const k=E.g.length+1,N=[];for(let I=0;I<k;I++)N[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(N,E.h)}function P(E,k){const N=k>>5;k%=32;const I=E.g.length-N,A=[];for(let j=0;j<I;j++)A[j]=k>0?E.i(j+N)>>>k|E.i(j+N+1)<<32-k:E.i(j+N);return new s(A,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,PR=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,ws=s}).apply(typeof uE<"u"?uE:typeof self<"u"?self:typeof window<"u"?window:{});var rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TR,Cd,NR,Zp,Yy,AR,IR,CR;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof rp=="object"&&rp];for(var T=0;T<m.length;++T){var C=m[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var C=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var Y=m[L];if(!(Y in C))break e;C=C[Y]}m=m[m.length-1],L=C[m],T=T(L),T!=L&&T!=null&&e(C,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var C=[],L;for(L in T)Object.prototype.hasOwnProperty.call(T,L)&&C.push([L,T[L]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,C){return m.call.apply(m.bind,arguments)}function c(m,T,C){return c=l,c.apply(null,arguments)}function u(m,T){var C=Array.prototype.slice.call(arguments,1);return function(){var L=C.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function d(m,T){function C(){}C.prototype=T.prototype,m.Z=T.prototype,m.prototype=new C,m.prototype.constructor=m,m.Ob=function(L,Y,J){for(var xe=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)xe[Xe-2]=arguments[Xe];return T.prototype[Y].apply(L,xe)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const T=m.length;if(T>0){const C=Array(T);for(let L=0;L<T;L++)C[L]=m[L];return C}return[]}function g(m,T){for(let L=1;L<arguments.length;L++){const Y=arguments[L];var C=typeof Y;if(C=C!="object"?C:Y?Array.isArray(Y)?"array":C:"null",C=="array"||C=="object"&&typeof Y.length=="number"){C=m.length||0;const J=Y.length||0;m.length=C+J;for(let xe=0;xe<J;xe++)m[C+xe]=Y[xe]}else m.push(Y)}}class x{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function y(m){s.setTimeout(()=>{throw m},0)}function v(){var m=E;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class b{constructor(){this.h=this.g=null}add(T,C){const L=w.get();L.set(T,C),this.h?this.h.next=L:this.g=L,this.h=L}}var w=new x(()=>new _,m=>m.reset());class _{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let S,P=!1,E=new b,k=()=>{const m=Promise.resolve(void 0);S=()=>{m.then(N)}};function N(){for(var m;m=v();){try{m.h.call(m.g)}catch(C){y(C)}var T=w;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}P=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};s.addEventListener("test",C,T),s.removeEventListener("test",C,T)}catch{}return m}();function O(m){return/^[\s\xa0]*$/.test(m)}function $(m,T){A.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}d($,A),$.prototype.init=function(m,T){const C=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(C=="mouseover"?T=m.fromElement:C=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var M="closure_listenable_"+(Math.random()*1e6|0),D=0;function V(m,T,C,L,Y){this.listener=m,this.proxy=null,this.src=T,this.type=C,this.capture=!!L,this.ha=Y,this.key=++D,this.da=this.fa=!1}function F(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function U(m,T,C){for(const L in m)T.call(C,m[L],L,m)}function H(m,T){for(const C in m)T.call(void 0,m[C],C,m)}function G(m){const T={};for(const C in m)T[C]=m[C];return T}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(m,T){let C,L;for(let Y=1;Y<arguments.length;Y++){L=arguments[Y];for(C in L)m[C]=L[C];for(let J=0;J<K.length;J++)C=K[J],Object.prototype.hasOwnProperty.call(L,C)&&(m[C]=L[C])}}function ce(m){this.src=m,this.g={},this.h=0}ce.prototype.add=function(m,T,C,L,Y){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const xe=ee(m,T,L,Y);return xe>-1?(T=m[xe],C||(T.fa=!1)):(T=new V(T,this.src,J,!!L,Y),T.fa=C,m.push(T)),T};function pe(m,T){const C=T.type;if(C in m.g){var L=m.g[C],Y=Array.prototype.indexOf.call(L,T,void 0),J;(J=Y>=0)&&Array.prototype.splice.call(L,Y,1),J&&(F(T),m.g[C].length==0&&(delete m.g[C],m.h--))}}function ee(m,T,C,L){for(let Y=0;Y<m.length;++Y){const J=m[Y];if(!J.da&&J.listener==T&&J.capture==!!C&&J.ha==L)return Y}return-1}var we="closure_lm_"+(Math.random()*1e6|0),Ce={};function ie(m,T,C,L,Y){if(Array.isArray(T)){for(let J=0;J<T.length;J++)ie(m,T[J],C,L,Y);return null}return C=bt(C),m&&m[M]?m.J(T,C,o(L)?!!L.capture:!1,Y):be(m,T,C,!1,L,Y)}function be(m,T,C,L,Y,J){if(!T)throw Error("Invalid event type");const xe=o(Y)?!!Y.capture:!!Y;let Xe=ve(m);if(Xe||(m[we]=Xe=new ce(m)),C=Xe.add(T,C,L,xe,J),C.proxy)return C;if(L=Z(),C.proxy=L,L.src=m,L.listener=C,m.addEventListener)j||(Y=xe),Y===void 0&&(Y=!1),m.addEventListener(T.toString(),L,Y);else if(m.attachEvent)m.attachEvent(ke(T.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Z(){function m(C){return T.call(m.src,m.listener,C)}const T=ge;return m}function W(m,T,C,L,Y){if(Array.isArray(T))for(var J=0;J<T.length;J++)W(m,T[J],C,L,Y);else L=o(L)?!!L.capture:!!L,C=bt(C),m&&m[M]?(m=m.i,J=String(T).toString(),J in m.g&&(T=m.g[J],C=ee(T,C,L,Y),C>-1&&(F(T[C]),Array.prototype.splice.call(T,C,1),T.length==0&&(delete m.g[J],m.h--)))):m&&(m=ve(m))&&(T=m.g[T.toString()],m=-1,T&&(m=ee(T,C,L,Y)),(C=m>-1?T[m]:null)&&de(C))}function de(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[M])pe(T.i,m);else{var C=m.type,L=m.proxy;T.removeEventListener?T.removeEventListener(C,L,m.capture):T.detachEvent?T.detachEvent(ke(C),L):T.addListener&&T.removeListener&&T.removeListener(L),(C=ve(T))?(pe(C,m),C.h==0&&(C.src=null,T[we]=null)):F(m)}}}function ke(m){return m in Ce?Ce[m]:Ce[m]="on"+m}function ge(m,T){if(m.da)m=!0;else{T=new $(T,this);const C=m.listener,L=m.ha||m.src;m.fa&&de(m),m=C.call(L,T)}return m}function ve(m){return m=m[we],m instanceof ce?m:null}var Re="__closure_events_fn_"+(Math.random()*1e9>>>0);function bt(m){return typeof m=="function"?m:(m[Re]||(m[Re]=function(T){return m.handleEvent(T)}),m[Re])}function Ke(){I.call(this),this.i=new ce(this),this.M=this,this.G=null}d(Ke,I),Ke.prototype[M]=!0,Ke.prototype.removeEventListener=function(m,T,C,L){W(this,m,T,C,L)};function et(m,T){var C,L=m.G;if(L)for(C=[];L;L=L.G)C.push(L);if(m=m.M,L=T.type||T,typeof T=="string")T=new A(T,m);else if(T instanceof A)T.target=T.target||m;else{var Y=T;T=new A(L,m),ne(T,Y)}Y=!0;let J,xe;if(C)for(xe=C.length-1;xe>=0;xe--)J=T.g=C[xe],Y=X(J,L,!0,T)&&Y;if(J=T.g=m,Y=X(J,L,!0,T)&&Y,Y=X(J,L,!1,T)&&Y,C)for(xe=0;xe<C.length;xe++)J=T.g=C[xe],Y=X(J,L,!1,T)&&Y}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const C=m.g[T];for(let L=0;L<C.length;L++)F(C[L]);delete m.g[T],m.h--}}this.G=null},Ke.prototype.J=function(m,T,C,L){return this.i.add(String(m),T,!1,C,L)},Ke.prototype.K=function(m,T,C,L){return this.i.add(String(m),T,!0,C,L)};function X(m,T,C,L){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let Y=!0;for(let J=0;J<T.length;++J){const xe=T[J];if(xe&&!xe.da&&xe.capture==C){const Xe=xe.listener,vn=xe.ha||xe.src;xe.fa&&pe(m.i,xe),Y=Xe.call(vn,L)!==!1&&Y}}return Y&&!L.defaultPrevented}function ue(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=c(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(m,T||0)}function Ie(m){m.g=ue(()=>{m.g=null,m.i&&(m.i=!1,Ie(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Ye extends I{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(m){I.call(this),this.h=m,this.g={}}d(Be,I);var gt=[];function Nt(m){U(m.g,function(T,C){this.g.hasOwnProperty(C)&&de(T)},m),m.g={}}Be.prototype.N=function(){Be.Z.N.call(this),Nt(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=s.JSON.stringify,Ae=s.JSON.parse,it=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function tt(){}function te(){}var z={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function me(){A.call(this,"d")}d(me,A);function _e(){A.call(this,"c")}d(_e,A);var ze={},ht=null;function Rt(){return ht=ht||new Ke}ze.Ia="serverreachability";function Er(m){A.call(this,ze.Ia,m)}d(Er,A);function Hn(m){const T=Rt();et(T,new Er(T))}ze.STAT_EVENT="statevent";function q(m,T){A.call(this,ze.STAT_EVENT,m),this.stat=T}d(q,A);function Q(m){const T=Rt();et(T,new q(T,m))}ze.Ja="timingevent";function fe(m,T){A.call(this,ze.Ja,m),this.size=T}d(fe,A);function Me(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},T)}function ct(){this.g=!0}ct.prototype.ua=function(){this.g=!1};function St(m,T,C,L,Y,J){m.info(function(){if(m.g)if(J){var xe="",Xe=J.split("&");for(let At=0;At<Xe.length;At++){var vn=Xe[At].split("=");if(vn.length>1){const An=vn[0];vn=vn[1];const oa=An.split("_");xe=oa.length>=2&&oa[1]=="type"?xe+(An+"="+vn+"&"):xe+(An+"=redacted&")}}}else xe=null;else xe=J;return"XMLHTTP REQ ("+L+") [attempt "+Y+"]: "+T+`
`+C+`
`+xe})}function Tn(m,T,C,L,Y,J,xe){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Y+"]: "+T+`
`+C+`
`+J+" "+xe})}function si(m,T,C,L){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+bl(m,C)+(L?" "+L:"")})}function Nn(m,T){m.info(function(){return"TIMEOUT: "+T})}ct.prototype.info=function(){};function bl(m,T){if(!m.g)return T;if(!T)return null;try{const J=JSON.parse(T);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var C=J[m];if(!(C.length<2)){var L=C[1];if(Array.isArray(L)&&!(L.length<1)){var Y=L[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let xe=1;xe<L.length;xe++)L[xe]=""}}}}return ae(J)}catch{return T}}var wl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zw={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qw;function K2(){}d(K2,tt),K2.prototype.g=function(){return new XMLHttpRequest},qw=new K2;function Fu(m){return encodeURIComponent(String(m))}function XB(m){var T=1;m=m.split(":");const C=[];for(;T>0&&m.length;)C.push(m.shift()),T--;return m.length&&C.push(m.join(":")),C}function j0(m,T,C,L){this.j=m,this.i=T,this.l=C,this.S=L||1,this.V=new Be(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ww}function Ww(){this.i=null,this.g="",this.h=!1}var Hw={},Y2={};function Q2(m,T,C){m.M=1,m.A=C4(sa(T)),m.u=C,m.R=!0,Gw(m,null)}function Gw(m,T){m.F=Date.now(),I4(m),m.B=sa(m.A);var C=m.B,L=m.S;Array.isArray(L)||(L=[String(L)]),s_(C.i,"t",L),m.C=0,C=m.j.L,m.h=new Ww,m.g=E_(m.j,C?T:null,!m.u),m.P>0&&(m.O=new Ye(c(m.Y,m,m.g),m.P)),T=m.V,C=m.g,L=m.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(gt[0]=Y.toString()),Y=gt);for(let J=0;J<Y.length;J++){const xe=ie(C,Y[J],L||T.handleEvent,!1,T.h||T);if(!xe)break;T.g[xe.key]=xe}T=m.J?G(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Hn(),St(m.i,m.v,m.B,m.l,m.S,m.u)}j0.prototype.ba=function(m){m=m.target;const T=this.O;T&&$0(m)==3?T.j():this.Y(m)},j0.prototype.Y=function(m){try{if(m==this.g)e:{const Xe=$0(this.g),vn=this.g.ya(),At=this.g.ca();if(!(Xe<3)&&(Xe!=3||this.g&&(this.h.h||this.g.la()||h_(this.g)))){this.K||Xe!=4||vn==7||(vn==8||At<=0?Hn(3):Hn(2)),X2(this);var T=this.g.ca();this.X=T;var C=JB(this);if(this.o=T==200,Tn(this.i,this.v,this.B,this.l,this.S,Xe,T),this.o){if(this.U&&!this.L){t:{if(this.g){var L,Y=this.g;if((L=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(L)){var J=L;break t}}J=null}if(m=J)si(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,J2(this,m);else{this.o=!1,this.m=3,Q(12),eo(this),Vu(this);break e}}if(this.R){m=!0;let An;for(;!this.K&&this.C<C.length;)if(An=ZB(this,C),An==Y2){Xe==4&&(this.m=4,Q(14),m=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Hw){this.m=4,Q(15),si(this.i,this.l,C,"[Invalid Chunk]"),m=!1;break}else si(this.i,this.l,An,null),J2(this,An);if(Kw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||C.length!=0||this.h.h||(this.m=1,Q(16),m=!1),this.o=this.o&&m,!m)si(this.i,this.l,C,"[Invalid Chunked Response]"),eo(this),Vu(this);else if(C.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),s5(xe),xe.P=!0,Q(11))}}else si(this.i,this.l,C,null),J2(this,C);Xe==4&&eo(this),this.o&&!this.K&&(Xe==4?b_(this.j,this):(this.o=!1,I4(this)))}else hz(this.g),T==400&&C.indexOf("Unknown SID")>0?(this.m=3,Q(12)):(this.m=0,Q(13)),eo(this),Vu(this)}}}catch{}finally{}};function JB(m){if(!Kw(m))return m.g.la();const T=h_(m.g);if(T==="")return"";let C="";const L=T.length,Y=$0(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return eo(m),Vu(m),"";m.h.i=new s.TextDecoder}for(let J=0;J<L;J++)m.h.h=!0,C+=m.h.i.decode(T[J],{stream:!(Y&&J==L-1)});return T.length=0,m.h.g+=C,m.C=0,m.h.g}function Kw(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function ZB(m,T){var C=m.C,L=T.indexOf(`
`,C);return L==-1?Y2:(C=Number(T.substring(C,L)),isNaN(C)?Hw:(L+=1,L+C>T.length?Y2:(T=T.slice(L,L+C),m.C=L+C,T)))}j0.prototype.cancel=function(){this.K=!0,eo(this)};function I4(m){m.T=Date.now()+m.H,Yw(m,m.H)}function Yw(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Me(c(m.aa,m),T)}function X2(m){m.D&&(s.clearTimeout(m.D),m.D=null)}j0.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Nn(this.i,this.B),this.M!=2&&(Hn(),Q(17)),eo(this),this.m=2,Vu(this)):Yw(this,this.T-m)};function Vu(m){m.j.I==0||m.K||b_(m.j,m)}function eo(m){X2(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,Nt(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function J2(m,T){try{var C=m.j;if(C.I!=0&&(C.g==m||Z2(C.h,m))){if(!m.L&&Z2(C.h,m)&&C.I==3){try{var L=C.Ba.g.parse(T)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Y=L;if(Y[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<m.F)$4(C),R4(C);else break e;a5(C),Q(18)}}else C.xa=Y[1],0<C.xa-C.K&&Y[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Me(c(C.Va,C),6e3));Jw(C.h)<=1&&C.ta&&(C.ta=void 0)}else no(C,11)}else if((m.L||C.g==m)&&$4(C),!O(T))for(Y=C.Ba.g.parse(T),T=0;T<Y.length;T++){let At=Y[T];const An=At[0];if(!(An<=C.K))if(C.K=An,At=At[1],C.I==2)if(At[0]=="c"){C.M=At[1],C.ba=At[2];const oa=At[3];oa!=null&&(C.ka=oa,C.j.info("VER="+C.ka));const ro=At[4];ro!=null&&(C.za=ro,C.j.info("SVER="+C.za));const D0=At[5];D0!=null&&typeof D0=="number"&&D0>0&&(L=1.5*D0,C.O=L,C.j.info("backChannelRequestTimeoutMs_="+L)),L=C;const L0=m.g;if(L0){const L4=L0.g?L0.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L4){var J=L.h;J.g||L4.indexOf("spdy")==-1&&L4.indexOf("quic")==-1&&L4.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(e5(J,J.h),J.h=null))}if(L.G){const o5=L0.g?L0.g.getResponseHeader("X-HTTP-Session-Id"):null;o5&&(L.wa=o5,Vt(L.J,L.G,o5))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-m.F,C.j.info("Handshake RTT: "+C.T+"ms")),L=C;var xe=m;if(L.na=S_(L,L.L?L.ba:null,L.W),xe.L){Zw(L.h,xe);var Xe=xe,vn=L.O;vn&&(Xe.H=vn),Xe.D&&(X2(Xe),I4(Xe)),L.g=xe}else v_(L);C.i.length>0&&M4(C)}else At[0]!="stop"&&At[0]!="close"||no(C,7);else C.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?no(C,7):i5(C):At[0]!="noop"&&C.l&&C.l.qa(At),C.A=0)}}Hn(4)}catch{}}var ez=class{constructor(m,T){this.g=m,this.map=T}};function Qw(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xw(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Jw(m){return m.h?1:m.g?m.g.size:0}function Z2(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function e5(m,T){m.g?m.g.add(T):m.h=T}function Zw(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Qw.prototype.cancel=function(){if(this.i=e_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function e_(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const C of m.g.values())T=T.concat(C.G);return T}return p(m.i)}var t_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tz(m,T){if(m){m=m.split("&");for(let C=0;C<m.length;C++){const L=m[C].indexOf("=");let Y,J=null;L>=0?(Y=m[C].substring(0,L),J=m[C].substring(L+1)):Y=m[C],T(Y,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function R0(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof R0?(this.l=m.l,Uu(this,m.j),this.o=m.o,this.g=m.g,Bu(this,m.u),this.h=m.h,t5(this,o_(m.i)),this.m=m.m):m&&(T=String(m).match(t_))?(this.l=!1,Uu(this,T[1]||"",!0),this.o=zu(T[2]||""),this.g=zu(T[3]||"",!0),Bu(this,T[4]),this.h=zu(T[5]||"",!0),t5(this,T[6]||"",!0),this.m=zu(T[7]||"")):(this.l=!1,this.i=new Wu(null,this.l))}R0.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(qu(T,n_,!0),":");var C=this.g;return(C||T=="file")&&(m.push("//"),(T=this.o)&&m.push(qu(T,n_,!0),"@"),m.push(Fu(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&m.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(qu(C,C.charAt(0)=="/"?iz:rz,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",qu(C,sz)),m.join("")},R0.prototype.resolve=function(m){const T=sa(this);let C=!!m.j;C?Uu(T,m.j):C=!!m.o,C?T.o=m.o:C=!!m.g,C?T.g=m.g:C=m.u!=null;var L=m.h;if(C)Bu(T,m.u);else if(C=!!m.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var Y=T.h.lastIndexOf("/");Y!=-1&&(L=T.h.slice(0,Y+1)+L)}if(Y=L,Y==".."||Y==".")L="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){L=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const J=[];for(let xe=0;xe<Y.length;){const Xe=Y[xe++];Xe=="."?L&&xe==Y.length&&J.push(""):Xe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),L&&xe==Y.length&&J.push("")):(J.push(Xe),L=!0)}L=J.join("/")}else L=Y}return C?T.h=L:C=m.i.toString()!=="",C?t5(T,o_(m.i)):C=!!m.m,C&&(T.m=m.m),T};function sa(m){return new R0(m)}function Uu(m,T,C){m.j=C?zu(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Bu(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function t5(m,T,C){T instanceof Wu?(m.i=T,oz(m.i,m.l)):(C||(T=qu(T,az)),m.i=new Wu(T,m.l))}function Vt(m,T,C){m.i.set(T,C)}function C4(m){return Vt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function zu(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function qu(m,T,C){return typeof m=="string"?(m=encodeURI(m).replace(T,nz),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function nz(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var n_=/[#\/\?@]/g,rz=/[#\?:]/g,iz=/[#\?]/g,az=/[#\?@]/g,sz=/#/g;function Wu(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function to(m){m.g||(m.g=new Map,m.h=0,m.i&&tz(m.i,function(T,C){m.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}t=Wu.prototype,t.add=function(m,T){to(this),this.i=null,m=_l(this,m);let C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(T),this.h+=1,this};function r_(m,T){to(m),T=_l(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function i_(m,T){return to(m),T=_l(m,T),m.g.has(T)}t.forEach=function(m,T){to(this),this.g.forEach(function(C,L){C.forEach(function(Y){m.call(T,Y,L,this)},this)},this)};function a_(m,T){to(m);let C=[];if(typeof T=="string")i_(m,T)&&(C=C.concat(m.g.get(_l(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)C=C.concat(m[T]);return C}t.set=function(m,T){return to(this),this.i=null,m=_l(this,m),i_(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=a_(this,m),m.length>0?String(m[0]):T):T};function s_(m,T,C){r_(m,T),C.length>0&&(m.i=null,m.g.set(_l(m,T),p(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let L=0;L<T.length;L++){var C=T[L];const Y=Fu(C);C=a_(this,C);for(let J=0;J<C.length;J++){let xe=Y;C[J]!==""&&(xe+="="+Fu(C[J])),m.push(xe)}}return this.i=m.join("&")};function o_(m){const T=new Wu;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function _l(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function oz(m,T){T&&!m.j&&(to(m),m.i=null,m.g.forEach(function(C,L){const Y=L.toLowerCase();L!=Y&&(r_(this,L),s_(this,Y,C))},m)),m.j=T}function lz(m,T){const C=new ct;if(s.Image){const L=new Image;L.onload=u(M0,C,"TestLoadImage: loaded",!0,T,L),L.onerror=u(M0,C,"TestLoadImage: error",!1,T,L),L.onabort=u(M0,C,"TestLoadImage: abort",!1,T,L),L.ontimeout=u(M0,C,"TestLoadImage: timeout",!1,T,L),s.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else T(!1)}function cz(m,T){const C=new ct,L=new AbortController,Y=setTimeout(()=>{L.abort(),M0(C,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:L.signal}).then(J=>{clearTimeout(Y),J.ok?M0(C,"TestPingServer: ok",!0,T):M0(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Y),M0(C,"TestPingServer: error",!1,T)})}function M0(m,T,C,L,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),L(C)}catch{}}function uz(){this.g=new it}function n5(m){this.i=m.Sb||null,this.h=m.ab||!1}d(n5,tt),n5.prototype.g=function(){return new O4(this.i,this.h)};function O4(m,T){Ke.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(O4,Ke),t=O4.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Gu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hu(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Gu(this)),this.g&&(this.readyState=3,Gu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;l_(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function l_(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Hu(this):Gu(this),this.readyState==3&&l_(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Hu(this))},t.Na=function(m){this.g&&(this.response=m,Hu(this))},t.ga=function(){this.g&&Hu(this)};function Hu(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Gu(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=T.next();return m.join(`\r
`)};function Gu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(O4.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function c_(m){let T="";return U(m,function(C,L){T+=L,T+=":",T+=C,T+=`\r
`}),T}function r5(m,T,C){e:{for(L in C){var L=!1;break e}L=!0}L||(C=c_(C),typeof m=="string"?C!=null&&Fu(C):Vt(m,T,C))}function nn(m){Ke.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(nn,Ke);var dz=/^https?$/i,fz=["POST","PUT"];t=nn.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,C,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qw.g(),this.g.onreadystatechange=h(c(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(J){u_(this,J);return}if(m=C||"",C=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Y in L)C.set(Y,L[Y]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const J of L.keys())C.set(J,L.get(J));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(C.keys()).find(J=>J.toLowerCase()=="content-type"),Y=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(fz,T,void 0)>=0)||L||Y||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,xe]of C)this.g.setRequestHeader(J,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){u_(this,J)}};function u_(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,d_(m),j4(m)}function d_(m){m.A||(m.A=!0,et(m,"complete"),et(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,et(this,"complete"),et(this,"abort"),j4(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),j4(this,!0)),nn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?f_(this):this.Xa())},t.Xa=function(){f_(this)};function f_(m){if(m.h&&typeof a<"u"){if(m.v&&$0(m)==4)setTimeout(m.Ca.bind(m),0);else if(et(m,"readystatechange"),$0(m)==4){m.h=!1;try{const J=m.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var L;if(L=J===0){let xe=String(m.D).match(t_)[1]||null;!xe&&s.self&&s.self.location&&(xe=s.self.location.protocol.slice(0,-1)),L=!dz.test(xe?xe.toLowerCase():"")}C=L}if(C)et(m,"complete"),et(m,"success");else{m.o=6;try{var Y=$0(m)>2?m.g.statusText:""}catch{Y=""}m.l=Y+" ["+m.ca()+"]",d_(m)}}finally{j4(m)}}}}function j4(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const C=m.g;m.g=null,T||et(m,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $0(m){return m.g?m.g.readyState:0}t.ca=function(){try{return $0(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Ae(T)}};function h_(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function hz(m){const T={};m=(m.g&&$0(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(O(m[L]))continue;var C=XB(m[L]);const Y=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const J=T[Y]||[];T[Y]=J,J.push(C)}H(T,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ku(m,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||T}function p_(m){this.za=0,this.i=[],this.j=new ct,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ku("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ku("baseRetryDelayMs",5e3,m),this.Za=Ku("retryDelaySeedMs",1e4,m),this.Ta=Ku("forwardChannelMaxRetries",2,m),this.va=Ku("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Qw(m&&m.concurrentRequestLimit),this.Ba=new uz,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=p_.prototype,t.ka=8,t.I=1,t.connect=function(m,T,C,L){Q(0),this.W=m,this.H=T||{},C&&L!==void 0&&(this.H.OSID=C,this.H.OAID=L),this.F=this.X,this.J=S_(this,null,this.W),M4(this)};function i5(m){if(m_(m),m.I==3){var T=m.V++,C=sa(m.J);if(Vt(C,"SID",m.M),Vt(C,"RID",T),Vt(C,"TYPE","terminate"),Yu(m,C),T=new j0(m,m.j,T),T.M=2,T.A=C4(sa(C)),C=!1,s.navigator&&s.navigator.sendBeacon)try{C=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!C&&s.Image&&(new Image().src=T.A,C=!0),C||(T.g=E_(T.j,null),T.g.ea(T.A)),T.F=Date.now(),I4(T)}__(m)}function R4(m){m.g&&(s5(m),m.g.cancel(),m.g=null)}function m_(m){R4(m),m.v&&(s.clearTimeout(m.v),m.v=null),$4(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function M4(m){if(!Xw(m.h)&&!m.m){m.m=!0;var T=m.Ea;S||k(),P||(S(),P=!0),E.add(T,m),m.D=0}}function pz(m,T){return Jw(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Me(c(m.Ea,m,T),w_(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Y=new j0(this,this.j,m);let J=this.o;if(this.U&&(J?(J=G(J),ne(J,this.U)):J=this.U),this.u!==null||this.R||(Y.J=J,J=null),this.S)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var L=this.i[C];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(T+=L,T>4096){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=y_(this,Y,T),C=sa(this.J),Vt(C,"RID",m),Vt(C,"CVER",22),this.G&&Vt(C,"X-HTTP-Session-Id",this.G),Yu(this,C),J&&(this.R?T="headers="+Fu(c_(J))+"&"+T:this.u&&r5(C,this.u,J)),e5(this.h,Y),this.Ra&&Vt(C,"TYPE","init"),this.S?(Vt(C,"$req",T),Vt(C,"SID","null"),Y.U=!0,Q2(Y,C,null)):Q2(Y,C,T),this.I=2}}else this.I==3&&(m?g_(this,m):this.i.length==0||Xw(this.h)||g_(this))};function g_(m,T){var C;T?C=T.l:C=m.V++;const L=sa(m.J);Vt(L,"SID",m.M),Vt(L,"RID",C),Vt(L,"AID",m.K),Yu(m,L),m.u&&m.o&&r5(L,m.u,m.o),C=new j0(m,m.j,C,m.D+1),m.u===null&&(C.J=m.o),T&&(m.i=T.G.concat(m.i)),T=y_(m,C,1e3),C.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),e5(m.h,C),Q2(C,L,T)}function Yu(m,T){m.H&&U(m.H,function(C,L){Vt(T,L,C)}),m.l&&U({},function(C,L){Vt(T,L,C)})}function y_(m,T,C){C=Math.min(m.i.length,C);const L=m.l?c(m.l.Ka,m.l,m):null;e:{var Y=m.i;let Xe=-1;for(;;){const vn=["count="+C];Xe==-1?C>0?(Xe=Y[0].g,vn.push("ofs="+Xe)):Xe=0:vn.push("ofs="+Xe);let At=!0;for(let An=0;An<C;An++){var J=Y[An].g;const oa=Y[An].map;if(J-=Xe,J<0)Xe=Math.max(0,Y[An].g-100),At=!1;else try{J="req"+J+"_"||"";try{var xe=oa instanceof Map?oa:Object.entries(oa);for(const[ro,D0]of xe){let L0=D0;o(D0)&&(L0=ae(D0)),vn.push(J+ro+"="+encodeURIComponent(L0))}}catch(ro){throw vn.push(J+"type="+encodeURIComponent("_badmap")),ro}}catch{L&&L(oa)}}if(At){xe=vn.join("&");break e}}xe=void 0}return m=m.i.splice(0,C),T.G=m,xe}function v_(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;S||k(),P||(S(),P=!0),E.add(T,m),m.A=0}}function a5(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Me(c(m.Da,m),w_(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,x_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Me(c(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Q(10),R4(this),x_(this))};function s5(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function x_(m){m.g=new j0(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=sa(m.na);Vt(T,"RID","rpc"),Vt(T,"SID",m.M),Vt(T,"AID",m.K),Vt(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&Vt(T,"TO",m.ia),Vt(T,"TYPE","xmlhttp"),Yu(m,T),m.u&&m.o&&r5(T,m.u,m.o),m.O&&(m.g.H=m.O);var C=m.g;m=m.ba,C.M=1,C.A=C4(sa(T)),C.u=null,C.R=!0,Gw(C,m)}t.Va=function(){this.C!=null&&(this.C=null,R4(this),a5(this),Q(19))};function $4(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function b_(m,T){var C=null;if(m.g==T){$4(m),s5(m),m.g=null;var L=2}else if(Z2(m.h,T))C=T.G,Zw(m.h,T),L=1;else return;if(m.I!=0){if(T.o)if(L==1){C=T.u?T.u.length:0,T=Date.now()-T.F;var Y=m.D;L=Rt(),et(L,new fe(L,C)),M4(m)}else v_(m);else if(Y=T.m,Y==3||Y==0&&T.X>0||!(L==1&&pz(m,T)||L==2&&a5(m)))switch(C&&C.length>0&&(T=m.h,T.i=T.i.concat(C)),Y){case 1:no(m,5);break;case 4:no(m,10);break;case 3:no(m,6);break;default:no(m,2)}}}function w_(m,T){let C=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(C*=2),C*T}function no(m,T){if(m.j.info("Error code "+T),T==2){var C=c(m.bb,m),L=m.Ua;const Y=!L;L=new R0(L||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Uu(L,"https"),C4(L),Y?lz(L.toString(),C):cz(L.toString(),C)}else Q(2);m.I=0,m.l&&m.l.pa(T),__(m),m_(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Q(2)):(this.j.info("Failed to ping google.com"),Q(1))};function __(m){if(m.I=0,m.ja=[],m.l){const T=e_(m.h);(T.length!=0||m.i.length!=0)&&(g(m.ja,T),g(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function S_(m,T,C){var L=C instanceof R0?sa(C):new R0(C);if(L.g!="")T&&(L.g=T+"."+L.g),Bu(L,L.u);else{var Y=s.location;L=Y.protocol,T=T?T+"."+Y.hostname:Y.hostname,Y=+Y.port;const J=new R0(null);L&&Uu(J,L),T&&(J.g=T),Y&&Bu(J,Y),C&&(J.h=C),L=J}return C=m.G,T=m.wa,C&&T&&Vt(L,C,T),Vt(L,"VER",m.ka),Yu(m,L),L}function E_(m,T,C){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new nn(new n5({ab:C})):new nn(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function k_(){}t=k_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function D4(){}D4.prototype.g=function(m,T){return new Vr(m,T)};function Vr(m,T){Ke.call(this),this.g=new p_(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!O(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!O(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Sl(this)}d(Vr,Ke),Vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){i5(this.g)},Vr.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.v&&(C={},C.__data__=ae(m),m=C);T.i.push(new ez(T.Ya++,m)),T.I==3&&M4(T)},Vr.prototype.N=function(){this.g.l=null,delete this.j,i5(this.g),delete this.g,Vr.Z.N.call(this)};function P_(m){me.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const C in T){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}d(P_,me);function T_(){_e.call(this),this.status=1}d(T_,_e);function Sl(m){this.g=m}d(Sl,k_),Sl.prototype.ra=function(){et(this.g,"a")},Sl.prototype.qa=function(m){et(this.g,new P_(m))},Sl.prototype.pa=function(m){et(this.g,new T_)},Sl.prototype.oa=function(){et(this.g,"b")},D4.prototype.createWebChannel=D4.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,CR=function(){return new D4},IR=function(){return Rt()},AR=ze,Yy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wl.NO_ERROR=0,wl.TIMEOUT=8,wl.HTTP_ERROR=6,Zp=wl,zw.COMPLETE="complete",NR=zw,te.EventType=z,z.OPEN="a",z.CLOSE="b",z.ERROR="c",z.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,Cd=te,nn.prototype.listenOnce=nn.prototype.K,nn.prototype.getLastError=nn.prototype.Ha,nn.prototype.getLastErrorCode=nn.prototype.ya,nn.prototype.getStatus=nn.prototype.ca,nn.prototype.getResponseJson=nn.prototype.La,nn.prototype.getResponseText=nn.prototype.la,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Fa,TR=nn}).apply(typeof rp<"u"?rp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="12.9.0";function tY(t){vu=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Ag("@firebase/firestore");function jl(){return Uo.logLevel}function Ee(t,...e){if(Uo.logLevel<=at.DEBUG){const n=e.map(X8);Uo.debug(`Firestore (${vu}): ${t}`,...n)}}function v0(t,...e){if(Uo.logLevel<=at.ERROR){const n=e.map(X8);Uo.error(`Firestore (${vu}): ${t}`,...n)}}function Bo(t,...e){if(Uo.logLevel<=at.WARN){const n=e.map(X8);Uo.warn(`Firestore (${vu}): ${t}`,...n)}}function X8(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OR(t,r,n)}function OR(t,e,n){let r=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw v0(r),new Error(r)}function _t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||OR(e,i,r)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xn.UNAUTHENTICATED))}shutdown(){}}class rY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iY{constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _s,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _s)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new jR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Xn(e)}}class aY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new aY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oY{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=lY(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function Qy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return V5(i)===V5(a)?st(i,a):V5(i)?1:-1}return st(t.length,e.length)}const cY=55296,uY=57343;function V5(t){const e=t.charCodeAt(0);return e>=cY&&e<=uY}function Ac(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__name__";class ua{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ua?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ua.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return st(e.length,n.length)}static compareSegments(e,n){const r=ua.isNumericId(e),i=ua.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ua.extractNumericId(e).compare(ua.extractNumericId(n)):Qy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class $t extends ua{construct(e,n,r){return new $t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $t(n)}static emptyPath(){return new $t([])}}const dY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends ua{construct(e,n,r){return new Un(e,n,r)}static isValidIdentifier(e){return dY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fE}static keyField(){return new Un([fE])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Se(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Se(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Se(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(n)}static emptyPath(){return new Un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e($t.fromString(e))}static fromName(e){return new $e($t.fromString(e).popFirst(5))}static empty(){return new $e($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e,n){if(!n)throw new Se(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fY(t,e,n,r){if(e===!0&&r===!0)throw new Se(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hE(t){if(!$e.isDocumentKey(t))throw new Se(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pE(t){if($e.isDocumentKey(t))throw new Se(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function MR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function Si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cg(t);throw new Se(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,e){const n={typeString:t};return e&&(n.value=e),n}function n4(t,e){if(!MR(t))throw new Se(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Se(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=-62135596800,gE=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gE);return new qt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mE)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gE}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(n4(e,qt._jsonSchema))return new qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qt._jsonSchemaVersion="firestore/timestamp/1.0",qt._jsonSchema={type:gn("string",qt._jsonSchemaVersion),seconds:gn("number"),nanoseconds:gn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new qt(0,0))}static max(){return new He(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=-1;function hY(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new qt(n+1,0):new qt(n,r));return new Is(i,$e.empty(),e)}function pY(t){return new Is(t.readTime,t.key,qf)}class Is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(He.min(),$e.empty(),qf)}static max(){return new Is(He.max(),$e.empty(),qf)}}function mY(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$e.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==gY)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(i=>i?le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new le((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++o,o===a&&r(s)},u=>i(u))}})}static doWhile(e,n){return new le((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function vY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Og.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=-1;function jg(t){return t==null}function Y3(t){return t===0&&1/t==-1/0}function xY(t){return typeof t=="number"&&Number.isInteger(t)&&!Y3(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="";function bY(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yE(e)),e=wY(t.get(n),e);return yE(e)}function wY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case $R:n+="";break;default:n+=a}}return n}function yE(t){return t+$R+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ip(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ip(this.root,e,this.comparator,!1)}getReverseIterator(){return new ip(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ip(this.root,e,this.comparator,!0)}}class ip{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Fn.RED,this.left=i??Fn.EMPTY,this.right=a??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Fn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Fn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xE(this.data.getIterator())}getIteratorFrom(e){return new xE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class xE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new Kr([])}unionWith(e){let n=new En(Un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ac(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new LR("Invalid base64 string: "+a):a}}(e);return new Wn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const _Y=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=_Y.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Os(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="server_timestamp",VR="__type__",UR="__previous_value__",BR="__local_write_time__";function ex(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[VR])==null?void 0:r.stringValue)===FR}function Rg(t){const e=t.mapValue.fields[UR];return ex(e)?Rg(e):e}function Wf(t){const e=Cs(t.mapValue.fields[BR].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(e,n,r,i,a,s,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=d}}const Q3="(default)";class Hf{constructor(e,n){this.projectId=e,this.database=n||Q3}static empty(){return new Hf("","")}get isDefaultDatabase(){return this.database===Q3}isEqual(e){return e instanceof Hf&&e.projectId===this.projectId&&e.database===this.database}}function EY(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Se(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hf(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__type__",kY="__max__",ap={mapValue:{}},qR="__vector__",X3="value";function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ex(t)?4:TY(t)?9007199254740991:PY(t)?10:11:Ue(28295,{value:t})}function ja(t,e){if(t===e)return!0;const n=js(t);if(n!==js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wf(t).isEqual(Wf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Cs(i.timestampValue),o=Cs(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Os(i.bytesValue).isEqual(Os(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ln(i.geoPointValue.latitude)===ln(a.geoPointValue.latitude)&&ln(i.geoPointValue.longitude)===ln(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ln(i.integerValue)===ln(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ln(i.doubleValue),o=ln(a.doubleValue);return s===o?Y3(s)===Y3(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ac(t.arrayValue.values||[],e.arrayValue.values||[],ja);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(vE(s)!==vE(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!ja(s[l],o[l])))return!1;return!0}(t,e);default:return Ue(52216,{left:t})}}function Gf(t,e){return(t.values||[]).find(n=>ja(n,e))!==void 0}function Ic(t,e){if(t===e)return 0;const n=js(t),r=js(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=ln(a.integerValue||a.doubleValue),l=ln(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return bE(t.timestampValue,e.timestampValue);case 4:return bE(Wf(t),Wf(e));case 5:return Qy(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Os(a),l=Os(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=st(o[c],l[c]);if(u!==0)return u}return st(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=st(ln(a.latitude),ln(s.latitude));return o!==0?o:st(ln(a.longitude),ln(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wE(t.arrayValue,e.arrayValue);case 10:return function(a,s){var h,p,g,x;const o=a.fields||{},l=s.fields||{},c=(h=o[X3])==null?void 0:h.arrayValue,u=(p=l[X3])==null?void 0:p.arrayValue,d=st(((g=c==null?void 0:c.values)==null?void 0:g.length)||0,((x=u==null?void 0:u.values)==null?void 0:x.length)||0);return d!==0?d:wE(c,u)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===ap.mapValue&&s===ap.mapValue)return 0;if(a===ap.mapValue)return 1;if(s===ap.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Qy(l[d],u[d]);if(h!==0)return h;const p=Ic(o[l[d]],c[u[d]]);if(p!==0)return p}return st(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function bE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=Cs(t),r=Cs(e),i=st(n.seconds,r.seconds);return i!==0?i:st(n.nanos,r.nanos)}function wE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ic(n[i],r[i]);if(a)return a}return st(n.length,r.length)}function Cc(t){return Xy(t)}function Xy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Os(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Xy(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${Xy(n.fields[s])}`;return i+"}"}(t.mapValue):Ue(61005,{value:t})}function e3(t){switch(js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rg(t);return e?16+e3(e):16;case 5:return 2*t.stringValue.length;case 6:return Os(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+e3(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Bs(r.fields,(a,s)=>{i+=a.length+e3(s)}),i}(t.mapValue);default:throw Ue(13486,{value:t})}}function _E(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jy(t){return!!t&&"integerValue"in t}function tx(t){return!!t&&"arrayValue"in t}function SE(t){return!!t&&"nullValue"in t}function EE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function t3(t){return!!t&&"mapValue"in t}function PY(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zR])==null?void 0:r.stringValue)===qR}function of(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=of(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=of(t.arrayValue.values[n]);return e}return{...t}}function TY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.value=e}static empty(){return new Ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!t3(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=of(n)}setAll(e){let n=Un.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=of(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());t3(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ja(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];t3(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Ar(of(this.value))}}function WR(t){const e=[];return Bs(t.fields,(n,r)=>{const i=new Un([n]);if(t3(r)){const a=WR(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Zn(e,0,He.min(),He.min(),He.min(),Ar.empty(),0)}static newFoundDocument(e,n,r,i){return new Zn(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new Zn(e,2,n,He.min(),He.min(),Ar.empty(),0)}static newUnknownDocument(e,n){return new Zn(e,3,n,He.min(),He.min(),Ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.position=e,this.inclusive=n}}function kE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=$e.comparator($e.fromName(s.referenceValue),n.key):r=Ic(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function PE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ja(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function NY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{}class mn extends HR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IY(e,n,r):n==="array-contains"?new jY(e,r):n==="in"?new RY(e,r):n==="not-in"?new MY(e,r):n==="array-contains-any"?new $Y(e,r):new mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CY(e,r):new OY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ic(n,this.value)):n!==null&&js(this.value)===js(n)&&this.matchesComparison(Ic(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ra extends HR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ra(e,n)}matches(e){return GR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GR(t){return t.op==="and"}function KR(t){return AY(t)&&GR(t)}function AY(t){for(const e of t.filters)if(e instanceof ra)return!1;return!0}function Zy(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+Cc(t.value);if(KR(t))return t.filters.map(e=>Zy(e)).join(",");{const e=t.filters.map(n=>Zy(n)).join(",");return`${t.op}(${e})`}}function YR(t,e){return t instanceof mn?function(r,i){return i instanceof mn&&r.op===i.op&&r.field.isEqual(i.field)&&ja(r.value,i.value)}(t,e):t instanceof ra?function(r,i){return i instanceof ra&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&YR(s,i.filters[o]),!0):!1}(t,e):void Ue(19439)}function QR(t){return t instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${Cc(n.value)}`}(t):t instanceof ra?function(n){return n.op.toString()+" {"+n.getFilters().map(QR).join(" ,")+"}"}(t):"Filter"}class IY extends mn{constructor(e,n,r){super(e,n,r),this.key=$e.fromName(r.referenceValue)}matches(e){const n=$e.comparator(e.key,this.key);return this.matchesComparison(n)}}class CY extends mn{constructor(e,n){super(e,"in",n),this.keys=XR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OY extends mn{constructor(e,n){super(e,"not-in",n),this.keys=XR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>$e.fromName(r.referenceValue))}class jY extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tx(n)&&Gf(n.arrayValue,this.value)}}class RY extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gf(this.value.arrayValue,n)}}class MY extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gf(this.value.arrayValue,n)}}class $Y extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function TE(t,e=null,n=[],r=[],i=null,a=null,s=null){return new DY(t,e,n,r,i,a,s)}function nx(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),jg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cc(r)).join(",")),e.Te=n}return e.Te}function rx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PE(t.startAt,e.startAt)&&PE(t.endAt,e.endAt)}function e7(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function LY(t,e,n,r,i,a,s,o){return new wu(t,e,n,r,i,a,s,o)}function ix(t){return new wu(t)}function NE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FY(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function JR(t){return t.collectionGroup!==null}function lf(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new En(Un.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Kf(a,r))}),n.has(Un.keyField().canonicalString())||e.Ie.push(new Kf(Un.keyField(),r))}return e.Ie}function ka(t){const e=Ge(t);return e.Ee||(e.Ee=VY(e,lf(t))),e.Ee}function VY(t,e){if(t.limitType==="F")return TE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Kf(i.field,a)});const n=t.endAt?new J3(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new J3(t.startAt.position,t.startAt.inclusive):null;return TE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function t7(t,e){const n=t.filters.concat([e]);return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function UY(t,e){const n=t.explicitOrderBy.concat([e]);return new wu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function n7(t,e,n){return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mg(t,e){return rx(ka(t),ka(e))&&t.limitType===e.limitType}function ZR(t){return`${nx(ka(t))}|lt:${t.limitType}`}function Rl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>QR(i)).join(", ")}]`),jg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Cc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Cc(i)).join(",")),`Target(${r})`}(ka(t))}; limitType=${t.limitType})`}function $g(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):$e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of lf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=kE(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,lf(r),i)||r.endAt&&!function(s,o,l){const c=kE(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,lf(r),i))}(t,e)}function BY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eM(t){return(e,n)=>{let r=!1;for(const i of lf(t)){const a=zY(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function zY(t,e,n){const r=t.field.isKeyField()?$e.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?Ic(l,c):Ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return DR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY=new tn($e.comparator);function x0(){return qY}const tM=new tn($e.comparator);function Od(...t){let e=tM;for(const n of t)e=e.insert(n.key,n);return e}function nM(t){let e=tM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bo(){return cf()}function rM(){return cf()}function cf(){return new hl(t=>t.toString(),(t,e)=>t.isEqual(e))}const WY=new tn($e.comparator),HY=new En($e.comparator);function ot(...t){let e=HY;for(const n of t)e=e.add(n);return e}const GY=new En(st);function KY(){return GY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Y3(e)?"-0":e}}function iM(t){return{integerValue:""+t}}function YY(t,e){return xY(e)?iM(e):ax(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this._=void 0}}function QY(t,e,n){return t instanceof Z3?function(i,a){const s={fields:{[VR]:{stringValue:FR},[BR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ex(a)&&(a=Rg(a)),a&&(s.fields[UR]=a),{mapValue:s}}(n,e):t instanceof Yf?sM(t,e):t instanceof Qf?oM(t,e):function(i,a){const s=aM(i,a),o=AE(s)+AE(i.Ae);return Jy(s)&&Jy(i.Ae)?iM(o):ax(i.serializer,o)}(t,e)}function XY(t,e,n){return t instanceof Yf?sM(t,e):t instanceof Qf?oM(t,e):n}function aM(t,e){return t instanceof em?function(r){return Jy(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Z3 extends Dg{}class Yf extends Dg{constructor(e){super(),this.elements=e}}function sM(t,e){const n=lM(e);for(const r of t.elements)n.some(i=>ja(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qf extends Dg{constructor(e){super(),this.elements=e}}function oM(t,e){let n=lM(e);for(const r of t.elements)n=n.filter(i=>!ja(i,r));return{arrayValue:{values:n}}}class em extends Dg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function AE(t){return ln(t.integerValue||t.doubleValue)}function lM(t){return tx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yf&&i instanceof Yf||r instanceof Qf&&i instanceof Qf?Ac(r.elements,i.elements,ja):r instanceof em&&i instanceof em?ja(r.Ae,i.Ae):r instanceof Z3&&i instanceof Z3}(t.transform,e.transform)}class ZY{constructor(e,n){this.version=e,this.transformResults=n}}class Ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function n3(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lg{}function cM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sx(t.key,Ei.none()):new r4(t.key,t.data,Ei.none());{const n=t.data,r=Ar.empty();let i=new En(Un.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new zs(t.key,r,new Kr(i.toArray()),Ei.none())}}function eQ(t,e,n){t instanceof r4?function(i,a,s){const o=i.value.clone(),l=CE(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(i,a,s){if(!n3(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=CE(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(uM(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function uf(t,e,n,r){return t instanceof r4?function(a,s,o,l){if(!n3(a.precondition,s))return o;const c=a.value.clone(),u=OE(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zs?function(a,s,o,l){if(!n3(a.precondition,s))return o;const c=OE(a.fieldTransforms,l,s),u=s.data;return u.setAll(uM(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(a,s,o){return n3(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function tQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=aM(r.transform,i||null);a!=null&&(n===null&&(n=Ar.empty()),n.set(r.field,a))}return n||null}function IE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ac(r,i,(a,s)=>JY(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class r4 extends Lg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zs extends Lg{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function uM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CE(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,XY(s,o,n[i]))}return r}function OE(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,QY(a,s,e))}return r}class sx extends Lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nQ extends Lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&eQ(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rM();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=cM(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(He.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&Ac(this.mutations,e.mutations,(n,r)=>IE(n,r))&&Ac(this.baseMutations,e.baseMutations,(n,r)=>IE(n,r))}}class ox{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return WY}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new ox(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,dt;function sQ(t){switch(t){case se.OK:return Ue(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function dM(t){if(t===void 0)return v0("GRPC error has no .code"),se.UNKNOWN;switch(t){case fn.OK:return se.OK;case fn.CANCELLED:return se.CANCELLED;case fn.UNKNOWN:return se.UNKNOWN;case fn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case fn.INTERNAL:return se.INTERNAL;case fn.UNAVAILABLE:return se.UNAVAILABLE;case fn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case fn.NOT_FOUND:return se.NOT_FOUND;case fn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case fn.ABORTED:return se.ABORTED;case fn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case fn.DATA_LOSS:return se.DATA_LOSS;default:return Ue(39323,{code:t})}}(dt=fn||(fn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lQ=new ws([4294967295,4294967295],0);function jE(t){const e=oQ().encode(t),n=new PR;return n.update(e),new Uint8Array(n.digest())}function RE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ws([n,r],0),new ws([i,a],0)]}class lx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jd(`Invalid padding: ${n}`);if(r<0)throw new jd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ws.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ws.fromNumber(r)));return i.compare(lQ)===1&&(i=new ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jE(e),[r,i]=RE(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new lx(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=jE(e),[r,i]=RE(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,i4.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fg(He.min(),i,new tn(st),x0(),ot())}}class i4{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new i4(r,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class fM{constructor(e,n){this.targetId=e,this.Ce=n}}class hM{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ME{constructor(){this.ve=0,this.Fe=$E(),this.Me=Wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),n=ot(),r=ot();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue(38017,{changeType:a})}}),new i4(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=$E()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=x0(),this.He=sp(),this.Je=sp(),this.Ze=new tn(st)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(e7(a))if(r===0){const s=new $e(a.path);this.et(n,s,Zn.newNoDocument(s,He.min()))}else _t(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Os(r).toUint8Array()}catch(l){if(l instanceof LR)return Bo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new lx(s,i,a)}catch(l){return Bo(l instanceof jd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&e7(o.target)){const l=new $e(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Zn.newNoDocument(l,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let r=ot();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Fg(e,n,this.Ze,this.je,r);return this.je=x0(),this.He=sp(),this.Je=sp(),this.Ze=new tn(st),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new ME,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new En(st),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new En(st),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ME),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sp(){return new tn($e.comparator)}function $E(){return new tn($e.comparator)}const uQ={asc:"ASCENDING",desc:"DESCENDING"},dQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fQ={and:"AND",or:"OR"};class hQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function r7(t,e){return t.useProto3Json||jg(e)?e:{value:e}}function tm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pQ(t,e){return tm(t,e.toTimestamp())}function Pa(t){return _t(!!t,49232),He.fromTimestamp(function(n){const r=Cs(n);return new qt(r.seconds,r.nanos)}(t))}function cx(t,e){return i7(t,e).canonicalString()}function i7(t,e){const n=function(i){return new $t(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mM(t){const e=$t.fromString(t);return _t(bM(e),10190,{key:e.toString()}),e}function a7(t,e){return cx(t.databaseId,e.path)}function U5(t,e){const n=mM(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $e(yM(n))}function gM(t,e){return cx(t.databaseId,e)}function mQ(t){const e=mM(t);return e.length===4?$t.emptyPath():yM(e)}function s7(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yM(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DE(t,e,n){return{name:a7(t,e),fields:n.value.mapValue.fields}}function gQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ue(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(_t(u===void 0||typeof u=="string",58123),Wn.fromBase64String(u||"")):(_t(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Wn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?se.UNKNOWN:dM(c.code);return new Se(u,c.message||"")}(s);n=new hM(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=U5(t,r.document.name),a=Pa(r.document.updateTime),s=r.document.createTime?Pa(r.document.createTime):He.min(),o=new Ar({mapValue:{fields:r.document.fields}}),l=Zn.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new r3(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=U5(t,r.document),a=r.readTime?Pa(r.readTime):He.min(),s=Zn.newNoDocument(i,a),o=r.removedTargetIds||[];n=new r3([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=U5(t,r.document),a=r.removedTargetIds||[];n=new r3([],a,i,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new aQ(i,a),o=r.targetId;n=new fM(o,s)}}return n}function yQ(t,e){let n;if(e instanceof r4)n={update:DE(t,e.key,e.value)};else if(e instanceof sx)n={delete:a7(t,e.key)};else if(e instanceof zs)n={update:DE(t,e.key,e.data),updateMask:PQ(e.fieldMask)};else{if(!(e instanceof nQ))return Ue(16599,{dt:e.type});n={verify:a7(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Z3)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Yf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Qf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof em)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Ue(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:pQ(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue(27497)}(t,e.precondition)),n}function vQ(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?Pa(i.updateTime):Pa(a);return s.isEqual(He.min())&&(s=Pa(a)),new ZY(s,i.transformResults||[])}(n,e))):[]}function xQ(t,e){return{documents:[gM(t,e.path)]}}function bQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gM(t,i);const a=function(c){if(c.length!==0)return xM(ra.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ml(h.field),direction:SQ(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=r7(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function wQ(t){let e=mQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_t(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];n.where&&(a=function(d){const h=vM(d);return h instanceof ra&&KR(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(g){return new Kf($l(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,jg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new J3(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new J3(p,h)}(n.endAt)),LY(e,i,s,a,o,"F",l,c)}function _Q(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$l(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$l(n.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$l(n.unaryFilter.field);return mn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$l(n.unaryFilter.field);return mn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return mn.create($l(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ra.create(n.compositeFilter.filters.map(r=>vM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(n.compositeFilter.op))}(t):Ue(30097,{filter:t})}function SQ(t){return uQ[t]}function EQ(t){return dQ[t]}function kQ(t){return fQ[t]}function Ml(t){return{fieldPath:t.canonicalString()}}function $l(t){return Un.fromServerFormat(t.fieldPath)}function xM(t){return t instanceof mn?function(n){if(n.op==="=="){if(EE(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NAN"}};if(SE(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EE(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NOT_NAN"}};if(SE(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(n.field),op:EQ(n.op),value:n.value}}}(t):t instanceof ra?function(n){const r=n.getFilters().map(i=>xM(i));return r.length===1?r[0]:{compositeFilter:{op:kQ(n.op),filters:r}}}(t):Ue(54877,{filter:t})}function PQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function wM(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r,i,a=He.min(),s=He.min(),o=Wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e){this.yt=e}}function NQ(t){const e=wQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?n7(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(){this.Sn=new IQ}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Is.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class IQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new En($t.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new En($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_M=41943040;class kr{static withCacheSize(e){return new kr(e,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(_M,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Oc(0)}static ar(){return new Oc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="LruGarbageCollector",CQ=1048576;function VE([t,e],[n,r]){const i=st(t,n);return i===0?st(e,r):i}class OQ{constructor(e){this.Pr=e,this.buffer=new En(VE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();VE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ee(FE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bu(n)?Ee(FE,"Ignoring IndexedDB error during garbage collection: ",n):await xu(n)}await this.Ar(3e5)})}}class RQ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Og.ce);const r=new OQ(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(LE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),jl()<=at.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function MQ(t,e){return new RQ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(){this.changes=new hl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&uf(r.mutation,i,Kr.empty(),qt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=bo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Od();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=bo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=x0();const s=cf(),o=function(){return cf()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof zs)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),uf(u.mutation,c,u.mutation.getFieldMask(),qt.now())):s.set(c.key,Kr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>o.set(c,new DQ(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=cf();let i=new tn((s,o)=>s-o),a=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Kr.empty();u=o.applyToLocalView(c,u),r.set(l,u);const d=(i.get(o.batchId)||ot()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=rM();u.forEach(h=>{if(!a.has(h)){const p=cM(n.get(h),r.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return le.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return FY(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):le.resolve(bo());let o=qf,l=a;return s.next(c=>le.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(u)?le.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,ot())).next(u=>({batchId:o,changes:nM(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $e(n)).next(r=>{let i=Od();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Od();return this.indexManager.getCollectionParents(e,a).next(o=>le.forEach(o,l=>{const c=function(d,h){return new wu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Zn.newInvalidDocument(u)))});let o=Od();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&uf(u.mutation,c,Kr.empty(),qt.now()),$g(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pa(i.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:NQ(i.bundledQuery),readTime:Pa(i.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(){this.overlays=new tn($e.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bo();return le.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.bt(e,n,a)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=bo(),a=n.length+1,s=new $e(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new tn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=a.get(c.largestBatchId);u===null&&(u=bo(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=bo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return le.resolve(o)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iQ(n,r));let a=this.Lr.get(n);a===void 0&&(a=ot(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.kr=new En(In.Kr),this.qr=new En(In.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new In(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new In(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new $e(new $t([])),r=new In(n,e),i=new In(n,e+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new $e(new $t([])),r=new In(n,e),i=new In(n,e+1);let a=ot();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new In(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class In{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return $e.comparator(e.key,n.key)||st(e.Hr,n.Hr)}static Ur(e,n){return st(e.Hr,n.Hr)||$e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new En(In.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new rQ(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new In(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Z8:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new In(n,0),i=new In(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new En(st);return n.forEach(i=>{const a=new In(i,0),s=new In(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),le.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;$e.isDocumentKey(a)||(a=a.child(""));const s=new In(new $e(a),0);let o=new En(st);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Hr)),!0)},s),le.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_t(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return le.forEach(n.mutations,i=>{const a=new In(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new In(n,0),i=this.Jr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(e){this.ti=e,this.docs=function(){return new tn($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(e,n){let r=x0();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Zn.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=x0();const s=n.path,o=new $e(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||mY(pY(u),r)<=0||(i.has(u.key)||$g(n,u))&&(a=a.insert(u.key,u.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ue(9500)}ni(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qQ(this)}getSize(e){return le.resolve(this.size)}}class qQ extends $Q{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e){this.persistence=e,this.ri=new hl(n=>nx(n),rx),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.ii=0,this.si=new ux,this.targetCount=0,this.oi=Oc._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Oc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n){this._i={},this.overlays={},this.ai=new Og(0),this.ui=!1,this.ui=!0,this.ci=new UQ,this.referenceDelegate=e(this),this.li=new WQ(this),this.indexManager=new AQ,this.remoteDocumentCache=function(i){return new zQ(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new TQ(n),this.Pi=new FQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new BQ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new HQ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return le.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class HQ extends yY{constructor(e){super(),this.currentSequenceNumber=e}}class dx{constructor(e){this.persistence=e,this.Ri=new ux,this.Ai=null}static Vi(e){return new dx(e)}get di(){if(this.Ai)return this.Ai;throw Ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,r=>{const i=$e.fromPath(r);return this.mi(e,i).next(a=>{a||n.removeEntry(i,He.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class nm{constructor(e,n){this.persistence=e,this.fi=new hl(r=>bY(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=MQ(this,n)}static Vi(e,n){return new nm(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return le.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(a=>a?le.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,n).next(o=>{o||(r++,a.removeEntry(s,He.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=e3(e.data.value)),n}wr(e,n,r){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ot(),i=ot();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new fx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return MG()?8:vY(ir())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new GQ;return this.ys(e,n,s).next(o=>{if(a.result=o,this.As)return this.ws(e,n,s,o.size)})}).next(()=>a.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(jl()<=at.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(jl()<=at.DEBUG&&Ee("QueryEngine","Query:",Rl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(jl()<=at.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ka(n))):le.resolve())}gs(e,n){if(NE(n))return le.resolve(null);let r=ka(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=n7(n,null,"F"),r=ka(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=ot(...a);return this.fs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,o);return this.Ss(n,c,s,l.readTime)?this.gs(e,n7(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,i){return NE(n)||i.isEqual(He.min())?le.resolve(null):this.fs.getDocuments(e,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?le.resolve(null):(jl()<=at.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rl(n)),this.Ds(e,s,n,hY(i,qf)).next(o=>o))})}bs(e,n){let r=new En(eM(e));return n.forEach((i,a)=>{$g(e,a)&&(r=r.add(a))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return jl()<=at.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Rl(n)),this.fs.getDocumentsMatchingQuery(e,n,Is.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="LocalStore",YQ=3e8;class QQ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new tn(st),this.Fs=new hl(a=>nx(a),rx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LQ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function XQ(t,e,n,r){return new QQ(t,e,n,r)}async function EM(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=ot();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:o}))})})}function JQ(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=le.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(x=>{const y=c.docVersions.get(g);_t(y!==null,48541),x.version.compareTo(y)<0&&(d.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),u.addEntry(x)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ot();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kM(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function ZQ(t,e){const n=Ge(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;o.push(n.li.removeMatchingKeys(a,u.removedDocuments,d).next(()=>n.li.addMatchingKeys(a,u.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Wn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(x,y,v){return x.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=YQ?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&o.push(n.li.updateTargetData(a,p))});let l=x0(),c=ot();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(eX(a,s,e.documentUpdates).next(u=>{l=u.Bs,c=u.Ls})),!r.isEqual(He.min())){const u=n.li.getLastRemoteSnapshotVersion(a).next(d=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(u)}return le.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.vs=i,a))}function eX(t,e,n){let r=ot(),i=ot();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=x0();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(He.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):Ee(hx,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Bs:s,Ls:i}})}function tX(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Z8),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nX(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(a=>a?(i=a,le.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new is(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function o7(t,e,n){const r=Ge(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!bu(s))throw s;Ee(hx,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function UE(t,e,n){const r=Ge(t);let i=He.min(),a=ot();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Ge(l),h=d.Fs.get(u);return h!==void 0?le.resolve(d.vs.get(h)):d.li.getTargetData(c,u)}(r,s,ka(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:He.min(),n?a:ot())).next(o=>(rX(r,BY(e),o),{documents:o,ks:a})))}function rX(t,e,n){let r=t.Ms.get(e)||He.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ms.set(e,r)}class BE{constructor(){this.activeTargetIds=KY()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iX{constructor(){this.vo=new BE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new BE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="ConnectivityMonitor";class qE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ee(zE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ee(zE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op=null;function l7(){return op===null?op=function(){return 268435456+Math.round(2147483648*Math.random())}():op++,"0x"+op.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="RestConnection",sX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class oX{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Q3?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=l7(),o=this.Qo(e,n.toUriEncodedString());Ee(B5,`Sending RPC '${e}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:c}=new URL(o),u=ul(c);return this.zo(e,o,l,r,u).then(d=>(Ee(B5,`Received RPC '${e}' ${s}: `,d),d),d=>{throw Bo(B5,`RPC '${e}' ${s} failed with error: `,d,"url: ",o,"request:",r),d})}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Qo(e,n){const r=sX[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection",id=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class cc extends oX{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!cc.c_){const e=IR();id(e,AR.STAT_EVENT,n=>{n.stat===Yy.PROXY?Ee(Yn,"STAT_EVENT: detected buffering proxy"):n.stat===Yy.NOPROXY&&Ee(Yn,"STAT_EVENT: detected no buffering proxy")}),cc.c_=!0}}zo(e,n,r,i,a){const s=l7();return new Promise((o,l)=>{const c=new TR;c.setWithCredentials(!0),c.listenOnce(NR.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zp.NO_ERROR:const d=c.getResponseJson();Ee(Yn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Zp.TIMEOUT:Ee(Yn,`RPC '${e}' ${s} timed out`),l(new Se(se.DEADLINE_EXCEEDED,"Request time out"));break;case Zp.HTTP_ERROR:const h=c.getStatus();if(Ee(Yn,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const x=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(b)>=0?b:se.UNKNOWN}(g.status);l(new Se(x,g.message))}else l(new Se(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Se(se.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Ee(Yn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ee(Yn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=l7(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const c=a.join("");Ee(Yn,`Creating RPC '${e}' stream ${i}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new lX({Ho:g=>{h?Ee(Yn,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(Ee(Yn,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),Ee(Yn,`RPC '${e}' stream ${i} sending:`,g),u.send(g))},Jo:()=>u.close()});return id(u,Cd.EventType.OPEN,()=>{h||(Ee(Yn,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),id(u,Cd.EventType.CLOSE,()=>{h||(h=!0,Ee(Yn,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(u))}),id(u,Cd.EventType.ERROR,g=>{h||(h=!0,Bo(Yn,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new Se(se.UNAVAILABLE,"The operation could not be completed")))}),id(u,Cd.EventType.MESSAGE,g=>{var x;if(!h){const y=g.data[0];_t(!!y,16349);const v=y,b=(v==null?void 0:v.error)||((x=v[0])==null?void 0:x.error);if(b){Ee(Yn,`RPC '${e}' stream ${i} received error:`,b);const w=b.status;let _=function(E){const k=fn[E];if(k!==void 0)return dM(k)}(w),S=b.message;w==="NOT_FOUND"&&S.includes("database")&&S.includes("does not exist")&&S.includes(this.databaseId.database)&&Bo(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),_===void 0&&(_=se.INTERNAL,S="Unknown error status: "+w+" with message "+b.message),h=!0,p.o_(new Se(_,S)),u.close()}else Ee(Yn,`RPC '${e}' stream ${i} received:`,y),p.__(y)}}),cc.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return CR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t){return new cc(t)}function z5(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t){return new hQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cc.c_=!1;class PM{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="PersistentStream";class TM{constructor(e,n,r,i,a,s,o,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PM(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(v0(n.toString()),v0("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Se(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ee(WE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Ee(WE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uX extends TM{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gQ(this.serializer,e),r=function(a){if(!("targetChange"in a))return He.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?He.min():s.readTime?Pa(s.readTime):He.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=s7(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=e7(l)?{documents:xQ(a,l)}:{query:bQ(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=pM(a,s.resumeToken);const c=r7(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(He.min())>0){o.readTime=tm(a,s.snapshotVersion.toTimestamp());const c=r7(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=_Q(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=s7(this.serializer),n.removeTarget=e,this.K_(n)}}class dX extends TM{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vQ(e.writeResults,e.commitTime),r=Pa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=s7(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yQ(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{}class hX extends fX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(e,i7(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(se.UNKNOWN,a.toString())})}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(e,i7(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(se.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function pX(t,e,n,r){return new hX(t,e,n,r)}class mX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(v0(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="RemoteStore";class gX{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{pl(this)&&(Ee(zo,"Restarting streams for network reachability change."),await async function(l){const c=Ge(l);c.Ea.add(4),await a4(c),c.Va.set("Unknown"),c.Ea.delete(4),await Ug(c)}(this))})}),this.Va=new mX(r,i)}}async function Ug(t){if(pl(t))for(const e of t.Ra)await e(!0)}async function a4(t){for(const e of t.Ra)await e(!1)}function NM(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yx(n)?gx(n):_u(n).O_()&&mx(n,e))}function px(t,e){const n=Ge(t),r=_u(n);n.Ia.delete(e),r.O_()&&AM(n,e),n.Ia.size===0&&(r.O_()?r.L_():pl(n)&&n.Va.set("Unknown"))}function mx(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_u(t).Z_(e)}function AM(t,e){t.da.$e(e),_u(t).X_(e)}function gx(t){t.da=new cQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_u(t).start(),t.Va.ua()}function yx(t){return pl(t)&&!_u(t).x_()&&t.Ia.size>0}function pl(t){return Ge(t).Ea.size===0}function IM(t){t.da=void 0}async function yX(t){t.Va.set("Online")}async function vX(t){t.Ia.forEach((e,n)=>{mx(t,e)})}async function xX(t,e){IM(t),yx(t)?(t.Va.ha(e),gx(t)):t.Va.set("Unknown")}async function bX(t,e,n){if(t.Va.set("Online"),e instanceof hM&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))}(t,e)}catch(r){Ee(zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rm(t,r)}else if(e instanceof r3?t.da.Xe(e):e instanceof fM?t.da.st(e):t.da.tt(e),!n.isEqual(He.min()))try{const r=await kM(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(Wn.EMPTY_BYTE_STRING,u.snapshotVersion)),AM(a,l);const d=new is(u.target,l,c,u.sequenceNumber);mx(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Ee(zo,"Failed to raise snapshot:",r),await rm(t,r)}}async function rm(t,e,n){if(!bu(e))throw e;t.Ea.add(1),await a4(t),t.Va.set("Offline"),n||(n=()=>kM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(zo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ug(t)})}function CM(t,e){return e().catch(n=>rm(t,n,e))}async function Bg(t){const e=Ge(t),n=Rs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Z8;for(;wX(e);)try{const i=await tX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,_X(e,i)}catch(i){await rm(e,i)}OM(e)&&jM(e)}function wX(t){return pl(t)&&t.Ta.length<10}function _X(t,e){t.Ta.push(e);const n=Rs(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function OM(t){return pl(t)&&!Rs(t).x_()&&t.Ta.length>0}function jM(t){Rs(t).start()}async function SX(t){Rs(t).ra()}async function EX(t){const e=Rs(t);for(const n of t.Ta)e.ea(n.mutations)}async function kX(t,e,n){const r=t.Ta.shift(),i=ox.from(r,e,n);await CM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bg(t)}async function PX(t,e){e&&Rs(t).Y_&&await async function(r,i){if(function(s){return sQ(s)&&s!==se.ABORTED}(i.code)){const a=r.Ta.shift();Rs(r).B_(),await CM(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Bg(r)}}(t,e),OM(t)&&jM(t)}async function HE(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ee(zo,"RemoteStore received new credentials");const r=pl(n);n.Ea.add(3),await a4(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ug(n)}async function TX(t,e){const n=Ge(t);e?(n.Ea.delete(2),await Ug(n)):e||(n.Ea.add(2),await a4(n),n.Va.set("Unknown"))}function _u(t){return t.ma||(t.ma=function(n,r,i){const a=Ge(n);return a.sa(),new uX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:yX.bind(null,t),Yo:vX.bind(null,t),t_:xX.bind(null,t),J_:bX.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),yx(t)?gx(t):t.Va.set("Unknown")):(await t.ma.stop(),IM(t))})),t.ma}function Rs(t){return t.fa||(t.fa=function(n,r,i){const a=Ge(n);return a.sa(),new dX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:SX.bind(null,t),t_:PX.bind(null,t),ta:EX.bind(null,t),na:kX.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Bg(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(zo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new vx(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xx(t,e){if(v0("AsyncQueue",`${e}: ${t}`),bu(t))return new Se(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{static emptySet(e){return new uc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||$e.comparator(n.key,r.key):(n,r)=>$e.comparator(n.key,r.key),this.keyedMap=Od(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.ga=new tn($e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class jc{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new jc(e,n,uc.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class AX{constructor(){this.queries=KE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ge(n),a=i.queries;i.queries=KE(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new Se(se.ABORTED,"Firestore shutting down"))}}function KE(){return new hl(t=>ZR(t),Mg)}async function RM(t,e){const n=Ge(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new NX,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=xx(s,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&bx(n)}async function MM(t,e){const n=Ge(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IX(t,e){const n=Ge(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(r=!0);s.wa=i}}r&&bx(n)}function CX(t,e,n){const r=Ge(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function bx(t){t.Ca.forEach(e=>{e.next()})}var c7,YE;(YE=c7||(c7={})).Ma="default",YE.Cache="cache";class $M{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==c7.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.key=e}}class LM{constructor(e){this.key=e}}class OX{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ot(),this.mutatedKeys=ot(),this.eu=eM(e),this.tu=new uc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new GE,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=$g(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?g!==x&&(r.track({type:3,doc:p}),y=!0):this.su(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(p?(s=s.add(p),a=x?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),r.track({type:1,doc:u})}return{tu:s,iu:r,Ss:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,d)=>function(p,g){const x=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:y})}};return x(p)-x(g)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Xa;return this.Xa=l,s.length!==0||c?{snapshot:new jc(this.query,e.tu,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ot(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new LM(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new DM(r))}),n}cu(e){this.Za=e.ks,this.Ya=ot();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const wx="SyncEngine";class jX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RX{constructor(e){this.key=e,this.hu=!1}}class MX{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new hl(o=>ZR(o),Mg),this.Iu=new Map,this.Eu=new Set,this.Ru=new tn($e.comparator),this.Au=new Map,this.Vu=new ux,this.du={},this.mu=new Map,this.fu=Oc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $X(t,e,n=!0){const r=qM(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await FM(r,e,n,!0),i}async function DX(t,e){const n=qM(t);await FM(n,e,!0,!1)}async function FM(t,e,n,r){const i=await nX(t.localStore,ka(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await LX(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&NM(t.remoteStore,i),o}async function LX(t,e,n,r,i){t.pu=(d,h,p)=>async function(x,y,v,b){let w=y.view.ru(v);w.Ss&&(w=await UE(x.localStore,y.query,!1).then(({documents:E})=>y.view.ru(E,w)));const _=b&&b.targetChanges.get(y.targetId),S=b&&b.targetMismatches.get(y.targetId)!=null,P=y.view.applyChanges(w,x.isPrimaryClient,_,S);return XE(x,y.targetId,P.au),P.snapshot}(t,d,h,p);const a=await UE(t.localStore,e,!0),s=new OX(e,a.ks),o=s.ru(a.documents),l=i4.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);XE(t,n,c.au);const u=new jX(e,n,s);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function FX(t,e,n){const r=Ge(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Mg(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await o7(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&px(r.remoteStore,i.targetId),u7(r,i.targetId)}).catch(xu)):(u7(r,i.targetId),await o7(r.localStore,i.targetId,!0))}async function VX(t,e){const n=Ge(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),px(n.remoteStore,r.targetId))}async function UX(t,e,n){const r=KX(t);try{const i=await function(s,o){const l=Ge(s),c=qt.now(),u=o.reduce((p,g)=>p.add(g.key),ot());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=x0(),x=ot();return l.xs.getEntries(p,u).next(y=>{g=y,g.forEach((v,b)=>{b.isValidDocument()||(x=x.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{d=y;const v=[];for(const b of o){const w=tQ(b,d.get(b.key).overlayedDocument);w!=null&&v.push(new zs(b.key,w,WR(w.value.mapValue),Ei.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,o)}).next(y=>{h=y;const v=y.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(p,y.batchId,v)})}).then(()=>({batchId:h.batchId,changes:nM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.du[s.currentUser.toKey()];c||(c=new tn(st)),c=c.insert(o,l),s.du[s.currentUser.toKey()]=c}(r,i.batchId,n),await s4(r,i.changes),await Bg(r.remoteStore)}catch(i){const a=xx(i,"Failed to persist write");n.reject(a)}}async function VM(t,e){const n=Ge(t);try{const r=await ZQ(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?_t(s.hu,14607):i.removedDocuments.size>0&&(_t(s.hu,42227),s.hu=!1))}),await s4(n,r,e)}catch(r){await xu(r)}}function QE(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Ge(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.ba)h.va(o)&&(c=!0)}),c&&bx(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BX(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new tn($e.comparator);s=s.insert(a,Zn.newNoDocument(a,He.min()));const o=ot().add(a),l=new Fg(He.min(),new Map,new tn(st),s,o);await VM(r,l),r.Ru=r.Ru.remove(a),r.Au.delete(e),_x(r)}else await o7(r.localStore,e,!1).then(()=>u7(r,e,n)).catch(xu)}async function zX(t,e){const n=Ge(t),r=e.batch.batchId;try{const i=await JQ(n.localStore,e);BM(n,r,null),UM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await s4(n,i)}catch(i){await xu(i)}}async function qX(t,e,n){const r=Ge(t);try{const i=await function(s,o){const l=Ge(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(_t(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);BM(r,e,n),UM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await s4(r,i)}catch(i){await xu(i)}}function UM(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function BM(t,e,n){const r=Ge(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function u7(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||zM(t,r)})}function zM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(px(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),_x(t))}function XE(t,e,n){for(const r of n)r instanceof DM?(t.Vu.addReference(r.key,e),WX(t,r)):r instanceof LM?(Ee(wx,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||zM(t,r.key)):Ue(19791,{wu:r})}function WX(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Ee(wx,"New document in limbo: "+n),t.Eu.add(r),_x(t))}function _x(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new $e($t.fromString(e)),r=t.fu.next();t.Au.set(r,new RX(n)),t.Ru=t.Ru.insert(n,r),NM(t.remoteStore,new is(ka(ix(n.path)),r,"TargetPurposeLimboResolution",Og.ce))}}async function s4(t,e,n){const r=Ge(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=fx.Es(l.targetId,c);a.push(d)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,c){const u=Ge(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>le.forEach(c,h=>le.forEach(h.Ts,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>le.forEach(h.Is,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!bu(d))throw d;Ee(hx,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.vs.get(h),g=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(g);u.vs=u.vs.insert(h,x)}}}(r.localStore,a))}async function HX(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ee(wx,"User change. New user:",e.toKey());const r=await EM(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new Se(se.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await s4(n,r.Ns)}}function GX(t,e){const n=Ge(t),r=n.Au.get(e);if(r&&r.hu)return ot().add(r.key);{let i=ot();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function qM(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BX.bind(null,e),e.Pu.J_=IX.bind(null,e.eventManager),e.Pu.yu=CX.bind(null,e.eventManager),e}function KX(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qX.bind(null,e),e}class im{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XQ(this.persistence,new KQ,e.initialUser,this.serializer)}Cu(e){return new SM(dx.Vi,this.serializer)}Du(e){return new iX}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}im.provider={build:()=>new im};class YX extends im{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof nm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jQ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new SM(r=>nm.Vi(r,n),this.serializer)}}class d7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HX.bind(null,this.syncEngine),await TX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AX}()}createDatastore(e){const n=Vg(e.databaseInfo.databaseId),r=cX(e.databaseInfo);return pX(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new gX(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>QE(this.syncEngine,n,0),function(){return qE.v()?new qE:new aX}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,u){const d=new MX(i,a,s,o,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ge(i);Ee(zo,"RemoteStore shutting down."),a.Ea.add(5),await a4(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}d7.provider={build:()=>new d7};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):v0("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class QX{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Xn.UNAUTHENTICATED,this.clientId=J8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{Ee(Ms,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ee(Ms,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function q5(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Ms,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await EM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XX(t);Ee(Ms,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>HE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>HE(e.remoteStore,i)),t._onlineComponents=e}async function XX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Ms,"Using user provided OfflineComponentProvider");try{await q5(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await q5(t,new im)}}else Ee(Ms,"Using default OfflineComponentProvider"),await q5(t,new YX(void 0));return t._offlineComponents}async function HM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Ms,"Using user provided OnlineComponentProvider"),await JE(t,t._uninitializedComponentsProvider._online)):(Ee(Ms,"Using default OnlineComponentProvider"),await JE(t,new d7))),t._onlineComponents}function JX(t){return HM(t).then(e=>e.syncEngine)}async function f7(t){const e=await HM(t),n=e.eventManager;return n.onListen=$X.bind(null,e.syncEngine),n.onUnlisten=FX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VX.bind(null,e.syncEngine),n}function ZX(t,e,n,r){const i=new WM(r),a=new $M(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>RM(await f7(t),a)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>MM(await f7(t),a))}}function eJ(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new WM({next:h=>{u.Nu(),s.enqueueAndForget(()=>MM(a,d)),h.fromCache&&l.source==="server"?c.reject(new Se(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new $M(o,u,{includeMetadataChanges:!0,Ka:!0});return RM(a,d)}(await f7(t),t.asyncQueue,e,n,r)),r.promise}function tJ(t,e){const n=new _s;return t.asyncQueue.enqueueAndForget(async()=>UX(await JX(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ="ComponentProvider",ZE=new Map;function rJ(t,e,n,r,i){return new SY(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,GM(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="firestore.googleapis.com",ek=!0;class tk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KM,this.ssl=ek}else this.host=e.host,this.ssl=e.ssl??ek;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_M;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CQ)throw new Se(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GM(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nY;switch(r.type){case"firstParty":return new sY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ZE.get(n);r&&(Ee(nJ,"Removing Datastore"),ZE.delete(n),r.terminate())}(this),Promise.resolve()}}function iJ(t,e,n,r={}){var c;t=Si(t,zg);const i=ul(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(K8(`https://${o}`),Y8("Firestore",!0)),a.host!==KM&&a.host!==o&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!As(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Xn.MOCK_USER;else{u=gR(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Se(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Xn(h)}t._authCredentials=new rY(new jR(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}toJSON(){return{type:un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(n4(n,un._jsonSchema))return new un(e,r||null,new $e($t.fromString(n.referencePath)))}}un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:gn("string",un._jsonSchemaVersion),referencePath:gn("string")};class Ss extends qs{constructor(e,n,r){super(e,n,ix(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new $e(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function ad(t,e,...n){if(t=Ft(t),RR("collection","path",e),t instanceof zg){const r=$t.fromString(e,...n);return pE(r),new Ss(t,null,r)}{if(!(t instanceof un||t instanceof Ss))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return pE(r),new Ss(t.firestore,null,r)}}function i3(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=J8.newId()),RR("doc","path",e),t instanceof zg){const r=$t.fromString(e,...n);return hE(r),new un(t,null,new $e(r))}{if(!(t instanceof un||t instanceof Ss))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($t.fromString(e,...n));return hE(r),new un(t.firestore,t instanceof Ss?t.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="AsyncQueue";class rk{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PM(this,"async_queue_retry"),this._c=()=>{const r=z5();r&&Ee(nk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=z5();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=z5();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new _s;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!bu(e))throw e;Ee(nk,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,v0("INTERNAL UNHANDLED ERROR: ",ik(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=vx.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Ue(47125,{Pc:ik(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ik(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $s extends zg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rk(e),this._firestoreClient=void 0,await e}}}function aJ(t,e){const n=typeof t=="object"?t:Ig(),r=typeof t=="string"?t:Q3,i=Us(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=hR("firestore");a&&iJ(i,...a)}return i}function Sx(t){if(t._terminated)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sJ(t),t._firestoreClient}function sJ(t){var r,i,a,s;const e=t._freezeSettings(),n=rJ(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new QX(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(Wn.fromBase64String(e))}catch(n){throw new Se(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gi(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(n4(e,gi._jsonSchema))return gi.fromBase64String(e.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:gn("string",gi._jsonSchemaVersion),bytes:gn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ta._jsonSchemaVersion}}static fromJSON(e){if(n4(e,Ta._jsonSchema))return new Ta(e.latitude,e.longitude)}}Ta._jsonSchemaVersion="firestore/geoPoint/1.0",Ta._jsonSchema={type:gn("string",Ta._jsonSchemaVersion),latitude:gn("number"),longitude:gn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(n4(e,Ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ji(e.vectorValues);throw new Se(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:gn("string",Ji._jsonSchemaVersion),vectorValues:gn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oJ=/^__.*__$/;class lJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new r4(e,this.data,n,this.fieldTransforms)}}class YM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{dataSource:t})}}class Px{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Px({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return am(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(QM(this.dataSource)&&oJ.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class cJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vg(e)}createContext(e,n,r,i=!1){return new Px({dataSource:e,methodName:n,targetDoc:r,path:Un.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qg(t){const e=t._freezeSettings(),n=Vg(t._databaseId);return new cJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XM(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);Tx("Data must be an object, but it was:",s,r);const o=JM(r,s);let l,c;if(a.merge)l=new Kr(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=Rc(e,d,n);if(!s.contains(h))throw new Se(se.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);t$(u,h)||u.push(h)}l=new Kr(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new lJ(new Ar(o),l,c)}class Wg extends kx{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wg}}function uJ(t,e,n,r){const i=t.createContext(1,e,n);Tx("Data must be an object, but it was:",i,r);const a=[],s=Ar.empty();Bs(r,(l,c)=>{const u=e$(e,l,n);c=Ft(c);const d=i.childContextForFieldPath(u);if(c instanceof Wg)a.push(u);else{const h=o4(c,d);h!=null&&(a.push(u),s.set(u,h))}});const o=new Kr(a);return new YM(s,o,i.fieldTransforms)}function dJ(t,e,n,r,i,a){const s=t.createContext(1,e,n),o=[Rc(e,r,n)],l=[i];if(a.length%2!=0)throw new Se(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(Rc(e,a[h])),l.push(a[h+1]);const c=[],u=Ar.empty();for(let h=o.length-1;h>=0;--h)if(!t$(c,o[h])){const p=o[h];let g=l[h];g=Ft(g);const x=s.childContextForFieldPath(p);if(g instanceof Wg)c.push(p);else{const y=o4(g,x);y!=null&&(c.push(p),u.set(p,y))}}const d=new Kr(c);return new YM(u,d,s.fieldTransforms)}function fJ(t,e,n,r=!1){return o4(n,t.createContext(r?4:3,e))}function o4(t,e){if(ZM(t=Ft(t)))return Tx("Unsupported field value:",e,t),JM(t,e);if(t instanceof kx)return function(r,i){if(!QM(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=o4(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qt.fromDate(r);return{timestampValue:tm(i.serializer,a)}}if(r instanceof qt){const a=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tm(i.serializer,a)}}if(r instanceof Ta)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gi)return{bytesValue:pM(i.serializer,r._byteString)};if(r instanceof un){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:cx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ji)return function(s,o){const l=s instanceof Ji?s.toArray():s;return{mapValue:{fields:{[zR]:{stringValue:qR},[X3]:{arrayValue:{values:l.map(u=>{if(typeof u!="number")throw o.createError("VectorValues must only contain numeric values.");return ax(o.serializer,u)})}}}}}}(r,i);if(wM(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Cg(r)}`)}(t,e)}function JM(t,e){const n={};return DR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,i)=>{const a=o4(i,e.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function ZM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof Ta||t instanceof gi||t instanceof un||t instanceof kx||t instanceof Ji||wM(t))}function Tx(t,e,n){if(!ZM(n)||!MR(n)){const r=Cg(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Rc(t,e,n){if((e=Ft(e))instanceof Ex)return e._internalPath;if(typeof e=="string")return e$(t,e);throw am("Field path arguments must be of type string or ",t,!1,void 0,n)}const hJ=new RegExp("[~\\*/\\[\\]]");function e$(t,e,n){if(e.search(hJ)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ex(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function am(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Se(se.INVALID_ARGUMENT,o+t+l)}function t$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{convertValue(e,n="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[X3].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ln(s.doubleValue));return new Ji(n)}convertGeoPoint(e){return new Ta(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wf(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$t.fromString(e);_t(bM(r),9688,{name:e});const i=new Hf(r.get(1),r.get(3)),a=new $e(r.popFirst(5));return i.isEqual(n)||v0(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx extends pJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}const ak="@firebase/firestore",sk="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Rc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mJ extends n${data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ax{}class i$ extends Ax{}function gJ(t,e,...n){let r=[];e instanceof Ax&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof Cx).length,o=a.filter(l=>l instanceof Ix).length;if(s>1||s>0&&o>0)throw new Se(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ix extends i${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ix(e,n,r)}_apply(e){const n=this._parse(e);return a$(e._query,n),new qs(e.firestore,e.converter,t7(e._query,n))}_parse(e){const n=qg(e.firestore);return function(a,s,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Se(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){ck(d,u);const g=[];for(const x of d)g.push(lk(l,a,x));h={arrayValue:{values:g}}}else h=lk(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||ck(d,u),h=fJ(o,s,d,u==="in"||u==="not-in");return mn.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Cx extends Ax{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ra.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)a$(s,l),s=t7(s,l)}(e._query,n),new qs(e.firestore,e.converter,t7(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ox extends i${constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ox(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new Se(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kf(a,s)}(e._query,this._field,this._direction);return new qs(e.firestore,e.converter,UY(e._query,n))}}function yJ(t,e="asc"){const n=e,r=Rc("orderBy",t);return Ox._create(r,n)}function lk(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new Se(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JR(e)&&n.indexOf("/")!==-1)throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($t.fromString(n));if(!$e.isDocumentKey(r))throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _E(t,new $e(r))}if(n instanceof un)return _E(t,n._key);throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cg(n)}.`)}function ck(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a$(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function s$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Rd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Co extends n${constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new a3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Co._jsonSchemaVersion="firestore/documentSnapshot/1.0",Co._jsonSchema={type:gn("string",Co._jsonSchemaVersion),bundleSource:gn("string","DocumentSnapshot"),bundleName:gn("string"),bundle:gn("string")};class a3 extends Co{data(e={}){return super.data(e)}}class Oo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new a3(this._firestore,this._userDataWriter,r.key,r,new Rd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new a3(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Rd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new a3(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Rd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:vJ(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=J8.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:gn("string",Oo._jsonSchemaVersion),bundleSource:gn("string","QuerySnapshot"),bundleName:gn("string"),bundle:gn("string")};function xJ(t){t=Si(t,qs);const e=Si(t.firestore,$s),n=Sx(e),r=new Nx(e);return r$(t._query),eJ(n,t._query).then(i=>new Oo(e,r,t,i))}function bJ(t,e,n){t=Si(t,un);const r=Si(t.firestore,$s),i=s$(t.converter,e),a=qg(r);return Hg(r,[XM(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ei.none())])}function wJ(t,e,n,...r){t=Si(t,un);const i=Si(t.firestore,$s),a=qg(i);let s;return s=typeof(e=Ft(e))=="string"||e instanceof Ex?dJ(a,"updateDoc",t._key,e,n,r):uJ(a,"updateDoc",t._key,e),Hg(i,[s.toMutation(t._key,Ei.exists(!0))])}function uk(t){return Hg(Si(t.firestore,$s),[new sx(t._key,Ei.none())])}function _J(t,e){const n=Si(t.firestore,$s),r=i3(t),i=s$(t.converter,e),a=qg(t.firestore);return Hg(n,[XM(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ei.exists(!1))]).then(()=>r)}function dk(t,...e){var c,u,d;t=Ft(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ok(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ok(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let a,s,o;if(t instanceof un)s=Si(t.firestore,$s),o=ix(t._key.path),a={next:h=>{e[r]&&e[r](SJ(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Si(t,qs);s=Si(h.firestore,$s),o=h._query;const p=new Nx(s);a={next:g=>{e[r]&&e[r](new Oo(s,p,h,g))},error:e[r+1],complete:e[r+2]},r$(t._query)}const l=Sx(s);return ZX(l,o,i,a)}function Hg(t,e){const n=Sx(t);return tJ(n,e)}function SJ(t,e,n){const r=n.docs.get(e._key),i=new Nx(t);return new Co(t,i,e._key,r,new Rd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){tY(fl),na(new Ni("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new $s(new iY(r.getProvider("auth-internal")),new oY(s,r.getProvider("app-check-internal")),EY(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),$r(ak,sk,e),$r(ak,sk,"esm2020")})();var EJ="firebase",kJ="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(EJ,kJ,"app");function o$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PJ=o$,l$=new dl("auth","Firebase",o$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Ag("@firebase/auth");function TJ(t,...e){sm.logLevel<=at.WARN&&sm.warn(`Auth (${fl}): ${t}`,...e)}function s3(t,...e){sm.logLevel<=at.ERROR&&sm.error(`Auth (${fl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,...e){throw Rx(t,...e)}function Zi(t,...e){return Rx(t,...e)}function jx(t,e,n){const r={...PJ(),[e]:n};return new dl("auth","Firebase",r).create(e,{appName:t.name})}function c0(t){return jx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NJ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ai(t,"argument-error"),jx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l$.create(t,...e)}function Ve(t,e,...n){if(!t)throw Rx(e,...n)}function e0(t){const e="INTERNAL ASSERTION FAILED: "+t;throw s3(e),new Error(e)}function b0(t,e){t||e0(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function AJ(){return fk()==="http:"||fk()==="https:"}function fk(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AJ()||yR()||"connection"in navigator)?navigator.onLine:!0}function CJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n){this.shortDelay=e,this.longDelay=n,b0(n>e,"Short delay should be less than long delay!"),this.isMobile=IG()||jG()}get(){return IJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e){b0(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;e0("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;e0("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;e0("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RJ=new l4(3e4,6e4);function Ws(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Da(t,e,n,r,i={}){return u$(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=t4({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...a};return OG()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ul(t.emulatorConfig.host)&&(c.credentials="include"),c$.fetch()(await d$(t,t.config.apiHost,n,o),c)})}async function u$(t,e,n){t._canInitEmulator=!1;const r={...OJ,...e};try{const i=new $J(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw lp(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lp(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw lp(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw lp(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jx(t,u,c);Ai(t,u)}}catch(i){if(i instanceof Ci)throw i;Ai(t,"network-request-failed",{message:String(i)})}}async function c4(t,e,n,r,i={}){const a=await Da(t,e,n,r,i);return"mfaPendingCredential"in a&&Ai(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function d$(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?Mx(t.config,i):`${t.config.apiScheme}://${i}`;return jJ.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function MJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $J{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zi(this.auth,"network-request-failed")),RJ.get())})}}function lp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zi(t,e,r);return i.customData._tokenResponse=n,i}function hk(t){return t!==void 0&&t.enterprise!==void 0}class DJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LJ(t,e){return Da(t,"GET","/v2/recaptchaConfig",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FJ(t,e){return Da(t,"POST","/v1/accounts:delete",e)}async function om(t,e){return Da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VJ(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=$x(r);Ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:df(W5(i.auth_time)),issuedAtTime:df(W5(i.iat)),expirationTime:df(W5(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function W5(t){return Number(t)*1e3}function $x(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return s3("JWT malformed, contained fewer than 3 sections"),null;try{const i=dR(n);return i?JSON.parse(i):(s3("Failed to decode base64 JWT payload"),null)}catch(i){return s3("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pk(t){const e=$x(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ci&&UJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=df(this.lastLoginAt),this.creationTime=df(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(t){var d;const e=t.auth,n=await t.getIdToken(),r=await qo(t,om(e,{idToken:n}));Ve(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(d=i.providerUserInfo)!=null&&d.length?f$(i.providerUserInfo):[],s=qJ(t.providerData,a),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new p7(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function zJ(t){const e=Ft(t);await lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function f$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WJ(t,e){const n=await u$(t,{},async()=>{const r=t4({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await d$(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&ul(t.emulatorConfig.host)&&(l.credentials="include"),c$.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HJ(t,e){return Da(t,"POST","/v2/accounts:revokeToken",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=pk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await WJ(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new dc;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ve(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dc,this.toJSON())}_performRefresh(){return e0("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new BJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new p7(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await qo(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VJ(this,e)}reload(){return zJ(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(c0(this.auth));const e=await this.getIdToken();return await qo(this,FJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:x}=n;Ve(d&&x,e,"internal-error");const y=dc.fromJSON(this.name,x);Ve(typeof d=="string",e,"internal-error"),V0(r,e.name),V0(i,e.name),Ve(typeof h=="boolean",e,"internal-error"),Ve(typeof p=="boolean",e,"internal-error"),V0(a,e.name),V0(s,e.name),V0(o,e.name),V0(l,e.name),V0(c,e.name),V0(u,e.name);const v=new zi({uid:d,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:y,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(v.providerData=g.map(b=>({...b}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new dc;i.updateFromServerResponse(n);const a=new zi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ve(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?f$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new dc;o.updateFromIdToken(r);const l=new zi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new p7(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new Map;function t0(t){b0(t instanceof Function,"Expected a class definition");let e=mk.get(t);return e?(b0(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h$.type="NONE";const gk=h$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e,n){return`firebase:${t}:${e}:${n}`}class fc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=o3(this.userKey,i.apiKey,a),this.fullPersistenceKey=o3("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await om(this.auth,{idToken:e}).catch(()=>{});return n?zi._fromGetAccountInfoResponse(this.auth,n,e):null}return zi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fc(t0(gk),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||t0(gk);const s=o3(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(s);if(u){let d;if(typeof u=="string"){const h=await om(e,{idToken:u}).catch(()=>{});if(!h)break;d=await zi._fromGetAccountInfoResponse(e,h,u)}else d=zi._fromJSON(e,u);c!==a&&(o=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new fc(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new fc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x$(e))return"Blackberry";if(b$(e))return"Webos";if(m$(e))return"Safari";if((e.includes("chrome/")||g$(e))&&!e.includes("edge/"))return"Chrome";if(v$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function p$(t=ir()){return/firefox\//i.test(t)}function m$(t=ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g$(t=ir()){return/crios\//i.test(t)}function y$(t=ir()){return/iemobile/i.test(t)}function v$(t=ir()){return/android/i.test(t)}function x$(t=ir()){return/blackberry/i.test(t)}function b$(t=ir()){return/webos/i.test(t)}function Dx(t=ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GJ(t=ir()){var e;return Dx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function KJ(){return RG()&&document.documentMode===10}function w$(t=ir()){return Dx(t)||v$(t)||b$(t)||x$(t)||/windows phone/i.test(t)||y$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e=[]){let n;switch(t){case"Browser":n=yk(ir());break;case"Worker":n=`${yk(ir())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QJ(t,e={}){return Da(t,"GET","/v2/passwordPolicy",Ws(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XJ=6;class JJ{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XJ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vk(this),this.idTokenSubscription=new vk(this),this.beforeStateQueue=new YJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=t0(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await fc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await om(this,{idToken:e}),r=await zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Nr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(c0(this));const n=e?Ft(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(c0(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(c0(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(t0(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QJ(this),n=new JJ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HJ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&t0(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await fc.create(this,[t0(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&TJ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Hs(t){return Ft(t)}class vk{constructor(e){this.auth=e,this.observer=null,this.addObserver=UG(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eZ(t){Gg=t}function S$(t){return Gg.loadJS(t)}function tZ(){return Gg.recaptchaEnterpriseScript}function nZ(){return Gg.gapiScript}function rZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iZ{constructor(){this.enterprise=new aZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sZ="recaptcha-enterprise",E$="NO_RECAPTCHA";class oZ{constructor(e){this.type=sZ,this.auth=Hs(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{LJ(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new DJ(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;hk(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(E$)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iZ().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&hk(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tZ();l.length!==0&&(l+=o),S$(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function xk(t,e,n,r=!1,i=!1){const a=new oZ(t);let s;if(i)s=E$;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function m7(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await xk(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await xk(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lZ(t,e){const n=Us(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(As(a,e??{}))return i;Ai(i,"already-initialized")}return n.initialize({options:e})}function cZ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(t0);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uZ(t,e,n){const r=Hs(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=k$(e),{host:s,port:o}=dZ(e),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(As(c,r.config.emulator)&&As(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ul(s)?(K8(`${a}//${s}${l}`),Y8("Auth",!0)):fZ()}function k$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dZ(t){const e=k$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:bk(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:bk(s)}}}function bk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return e0("not implemented")}_getIdTokenResponse(e){return e0("not implemented")}_linkToIdToken(e,n){return e0("not implemented")}_getReauthenticationResolver(e){return e0("not implemented")}}async function hZ(t,e){return Da(t,"POST","/v1/accounts:update",e)}async function pZ(t,e){return Da(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mZ(t,e){return c4(t,"POST","/v1/accounts:signInWithPassword",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gZ(t,e){return c4(t,"POST","/v1/accounts:signInWithEmailLink",Ws(t,e))}async function yZ(t,e){return c4(t,"POST","/v1/accounts:signInWithEmailLink",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends Lx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m7(e,n,"signInWithPassword",mZ);case"emailLink":return gZ(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m7(e,r,"signUpPassword",pZ);case"emailLink":return yZ(e,{idToken:n,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e){return c4(t,"POST","/v1/accounts:signInWithIdp",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vZ="http://localhost";class Wo extends Lx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Wo(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return hc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hc(e,n)}buildRequest(){const e={requestUri:vZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=t4(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bZ(t){const e=Ad(Id(t)).link,n=e?Ad(Id(e)).deep_link_id:null,r=Ad(Id(t)).deep_link_id;return(r?Ad(Id(r)).link:null)||r||n||e||t}class Fx{constructor(e){const n=Ad(Id(e)),r=n.apiKey??null,i=n.oobCode??null,a=xZ(n.mode??null);Ve(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=bZ(e);try{return new Fx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,n){return Xf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Fx.parseLink(n);return Ve(r,"argument-error"),Xf._fromEmailAndCode(e,r.code,r.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4 extends Vx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends u4{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:X0.PROVIDER_ID,signInMethod:X0.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return X0.credentialFromTaggedObject(e)}static credentialFromError(e){return X0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return X0.credential(e.oauthAccessToken)}catch{return null}}}X0.FACEBOOK_SIGN_IN_METHOD="facebook.com";X0.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends u4{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wo._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ka.credential(n,r)}catch{return null}}}Ka.GOOGLE_SIGN_IN_METHOD="google.com";Ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends u4{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:J0.PROVIDER_ID,signInMethod:J0.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return J0.credentialFromTaggedObject(e)}static credentialFromError(e){return J0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return J0.credential(e.oauthAccessToken)}catch{return null}}}J0.GITHUB_SIGN_IN_METHOD="github.com";J0.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends u4{constructor(){super("twitter.com")}static credential(e,n){return Wo._fromParams({providerId:Z0.PROVIDER_ID,signInMethod:Z0.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Z0.credentialFromTaggedObject(e)}static credentialFromError(e){return Z0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Z0.credential(n,r)}catch{return null}}}Z0.TWITTER_SIGN_IN_METHOD="twitter.com";Z0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wZ(t,e){return c4(t,"POST","/v1/accounts:signUp",Ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await zi._fromIdTokenResponse(e,r,i),s=wk(r);return new Ho({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wk(r);return new Ho({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm extends Ci{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cm(e,n,r,i)}}function P$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cm._fromErrorAndOperation(t,a,e,r):a})}async function _Z(t,e,n=!1){const r=await qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ho._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(t,e,n=!1){const{auth:r}=t;if(Nr(r.app))return Promise.reject(c0(r));const i="reauthenticate";try{const a=await qo(t,P$(r,i,e,t),n);Ve(a.idToken,r,"internal-error");const s=$x(a.idToken);Ve(s,r,"internal-error");const{sub:o}=s;return Ve(t.uid===o,r,"user-mismatch"),Ho._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ai(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N$(t,e,n=!1){if(Nr(t.app))return Promise.reject(c0(t));const r="signIn",i=await P$(t,r,e),a=await Ho._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function SZ(t,e){return N$(Hs(t),e)}async function EZ(t,e){return T$(Ft(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A$(t){const e=Hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kZ(t,e,n){if(Nr(t.app))return Promise.reject(c0(t));const r=Hs(t),s=await m7(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wZ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&A$(t),l}),o=await Ho._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function PZ(t,e,n){return Nr(t.app)?Promise.reject(c0(t)):SZ(Ft(t),ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&A$(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TZ(t,e){return Da(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NZ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await qo(r,TZ(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function AZ(t,e){return IZ(Ft(t),null,e)}async function IZ(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const s=await qo(t,hZ(r,a));await t._updateTokensIfNecessary(s,!0)}function CZ(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function OZ(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function jZ(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function RZ(t){return Ft(t).signOut()}const um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(um,"1"),this.storage.removeItem(um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZ=1e3,$Z=10;class C$ extends I${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);KJ()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$Z):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}C$.type="LOCAL";const DZ=C$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O$ extends I${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O$.type="SESSION";const j$=O$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await LZ(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=Ux("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(){return window}function VZ(t){Na().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(){return typeof Na().WorkerGlobalScope<"u"&&typeof Na().importScripts=="function"}async function UZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BZ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function zZ(){return R$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$="firebaseLocalStorageDb",qZ=1,dm="firebaseLocalStorage",$$="fbase_key";class d4{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yg(t,e){return t.transaction([dm],e?"readwrite":"readonly").objectStore(dm)}function WZ(){const t=indexedDB.deleteDatabase(M$);return new d4(t).toPromise()}function g7(){const t=indexedDB.open(M$,qZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dm,{keyPath:$$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dm)?e(r):(r.close(),await WZ(),e(await g7()))})})}async function _k(t,e,n){const r=Yg(t,!0).put({[$$]:e,value:n});return new d4(r).toPromise()}async function HZ(t,e){const n=Yg(t,!1).get(e),r=await new d4(n).toPromise();return r===void 0?null:r.value}function Sk(t,e){const n=Yg(t,!0).delete(e);return new d4(n).toPromise()}const GZ=800,KZ=3;class D${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g7(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kg._getInstance(zZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await UZ(),!this.activeServiceWorker)return;this.sender=new FZ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await g7();return await _k(e,um,"1"),await Sk(e,um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_k(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Yg(i,!1).getAll();return new d4(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D$.type="LOCAL";const YZ=D$;new l4(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t,e){return e?t0(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends Lx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QZ(t){return N$(t.auth,new Bx(t),t.bypassAuthState)}function XZ(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),T$(n,new Bx(t),t.bypassAuthState)}async function JZ(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),_Z(n,new Bx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QZ;case"linkViaPopup":case"linkViaRedirect":return JZ;case"reauthViaPopup":case"reauthViaRedirect":return XZ;default:Ai(this.auth,"internal-error")}}resolve(e){b0(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b0(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=new l4(2e3,1e4);async function eee(t,e,n){if(Nr(t.app))return Promise.reject(Zi(t,"operation-not-supported-in-this-environment"));const r=Hs(t);NJ(t,e,Vx);const i=L$(r,n);return new wo(r,"signInViaPopup",e,i).executeNotNull()}class wo extends F${constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){b0(this.filter.length===1,"Popup operations only handle one event");const e=Ux();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZZ.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tee="pendingRedirect",l3=new Map;class nee extends F${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=l3.get(this.auth._key());if(!e){try{const r=await ree(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}l3.set(this.auth._key(),e)}return this.bypassAuthState||l3.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ree(t,e){const n=see(e),r=aee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iee(t,e){l3.set(t._key(),e)}function aee(t){return t0(t._redirectPersistence)}function see(t){return o3(tee,t.config.apiKey,t.name)}async function oee(t,e,n=!1){if(Nr(t.app))return Promise.reject(c0(t));const r=Hs(t),i=L$(r,e),s=await new nee(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee=10*60*1e3;class cee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!V$(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lee&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ek(e))}saveEventToCache(e){this.cachedEventUids.add(Ek(e)),this.lastProcessedEventTime=Date.now()}}function Ek(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function V$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dee(t,e={}){return Da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hee=/^https?/;async function pee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dee(t);for(const n of e)try{if(mee(n))return}catch{}Ai(t,"unauthorized-domain")}function mee(t){const e=h7(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!hee.test(n))return!1;if(fee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gee=new l4(3e4,6e4);function kk(){const t=Na().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yee(t){return new Promise((e,n)=>{var i,a,s;function r(){kk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kk(),n(Zi(t,"network-request-failed"))},timeout:gee.get()})}if((a=(i=Na().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=Na().gapi)!=null&&s.load)r();else{const o=rZ("iframefcb");return Na()[o]=()=>{gapi.load?r():n(Zi(t,"network-request-failed"))},S$(`${nZ()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw c3=null,e})}let c3=null;function vee(t){return c3=c3||yee(t),c3}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee=new l4(5e3,15e3),bee="__/auth/iframe",wee="emulator/auth/iframe",_ee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},See=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eee(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mx(e,wee):`https://${t.config.authDomain}/${bee}`,r={apiKey:e.apiKey,appName:t.name,v:fl},i=See.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${t4(r).slice(1)}`}async function kee(t){const e=await vee(t),n=Na().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:Eee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_ee,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Zi(t,"network-request-failed"),o=Na().setTimeout(()=>{a(s)},xee.get());function l(){Na().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tee=500,Nee=600,Aee="_blank",Iee="http://localhost";class Pk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cee(t,e,n,r=Tee,i=Nee){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...Pee,width:r.toString(),height:i.toString(),top:a,left:s},c=ir().toLowerCase();n&&(o=g$(c)?Aee:n),p$(c)&&(e=e||Iee,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(GJ(c)&&o!=="_self")return Oee(e||"",o),new Pk(null);const d=window.open(e||"",o,u);Ve(d,t,"popup-blocked");try{d.focus()}catch{}return new Pk(d)}function Oee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee="__/auth/handler",Ree="emulator/auth/handler",Mee=encodeURIComponent("fac");async function Tk(t,e,n,r,i,a){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fl,eventId:i};if(e instanceof Vx){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",VG(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof u4){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${Mee}=${encodeURIComponent(l)}`:"";return`${$ee(t)}?${t4(o).slice(1)}${c}`}function $ee({config:t}){return t.emulator?Mx(t,Ree):`https://${t.authDomain}/${jee}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="webStorageSupport";class Dee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j$,this._completeRedirectFn=oee,this._overrideRedirectResult=iee}async _openPopup(e,n,r,i){var s;b0((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Tk(e,n,r,h7(),i);return Cee(e,a,Ux())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Tk(e,n,r,h7(),i);return VZ(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(b0(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kee(e),r=new cee(e);return n.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(H5,{type:H5},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[H5];a!==void 0&&n(!!a),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w$()||m$()||Dx()}}const Lee=Dee;var Nk="@firebase/auth",Ak="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Uee(t){na(new Ni("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_$(t)},c=new ZJ(r,i,a,l);return cZ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),na(new Ni("auth-internal",e=>{const n=Hs(e.getProvider("auth").getImmediate());return(r=>new Fee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(Nk,Ak,Vee(t)),$r(Nk,Ak,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee=5*60,zee=mR("authIdTokenMaxAge")||Bee;let Ik=null;const qee=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zee)return;const i=n==null?void 0:n.token;Ik!==i&&(Ik=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Wee(t=Ig()){const e=Us(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lZ(t,{popupRedirectResolver:Lee,persistence:[YZ,DZ,j$]}),r=mR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=qee(a.toString());OZ(n,s,()=>s(n.currentUser)),CZ(n,o=>s(o))}}const i=fR("auth");return i&&uZ(n,`http://${i}`),n}function Hee(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}eZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Zi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Hee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Uee("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="firebasestorage.googleapis.com",Gee="storageBucket",Kee=2*60*1e3,Yee=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Ci{constructor(e,n,r=0){super(G5(e),`Firebase Storage: ${n} (${G5(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,La.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return G5(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ra;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ra||(Ra={}));function G5(t){return"storage/"+t}function Qee(){const t="An unknown error occurred, please check the error payload for server response.";return new La(Ra.UNKNOWN,t)}function Xee(){return new La(Ra.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jee(){return new La(Ra.CANCELED,"User canceled the upload/download.")}function Zee(t){return new La(Ra.INVALID_URL,"Invalid URL '"+t+"'.")}function ete(t){return new La(Ra.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ck(t){return new La(Ra.INVALID_ARGUMENT,t)}function B$(){return new La(Ra.APP_DELETED,"The Firebase app was deleted.")}function tte(t){return new La(Ra.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=qi.makeFromUrl(e,n)}catch{return new qi(e,"")}if(r.path==="")return r;throw ete(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(_){_.path_=decodeURIComponent(_.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},x=n===U$?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",v=new RegExp(`^https?://${x}/${i}/${y}`,"i"),w=[{regex:o,indices:l,postModify:a},{regex:p,indices:g,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let _=0;_<w.length;_++){const S=w[_],P=S.regex.exec(e);if(P){const E=P[S.indices.bucket];let k=P[S.indices.path];k||(k=""),r=new qi(E,k),S.postModify(r);break}}if(r==null)throw Zee(e);return r}}class nte{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rte(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){a&&clearTimeout(a)}function p(y,...v){if(c){h();return}if(y){h(),u.call(null,y,...v);return}if(l()||s){h(),u.call(null,y,...v);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function x(y){g||(g=!0,h(),!c&&(i!==null?(y||(o=2),clearTimeout(i),d(0)):y||(o=1)))}return d(0),a=setTimeout(()=>{s=!0,x(!0)},n),x}function ite(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ate(t){return t!==void 0}function Ok(t,e,n,r){if(r<e)throw Ck(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ck(`Invalid value for '${t}'. Expected ${n} or less.`)}function ste(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var fm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fm||(fm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ote(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(e,n,r,i,a,s,o,l,c,u,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,x)=>{this.resolve_=g,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new cp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===fm.NO_ERROR,l=a.getStatus();if(!o||ote(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===fm.ABORT;r(!1,new cp(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new cp(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());ate(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=Qee();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?B$():Jee();s(l)}else{const l=Xee();s(l)}};this.canceled_?n(!1,new cp(!1,null,!0)):this.backoffId_=rte(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ite(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cte(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ute(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dte(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fte(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hte(t,e,n,r,i,a,s=!0,o=!1){const l=ste(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return dte(u,e),cte(u,n),ute(u,a),fte(u,r),new lte(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pte(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mte(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this._service=e,n instanceof qi?this._location=n:this._location=qi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hm(e,n)}get root(){const e=new qi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mte(this._location.path)}get storage(){return this._service}get parent(){const e=pte(this._location.path);if(e===null)return null;const n=new qi(this._location.bucket,e);return new hm(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tte(e)}}function jk(t,e){const n=e==null?void 0:e[Gee];return n==null?null:qi.makeFromBucketSpec(n,t)}function gte(t,e,n,r={}){t.host=`${e}:${n}`;const i=ul(e);i&&(K8(`https://${t.host}/b`),Y8("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:gR(a,t.app.options.projectId))}class yte{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=U$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kee,this._maxUploadRetryTime=Yee,this._requests=new Set,i!=null?this._bucket=qi.makeFromBucketSpec(i,this._host):this._bucket=jk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qi.makeFromBucketSpec(this._url,e):this._bucket=jk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ok("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ok("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hm(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new nte(B$());{const s=hte(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Rk="@firebase/storage",Mk="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$="storage";function vte(t=Ig(),e){t=Ft(t);const r=Us(t,z$).getImmediate({identifier:e}),i=hR("storage");return i&&xte(r,...i),r}function xte(t,e,n,r={}){gte(t,e,n,r)}function bte(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new yte(n,r,i,e,fl)}function wte(){na(new Ni(z$,bte,"PUBLIC").setMultipleInstances(!0)),$r(Rk,Mk,""),$r(Rk,Mk,"esm2020")}wte();const q$="@firebase/installations",zx="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=1e4,H$=`w:${zx}`,G$="FIS_v2",_te="https://firebaseinstallations.googleapis.com/v1",Ste=60*60*1e3,Ete="installations",kte="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pte={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Go=new dl(Ete,kte,Pte);function K$(t){return t instanceof Ci&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$({projectId:t}){return`${_te}/projects/${t}/installations`}function Q$(t){return{token:t.token,requestStatus:2,expiresIn:Nte(t.expiresIn),creationTime:Date.now()}}async function X$(t,e){const r=(await e.json()).error;return Go.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function J$({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Tte(t,{refreshToken:e}){const n=J$(t);return n.append("Authorization",Ate(e)),n}async function Z$(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Nte(t){return Number(t.replace("s","000"))}function Ate(t){return`${G$} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ite({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Y$(t),i=J$(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:G$,appId:t.appId,sdkVersion:H$},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await Z$(()=>fetch(r,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Q$(c.authToken)}}else throw await X$("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote=/^[cdef][\w-]{21}$/,y7="";function jte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Rte(t);return Ote.test(n)?n:y7}catch{return y7}}function Rte(t){return Cte(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Map;function nD(t,e){const n=Qg(t);rD(n,e),Mte(n,e)}function rD(t,e){const n=tD.get(t);if(n)for(const r of n)r(e)}function Mte(t,e){const n=$te();n&&n.postMessage({key:t,fid:e}),Dte()}let _o=null;function $te(){return!_o&&"BroadcastChannel"in self&&(_o=new BroadcastChannel("[Firebase] FID Change"),_o.onmessage=t=>{rD(t.data.key,t.data.fid)}),_o}function Dte(){tD.size===0&&_o&&(_o.close(),_o=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte="firebase-installations-database",Fte=1,Ko="firebase-installations-store";let K5=null;function qx(){return K5||(K5=_R(Lte,Fte,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ko)}}})),K5}async function pm(t,e){const n=Qg(t),i=(await qx()).transaction(Ko,"readwrite"),a=i.objectStore(Ko),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&nD(t,e.fid),e}async function iD(t){const e=Qg(t),r=(await qx()).transaction(Ko,"readwrite");await r.objectStore(Ko).delete(e),await r.done}async function Xg(t,e){const n=Qg(t),i=(await qx()).transaction(Ko,"readwrite"),a=i.objectStore(Ko),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&nD(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(t){let e;const n=await Xg(t.appConfig,r=>{const i=Vte(r),a=Ute(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===y7?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Vte(t){const e=t||{fid:jte(),registrationStatus:0};return aD(e)}function Ute(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Go.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Bte(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zte(t)}:{installationEntry:e}}async function Bte(t,e){try{const n=await Ite(t,e);return pm(t.appConfig,n)}catch(n){throw K$(n)&&n.customData.serverCode===409?await iD(t.appConfig):await pm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function zte(t){let e=await $k(t.appConfig);for(;e.registrationStatus===1;)await eD(100),e=await $k(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Wx(t);return r||n}return e}function $k(t){return Xg(t,e=>{if(!e)throw Go.create("installation-not-found");return aD(e)})}function aD(t){return qte(t)?{fid:t.fid,registrationStatus:0}:t}function qte(t){return t.registrationStatus===1&&t.registrationTime+W$<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wte({appConfig:t,heartbeatServiceProvider:e},n){const r=Hte(t,n),i=Tte(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:H$,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await Z$(()=>fetch(r,o));if(l.ok){const c=await l.json();return Q$(c)}else throw await X$("Generate Auth Token",l)}function Hte(t,{fid:e}){return`${Y$(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t,e=!1){let n;const r=await Xg(t.appConfig,a=>{if(!sD(a))throw Go.create("not-registered");const s=a.authToken;if(!e&&Yte(s))return a;if(s.requestStatus===1)return n=Gte(t,e),a;{if(!navigator.onLine)throw Go.create("app-offline");const o=Xte(a);return n=Kte(t,o),o}});return n?await n:r.authToken}async function Gte(t,e){let n=await Dk(t.appConfig);for(;n.authToken.requestStatus===1;)await eD(100),n=await Dk(t.appConfig);const r=n.authToken;return r.requestStatus===0?Hx(t,e):r}function Dk(t){return Xg(t,e=>{if(!sD(e))throw Go.create("not-registered");const n=e.authToken;return Jte(n)?{...e,authToken:{requestStatus:0}}:e})}async function Kte(t,e){try{const n=await Wte(t,e),r={...e,authToken:n};return await pm(t.appConfig,r),n}catch(n){if(K$(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await iD(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await pm(t.appConfig,r)}throw n}}function sD(t){return t!==void 0&&t.registrationStatus===2}function Yte(t){return t.requestStatus===2&&!Qte(t)}function Qte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ste}function Xte(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Jte(t){return t.requestStatus===1&&t.requestTime+W$<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zte(t){const e=t,{installationEntry:n,registrationPromise:r}=await Wx(e);return r?r.catch(console.error):Hx(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ene(t,e=!1){const n=t;return await tne(n),(await Hx(n,e)).token}async function tne(t){const{registrationPromise:e}=await Wx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nne(t){if(!t||!t.options)throw Y5("App Configuration");if(!t.name)throw Y5("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Y5(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Y5(t){return Go.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="installations",rne="installations-internal",ine=t=>{const e=t.getProvider("app").getImmediate(),n=nne(e),r=Us(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ane=t=>{const e=t.getProvider("app").getImmediate(),n=Us(e,oD).getImmediate();return{getId:()=>Zte(n),getToken:i=>ene(n,i)}};function sne(){na(new Ni(oD,ine,"PUBLIC")),na(new Ni(rne,ane,"PRIVATE"))}sne();$r(q$,zx);$r(q$,zx,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="analytics",one="firebase_id",lne="origin",cne=60*1e3,une="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new Ag("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dne={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zr=new dl("analytics","Analytics",dne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fne(t){if(!t.startsWith(Gx)){const e=Zr.create("invalid-gtag-resource",{gtagURL:t});return yr.warn(e.message),""}return t}function lD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function hne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function pne(t,e){const n=hne("firebase-js-sdk-policy",{createScriptURL:fne}),r=document.createElement("script"),i=`${Gx}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function mne(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function gne(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const l=(await lD(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(o){yr.error(o)}t("config",i,a)}async function yne(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await lD(n);for(const l of s){const c=o.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){yr.error(a)}}function vne(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,l]=s;await yne(t,e,n,o,l)}else if(a==="config"){const[o,l]=s;await gne(t,e,n,r,o,l)}else if(a==="consent"){const[o,l]=s;t("consent",o,l)}else if(a==="get"){const[o,l,c]=s;t("get",o,l,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){yr.error(o)}}return i}function xne(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=vne(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function bne(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Gx)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wne=30,_ne=1e3;class Sne{constructor(e={},n=_ne){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cD=new Sne;function Ene(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function kne(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Ene(n)},i=une.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw Zr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function Pne(t,e=cD,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Zr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Zr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Ane;return setTimeout(async()=>{o.abort()},cne),uD({appId:r,apiKey:i,measurementId:a},s,o,e)}async function uD(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=cD){var o;const{appId:a,measurementId:s}=t;try{await Tne(r,e)}catch(l){if(s)return yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await kne(t);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!Nne(c)){if(i.deleteThrottleMetadata(a),s)return yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?tE(n,i.intervalMillis,wne):tE(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,d),yr.debug(`Calling attemptFetch again in ${u} millis`),uD(t,d,r,i)}}function Tne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Zr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Nne(t){if(!(t instanceof Ci)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Ane{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ine(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function Cne(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function One(){if(vR())try{await xR()}catch(t){return yr.warn(Zr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return yr.warn(Zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jne(t,e,n,r,i,a,s){const o=Pne(t);o.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&yr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>yr.error(h)),e.push(o);const l=One().then(h=>{if(h)return r.getId()}),[c,u]=await Promise.all([o,l]);bne(a)||pne(a,c.measurementId),i("js",new Date);const d=(s==null?void 0:s.config)??{};return d[lne]="firebase",d.update=!0,u!=null&&(d[one]=u),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(e){this.app=e}_delete(){return delete pc[this.app.options.appId],Promise.resolve()}}let pc={},Lk=[];const Fk={};let Q5="dataLayer",Mne="gtag",Vk,Kx,Uk=!1;function $ne(){const t=[];if(yR()&&t.push("This is a browser extension environment."),$G()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Zr.create("invalid-analytics-context",{errorInfo:e});yr.warn(n.message)}}function Dne(t,e,n){$ne();const r=t.options.appId;if(!r)throw Zr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zr.create("no-api-key");if(pc[r]!=null)throw Zr.create("already-exists",{id:r});if(!Uk){mne(Q5);const{wrappedGtag:a,gtagCore:s}=xne(pc,Lk,Fk,Q5,Mne);Kx=a,Vk=s,Uk=!0}return pc[r]=jne(t,Lk,Fk,e,Vk,Q5,n),new Rne(t)}function Lne(t=Ig()){t=Ft(t);const e=Us(t,mm);return e.isInitialized()?e.getImmediate():Fne(t)}function Fne(t,e={}){const n=Us(t,mm);if(n.isInitialized()){const i=n.getImmediate();if(As(e,n.getOptions()))return i;throw Zr.create("already-initialized")}return n.initialize({options:e})}function Vne(t,e,n){t=Ft(t),Cne(Kx,pc[t.app.options.appId],e,n).catch(r=>yr.error(r))}function Une(t,e,n,r){t=Ft(t),Ine(Kx,pc[t.app.options.appId],e,n,r).catch(i=>yr.error(i))}const Bk="@firebase/analytics",zk="0.10.19";function Bne(){na(new Ni(mm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Dne(r,i,n)},"PUBLIC")),na(new Ni("analytics-internal",t,"PRIVATE")),$r(Bk,zk),$r(Bk,zk,"esm2020");function t(e){try{const n=e.getProvider(mm).getImmediate();return{logEvent:(r,i,a)=>Une(n,r,i,a),setUserProperties:(r,i)=>Vne(n,r,i)}}catch(n){throw Zr.create("interop-component-reg-failed",{reason:n})}}}Bne();const zne={apiKey:"AIzaSyALROg4hIMFvYd8hydNKxKWmP3Cn5JmdcQ",authDomain:"test-inventory-stoe.firebaseapp.com",projectId:"test-inventory-stoe",storageBucket:"test-inventory-stoe.firebasestorage.app",messagingSenderId:"1081430501971",appId:"1:1081430501971:web:bb4e4be92aa2519ae934a6",measurementId:"G-3Y7YENDSHN"},Jg=SR(zne),oi=Wee(Jg),U0=aJ(Jg);vte(Jg);typeof window<"u"&&Lne(Jg);const sd={subscribeToCollection:(t,e,n="name",r="asc",i)=>{try{if(!t||typeof e!="function")return console.error("subscribeToCollection: invalid arguments",{collectionName:t,callback:e}),()=>{};const a=n?gJ(ad(U0,t),yJ(n,r)):ad(U0,t);return dk(a,s=>{const o=s.docs.map(l=>({_id:l.id,...l.data()}));e(o)},s=>{if(console.error(`Error subscribing to ${t}:`,s),i&&i(s),s.code==="failed-precondition"||s.message.includes("index")){console.log(`Retrying ${t} without orderBy...`);const o=ad(U0,t);return dk(o,l=>{const c=l.docs.map(u=>({_id:u.id,...u.data()}));e(c)},l=>{i&&i(l)})}})}catch(a){return console.error(`Error setting up subscription for ${t}:`,a),()=>{}}},add:async(t,e)=>{if(!t)throw new Error("add: collectionName is required");try{const n=await _J(ad(U0,t),e);return{...e,_id:n.id}}catch(n){throw console.error(`Error adding to ${t}:`,n),n}},update:async(t,e,n)=>{if(!t||!e)throw new Error("update: collectionName and id are required");try{const r=i3(U0,t,e);await wJ(r,n)}catch(r){throw console.error(`Error updating ${t}:`,r),r}},set:async(t,e,n)=>{if(!t||!e)throw new Error("set: collectionName and id are required");try{const r=i3(U0,t,e);await bJ(r,n)}catch(r){throw console.error(`Error setting in ${t}:`,r),r}},delete:async(t,e)=>{if(!t||!e)throw new Error("delete: collectionName and id are required");try{const n=i3(U0,t,e);await uk(n)}catch(n){throw console.error(`Error deleting from ${t}:`,n),n}},clearCollection:async t=>{if(!t)throw new Error("clearCollection: collectionName is required");try{const n=(await xJ(ad(U0,t))).docs.map(r=>uk(r.ref));await Promise.all(n)}catch(e){throw console.error(`Error clearing ${t}:`,e),e}}};function ar(){var t;return typeof window<"u"&&!!((t=window.desktopAPI)!=null&&t.isDesktop)}async function up(t,e="updatedAt",n="desc"){return window.desktopAPI.list(t,e,n)}const Je={isDesktop:ar,subscribeToCollection:(t,e,n="name",r="asc",i)=>{if(!ar())return sd.subscribeToCollection(t,e,n,r,i);let a=!0;const s=async()=>{try{const l=await up(t,n,r);a&&e(l)}catch(l){i&&i(l)}};s();const o=window.desktopAPI.onDataChanged(l=>{(!(l!=null&&l.entity)||l.entity===t||l.entity==="*")&&s()});return()=>{a=!1,o==null||o()}},add:async(t,e)=>{if(!ar())return sd.add(t,e);const n=crypto.randomUUID();return window.desktopAPI.upsert(t,{...e,_id:n})},update:async(t,e,n)=>ar()?window.desktopAPI.upsert(t,{...n,_id:e}):sd.update(t,e,n),set:async(t,e,n)=>ar()?window.desktopAPI.upsert(t,{...n,_id:e}):sd.set(t,e,n),delete:async(t,e)=>ar()?window.desktopAPI.remove(t,e):sd.delete(t,e),listProducts:()=>up("products","name","asc"),getProduct:t=>window.desktopAPI.get("products",t),upsertProduct:t=>window.desktopAPI.upsert("products",t),deleteProduct:t=>window.desktopAPI.remove("products",t),listOrders:()=>up("orders","date","desc"),getOrder:t=>window.desktopAPI.get("orders",t),upsertOrder:t=>window.desktopAPI.upsert("orders",t),deleteOrder:t=>window.desktopAPI.remove("orders",t),listCustomers:()=>up("customers","name","asc"),getCustomer:t=>window.desktopAPI.get("customers",t),upsertCustomer:t=>window.desktopAPI.upsert("customers",t),deleteCustomer:t=>window.desktopAPI.remove("customers",t),syncOnce:async()=>ar()?window.desktopAPI.syncOnce():{skipped:!0},getSyncStatus:async()=>ar()?window.desktopAPI.getSyncStatus():{online:navigator.onLine,pendingCount:0,offlineModeEnabled:!1},getPendingSyncCount:async()=>ar()?window.desktopAPI.getPendingCount():0,getConflicts:async()=>ar()?window.desktopAPI.getConflicts():[],setOnlineStatus:async t=>{ar()&&await window.desktopAPI.setOnline(t)},getOfflineModeEnabled:async()=>ar()?window.desktopAPI.getOfflineMode():!1,setOfflineModeEnabled:async t=>{ar()&&await window.desktopAPI.setOfflineMode(t)},onSyncState:t=>ar()?window.desktopAPI.onSyncState(t):()=>{},onConflict:t=>ar()?window.desktopAPI.onConflict(t):()=>{}},qe=t=>typeof t=="string",od=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},qk=t=>t==null?"":""+t,qne=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Wne=/###/g,Wk=t=>t&&t.indexOf("###")>-1?t.replace(Wne,"."):t,Hk=t=>!t||qe(t),ff=(t,e,n)=>{const r=qe(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Hk(t))return{};const a=Wk(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return Hk(t)?{}:{obj:t,k:Wk(r[i])}},Gk=(t,e,n)=>{const{obj:r,k:i}=ff(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],s=e.slice(0,e.length-1),o=ff(t,s,Object);for(;o.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),o=ff(t,s,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=n},Hne=(t,e,n,r)=>{const{obj:i,k:a}=ff(t,e,Object);i[a]=i[a]||[],i[a].push(n)},gm=(t,e)=>{const{obj:n,k:r}=ff(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Gne=(t,e,n)=>{const r=gm(t,n);return r!==void 0?r:gm(e,n)},dD=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?qe(t[r])||t[r]instanceof String||qe(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):dD(t[r],e[r],n):t[r]=e[r]);return t},kl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Kne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Yne=t=>qe(t)?t.replace(/[&<>"'\/]/g,e=>Kne[e]):t;class Qne{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Xne=[" ",",","?","!",";"],Jne=new Qne(20),Zne=(t,e,n)=>{e=e||"",n=n||"";const r=Xne.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=Jne.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(t);if(!a){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a},v7=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,o="";for(let l=a;l<r.length;++l)if(l!==a&&(o+=n),o+=r[l],s=i[o],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=s}return i},Jf=t=>t==null?void 0:t.replace("_","-"),ere={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class ym{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||ere,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(qe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ym(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ym(this.logger,e)}}var xa=new ym;let Zg=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[e,...n])})}};class Kk extends Zg{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,u;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):qe(r)&&a?o.push(...r.split(a)):o.push(r)));const l=gm(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!s||!qe(r)?l:v7((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),Gk(this.data,o,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(qe(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,s={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=gm(this.data,o)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?dD(l,r,a):l={...l,...r},Gk(this.data,o,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var fD={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var s;e=((s=this.processors[a])==null?void 0:s.process(e,n,r,i))??e}),e}};const hD=Symbol("i18next/PATH_KEY");function tre(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===hD?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function x7(t,e){const{[hD]:n}=t(tre());return n.join((e==null?void 0:e.keySeparator)??".")}const Yk={},X5=t=>!qe(t)&&typeof t!="boolean"&&typeof t!="number";class vm extends Zg{constructor(e,n={}){super(),qne(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=xa.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const a=X5(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Zne(e,r,i);if(s&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:qe(a)?[a]:a};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(i)}return{key:e,namespaces:qe(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=x7(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return h?a?{res:`${c}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o;const p=this.resolve(e,i);let g=p==null?void 0:p.res;const x=(p==null?void 0:p.usedKey)||o,y=(p==null?void 0:p.exactUsedKey)||o,v=["[object Number]","[object Function]","[object RegExp]"],b=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,_=i.count!==void 0&&!qe(i.count),S=vm.hasDefaultValue(i),P=_?this.pluralResolver.getSuffix(d,i.count,i):"",E=i.ordinal&&_?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",k=_&&!i.ordinal&&i.count===0,N=k&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${E}`]||i.defaultValue;let I=g;w&&!g&&S&&(I=N);const A=X5(I),j=Object.prototype.toString.apply(I);if(w&&I&&A&&v.indexOf(j)<0&&!(qe(b)&&Array.isArray(I))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,I,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(p.res=O,p.usedParams=this.getUsedParamsDetails(i),p):O}if(s){const O=Array.isArray(I),$=O?[]:{},M=O?y:x;for(const D in I)if(Object.prototype.hasOwnProperty.call(I,D)){const V=`${M}${s}${D}`;S&&!g?$[D]=this.translate(V,{...i,defaultValue:X5(N)?N[D]:void 0,joinArrays:!1,ns:l}):$[D]=this.translate(V,{...i,joinArrays:!1,ns:l}),$[D]===V&&($[D]=I[D])}g=$}}else if(w&&qe(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,e,i,r));else{let O=!1,$=!1;!this.isValidLookup(g)&&S&&(O=!0,g=N),this.isValidLookup(g)||($=!0,g=o);const D=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:g,V=S&&N!==g&&this.options.updateMissing;if($||O||V){if(this.logger.log(V?"updateKey":"missingKey",d,c,o,V?N:g),s){const G=this.resolve(o,{...i,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let G=0;G<U.length;G++)F.push(U[G]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(i.lng||this.language):F.push(i.lng||this.language);const H=(G,K,ne)=>{var pe;const ce=S&&ne!==g?ne:D;this.options.missingKeyHandler?this.options.missingKeyHandler(G,c,K,ce,V,i):(pe=this.backendConnector)!=null&&pe.saveMissing&&this.backendConnector.saveMissing(G,c,K,ce,V,i),this.emit("missingKey",G,c,K,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?F.forEach(G=>{const K=this.pluralResolver.getSuffixes(G,i);k&&i[`defaultValue${this.options.pluralSeparator}zero`]&&K.indexOf(`${this.options.pluralSeparator}zero`)<0&&K.push(`${this.options.pluralSeparator}zero`),K.forEach(ne=>{H([G],o+ne,i[`defaultValue${ne}`]||N)})}):H(F,o,N))}g=this.extendTranslation(g,e,i,p,r),$&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${o}`),($||O)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${o}`:o,O?g:void 0,i))}return a?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(e,n,r,i,a){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=qe(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let h=r.replace&&!qe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;d<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(a==null?void 0:a[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,o=qe(s)?[s]:s;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=fD.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,s,o;return qe(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=n.count!==void 0&&!qe(n.count),p=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(qe(n.context)||typeof n.context=="number")&&n.context!=="",x=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(y=>{var v,b;this.isValidLookup(r)||(o=y,!Yk[`${x[0]}-${y}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(o))&&(Yk[`${x[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(w=>{var P;if(this.isValidLookup(r))return;s=w;const _=[u];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(_,u,w,y,n);else{let E;h&&(E=this.pluralResolver.getSuffix(w,n.count,n));const k=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&E.indexOf(N)===0&&_.push(u+E.replace(N,this.options.pluralSeparator)),_.push(u+E),p&&_.push(u+k)),g){const I=`${u}${this.options.contextSeparator||"_"}${n.context}`;_.push(I),h&&(n.ordinal&&E.indexOf(N)===0&&_.push(I+E.replace(N,this.options.pluralSeparator)),_.push(I+E),p&&_.push(I+k))}}let S;for(;S=_.pop();)this.isValidLookup(r)||(a=S,r=this.getResource(w,y,S,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!qe(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Qk{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xa.create("languageUtils")}getScriptPartFromCode(e){if(e=Jf(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Jf(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(qe(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),qe(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return qe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):qe(e)&&a(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const Xk={zero:0,one:1,two:2,few:3,many:4,other:5},Jk={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class nre{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=xa.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Jf(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(typeof Intl>"u")return this.logger.error("No Intl support, please use an Intl polyfill!"),Jk;if(!e.match(/-|_/))return Jk;const l=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(l,n)}return this.pluralRulesCache[a]=s,s}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>Xk[i]-Xk[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const Zk=(t,e,n,r=".",i=!0)=>{let a=Gne(t,e,n);return!a&&i&&qe(n)&&(a=v7(t,n,r),a===void 0&&(a=v7(e,n,r))),a},J5=t=>t.replace(/\$/g,"$$$$");class eP{constructor(e={}){var n;this.logger=xa.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:y,maxReplaces:v,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:Yne,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?kl(a):s||"{{",this.suffix=o?kl(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?kl(h):p||kl("$t("),this.nestingSuffix=g?kl(g):x||kl(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=v||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const b=Zk(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:g}):b}const x=g.split(this.formatSeparator),y=x.shift().trim(),v=x.join(this.formatSeparator).trim();return this.format(Zk(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:y})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>J5(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?J5(this.escape(g)):J5(g)}].forEach(g=>{for(o=0;a=g.regex.exec(e);){const x=a[1].trim();if(s=c(x),s===void 0)if(typeof u=="function"){const v=u(e,a,i);s=qe(v)?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))s="";else if(d){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),s="";else!qe(s)&&!this.useRawValueToEscape&&(s=qk(s));const y=g.safeValue(s);if(e=e.replace(a[0],y),d?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,s;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,s);const p=h.match(/'/g),g=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),c&&(s={...c,...s})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${u}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&!qe(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),a=n(o.call(this,i[1].trim(),s),s),a&&i[0]===e&&!qe(a))return a;qe(a)||(a=qk(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const rre=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[o,...l]=s.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},tP=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let o=e[s];return o||(o=t(Jf(r),i),e[s]=o),o(n)}},ire=t=>(e,n,r)=>t(Jf(n),r)(e);class are{constructor(e={}){this.logger=xa.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?tP:ire;this.formats={number:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return o=>s.format(o)}),currency:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return o=>s.format(o)}),datetime:r((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return o=>s.format(o)}),relativetime:r((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return o=>s.format(o,a.range||"day")}),list:r((i,a)=>{const s=new Intl.ListFormat(i,{...a});return o=>s.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=tP(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,l)=>{var d;const{formatName:c,formatOptions:u}=rre(l);if(this.formats[c]){let h=o;try{const p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[c](o,g,{...u,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const sre=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class ore extends Zg{constructor(e,n,r,i={}){var a,s;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=xa.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(s=(a=this.backend)==null?void 0:a.init)==null||s.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},s={},o={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,u=!1,s[h]===void 0&&(s[h]=!0),a[h]===void 0&&(a[h]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(o[c]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{Hne(l.loaded,[a],s),sre(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{o[c][d]===void 0&&(o[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,a=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,s)},a);return}s(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,n,o)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();qe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),qe(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,o)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&o&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,o),this.loaded(e,s,o)})}saveMissing(e,n,r,i,a,s={},o=()=>{}){var l,c,u,d,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const p={...s,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(e,n,r,i,p):x=g(e,n,r,i),x&&typeof x.then=="function"?x.then(y=>o(null,y)).catch(o):o(null,x)}catch(x){o(x)}else g(e,n,r,i,o,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const Z5=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),qe(t[1])&&(e.defaultValue=t[1]),qe(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),nP=t=>{var e,n;return qe(t.ns)&&(t.ns=[t.ns]),qe(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),qe(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},dp=()=>{},lre=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};let rP=!1;const cre=t=>{var e,n,r,i,a,s,o,l,c;return!!(((r=(n=(e=t==null?void 0:t.modules)==null?void 0:e.backend)==null?void 0:n.name)==null?void 0:r.indexOf("Locize"))>0||((o=(s=(a=(i=t==null?void 0:t.modules)==null?void 0:i.backend)==null?void 0:a.constructor)==null?void 0:s.name)==null?void 0:o.indexOf("Locize"))>0||(c=(l=t==null?void 0:t.options)==null?void 0:l.backend)!=null&&c.backends&&t.options.backend.backends.some(u=>{var d,h,p;return((d=u==null?void 0:u.name)==null?void 0:d.indexOf("Locize"))>0||((p=(h=u==null?void 0:u.constructor)==null?void 0:h.name)==null?void 0:p.indexOf("Locize"))>0}))};class hf extends Zg{constructor(e={},n){if(super(),this.options=nP(e),this.services={},this.logger=xa,this.modules={external:[]},lre(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(qe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Z5();this.options={...r,...this.options,...nP(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!cre(this)&&!rP&&(typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from Locize  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com "),rP=!0);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?xa.init(i(this.modules.logger),this.options):xa.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=are;const u=new Qk(this.options);this.store=new Kk(this.options.resources,this.options);const d=this.services;d.logger=xa,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new nre(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new eP(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new ore(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new vm(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=dp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const o=od(),l=()=>{const c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=dp){var a,s;let r=n;const i=qe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(s=(a=this.options.preload)==null?void 0:a.forEach)==null||s.call(a,c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=od();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=dp),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&fD.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=od();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(o,(...c)=>this.t(...c))},s=o=>{var u,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=qe(o)?o:o&&o[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(qe(o)?[o]:o);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,h=>{a(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),r}getFixedT(e,n,r){const i=(a,s,...o)=>{let l;typeof s!="object"?l=this.options.overloadTranslationOptionHandler([a,s].concat(o)):l={...s},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(a)?u=a.map(d=>(typeof d=="function"&&(d=x7(d,{...this.options,...s})),`${l.keyPrefix}${c}${d}`)):(typeof a=="function"&&(a=x7(a,{...this.options,...s})),u=l.keyPrefix?`${l.keyPrefix}${c}${a}`:a),this.t(u,l)};return qe(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,s);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(a,e)))}loadNamespaces(e,n){const r=od();return this.options.ns?(qe(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=od();qe(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const o=s.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new Qk(Z5());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new hf(e,n);return r.createInstance=hf.createInstance,r}cloneInstance(e={},n=dp){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new hf(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});a.store=new Kk(o,i),a.services.resourceStore=a.store}if(e.interpolation){const l={...Z5().interpolation,...this.options.interpolation,...e.interpolation},c={...i,interpolation:l};a.services.interpolator=new eP(c)}return a.translator=new vm(a.services,i),a.translator.on("*",(o,...l)=>{a.emit(o,...l)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Rn=hf.createInstance();Rn.createInstance;Rn.dir;Rn.init;Rn.loadResources;Rn.reloadResources;Rn.use;Rn.changeLanguage;Rn.getFixedT;Rn.t;Rn.exists;Rn.setDefaultNamespace;Rn.hasLoadedNamespace;Rn.loadNamespaces;Rn.loadLanguages;const ure=(t,e,n,r)=>{var a,s,o,l;const i=[n,{code:e,...r||{}}];if((s=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&s.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Yo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},iP={},pD=(t,e,n,r)=>{Yo(n)&&iP[n]||(Yo(n)&&(iP[n]=new Date),ure(t,e,n,r))},mD=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},b7=(t,e,n)=>{t.loadNamespaces(e,mD(t,n))},aP=(t,e,n,r)=>{if(Yo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return b7(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,mD(t,r))},dre=(t,e,n={})=>!e.languages||!e.languages.length?(pD(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Yo=t=>typeof t=="string",fre=t=>typeof t=="object"&&t!==null,hre=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,pre={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},mre=t=>pre[t],gre=t=>t.replace(hre,mre);let w7={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:gre,transDefaultProps:void 0};const yre=(t={})=>{w7={...w7,...t}},vre=()=>w7;let gD;const xre=t=>{gD=t},bre=()=>gD,wre={type:"3rdParty",init(t){yre(t.options.react),xre(t)}},_re=R.createContext();class Sre{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var yD={exports:{}},vD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=R;function Ere(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kre=typeof Object.is=="function"?Object.is:Ere,Pre=Mc.useState,Tre=Mc.useEffect,Nre=Mc.useLayoutEffect,Are=Mc.useDebugValue;function Ire(t,e){var n=e(),r=Pre({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return Nre(function(){i.value=n,i.getSnapshot=e,e6(i)&&a({inst:i})},[t,n,e]),Tre(function(){return e6(i)&&a({inst:i}),t(function(){e6(i)&&a({inst:i})})},[t]),Are(n),n}function e6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kre(t,n)}catch{return!0}}function Cre(t,e){return e()}var Ore=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Cre:Ire;vD.useSyncExternalStore=Mc.useSyncExternalStore!==void 0?Mc.useSyncExternalStore:Ore;yD.exports=vD;var jre=yD.exports;const Rre=(t,e)=>Yo(e)?e:fre(e)&&Yo(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Mre={t:Rre,ready:!1},$re=()=>()=>{},Sr=(t,e={})=>{var N,I,A;const{i18n:n}=e,{i18n:r,defaultNS:i}=R.useContext(_re)||{},a=n||r||bre();a&&!a.reportNamespaces&&(a.reportNamespaces=new Sre),a||pD(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=R.useMemo(()=>{var j;return{...vre(),...(j=a==null?void 0:a.options)==null?void 0:j.react,...e}},[a,e]),{useSuspense:o,keyPrefix:l}=s,c=i||((N=a==null?void 0:a.options)==null?void 0:N.defaultNS),u=Yo(c)?[c]:c||["translation"],d=R.useMemo(()=>u,u);(A=(I=a==null?void 0:a.reportNamespaces)==null?void 0:I.addUsedNamespaces)==null||A.call(I,d);const h=R.useRef(0),p=R.useCallback(j=>{if(!a)return $re;const{bindI18n:O,bindI18nStore:$}=s,M=()=>{h.current+=1,j()};return O&&a.on(O,M),$&&a.store.on($,M),()=>{O&&O.split(" ").forEach(D=>a.off(D,M)),$&&$.split(" ").forEach(D=>a.store.off(D,M))}},[a,s]),g=R.useRef(),x=R.useCallback(()=>{if(!a)return Mre;const j=!!(a.isInitialized||a.initializedStoreOnce)&&d.every(F=>dre(F,a,s)),O=e.lng||a.language,$=h.current,M=g.current;if(M&&M.ready===j&&M.lng===O&&M.keyPrefix===l&&M.revision===$)return M;const V={t:a.getFixedT(O,s.nsMode==="fallback"?d:d[0],l),ready:j,lng:O,keyPrefix:l,revision:$};return g.current=V,V},[a,d,l,s,e.lng]),[y,v]=R.useState(0),{t:b,ready:w}=jre.useSyncExternalStore(p,x,x);R.useEffect(()=>{if(a&&!w&&!o){const j=()=>v(O=>O+1);e.lng?aP(a,e.lng,d,j):b7(a,d,j)}},[a,e.lng,d,w,o,y]);const _=a||{},S=R.useRef(null),P=R.useRef(),E=j=>{const O=Object.getOwnPropertyDescriptors(j);O.__original&&delete O.__original;const $=Object.create(Object.getPrototypeOf(j),O);if(!Object.prototype.hasOwnProperty.call($,"__original"))try{Object.defineProperty($,"__original",{value:j,writable:!1,enumerable:!1,configurable:!1})}catch{}return $},k=R.useMemo(()=>{const j=_,O=j==null?void 0:j.language;let $=j;j&&(S.current&&S.current.__original===j?P.current!==O?($=E(j),S.current=$,P.current=O):$=S.current:($=E(j),S.current=$,P.current=O));const M=[b,$,w];return M.t=b,M.i18n=$,M.ready=w,M},[b,_,w,_.resolvedLanguage,_.language,_.languages]);if(a&&o&&!w)throw new Promise(j=>{const O=()=>j();e.lng?aP(a,e.lng,d,O):b7(a,d,O)});return k},xD=R.createContext(),sP="/brand-logo.svg",t6="/brand-favicon.svg",oP="https://i.imgur.com/9YXqZ5K.png",ld={theme:"light",accentType:"gradient",accentColor:"#1e3a5f",accentGradient:{start:"#EC4899",end:"#8B5CF6"}},kn=()=>R.useContext(xD),Dre=({children:t})=>{const[e,n]=R.useState(()=>localStorage.getItem("theme")||"light"),[r,i]=R.useState(()=>localStorage.getItem("isSidebarCollapsed")==="true"),[a,s]=R.useState(!1),[o,l]=R.useState(()=>{try{const te=localStorage.getItem("appearance"),z=te?JSON.parse(te):null;return{theme:(z==null?void 0:z.theme)||ld.theme,accentType:(z==null?void 0:z.accentType)||ld.accentType,accentColor:(z==null?void 0:z.accentColor)||ld.accentColor,accentGradient:(z==null?void 0:z.accentGradient)||ld.accentGradient}}catch(te){return console.error("Error loading appearance settings:",te),ld}});R.useEffect(()=>{const te=document.documentElement;te.classList.remove("theme-liquid","theme-light","theme-dark"),o.theme!=="default"&&te.classList.add(`theme-${o.theme}`);let z=o.accentColor;if(o.accentColor,o.accentType==="solid")te.style.setProperty("--accent-color",o.accentColor),te.style.setProperty("--accent-gradient",o.accentColor);else{const{start:me,end:_e}=o.accentGradient;z=me,te.style.setProperty("--accent-color",me),te.style.setProperty("--accent-gradient",`linear-gradient(135deg, ${me} 0%, ${_e} 100%)`)}if(te.style.setProperty("--brand-color",z),K(me=>({...me,color:z})),o.theme==="liquid"&&te.style.setProperty("--glass-tint",`${z}15`),o.theme==="dark")n("dark");else if(o.theme==="light")n("light");else if(o.theme==="default"){const me=localStorage.getItem("theme")||"light";n(me)}},[o]);const[c,u]=R.useState([]),[d,h]=R.useState([]),[p,g]=R.useState([]),[x,y]=R.useState([]),[v,b]=R.useState(["Electronics","Clothing","Home","Beauty","Sports"]),[w,_]=R.useState(!0),[S,P]=R.useState([]),E=Je.isDesktop(),[k,N]=R.useState(typeof navigator<"u"?navigator.onLine:!0),[I,A]=R.useState(0),[j,O]=R.useState(!0),[$,M]=R.useState([]),D=(te,z="info")=>{const me=Math.random().toString(36).substr(2,9);P(_e=>[..._e,{id:me,message:te,type:z}]),setTimeout(()=>{P(_e=>_e.filter(ze=>ze.id!==me))},3e3)};R.useEffect(()=>{if(!E)return;const te=()=>{N(!0),Je.setOnlineStatus(!0)},z=()=>{N(!1),Je.setOnlineStatus(!1)};(async()=>{N(navigator.onLine),await Je.setOnlineStatus(navigator.onLine);const ht=await Je.getSyncStatus();A(ht.pendingCount||0),O(!!ht.offlineModeEnabled),M(await Je.getConflicts())})().catch(ht=>console.error("Desktop sync init failed:",ht)),window.addEventListener("online",te),window.addEventListener("offline",z);const _e=Je.onSyncState(ht=>{A(ht.pendingCount||0),O(!!ht.offlineModeEnabled)}),ze=Je.onConflict(ht=>{D(`Conflict detected on ${ht.entity} #${ht.docId} - resolved automatically`,"warning"),Je.getConflicts().then(M).catch(()=>{})});return()=>{window.removeEventListener("online",te),window.removeEventListener("offline",z),_e==null||_e(),ze==null||ze()}},[E]);const V=async()=>{E&&(await Je.syncOnce(),A(await Je.getPendingSyncCount()),M(await Je.getConflicts()))},F=async te=>{E&&(await Je.setOfflineModeEnabled(te),O(te))},[U,H]=R.useState(!1),[G,K]=R.useState(()=>{var me;const te=localStorage.getItem("appearance");let z="#1e3a5f";if(te)try{const _e=JSON.parse(te);_e.accentType==="gradient"&&((me=_e.accentGradient)!=null&&me.start)?z=_e.accentGradient.start:_e.accentColor&&(z=_e.accentColor)}catch(_e){console.error("Error parsing appearance for initial brand color:",_e)}return{name:"Gem Toys",logo:sP,favicon:t6,color:z,hideHeader:!1}});R.useEffect(()=>{try{G!=null&&G.name&&(document.title=G.name);const te=z=>{if(!z)return;let me=document.querySelector("link[rel~='icon']");me||(me=document.createElement("link"),me.rel="icon",document.getElementsByTagName("head")[0].appendChild(me)),me.href=z};G!=null&&G.favicon?te(G.favicon):G!=null&&G.logo?te(G.logo):te(t6)}catch{}},[G]);const ne=async te=>{const{_id:z,...me}=te,_e=z||"branding";await Je.set("settings",_e,me),K(ze=>({...ze,...me}))};R.useEffect(()=>{_(!0);let te={products:!1,categories:!1,orders:!1,customers:!1,users:!1,settings:!1};const z=()=>{Object.values(te).every(Q=>Q)&&_(!1)},me=(Q,fe)=>{console.error(`Error loading ${Q}:`,fe),D(`Error loading ${Q}. Refresh page.`,"error"),te[Q]=!0,z()},_e=Je.subscribeToCollection("products",Q=>{u(Q),te.products=!0,z()},"name","asc",Q=>me("products",Q)),ze=Je.subscribeToCollection("categories",Q=>{if(Q.length>0){const fe=Q.map(Me=>Me.name).sort();b(fe),pe(Q)}else b([]),pe([]);te.categories=!0,z()},"name","asc",Q=>me("categories",Q)),ht=Je.subscribeToCollection("orders",Q=>{h(Q),te.orders=!0,z()},"date","desc",Q=>me("orders",Q)),Rt=Je.subscribeToCollection("customers",Q=>{g(Q),te.customers=!0,z()},"name","asc",Q=>me("customers",Q)),Er=Je.subscribeToCollection("users",Q=>{y(Q),te.users=!0,z()},"username","asc",Q=>me("users",Q)),Hn=Je.subscribeToCollection("settings",Q=>{const fe=Q.find(Me=>Me._id==="branding");if(fe){const{_id:Me,...ct}=fe,St=ct.logo===oP?sP:ct.logo,Tn=ct.favicon===oP?St||t6:ct.favicon;K(si=>({...si,...ct,logo:St,favicon:Tn}))}te.settings=!0,z()},"name","asc",Q=>me("settings",Q)),q=setTimeout(()=>{w&&(console.warn("Loading safety timeout hit."),_(!1))},8e3);return()=>{clearTimeout(q),_e(),ze(),ht(),Rt(),Er(),Hn()}},[]);const[ce,pe]=R.useState([]),ee=async te=>{v.includes(te)||(await Je.add("categories",{name:te}),D(`Category "${te}" added!`,"success"))},we=async(te,z)=>{const me=ce.find(_e=>_e.name===te);if(me){await Je.update("categories",me._id,{name:z}),D(`Category updated to "${z}"`,"success");const _e=c.filter(ze=>ze.category===te);for(const ze of _e)await Je.update("products",ze._id,{category:z})}},Ce=async te=>{const z=ce.find(me=>me.name===te);z&&(await Je.delete("categories",z._id),D(`Category "${te}" deleted!`,"success"))},[ie,be]=R.useState(null);R.useEffect(()=>{if(x.length>0)if(ie){const te=x.find(z=>z._id===ie._id||z.username===ie.username);te&&be(te)}else{const te=x.find(z=>z.role==="Admin");be(te||x[0])}},[x]);const Z=te=>{n(te)};R.useEffect(()=>{const te=document.documentElement;e==="dark"?te.classList.add("dark"):e==="light"?te.classList.remove("dark"):e==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?te.classList.add("dark"):te.classList.remove("dark")),localStorage.setItem("theme",e)},[e]);const{i18n:W}=Sr(),[de,ke]=R.useState(localStorage.getItem("language")||W.language||"en"),ge=te=>{ke(te),W.changeLanguage(te),localStorage.setItem("language",te);const z=te==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",z),document.documentElement.setAttribute("lang",te)};R.useEffect(()=>{const te=localStorage.getItem("language")||"en",z=te==="ar"?"rtl":"ltr";document.documentElement.setAttribute("dir",z),document.documentElement.setAttribute("lang",te),te!==W.language&&W.changeLanguage(te)},[W]);const ve=()=>{i(te=>{const z=!te;return localStorage.setItem("isSidebarCollapsed",z),z})},Re=()=>s(te=>!te),bt=()=>s(!1),Ke=te=>new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(te),et=async te=>{try{const z=await Je.add("products",te);return D("Product added successfully","success"),z}catch(z){return D("Error adding product","error"),console.error(z),null}},X=async te=>{const{_id:z,...me}=te;try{await Je.update("products",z,me),D("Product updated successfully","success")}catch(_e){D("Error updating product","error"),console.error(_e)}},ue=async te=>{try{await Je.delete("products",te),D("Product deleted successfully","success")}catch(z){D("Error deleting product","error"),console.error(z)}},Ie=async te=>{const z={...te,createdOn:new Date().toISOString()},me=await Je.add("customers",z);return D("Customer added successfully","success"),me},Ye=async te=>{const{_id:z,...me}=te;await Je.update("customers",z,me)},Be=async te=>{try{const z=`#ORD-${Math.floor(1e3+Math.random()*9e3)}`,me={...te,orderId:z,date:new Date().toISOString()},_e=await Je.add("orders",me);for(const ze of te.items){const ht=c.find(Rt=>Rt._id===ze.product._id);if(ht){const Rt=Math.max(0,ht.stock-ze.quantity);await Je.update("products",ht._id,{stock:Rt,status:Rt===0?"Out of Stock":Rt<=10?"Low Stock":"In Stock"})}}return D("Order created successfully","success"),_e}catch(z){return D("Error creating order","error"),console.error(z),null}},gt=async te=>{const z=d.find(me=>me._id===te);if(z)for(const me of z.items){const _e=c.find(ze=>ze._id===me.product._id);if(_e){const ze=_e.stock+me.quantity;await Je.update("products",_e._id,{stock:ze,status:ze===0?"Out of Stock":ze<=10?"Low Stock":"In Stock"})}}await Je.delete("orders",te),D("Order deleted and stock restored","info")},Nt=async te=>{const{_id:z,...me}=te,_e=d.find(ze=>ze._id===z);if(_e){for(const ze of _e.items){const ht=c.find(Rt=>Rt._id===ze.product._id);ht&&await Je.update("products",ht._id,{stock:ht.stock+ze.quantity})}for(const ze of te.items){const ht=c.find(Rt=>Rt._id===ze.product._id);if(ht){const Rt=_e.items.find(q=>q.product._id===ze.product._id),Er=Rt?Rt.quantity:0,Hn=Math.max(0,ht.stock+Er-ze.quantity);await Je.update("products",ht._id,{stock:Hn,status:Hn===0?"Out of Stock":Hn<=10?"Low Stock":"In Stock"})}}}await Je.update("orders",z,me),D("Order updated successfully","success")},ae=async te=>{await Je.add("users",{...te,displayName:te.username})},Ae=async te=>{const{_id:z,...me}=te;await Je.update("users",z,me)},it=async te=>{ie&&(await Je.update("users",ie._id,te),be(z=>({...z,...te})))},tt=async te=>{await Je.delete("users",te)};return f.jsx(xD.Provider,{value:{products:c,addProduct:et,updateProduct:X,deleteProduct:ue,orders:d,addOrder:Be,updateOrder:Nt,deleteOrder:gt,customers:p,addCustomer:Ie,updateCustomer:Ye,users:x,addUser:ae,updateUser:Ae,deleteUser:tt,categories:v,addCategory:ee,updateCategory:we,deleteCategory:Ce,loading:w,theme:e,toggleTheme:Z,brand:G,updateBrand:ne,appearance:o,setAppearance:te=>{l(z=>{const me={...z,...te};return localStorage.setItem("appearance",JSON.stringify(me)),me})},currentUser:ie,updateUserProfile:it,language:de,changeLanguage:ge,formatCurrency:Ke,isSidebarCollapsed:r,toggleSidebar:ve,isMobileMenuOpen:a,toggleMobileMenu:Re,closeMobileMenu:bt,toasts:S,addToast:D,isModalOpen:U,setIsModalOpen:H,isDesktop:E,isOnline:k,pendingSyncCount:I,syncNow:V,desktopOfflineModeEnabled:j,setDesktopOfflineModeEnabled:F,conflicts:$},children:t})},bD=R.createContext(null),f4=()=>{const t=R.useContext(bD);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t},Lre=({children:t})=>{const[e,n]=R.useState(null),[r,i]=R.useState(!0);R.useEffect(()=>jZ(oi,o=>{n(o),i(!1)}),[]);const a=R.useMemo(()=>({user:e,loading:r,signInWithGoogle:async()=>{const s=new Ka;return eee(oi,s)},signInWithEmail:async(s,o)=>PZ(oi,s,o),signUpWithEmail:async(s,o)=>kZ(oi,s,o),signOutUser:async()=>RZ(oi),updateAuthProfile:async s=>{if(!oi.currentUser)throw new Error("No authenticated user");await NZ(oi.currentUser,s),n({...oi.currentUser})},changeAuthPassword:async(s,o)=>{var c;if(!((c=oi.currentUser)!=null&&c.email))throw new Error("No authenticated user");const l=ml.credential(oi.currentUser.email,s);await EZ(oi.currentUser,l),await AZ(oi.currentUser,o)}}),[e,r]);return f.jsx(bD.Provider,{value:a,children:t})},Fre=()=>{var I,A;const{t,i18n:e}=Sr(),n=A0(),r=e4(),{user:i,signOutUser:a}=f4(),{theme:s,currentUser:o,brand:l,isSidebarCollapsed:c,toggleSidebar:u,isMobileMenuOpen:d,closeMobileMenu:h,language:p}=kn(),[g,x]=R.useState(!1),y=R.useRef(null),v=i||o,b=p==="ar",w=[{icon:aG,label:t("menu.dashboard"),path:"/"},{icon:HS,label:t("menu.inventory"),path:"/products"},{icon:ys,label:t("menu.productPicture"),path:"/product-picture"},{icon:aR,label:t("menu.orders"),path:"/orders"},{icon:G8,label:t("menu.customers"),path:"/customers"},{icon:iR,label:t("menu.settings"),path:"/settings"}],E=`fixed lg:static top-0 bottom-0 ${b?"right-0 left-auto":"left-0 right-auto"} border-e z-40 ${c?"w-20":"w-56"} bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 flex flex-col h-screen transition-all duration-300 ease-in-out ${d?"translate-x-0 shadow-2xl":(b?"translate-x-full":"-translate-x-full")+" lg:translate-x-0"} glass-panel`;R.useEffect(()=>{const j=O=>{y.current&&!y.current.contains(O.target)&&x(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const k=()=>{x(!1),h(),r("/settings?tab=account")},N=async()=>{x(!1);try{await a(),h(),r("/login",{replace:!0})}catch(j){console.error("Logout failed:",j)}};return f.jsxs("aside",{className:E,children:[f.jsxs("div",{className:`h-24 flex items-center ${c?"justify-center":"px-8"} relative`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shadow-lg text-white overflow-hidden shrink-0",style:{backgroundColor:l.color,boxShadow:`0 10px 15px -3px ${l.color}33`},children:l.logo?f.jsx("img",{src:l.logo,alt:"Logo",className:"w-full h-full object-cover"}):f.jsx(HS,{className:"w-6 h-6"})}),!c&&f.jsx("div",{className:"animate-in fade-in duration-300",children:f.jsxs("h1",{className:"font-bold text-slate-800 dark:text-white text-lg leading-tight tracking-tight",children:[l.name.split(" ")[0],f.jsx("br",{}),f.jsx("span",{style:{color:l.color},className:"font-extrabold",children:l.name.split(" ").slice(1).join(" ")||"APP"})]})})]}),f.jsx("button",{onClick:h,className:`lg:hidden absolute top-6 ${b?"left-4":"right-4"} p-2 text-slate-400 hover:text-red-500 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors`,children:f.jsx(Jr,{className:"w-5 h-5"})})]}),f.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-2 custom-scrollbar",children:[!c&&f.jsx("div",{className:"mb-4 px-4",children:f.jsx("p",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t("menu.mainMenu")})}),w.map(j=>{const O=n.pathname===j.path;return f.jsxs(GH,{to:j.path,title:c?j.label:"",onClick:h,className:`flex items-center gap-3 rounded-xl transition-all duration-200 group relative overflow-hidden ${c?"justify-center p-3":"px-4 py-3.5"} ${O?"text-white shadow-lg bg-accent shadow-accent":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:[f.jsx(j.icon,{className:`w-5 h-5 relative z-10 transition-transform duration-200 ${O?"scale-110":"group-hover:scale-110"}`}),!c&&f.jsx("span",{className:"font-medium relative z-10 animate-in fade-in slide-in-from-start-2 duration-300",children:j.label})]},j.path)})]}),f.jsx("div",{className:"p-4 mt-auto border-t border-slate-100 dark:border-slate-800/50",children:f.jsxs("div",{className:"relative",ref:y,children:[f.jsxs("button",{onClick:()=>x(j=>!j),className:`w-full bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 flex items-center shadow-sm glass-panel transition-all hover:border-slate-300 dark:hover:border-slate-600 ${c?"p-2 justify-center":"p-4 gap-3"}`,children:[f.jsxs("div",{className:"relative shrink-0 w-10 h-10",children:[f.jsx("div",{className:"w-full h-full text-white rounded-full flex items-center justify-center font-bold text-lg overflow-hidden",style:{backgroundColor:l.color},children:v!=null&&v.photoURL?f.jsx("img",{src:v.photoURL,alt:"User",className:"w-full h-full object-cover"}):((I=v==null?void 0:v.displayName)==null?void 0:I.charAt(0))||"U"}),f.jsx("div",{className:"absolute bottom-0 end-0 w-3 h-3 bg-emerald-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),!c&&f.jsxs("div",{className:"flex-1 overflow-hidden text-left animate-in fade-in duration-300",children:[f.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-white truncate",children:((A=v==null?void 0:v.displayName)==null?void 0:A.split(" ")[0])||t("user.defaultName")}),f.jsx("p",{className:"text-xs text-slate-500 truncate",children:(o==null?void 0:o.role)||(v==null?void 0:v.email)||t("user.defaultRole")})]}),!c&&f.jsx(q8,{className:`w-4 h-4 text-slate-400 transition-transform ${g?"rotate-180":""}`})]}),g&&!c&&f.jsxs("div",{className:"absolute bottom-full mb-2 left-0 right-0 rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-2xl overflow-hidden z-50",children:[f.jsxs("button",{onClick:k,className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/60 transition-colors",children:[f.jsx(gG,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.accountSettings")||"Account Settings"})]}),f.jsxs("button",{onClick:N,className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/60 transition-colors border-t border-slate-100 dark:border-slate-700",children:[f.jsx(oG,{className:"w-4 h-4"}),f.jsx("span",{children:t("menu.logout")||"Log out"})]})]})]})}),f.jsx("button",{onClick:u,className:`hidden lg:flex absolute bottom-24 ${b?"-left-3":"-right-3"} w-6 h-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-full items-center justify-center text-slate-400 shadow-sm z-50 transition-all hover:scale-110`,style:{color:l.color},children:c?f.jsx(H3,{className:"w-3.5 h-3.5"}):f.jsx(W3,{className:"w-3.5 h-3.5"})})]})},Vre=({title:t})=>{var v,b,w;const{t:e}=Sr(),{currentUser:n,toggleMobileMenu:r,theme:i,toggleTheme:a,brand:s,isModalOpen:o,language:l,appearance:c,isOnline:u,pendingSyncCount:d,isDesktop:h}=kn(),p=s.hideHeader,g=["liquid","default_glass"].includes(c==null?void 0:c.theme),x=o?"hidden":p?"flex lg:hidden":"flex",y=()=>{a(i==="dark"?"light":"dark")};return f.jsxs("header",{className:`${x} h-14 sm:h-16 md:h-20 lg:h-24 ${g?"bg-white/60 dark:bg-slate-900/60 backdrop-blur-2xl border-b border-white/20 dark:border-slate-700/30":"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800"} items-center justify-between px-3 sm:px-4 md:px-6 lg:px-8 sticky top-0 z-20 transition-all duration-300 shadow-sm`,children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4 flex-1 min-w-0 overflow-hidden",children:[f.jsx("button",{onClick:r,className:`lg:hidden p-1.5 sm:p-2 rounded-xl transition-all shrink-0 ${g?"text-slate-600 dark:text-slate-300 hover:bg-white/40 dark:hover:bg-slate-800/40 backdrop-blur-sm":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800"}`,"aria-label":"Toggle menu",children:f.jsx(cG,{className:"w-5 h-5 sm:w-5.5 sm:h-5.5 md:w-6 md:h-6"})}),f.jsxs("div",{className:"flex flex-col min-w-0 flex-1 overflow-hidden",children:[f.jsx("h2",{className:"text-sm sm:text-base md:text-xl lg:text-2xl font-black text-slate-800 dark:text-white tracking-tight truncate",children:t}),f.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-500 dark:text-slate-400 font-medium hidden md:block truncate",children:[e("header.welcome")," ",((v=n==null?void 0:n.displayName)==null?void 0:v.split(" ")[0])||e("header.admin")]})]})]}),f.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 md:gap-3 lg:gap-4 shrink-0",children:[f.jsx("button",{onClick:y,className:`p-1.5 sm:p-2 rounded-xl transition-all group ${g?"text-slate-600 dark:text-slate-300 hover:bg-white/40 dark:hover:bg-slate-800/40 backdrop-blur-sm":"text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-50 dark:hover:bg-slate-800"}`,"aria-label":`Switch to ${i==="dark"?"light":"dark"} mode`,children:i==="dark"?f.jsx(sR,{className:"w-4 h-4 sm:w-4.5 sm:h-4.5 md:w-5 md:h-5 group-hover:rotate-45 transition-transform duration-300"}):f.jsx(rR,{className:"w-4 h-4 sm:w-4.5 sm:h-4.5 md:w-5 md:h-5 group-hover:-rotate-12 transition-transform duration-300"})}),f.jsxs("button",{className:`hidden md:flex p-1.5 sm:p-2 rounded-xl transition-all relative ${g?"text-slate-600 dark:text-slate-300 hover:bg-white/40 dark:hover:bg-slate-800/40 backdrop-blur-sm":"text-slate-400 hover:text-accent hover:bg-slate-50 dark:hover:bg-slate-800"}`,"aria-label":"Notifications",children:[f.jsx(eG,{className:"w-4 h-4 sm:w-4.5 sm:h-4.5 md:w-5 md:h-5"}),f.jsx("span",{className:"absolute top-1 sm:top-1.5 right-1 sm:right-1.5 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-red-500 rounded-full border border-white dark:border-slate-900 animate-pulse"})]}),f.jsx("div",{className:"w-px h-5 sm:h-6 md:h-7 lg:h-8 bg-slate-200 dark:bg-slate-700/50 mx-0.5 sm:mx-1 hidden md:block"}),h&&f.jsxs("div",{className:`hidden md:flex items-center gap-2 px-2.5 py-1.5 rounded-xl text-xs font-bold border ${u?"text-emerald-700 bg-emerald-50 border-emerald-200 dark:text-emerald-300 dark:bg-emerald-900/20 dark:border-emerald-800/50":"text-amber-700 bg-amber-50 border-amber-200 dark:text-amber-300 dark:bg-amber-900/20 dark:border-amber-800/50"}`,children:[f.jsx("span",{children:u?"Online":"Offline"}),f.jsx("span",{className:"text-slate-400",children:"|"}),f.jsxs("span",{children:[d," pending"]})]}),f.jsxs("div",{className:`relative w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 lg:w-11 lg:h-11 rounded-xl md:rounded-2xl flex items-center justify-center text-white font-bold overflow-hidden shrink-0 transition-all duration-300 hover:scale-105 cursor-pointer ${g?"shadow-lg border-2 border-white/30 dark:border-slate-700/30":"shadow-md border-2 border-white/50 dark:border-slate-800/50"}`,style:{backgroundColor:s.color,boxShadow:g?`0 8px 24px -8px ${s.color}66, 0 0 0 1px ${s.color}22`:`0 8px 16px -4px ${s.color}44`},children:[s.logo?f.jsx("img",{src:s.logo,alt:"Brand",className:"w-full h-full object-cover"}):f.jsx("div",{className:"text-[10px] sm:text-xs md:text-sm uppercase font-black tracking-wider",children:((b=s.name)==null?void 0:b.charAt(0))||"A"}),f.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 sm:bottom-0 sm:right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full border-2 border-white dark:border-slate-900 shadow-sm hidden sm:block ${u?"bg-emerald-500":"bg-amber-500"}`})]}),f.jsxs("div",{className:"hidden lg:flex flex-col min-w-0 max-w-[120px]",children:[f.jsx("span",{className:"text-xs font-black text-slate-800 dark:text-white uppercase tracking-tight leading-none truncate",children:((w=n==null?void 0:n.displayName)==null?void 0:w.split(" ")[0])||"Admin"}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 truncate",children:(n==null?void 0:n.role)||"Manager"})]})]})]})},Ure=()=>{const{toasts:t}=kn();return f.jsx("div",{className:"fixed bottom-8 right-8 z-[1000] flex flex-col gap-3 pointer-events-none",children:t.map(e=>f.jsxs("div",{className:`
                        pointer-events-auto
                        flex items-center gap-4 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md
                        animate-in slide-in-from-right-8 fade-in duration-300
                        ${e.type==="success"?"bg-emerald-500/90 text-white":e.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}
                    `,children:[f.jsxs("div",{className:"flex-shrink-0",children:[e.type==="success"&&f.jsx(Zj,{className:"w-6 h-6"}),e.type==="error"&&f.jsx(Jj,{className:"w-6 h-6"}),e.type==="info"&&f.jsx(eR,{className:"w-6 h-6"})]}),f.jsx("div",{className:"flex-1",children:f.jsx("p",{className:"font-bold text-sm",children:e.message})})]},e.id))})},Su=({children:t,title:e})=>{const{isSidebarCollapsed:n,isMobileMenuOpen:r,closeMobileMenu:i,brand:a}=kn();return f.jsxs("div",{className:"flex h-screen bg-transparent font-sans transition-colors duration-300",children:[r&&f.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-30 lg:hidden animate-in fade-in duration-300",onClick:i}),f.jsx(Fre,{}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-screen transition-all duration-300",children:[f.jsx(Vre,{title:e||"Dashboard"}),f.jsx("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto ${a.hideHeader?"lg:pt-8":""} overflow-x-hidden`,children:f.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:t})}),f.jsx(Ure,{})]})]})};function wD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wD(t))&&(r&&(r+=" "),r+=e);return r}var Bre=Array.isArray,Fr=Bre,zre=typeof F4=="object"&&F4&&F4.Object===Object&&F4,_D=zre,qre=_D,Wre=typeof self=="object"&&self&&self.Object===Object&&self,Hre=qre||Wre||Function("return this")(),Fa=Hre,Gre=Fa,Kre=Gre.Symbol,h4=Kre,lP=h4,SD=Object.prototype,Yre=SD.hasOwnProperty,Qre=SD.toString,cd=lP?lP.toStringTag:void 0;function Xre(t){var e=Yre.call(t,cd),n=t[cd];try{t[cd]=void 0;var r=!0}catch{}var i=Qre.call(t);return r&&(e?t[cd]=n:delete t[cd]),i}var Jre=Xre,Zre=Object.prototype,eie=Zre.toString;function tie(t){return eie.call(t)}var nie=tie,cP=h4,rie=Jre,iie=nie,aie="[object Null]",sie="[object Undefined]",uP=cP?cP.toStringTag:void 0;function oie(t){return t==null?t===void 0?sie:aie:uP&&uP in Object(t)?rie(t):iie(t)}var I0=oie;function lie(t){return t!=null&&typeof t=="object"}var C0=lie,cie=I0,uie=C0,die="[object Symbol]";function fie(t){return typeof t=="symbol"||uie(t)&&cie(t)==die}var Eu=fie,hie=Fr,pie=Eu,mie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gie=/^\w*$/;function yie(t,e){if(hie(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||pie(t)?!0:gie.test(t)||!mie.test(t)||e!=null&&t in Object(e)}var Yx=yie;function vie(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Gs=vie;const ku=jt(Gs);var xie=I0,bie=Gs,wie="[object AsyncFunction]",_ie="[object Function]",Sie="[object GeneratorFunction]",Eie="[object Proxy]";function kie(t){if(!bie(t))return!1;var e=xie(t);return e==_ie||e==Sie||e==wie||e==Eie}var Qx=kie;const Qe=jt(Qx);var Pie=Fa,Tie=Pie["__core-js_shared__"],Nie=Tie,n6=Nie,dP=function(){var t=/[^.]+$/.exec(n6&&n6.keys&&n6.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Aie(t){return!!dP&&dP in t}var Iie=Aie,Cie=Function.prototype,Oie=Cie.toString;function jie(t){if(t!=null){try{return Oie.call(t)}catch{}try{return t+""}catch{}}return""}var ED=jie,Rie=Qx,Mie=Iie,$ie=Gs,Die=ED,Lie=/[\\^$.*+?()[\]{}|]/g,Fie=/^\[object .+?Constructor\]$/,Vie=Function.prototype,Uie=Object.prototype,Bie=Vie.toString,zie=Uie.hasOwnProperty,qie=RegExp("^"+Bie.call(zie).replace(Lie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wie(t){if(!$ie(t)||Mie(t))return!1;var e=Rie(t)?qie:Fie;return e.test(Die(t))}var Hie=Wie;function Gie(t,e){return t==null?void 0:t[e]}var Kie=Gie,Yie=Hie,Qie=Kie;function Xie(t,e){var n=Qie(t,e);return Yie(n)?n:void 0}var gl=Xie,Jie=gl,Zie=Jie(Object,"create"),e2=Zie,fP=e2;function eae(){this.__data__=fP?fP(null):{},this.size=0}var tae=eae;function nae(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rae=nae,iae=e2,aae="__lodash_hash_undefined__",sae=Object.prototype,oae=sae.hasOwnProperty;function lae(t){var e=this.__data__;if(iae){var n=e[t];return n===aae?void 0:n}return oae.call(e,t)?e[t]:void 0}var cae=lae,uae=e2,dae=Object.prototype,fae=dae.hasOwnProperty;function hae(t){var e=this.__data__;return uae?e[t]!==void 0:fae.call(e,t)}var pae=hae,mae=e2,gae="__lodash_hash_undefined__";function yae(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mae&&e===void 0?gae:e,this}var vae=yae,xae=tae,bae=rae,wae=cae,_ae=pae,Sae=vae;function Pu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pu.prototype.clear=xae;Pu.prototype.delete=bae;Pu.prototype.get=wae;Pu.prototype.has=_ae;Pu.prototype.set=Sae;var Eae=Pu;function kae(){this.__data__=[],this.size=0}var Pae=kae;function Tae(t,e){return t===e||t!==t&&e!==e}var Xx=Tae,Nae=Xx;function Aae(t,e){for(var n=t.length;n--;)if(Nae(t[n][0],e))return n;return-1}var t2=Aae,Iae=t2,Cae=Array.prototype,Oae=Cae.splice;function jae(t){var e=this.__data__,n=Iae(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Oae.call(e,n,1),--this.size,!0}var Rae=jae,Mae=t2;function $ae(t){var e=this.__data__,n=Mae(e,t);return n<0?void 0:e[n][1]}var Dae=$ae,Lae=t2;function Fae(t){return Lae(this.__data__,t)>-1}var Vae=Fae,Uae=t2;function Bae(t,e){var n=this.__data__,r=Uae(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var zae=Bae,qae=Pae,Wae=Rae,Hae=Dae,Gae=Vae,Kae=zae;function Tu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tu.prototype.clear=qae;Tu.prototype.delete=Wae;Tu.prototype.get=Hae;Tu.prototype.has=Gae;Tu.prototype.set=Kae;var n2=Tu,Yae=gl,Qae=Fa,Xae=Yae(Qae,"Map"),Jx=Xae,hP=Eae,Jae=n2,Zae=Jx;function e0e(){this.size=0,this.__data__={hash:new hP,map:new(Zae||Jae),string:new hP}}var t0e=e0e;function n0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var r0e=n0e,i0e=r0e;function a0e(t,e){var n=t.__data__;return i0e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var r2=a0e,s0e=r2;function o0e(t){var e=s0e(this,t).delete(t);return this.size-=e?1:0,e}var l0e=o0e,c0e=r2;function u0e(t){return c0e(this,t).get(t)}var d0e=u0e,f0e=r2;function h0e(t){return f0e(this,t).has(t)}var p0e=h0e,m0e=r2;function g0e(t,e){var n=m0e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var y0e=g0e,v0e=t0e,x0e=l0e,b0e=d0e,w0e=p0e,_0e=y0e;function Nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nu.prototype.clear=v0e;Nu.prototype.delete=x0e;Nu.prototype.get=b0e;Nu.prototype.has=w0e;Nu.prototype.set=_0e;var Zx=Nu,kD=Zx,S0e="Expected a function";function eb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(S0e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(eb.Cache||kD),n}eb.Cache=kD;var PD=eb;const E0e=jt(PD);var k0e=PD,P0e=500;function T0e(t){var e=k0e(t,function(r){return n.size===P0e&&n.clear(),r}),n=e.cache;return e}var N0e=T0e,A0e=N0e,I0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C0e=/\\(\\)?/g,O0e=A0e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(I0e,function(n,r,i,a){e.push(i?a.replace(C0e,"$1"):r||n)}),e}),j0e=O0e;function R0e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var tb=R0e,pP=h4,M0e=tb,$0e=Fr,D0e=Eu,mP=pP?pP.prototype:void 0,gP=mP?mP.toString:void 0;function TD(t){if(typeof t=="string")return t;if($0e(t))return M0e(t,TD)+"";if(D0e(t))return gP?gP.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var L0e=TD,F0e=L0e;function V0e(t){return t==null?"":F0e(t)}var ND=V0e,U0e=Fr,B0e=Yx,z0e=j0e,q0e=ND;function W0e(t,e){return U0e(t)?t:B0e(t,e)?[t]:z0e(q0e(t))}var AD=W0e,H0e=Eu;function G0e(t){if(typeof t=="string"||H0e(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var i2=G0e,K0e=AD,Y0e=i2;function Q0e(t,e){e=K0e(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Y0e(e[n++])];return n&&n==r?t:void 0}var nb=Q0e,X0e=nb;function J0e(t,e,n){var r=t==null?void 0:X0e(t,e);return r===void 0?n:r}var ID=J0e;const ki=jt(ID);function Z0e(t){return t==null}var ese=Z0e;const lt=jt(ese);var tse=I0,nse=Fr,rse=C0,ise="[object String]";function ase(t){return typeof t=="string"||!nse(t)&&rse(t)&&tse(t)==ise}var sse=ase;const Qo=jt(sse);var CD={exports:{}},Pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb=Symbol.for("react.element"),ib=Symbol.for("react.portal"),a2=Symbol.for("react.fragment"),s2=Symbol.for("react.strict_mode"),o2=Symbol.for("react.profiler"),l2=Symbol.for("react.provider"),c2=Symbol.for("react.context"),ose=Symbol.for("react.server_context"),u2=Symbol.for("react.forward_ref"),d2=Symbol.for("react.suspense"),f2=Symbol.for("react.suspense_list"),h2=Symbol.for("react.memo"),p2=Symbol.for("react.lazy"),lse=Symbol.for("react.offscreen"),OD;OD=Symbol.for("react.module.reference");function Oi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rb:switch(t=t.type,t){case a2:case o2:case s2:case d2:case f2:return t;default:switch(t=t&&t.$$typeof,t){case ose:case c2:case u2:case p2:case h2:case l2:return t;default:return e}}case ib:return e}}}Pt.ContextConsumer=c2;Pt.ContextProvider=l2;Pt.Element=rb;Pt.ForwardRef=u2;Pt.Fragment=a2;Pt.Lazy=p2;Pt.Memo=h2;Pt.Portal=ib;Pt.Profiler=o2;Pt.StrictMode=s2;Pt.Suspense=d2;Pt.SuspenseList=f2;Pt.isAsyncMode=function(){return!1};Pt.isConcurrentMode=function(){return!1};Pt.isContextConsumer=function(t){return Oi(t)===c2};Pt.isContextProvider=function(t){return Oi(t)===l2};Pt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rb};Pt.isForwardRef=function(t){return Oi(t)===u2};Pt.isFragment=function(t){return Oi(t)===a2};Pt.isLazy=function(t){return Oi(t)===p2};Pt.isMemo=function(t){return Oi(t)===h2};Pt.isPortal=function(t){return Oi(t)===ib};Pt.isProfiler=function(t){return Oi(t)===o2};Pt.isStrictMode=function(t){return Oi(t)===s2};Pt.isSuspense=function(t){return Oi(t)===d2};Pt.isSuspenseList=function(t){return Oi(t)===f2};Pt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===a2||t===o2||t===s2||t===d2||t===f2||t===lse||typeof t=="object"&&t!==null&&(t.$$typeof===p2||t.$$typeof===h2||t.$$typeof===l2||t.$$typeof===c2||t.$$typeof===u2||t.$$typeof===OD||t.getModuleId!==void 0)};Pt.typeOf=Oi;CD.exports=Pt;var cse=CD.exports,use=I0,dse=C0,fse="[object Number]";function hse(t){return typeof t=="number"||dse(t)&&use(t)==fse}var jD=hse;const pse=jt(jD);var mse=jD;function gse(t){return mse(t)&&t!=+t}var yse=gse;const Au=jt(yse);var Wi=function(e){return e===0?0:e>0?1:-1},So=function(e){return Qo(e)&&e.indexOf("%")===e.length-1},ye=function(e){return pse(e)&&!Au(e)},vse=function(e){return lt(e)},Sn=function(e){return ye(e)||Qo(e)},xse=0,p4=function(e){var n=++xse;return"".concat(e||"").concat(n)},Xo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(e)&&!Qo(e))return r;var a;if(So(e)){var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Au(a)&&(a=r),i&&a>n&&(a=n),a},es=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},bse=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},mi=function(e,n){return ye(e)&&ye(n)?function(r){return e+r*(n-e)}:function(){return n}};function xm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ki(r,e))===n})}var wse=function(e,n){return ye(e)&&ye(n)?e-n:Qo(e)&&Qo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function mc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function _7(t){"@babel/helpers - typeof";return _7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_7(t)}var _se=["viewBox","children"],Sse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yP=["points","pathLength"],r6={svg:_se,polygon:yP,polyline:yP},ab=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!ku(r))return null;var i={};return Object.keys(r).forEach(function(a){ab.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},Ese=function(e,n,r){return function(i){return e(n,r,i),null}},wm=function(e,n,r){if(!ku(e)||_7(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];ab.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Ese(s,n,r))}),i},kse=["children"],Pse=["children"];function vP(t,e){if(t==null)return{};var n=Tse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S7(t){"@babel/helpers - typeof";return S7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S7(t)}var xP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},u0=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},bP=null,i6=null,sb=function t(e){if(e===bP&&Array.isArray(i6))return i6;var n=[];return R.Children.forEach(e,function(r){lt(r)||(cse.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),i6=n,bP=e,n};function ea(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return u0(i)}):r=[u0(e)],sb(t).forEach(function(i){var a=ki(i,"type.displayName")||ki(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function zr(t,e){var n=ea(t,e);return n&&n[0]}var wP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ye(r)||r<=0||!ye(i)||i<=0)},Nse=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ase=function(e){return e&&e.type&&Qo(e.type)&&Nse.indexOf(e.type)>=0},Ise=function(e){return e&&S7(e)==="object"&&"clipDot"in e},Cse=function(e,n,r,i){var a,s=(a=r6==null?void 0:r6[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Qe(e)&&(i&&s.includes(n)||Sse.includes(n))||r&&ab.includes(n)},nt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(R.isValidElement(e)&&(i=e.props),!ku(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Cse((o=i)===null||o===void 0?void 0:o[s],s,n,r)&&(a[s]=i[s])}),a},E7=function t(e,n){if(e===n)return!0;var r=R.Children.count(e);if(r!==R.Children.count(n))return!1;if(r===0)return!0;if(r===1)return _P(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!_P(a,s))return!1}return!0},_P=function(e,n){if(lt(e)&&lt(n))return!0;if(!lt(e)&&!lt(n)){var r=e.props||{},i=r.children,a=vP(r,kse),s=n.props||{},o=s.children,l=vP(s,Pse);return i&&o?mc(a,l)&&E7(i,o):!i&&!o?mc(a,l):!1}return!1},SP=function(e,n){var r=[],i={};return sb(e).forEach(function(a,s){if(Ase(a))r.push(a);else if(a){var o=u0(a.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(a,o,s);r.push(d),i[o]=!0}}}),r},Ose=function(e){var n=e&&e.type;return n&&xP[n]?xP[n]:null},jse=function(e,n){return sb(n).indexOf(e)},Rse=["children","width","height","viewBox","className","style","title","desc"];function k7(){return k7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k7.apply(this,arguments)}function Mse(t,e){if(t==null)return{};var n=$se(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $se(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function P7(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,c=Mse(t,Rse),u=i||{width:n,height:r,x:0,y:0},d=mt("recharts-surface",a);return B.createElement("svg",k7({},nt(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),B.createElement("title",null,o),B.createElement("desc",null,l),e)}var Dse=["children","className"];function T7(){return T7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T7.apply(this,arguments)}function Lse(t,e){if(t==null)return{};var n=Fse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qt=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=Lse(t,Dse),a=mt("recharts-layer",r);return B.createElement("g",T7({className:a},nt(i,!0),{ref:e}),n)}),d0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Vse(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Use=Vse,Bse=Use;function zse(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Bse(t,e,n)}var qse=zse,Wse="\\ud800-\\udfff",Hse="\\u0300-\\u036f",Gse="\\ufe20-\\ufe2f",Kse="\\u20d0-\\u20ff",Yse=Hse+Gse+Kse,Qse="\\ufe0e\\ufe0f",Xse="\\u200d",Jse=RegExp("["+Xse+Wse+Yse+Qse+"]");function Zse(t){return Jse.test(t)}var RD=Zse;function eoe(t){return t.split("")}var toe=eoe,MD="\\ud800-\\udfff",noe="\\u0300-\\u036f",roe="\\ufe20-\\ufe2f",ioe="\\u20d0-\\u20ff",aoe=noe+roe+ioe,soe="\\ufe0e\\ufe0f",ooe="["+MD+"]",N7="["+aoe+"]",A7="\\ud83c[\\udffb-\\udfff]",loe="(?:"+N7+"|"+A7+")",$D="[^"+MD+"]",DD="(?:\\ud83c[\\udde6-\\uddff]){2}",LD="[\\ud800-\\udbff][\\udc00-\\udfff]",coe="\\u200d",FD=loe+"?",VD="["+soe+"]?",uoe="(?:"+coe+"(?:"+[$D,DD,LD].join("|")+")"+VD+FD+")*",doe=VD+FD+uoe,foe="(?:"+[$D+N7+"?",N7,DD,LD,ooe].join("|")+")",hoe=RegExp(A7+"(?="+A7+")|"+foe+doe,"g");function poe(t){return t.match(hoe)||[]}var moe=poe,goe=toe,yoe=RD,voe=moe;function xoe(t){return yoe(t)?voe(t):goe(t)}var boe=xoe,woe=qse,_oe=RD,Soe=boe,Eoe=ND;function koe(t){return function(e){e=Eoe(e);var n=_oe(e)?Soe(e):void 0,r=n?n[0]:e.charAt(0),i=n?woe(n,1).join(""):e.slice(1);return r[t]()+i}}var Poe=koe,Toe=Poe,Noe=Toe("toUpperCase"),Aoe=Noe;const m2=jt(Aoe);function Mt(t){return function(){return t}}const UD=Math.cos,_m=Math.sin,ia=Math.sqrt,Sm=Math.PI,g2=2*Sm,I7=Math.PI,C7=2*I7,uo=1e-6,Ioe=C7-uo;function BD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Coe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return BD;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ooe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?BD:Coe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-e,c=i-n,u=s-e,d=o-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>uo)if(!(Math.abs(d*l-c*u)>uo)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-o,x=l*l+c*c,y=p*p+g*g,v=Math.sqrt(x),b=Math.sqrt(h),w=a*Math.tan((I7-Math.acos((x+h-y)/(2*v*b)))/2),_=w/b,S=w/v;Math.abs(_-1)>uo&&this._append`L${e+_*u},${n+_*d}`,this._append`A${a},${a},0,0,${+(d*p>u*g)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>uo||Math.abs(this._y1-u)>uo)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%C7+C7),h>Ioe?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>uo&&this._append`A${r},${r},0,${+(h>=I7)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ob(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ooe(e)}function lb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zD(t){this._context=t}zD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function y2(t){return new zD(t)}function qD(t){return t[0]}function WD(t){return t[1]}function HD(t,e){var n=Mt(!0),r=null,i=y2,a=null,s=ob(o);t=typeof t=="function"?t:t===void 0?qD:Mt(t),e=typeof e=="function"?e:e===void 0?WD:Mt(e);function o(l){var c,u=(l=lb(l)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Mt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Mt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Mt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function fp(t,e,n){var r=null,i=Mt(!0),a=null,s=y2,o=null,l=ob(c);t=typeof t=="function"?t:t===void 0?qD:Mt(+t),e=typeof e=="function"?e:Mt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?WD:Mt(+n);function c(d){var h,p,g,x=(d=lb(d)).length,y,v=!1,b,w=new Array(x),_=new Array(x);for(a==null&&(o=s(b=l())),h=0;h<=x;++h){if(!(h<x&&i(y=d[h],h,d))===v)if(v=!v)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],_[g]);o.lineEnd(),o.areaEnd()}v&&(w[h]=+t(y,h,d),_[h]=+e(y,h,d),o.point(r?+r(y,h,d):w[h],n?+n(y,h,d):_[h]))}if(b)return o=null,b+""||null}function u(){return HD().defined(i).curve(s).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Mt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Mt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Mt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Mt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Mt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Mt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Mt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}class GD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function joe(t){return new GD(t,!0)}function Roe(t){return new GD(t,!1)}const cb={draw(t,e){const n=ia(e/Sm);t.moveTo(n,0),t.arc(0,0,n,0,g2)}},Moe={draw(t,e){const n=ia(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},KD=ia(1/3),$oe=KD*2,Doe={draw(t,e){const n=ia(e/$oe),r=n*KD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Loe={draw(t,e){const n=ia(e),r=-n/2;t.rect(r,r,n,n)}},Foe=.8908130915292852,YD=_m(Sm/10)/_m(7*Sm/10),Voe=_m(g2/10)*YD,Uoe=-UD(g2/10)*YD,Boe={draw(t,e){const n=ia(e*Foe),r=Voe*n,i=Uoe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=g2*a/5,o=UD(s),l=_m(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},a6=ia(3),zoe={draw(t,e){const n=-ia(e/(a6*3));t.moveTo(0,n*2),t.lineTo(-a6*n,-n),t.lineTo(a6*n,-n),t.closePath()}},li=-.5,ci=ia(3)/2,O7=1/ia(12),qoe=(O7/2+1)*3,Woe={draw(t,e){const n=ia(e/qoe),r=n/2,i=n*O7,a=r,s=n*O7+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(li*r-ci*i,ci*r+li*i),t.lineTo(li*a-ci*s,ci*a+li*s),t.lineTo(li*o-ci*l,ci*o+li*l),t.lineTo(li*r+ci*i,li*i-ci*r),t.lineTo(li*a+ci*s,li*s-ci*a),t.lineTo(li*o+ci*l,li*l-ci*o),t.closePath()}};function Hoe(t,e){let n=null,r=ob(i);t=typeof t=="function"?t:Mt(t||cb),e=typeof e=="function"?e:Mt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Mt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Mt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Em(){}function km(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function QD(t){this._context=t}QD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:km(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:km(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Goe(t){return new QD(t)}function XD(t){this._context=t}XD.prototype={areaStart:Em,areaEnd:Em,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:km(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Koe(t){return new XD(t)}function JD(t){this._context=t}JD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:km(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yoe(t){return new JD(t)}function ZD(t){this._context=t}ZD.prototype={areaStart:Em,areaEnd:Em,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Qoe(t){return new ZD(t)}function EP(t){return t<0?-1:1}function kP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(EP(a)+EP(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function PP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function s6(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function Pm(t){this._context=t}Pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s6(this,this._t0,PP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,s6(this,PP(this,n=kP(this,t,e)),n);break;default:s6(this,this._t0,n=kP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function eL(t){this._context=new tL(t)}(eL.prototype=Object.create(Pm.prototype)).point=function(t,e){Pm.prototype.point.call(this,e,t)};function tL(t){this._context=t}tL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Xoe(t){return new Pm(t)}function Joe(t){return new eL(t)}function nL(t){this._context=t}nL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=TP(t),i=TP(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function TP(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Zoe(t){return new nL(t)}function v2(t,e){this._context=t,this._t=e}v2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ele(t){return new v2(t,.5)}function tle(t){return new v2(t,0)}function nle(t){return new v2(t,1)}function $c(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function j7(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function rle(t,e){return t[e]}function ile(t){const e=[];return e.key=t,e}function ale(){var t=Mt([]),e=j7,n=$c,r=rle;function i(a){var s=Array.from(t.apply(this,arguments),ile),o,l=s.length,c=-1,u;for(const d of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(d,s[o].key,c,a)]).data=d;for(o=0,u=lb(e(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Mt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Mt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?j7:typeof a=="function"?a:Mt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??$c,i):n},i}function sle(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}$c(t,e)}}function ole(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}$c(t,e)}}function lle(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=t[e[o]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var x=t[e[g]],y=x[r][1]||0,v=x[r-1][1]||0;p+=y-v}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,$c(t,e)}}function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}var cle=["type","size","sizeType"];function R7(){return R7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R7.apply(this,arguments)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ule(t,e,n){return e=dle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=fle(t,"string");return Zf(e)=="symbol"?e:e+""}function fle(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hle(t,e){if(t==null)return{};var n=ple(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ple(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rL={symbolCircle:cb,symbolCross:Moe,symbolDiamond:Doe,symbolSquare:Loe,symbolStar:Boe,symbolTriangle:zoe,symbolWye:Woe},mle=Math.PI/180,gle=function(e){var n="symbol".concat(m2(e));return rL[n]||cb},yle=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*mle;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vle=function(e,n){rL["symbol".concat(m2(e))]=n},ub=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=hle(e,cle),c=AP(AP({},l),{},{type:r,size:a,sizeType:o}),u=function(){var y=gle(r),v=Hoe().type(y).size(yle(a,o,r));return v()},d=c.className,h=c.cx,p=c.cy,g=nt(c,!0);return h===+h&&p===+p&&a===+a?B.createElement("path",R7({},g,{className:mt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};ub.registerSymbol=vle;function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function M7(){return M7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M7.apply(this,arguments)}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){eh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ble(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aL(r.key),r)}}function _le(t,e,n){return e&&wle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sle(t,e,n){return e=Tm(e),Ele(t,iL()?Reflect.construct(e,n||[],Tm(t).constructor):e.apply(t,n))}function Ele(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kle(t)}function kle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iL=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tm(t)}function Ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$7(t,e)}function $7(t,e){return $7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$7(t,e)}function eh(t,e,n){return e=aL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aL(t){var e=Tle(t,"string");return Dc(e)=="symbol"?e:e+""}function Tle(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ui=32,db=function(t){function e(){return ble(this,e),Sle(this,e,arguments)}return Ple(e,t),_le(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=ui/2,s=ui/6,o=ui/3,l=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ui,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(ui,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ui/8,"h").concat(ui,"v").concat(ui*3/4,"h").concat(-ui,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var c=xle({},r);return delete c.legendIcon,B.cloneElement(r.legendIcon,c)}return B.createElement(ub,{fill:l,cx:a,cy:a,size:ui,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:ui,height:ui},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var x=p.formatter||l,y=mt(eh(eh({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Qe(p.value)?null:p.value;d0(!Qe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return B.createElement("li",M7({className:y,style:d,key:"legend-item-".concat(g)},wm(r.props,p,g)),B.createElement(P7,{width:s,height:s,viewBox:u,style:h},r.renderIcon(p)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(v,p,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(R.PureComponent);eh(db,"displayName","Legend");eh(db,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Nle=n2;function Ale(){this.__data__=new Nle,this.size=0}var Ile=Ale;function Cle(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Ole=Cle;function jle(t){return this.__data__.get(t)}var Rle=jle;function Mle(t){return this.__data__.has(t)}var $le=Mle,Dle=n2,Lle=Jx,Fle=Zx,Vle=200;function Ule(t,e){var n=this.__data__;if(n instanceof Dle){var r=n.__data__;if(!Lle||r.length<Vle-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fle(r)}return n.set(t,e),this.size=n.size,this}var Ble=Ule,zle=n2,qle=Ile,Wle=Ole,Hle=Rle,Gle=$le,Kle=Ble;function Iu(t){var e=this.__data__=new zle(t);this.size=e.size}Iu.prototype.clear=qle;Iu.prototype.delete=Wle;Iu.prototype.get=Hle;Iu.prototype.has=Gle;Iu.prototype.set=Kle;var sL=Iu,Yle="__lodash_hash_undefined__";function Qle(t){return this.__data__.set(t,Yle),this}var Xle=Qle;function Jle(t){return this.__data__.has(t)}var Zle=Jle,ece=Zx,tce=Xle,nce=Zle;function Nm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ece;++e<n;)this.add(t[e])}Nm.prototype.add=Nm.prototype.push=tce;Nm.prototype.has=nce;var oL=Nm;function rce(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var lL=rce;function ice(t,e){return t.has(e)}var cL=ice,ace=oL,sce=lL,oce=cL,lce=1,cce=2;function uce(t,e,n,r,i,a){var s=n&lce,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&cce?new ace:void 0;for(a.set(t,e),a.set(e,t);++d<o;){var g=t[d],x=e[d];if(r)var y=s?r(x,g,d,e,t,a):r(g,x,d,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!sce(e,function(v,b){if(!oce(p,b)&&(g===v||i(g,v,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(g===x||i(g,x,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var uL=uce,dce=Fa,fce=dce.Uint8Array,hce=fce;function pce(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var mce=pce;function gce(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var fb=gce,CP=h4,OP=hce,yce=Xx,vce=uL,xce=mce,bce=fb,wce=1,_ce=2,Sce="[object Boolean]",Ece="[object Date]",kce="[object Error]",Pce="[object Map]",Tce="[object Number]",Nce="[object RegExp]",Ace="[object Set]",Ice="[object String]",Cce="[object Symbol]",Oce="[object ArrayBuffer]",jce="[object DataView]",jP=CP?CP.prototype:void 0,o6=jP?jP.valueOf:void 0;function Rce(t,e,n,r,i,a,s){switch(n){case jce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Oce:return!(t.byteLength!=e.byteLength||!a(new OP(t),new OP(e)));case Sce:case Ece:case Tce:return yce(+t,+e);case kce:return t.name==e.name&&t.message==e.message;case Nce:case Ice:return t==e+"";case Pce:var o=xce;case Ace:var l=r&wce;if(o||(o=bce),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=_ce,s.set(t,e);var u=vce(o(t),o(e),r,i,a,s);return s.delete(t),u;case Cce:if(o6)return o6.call(t)==o6.call(e)}return!1}var Mce=Rce;function $ce(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var dL=$ce,Dce=dL,Lce=Fr;function Fce(t,e,n){var r=e(t);return Lce(t)?r:Dce(r,n(t))}var Vce=Fce;function Uce(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[i++]=s)}return a}var Bce=Uce;function zce(){return[]}var qce=zce,Wce=Bce,Hce=qce,Gce=Object.prototype,Kce=Gce.propertyIsEnumerable,RP=Object.getOwnPropertySymbols,Yce=RP?function(t){return t==null?[]:(t=Object(t),Wce(RP(t),function(e){return Kce.call(t,e)}))}:Hce,Qce=Yce;function Xce(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Jce=Xce,Zce=I0,eue=C0,tue="[object Arguments]";function nue(t){return eue(t)&&Zce(t)==tue}var rue=nue,MP=rue,iue=C0,fL=Object.prototype,aue=fL.hasOwnProperty,sue=fL.propertyIsEnumerable,oue=MP(function(){return arguments}())?MP:function(t){return iue(t)&&aue.call(t,"callee")&&!sue.call(t,"callee")},hb=oue,Am={exports:{}};function lue(){return!1}var cue=lue;Am.exports;(function(t,e){var n=Fa,r=cue,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(Am,Am.exports);var hL=Am.exports,uue=9007199254740991,due=/^(?:0|[1-9]\d*)$/;function fue(t,e){var n=typeof t;return e=e??uue,!!e&&(n=="number"||n!="symbol"&&due.test(t))&&t>-1&&t%1==0&&t<e}var pb=fue,hue=9007199254740991;function pue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hue}var mb=pue,mue=I0,gue=mb,yue=C0,vue="[object Arguments]",xue="[object Array]",bue="[object Boolean]",wue="[object Date]",_ue="[object Error]",Sue="[object Function]",Eue="[object Map]",kue="[object Number]",Pue="[object Object]",Tue="[object RegExp]",Nue="[object Set]",Aue="[object String]",Iue="[object WeakMap]",Cue="[object ArrayBuffer]",Oue="[object DataView]",jue="[object Float32Array]",Rue="[object Float64Array]",Mue="[object Int8Array]",$ue="[object Int16Array]",Due="[object Int32Array]",Lue="[object Uint8Array]",Fue="[object Uint8ClampedArray]",Vue="[object Uint16Array]",Uue="[object Uint32Array]",Bt={};Bt[jue]=Bt[Rue]=Bt[Mue]=Bt[$ue]=Bt[Due]=Bt[Lue]=Bt[Fue]=Bt[Vue]=Bt[Uue]=!0;Bt[vue]=Bt[xue]=Bt[Cue]=Bt[bue]=Bt[Oue]=Bt[wue]=Bt[_ue]=Bt[Sue]=Bt[Eue]=Bt[kue]=Bt[Pue]=Bt[Tue]=Bt[Nue]=Bt[Aue]=Bt[Iue]=!1;function Bue(t){return yue(t)&&gue(t.length)&&!!Bt[mue(t)]}var zue=Bue;function que(t){return function(e){return t(e)}}var pL=que,Im={exports:{}};Im.exports;(function(t,e){var n=_D,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Im,Im.exports);var Wue=Im.exports,Hue=zue,Gue=pL,$P=Wue,DP=$P&&$P.isTypedArray,Kue=DP?Gue(DP):Hue,mL=Kue,Yue=Jce,Que=hb,Xue=Fr,Jue=hL,Zue=pb,ede=mL,tde=Object.prototype,nde=tde.hasOwnProperty;function rde(t,e){var n=Xue(t),r=!n&&Que(t),i=!n&&!r&&Jue(t),a=!n&&!r&&!i&&ede(t),s=n||r||i||a,o=s?Yue(t.length,String):[],l=o.length;for(var c in t)(e||nde.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Zue(c,l)))&&o.push(c);return o}var ide=rde,ade=Object.prototype;function sde(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ade;return t===n}var ode=sde;function lde(t,e){return function(n){return t(e(n))}}var gL=lde,cde=gL,ude=cde(Object.keys,Object),dde=ude,fde=ode,hde=dde,pde=Object.prototype,mde=pde.hasOwnProperty;function gde(t){if(!fde(t))return hde(t);var e=[];for(var n in Object(t))mde.call(t,n)&&n!="constructor"&&e.push(n);return e}var yde=gde,vde=Qx,xde=mb;function bde(t){return t!=null&&xde(t.length)&&!vde(t)}var m4=bde,wde=ide,_de=yde,Sde=m4;function Ede(t){return Sde(t)?wde(t):_de(t)}var x2=Ede,kde=Vce,Pde=Qce,Tde=x2;function Nde(t){return kde(t,Tde,Pde)}var Ade=Nde,LP=Ade,Ide=1,Cde=Object.prototype,Ode=Cde.hasOwnProperty;function jde(t,e,n,r,i,a){var s=n&Ide,o=LP(t),l=o.length,c=LP(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in e:Ode.call(e,h)))return!1}var p=a.get(t),g=a.get(e);if(p&&g)return p==e&&g==t;var x=!0;a.set(t,e),a.set(e,t);for(var y=s;++d<l;){h=o[d];var v=t[h],b=e[h];if(r)var w=s?r(b,v,h,e,t,a):r(v,b,h,t,e,a);if(!(w===void 0?v===b||i(v,b,n,r,a):w)){x=!1;break}y||(y=h=="constructor")}if(x&&!y){var _=t.constructor,S=e.constructor;_!=S&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(x=!1)}return a.delete(t),a.delete(e),x}var Rde=jde,Mde=gl,$de=Fa,Dde=Mde($de,"DataView"),Lde=Dde,Fde=gl,Vde=Fa,Ude=Fde(Vde,"Promise"),Bde=Ude,zde=gl,qde=Fa,Wde=zde(qde,"Set"),yL=Wde,Hde=gl,Gde=Fa,Kde=Hde(Gde,"WeakMap"),Yde=Kde,D7=Lde,L7=Jx,F7=Bde,V7=yL,U7=Yde,vL=I0,Cu=ED,FP="[object Map]",Qde="[object Object]",VP="[object Promise]",UP="[object Set]",BP="[object WeakMap]",zP="[object DataView]",Xde=Cu(D7),Jde=Cu(L7),Zde=Cu(F7),efe=Cu(V7),tfe=Cu(U7),fo=vL;(D7&&fo(new D7(new ArrayBuffer(1)))!=zP||L7&&fo(new L7)!=FP||F7&&fo(F7.resolve())!=VP||V7&&fo(new V7)!=UP||U7&&fo(new U7)!=BP)&&(fo=function(t){var e=vL(t),n=e==Qde?t.constructor:void 0,r=n?Cu(n):"";if(r)switch(r){case Xde:return zP;case Jde:return FP;case Zde:return VP;case efe:return UP;case tfe:return BP}return e});var nfe=fo,l6=sL,rfe=uL,ife=Mce,afe=Rde,qP=nfe,WP=Fr,HP=hL,sfe=mL,ofe=1,GP="[object Arguments]",KP="[object Array]",hp="[object Object]",lfe=Object.prototype,YP=lfe.hasOwnProperty;function cfe(t,e,n,r,i,a){var s=WP(t),o=WP(e),l=s?KP:qP(t),c=o?KP:qP(e);l=l==GP?hp:l,c=c==GP?hp:c;var u=l==hp,d=c==hp,h=l==c;if(h&&HP(t)){if(!HP(e))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new l6),s||sfe(t)?rfe(t,e,n,r,i,a):ife(t,e,l,n,r,i,a);if(!(n&ofe)){var p=u&&YP.call(t,"__wrapped__"),g=d&&YP.call(e,"__wrapped__");if(p||g){var x=p?t.value():t,y=g?e.value():e;return a||(a=new l6),i(x,y,n,r,a)}}return h?(a||(a=new l6),afe(t,e,n,r,i,a)):!1}var ufe=cfe,dfe=ufe,QP=C0;function xL(t,e,n,r,i){return t===e?!0:t==null||e==null||!QP(t)&&!QP(e)?t!==t&&e!==e:dfe(t,e,n,r,xL,i)}var gb=xL,ffe=sL,hfe=gb,pfe=1,mfe=2;function gfe(t,e,n,r){var i=n.length,a=i,s=!r;if(t==null)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=n[i];var l=o[0],c=t[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new ffe;if(r)var h=r(c,u,l,t,e,d);if(!(h===void 0?hfe(u,c,pfe|mfe,r,d):h))return!1}}return!0}var yfe=gfe,vfe=Gs;function xfe(t){return t===t&&!vfe(t)}var bL=xfe,bfe=bL,wfe=x2;function _fe(t){for(var e=wfe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,bfe(i)]}return e}var Sfe=_fe;function Efe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var wL=Efe,kfe=yfe,Pfe=Sfe,Tfe=wL;function Nfe(t){var e=Pfe(t);return e.length==1&&e[0][2]?Tfe(e[0][0],e[0][1]):function(n){return n===t||kfe(n,t,e)}}var Afe=Nfe;function Ife(t,e){return t!=null&&e in Object(t)}var Cfe=Ife,Ofe=AD,jfe=hb,Rfe=Fr,Mfe=pb,$fe=mb,Dfe=i2;function Lfe(t,e,n){e=Ofe(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=Dfe(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&$fe(i)&&Mfe(s,i)&&(Rfe(t)||jfe(t)))}var Ffe=Lfe,Vfe=Cfe,Ufe=Ffe;function Bfe(t,e){return t!=null&&Ufe(t,e,Vfe)}var zfe=Bfe,qfe=gb,Wfe=ID,Hfe=zfe,Gfe=Yx,Kfe=bL,Yfe=wL,Qfe=i2,Xfe=1,Jfe=2;function Zfe(t,e){return Gfe(t)&&Kfe(e)?Yfe(Qfe(t),e):function(n){var r=Wfe(n,t);return r===void 0&&r===e?Hfe(n,t):qfe(e,r,Xfe|Jfe)}}var ehe=Zfe;function the(t){return t}var Ou=the;function nhe(t){return function(e){return e==null?void 0:e[t]}}var rhe=nhe,ihe=nb;function ahe(t){return function(e){return ihe(e,t)}}var she=ahe,ohe=rhe,lhe=she,che=Yx,uhe=i2;function dhe(t){return che(t)?ohe(uhe(t)):lhe(t)}var fhe=dhe,hhe=Afe,phe=ehe,mhe=Ou,ghe=Fr,yhe=fhe;function vhe(t){return typeof t=="function"?t:t==null?mhe:typeof t=="object"?ghe(t)?phe(t[0],t[1]):hhe(t):yhe(t)}var Ks=vhe;function xhe(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var _L=xhe;function bhe(t){return t!==t}var whe=bhe;function _he(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var She=_he,Ehe=_L,khe=whe,Phe=She;function The(t,e,n){return e===e?Phe(t,e,n):Ehe(t,khe,n)}var Nhe=The,Ahe=Nhe;function Ihe(t,e){var n=t==null?0:t.length;return!!n&&Ahe(t,e,0)>-1}var Che=Ihe;function Ohe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var jhe=Ohe;function Rhe(){}var Mhe=Rhe,c6=yL,$he=Mhe,Dhe=fb,Lhe=1/0,Fhe=c6&&1/Dhe(new c6([,-0]))[1]==Lhe?function(t){return new c6(t)}:$he,Vhe=Fhe,Uhe=oL,Bhe=Che,zhe=jhe,qhe=cL,Whe=Vhe,Hhe=fb,Ghe=200;function Khe(t,e,n){var r=-1,i=Bhe,a=t.length,s=!0,o=[],l=o;if(n)s=!1,i=zhe;else if(a>=Ghe){var c=e?null:Whe(t);if(c)return Hhe(c);s=!1,i=qhe,l=new Uhe}else l=e?[]:o;e:for(;++r<a;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}var Yhe=Khe,Qhe=Ks,Xhe=Yhe;function Jhe(t,e){return t&&t.length?Xhe(t,Qhe(e)):[]}var Zhe=Jhe;const XP=jt(Zhe);function SL(t,e,n){return e===!0?XP(t,n):Qe(e)?XP(t,e):t}function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}var e4e=["ref"];function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){b2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kL(r.key),r)}}function n4e(t,e,n){return e&&ZP(t.prototype,e),n&&ZP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function r4e(t,e,n){return e=Cm(e),i4e(t,EL()?Reflect.construct(e,n||[],Cm(t).constructor):e.apply(t,n))}function i4e(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a4e(t)}function a4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EL=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cm(t)}function s4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B7(t,e)}function B7(t,e){return B7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B7(t,e)}function b2(t,e,n){return e=kL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kL(t){var e=o4e(t,"string");return Lc(e)=="symbol"?e:e+""}function o4e(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function l4e(t,e){if(t==null)return{};var n=c4e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u4e(t){return t.value}function d4e(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=l4e(e,e4e);return B.createElement(db,n)}var eT=1,gc=function(t){function e(){var n;t4e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=r4e(this,e,[].concat(i)),b2(n,"lastBoundingBox",{width:-1,height:-1}),n}return s4e(e,t),n4e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>eT||Math.abs(i.height-this.lastBoundingBox.height)>eT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?za({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return za(za({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=za(za({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},d4e(a,za(za({},this.props),{},{payload:SL(u,c,u4e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=za(za({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&ye(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(R.PureComponent);b2(gc,"displayName","Legend");b2(gc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var tT=h4,f4e=hb,h4e=Fr,nT=tT?tT.isConcatSpreadable:void 0;function p4e(t){return h4e(t)||f4e(t)||!!(nT&&t&&t[nT])}var m4e=p4e,g4e=dL,y4e=m4e;function PL(t,e,n,r,i){var a=-1,s=t.length;for(n||(n=y4e),i||(i=[]);++a<s;){var o=t[a];e>0&&n(o)?e>1?PL(o,e-1,n,r,i):g4e(i,o):r||(i[i.length]=o)}return i}var TL=PL;function v4e(t){return function(e,n,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[t?o:++i];if(n(a[l],l,a)===!1)break}return e}}var x4e=v4e,b4e=x4e,w4e=b4e(),_4e=w4e,S4e=_4e,E4e=x2;function k4e(t,e){return t&&S4e(t,e,E4e)}var NL=k4e,P4e=m4;function T4e(t,e){return function(n,r){if(n==null)return n;if(!P4e(n))return t(n,r);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var N4e=T4e,A4e=NL,I4e=N4e,C4e=I4e(A4e),yb=C4e,O4e=yb,j4e=m4;function R4e(t,e){var n=-1,r=j4e(t)?Array(t.length):[];return O4e(t,function(i,a,s){r[++n]=e(i,a,s)}),r}var AL=R4e;function M4e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var $4e=M4e,rT=Eu;function D4e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=rT(t),s=e!==void 0,o=e===null,l=e===e,c=rT(e);if(!o&&!c&&!a&&t>e||a&&s&&l&&!o&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||o&&n&&i||!s&&i||!l)return-1}return 0}var L4e=D4e,F4e=L4e;function V4e(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,s=i.length,o=n.length;++r<s;){var l=F4e(i[r],a[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var U4e=V4e,u6=tb,B4e=nb,z4e=Ks,q4e=AL,W4e=$4e,H4e=pL,G4e=U4e,K4e=Ou,Y4e=Fr;function Q4e(t,e,n){e.length?e=u6(e,function(a){return Y4e(a)?function(s){return B4e(s,a.length===1?a[0]:a)}:a}):e=[K4e];var r=-1;e=u6(e,H4e(z4e));var i=q4e(t,function(a,s,o){var l=u6(e,function(c){return c(a)});return{criteria:l,index:++r,value:a}});return W4e(i,function(a,s){return G4e(a,s,n)})}var X4e=Q4e;function J4e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Z4e=J4e,epe=Z4e,iT=Math.max;function tpe(t,e,n){return e=iT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=iT(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(s),epe(t,this,o)}}var npe=tpe;function rpe(t){return function(){return t}}var ipe=rpe,ape=gl,spe=function(){try{var t=ape(Object,"defineProperty");return t({},"",{}),t}catch{}}(),IL=spe,ope=ipe,aT=IL,lpe=Ou,cpe=aT?function(t,e){return aT(t,"toString",{configurable:!0,enumerable:!1,value:ope(e),writable:!0})}:lpe,upe=cpe,dpe=800,fpe=16,hpe=Date.now;function ppe(t){var e=0,n=0;return function(){var r=hpe(),i=fpe-(r-n);if(n=r,i>0){if(++e>=dpe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var mpe=ppe,gpe=upe,ype=mpe,vpe=ype(gpe),xpe=vpe,bpe=Ou,wpe=npe,_pe=xpe;function Spe(t,e){return _pe(wpe(t,e,bpe),t+"")}var Epe=Spe,kpe=Xx,Ppe=m4,Tpe=pb,Npe=Gs;function Ape(t,e,n){if(!Npe(n))return!1;var r=typeof e;return(r=="number"?Ppe(n)&&Tpe(e,n.length):r=="string"&&e in n)?kpe(n[e],t):!1}var w2=Ape,Ipe=TL,Cpe=X4e,Ope=Epe,sT=w2,jpe=Ope(function(t,e){if(t==null)return[];var n=e.length;return n>1&&sT(t,e[0],e[1])?e=[]:n>2&&sT(e[0],e[1],e[2])&&(e=[e[0]]),Cpe(t,Ipe(e,1),[])}),Rpe=jpe;const vb=jt(Rpe);function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function z7(){return z7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z7.apply(this,arguments)}function Mpe(t,e){return Fpe(t)||Lpe(t,e)||Dpe(t,e)||$pe()}function $pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dpe(t,e){if(t){if(typeof t=="string")return oT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oT(t,e)}}function oT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Fpe(t){if(Array.isArray(t))return t}function lT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(n),!0).forEach(function(r){Vpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vpe(t,e,n){return e=Upe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Upe(t){var e=Bpe(t,"string");return th(e)=="symbol"?e:e+""}function Bpe(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zpe(t){return Array.isArray(t)&&Sn(t[0])&&Sn(t[1])?t.join(" ~ "):t}var qpe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,x=e.label,y=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(u&&u.length){var j={padding:0,margin:0},O=(h?vb(u,h):u).map(function($,M){if($.type==="none")return null;var D=d6({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},o),V=$.formatter||d||zpe,F=$.value,U=$.name,H=F,G=U;if(V&&H!=null&&G!=null){var K=V(F,U,$,M,u);if(Array.isArray(K)){var ne=Mpe(K,2);H=ne[0],G=ne[1]}else H=K}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:D},Sn(G)?B.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Sn(G)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},H),B.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},_=d6({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=d6({margin:0},c),P=!lt(x),E=P?x:"",k=mt("recharts-default-tooltip",p),N=mt("recharts-tooltip-label",g);P&&y&&u!==void 0&&u!==null&&(E=y(x,u));var I=b?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",z7({className:k,style:_},I),B.createElement("p",{className:N,style:S},B.isValidElement(E)?E:"".concat(E)),w())};function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function pp(t,e,n){return e=Wpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wpe(t){var e=Hpe(t,"string");return nh(e)=="symbol"?e:e+""}function Hpe(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ud="recharts-tooltip-wrapper",Gpe={visibility:"hidden"};function Kpe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return mt(ud,pp(pp(pp(pp({},"".concat(ud,"-right"),ye(n)&&e&&ye(e.x)&&n>=e.x),"".concat(ud,"-left"),ye(n)&&e&&ye(e.x)&&n<e.x),"".concat(ud,"-bottom"),ye(r)&&e&&ye(e.y)&&r>=e.y),"".concat(ud,"-top"),ye(r)&&e&&ye(e.y)&&r<e.y))}function cT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&ye(a[r]))return a[r];var u=n[r]-o-i,d=n[r]+i;if(e[r])return s[r]?u:d;if(s[r]){var h=u,p=l[r];return h<p?Math.max(d,l[r]):Math.max(u,l[r])}var g=d+o,x=l[r]+c;return g>x?Math.max(u,l[r]):Math.max(d,l[r])}function Ype(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Qpe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return s.height>0&&s.width>0&&n?(u=cT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=cT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Ype({translateX:u,translateY:d,useTranslate3d:o})):c=Gpe,{cssProperties:c,cssClasses:Kpe({translateX:u,translateY:d,coordinate:n})}}function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function uT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(n),!0).forEach(function(r){W7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OL(r.key),r)}}function Zpe(t,e,n){return e&&Jpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e3e(t,e,n){return e=Om(e),t3e(t,CL()?Reflect.construct(e,n||[],Om(t).constructor):e.apply(t,n))}function t3e(t,e){if(e&&(Fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n3e(t)}function n3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CL=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Om(t)}function r3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q7(t,e)}function q7(t,e){return q7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q7(t,e)}function W7(t,e,n){return e=OL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OL(t){var e=i3e(t,"string");return Fc(e)=="symbol"?e:e+""}function i3e(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fT=1,a3e=function(t){function e(){var n;Xpe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=e3e(this,e,[].concat(i)),W7(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),W7(n,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return r3e(e,t),Zpe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>fT||Math.abs(r.height-this.state.lastBoundingBox.height)>fT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,x=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,w=Qpe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),_=w.cssClasses,S=w.cssProperties,P=dT(dT({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return B.createElement("div",{tabIndex:-1,className:_,style:P,ref:function(k){r.wrapperNode=k}},c)}}])}(R.PureComponent),s3e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ju={isSsr:s3e()};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function hT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hT(Object(n),!0).forEach(function(r){xb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l3e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RL(r.key),r)}}function c3e(t,e,n){return e&&l3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u3e(t,e,n){return e=jm(e),d3e(t,jL()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function d3e(t,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f3e(t)}function f3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jL=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function h3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H7(t,e)}function H7(t,e){return H7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H7(t,e)}function xb(t,e,n){return e=RL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RL(t){var e=p3e(t,"string");return Vc(e)=="symbol"?e:e+""}function p3e(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function m3e(t){return t.dataKey}function g3e(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(qpe,e)}var da=function(t){function e(){return o3e(this,e),u3e(this,e,arguments)}return h3e(e,t),c3e(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,x=i.payloadUniqBy,y=i.position,v=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,S=g??[];d&&S.length&&(S=SL(g.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),x,m3e));var P=S.length>0;return B.createElement(a3e,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:P,offset:p,position:y,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:_},g3e(c,pT(pT({},this.props),{},{payload:S})))}}])}(R.PureComponent);xb(da,"displayName","Tooltip");xb(da,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ju.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var y3e=Fa,v3e=function(){return y3e.Date.now()},x3e=v3e,b3e=/\s/;function w3e(t){for(var e=t.length;e--&&b3e.test(t.charAt(e)););return e}var _3e=w3e,S3e=_3e,E3e=/^\s+/;function k3e(t){return t&&t.slice(0,S3e(t)+1).replace(E3e,"")}var P3e=k3e,T3e=P3e,mT=Gs,N3e=Eu,gT=NaN,A3e=/^[-+]0x[0-9a-f]+$/i,I3e=/^0b[01]+$/i,C3e=/^0o[0-7]+$/i,O3e=parseInt;function j3e(t){if(typeof t=="number")return t;if(N3e(t))return gT;if(mT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=mT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=T3e(t);var n=I3e.test(t);return n||C3e.test(t)?O3e(t.slice(2),n?2:8):A3e.test(t)?gT:+t}var ML=j3e,R3e=Gs,f6=x3e,yT=ML,M3e="Expected a function",$3e=Math.max,D3e=Math.min;function L3e(t,e,n){var r,i,a,s,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(M3e);e=yT(e)||0,R3e(n)&&(u=!!n.leading,d="maxWait"in n,a=d?$3e(yT(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(P){var E=r,k=i;return r=i=void 0,c=P,s=t.apply(k,E),s}function g(P){return c=P,o=setTimeout(v,e),u?p(P):s}function x(P){var E=P-l,k=P-c,N=e-E;return d?D3e(N,a-k):N}function y(P){var E=P-l,k=P-c;return l===void 0||E>=e||E<0||d&&k>=a}function v(){var P=f6();if(y(P))return b(P);o=setTimeout(v,x(P))}function b(P){return o=void 0,h&&r?p(P):(r=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function _(){return o===void 0?s:b(f6())}function S(){var P=f6(),E=y(P);if(r=arguments,i=this,l=P,E){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(v,e),p(l)}return o===void 0&&(o=setTimeout(v,e)),s}return S.cancel=w,S.flush=_,S}var F3e=L3e,V3e=F3e,U3e=Gs,B3e="Expected a function";function z3e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(B3e);return U3e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),V3e(t,e,{leading:r,maxWait:e,trailing:i})}var q3e=z3e;const $L=jt(q3e);function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function vT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(r){W3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W3e(t,e,n){return e=H3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H3e(t){var e=G3e(t,"string");return rh(e)=="symbol"?e:e+""}function G3e(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K3e(t,e){return J3e(t)||X3e(t,e)||Q3e(t,e)||Y3e()}function Y3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q3e(t,e){if(t){if(typeof t=="string")return xT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xT(t,e)}}function xT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function J3e(t){if(Array.isArray(t))return t}var Z3e=R.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,x=g===void 0?0:g,y=t.id,v=t.className,b=t.onResize,w=t.style,_=w===void 0?{}:w,S=R.useRef(null),P=R.useRef();P.current=b,R.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=R.useState({containerWidth:i.width,containerHeight:i.height}),k=K3e(E,2),N=k[0],I=k[1],A=R.useCallback(function(O,$){I(function(M){var D=Math.round(O),V=Math.round($);return M.containerWidth===D&&M.containerHeight===V?M:{containerWidth:D,containerHeight:V}})},[]);R.useEffect(function(){var O=function(U){var H,G=U[0].contentRect,K=G.width,ne=G.height;A(K,ne),(H=P.current)===null||H===void 0||H.call(P,K,ne)};x>0&&(O=$L(O,x,{trailing:!0,leading:!1}));var $=new ResizeObserver(O),M=S.current.getBoundingClientRect(),D=M.width,V=M.height;return A(D,V),$.observe(S.current),function(){$.disconnect()}},[A,x]);var j=R.useMemo(function(){var O=N.containerWidth,$=N.containerHeight;if(O<0||$<0)return null;d0(So(s)||So(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),d0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=So(s)?O:s,D=So(l)?$:l;n&&n>0&&(M?D=M/n:D&&(M=D*n),h&&D>h&&(D=h)),d0(M>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,D,s,l,u,d,n);var V=!Array.isArray(p)&&u0(p.type).endsWith("Chart");return B.Children.map(p,function(F){return B.isValidElement(F)?R.cloneElement(F,mp({width:M,height:D},V?{style:mp({height:"100%",width:"100%",maxHeight:D,maxWidth:M},F.props.style)}:{})):F})},[n,p,l,h,d,u,N,s]);return B.createElement("div",{id:y?"".concat(y):void 0,className:mt("recharts-responsive-container",v),style:mp(mp({},_),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:S},j)}),DL=function(e){return null};DL.displayName="Cell";function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(n),!0).forEach(function(r){eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eme(t,e,n){return e=tme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tme(t){var e=nme(t,"string");return ih(e)=="symbol"?e:e+""}function nme(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pl={widthCache:{},cacheCount:0},rme=2e3,ime={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wT="recharts_measurement_span";function ame(t){var e=G7({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var pf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ju.isSsr)return{width:0,height:0};var r=ame(n),i=JSON.stringify({text:e,copyStyle:r});if(Pl.widthCache[i])return Pl.widthCache[i];try{var a=document.getElementById(wT);a||(a=document.createElement("span"),a.setAttribute("id",wT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=G7(G7({},ime),r);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Pl.widthCache[i]=l,++Pl.cacheCount>rme&&(Pl.cacheCount=0,Pl.widthCache={}),l}catch{return{width:0,height:0}}},sme=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function Rm(t,e){return ume(t)||cme(t,e)||lme(t,e)||ome()}function ome(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lme(t,e){if(t){if(typeof t=="string")return _T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _T(t,e)}}function _T(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function ume(t){if(Array.isArray(t))return t}function dme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ST(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hme(r.key),r)}}function fme(t,e,n){return e&&ST(t.prototype,e),n&&ST(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hme(t){var e=pme(t,"string");return ah(e)=="symbol"?e:e+""}function pme(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ET=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yme=Object.keys(LL),Yl="NaN";function vme(t,e){return t*LL[e]}var gp=function(){function t(e,n){dme(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!mme.test(n)&&(this.num=NaN,this.unit=""),yme.includes(n)&&(this.num=vme(e,n),this.unit="px")}return fme(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=gme.exec(n))!==null&&r!==void 0?r:[],a=Rm(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function FL(t){if(t.includes(Yl))return Yl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=ET.exec(e))!==null&&n!==void 0?n:[],i=Rm(r,4),a=i[1],s=i[2],o=i[3],l=gp.parse(a??""),c=gp.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Yl;e=e.replace(ET,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=kT.exec(e))!==null&&d!==void 0?d:[],p=Rm(h,4),g=p[1],x=p[2],y=p[3],v=gp.parse(g??""),b=gp.parse(y??""),w=x==="+"?v.add(b):v.subtract(b);if(w.isNaN())return Yl;e=e.replace(kT,w.toString())}return e}var PT=/\(([^()]*)\)/;function xme(t){for(var e=t;e.includes("(");){var n=PT.exec(e),r=Rm(n,2),i=r[1];e=e.replace(PT,FL(i))}return e}function bme(t){var e=t.replace(/\s+/g,"");return e=xme(e),e=FL(e),e}function wme(t){try{return bme(t)}catch{return Yl}}function h6(t){var e=wme(t.slice(5,-1));return e===Yl?"":e}var _me=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Sme=["dx","dy","angle","className","breakAll"];function K7(){return K7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K7.apply(this,arguments)}function TT(t,e){if(t==null)return{};var n=Eme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NT(t,e){return Nme(t)||Tme(t,e)||Pme(t,e)||kme()}function kme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pme(t,e){if(t){if(typeof t=="string")return AT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AT(t,e)}}function AT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Nme(t){if(Array.isArray(t))return t}var VL=/[ \f\n\r\t\v\u2028\u2029]+/,UL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];lt(n)||(r?a=n.toString().split(""):a=n.toString().split(VL));var s=a.map(function(l){return{word:l,width:pf(l,i).width}}),o=r?0:pf("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Ame=function(e,n,r,i,a){var s=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=ye(s),d=o,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(D,V){var F=V.word,U=V.width,H=D[D.length-1];if(H&&(i==null||a||H.width+U+r<Number(i)))H.words.push(F),H.width+=U+r;else{var G={words:[F],width:U};D.push(G)}return D},[])},p=h(n),g=function(M){return M.reduce(function(D,V){return D.width>V.width?D:V})};if(!u)return p;for(var x="",y=function(M){var D=d.slice(0,M),V=UL({breakAll:c,style:l,children:D+x}).wordsWithComputedWidth,F=h(V),U=F.length>s||g(F).width>Number(i);return[U,F]},v=0,b=d.length-1,w=0,_;v<=b&&w<=d.length-1;){var S=Math.floor((v+b)/2),P=S-1,E=y(P),k=NT(E,2),N=k[0],I=k[1],A=y(S),j=NT(A,1),O=j[0];if(!N&&!O&&(v=S+1),N&&O&&(b=S-1),!N&&O){_=I;break}w++}return _||p},IT=function(e){var n=lt(e)?[]:e.toString().split(VL);return[{words:n}]},Ime=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((n||r)&&!ju.isSsr){var l,c,u=UL({breakAll:s,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return IT(i);return Ame({breakAll:s,children:i,maxLines:o,style:a},l,c,n,r)}return IT(i)},CT="#808080",Mm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,x=g===void 0?"end":g,y=e.fill,v=y===void 0?CT:y,b=TT(e,_me),w=R.useMemo(function(){return Ime({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),_=b.dx,S=b.dy,P=b.angle,E=b.className,k=b.breakAll,N=TT(b,Sme);if(!Sn(r)||!Sn(a))return null;var I=r+(ye(_)?_:0),A=a+(ye(S)?S:0),j;switch(x){case"start":j=h6("calc(".concat(c,")"));break;case"middle":j=h6("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:j=h6("calc(".concat(w.length-1," * -").concat(o,")"));break}var O=[];if(d){var $=w[0].width,M=b.width;O.push("scale(".concat((ye(M)?M/$:1)/$,")"))}return P&&O.push("rotate(".concat(P,", ").concat(I,", ").concat(A,")")),O.length&&(N.transform=O.join(" ")),B.createElement("text",K7({},nt(N,!0),{x:I,y:A,className:mt("recharts-text",E),textAnchor:p,fill:v.includes("url")?CT:v}),w.map(function(D,V){var F=D.words.join(k?"":" ");return B.createElement("tspan",{x:I,dy:V===0?j:o,key:"".concat(F,"-").concat(V)},F)}))};function Es(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cme(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bb(t){let e,n,r;t.length!==2?(e=Es,n=(o,l)=>Es(t(o),l),r=(o,l)=>t(o)-l):(e=t===Es||t===Cme?t:Ome,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function Ome(){return 0}function BL(t){return t===null?NaN:+t}function*jme(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Rme=bb(Es),g4=Rme.right;bb(BL).center;let Aa=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}};class OT extends Map{constructor(e,n=Dme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(jT(this,e))}has(e){return super.has(jT(this,e))}set(e,n){return super.set(Mme(this,e),n)}delete(e){return super.delete($me(this,e))}}function jT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Mme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function $me({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Dme(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Lme(t=Es){if(t===Es)return zL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function zL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Fme=Math.sqrt(50),Vme=Math.sqrt(10),Ume=Math.sqrt(2);function $m(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Fme?10:a>=Vme?5:a>=Ume?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?$m(t,e,n*2):[o,l,c]}function Y7(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?$m(e,t,n):$m(t,e,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Q7(t,e,n){return e=+e,t=+t,n=+n,$m(t,e,n)[2]}function X7(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Q7(e,t,n):Q7(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function RT(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function MT(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?zL:Lme(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+h)),g=Math.min(r,Math.floor(e+(l-c)*d/l+h));qL(t,e,p,g,i)}const a=t[e];let s=n,o=r;for(dd(t,n,e),i(t[r],a)>0&&dd(t,n,r);s<o;){for(dd(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?dd(t,n,o):(++o,dd(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function dd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Bme(t,e,n){if(t=Float64Array.from(jme(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return MT(t);if(e>=1)return RT(t);var r,i=(r-1)*e,a=Math.floor(i),s=RT(qL(t,a).subarray(0,a+1)),o=MT(t.subarray(a+1));return s+(o-s)*(i-a)}}function zme(t,e,n=BL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function*qme(t){for(const e of t)yield*e}function WL(t){return Array.from(qme(t))}function Wme(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ji(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function O0(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const J7=Symbol("implicit");function wb(){var t=new OT,e=[],n=[],r=J7;function i(a){let s=t.get(a);if(s===void 0){if(r!==J7)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new OT;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return wb(e,n).unknown(r)},ji.apply(i,arguments),i}function sh(){var t=wb().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<r,g=p?i:r,x=p?r:i;a=(x-g)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),g+=(x-g-a*(h-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var y=Wme(h).map(function(v){return g+a*v});return n(p?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,d()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return sh(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},ji.apply(d(),arguments)}function HL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return HL(e())},t}function mf(){return HL(sh.apply(null,arguments).paddingInner(1))}function _b(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function GL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function y4(){}var oh=.7,Dm=1/oh,yc="\\s*([+-]?\\d+)\\s*",lh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ia="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hme=/^#([0-9a-f]{3,8})$/,Gme=new RegExp(`^rgb\\(${yc},${yc},${yc}\\)$`),Kme=new RegExp(`^rgb\\(${Ia},${Ia},${Ia}\\)$`),Yme=new RegExp(`^rgba\\(${yc},${yc},${yc},${lh}\\)$`),Qme=new RegExp(`^rgba\\(${Ia},${Ia},${Ia},${lh}\\)$`),Xme=new RegExp(`^hsl\\(${lh},${Ia},${Ia}\\)$`),Jme=new RegExp(`^hsla\\(${lh},${Ia},${Ia},${lh}\\)$`),$T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_b(y4,ch,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:DT,formatHex:DT,formatHex8:Zme,formatHsl:e1e,formatRgb:LT,toString:LT});function DT(){return this.rgb().formatHex()}function Zme(){return this.rgb().formatHex8()}function e1e(){return KL(this).formatHsl()}function LT(){return this.rgb().formatRgb()}function ch(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hme.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?FT(e):n===3?new Cr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Gme.exec(t))?new Cr(e[1],e[2],e[3],1):(e=Kme.exec(t))?new Cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Yme.exec(t))?yp(e[1],e[2],e[3],e[4]):(e=Qme.exec(t))?yp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xme.exec(t))?BT(e[1],e[2]/100,e[3]/100,1):(e=Jme.exec(t))?BT(e[1],e[2]/100,e[3]/100,e[4]):$T.hasOwnProperty(t)?FT($T[t]):t==="transparent"?new Cr(NaN,NaN,NaN,0):null}function FT(t){return new Cr(t>>16&255,t>>8&255,t&255,1)}function yp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cr(t,e,n,r)}function t1e(t){return t instanceof y4||(t=ch(t)),t?(t=t.rgb(),new Cr(t.r,t.g,t.b,t.opacity)):new Cr}function Z7(t,e,n,r){return arguments.length===1?t1e(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}_b(Cr,Z7,GL(y4,{brighter(t){return t=t==null?Dm:Math.pow(Dm,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?oh:Math.pow(oh,t),new Cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cr(jo(this.r),jo(this.g),jo(this.b),Lm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VT,formatHex:VT,formatHex8:n1e,formatRgb:UT,toString:UT}));function VT(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}`}function n1e(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}${Eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function UT(){const t=Lm(this.opacity);return`${t===1?"rgb(":"rgba("}${jo(this.r)}, ${jo(this.g)}, ${jo(this.b)}${t===1?")":`, ${t})`}`}function Lm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Eo(t){return t=jo(t),(t<16?"0":"")+t.toString(16)}function BT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ui(t,e,n,r)}function KL(t){if(t instanceof Ui)return new Ui(t.h,t.s,t.l,t.opacity);if(t instanceof y4||(t=ch(t)),!t)return new Ui;if(t instanceof Ui)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Ui(s,o,l,t.opacity)}function r1e(t,e,n,r){return arguments.length===1?KL(t):new Ui(t,e,n,r??1)}function Ui(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}_b(Ui,r1e,GL(y4,{brighter(t){return t=t==null?Dm:Math.pow(Dm,t),new Ui(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oh:Math.pow(oh,t),new Ui(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cr(p6(t>=240?t-240:t+120,i,r),p6(t,i,r),p6(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ui(zT(this.h),vp(this.s),vp(this.l),Lm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Lm(this.opacity);return`${t===1?"hsl(":"hsla("}${zT(this.h)}, ${vp(this.s)*100}%, ${vp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zT(t){return t=(t||0)%360,t<0?t+360:t}function vp(t){return Math.max(0,Math.min(1,t||0))}function p6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Sb=t=>()=>t;function i1e(t,e){return function(n){return t+n*e}}function a1e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function s1e(t){return(t=+t)==1?YL:function(e,n){return n-e?a1e(e,n,t):Sb(isNaN(e)?n:e)}}function YL(t,e){var n=e-t;return n?i1e(t,n):Sb(isNaN(t)?e:t)}const qT=function t(e){var n=s1e(e);function r(i,a){var s=n((i=Z7(i)).r,(a=Z7(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=YL(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function o1e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function l1e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function c1e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Ru(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function u1e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function d1e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ru(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ev=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m6=new RegExp(ev.source,"g");function f1e(t){return function(){return t}}function h1e(t){return function(e){return t(e)+""}}function p1e(t,e){var n=ev.lastIndex=m6.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=ev.exec(t))&&(i=m6.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Fm(r,i)})),n=m6.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?h1e(l[0].x):f1e(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function Ru(t,e){var n=typeof e,r;return e==null||n==="boolean"?Sb(e):(n==="number"?Fm:n==="string"?(r=ch(e))?(e=r,qT):p1e:e instanceof ch?qT:e instanceof Date?u1e:l1e(e)?o1e:Array.isArray(e)?c1e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?d1e:Fm)(t,e)}function Eb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function m1e(t,e){e===void 0&&(e=t,t=Ru);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function g1e(t){return function(){return t}}function Vm(t){return+t}var WT=[0,1];function mr(t){return t}function tv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:g1e(isNaN(e)?NaN:.5)}function y1e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function v1e(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=tv(i,r),a=n(s,a)):(r=tv(r,i),a=n(a,s)),function(o){return a(r(o))}}function x1e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=tv(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=g4(t,o,1,r)-1;return a[l](i[l](o))}}function v4(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _2(){var t=WT,e=WT,n=Ru,r,i,a,s=mr,o,l,c;function u(){var h=Math.min(t.length,e.length);return s!==mr&&(s=y1e(t[0],t[h-1])),o=h>2?x1e:v1e,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((c||(c=o(e,t.map(r),Fm)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Vm),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=Eb,u()},d.clamp=function(h){return arguments.length?(s=h?!0:mr,u()):s!==mr},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function kb(){return _2()(mr,mr)}function b1e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Um(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Uc(t){return t=Um(Math.abs(t)),t?t[1]:NaN}function w1e(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function _1e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var S1e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uh(t){if(!(e=S1e.exec(t)))throw new Error("invalid format: "+t);var e;return new Pb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uh.prototype=Pb.prototype;function Pb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Pb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function E1e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Bm;function k1e(t,e){var n=Um(t,e);if(!n)return Bm=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Bm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Um(t,Math.max(0,e+a-1))[0]}function HT(t,e){var n=Um(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const GT={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:b1e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>HT(t*100,e),r:HT,s:k1e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KT(t){return t}var YT=Array.prototype.map,QT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function P1e(t){var e=t.grouping===void 0||t.thousands===void 0?KT:w1e(YT.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?KT:_1e(YT.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d,h){d=uh(d);var p=d.fill,g=d.align,x=d.sign,y=d.symbol,v=d.zero,b=d.width,w=d.comma,_=d.precision,S=d.trim,P=d.type;P==="n"?(w=!0,P="g"):GT[P]||(_===void 0&&(_=12),S=!0,P="g"),(v||p==="0"&&g==="=")&&(v=!0,p="0",g="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),k=(y==="$"?r:/[%p]/.test(P)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),N=GT[P],I=/[defgprs%]/.test(P);_=_===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function A(j){var O=E,$=k,M,D,V;if(P==="c")$=N(j)+$,j="";else{j=+j;var F=j<0||1/j<0;if(j=isNaN(j)?l:N(Math.abs(j),_),S&&(j=E1e(j)),F&&+j==0&&x!=="+"&&(F=!1),O=(F?x==="("?x:o:x==="-"||x==="("?"":x)+O,$=(P==="s"&&!isNaN(j)&&Bm!==void 0?QT[8+Bm/3]:"")+$+(F&&x==="("?")":""),I){for(M=-1,D=j.length;++M<D;)if(V=j.charCodeAt(M),48>V||V>57){$=(V===46?i+j.slice(M+1):j.slice(M))+$,j=j.slice(0,M);break}}}w&&!v&&(j=e(j,1/0));var U=O.length+j.length+$.length,H=U<b?new Array(b-U+1).join(p):"";switch(w&&v&&(j=e(H+j,H.length?b-$.length:1/0),H=""),g){case"<":j=O+j+$+H;break;case"=":j=O+H+j+$;break;case"^":j=H.slice(0,U=H.length>>1)+O+j+$+H.slice(U);break;default:j=H+O+j+$;break}return a(j)}return A.toString=function(){return d+""},A}function u(d,h){var p=Math.max(-8,Math.min(8,Math.floor(Uc(h)/3)))*3,g=Math.pow(10,-p),x=c((d=uh(d),d.type="f",d),{suffix:QT[8+p/3]});return function(y){return x(g*y)}}return{format:c,formatPrefix:u}}var xp,Tb,QL;T1e({thousands:",",grouping:[3],currency:["$",""]});function T1e(t){return xp=P1e(t),Tb=xp.format,QL=xp.formatPrefix,xp}function N1e(t){return Math.max(0,-Uc(Math.abs(t)))}function A1e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uc(e)/3)))*3-Uc(Math.abs(t)))}function I1e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Uc(e)-Uc(t))+1}function XL(t,e,n,r){var i=X7(t,e,n),a;switch(r=uh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=A1e(i,s))&&(r.precision=a),QL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=I1e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=N1e(i))&&(r.precision=a-(r.type==="%")*2);break}}return Tb(r)}function Ys(t){var e=t.domain;return t.ticks=function(n){var r=e();return Y7(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return XL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=Q7(s,o,n),c===l)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function dh(){var t=kb();return t.copy=function(){return v4(t,dh())},ji.apply(t,arguments),Ys(t)}function JL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Vm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return JL(t).unknown(e)},t=arguments.length?Array.from(t,Vm):[0,1],Ys(n)}function ZL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function XT(t){return Math.log(t)}function JT(t){return Math.exp(t)}function C1e(t){return-Math.log(-t)}function O1e(t){return-Math.exp(-t)}function j1e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function R1e(t){return t===10?j1e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function M1e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZT(t){return(e,n)=>-t(-e,n)}function Nb(t){const e=t(XT,JT),n=e.domain;let r=10,i,a;function s(){return i=M1e(r),a=R1e(r),n()[0]<0?(i=ZT(i),a=ZT(a),t(C1e,O1e)):t(XT,JT),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),g,x;const y=o==null?10:+o;let v=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<r;++g)if(x=h<0?g/a(-h):g*a(h),!(x<c)){if(x>u)break;v.push(x)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(x=h>0?g/a(-h):g*a(h),!(x<c)){if(x>u)break;v.push(x)}v.length*2<y&&(v=Y7(c,u,y))}else v=Y7(h,p,Math.min(p-h,y)).map(a);return d?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=uh(l)).precision==null&&(l.trim=!0),l=Tb(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(ZL(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function eF(){const t=Nb(_2()).domain([1,10]);return t.copy=()=>v4(t,eF()).base(t.base()),ji.apply(t,arguments),t}function eN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ab(t){var e=1,n=t(eN(e),tN(e));return n.constant=function(r){return arguments.length?t(eN(e=+r),tN(e)):e},Ys(n)}function tF(){var t=Ab(_2());return t.copy=function(){return v4(t,tF()).constant(t.constant())},ji.apply(t,arguments)}function nN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $1e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function D1e(t){return t<0?-t*t:t*t}function Ib(t){var e=t(mr,mr),n=1;function r(){return n===1?t(mr,mr):n===.5?t($1e,D1e):t(nN(n),nN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ys(e)}function Cb(){var t=Ib(_2());return t.copy=function(){return v4(t,Cb()).exponent(t.exponent())},ji.apply(t,arguments),t}function L1e(){return Cb.apply(null,arguments).exponent(.5)}function rN(t){return Math.sign(t)*t*t}function F1e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function nF(){var t=kb(),e=[0,1],n=!1,r;function i(a){var s=F1e(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(rN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Vm)).map(rN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return nF(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ji.apply(i,arguments),Ys(i)}function rF(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=zme(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[g4(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Es),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return rF().domain(t).range(e).unknown(r)},ji.apply(a,arguments)}function iF(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[g4(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return iF().domain([t,e]).range(i).unknown(a)},ji.apply(Ys(s),arguments)}function aF(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[g4(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return aF().domain(t).range(e).unknown(n)},ji.apply(i,arguments)}const g6=new Date,y6=new Date;function Pn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return l},i.filter=a=>Pn(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(g6.setTime(+a),y6.setTime(+s),t(g6),t(y6),Math.floor(n(g6,y6))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const zm=Pn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);zm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):zm);zm.range;const n0=1e3,bi=n0*60,r0=bi*60,w0=r0*24,Ob=w0*7,iN=w0*30,v6=w0*365,ko=Pn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*n0)},(t,e)=>(e-t)/n0,t=>t.getUTCSeconds());ko.range;const jb=Pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*n0)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getMinutes());jb.range;const Rb=Pn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getUTCMinutes());Rb.range;const Mb=Pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*n0-t.getMinutes()*bi)},(t,e)=>{t.setTime(+t+e*r0)},(t,e)=>(e-t)/r0,t=>t.getHours());Mb.range;const $b=Pn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*r0)},(t,e)=>(e-t)/r0,t=>t.getUTCHours());$b.range;const x4=Pn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bi)/w0,t=>t.getDate()-1);x4.range;const S2=Pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/w0,t=>t.getUTCDate()-1);S2.range;const sF=Pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/w0,t=>Math.floor(t/w0));sF.range;function yl(t){return Pn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*bi)/Ob)}const E2=yl(0),qm=yl(1),V1e=yl(2),U1e=yl(3),Bc=yl(4),B1e=yl(5),z1e=yl(6);E2.range;qm.range;V1e.range;U1e.range;Bc.range;B1e.range;z1e.range;function vl(t){return Pn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ob)}const k2=vl(0),Wm=vl(1),q1e=vl(2),W1e=vl(3),zc=vl(4),H1e=vl(5),G1e=vl(6);k2.range;Wm.range;q1e.range;W1e.range;zc.range;H1e.range;G1e.range;const Db=Pn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Db.range;const Lb=Pn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Lb.range;const _0=Pn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());_0.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});_0.range;const S0=Pn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());S0.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});S0.range;function oF(t,e,n,r,i,a){const s=[[ko,1,n0],[ko,5,5*n0],[ko,15,15*n0],[ko,30,30*n0],[a,1,bi],[a,5,5*bi],[a,15,15*bi],[a,30,30*bi],[i,1,r0],[i,3,3*r0],[i,6,6*r0],[i,12,12*r0],[r,1,w0],[r,2,2*w0],[n,1,Ob],[e,1,iN],[e,3,3*iN],[t,1,v6]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=bb(([,,y])=>y).right(s,h);if(p===s.length)return t.every(X7(c/v6,u/v6,d));if(p===0)return zm.every(Math.max(X7(c,u,d),1));const[g,x]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(x)}return[o,l]}const[K1e,Y1e]=oF(S0,Lb,k2,sF,$b,Rb),[Q1e,X1e]=oF(_0,Db,E2,x4,Mb,jb);function x6(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function b6(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function J1e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,c=hd(i),u=pd(i),d=hd(a),h=pd(a),p=hd(s),g=pd(s),x=hd(o),y=pd(o),v=hd(l),b=pd(l),w={a:V,A:F,b:U,B:H,c:null,d:uN,e:uN,f:wge,g:Cge,G:jge,H:vge,I:xge,j:bge,L:lF,m:_ge,M:Sge,p:G,q:K,Q:hN,s:pN,S:Ege,u:kge,U:Pge,V:Tge,w:Nge,W:Age,x:null,X:null,y:Ige,Y:Oge,Z:Rge,"%":fN},_={a:ne,A:ce,b:pe,B:ee,c:null,d:dN,e:dN,f:Lge,g:Kge,G:Qge,H:Mge,I:$ge,j:Dge,L:uF,m:Fge,M:Vge,p:we,q:Ce,Q:hN,s:pN,S:Uge,u:Bge,U:zge,V:qge,w:Wge,W:Hge,x:null,X:null,y:Gge,Y:Yge,Z:Xge,"%":fN},S={a:I,A,b:j,B:O,c:$,d:lN,e:lN,f:pge,g:oN,G:sN,H:cN,I:cN,j:uge,L:hge,m:cge,M:dge,p:N,q:lge,Q:gge,s:yge,S:fge,u:rge,U:ige,V:age,w:nge,W:sge,x:M,X:D,y:oN,Y:sN,Z:oge,"%":mge};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),_.x=P(n,_),_.X=P(r,_),_.c=P(e,_);function P(ie,be){return function(Z){var W=[],de=-1,ke=0,ge=ie.length,ve,Re,bt;for(Z instanceof Date||(Z=new Date(+Z));++de<ge;)ie.charCodeAt(de)===37&&(W.push(ie.slice(ke,de)),(Re=aN[ve=ie.charAt(++de)])!=null?ve=ie.charAt(++de):Re=ve==="e"?" ":"0",(bt=be[ve])&&(ve=bt(Z,Re)),W.push(ve),ke=de+1);return W.push(ie.slice(ke,de)),W.join("")}}function E(ie,be){return function(Z){var W=fd(1900,void 0,1),de=k(W,ie,Z+="",0),ke,ge;if(de!=Z.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(be&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ke=b6(fd(W.y,0,1)),ge=ke.getUTCDay(),ke=ge>4||ge===0?Wm.ceil(ke):Wm(ke),ke=S2.offset(ke,(W.V-1)*7),W.y=ke.getUTCFullYear(),W.m=ke.getUTCMonth(),W.d=ke.getUTCDate()+(W.w+6)%7):(ke=x6(fd(W.y,0,1)),ge=ke.getDay(),ke=ge>4||ge===0?qm.ceil(ke):qm(ke),ke=x4.offset(ke,(W.V-1)*7),W.y=ke.getFullYear(),W.m=ke.getMonth(),W.d=ke.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),ge="Z"in W?b6(fd(W.y,0,1)).getUTCDay():x6(fd(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(ge+5)%7:W.w+W.U*7-(ge+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,b6(W)):x6(W)}}function k(ie,be,Z,W){for(var de=0,ke=be.length,ge=Z.length,ve,Re;de<ke;){if(W>=ge)return-1;if(ve=be.charCodeAt(de++),ve===37){if(ve=be.charAt(de++),Re=S[ve in aN?be.charAt(de++):ve],!Re||(W=Re(ie,Z,W))<0)return-1}else if(ve!=Z.charCodeAt(W++))return-1}return W}function N(ie,be,Z){var W=c.exec(be.slice(Z));return W?(ie.p=u.get(W[0].toLowerCase()),Z+W[0].length):-1}function I(ie,be,Z){var W=p.exec(be.slice(Z));return W?(ie.w=g.get(W[0].toLowerCase()),Z+W[0].length):-1}function A(ie,be,Z){var W=d.exec(be.slice(Z));return W?(ie.w=h.get(W[0].toLowerCase()),Z+W[0].length):-1}function j(ie,be,Z){var W=v.exec(be.slice(Z));return W?(ie.m=b.get(W[0].toLowerCase()),Z+W[0].length):-1}function O(ie,be,Z){var W=x.exec(be.slice(Z));return W?(ie.m=y.get(W[0].toLowerCase()),Z+W[0].length):-1}function $(ie,be,Z){return k(ie,e,be,Z)}function M(ie,be,Z){return k(ie,n,be,Z)}function D(ie,be,Z){return k(ie,r,be,Z)}function V(ie){return s[ie.getDay()]}function F(ie){return a[ie.getDay()]}function U(ie){return l[ie.getMonth()]}function H(ie){return o[ie.getMonth()]}function G(ie){return i[+(ie.getHours()>=12)]}function K(ie){return 1+~~(ie.getMonth()/3)}function ne(ie){return s[ie.getUTCDay()]}function ce(ie){return a[ie.getUTCDay()]}function pe(ie){return l[ie.getUTCMonth()]}function ee(ie){return o[ie.getUTCMonth()]}function we(ie){return i[+(ie.getUTCHours()>=12)]}function Ce(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var be=P(ie+="",w);return be.toString=function(){return ie},be},parse:function(ie){var be=E(ie+="",!1);return be.toString=function(){return ie},be},utcFormat:function(ie){var be=P(ie+="",_);return be.toString=function(){return ie},be},utcParse:function(ie){var be=E(ie+="",!0);return be.toString=function(){return ie},be}}}var aN={"-":"",_:" ",0:"0"},$n=/^\s*\d+/,Z1e=/^%/,ege=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function tge(t){return t.replace(ege,"\\$&")}function hd(t){return new RegExp("^(?:"+t.map(tge).join("|")+")","i")}function pd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function nge(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function rge(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ige(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function age(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function sge(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function sN(t,e,n){var r=$n.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function oN(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oge(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lge(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function cge(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function lN(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function uge(t,e,n){var r=$n.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function cN(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dge(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function fge(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function hge(t,e,n){var r=$n.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function pge(t,e,n){var r=$n.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mge(t,e,n){var r=Z1e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gge(t,e,n){var r=$n.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function yge(t,e,n){var r=$n.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function uN(t,e){return yt(t.getDate(),e,2)}function vge(t,e){return yt(t.getHours(),e,2)}function xge(t,e){return yt(t.getHours()%12||12,e,2)}function bge(t,e){return yt(1+x4.count(_0(t),t),e,3)}function lF(t,e){return yt(t.getMilliseconds(),e,3)}function wge(t,e){return lF(t,e)+"000"}function _ge(t,e){return yt(t.getMonth()+1,e,2)}function Sge(t,e){return yt(t.getMinutes(),e,2)}function Ege(t,e){return yt(t.getSeconds(),e,2)}function kge(t){var e=t.getDay();return e===0?7:e}function Pge(t,e){return yt(E2.count(_0(t)-1,t),e,2)}function cF(t){var e=t.getDay();return e>=4||e===0?Bc(t):Bc.ceil(t)}function Tge(t,e){return t=cF(t),yt(Bc.count(_0(t),t)+(_0(t).getDay()===4),e,2)}function Nge(t){return t.getDay()}function Age(t,e){return yt(qm.count(_0(t)-1,t),e,2)}function Ige(t,e){return yt(t.getFullYear()%100,e,2)}function Cge(t,e){return t=cF(t),yt(t.getFullYear()%100,e,2)}function Oge(t,e){return yt(t.getFullYear()%1e4,e,4)}function jge(t,e){var n=t.getDay();return t=n>=4||n===0?Bc(t):Bc.ceil(t),yt(t.getFullYear()%1e4,e,4)}function Rge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function dN(t,e){return yt(t.getUTCDate(),e,2)}function Mge(t,e){return yt(t.getUTCHours(),e,2)}function $ge(t,e){return yt(t.getUTCHours()%12||12,e,2)}function Dge(t,e){return yt(1+S2.count(S0(t),t),e,3)}function uF(t,e){return yt(t.getUTCMilliseconds(),e,3)}function Lge(t,e){return uF(t,e)+"000"}function Fge(t,e){return yt(t.getUTCMonth()+1,e,2)}function Vge(t,e){return yt(t.getUTCMinutes(),e,2)}function Uge(t,e){return yt(t.getUTCSeconds(),e,2)}function Bge(t){var e=t.getUTCDay();return e===0?7:e}function zge(t,e){return yt(k2.count(S0(t)-1,t),e,2)}function dF(t){var e=t.getUTCDay();return e>=4||e===0?zc(t):zc.ceil(t)}function qge(t,e){return t=dF(t),yt(zc.count(S0(t),t)+(S0(t).getUTCDay()===4),e,2)}function Wge(t){return t.getUTCDay()}function Hge(t,e){return yt(Wm.count(S0(t)-1,t),e,2)}function Gge(t,e){return yt(t.getUTCFullYear()%100,e,2)}function Kge(t,e){return t=dF(t),yt(t.getUTCFullYear()%100,e,2)}function Yge(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function Qge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zc(t):zc.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function Xge(){return"+0000"}function fN(){return"%"}function hN(t){return+t}function pN(t){return Math.floor(+t/1e3)}var Tl,fF,hF;Jge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jge(t){return Tl=J1e(t),fF=Tl.format,Tl.parse,hF=Tl.utcFormat,Tl.utcParse,Tl}function Zge(t){return new Date(t)}function e2e(t){return t instanceof Date?+t:+new Date(+t)}function Fb(t,e,n,r,i,a,s,o,l,c){var u=kb(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),x=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),_=c("%Y");function S(P){return(l(P)<P?p:o(P)<P?g:s(P)<P?x:a(P)<P?y:r(P)<P?i(P)<P?v:b:n(P)<P?w:_)(P)}return u.invert=function(P){return new Date(d(P))},u.domain=function(P){return arguments.length?h(Array.from(P,e2e)):h().map(Zge)},u.ticks=function(P){var E=h();return t(E[0],E[E.length-1],P??10)},u.tickFormat=function(P,E){return E==null?S:c(E)},u.nice=function(P){var E=h();return(!P||typeof P.range!="function")&&(P=e(E[0],E[E.length-1],P??10)),P?h(ZL(E,P)):u},u.copy=function(){return v4(u,Fb(t,e,n,r,i,a,s,o,l,c))},u}function t2e(){return ji.apply(Fb(Q1e,X1e,_0,Db,E2,x4,Mb,jb,ko,fF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function n2e(){return ji.apply(Fb(K1e,Y1e,S0,Lb,k2,S2,$b,Rb,ko,hF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function P2(){var t=0,e=1,n,r,i,a,s=mr,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(Ru),c.rangeRound=u(Eb),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function Qs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function pF(){var t=Ys(P2()(mr));return t.copy=function(){return Qs(t,pF())},O0.apply(t,arguments)}function mF(){var t=Nb(P2()).domain([1,10]);return t.copy=function(){return Qs(t,mF()).base(t.base())},O0.apply(t,arguments)}function gF(){var t=Ab(P2());return t.copy=function(){return Qs(t,gF()).constant(t.constant())},O0.apply(t,arguments)}function Vb(){var t=Ib(P2());return t.copy=function(){return Qs(t,Vb()).exponent(t.exponent())},O0.apply(t,arguments)}function r2e(){return Vb.apply(null,arguments).exponent(.5)}function yF(){var t=[],e=mr;function n(r){if(r!=null&&!isNaN(r=+r))return e((g4(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Es),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Bme(t,a/r))},n.copy=function(){return yF(e).domain(t)},O0.apply(n,arguments)}function T2(){var t=0,e=.5,n=1,r=1,i,a,s,o,l,c=mr,u,d=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-a)*(r*x<r*a?o:l),c(d?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,n]=x,i=u(t=+t),a=u(e=+e),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(x){return arguments.length?(d=!!x,p):d},p.interpolator=function(x){return arguments.length?(c=x,p):c};function g(x){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=m1e(x,[v,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(Ru),p.rangeRound=g(Eb),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return u=x,i=x(t),a=x(e),s=x(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function vF(){var t=Ys(T2()(mr));return t.copy=function(){return Qs(t,vF())},O0.apply(t,arguments)}function xF(){var t=Nb(T2()).domain([.1,1,10]);return t.copy=function(){return Qs(t,xF()).base(t.base())},O0.apply(t,arguments)}function bF(){var t=Ab(T2());return t.copy=function(){return Qs(t,bF()).constant(t.constant())},O0.apply(t,arguments)}function Ub(){var t=Ib(T2());return t.copy=function(){return Qs(t,Ub()).exponent(t.exponent())},O0.apply(t,arguments)}function i2e(){return Ub.apply(null,arguments).exponent(.5)}const mN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sh,scaleDiverging:vF,scaleDivergingLog:xF,scaleDivergingPow:Ub,scaleDivergingSqrt:i2e,scaleDivergingSymlog:bF,scaleIdentity:JL,scaleImplicit:J7,scaleLinear:dh,scaleLog:eF,scaleOrdinal:wb,scalePoint:mf,scalePow:Cb,scaleQuantile:rF,scaleQuantize:iF,scaleRadial:nF,scaleSequential:pF,scaleSequentialLog:mF,scaleSequentialPow:Vb,scaleSequentialQuantile:yF,scaleSequentialSqrt:r2e,scaleSequentialSymlog:gF,scaleSqrt:L1e,scaleSymlog:tF,scaleThreshold:aF,scaleTime:t2e,scaleUtc:n2e,tickFormat:XL},Symbol.toStringTag,{value:"Module"}));var a2e=Eu;function s2e(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(s!=null&&(o===void 0?s===s&&!a2e(s):n(s,o)))var o=s,l=a}return l}var wF=s2e;function o2e(t,e){return t>e}var l2e=o2e,c2e=wF,u2e=l2e,d2e=Ou;function f2e(t){return t&&t.length?c2e(t,d2e,u2e):void 0}var h2e=f2e;const as=jt(h2e);function p2e(t,e){return t<e}var m2e=p2e,g2e=wF,y2e=m2e,v2e=Ou;function x2e(t){return t&&t.length?g2e(t,v2e,y2e):void 0}var b2e=x2e;const N2=jt(b2e);var w2e=tb,_2e=Ks,S2e=AL,E2e=Fr;function k2e(t,e){var n=E2e(t)?w2e:S2e;return n(t,_2e(e))}var P2e=k2e,T2e=TL,N2e=P2e;function A2e(t,e){return T2e(N2e(t,e),1)}var I2e=A2e;const C2e=jt(I2e);var O2e=gb;function j2e(t,e){return O2e(t,e)}var R2e=j2e;const fh=jt(R2e);var Mu=1e9,M2e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zb,Gt=!0,Ii="[DecimalError] ",Ro=Ii+"Invalid argument: ",Bb=Ii+"Exponent out of range: ",$u=Math.floor,ho=Math.pow,$2e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hr,Cn=1e7,zt=7,_F=9007199254740991,Hm=$u(_F/zt),Ne={};Ne.absoluteValue=Ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ne.comparedTo=Ne.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ne.dividedBy=Ne.div=function(t){return f0(this,new this.constructor(t))};Ne.dividedToIntegerBy=Ne.idiv=function(t){var e=this,n=e.constructor;return Ot(f0(e,new n(t),0,1),n.precision)};Ne.equals=Ne.eq=function(t){return!this.cmp(t)};Ne.exponent=function(){return yn(this)};Ne.greaterThan=Ne.gt=function(t){return this.cmp(t)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(t){return this.cmp(t)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(t){return this.cmp(t)<0};Ne.lessThanOrEqualTo=Ne.lte=function(t){return this.cmp(t)<1};Ne.logarithm=Ne.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Hr))throw Error(Ii+"NaN");if(n.s<1)throw Error(Ii+(n.s?"NaN":"-Infinity"));return n.eq(Hr)?new r(0):(Gt=!1,e=f0(hh(n,a),hh(t,a),a),Gt=!0,Ot(e,i))};Ne.minus=Ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kF(e,t):SF(e,(t.s=-t.s,t))};Ne.modulo=Ne.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ii+"NaN");return n.s?(Gt=!1,e=f0(n,t,0,1).times(t),Gt=!0,n.minus(e)):Ot(new r(n),i)};Ne.naturalExponential=Ne.exp=function(){return EF(this)};Ne.naturalLogarithm=Ne.ln=function(){return hh(this)};Ne.negated=Ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ne.plus=Ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SF(e,t):kF(e,(t.s=-t.s,t))};Ne.precision=Ne.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ro+t);if(e=yn(i)+1,r=i.d.length-1,n=r*zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ne.squareRoot=Ne.sqrt=function(){var t,e,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ii+"NaN")}for(t=yn(o),Gt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ba(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=$u((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(f0(o,a,s+2)).times(.5),ba(a.d).slice(0,s)===(e=ba(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ot(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return Gt=!0,Ot(r,n)};Ne.times=Ne.mul=function(t){var e,n,r,i,a,s,o,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=a[i]+p[r]*h[i-r-1]+e,a[i--]=o%Cn|0,e=o/Cn|0;a[i]=(a[i]+e)%Cn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Gt?Ot(t,d.precision):t};Ne.toDecimalPlaces=Ne.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ma(t,0,Mu),e===void 0?e=r.rounding:Ma(e,0,8),Ot(n,t+yn(n)+1,e))};Ne.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Jo(r,!0):(Ma(t,0,Mu),e===void 0?e=i.rounding:Ma(e,0,8),r=Ot(new i(r),t+1,e),n=Jo(r,!0,t+1)),n};Ne.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Jo(i):(Ma(t,0,Mu),e===void 0?e=a.rounding:Ma(e,0,8),r=Ot(new a(i),t+yn(i)+1,e),n=Jo(r.abs(),!1,t+yn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ne.toInteger=Ne.toint=function(){var t=this,e=t.constructor;return Ot(new e(t),yn(t)+1,e.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(t){var e,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Hr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ii+"Infinity");return o}if(o.eq(Hr))return o;if(r=l.precision,t.eq(Hr))return Ot(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=u<0?-u:u)<=_F){for(i=new l(Hr),e=Math.ceil(r/zt+4),Gt=!1;n%2&&(i=i.times(o),yN(i.d,e)),n=$u(n/2),n!==0;)o=o.times(o),yN(o.d,e);return Gt=!0,t.s<0?new l(Hr).div(i):Ot(i,r)}}else if(a<0)throw Error(Ii+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Gt=!1,i=t.times(hh(o,r+c)),Gt=!0,i=EF(i),i.s=a,i};Ne.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=yn(i),r=Jo(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ma(t,1,Mu),e===void 0?e=a.rounding:Ma(e,0,8),i=Ot(new a(i),t,e),n=yn(i),r=Jo(i,t<=n||n<=a.toExpNeg,t)),r};Ne.toSignificantDigits=Ne.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ma(t,1,Mu),e===void 0?e=r.rounding:Ma(e,0,8)),Ot(new r(n),t,e)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=yn(t),n=t.constructor;return Jo(t,e<=n.toExpNeg||e>=n.toExpPos)};function SF(t,e){var n,r,i,a,s,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Gt?Ot(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(d/zt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Cn|0,l[a]%=Cn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Gt?Ot(e,d):e}function Ma(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ro+t)}function ba(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=zt-r.length,n&&(a+=H0(n)),a+=r;s=t[e],r=s+"",n=zt-r.length,n&&(a+=H0(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var f0=function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Cn|0,s=a/Cn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Cn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,d,h,p,g,x,y,v,b,w,_,S,P,E,k,N=r.constructor,I=r.s==i.s?1:-1,A=r.d,j=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Ii+"Division by zero");for(l=r.e-i.e,E=j.length,S=A.length,p=new N(I),g=p.d=[],c=0;j[c]==(A[c]||0);)++c;if(j[c]>(A[c]||0)&&--l,a==null?b=a=N.precision:s?b=a+(yn(r)-yn(i))+1:b=a,b<0)return new N(0);if(b=b/zt+2|0,c=0,E==1)for(u=0,j=j[0],b++;(c<S||u)&&b--;c++)w=u*Cn+(A[c]||0),g[c]=w/j|0,u=w%j|0;else{for(u=Cn/(j[0]+1)|0,u>1&&(j=t(j,u),A=t(A,u),E=j.length,S=A.length),_=E,x=A.slice(0,E),y=x.length;y<E;)x[y++]=0;k=j.slice(),k.unshift(0),P=j[0],j[1]>=Cn/2&&++P;do u=0,o=e(j,x,E,y),o<0?(v=x[0],E!=y&&(v=v*Cn+(x[1]||0)),u=v/P|0,u>1?(u>=Cn&&(u=Cn-1),d=t(j,u),h=d.length,y=x.length,o=e(d,x,h,y),o==1&&(u--,n(d,E<h?k:j,h))):(u==0&&(o=u=1),d=j.slice()),h=d.length,h<y&&d.unshift(0),n(x,d,y),o==-1&&(y=x.length,o=e(j,x,E,y),o<1&&(u++,n(x,E<y?k:j,y))),y=x.length):o===0&&(u++,x=[0]),g[c++]=u,o&&x[0]?x[y++]=A[_]||0:(x=[A[_]],y=1);while((_++<S||x[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Ot(p,s?a+yn(p)+1:a)}}();function EF(t,e){var n,r,i,a,s,o,l=0,c=0,u=t.constructor,d=u.precision;if(yn(t)>16)throw Error(Bb+yn(t));if(!t.s)return new u(Hr);for(Gt=!1,o=d,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(ho(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(Hr),u.precision=o;;){if(i=Ot(i.times(t),o),n=n.times(++l),s=a.plus(f0(i,n,o)),ba(s.d).slice(0,o)===ba(a.d).slice(0,o)){for(;c--;)a=Ot(a.times(a),o);return u.precision=d,e==null?(Gt=!0,Ot(a,d)):a}a=s}}function yn(t){for(var e=t.e*zt,n=t.d[0];n>=10;n/=10)e++;return e}function w6(t,e,n){if(e>t.LN10.sd())throw Gt=!0,n&&(t.precision=n),Error(Ii+"LN10 precision limit exceeded");return Ot(new t(t.LN10),e)}function H0(t){for(var e="";t--;)e+="0";return e}function hh(t,e){var n,r,i,a,s,o,l,c,u,d=1,h=10,p=t,g=p.d,x=p.constructor,y=x.precision;if(p.s<1)throw Error(Ii+(p.s?"NaN":"-Infinity"));if(p.eq(Hr))return new x(0);if(e==null?(Gt=!1,c=y):c=e,p.eq(10))return e==null&&(Gt=!0),w6(x,c);if(c+=h,x.precision=c,n=ba(g),r=n.charAt(0),a=yn(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=ba(p.d),r=n.charAt(0),d++;a=yn(p),r>1?(p=new x("0."+n),a++):p=new x(r+"."+n.slice(1))}else return l=w6(x,c+2,y).times(a+""),p=hh(new x(r+"."+n.slice(1)),c-h).plus(l),x.precision=y,e==null?(Gt=!0,Ot(p,y)):p;for(o=s=p=f0(p.minus(Hr),p.plus(Hr),c),u=Ot(p.times(p),c),i=3;;){if(s=Ot(s.times(u),c),l=o.plus(f0(s,new x(i),c)),ba(l.d).slice(0,c)===ba(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(w6(x,c+2,y).times(a+""))),o=f0(o,new x(d),c),x.precision=y,e==null?(Gt=!0,Ot(o,y)):o;o=l,i+=2}}function gN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=$u(n/zt),t.d=[],r=(n+1)%zt,n<0&&(r+=zt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=zt;r<i;)t.d.push(+e.slice(r,r+=zt));e=e.slice(r),r=zt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Gt&&(t.e>Hm||t.e<-Hm))throw Error(Bb+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ot(t,e,n){var r,i,a,s,o,l,c,u,d=t.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=zt,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/zt),a=d.length,u>=a)return t;for(c=a=d[u],s=1;a>=10;a/=10)s++;r%=zt,i=r-zt+s}if(n!==void 0&&(a=ho(10,s-i-1),o=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/ho(10,s-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=yn(t),d.length=1,e=e-a-1,d[0]=ho(10,(zt-e%zt)%zt),t.e=$u(-e/zt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=ho(10,zt-r),d[u]=i>0?(c/ho(10,s-i)%ho(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==Cn&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=Cn)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Gt&&(t.e>Hm||t.e<-Hm))throw Error(Bb+yn(t));return t}function kF(t,e){var n,r,i,a,s,o,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Gt?Ot(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(p/zt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Cn-1;--l[a],l[i]+=Cn}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Gt?Ot(e,p):e):new h(0)}function Jo(t,e,n){var r,i=yn(t),a=ba(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+H0(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+H0(-i-1)+a,n&&(r=n-s)>0&&(a+=H0(r))):i>=s?(a+=H0(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+H0(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=H0(r))),t.s<0?"-"+a:a}function yN(t,e){if(t.length>e)return t.length=e,!0}function PF(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ro+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return gN(s,a.toString())}else if(typeof a!="string")throw Error(Ro+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,$2e.test(a))gN(s,a);else throw Error(Ro+a)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=PF,i.config=i.set=D2e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function D2e(t){if(!t||typeof t!="object")throw Error(Ii+"Object expected");var e,n,r,i=["precision",1,Mu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if($u(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ro+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ro+n+": "+r);return this}var zb=PF(M2e);Hr=new zb(1);const Tt=zb;function L2e(t){return B2e(t)||U2e(t)||V2e(t)||F2e()}function F2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V2e(t,e){if(t){if(typeof t=="string")return nv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nv(t,e)}}function U2e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function B2e(t){if(Array.isArray(t))return nv(t)}function nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var z2e=function(e){return e},TF={},NF=function(e){return e===TF},vN=function(e){return function n(){return arguments.length===0||arguments.length===1&&NF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},q2e=function t(e,n){return e===1?n:vN(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==TF}).length;return s>=e?n.apply(void 0,i):t(e-s,vN(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return NF(d)?l.shift():d});return n.apply(void 0,L2e(u).concat(l))}))})},A2=function(e){return q2e(e.length,e)},rv=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},W2e=A2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),H2e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return z2e;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},iv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},AF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(o,l){return o===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function G2e(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function K2e(t,e,n){for(var r=new Tt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Y2e=A2(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Q2e=A2(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),X2e=A2(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const I2={rangeStep:K2e,getDigitCount:G2e,interpolateNumber:Y2e,uninterpolateNumber:Q2e,uninterpolateTruncation:X2e};function av(t){return e5e(t)||Z2e(t)||IF(t)||J2e()}function J2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z2e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function e5e(t){if(Array.isArray(t))return sv(t)}function ph(t,e){return r5e(t)||n5e(t,e)||IF(t,e)||t5e()}function t5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IF(t,e){if(t){if(typeof t=="string")return sv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sv(t,e)}}function sv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function r5e(t){if(Array.isArray(t))return t}function CF(t){var e=ph(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function OF(t,e,n){if(t.lte(0))return new Tt(0);var r=I2.getDigitCount(t.toNumber()),i=new Tt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Tt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return e?l:new Tt(Math.ceil(l))}function i5e(t,e,n){var r=1,i=new Tt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Tt(10).pow(I2.getDigitCount(t)-1),i=new Tt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Tt(Math.floor(t)))}else t===0?i=new Tt(Math.floor((e-1)/2)):n||(i=new Tt(Math.floor(t)));var s=Math.floor((e-1)/2),o=H2e(W2e(function(l){return i.add(new Tt(l-s).mul(r)).toNumber()}),rv);return o(0,e)}function jF(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var a=OF(new Tt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Tt(0):(s=new Tt(t).add(e).div(2),s=s.sub(new Tt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Tt(e).sub(s).div(a).toNumber()),c=o+l+1;return c>n?jF(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:a,tickMin:s.sub(new Tt(o).mul(a)),tickMax:s.add(new Tt(l).mul(a))})}function a5e(t){var e=ph(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=CF([n,r]),l=ph(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(av(rv(0,i-1).map(function(){return 1/0}))):[].concat(av(rv(0,i-1).map(function(){return-1/0})),[u]);return n>r?iv(d):d}if(c===u)return i5e(c,i,a);var h=jF(c,u,s,a),p=h.step,g=h.tickMin,x=h.tickMax,y=I2.rangeStep(g,x.add(new Tt(.1).mul(p)),p);return n>r?iv(y):y}function s5e(t,e){var n=ph(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=CF([r,i]),o=ph(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=OF(new Tt(c).sub(l).div(u-1),a,0),h=[].concat(av(I2.rangeStep(new Tt(l),new Tt(c).sub(new Tt(.99).mul(d)),d)),[c]);return r>i?iv(h):h}var o5e=AF(a5e),l5e=AF(s5e),c5e="Invariant failed";function Zo(t,e){throw new Error(c5e)}var u5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gm.apply(this,arguments)}function d5e(t,e){return m5e(t)||p5e(t,e)||h5e(t,e)||f5e()}function f5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h5e(t,e){if(t){if(typeof t=="string")return xN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xN(t,e)}}function xN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function m5e(t){if(Array.isArray(t))return t}function g5e(t,e){if(t==null)return{};var n=y5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$F(r.key),r)}}function b5e(t,e,n){return e&&x5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w5e(t,e,n){return e=Km(e),_5e(t,RF()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function _5e(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S5e(t)}function S5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RF=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function E5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ov(t,e)}function MF(t,e,n){return e=$F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $F(t){var e=k5e(t,"string");return qc(e)=="symbol"?e:e+""}function k5e(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C2=function(t){function e(){return v5e(this,e),w5e(this,e,arguments)}return E5e(e,t),b5e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,h=g5e(r,u5e),p=nt(h,!1);this.props.direction==="x"&&u.type!=="number"&&Zo();var g=l.map(function(x){var y=c(x,o),v=y.x,b=y.y,w=y.value,_=y.errorVal;if(!_)return null;var S=[],P,E;if(Array.isArray(_)){var k=d5e(_,2);P=k[0],E=k[1]}else P=E=_;if(a==="vertical"){var N=u.scale,I=b+i,A=I+s,j=I-s,O=N(w-P),$=N(w+E);S.push({x1:$,y1:A,x2:$,y2:j}),S.push({x1:O,y1:I,x2:$,y2:I}),S.push({x1:O,y1:A,x2:O,y2:j})}else if(a==="horizontal"){var M=d.scale,D=v+i,V=D-s,F=D+s,U=M(w-P),H=M(w+E);S.push({x1:V,y1:H,x2:F,y2:H}),S.push({x1:D,y1:U,x2:D,y2:H}),S.push({x1:V,y1:U,x2:F,y2:U})}return B.createElement(Qt,Gm({className:"recharts-errorBar",key:"bar-".concat(S.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},p),S.map(function(G){return B.createElement("line",Gm({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return B.createElement(Qt,{className:"recharts-errorBars"},g)}}])}(B.Component);MF(C2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});MF(C2,"displayName","ErrorBar");function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){P5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P5e(t,e,n){return e=T5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5e(t){var e=N5e(t,"string");return mh(e)=="symbol"?e:e+""}function N5e(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=zr(n,gc);if(!s)return null;var o=gc.defaultProps,l=o!==void 0?io(io({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(x){return{type:s.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?io(io({},h),d.props):{},g=p.dataKey,x=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:g,type:l.iconType||y||"square",color:qb(d),value:x||g,payload:p}}),io(io(io({},l),gc.getWithHeight(s,i)),{},{payload:c,item:s})};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function wN(t){return O5e(t)||C5e(t)||I5e(t)||A5e()}function A5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I5e(t,e){if(t){if(typeof t=="string")return lv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lv(t,e)}}function C5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O5e(t){if(Array.isArray(t))return lv(t)}function lv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){vc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vc(t,e,n){return e=j5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j5e(t){var e=R5e(t,"string");return gh(e)=="symbol"?e:e+""}function R5e(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ti(t,e,n){return lt(t)||lt(e)?n:Sn(e)?ki(t,e,n):Qe(e)?e(t):n}function gf(t,e,n,r){var i=C2e(t,function(o){return ti(o,e)});if(n==="number"){var a=i.filter(function(o){return ye(o)||parseFloat(o)});return a.length?[N2(a),as(a)]:[1/0,-1/0]}var s=r?i.filter(function(o){return!lt(o)}):i;return s.map(function(o){return Sn(o)||o instanceof Date?o:""})}var M5e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,h=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Wi(d-u)!==Wi(h-d)){var g=[];if(Wi(h-d)===Wi(l[1]-l[0])){p=h;var x=d+l[1]-l[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{p=u;var y=h+l[1]-l[0];g[0]=Math.min(d,(y+d)/2),g[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){s=i[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(e>(b+d)/2&&e<=(w+d)/2){s=i[c].index;break}}}else for(var _=0;_<o;_++)if(_===0&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<o-1&&e>(r[_].coordinate+r[_-1].coordinate)/2&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_===o-1&&e>(r[_].coordinate+r[_-1].coordinate)/2){s=r[_].index;break}return s},qb=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},$5e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],x=g.items,y=g.cateAxisId,v=x.filter(function(E){return u0(E.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,w=b!==void 0?sn(sn({},b),v[0].props):v[0].props,_=w.barSize,S=w[y];s[S]||(s[S]=[]);var P=lt(_)?n:_;s[S].push({item:v[0],stackList:v.slice(1),barSize:lt(P)?void 0:Xo(P,r,0)})}}return s},D5e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var c=Xo(n,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,g=s.reduce(function(_,S){return _+S.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var x=(i-g)/2>>0,y={offset:x-c,size:0};u=s.reduce(function(_,S){var P={item:S.item,position:{offset:y.offset+y.size+c,size:h?p:S.barSize}},E=[].concat(wN(_),[P]);return y=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){E.push({item:k,position:y})}),E},d)}else{var v=Xo(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var b=(i-2*v-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(_,S,P){var E=[].concat(wN(_),[{item:S.item,position:{offset:v+(b+c)*P+(b-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){E.push({item:k,position:E[E.length-1].position})}),E},d)}return u},L5e=function(e,n,r,i){var a=r.children,s=r.width,o=r.margin,l=s-(o.left||0)-(o.right||0),c=DF({children:a,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&g==="middle")&&p!=="center"&&ye(e[p]))return sn(sn({},e),{},vc({},p,e[p]+(d||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&g!=="middle"&&ye(e[g]))return sn(sn({},e),{},vc({},g,e[g]+(h||0)))}return e},F5e=function(e,n,r){return lt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},LF=function(e,n,r,i,a){var s=n.props.children,o=ea(s,C2).filter(function(c){return F5e(i,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=ti(u,r);if(lt(d))return c;var h=Array.isArray(d)?[N2(d),as(d)]:[d,d],p=l.reduce(function(g,x){var y=ti(u,x,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},V5e=function(e,n,r,i,a){var s=n.map(function(o){return LF(e,o,r,a,i)}).filter(function(o){return!lt(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},FF=function(e,n,r,i,a){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&LF(e,l,c,i)||gf(e,c,r,a)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},VF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},UF=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate});return a||o.push(n),s||o.push(r),o},i0=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Wi(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!Au(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:a?a[d]:d,index:h,offset:c}})},_6=new WeakMap,bp=function(e,n){if(typeof n!="function")return e;_6.has(e)||_6.set(e,new WeakMap);var r=_6.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},U5e=function(e,n,r){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:sh(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:dh(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:mf(),realScaleType:"point"}:a==="category"?{scale:sh(),realScaleType:"band"}:{scale:dh(),realScaleType:"linear"};if(Qo(i)){var l="scale".concat(m2(i));return{scale:(mN[l]||mf)(),realScaleType:mN[l]?l:"point"}}return Qe(i)?{scale:i}:{scale:mf(),realScaleType:"point"}},SN=1e-4,B5e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-SN,s=Math.max(i[0],i[1])+SN,o=e(n[0]),l=e(n[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([n[0],n[r-1]])}},z5e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},q5e=function(e,n){if(!n||n.length!==2||!ye(n[0])||!ye(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ye(e[0])||e[0]<r)&&(a[0]=r),(!ye(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},W5e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0,o=0;o<n;++o){var l=Au(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},H5e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var o=Au(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},G5e={sign:W5e,expand:sle,none:$c,silhouette:ole,wiggle:lle,positive:H5e},K5e=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),a=G5e[r],s=ale().keys(i).value(function(o,l){return+ti(o,l,0)}).order(j7).offset(a);return s(e)},Y5e=function(e,n,r,i,a,s){if(!e)return null;var o=s?n.reverse():n,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?sn(sn({},h.type.defaultProps),h.props):h.props,x=g.stackId,y=g.hide;if(y)return d;var v=g[r],b=d[v]||{hasStack:!1,stackGroups:{}};if(Sn(x)){var w=b.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[x]=w}else b.stackGroups[p4("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return sn(sn({},d),{},vc({},v,b))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,y){var v=p.stackGroups[y];return sn(sn({},x),{},vc({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:K5e(e,v.items,a)}))},g)}return sn(sn({},d),{},vc({},h,p))},u)},Q5e=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=o5e(c,a,o);return e.domain([N2(u),as(u)]),{niceTicks:u}}if(a&&i==="number"){var d=e.domain(),h=l5e(d,a,o);return{niceTicks:h}}return null};function EN(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!lt(i[e.dataKey])){var o=xm(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ti(i,lt(s)?e.dataKey:s);return lt(l)?null:e.scale(l)}var kN=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=ti(s,n.dataKey,n.domain[o]);return lt(l)?null:n.scale(l)-a/2+i},X5e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},J5e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Sn(a)){var s=n[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},Z5e=function(e){return e.reduce(function(n,r){return[N2(r.concat([n[0]]).filter(ye)),as(r.concat([n[1]]).filter(ye))]},[1/0,-1/0])},BF=function(e,n,r){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(c,u){var d=Z5e(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},PN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cv=function(e,n,r){if(Qe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ye(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(PN.test(e[0])){var a=+PN.exec(e[0])[1];i[0]=n[0]-a}else Qe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ye(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(TN.test(e[1])){var s=+TN.exec(e[1])[1];i[1]=n[1]+s}else Qe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Ym=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=vb(n,function(d){return d.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},NN=function(e,n,r){return!e||!e.length||fh(e,ki(r,"type.defaultProps.domain"))?n:e},zF=function(e,n){var r=e.type.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,s=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return sn(sn({},nt(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:qb(e),value:ti(n,i),type:l,payload:n,chartType:c,hide:u})};function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){e6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e6e(t,e,n){return e=t6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t6e(t){var e=n6e(t,"string");return yh(e)=="symbol"?e:e+""}function n6e(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qm=Math.PI/180,r6e=function(e){return e*180/Math.PI},Bn=function(e,n,r,i){return{x:e+Math.cos(-Qm*i)*r,y:n+Math.sin(-Qm*i)*r}},i6e=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},a6e=function(e,n){var r=e.x,i=e.y,a=n.cx,s=n.cy,o=i6e({x:r,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:o,angle:r6e(c),angleInRadian:c}},s6e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},o6e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},CN=function(e,n){var r=e.x,i=e.y,a=a6e({x:r,y:i},n),s=a.radius,o=a.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=s6e(n),d=u.startAngle,h=u.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?IN(IN({},n),{},{radius:s,angle:o6e(p,n)}):null};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}var l6e=["offset"];function c6e(t){return h6e(t)||f6e(t)||d6e(t)||u6e()}function u6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d6e(t,e){if(t){if(typeof t=="string")return uv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uv(t,e)}}function f6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h6e(t){if(Array.isArray(t))return uv(t)}function uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p6e(t,e){if(t==null)return{};var n=m6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){g6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g6e(t,e,n){return e=y6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y6e(t){var e=v6e(t,"string");return vh(e)=="symbol"?e:e+""}function v6e(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xh(){return xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xh.apply(this,arguments)}var x6e=function(e){var n=e.value,r=e.formatter,i=lt(e.children)?n:e.children;return Qe(r)?r(i):i},b6e=function(e,n){var r=Wi(n-e),i=Math.min(Math.abs(n-e),360);return r*i},w6e=function(e,n,r){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,x=l.clockWise,y=(d+h)/2,v=b6e(p,g),b=v>=0?1:-1,w,_;i==="insideStart"?(w=p+b*s,_=x):i==="insideEnd"?(w=g-b*s,_=!x):i==="end"&&(w=g+b*s,_=x),_=v<=0?_:!_;var S=Bn(c,u,y,w),P=Bn(c,u,y,w+(_?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),k=lt(e.id)?p4("recharts-radial-line-"):e.id;return B.createElement("text",xh({},r,{dominantBaseline:"central",className:mt("recharts-radial-bar-label",o)}),B.createElement("defs",null,B.createElement("path",{id:k,d:E})),B.createElement("textPath",{xlinkHref:"#".concat(k)},n))},_6e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,s=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,h=(u+d)/2;if(i==="outside"){var p=Bn(s,o,c+r,h),g=p.x,x=p.y;return{x:g,y:x,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=Bn(s,o,y,h),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},S6e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,s=n,o=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*i,p=d>0?"end":"start",g=d>0?"start":"end",x=c>=0?1:-1,y=x*i,v=x>0?"end":"start",b=x>0?"start":"end";if(a==="top"){var w={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return bn(bn({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var _={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return bn(bn({},_),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var S={x:o-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return bn(bn({},S),r?{width:Math.max(S.x-r.x,0),height:u}:{})}if(a==="right"){var P={x:o+c+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return bn(bn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:u}:{})}var E=r?{width:c,height:u}:{};return a==="insideLeft"?bn({x:o+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideRight"?bn({x:o+c-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},E):a==="insideTop"?bn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):a==="insideBottom"?bn({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?bn({x:o+y,y:l+h,textAnchor:b,verticalAnchor:g},E):a==="insideTopRight"?bn({x:o+c-y,y:l+h,textAnchor:v,verticalAnchor:g},E):a==="insideBottomLeft"?bn({x:o+y,y:l+u-h,textAnchor:b,verticalAnchor:p},E):a==="insideBottomRight"?bn({x:o+c-y,y:l+u-h,textAnchor:v,verticalAnchor:p},E):ku(a)&&(ye(a.x)||So(a.x))&&(ye(a.y)||So(a.y))?bn({x:o+Xo(a.x,c),y:l+Xo(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):bn({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},E6e=function(e){return"cx"in e&&ye(e.cx)};function er(t){var e=t.offset,n=e===void 0?5:e,r=p6e(t,l6e),i=bn({offset:n},r),a=i.viewBox,s=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!a||lt(o)&&lt(l)&&!R.isValidElement(c)&&!Qe(c))return null;if(R.isValidElement(c))return R.cloneElement(c,i);var p;if(Qe(c)){if(p=R.createElement(c,i),R.isValidElement(p))return p}else p=x6e(i);var g=E6e(a),x=nt(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return w6e(i,p,x);var y=g?_6e(i):S6e(i);return B.createElement(Mm,xh({className:mt("recharts-label",d)},x,y,{breakAll:h}),p)}er.displayName="Label";var qF=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,p=e.top,g=e.left,x=e.width,y=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(ye(x)&&ye(y)){if(ye(d)&&ye(h))return{x:d,y:h,width:x,height:y};if(ye(p)&&ye(g))return{x:p,y:g,width:x,height:y}}return ye(d)&&ye(h)?{x:d,y:h,width:0,height:0}:ye(n)&&ye(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v}:e.viewBox?e.viewBox:{}},k6e=function(e,n){return e?e===!0?B.createElement(er,{key:"label-implicit",viewBox:n}):Sn(e)?B.createElement(er,{key:"label-implicit",viewBox:n,value:e}):R.isValidElement(e)?e.type===er?R.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(er,{key:"label-implicit",content:e,viewBox:n}):Qe(e)?B.createElement(er,{key:"label-implicit",content:e,viewBox:n}):ku(e)?B.createElement(er,xh({viewBox:n},e,{key:"label-implicit"})):null:null},P6e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=qF(e),s=ea(i,er).map(function(l,c){return R.cloneElement(l,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return s;var o=k6e(e.label,n||a);return[o].concat(c6e(s))};er.parseViewBox=qF;er.renderCallByParent=P6e;function T6e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var N6e=T6e;const A6e=jt(N6e);function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}var I6e=["valueAccessor"],C6e=["data","dataKey","clockWise","id","textBreakAll"];function O6e(t){return $6e(t)||M6e(t)||R6e(t)||j6e()}function j6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R6e(t,e){if(t){if(typeof t=="string")return dv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dv(t,e)}}function M6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $6e(t){if(Array.isArray(t))return dv(t)}function dv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){D6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D6e(t,e,n){return e=L6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L6e(t){var e=F6e(t,"string");return bh(e)=="symbol"?e:e+""}function F6e(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MN(t,e){if(t==null)return{};var n=V6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var U6e=function(e){return Array.isArray(e.value)?A6e(e.value):e.value};function ks(t){var e=t.valueAccessor,n=e===void 0?U6e:e,r=MN(t,I6e),i=r.data,a=r.dataKey,s=r.clockWise,o=r.id,l=r.textBreakAll,c=MN(r,C6e);return!i||!i.length?null:B.createElement(Qt,{className:"recharts-label-list"},i.map(function(u,d){var h=lt(a)?n(u,d):ti(u&&u.payload,a),p=lt(o)?{}:{id:"".concat(o,"-").concat(d)};return B.createElement(er,Xm({},nt(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:er.parseViewBox(lt(s)?u:RN(RN({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}ks.displayName="LabelList";function B6e(t,e){return t?t===!0?B.createElement(ks,{key:"labelList-implicit",data:e}):B.isValidElement(t)||Qe(t)?B.createElement(ks,{key:"labelList-implicit",data:e,content:t}):ku(t)?B.createElement(ks,Xm({data:e},t,{key:"labelList-implicit"})):null:null}function z6e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ea(r,ks).map(function(s,o){return R.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var a=B6e(t.label,e);return[a].concat(O6e(i))}ks.renderCallByParent=z6e;function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){q6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q6e(t,e,n){return e=W6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W6e(t){var e=H6e(t,"string");return wh(e)=="symbol"?e:e+""}function H6e(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G6e=function(e,n){var r=Wi(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},wp=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/Qm,h=c?a:a+s*d,p=Bn(n,r,u,h),g=Bn(n,r,i,h),x=c?a-s*d:a,y=Bn(n,r,u*Math.cos(d*Qm),x);return{center:p,circleTangency:g,lineTangency:y,theta:d}},WF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=G6e(s,o),c=s+l,u=Bn(n,r,a,s),d=Bn(n,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Bn(n,r,i,s),g=Bn(n,r,i,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},K6e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Wi(u-c),h=wp({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,x=h.theta,y=wp({cx:n,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),v=y.circleTangency,b=y.lineTangency,w=y.theta,_=l?Math.abs(c-u):Math.abs(c-u)-x-w;if(_<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):WF({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=wp({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=P.circleTangency,k=P.lineTangency,N=P.theta,I=wp({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=I.circleTangency,j=I.lineTangency,O=I.theta,$=l?Math.abs(c-u):Math.abs(c-u)-N-O;if($<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Y6e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HF=function(e){var n=DN(DN({},Y6e),e),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,h=n.className;if(s<a||u===d)return null;var p=mt("recharts-sector",h),g=s-a,x=Xo(o,g,0,!0),y;return x>0&&Math.abs(u-d)<360?y=K6e({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(x,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=WF({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),B.createElement("path",fv({},nt(n,!0),{className:p,d:y,role:"img"}))};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){Q6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q6e(t,e,n){return e=X6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X6e(t){var e=J6e(t,"string");return _h(e)=="symbol"?e:e+""}function J6e(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VN={curveBasisClosed:Koe,curveBasisOpen:Yoe,curveBasis:Goe,curveBumpX:joe,curveBumpY:Roe,curveLinearClosed:Qoe,curveLinear:y2,curveMonotoneX:Xoe,curveMonotoneY:Joe,curveNatural:Zoe,curveStep:ele,curveStepAfter:nle,curveStepBefore:tle},_p=function(e){return e.x===+e.x&&e.y===+e.y},md=function(e){return e.x},gd=function(e){return e.y},Z6e=function(e,n){if(Qe(e))return e;var r="curve".concat(m2(e));return(r==="curveMonotone"||r==="curveBump")&&n?VN["".concat(r).concat(n==="vertical"?"Y":"X")]:VN[r]||y2},eye=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Z6e(r,o),d=c?a.filter(function(x){return _p(x)}):a,h;if(Array.isArray(s)){var p=c?s.filter(function(x){return _p(x)}):s,g=d.map(function(x,y){return FN(FN({},x),{},{base:p[y]})});return o==="vertical"?h=fp().y(gd).x1(md).x0(function(x){return x.base.x}):h=fp().x(md).y1(gd).y0(function(x){return x.base.y}),h.defined(_p).curve(u),h(g)}return o==="vertical"&&ye(s)?h=fp().y(gd).x1(md).x0(s):ye(s)?h=fp().x(md).y1(gd).y0(s):h=HD().x(md).y(gd),h.defined(_p).curve(u),h(d)},yf=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?eye(e):i;return R.createElement("path",hv({},nt(e,!1),bm(e),{className:mt("recharts-curve",n),d:s,ref:a}))},GF={exports:{}},tye="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nye=tye,rye=nye;function KF(){}function YF(){}YF.resetWarningCache=KF;var iye=function(){function t(r,i,a,s,o,l){if(l!==rye){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YF,resetWarningCache:KF};return n.PropTypes=n,n};GF.exports=iye();var aye=GF.exports;const oe=jt(aye),{getOwnPropertyNames:sye,getOwnPropertySymbols:oye}=Object,{hasOwnProperty:lye}=Object.prototype;function S6(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Sp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,s=a.get(n),o=a.get(r);if(s&&o)return s===r&&o===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function cye(t){return t!=null?t[Symbol.toStringTag]:void 0}function UN(t){return sye(t).concat(oye(t))}const uye=Object.hasOwn||((t,e)=>lye.call(t,e));function xl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const dye="__v",fye="__o",hye="_owner",{getOwnPropertyDescriptor:BN,keys:zN}=Object;function pye(t,e){return t.byteLength===e.byteLength&&Jm(new Uint8Array(t),new Uint8Array(e))}function mye(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function gye(t,e){return t.byteLength===e.byteLength&&Jm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function yye(t,e){return xl(t.getTime(),e.getTime())}function vye(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function xye(t,e){return t===e}function qN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let s,o,l=0;for(;(s=a.next())&&!s.done;){const c=e.entries();let u=!1,d=0;for(;(o=c.next())&&!o.done;){if(i[d]){d++;continue}const h=s.value,p=o.value;if(n.equals(h[0],p[0],l,d,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const bye=xl;function wye(t,e,n){const r=zN(t);let i=r.length;if(zN(e).length!==i)return!1;for(;i-- >0;)if(!QF(t,e,n,r[i]))return!1;return!0}function yd(t,e,n){const r=UN(t);let i=r.length;if(UN(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=r[i],!QF(t,e,n,a)||(s=BN(t,a),o=BN(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function _ye(t,e){return xl(t.valueOf(),e.valueOf())}function Sye(t,e){return t.source===e.source&&t.flags===e.flags}function WN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(s.value,o.value,s.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Jm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Eye(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function QF(t,e,n,r){return(r===hye||r===fye||r===dye)&&(t.$$typeof||e.$$typeof)?!0:uye(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const kye="[object ArrayBuffer]",Pye="[object Arguments]",Tye="[object Boolean]",Nye="[object DataView]",Aye="[object Date]",Iye="[object Error]",Cye="[object Map]",Oye="[object Number]",jye="[object Object]",Rye="[object RegExp]",Mye="[object Set]",$ye="[object String]",Dye={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Lye="[object URL]",Fye=Object.prototype.toString;function Vye({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(y,v,b){if(y===v)return!0;if(y==null||v==null)return!1;const w=typeof y;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?o(y,v,b):w==="function"?a(y,v,b):!1;const _=y.constructor;if(_!==v.constructor)return!1;if(_===Object)return l(y,v,b);if(Array.isArray(y))return e(y,v,b);if(_===Date)return r(y,v,b);if(_===RegExp)return u(y,v,b);if(_===Map)return s(y,v,b);if(_===Set)return d(y,v,b);const S=Fye.call(y);if(S===Aye)return r(y,v,b);if(S===Rye)return u(y,v,b);if(S===Cye)return s(y,v,b);if(S===Mye)return d(y,v,b);if(S===jye)return typeof y.then!="function"&&typeof v.then!="function"&&l(y,v,b);if(S===Lye)return p(y,v,b);if(S===Iye)return i(y,v,b);if(S===Pye)return l(y,v,b);if(Dye[S])return h(y,v,b);if(S===kye)return t(y,v,b);if(S===Nye)return n(y,v,b);if(S===Tye||S===Oye||S===$ye)return c(y,v,b);if(g){let P=g[S];if(!P){const E=cye(y);E&&(P=g[E])}if(P)return P(y,v,b)}return!1}}function Uye({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:pye,areArraysEqual:n?yd:mye,areDataViewsEqual:gye,areDatesEqual:yye,areErrorsEqual:vye,areFunctionsEqual:xye,areMapsEqual:n?S6(qN,yd):qN,areNumbersEqual:bye,areObjectsEqual:n?yd:wye,arePrimitiveWrappersEqual:_ye,areRegExpsEqual:Sye,areSetsEqual:n?S6(WN,yd):WN,areTypedArraysEqual:n?S6(Jm,yd):Jm,areUrlsEqual:Eye,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Sp(r.areArraysEqual),a=Sp(r.areMapsEqual),s=Sp(r.areObjectsEqual),o=Sp(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return r}function Bye(t){return function(e,n,r,i,a,s,o){return t(e,n,o)}}function zye({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(o,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,l){return e(o,l,a)}}const qye=Xs();Xs({strict:!0});Xs({circular:!0});Xs({circular:!0,strict:!0});Xs({createInternalComparator:()=>xl});Xs({strict:!0,createInternalComparator:()=>xl});Xs({circular:!0,createInternalComparator:()=>xl});Xs({circular:!0,createInternalComparator:()=>xl,strict:!0});function Xs(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=Uye(t),s=Vye(a),o=n?n(s):Bye(s);return zye({circular:e,comparator:s,createState:r,equals:o,strict:i})}function Wye(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function HN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Wye(i)};requestAnimationFrame(r)}function pv(t){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}function Hye(t){return Qye(t)||Yye(t)||Kye(t)||Gye()}function Gye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kye(t,e){if(t){if(typeof t=="string")return GN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GN(t,e)}}function GN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qye(t){if(Array.isArray(t))return t}function Xye(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Hye(s),l=o[0],c=o.slice(1);if(typeof l=="number"){HN(i.bind(null,c),l);return}i(l),HN(i.bind(null,c));return}pv(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){XF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XF(t,e,n){return e=Jye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jye(t){var e=Zye(t,"string");return Sh(e)==="symbol"?e:String(e)}function Zye(t,e){if(Sh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e7e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},t7e=function(e){return e},n7e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},vf=function(e,n){return Object.keys(n).reduce(function(r,i){return YN(YN({},r),{},XF({},i,e(i,n[i])))},{})},QN=function(e,n,r){return e.map(function(i){return"".concat(n7e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function r7e(t,e){return s7e(t)||a7e(t,e)||JF(t,e)||i7e()}function i7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function s7e(t){if(Array.isArray(t))return t}function o7e(t){return u7e(t)||c7e(t)||JF(t)||l7e()}function l7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JF(t,e){if(t){if(typeof t=="string")return mv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mv(t,e)}}function c7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u7e(t){if(Array.isArray(t))return mv(t)}function mv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zm=1e-4,ZF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},eV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},XN=function(e,n){return function(r){var i=ZF(e,n);return eV(i,r)}},d7e=function(e,n){return function(r){var i=ZF(e,n),a=[].concat(o7e(i.map(function(s,o){return s*o}).slice(1)),[0]);return eV(a,r)}},JN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=r7e(c,4);i=u[0],a=u[1],s=u[2],o=u[3]}}}var d=XN(i,s),h=XN(a,o),p=d7e(i,s),g=function(v){return v>1?1:v<0?0:v},x=function(v){for(var b=v>1?1:v,w=b,_=0;_<8;++_){var S=d(w)-b,P=p(w);if(Math.abs(S-b)<Zm||P<Zm)return h(w);w=g(w-S/P)}return h(w)};return x.isStepper=!1,x},f7e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*r,g=h*a,x=h+(p-g)*o/1e3,y=h*o/1e3+u;return Math.abs(y-d)<Zm&&Math.abs(x)<Zm?[d,0]:[y,x]};return l.isStepper=!0,l.dt=o,l},h7e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JN(i);case"spring":return f7e();default:if(i.split("(")[0]==="cubic-bezier")return JN(i)}return typeof i=="function"?i:null};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function ZN(t){return g7e(t)||m7e(t)||tV(t)||p7e()}function p7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g7e(t){if(Array.isArray(t))return yv(t)}function eA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(n),!0).forEach(function(r){gv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gv(t,e,n){return e=y7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y7e(t){var e=v7e(t,"string");return Eh(e)==="symbol"?e:String(e)}function v7e(t,e){if(Eh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x7e(t,e){return _7e(t)||w7e(t,e)||tV(t,e)||b7e()}function b7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tV(t,e){if(t){if(typeof t=="string")return yv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yv(t,e)}}function yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function _7e(t){if(Array.isArray(t))return t}var e1=function(e,n,r){return e+(n-e)*r},vv=function(e){var n=e.from,r=e.to;return n!==r},S7e=function t(e,n,r){var i=vf(function(a,s){if(vv(s)){var o=e(s.from,s.to,s.velocity),l=x7e(o,2),c=l[0],u=l[1];return Dn(Dn({},s),{},{from:c,velocity:u})}return s},n);return r<1?vf(function(a,s){return vv(s)?Dn(Dn({},s),{},{velocity:e1(s.velocity,i[a].velocity,r),from:e1(s.from,i[a].from,r)}):s},n):t(e,i,r-1)};const E7e=function(t,e,n,r,i){var a=e7e(t,e),s=a.reduce(function(y,v){return Dn(Dn({},y),{},gv({},v,[t[v],e[v]]))},{}),o=a.reduce(function(y,v){return Dn(Dn({},y),{},gv({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return vf(function(v,b){return b.from},o)},p=function(){return!Object.values(o).filter(vv).length},g=function(v){c||(c=v);var b=v-c,w=b/n.dt;o=S7e(n,o,w),i(Dn(Dn(Dn({},t),e),h())),c=v,p()||(l=requestAnimationFrame(d))},x=function(v){u||(u=v);var b=(v-u)/r,w=vf(function(S,P){return e1.apply(void 0,ZN(P).concat([n(b)]))},s);if(i(Dn(Dn(Dn({},t),e),w)),b<1)l=requestAnimationFrame(d);else{var _=vf(function(S,P){return e1.apply(void 0,ZN(P).concat([n(1)]))},s);i(Dn(Dn(Dn({},t),e),_))}};return d=n.isStepper?g:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}var k7e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function P7e(t,e){if(t==null)return{};var n=T7e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T7e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function E6(t){return C7e(t)||I7e(t)||A7e(t)||N7e()}function N7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7e(t,e){if(t){if(typeof t=="string")return xv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xv(t,e)}}function I7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C7e(t){if(Array.isArray(t))return xv(t)}function xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tA(Object(n),!0).forEach(function(r){Md(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Md(t,e,n){return e=nV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nV(r.key),r)}}function R7e(t,e,n){return e&&j7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nV(t){var e=M7e(t,"string");return Wc(e)==="symbol"?e:String(e)}function M7e(t,e){if(Wc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bv(t,e)}function bv(t,e){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bv(t,e)}function D7e(t){var e=L7e();return function(){var r=t1(t),i;if(e){var a=t1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return wv(this,i)}}function wv(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _v(t)}function _v(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t1(t){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t1(t)}var E0=function(t){$7e(n,t);var e=D7e(n);function n(r,i){var a;O7e(this,n),a=e.call(this,r,i);var s=a.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(_v(a)),a.changeStyle=a.changeStyle.bind(_v(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),wv(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof h=="function")return a.state={style:c},wv(a);a.state={style:l?Md({},l,c):c}}else a.state={style:{}};return a}return R7e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Md({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(qye(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||c?d:i.to;if(this.state&&h){var y={style:l?Md({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(y)}this.runAnimation($i($i({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=E7e(s,o,h7e(c),l,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(x,y,v){if(v===0)return x;var b=y.duration,w=y.easing,_=w===void 0?"ease":w,S=y.style,P=y.properties,E=y.onAnimationEnd,k=v>0?s[v-1]:y,N=P||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(E6(x),[a.runJSAnimation.bind(a,{from:k.style,to:S,duration:b,easing:_}),b]);var I=QN(N,b,_),A=$i($i($i({},k.style),S),{},{transition:I});return[].concat(E6(x),[A,b,E]).filter(t7e)};return this.manager.start([l].concat(E6(s.reduce(p,[u,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Xye());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=o?Md({},o,l):l,y=QN(Object.keys(x),s,c);g.start([u,a,$i($i({},x),{},{transition:y}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=P7e(i,k7e),c=R.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||s<=0)return a;var d=function(p){var g=p.props,x=g.style,y=x===void 0?{}:x,v=g.className,b=R.cloneElement(p,$i($i({},l),{},{style:$i($i({},y),u),className:v}));return b};return c===1?d(R.Children.only(a)):B.createElement("div",null,R.Children.map(a,function(h){return d(h)}))}}]),n}(R.PureComponent);E0.displayName="Animate";E0.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};E0.propTypes={from:oe.oneOfType([oe.object,oe.string]),to:oe.oneOfType([oe.object,oe.string]),attributeName:oe.string,duration:oe.number,begin:oe.number,easing:oe.oneOfType([oe.string,oe.func]),steps:oe.arrayOf(oe.shape({duration:oe.number.isRequired,style:oe.object.isRequired,easing:oe.oneOfType([oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),oe.func]),properties:oe.arrayOf("string"),onAnimationEnd:oe.func})),children:oe.oneOfType([oe.node,oe.func]),isActive:oe.bool,canBegin:oe.bool,onAnimationEnd:oe.func,shouldReAnimate:oe.bool,onAnimationStart:oe.func,onAnimationReStart:oe.func};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function n1(){return n1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n1.apply(this,arguments)}function F7e(t,e){return z7e(t)||B7e(t,e)||U7e(t,e)||V7e()}function V7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U7e(t,e){if(t){if(typeof t=="string")return nA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nA(t,e)}}function nA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function z7e(t){if(Array.isArray(t))return t}function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(r){q7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q7e(t,e,n){return e=W7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W7e(t){var e=H7e(t,"string");return kh(e)=="symbol"?e:e+""}function H7e(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aA=function(e,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>s?s:a[h];u="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),u+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);u="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*g," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},G7e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,s=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=c&&r<=u&&i>=d&&i<=h}return!1},K7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wb=function(e){var n=iA(iA({},K7e),e),r=R.useRef(),i=R.useState(-1),a=F7e(i,2),s=a[0],o=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,h=n.radius,p=n.className,g=n.animationEasing,x=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=mt("recharts-rectangle",p);return b?B.createElement(E0,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:x,animationEasing:g,isActive:b},function(_){var S=_.width,P=_.height,E=_.x,k=_.y;return B.createElement(E0,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:v,easing:g},B.createElement("path",n1({},nt(n,!0),{className:w,d:aA(E,k,S,P,h),ref:r})))}):B.createElement("path",n1({},nt(n,!0),{className:w,d:aA(l,c,u,d,h)}))};function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}var Hb=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,s=mt("recharts-dot",a);return n===+n&&r===+r&&i===+i?R.createElement("circle",Sv({},nt(e,!1),bm(e),{className:s,cx:n,cy:r,r:i})):null};function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}var Y7e=["x","y","top","left","width","height","className"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}function sA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q7e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(n),!0).forEach(function(r){X7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X7e(t,e,n){return e=J7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J7e(t){var e=Z7e(t,"string");return Ph(e)=="symbol"?e:e+""}function Z7e(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eve(t,e){if(t==null)return{};var n=tve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nve=function(e,n,r,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},rve=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,p=h===void 0?0:h,g=e.className,x=eve(e,Y7e),y=Q7e({x:r,y:a,top:o,left:c,width:d,height:p},x);return!ye(r)||!ye(a)||!ye(d)||!ye(p)||!ye(o)||!ye(c)?null:B.createElement("path",Ev({},nt(y,!0),{className:mt("recharts-cross",g),d:nve(r,a,d,p,o,c)}))},ive=gL,ave=ive(Object.getPrototypeOf,Object),sve=ave,ove=I0,lve=sve,cve=C0,uve="[object Object]",dve=Function.prototype,fve=Object.prototype,rV=dve.toString,hve=fve.hasOwnProperty,pve=rV.call(Object);function mve(t){if(!cve(t)||ove(t)!=uve)return!1;var e=lve(t);if(e===null)return!0;var n=hve.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&rV.call(n)==pve}var gve=mve;const yve=jt(gve);var vve=I0,xve=C0,bve="[object Boolean]";function wve(t){return t===!0||t===!1||xve(t)&&vve(t)==bve}var _ve=wve;const Sve=jt(_ve);function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r1.apply(this,arguments)}function Eve(t,e){return Nve(t)||Tve(t,e)||Pve(t,e)||kve()}function kve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pve(t,e){if(t){if(typeof t=="string")return oA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oA(t,e)}}function oA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Nve(t){if(Array.isArray(t))return t}function lA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(n),!0).forEach(function(r){Ave(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ave(t,e,n){return e=Ive(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ive(t){var e=Cve(t,"string");return Th(e)=="symbol"?e:e+""}function Cve(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uA=function(e,n,r,i,a){var s=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-s/2,",").concat(n+a),o+="L ".concat(e+r-s/2-i,",").concat(n+a),o+="L ".concat(e,",").concat(n," Z"),o},Ove={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jve=function(e){var n=cA(cA({},Ove),e),r=R.useRef(),i=R.useState(-1),a=Eve(i,2),s=a[0],o=a[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,x=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var b=mt("recharts-trapezoid",p);return v?B.createElement(E0,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:x,animationEasing:g,isActive:v},function(w){var _=w.upperWidth,S=w.lowerWidth,P=w.height,E=w.x,k=w.y;return B.createElement(E0,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:g},B.createElement("path",r1({},nt(n,!0),{className:b,d:uA(E,k,_,S,P),ref:r})))}):B.createElement("g",null,B.createElement("path",r1({},nt(n,!0),{className:b,d:uA(l,c,u,d,h)})))},Rve=["option","shapeType","propTransformer","activeClassName","isActive"];function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Mve(t,e){if(t==null)return{};var n=$ve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(n),!0).forEach(function(r){Dve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dve(t,e,n){return e=Lve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lve(t){var e=Fve(t,"string");return Nh(e)=="symbol"?e:e+""}function Fve(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vve(t,e){return i1(i1({},e),t)}function Uve(t,e){return t==="symbols"}function fA(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(Wb,n);case"trapezoid":return B.createElement(jve,n);case"sector":return B.createElement(HF,n);case"symbols":if(Uve(e))return B.createElement(ub,n);break;default:return null}}function Bve(t){return R.isValidElement(t)?t.props:t}function zve(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Vve:r,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=Mve(t,Rve),c;if(R.isValidElement(e))c=R.cloneElement(e,i1(i1({},l),Bve(e)));else if(Qe(e))c=e(l);else if(yve(e)&&!Sve(e)){var u=i(e,l);c=B.createElement(fA,{shapeType:n,elementProps:u})}else{var d=l;c=B.createElement(fA,{shapeType:n,elementProps:d})}return o?B.createElement(Qt,{className:s},c):c}function O2(t,e){return e!=null&&"trapezoids"in t.props}function j2(t,e){return e!=null&&"sectors"in t.props}function Ah(t,e){return e!=null&&"points"in t.props}function qve(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Wve(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Hve(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Gve(t,e){var n;return O2(t,e)?n=qve:j2(t,e)?n=Wve:Ah(t,e)&&(n=Hve),n}function Kve(t,e){var n;return O2(t,e)?n="trapezoids":j2(t,e)?n="sectors":Ah(t,e)&&(n="points"),n}function Yve(t,e){if(O2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(j2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Ah(t,e)?e.payload:{}}function Qve(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Kve(n,e),a=Yve(n,e),s=r.filter(function(l,c){var u=fh(a,l),d=n.props[i].filter(function(g){var x=Gve(n,e);return x(g,e)}),h=n.props[i].indexOf(d[d.length-1]),p=c===h;return u&&p}),o=r.indexOf(s[s.length-1]);return o}var Xve=Math.ceil,Jve=Math.max;function Zve(t,e,n,r){for(var i=-1,a=Jve(Xve((e-t)/(n||1)),0),s=Array(a);a--;)s[r?a:++i]=t,t+=n;return s}var e9e=Zve,t9e=ML,hA=1/0,n9e=17976931348623157e292;function r9e(t){if(!t)return t===0?t:0;if(t=t9e(t),t===hA||t===-hA){var e=t<0?-1:1;return e*n9e}return t===t?t:0}var iV=r9e,i9e=e9e,a9e=w2,k6=iV;function s9e(t){return function(e,n,r){return r&&typeof r!="number"&&a9e(e,n,r)&&(n=r=void 0),e=k6(e),n===void 0?(n=e,e=0):n=k6(n),r=r===void 0?e<n?1:-1:k6(r),i9e(e,n,r,t)}}var o9e=s9e,l9e=o9e,c9e=l9e(),u9e=c9e;const a1=jt(u9e);function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function pA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(n),!0).forEach(function(r){aV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aV(t,e,n){return e=d9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d9e(t){var e=f9e(t,"string");return Ih(e)=="symbol"?e:e+""}function f9e(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h9e=["Webkit","Moz","O","ms"],p9e=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=h9e.reduce(function(a,s){return mA(mA({},a),{},aV({},s+r,n))},{});return i[e]=n,i};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1.apply(this,arguments)}function gA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gA(Object(n),!0).forEach(function(r){Ur(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oV(r.key),r)}}function g9e(t,e,n){return e&&yA(t.prototype,e),n&&yA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y9e(t,e,n){return e=o1(e),v9e(t,sV()?Reflect.construct(e,n||[],o1(t).constructor):e.apply(t,n))}function v9e(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x9e(t)}function x9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!t})()}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o1(t)}function b9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kv(t,e)}function kv(t,e){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kv(t,e)}function Ur(t,e,n){return e=oV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oV(t){var e=w9e(t,"string");return Hc(e)=="symbol"?e:e+""}function w9e(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _9e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=mf().domain(a1(0,l)).range([a,a+s-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},vA=function(e){return e.changedTouches&&!!e.changedTouches.length},Gc=function(t){function e(n){var r;return m9e(this,e),r=y9e(this,e,[n]),Ur(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ur(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ur(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),r.detachDragEndListener()}),Ur(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ur(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ur(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ur(r,"handleSlideDragStart",function(i){var a=vA(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return b9e(e,t),g9e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,d),g=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=ti(a[r],o,r);return Qe(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,x=r.pageX-a;x>0?x=Math.min(x,c+u-d-o,c+u-d-s):x<0&&(x=Math.max(x,c-s,c-o));var y=this.getIndex({startX:s+x,endX:o+x});(y.startIndex!==h||y.endIndex!==p)&&g&&g(y),this.setState({startX:s+x,endX:o+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=vA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,x=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,d+h-p-c):b<0&&(b=Math.max(b,d-c)),v[s]=c+b;var w=this.getIndex(v),_=w.startIndex,S=w.endIndex,P=function(){var k=y.length-1;return s==="startX"&&(o>l?_%x===0:S%x===0)||o<l&&S===k||s==="endX"&&(o>l?S%x===0:_%x===0)||o>l&&S===k};this.setState(Ur(Ur({},s,c+b),"brushMoveStartX",r.pageX),function(){g&&P()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var h=d+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Ur({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.fill,c=r.stroke;return B.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=R.Children.only(c);return d?B.cloneElement(d,{x:i,y:a,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,x=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),b=P6(P6({},nt(this.props,!1)),{},{x:v,y:c,width:u,height:d}),w=p||"Min value: ".concat((a=g[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[y])===null||s===void 0?void 0:s.name);return B.createElement(Qt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return B.createElement(Qt,{className:"recharts-brush-texts"},B.createElement(Mm,s1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(i)),B.createElement(Mm,s1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,x=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!ye(o)||!ye(l)||!ye(c)||!ye(u)||c<=0||u<=0)return null;var w=mt("recharts-brush",a),_=B.Children.count(s)===1,S=p9e("userSelect","none");return B.createElement(Qt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(x||y||v||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),B.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return B.isValidElement(r)?a=B.cloneElement(r,i):Qe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return P6({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},a&&a.length?_9e({data:a,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);r[l]>i?o=l:s=l}return i>=r[o]?o:s}}])}(R.PureComponent);Ur(Gc,"displayName","Brush");Ur(Gc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var S9e=yb;function E9e(t,e){var n;return S9e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var k9e=E9e,P9e=lL,T9e=Ks,N9e=k9e,A9e=Fr,I9e=w2;function C9e(t,e,n){var r=A9e(t)?P9e:N9e;return n&&I9e(t,e,n)&&(e=void 0),r(t,T9e(e))}var O9e=C9e;const j9e=jt(O9e);var Ca=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},xA=IL;function R9e(t,e,n){e=="__proto__"&&xA?xA(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var M9e=R9e,$9e=M9e,D9e=NL,L9e=Ks;function F9e(t,e){var n={};return e=L9e(e),D9e(t,function(r,i,a){$9e(n,i,e(r,i,a))}),n}var V9e=F9e;const U9e=jt(V9e);function B9e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var z9e=B9e,q9e=yb;function W9e(t,e){var n=!0;return q9e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var H9e=W9e,G9e=z9e,K9e=H9e,Y9e=Ks,Q9e=Fr,X9e=w2;function J9e(t,e,n){var r=Q9e(t)?G9e:K9e;return n&&X9e(t,e,n)&&(e=void 0),r(t,Y9e(e))}var Z9e=J9e;const lV=jt(Z9e);var e8e=["x","y"];function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}function bA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(n),!0).forEach(function(r){t8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t8e(t,e,n){return e=n8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n8e(t){var e=r8e(t,"string");return Ch(e)=="symbol"?e:e+""}function r8e(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i8e(t,e){if(t==null)return{};var n=a8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s8e(t,e){var n=t.x,r=t.y,i=i8e(t,e8e),a="".concat(n),s=parseInt(a,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return vd(vd(vd(vd(vd({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function wA(t){return B.createElement(zve,Pv({shapeType:"rectangle",propTransformer:s8e,activeClassName:"recharts-active-bar"},t))}var o8e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=ye(r)||vse(r);return a?e(r,i):(a||Zo(),n)}},l8e=["value","background"],cV;function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function c8e(t,e){if(t==null)return{};var n=u8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l1.apply(this,arguments)}function _A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(n),!0).forEach(function(r){ss(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dV(r.key),r)}}function f8e(t,e,n){return e&&SA(t.prototype,e),n&&SA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h8e(t,e,n){return e=c1(e),p8e(t,uV()?Reflect.construct(e,n||[],c1(t).constructor):e.apply(t,n))}function p8e(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m8e(t)}function m8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c1(t)}function g8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tv(t,e)}function Tv(t,e){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tv(t,e)}function ss(t,e,n){return e=dV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dV(t){var e=y8e(t,"string");return Kc(e)=="symbol"?e:e+""}function y8e(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b4=function(t){function e(){var n;d8e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=h8e(this,e,[].concat(i)),ss(n,"state",{isAnimationFinished:!1}),ss(n,"id",p4("recharts-bar-")),ss(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),ss(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return g8e(e,t),f8e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=nt(this.props,!1);return r&&r.map(function(d,h){var p=h===l,g=p?c:s,x=hn(hn(hn({},u),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(Qt,l1({className:"recharts-bar-rectangle"},wm(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),B.createElement(wA,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return B.createElement(E0,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,x=a.map(function(y,v){var b=h&&h[v];if(b){var w=mi(b.x,y.x),_=mi(b.y,y.y),S=mi(b.width,y.width),P=mi(b.height,y.height);return hn(hn({},y),{},{x:w(g),y:_(g),width:S(g),height:P(g)})}if(s==="horizontal"){var E=mi(0,y.height),k=E(g);return hn(hn({},y),{},{y:y.y+y.height-k,height:k})}var N=mi(0,y.width),I=N(g);return hn(hn({},y),{},{width:I})});return B.createElement(Qt,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!fh(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=nt(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,h=c8e(c,l8e);if(!d)return null;var p=hn(hn(hn(hn(hn({},h),{},{fill:"#eee"},d),l),wm(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return B.createElement(wA,l1({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=ea(u,C2);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(y,v){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:ti(y,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(Qt,g,d.map(function(x){return B.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,h=r.height,p=r.isAnimationActive,g=r.background,x=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,v=mt("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,_=b||w,S=lt(x)?this.id:x;return B.createElement(Qt,{className:v},b||w?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(S)},B.createElement("rect",{x:b?c:c-d/2,y:w?u:u-h/2,width:b?d:d*2,height:w?h:h*2}))):null,B.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!p||y)&&ks.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(R.PureComponent);cV=b4;ss(b4,"displayName","Bar");ss(b4,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ju.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ss(b4,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=z5e(r,n);if(!p)return null;var g=e.layout,x=n.type.defaultProps,y=x!==void 0?hn(hn({},x),n.props):n.props,v=y.dataKey,b=y.children,w=y.minPointSize,_=g==="horizontal"?s:a,S=c?_.scale.domain():null,P=X5e({numericAxis:_}),E=ea(b,DL),k=d.map(function(N,I){var A,j,O,$,M,D;c?A=q5e(c[u+I],S):(A=ti(N,v),Array.isArray(A)||(A=[P,A]));var V=o8e(w,cV.defaultProps.minPointSize)(A[1],I);if(g==="horizontal"){var F,U=[s.scale(A[0]),s.scale(A[1])],H=U[0],G=U[1];j=kN({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:N,index:I}),O=(F=G??H)!==null&&F!==void 0?F:void 0,$=p.size;var K=H-G;if(M=Number.isNaN(K)?0:K,D={x:j,y:s.y,width:$,height:s.height},Math.abs(V)>0&&Math.abs(M)<Math.abs(V)){var ne=Wi(M||V)*(Math.abs(V)-Math.abs(M));O-=ne,M+=ne}}else{var ce=[a.scale(A[0]),a.scale(A[1])],pe=ce[0],ee=ce[1];if(j=pe,O=kN({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:N,index:I}),$=ee-pe,M=p.size,D={x:a.x,y:O,width:a.width,height:M},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var we=Wi($||V)*(Math.abs(V)-Math.abs($));$+=we}}return hn(hn(hn({},N),{},{x:j,y:O,width:$,height:M,value:c?A:A[1],payload:N,background:D},E&&E[I]&&E[I].props),{},{tooltipPayload:[zF(n,N)],tooltipPosition:{x:j+$/2,y:O+M/2}})});return hn({data:k,layout:g},h)});function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function v8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fV(r.key),r)}}function x8e(t,e,n){return e&&EA(t.prototype,e),n&&EA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(n),!0).forEach(function(r){R2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R2(t,e,n){return e=fV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fV(t){var e=b8e(t,"string");return Oh(e)=="symbol"?e:e+""}function b8e(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w8e=function(e,n,r,i,a){var s=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!zr(c,b4);return u.reduce(function(p,g){var x=n[g],y=x.orientation,v=x.domain,b=x.padding,w=b===void 0?{}:b,_=x.mirror,S=x.reversed,P="".concat(y).concat(_?"Mirror":""),E,k,N,I,A;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var j=v[1]-v[0],O=1/0,$=x.categoricalDomain.sort(wse);if($.forEach(function(ce,pe){pe>0&&(O=Math.min((ce||0)-($[pe-1]||0),O))}),Number.isFinite(O)){var M=O/j,D=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(E=M*D/2),x.padding==="no-gap"){var V=Xo(e.barCategoryGap,M*D),F=M*D/2;E=F-V-(F-V)/D*V}}}i==="xAxis"?k=[r.left+(w.left||0)+(E||0),r.left+r.width-(w.right||0)-(E||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(E||0),r.top+r.height-(w.bottom||0)-(E||0)]:k=x.range,S&&(k=[k[1],k[0]]);var U=U5e(x,a,h),H=U.scale,G=U.realScaleType;H.domain(v).range(k),B5e(H);var K=Q5e(H,Fi(Fi({},x),{},{realScaleType:G}));i==="xAxis"?(A=y==="top"&&!_||y==="bottom"&&_,N=r.left,I=d[P]-A*x.height):i==="yAxis"&&(A=y==="left"&&!_||y==="right"&&_,N=d[P]-A*x.width,I=r.top);var ne=Fi(Fi(Fi({},x),K),{},{realScaleType:G,x:N,y:I,scale:H,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return ne.bandSize=Ym(ne,K),!x.hide&&i==="xAxis"?d[P]+=(A?-1:1)*ne.height:x.hide||(d[P]+=(A?-1:1)*ne.width),Fi(Fi({},p),{},R2({},g,ne))},{})},hV=function(e,n){var r=e.x,i=e.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},_8e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return hV({x:n,y:r},{x:i,y:a})},pV=function(){function t(e){v8e(this,t),this.scale=e}return x8e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();R2(pV,"EPS",1e-4);var Gb=function(e){var n=Object.keys(e).reduce(function(r,i){return Fi(Fi({},r),{},R2({},i,pV.create(e[i])))},{});return Fi(Fi({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return U9e(i,function(l,c){return n[c].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return lV(i,function(a,s){return n[s].isInRange(a)})}})};function S8e(t){return(t%180+180)%180}var E8e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=S8e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},k8e=Ks,P8e=m4,T8e=x2;function N8e(t){return function(e,n,r){var i=Object(e);if(!P8e(e)){var a=k8e(n);e=T8e(e),n=function(o){return a(i[o],o,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:void 0}}var A8e=N8e,I8e=iV;function C8e(t){var e=I8e(t),n=e%1;return e===e?n?e-n:e:0}var O8e=C8e,j8e=_L,R8e=Ks,M8e=O8e,$8e=Math.max;function D8e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:M8e(n);return i<0&&(i=$8e(r+i,0)),j8e(t,R8e(e),i)}var L8e=D8e,F8e=A8e,V8e=L8e,U8e=F8e(V8e),B8e=U8e;const z8e=jt(B8e);var q8e=E0e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Kb=R.createContext(void 0),Yb=R.createContext(void 0),mV=R.createContext(void 0),gV=R.createContext({}),yV=R.createContext(void 0),vV=R.createContext(0),xV=R.createContext(0),PA=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=e.clipPathId,o=e.children,l=e.width,c=e.height,u=q8e(a);return B.createElement(Kb.Provider,{value:r},B.createElement(Yb.Provider,{value:i},B.createElement(gV.Provider,{value:a},B.createElement(mV.Provider,{value:u},B.createElement(yV.Provider,{value:s},B.createElement(vV.Provider,{value:c},B.createElement(xV.Provider,{value:l},o)))))))},W8e=function(){return R.useContext(yV)},bV=function(e){var n=R.useContext(Kb);n==null&&Zo();var r=n[e];return r==null&&Zo(),r},H8e=function(){var e=R.useContext(Kb);return es(e)},G8e=function(){var e=R.useContext(Yb),n=z8e(e,function(r){return lV(r.domain,Number.isFinite)});return n||es(e)},wV=function(e){var n=R.useContext(Yb);n==null&&Zo();var r=n[e];return r==null&&Zo(),r},K8e=function(){var e=R.useContext(mV);return e},Y8e=function(){return R.useContext(gV)},Qb=function(){return R.useContext(xV)},Xb=function(){return R.useContext(vV)};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Q8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SV(r.key),r)}}function J8e(t,e,n){return e&&X8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z8e(t,e,n){return e=u1(e),exe(t,_V()?Reflect.construct(e,n||[],u1(t).constructor):e.apply(t,n))}function exe(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return txe(t)}function txe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_V=function(){return!!t})()}function u1(t){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u1(t)}function nxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nv(t,e)}function Nv(t,e){return Nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nv(t,e)}function TA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TA(Object(n),!0).forEach(function(r){Jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jb(t,e,n){return e=SV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SV(t){var e=rxe(t,"string");return Yc(e)=="symbol"?e:e+""}function rxe(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ixe(t,e){return lxe(t)||oxe(t,e)||sxe(t,e)||axe()}function axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sxe(t,e){if(t){if(typeof t=="string")return AA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(t,e)}}function AA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function lxe(t){if(Array.isArray(t))return t}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}var cxe=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):Qe(e)?r=e(n):r=B.createElement("line",Av({},n,{className:"recharts-reference-line-line"})),r},uxe=function(e,n,r,i,a,s,o,l,c){var u=a.x,d=a.y,h=a.width,p=a.height;if(r){var g=c.y,x=e.y.apply(g,{position:s});if(Ca(c,"discard")&&!e.y.isInRange(x))return null;var y=[{x:u+h,y:x},{x:u,y:x}];return l==="left"?y.reverse():y}if(n){var v=c.x,b=e.x.apply(v,{position:s});if(Ca(c,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:d+p},{x:b,y:d}];return o==="top"?w.reverse():w}if(i){var _=c.segment,S=_.map(function(P){return e.apply(P,{position:s})});return Ca(c,"discard")&&j9e(S,function(P){return!e.isInRange(P)})?null:S}return null};function dxe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,c=W8e(),u=bV(i),d=wV(a),h=K8e();if(!c||!h)return null;d0(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Gb({x:u.scale,y:d.scale}),g=Sn(e),x=Sn(n),y=r&&r.length===2,v=uxe(p,g,x,y,h,t.position,u.orientation,d.orientation,t);if(!v)return null;var b=ixe(v,2),w=b[0],_=w.x,S=w.y,P=b[1],E=P.x,k=P.y,N=Ca(t,"hidden")?"url(#".concat(c,")"):void 0,I=NA(NA({clipPath:N},nt(t,!0)),{},{x1:_,y1:S,x2:E,y2:k});return B.createElement(Qt,{className:mt("recharts-reference-line",o)},cxe(s,I),er.renderCallByParent(t,_8e({x1:_,y1:S,x2:E,y2:k})))}var Zb=function(t){function e(){return Q8e(this,e),Z8e(this,e,arguments)}return nxe(e,t),J8e(e,[{key:"render",value:function(){return B.createElement(dxe,this.props)}}])}(B.Component);Jb(Zb,"displayName","ReferenceLine");Jb(Zb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(this,arguments)}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function IA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IA(Object(n),!0).forEach(function(r){M2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kV(r.key),r)}}function pxe(t,e,n){return e&&hxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mxe(t,e,n){return e=d1(e),gxe(t,EV()?Reflect.construct(e,n||[],d1(t).constructor):e.apply(t,n))}function gxe(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yxe(t)}function yxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EV=function(){return!!t})()}function d1(t){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d1(t)}function vxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cv(t,e)}function Cv(t,e){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cv(t,e)}function M2(t,e,n){return e=kV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kV(t){var e=xxe(t,"string");return Qc(e)=="symbol"?e:e+""}function xxe(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bxe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,s=Gb({x:i.scale,y:a.scale}),o=s.apply({x:n,y:r},{bandAware:!0});return Ca(e,"discard")&&!s.isInRange(o)?null:o},$2=function(t){function e(){return fxe(this,e),mxe(this,e,arguments)}return vxe(e,t),pxe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,o=r.alwaysShow,l=r.clipPathId,c=Sn(i),u=Sn(a);if(d0(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=bxe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,x=g.shape,y=g.className,v=Ca(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=CA(CA({clipPath:v},nt(this.props,!0)),{},{cx:h,cy:p});return B.createElement(Qt,{className:mt("recharts-reference-dot",y)},e.renderDot(x,b),er.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(B.Component);M2($2,"displayName","ReferenceDot");M2($2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});M2($2,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Qe(t)?n=t(e):n=B.createElement(Hb,Iv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(this,arguments)}function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function OA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(n),!0).forEach(function(r){D2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TV(r.key),r)}}function Sxe(t,e,n){return e&&_xe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Exe(t,e,n){return e=f1(e),kxe(t,PV()?Reflect.construct(e,n||[],f1(t).constructor):e.apply(t,n))}function kxe(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pxe(t)}function Pxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PV=function(){return!!t})()}function f1(t){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f1(t)}function Txe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jv(t,e)}function jv(t,e){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jv(t,e)}function D2(t,e,n){return e=TV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TV(t){var e=Nxe(t,"string");return Xc(e)=="symbol"?e:e+""}function Nxe(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Axe=function(e,n,r,i,a){var s=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var h=Gb({x:u.scale,y:d.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ca(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:hV(p,g)},L2=function(t){function e(){return wxe(this,e),Exe(this,e,arguments)}return Txe(e,t),Sxe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;d0(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Sn(i),h=Sn(a),p=Sn(s),g=Sn(o),x=this.props.shape;if(!d&&!h&&!p&&!g&&!x)return null;var y=Axe(d,h,p,g,this.props);if(!y&&!x)return null;var v=Ca(this.props,"hidden")?"url(#".concat(u,")"):void 0;return B.createElement(Qt,{className:mt("recharts-reference-area",l)},e.renderRect(x,jA(jA({clipPath:v},nt(this.props,!0)),y)),er.renderCallByParent(this.props,y))}}])}(B.Component);D2(L2,"displayName","ReferenceArea");D2(L2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});D2(L2,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Qe(t)?n=t(e):n=B.createElement(Wb,Ov({},e,{className:"recharts-reference-area-rect"})),n});function NV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Ixe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return E8e(r,n)}function Cxe(t,e,n){var r=n==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function h1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Oxe(t,e){return NV(t,e+1)}function jxe(t,e,n,r,i){for(var a=(r||[]).slice(),s=e.start,o=e.end,l=0,c=1,u=s,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:NV(r,c)};var x=l,y,v=function(){return y===void 0&&(y=n(g,x)),y},b=g.coordinate,w=l===0||h1(t,b,v,u,o);w||(l=0,u=s,c+=1),w&&(u=b+t*(v()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function RA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(n),!0).forEach(function(r){Rxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rxe(t,e,n){return e=Mxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mxe(t){var e=$xe(t,"string");return jh(e)=="symbol"?e:e+""}function $xe(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dxe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,o=e.start,l=e.end,c=function(h){var p=a[h],g,x=function(){return g===void 0&&(g=n(p,h)),g};if(h===s-1){var y=t*(p.coordinate+t*x()/2-l);a[h]=p=Qn(Qn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else a[h]=p=Qn(Qn({},p),{},{tickCoord:p.coordinate});var v=h1(t,p.tickCoord,x,o,l);v&&(l=p.tickCoord-t*(x()/2+i),a[h]=Qn(Qn({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function Lxe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end;if(a){var u=r[o-1],d=n(u,o-1),h=t*(u.coordinate+t*d/2-c);s[o-1]=u=Qn(Qn({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=h1(t,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-t*(d/2+i),s[o-1]=Qn(Qn({},u),{},{isShow:!0}))}for(var g=a?o-1:o,x=function(b){var w=s[b],_,S=function(){return _===void 0&&(_=n(w,b)),_};if(b===0){var P=t*(w.coordinate-t*S()/2-l);s[b]=w=Qn(Qn({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else s[b]=w=Qn(Qn({},w),{},{tickCoord:w.coordinate});var E=h1(t,w.tickCoord,S,l,c);E&&(l=w.tickCoord+t*(S()/2+i),s[b]=Qn(Qn({},w),{},{isShow:!0}))},y=0;y<g;y++)x(y);return s}function ew(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ye(l)||ju.isSsr)return Oxe(i,typeof l=="number"&&ye(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?pf(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(w,_){var S=Qe(c)?c(w.value,_):w.value;return p==="width"?Ixe(pf(S,{fontSize:e,letterSpacing:n}),g,d):pf(S,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?Wi(i[1].coordinate-i[0].coordinate):1,v=Cxe(a,y,p);return l==="equidistantPreserveStart"?jxe(y,v,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Lxe(y,v,x,i,s,l==="preserveStartEnd"):h=Dxe(y,v,x,i,s),h.filter(function(b){return b.isShow}))}var Fxe=["viewBox"],Vxe=["viewBox"],Uxe=["ticks"];function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(this,arguments)}function MA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MA(Object(n),!0).forEach(function(r){tw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T6(t,e){if(t==null)return{};var n=Bxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IV(r.key),r)}}function qxe(t,e,n){return e&&$A(t.prototype,e),n&&$A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wxe(t,e,n){return e=p1(e),Hxe(t,AV()?Reflect.construct(e,n||[],p1(t).constructor):e.apply(t,n))}function Hxe(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gxe(t)}function Gxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AV=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p1(t)}function Kxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rv(t,e)}function Rv(t,e){return Rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rv(t,e)}function tw(t,e,n){return e=IV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IV(t){var e=Yxe(t,"string");return Jc(e)=="symbol"?e:e+""}function Yxe(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Du=function(t){function e(n){var r;return zxe(this,e),r=Wxe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Kxe(e,t),qxe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=T6(r,Fxe),o=this.props,l=o.viewBox,c=T6(o,Vxe);return!mc(a,l)||!mc(s,c)||!mc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,p,g,x,y,v,b,w=d?-1:1,_=r.tickSize||u,S=ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=g=r.coordinate,y=s+ +!d*l,x=y-w*_,b=x-w*h,v=S;break;case"left":x=y=r.coordinate,g=a+ +!d*o,p=g-w*_,v=p-w*h,b=S;break;case"right":x=y=r.coordinate,g=a+ +d*o,p=g+w*_,v=p+w*h,b=S;break;default:p=g=r.coordinate,y=s+ +d*l,x=y+w*_,b=x+w*h,v=S;break}return{line:{x1:p,y1:x,x2:g,y2:y},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=xn(xn(xn({},nt(this.props,!1)),nt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=xn(xn({},d),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=xn(xn({},d),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return B.createElement("line",Ql({},d,{className:mt("recharts-cartesian-axis-line",ki(u,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,p=ew(xn(xn({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=nt(this.props,!1),v=nt(u,!1),b=xn(xn({},y),{},{fill:"none"},nt(l,!1)),w=p.map(function(_,S){var P=s.getTickLineCoord(_),E=P.line,k=P.tick,N=xn(xn(xn(xn({textAnchor:g,verticalAnchor:x},y),{},{stroke:"none",fill:c},v),k),{},{index:S,payload:_,visibleTicksCount:p.length,tickFormatter:d});return B.createElement(Qt,Ql({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},wm(s.props,_,S)),l&&B.createElement("line",Ql({},b,E,{className:mt("recharts-cartesian-axis-tick-line",ki(l,"className"))})),u&&e.renderTickItem(u,N,"".concat(Qe(d)?d(_.value,S):_.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,p=T6(d,Uxe),g=h;return Qe(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:B.createElement(Qt,{className:mt("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,o=mt(i.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?s=B.cloneElement(r,xn(xn({},i),{},{className:o})):Qe(r)?s=r(xn(xn({},i),{},{className:o})):s=B.createElement(Mm,Ql({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(R.Component);tw(Du,"displayName","CartesianAxis");tw(Du,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Qxe=["x1","y1","x2","y2","key"],Xxe=["offset"];function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){Jxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jxe(t,e,n){return e=Zxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zxe(t){var e=ebe(t,"string");return el(e)=="symbol"?e:e+""}function ebe(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Po(){return Po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Po.apply(this,arguments)}function LA(t,e){if(t==null)return{};var n=tbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nbe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return B.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function CV(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Qe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=LA(e,Qxe),c=nt(l,!1);c.offset;var u=LA(c,Xxe);n=B.createElement("line",Po({},u,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:o}))}return n}function rbe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=tr(tr({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return CV(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function ibe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var c=tr(tr({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return CV(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function abe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],x=g?i+s-h:u[p+1]-h;if(x<=0)return null;var y=p%e.length;return B.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:x,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function sbe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],x=g?a+o-h:u[p+1]-h;if(x<=0)return null;var y=p%r.length;return B.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:x,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var obe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,s=e.offset;return UF(ew(tr(tr(tr({},Du.defaultProps),r),{},{ticks:i0(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},lbe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,s=e.offset;return UF(ew(tr(tr(tr({},Du.defaultProps),r),{},{ticks:i0(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},Nl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function OV(t){var e,n,r,i,a,s,o=Qb(),l=Xb(),c=Y8e(),u=tr(tr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Nl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Nl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Nl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Nl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Nl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Nl.verticalFill,x:ye(t.x)?t.x:c.left,y:ye(t.y)?t.y:c.top,width:ye(t.width)?t.width:c.width,height:ye(t.height)?t.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,x=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,b=H8e(),w=G8e();if(!ye(p)||p<=0||!ye(g)||g<=0||!ye(d)||d!==+d||!ye(h)||h!==+h)return null;var _=u.verticalCoordinatesGenerator||obe,S=u.horizontalCoordinatesGenerator||lbe,P=u.horizontalPoints,E=u.verticalPoints;if((!P||!P.length)&&Qe(S)){var k=y&&y.length,N=S({yAxis:w?tr(tr({},w),{},{ticks:k?y:w.ticks}):void 0,width:o,height:l,offset:c},k?!0:x);d0(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(el(N),"]")),Array.isArray(N)&&(P=N)}if((!E||!E.length)&&Qe(_)){var I=v&&v.length,A=_({xAxis:b?tr(tr({},b),{},{ticks:I?v:b.ticks}):void 0,width:o,height:l,offset:c},I?!0:x);d0(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(el(A),"]")),Array.isArray(A)&&(E=A)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(nbe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),B.createElement(rbe,Po({},u,{offset:c,horizontalPoints:P,xAxis:b,yAxis:w})),B.createElement(ibe,Po({},u,{offset:c,verticalPoints:E,xAxis:b,yAxis:w})),B.createElement(abe,Po({},u,{horizontalPoints:P})),B.createElement(sbe,Po({},u,{verticalPoints:E})))}OV.displayName="CartesianGrid";var cbe=["layout","type","stroke","connectNulls","isRange","ref"],ube=["key"],jV;function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function RV(t,e){if(t==null)return{};var n=dbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function To(){return To=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},To.apply(this,arguments)}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){wa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$V(r.key),r)}}function hbe(t,e,n){return e&&VA(t.prototype,e),n&&VA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pbe(t,e,n){return e=m1(e),mbe(t,MV()?Reflect.construct(e,n||[],m1(t).constructor):e.apply(t,n))}function mbe(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gbe(t)}function gbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MV=function(){return!!t})()}function m1(t){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m1(t)}function ybe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mv(t,e)}function Mv(t,e){return Mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mv(t,e)}function wa(t,e,n){return e=$V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $V(t){var e=vbe(t,"string");return Zc(e)=="symbol"?e:e+""}function vbe(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Js=function(t){function e(){var n;fbe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=pbe(this,e,[].concat(i)),wa(n,"state",{isAnimationFinished:!0}),wa(n,"id",p4("recharts-area-")),wa(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Qe(s)&&s()}),wa(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Qe(s)&&s()}),n}return ybe(e,t),hbe(e,[{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=nt(this.props,!1),p=nt(c,!0),g=u.map(function(y,v){var b=z0(z0(z0({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:y.x,cy:y.y,dataKey:d,value:y.value,payload:y.payload,points:u});return e.renderDotItem(c,b)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return B.createElement(Qt,To({className:"recharts-area-dots"},x),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),d=as(s.map(function(h){return h.y||0}));return ye(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(as(a.map(function(h){return h.y||0})),d)),ye(d)?B.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),d=as(s.map(function(h){return h.x||0}));return ye(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(as(a.map(function(h){return h.x||0})),d)),ye(d)?B.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,s){var o=this.props,l=o.layout,c=o.type,u=o.stroke,d=o.connectNulls,h=o.isRange;o.ref;var p=RV(o,cbe);return B.createElement(Qt,{clipPath:a?"url(#clipPath-".concat(s,")"):null},B.createElement(yf,To({},nt(p,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&B.createElement(yf,To({},nt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&h&&B.createElement(yf,To({},nt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,x=g.prevPoints,y=g.prevBaseLine;return B.createElement(E0,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(x){var w=x.length/o.length,_=o.map(function(k,N){var I=Math.floor(N*w);if(x[I]){var A=x[I],j=mi(A.x,k.x),O=mi(A.y,k.y);return z0(z0({},k),{},{x:j(b),y:O(b)})}return k}),S;if(ye(l)&&typeof l=="number"){var P=mi(y,l);S=P(b)}else if(lt(l)||Au(l)){var E=mi(y,0);S=E(b)}else S=l.map(function(k,N){var I=Math.floor(N*w);if(y[I]){var A=y[I],j=mi(A.x,k.x),O=mi(A.y,k.y);return z0(z0({},k),{},{x:j(b),y:O(b)})}return k});return a.renderAreaStatically(_,S,r,i)}return B.createElement(Qt,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),B.createElement(Qt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!fh(u,s)||!fh(d,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,h=i.yAxis,p=i.width,g=i.height,x=i.isAnimationActive,y=i.id;if(a||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=o.length===1,w=mt("recharts-area",l),_=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,P=_||S,E=lt(y)?this.id:y,k=(r=nt(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=k.r,I=N===void 0?3:N,A=k.strokeWidth,j=A===void 0?2:A,O=Ise(s)?s:{},$=O.clipDot,M=$===void 0?!0:$,D=I*2+j;return B.createElement(Qt,{className:w},_||S?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(E)},B.createElement("rect",{x:_?u:u-p/2,y:S?c:c-g/2,width:_?p:p*2,height:S?g:g*2})),!M&&B.createElement("clipPath",{id:"clipPath-dots-".concat(E)},B.createElement("rect",{x:u-D/2,y:c-D/2,width:p+D,height:g+D}))):null,b?null:this.renderArea(P,E),(s||b)&&this.renderDots(P,M,E),(!x||v)&&ks.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(R.PureComponent);jV=Js;wa(Js,"displayName","Area");wa(Js,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ju.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});wa(Js,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(ye(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return o==="dataMin"?d:o==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return o==="dataMin"?c[0]:o==="dataMax"?c[1]:c[0]});wa(Js,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,p=e.layout,g=c&&c.length,x=jV.getBaseValue(e,n,r,i),y=p==="horizontal",v=!1,b=d.map(function(_,S){var P;g?P=c[u+S]:(P=ti(_,l),Array.isArray(P)?v=!0:P=[x,P]);var E=P[1]==null||g&&ti(_,l)==null;return y?{x:EN({axis:r,ticks:a,bandSize:o,entry:_,index:S}),y:E?null:i.scale(P[1]),value:P,payload:_}:{x:E?null:r.scale(P[1]),y:EN({axis:i,ticks:s,bandSize:o,entry:_,index:S}),value:P,payload:_}}),w;return g||v?w=b.map(function(_){var S=Array.isArray(_.value)?_.value[0]:null;return y?{x:_.x,y:S!=null&&_.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:_.y}}):w=y?i.scale(x):r.scale(x),z0({points:b,baseLine:w,layout:p,isRange:v},h)});wa(Js,"renderDotItem",function(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Qe(t))n=t(e);else{var r=mt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=RV(e,ube);n=B.createElement(Hb,To({},a,{key:i,className:r}))}return n});function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function xbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FV(r.key),r)}}function wbe(t,e,n){return e&&bbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _be(t,e,n){return e=g1(e),Sbe(t,DV()?Reflect.construct(e,n||[],g1(t).constructor):e.apply(t,n))}function Sbe(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ebe(t)}function Ebe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DV=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g1(t)}function kbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$v(t,e)}function LV(t,e,n){return e=FV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FV(t){var e=Pbe(t,"string");return eu(e)=="symbol"?e:e+""}function Pbe(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dv.apply(this,arguments)}function Tbe(t){var e=t.xAxisId,n=Qb(),r=Xb(),i=bV(e);return i==null?null:R.createElement(Du,Dv({},i,{className:mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return i0(s,!0)}}))}var F2=function(t){function e(){return xbe(this,e),_be(this,e,arguments)}return kbe(e,t),wbe(e,[{key:"render",value:function(){return R.createElement(Tbe,this.props)}}])}(R.Component);LV(F2,"displayName","XAxis");LV(F2,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function Nbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Abe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BV(r.key),r)}}function Ibe(t,e,n){return e&&Abe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cbe(t,e,n){return e=y1(e),Obe(t,VV()?Reflect.construct(e,n||[],y1(t).constructor):e.apply(t,n))}function Obe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jbe(t)}function jbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VV=function(){return!!t})()}function y1(t){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y1(t)}function Rbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lv(t,e)}function Lv(t,e){return Lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lv(t,e)}function UV(t,e,n){return e=BV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BV(t){var e=Mbe(t,"string");return tu(e)=="symbol"?e:e+""}function Mbe(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}var $be=function(e){var n=e.yAxisId,r=Qb(),i=Xb(),a=wV(n);return a==null?null:R.createElement(Du,Fv({},a,{className:mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return i0(o,!0)}}))},V2=function(t){function e(){return Nbe(this,e),Cbe(this,e,arguments)}return Rbe(e,t),Ibe(e,[{key:"render",value:function(){return R.createElement($be,this.props)}}])}(R.Component);UV(V2,"displayName","YAxis");UV(V2,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UA(t){return Vbe(t)||Fbe(t)||Lbe(t)||Dbe()}function Dbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lbe(t,e){if(t){if(typeof t=="string")return Vv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vv(t,e)}}function Fbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vbe(t){if(Array.isArray(t))return Vv(t)}function Vv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Uv=function(e,n,r,i,a){var s=ea(e,Zb),o=ea(e,$2),l=[].concat(UA(s),UA(o)),c=ea(e,L2),u="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(x,y){if(y.props[u]===r&&Ca(y.props,"extendDomain")&&ye(y.props[d])){var v=y.props[d];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(x,y){if(y.props[u]===r&&Ca(y.props,"extendDomain")&&ye(y.props[p])&&ye(y.props[g])){var v=y.props[p],b=y.props[g];return[Math.min(x[0],v,b),Math.max(x[1],v,b)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,y){return ye(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},h)),h},zV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,p,g){var x=n?n+c:c;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,p),!0;case 6:return y.fn.call(y.context,u,d,h,p,g),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var _=y.length,S;for(w=0;w<_;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,h);break;default:if(!b)for(S=1,b=new Array(v-1);S<v;S++)b[S-1]=arguments[S];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var x=0,y=[],v=g.length;x<v;x++)(g[x].fn!==u||h&&!g[x].once||d&&g[x].context!==d)&&y.push(g[x]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(zV);var Ube=zV.exports;const Bbe=jt(Ube);var N6=new Bbe,A6="recharts.syncMouseEvents";function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function zbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qV(r.key),r)}}function Wbe(t,e,n){return e&&qbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I6(t,e,n){return e=qV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qV(t){var e=Hbe(t,"string");return Rh(e)=="symbol"?e:e+""}function Hbe(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gbe=function(){function t(){zbe(this,t),I6(this,"activeIndex",0),I6(this,"coordinateList",[]),I6(this,"layout","horizontal")}return Wbe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,o=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Kbe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ye(r)&&ye(i))return!0}return!1}function Ybe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function WV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,s=Bn(e,n,r,i),o=Bn(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Qbe(t,e,n){var r,i,a,s;if(t==="horizontal")r=e.x,a=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=Bn(o,l,c,d),p=Bn(o,l,u,d);r=h.x,i=h.y,a=p.x,s=p.y}else return WV(e);return[{x:r,y:i},{x:a,y:s}]}function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ep(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){Xbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xbe(t,e,n){return e=Jbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jbe(t){var e=Zbe(t,"string");return Mh(e)=="symbol"?e:e+""}function Zbe(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ewe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,x=yf;if(h==="ScatterChart")g=s,x=rve;else if(h==="BarChart")g=Ybe(d,s,l,u),x=Wb;else if(d==="radial"){var y=WV(s),v=y.cx,b=y.cy,w=y.radius,_=y.startAngle,S=y.endAngle;g={cx:v,cy:b,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},x=HF}else g={points:Qbe(d,s,l)},x=yf;var P=Ep(Ep(Ep(Ep({stroke:"#ccc",pointerEvents:"none"},l),g),nt(p,!1)),{},{payload:o,payloadIndex:c,className:mt("recharts-tooltip-cursor",p.className)});return R.isValidElement(p)?R.cloneElement(p,P):R.createElement(x,P)}var twe=["item"],nwe=["children","className","width","height","style","compact","title","desc"];function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}function zA(t,e){return awe(t)||iwe(t,e)||GV(t,e)||rwe()}function rwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function awe(t){if(Array.isArray(t))return t}function qA(t,e){if(t==null)return{};var n=swe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function swe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function owe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KV(r.key),r)}}function cwe(t,e,n){return e&&lwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uwe(t,e,n){return e=v1(e),dwe(t,HV()?Reflect.construct(e,n||[],v1(t).constructor):e.apply(t,n))}function dwe(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fwe(t)}function fwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HV=function(){return!!t})()}function v1(t){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v1(t)}function hwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bv(t,e)}function ru(t){return gwe(t)||mwe(t)||GV(t)||pwe()}function pwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(t,e){if(t){if(typeof t=="string")return zv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zv(t,e)}}function mwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gwe(t){if(Array.isArray(t))return zv(t)}function zv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){Fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fe(t,e,n){return e=KV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KV(t){var e=ywe(t,"string");return nu(e)=="symbol"?e:e+""}function ywe(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vwe={xAxis:["bottom","top"],yAxis:["left","right"]},xwe={width:"100%",height:"100%"},YV={x:0,y:0};function kp(t){return t}var bwe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},wwe=function(e,n,r,i){var a=n.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return re(re(re({},i),Bn(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,c=i.angle;return re(re(re({},i),Bn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return YV},U2=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(ru(o),ru(c)):o},[]);return s.length>0?s:e&&e.length&&ye(i)&&ye(a)?e.slice(i,a+1):[]};function QV(t){return t==="number"?[0,"auto"]:void 0}var qv=function(e,n,r,i){var a=e.graphicalItems,s=e.tooltipAxis,o=U2(n,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=xm(p,s.dataKey,i)}else h=d&&d[r]||o[r];return h?[].concat(ru(l),[zF(c,h)]):l},[])},HA=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},s=bwe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=M5e(s,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=qv(e,n,u,d),p=wwe(r,o,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},_we=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,p=VF(u,a);return r.reduce(function(g,x){var y,v=x.type.defaultProps!==void 0?re(re({},x.type.defaultProps),x.props):x.props,b=v.type,w=v.dataKey,_=v.allowDataOverflow,S=v.allowDuplicatedCategory,P=v.scale,E=v.ticks,k=v.includeHidden,N=v[s];if(g[N])return g;var I=U2(e.data,{graphicalItems:i.filter(function(K){var ne,ce=s in K.props?K.props[s]:(ne=K.type.defaultProps)===null||ne===void 0?void 0:ne[s];return ce===N}),dataStartIndex:l,dataEndIndex:c}),A=I.length,j,O,$;Kbe(v.domain,_,b)&&(j=cv(v.domain,null,_),p&&(b==="number"||P!=="auto")&&($=gf(I,w,"category")));var M=QV(b);if(!j||j.length===0){var D,V=(D=v.domain)!==null&&D!==void 0?D:M;if(w){if(j=gf(I,w,b),b==="category"&&p){var F=bse(j);S&&F?(O=j,j=a1(0,A)):S||(j=NN(V,j,x).reduce(function(K,ne){return K.indexOf(ne)>=0?K:[].concat(ru(K),[ne])},[]))}else if(b==="category")S?j=j.filter(function(K){return K!==""&&!lt(K)}):j=NN(V,j,x).reduce(function(K,ne){return K.indexOf(ne)>=0||ne===""||lt(ne)?K:[].concat(ru(K),[ne])},[]);else if(b==="number"){var U=V5e(I,i.filter(function(K){var ne,ce,pe=s in K.props?K.props[s]:(ne=K.type.defaultProps)===null||ne===void 0?void 0:ne[s],ee="hide"in K.props?K.props.hide:(ce=K.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return pe===N&&(k||!ee)}),w,a,u);U&&(j=U)}p&&(b==="number"||P!=="auto")&&($=gf(I,w,"category"))}else p?j=a1(0,A):o&&o[N]&&o[N].hasStack&&b==="number"?j=h==="expand"?[0,1]:BF(o[N].stackGroups,l,c):j=FF(I,i.filter(function(K){var ne=s in K.props?K.props[s]:K.type.defaultProps[s],ce="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return ne===N&&(k||!ce)}),b,u,!0);if(b==="number")j=Uv(d,j,N,a,E),V&&(j=cv(V,j,_));else if(b==="category"&&V){var H=V,G=j.every(function(K){return H.indexOf(K)>=0});G&&(j=H)}}return re(re({},g),{},Fe({},N,re(re({},v),{},{axisType:a,domain:j,categoricalDomain:$,duplicateDomain:O,originalDomain:(y=v.domain)!==null&&y!==void 0?y:M,isCategorical:p,layout:u})))},{})},Swe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,h=U2(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=VF(u,a),x=-1;return r.reduce(function(y,v){var b=v.type.defaultProps!==void 0?re(re({},v.type.defaultProps),v.props):v.props,w=b[s],_=QV("number");if(!y[w]){x++;var S;return g?S=a1(0,p):o&&o[w]&&o[w].hasStack?(S=BF(o[w].stackGroups,l,c),S=Uv(d,S,w,a)):(S=cv(_,FF(h,r.filter(function(P){var E,k,N=s in P.props?P.props[s]:(E=P.type.defaultProps)===null||E===void 0?void 0:E[s],I="hide"in P.props?P.props.hide:(k=P.type.defaultProps)===null||k===void 0?void 0:k.hide;return N===w&&!I}),"number",u),i.defaultProps.allowDataOverflow),S=Uv(d,S,w,a)),re(re({},y),{},Fe({},w,re(re({axisType:a},i.defaultProps),{},{hide:!0,orientation:ki(vwe,"".concat(a,".").concat(x%2),null),domain:S,originalDomain:_,isCategorical:g,layout:u})))}return y},{})},Ewe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=ea(u,a),p={};return h&&h.length?p=_we(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=Swe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},kwe=function(e){var n=es(e),r=i0(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:vb(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ym(n,r)}},GA=function(e){var n=e.children,r=e.defaultShowTooltip,i=zr(n,Gc),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Pwe=function(e){return!e||!e.length?!1:e.some(function(n){var r=u0(n&&n.type);return r&&r.indexOf("Bar")>=0})},KA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Twe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,h=r.margin||{},p=zr(d,Gc),g=zr(d,gc),x=Object.keys(l).reduce(function(S,P){var E=l[P],k=E.orientation;return!E.mirror&&!E.hide?re(re({},S),{},Fe({},k,S[k]+E.width)):S},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(S,P){var E=s[P],k=E.orientation;return!E.mirror&&!E.hide?re(re({},S),{},Fe({},k,ki(S,"".concat(k))+E.height)):S},{top:h.top||0,bottom:h.bottom||0}),v=re(re({},y),x),b=v.bottom;p&&(v.bottom+=p.props.height||Gc.defaultProps.height),g&&n&&(v=L5e(v,i,r,n));var w=c-v.left-v.right,_=u-v.top-v.bottom;return re(re({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(_,0)})},Nwe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Awe=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(v,b){var w=b.graphicalItems,_=b.stackGroups,S=b.offset,P=b.updateId,E=b.dataStartIndex,k=b.dataEndIndex,N=v.barSize,I=v.layout,A=v.barGap,j=v.barCategoryGap,O=v.maxBarSize,$=KA(I),M=$.numericAxisName,D=$.cateAxisName,V=Pwe(w),F=[];return w.forEach(function(U,H){var G=U2(v.data,{graphicalItems:[U],dataStartIndex:E,dataEndIndex:k}),K=U.type.defaultProps!==void 0?re(re({},U.type.defaultProps),U.props):U.props,ne=K.dataKey,ce=K.maxBarSize,pe=K["".concat(M,"Id")],ee=K["".concat(D,"Id")],we={},Ce=l.reduce(function(X,ue){var Ie=b["".concat(ue.axisType,"Map")],Ye=K["".concat(ue.axisType,"Id")];Ie&&Ie[Ye]||ue.axisType==="zAxis"||Zo();var Be=Ie[Ye];return re(re({},X),{},Fe(Fe({},ue.axisType,Be),"".concat(ue.axisType,"Ticks"),i0(Be)))},we),ie=Ce[D],be=Ce["".concat(D,"Ticks")],Z=_&&_[pe]&&_[pe].hasStack&&J5e(U,_[pe].stackGroups),W=u0(U.type).indexOf("Bar")>=0,de=Ym(ie,be),ke=[],ge=V&&$5e({barSize:N,stackGroups:_,totalSize:Nwe(Ce,D)});if(W){var ve,Re,bt=lt(ce)?O:ce,Ke=(ve=(Re=Ym(ie,be,!0))!==null&&Re!==void 0?Re:bt)!==null&&ve!==void 0?ve:0;ke=D5e({barGap:A,barCategoryGap:j,bandSize:Ke!==de?Ke:de,sizeList:ge[ee],maxBarSize:bt}),Ke!==de&&(ke=ke.map(function(X){return re(re({},X),{},{position:re(re({},X.position),{},{offset:X.position.offset-Ke/2})})}))}var et=U&&U.type&&U.type.getComposedData;et&&F.push({props:re(re({},et(re(re({},Ce),{},{displayedData:G,props:v,dataKey:ne,item:U,bandSize:de,barPosition:ke,offset:S,stackedData:Z,layout:I,dataStartIndex:E,dataEndIndex:k}))),{},Fe(Fe(Fe({key:U.key||"item-".concat(H)},M,Ce[M]),D,Ce[D]),"animationId",P)),childIndex:jse(U,v.children),item:U})}),F},p=function(v,b){var w=v.props,_=v.dataStartIndex,S=v.dataEndIndex,P=v.updateId;if(!wP({props:w}))return null;var E=w.children,k=w.layout,N=w.stackOffset,I=w.data,A=w.reverseStackOrder,j=KA(k),O=j.numericAxisName,$=j.cateAxisName,M=ea(E,r),D=Y5e(I,M,"".concat(O,"Id"),"".concat($,"Id"),N,A),V=l.reduce(function(K,ne){var ce="".concat(ne.axisType,"Map");return re(re({},K),{},Fe({},ce,Ewe(w,re(re({},ne),{},{graphicalItems:M,stackGroups:ne.axisType===O&&D,dataStartIndex:_,dataEndIndex:S}))))},{}),F=Twe(re(re({},V),{},{props:w,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(V).forEach(function(K){V[K]=u(w,V[K],F,K.replace("Map",""),n)});var U=V["".concat($,"Map")],H=kwe(U),G=h(w,re(re({},V),{},{dataStartIndex:_,dataEndIndex:S,updateId:P,graphicalItems:M,stackGroups:D,offset:F}));return re(re({formattedGraphicalItems:G,graphicalItems:M,offset:F,stackGroups:D},H),V)},g=function(y){function v(b){var w,_,S;return owe(this,v),S=uwe(this,v,[b]),Fe(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(S,"accessibilityManager",new Gbe),Fe(S,"handleLegendBBoxUpdate",function(P){if(P){var E=S.state,k=E.dataStartIndex,N=E.dataEndIndex,I=E.updateId;S.setState(re({legendBBox:P},p({props:S.props,dataStartIndex:k,dataEndIndex:N,updateId:I},re(re({},S.state),{},{legendBBox:P}))))}}),Fe(S,"handleReceiveSyncEvent",function(P,E,k){if(S.props.syncId===P){if(k===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),Fe(S,"handleBrushChange",function(P){var E=P.startIndex,k=P.endIndex;if(E!==S.state.dataStartIndex||k!==S.state.dataEndIndex){var N=S.state.updateId;S.setState(function(){return re({dataStartIndex:E,dataEndIndex:k},p({props:S.props,dataStartIndex:E,dataEndIndex:k,updateId:N},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:k})}}),Fe(S,"handleMouseEnter",function(P){var E=S.getMouseInfo(P);if(E){var k=re(re({},E),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var N=S.props.onMouseEnter;Qe(N)&&N(k,P)}}),Fe(S,"triggeredAfterMouseMove",function(P){var E=S.getMouseInfo(P),k=E?re(re({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var N=S.props.onMouseMove;Qe(N)&&N(k,P)}),Fe(S,"handleItemMouseEnter",function(P){S.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Fe(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Fe(S,"handleMouseMove",function(P){P.persist(),S.throttleTriggeredAfterMouseMove(P)}),Fe(S,"handleMouseLeave",function(P){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var k=S.props.onMouseLeave;Qe(k)&&k(E,P)}),Fe(S,"handleOuterEvent",function(P){var E=Ose(P),k=ki(S.props,"".concat(E));if(E&&Qe(k)){var N,I;/.*touch.*/i.test(E)?I=S.getMouseInfo(P.changedTouches[0]):I=S.getMouseInfo(P),k((N=I)!==null&&N!==void 0?N:{},P)}}),Fe(S,"handleClick",function(P){var E=S.getMouseInfo(P);if(E){var k=re(re({},E),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var N=S.props.onClick;Qe(N)&&N(k,P)}}),Fe(S,"handleMouseDown",function(P){var E=S.props.onMouseDown;if(Qe(E)){var k=S.getMouseInfo(P);E(k,P)}}),Fe(S,"handleMouseUp",function(P){var E=S.props.onMouseUp;if(Qe(E)){var k=S.getMouseInfo(P);E(k,P)}}),Fe(S,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Fe(S,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseDown(P.changedTouches[0])}),Fe(S,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseUp(P.changedTouches[0])}),Fe(S,"handleDoubleClick",function(P){var E=S.props.onDoubleClick;if(Qe(E)){var k=S.getMouseInfo(P);E(k,P)}}),Fe(S,"handleContextMenu",function(P){var E=S.props.onContextMenu;if(Qe(E)){var k=S.getMouseInfo(P);E(k,P)}}),Fe(S,"triggerSyncEvent",function(P){S.props.syncId!==void 0&&N6.emit(A6,S.props.syncId,P,S.eventEmitterSymbol)}),Fe(S,"applySyncEvent",function(P){var E=S.props,k=E.layout,N=E.syncMethod,I=S.state.updateId,A=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)S.setState(re({dataStartIndex:A,dataEndIndex:j},p({props:S.props,dataStartIndex:A,dataEndIndex:j,updateId:I},S.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,$=P.chartY,M=P.activeTooltipIndex,D=S.state,V=D.offset,F=D.tooltipTicks;if(!V)return;if(typeof N=="function")M=N(F,P);else if(N==="value"){M=-1;for(var U=0;U<F.length;U++)if(F[U].value===P.activeLabel){M=U;break}}var H=re(re({},V),{},{x:V.left,y:V.top}),G=Math.min(O,H.x+H.width),K=Math.min($,H.y+H.height),ne=F[M]&&F[M].value,ce=qv(S.state,S.props.data,M),pe=F[M]?{x:k==="horizontal"?F[M].coordinate:G,y:k==="horizontal"?K:F[M].coordinate}:YV;S.setState(re(re({},P),{},{activeLabel:ne,activeCoordinate:pe,activePayload:ce,activeTooltipIndex:M}))}else S.setState(P)}),Fe(S,"renderCursor",function(P){var E,k=S.state,N=k.isTooltipActive,I=k.activeCoordinate,A=k.activePayload,j=k.offset,O=k.activeTooltipIndex,$=k.tooltipAxisBandSize,M=S.getTooltipEventType(),D=(E=P.props.active)!==null&&E!==void 0?E:N,V=S.props.layout,F=P.key||"_recharts-cursor";return B.createElement(ewe,{key:F,activeCoordinate:I,activePayload:A,activeTooltipIndex:O,chartName:n,element:P,isActive:D,layout:V,offset:j,tooltipAxisBandSize:$,tooltipEventType:M})}),Fe(S,"renderPolarAxis",function(P,E,k){var N=ki(P,"type.axisType"),I=ki(S.state,"".concat(N,"Map")),A=P.type.defaultProps,j=A!==void 0?re(re({},A),P.props):P.props,O=I&&I[j["".concat(N,"Id")]];return R.cloneElement(P,re(re({},O),{},{className:mt(N,O.className),key:P.key||"".concat(E,"-").concat(k),ticks:i0(O,!0)}))}),Fe(S,"renderPolarGrid",function(P){var E=P.props,k=E.radialLines,N=E.polarAngles,I=E.polarRadius,A=S.state,j=A.radiusAxisMap,O=A.angleAxisMap,$=es(j),M=es(O),D=M.cx,V=M.cy,F=M.innerRadius,U=M.outerRadius;return R.cloneElement(P,{polarAngles:Array.isArray(N)?N:i0(M,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(I)?I:i0($,!0).map(function(H){return H.coordinate}),cx:D,cy:V,innerRadius:F,outerRadius:U,key:P.key||"polar-grid",radialLines:k})}),Fe(S,"renderLegend",function(){var P=S.state.formattedGraphicalItems,E=S.props,k=E.children,N=E.width,I=E.height,A=S.props.margin||{},j=N-(A.left||0)-(A.right||0),O=DF({children:k,formattedGraphicalItems:P,legendWidth:j,legendContent:c});if(!O)return null;var $=O.item,M=qA(O,twe);return R.cloneElement($,re(re({},M),{},{chartWidth:N,chartHeight:I,margin:A,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Fe(S,"renderTooltip",function(){var P,E=S.props,k=E.children,N=E.accessibilityLayer,I=zr(k,da);if(!I)return null;var A=S.state,j=A.isTooltipActive,O=A.activeCoordinate,$=A.activePayload,M=A.activeLabel,D=A.offset,V=(P=I.props.active)!==null&&P!==void 0?P:j;return R.cloneElement(I,{viewBox:re(re({},D),{},{x:D.left,y:D.top}),active:V,label:M,payload:V?$:[],coordinate:O,accessibilityLayer:N})}),Fe(S,"renderBrush",function(P){var E=S.props,k=E.margin,N=E.data,I=S.state,A=I.offset,j=I.dataStartIndex,O=I.dataEndIndex,$=I.updateId;return R.cloneElement(P,{key:P.key||"_recharts-brush",onChange:bp(S.handleBrushChange,P.props.onChange),data:N,x:ye(P.props.x)?P.props.x:A.left,y:ye(P.props.y)?P.props.y:A.top+A.height+A.brushBottom-(k.bottom||0),width:ye(P.props.width)?P.props.width:A.width,startIndex:j,endIndex:O,updateId:"brush-".concat($)})}),Fe(S,"renderReferenceElement",function(P,E,k){if(!P)return null;var N=S,I=N.clipPathId,A=S.state,j=A.xAxisMap,O=A.yAxisMap,$=A.offset,M=P.type.defaultProps||{},D=P.props,V=D.xAxisId,F=V===void 0?M.xAxisId:V,U=D.yAxisId,H=U===void 0?M.yAxisId:U;return R.cloneElement(P,{key:P.key||"".concat(E,"-").concat(k),xAxis:j[F],yAxis:O[H],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:I})}),Fe(S,"renderActivePoints",function(P){var E=P.item,k=P.activePoint,N=P.basePoint,I=P.childIndex,A=P.isRange,j=[],O=E.props.key,$=E.item.type.defaultProps!==void 0?re(re({},E.item.type.defaultProps),E.item.props):E.item.props,M=$.activeDot,D=$.dataKey,V=re(re({index:I,dataKey:D,cx:k.x,cy:k.y,r:4,fill:qb(E.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},nt(M,!1)),bm(M));return j.push(v.renderActiveDot(M,V,"".concat(O,"-activePoint-").concat(I))),N?j.push(v.renderActiveDot(M,re(re({},V),{},{cx:N.x,cy:N.y}),"".concat(O,"-basePoint-").concat(I))):A&&j.push(null),j}),Fe(S,"renderGraphicChild",function(P,E,k){var N=S.filterFormatItem(P,E,k);if(!N)return null;var I=S.getTooltipEventType(),A=S.state,j=A.isTooltipActive,O=A.tooltipAxis,$=A.activeTooltipIndex,M=A.activeLabel,D=S.props.children,V=zr(D,da),F=N.props,U=F.points,H=F.isRange,G=F.baseLine,K=N.item.type.defaultProps!==void 0?re(re({},N.item.type.defaultProps),N.item.props):N.item.props,ne=K.activeDot,ce=K.hide,pe=K.activeBar,ee=K.activeShape,we=!!(!ce&&j&&V&&(ne||pe||ee)),Ce={};I!=="axis"&&V&&V.props.trigger==="click"?Ce={onClick:bp(S.handleItemMouseEnter,P.props.onClick)}:I!=="axis"&&(Ce={onMouseLeave:bp(S.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:bp(S.handleItemMouseEnter,P.props.onMouseEnter)});var ie=R.cloneElement(P,re(re({},N.props),Ce));function be(ue){return typeof O.dataKey=="function"?O.dataKey(ue.payload):null}if(we)if($>=0){var Z,W;if(O.dataKey&&!O.allowDuplicatedCategory){var de=typeof O.dataKey=="function"?be:"payload.".concat(O.dataKey.toString());Z=xm(U,de,M),W=H&&G&&xm(G,de,M)}else Z=U==null?void 0:U[$],W=H&&G&&G[$];if(ee||pe){var ke=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[R.cloneElement(P,re(re(re({},N.props),Ce),{},{activeIndex:ke})),null,null]}if(!lt(Z))return[ie].concat(ru(S.renderActivePoints({item:N,activePoint:Z,basePoint:W,childIndex:$,isRange:H})))}else{var ge,ve=(ge=S.getItemByXY(S.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:ie},Re=ve.graphicalItem,bt=Re.item,Ke=bt===void 0?P:bt,et=Re.childIndex,X=re(re(re({},N.props),Ce),{},{activeIndex:et});return[R.cloneElement(Ke,X),null,null]}return H?[ie,null,null]:[ie,null]}),Fe(S,"renderCustomized",function(P,E,k){return R.cloneElement(P,re(re({key:"recharts-customized-".concat(k)},S.props),S.state))}),Fe(S,"renderMap",{CartesianGrid:{handler:kp,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:kp},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:kp},YAxis:{handler:kp},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:p4("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=$L(S.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return hwe(v,y),cwe(v,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,S=w.data,P=w.height,E=w.layout,k=zr(_,da);if(k){var N=k.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,A=qv(this.state,S,N,I),j=this.state.tooltipTicks[N].coordinate,O=(this.state.offset.top+P)/2,$=E==="horizontal",M=$?{x:j,y:O}:{y:j,x:O},D=this.state.formattedGraphicalItems.find(function(F){var U=F.item;return U.type.name==="Scatter"});D&&(M=re(re({},M),D.props.points[N].tooltipPosition),A=D.props.points[N].tooltipPayload);var V={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:I,activePayload:A,activeCoordinate:M};this.setState(V),this.renderCursor(k),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,P;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){E7([zr(w.children,da)],[zr(this.props.children,da)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=zr(this.props.children,da);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return o.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),P=sme(S),E={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},k=S.width/_.offsetWidth||1,N=this.inRange(E.chartX,E.chartY,k);if(!N)return null;var I=this.state,A=I.xAxisMap,j=I.yAxisMap,O=this.getTooltipEventType(),$=HA(this.state,this.props.data,this.props.layout,N);if(O!=="axis"&&A&&j){var M=es(A).scale,D=es(j).scale,V=M&&M.invert?M.invert(E.chartX):null,F=D&&D.invert?D.invert(E.chartY):null;return re(re({},E),{},{xValue:V,yValue:F},$)}return $?re(re({},E),$):null}},{key:"inRange",value:function(w,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,E=w/S,k=_/S;if(P==="horizontal"||P==="vertical"){var N=this.state.offset,I=E>=N.left&&E<=N.left+N.width&&k>=N.top&&k<=N.top+N.height;return I?{x:E,y:k}:null}var A=this.state,j=A.angleAxisMap,O=A.radiusAxisMap;if(j&&O){var $=es(j);return CN({x:E,y:k},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),S=zr(w,da),P={};S&&_==="axis"&&(S.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=bm(this.props,this.handleOuterEvent);return re(re({},E),P)}},{key:"addListener",value:function(){N6.on(A6,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){N6.removeListener(A6,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,S){for(var P=this.state.formattedGraphicalItems,E=0,k=P.length;E<k;E++){var N=P[E];if(N.item===w||N.props.key===w.key||_===u0(N.item.type)&&S===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,S=_.left,P=_.top,E=_.height,k=_.width;return B.createElement("defs",null,B.createElement("clipPath",{id:w},B.createElement("rect",{x:S,y:P,height:E,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,S){var P=zA(S,2),E=P[0],k=P[1];return re(re({},_),{},Fe({},E,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,S){var P=zA(S,2),E=P[0],k=P[1];return re(re({},_),{},Fe({},E,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,S=_.formattedGraphicalItems,P=_.activeItem;if(S&&S.length)for(var E=0,k=S.length;E<k;E++){var N=S[E],I=N.props,A=N.item,j=A.type.defaultProps!==void 0?re(re({},A.type.defaultProps),A.props):A.props,O=u0(A.type);if(O==="Bar"){var $=(I.data||[]).find(function(F){return G7e(w,F)});if($)return{graphicalItem:N,payload:$}}else if(O==="RadialBar"){var M=(I.data||[]).find(function(F){return CN(w,F)});if(M)return{graphicalItem:N,payload:M}}else if(O2(N,P)||j2(N,P)||Ah(N,P)){var D=Qve({graphicalItem:N,activeTooltipItem:P,itemData:j.data}),V=j.activeIndex===void 0?D:j.activeIndex;return{graphicalItem:re(re({},N),{},{childIndex:V}),payload:Ah(N,P)?j.data[D]:N.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!wP(this))return null;var _=this.props,S=_.children,P=_.className,E=_.width,k=_.height,N=_.style,I=_.compact,A=_.title,j=_.desc,O=qA(_,nwe),$=nt(O,!1);if(I)return B.createElement(PA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(P7,Xl({},$,{width:E,height:k,title:A,desc:j}),this.renderClipPath(),SP(S,this.renderMap)));if(this.props.accessibilityLayer){var M,D;$.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,$.role=(D=this.props.role)!==null&&D!==void 0?D:"application",$.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},$.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return B.createElement(PA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",Xl({className:mt("recharts-wrapper",P),style:re({position:"relative",cursor:"default",width:E,height:k},N)},V,{ref:function(U){w.container=U}}),B.createElement(P7,Xl({},$,{width:E,height:k,title:A,desc:j,style:xwe}),this.renderClipPath(),SP(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(R.Component);Fe(g,"displayName",n),Fe(g,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Fe(g,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,w=y.data,_=y.children,S=y.width,P=y.height,E=y.layout,k=y.stackOffset,N=y.margin,I=v.dataStartIndex,A=v.dataEndIndex;if(v.updateId===void 0){var j=GA(y);return re(re(re({},j),{},{updateId:0},p(re(re({props:y},j),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:P,prevLayout:E,prevStackOffset:k,prevMargin:N,prevChildren:_})}if(b!==v.prevDataKey||w!==v.prevData||S!==v.prevWidth||P!==v.prevHeight||E!==v.prevLayout||k!==v.prevStackOffset||!mc(N,v.prevMargin)){var O=GA(y),$={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},M=re(re({},HA(v,w,E)),{},{updateId:v.updateId+1}),D=re(re(re({},O),$),M);return re(re(re({},D),p(re({props:y},D),v)),{},{prevDataKey:b,prevData:w,prevWidth:S,prevHeight:P,prevLayout:E,prevStackOffset:k,prevMargin:N,prevChildren:_})}if(!E7(_,v.prevChildren)){var V,F,U,H,G=zr(_,Gc),K=G&&(V=(F=G.props)===null||F===void 0?void 0:F.startIndex)!==null&&V!==void 0?V:I,ne=G&&(U=(H=G.props)===null||H===void 0?void 0:H.endIndex)!==null&&U!==void 0?U:A,ce=K!==I||ne!==A,pe=!lt(w),ee=pe&&!ce?v.updateId:v.updateId+1;return re(re({updateId:ee},p(re(re({props:y},v),{},{updateId:ee,dataStartIndex:K,dataEndIndex:ne}),v)),{},{prevChildren:_,dataStartIndex:K,dataEndIndex:ne})}return null}),Fe(g,"renderActiveDot",function(y,v,b){var w;return R.isValidElement(y)?w=R.cloneElement(y,v):Qe(y)?w=y(v):w=B.createElement(Hb,v),B.createElement(Qt,{className:"recharts-active-dot",key:b},w)});var x=R.forwardRef(function(v,b){return B.createElement(g,Xl({},v,{ref:b}))});return x.displayName=g.displayName,x},Iwe=Awe({chartName:"AreaChart",GraphicalChild:Js,axisComponents:[{axisType:"xAxis",AxisComp:F2},{axisType:"yAxis",AxisComp:V2}],formatAxisMap:w8e});const XV=6048e5,Cwe=864e5,JV=6e4,ZV=36e5,YA=Symbol.for("constructDateFrom");function ni(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&YA in t?t[YA](e):t instanceof Date?new t.constructor(e):new Date(e)}function Lt(t,e){return ni(e||t,t)}function eU(t,e,n){const r=Lt(t,n==null?void 0:n.in);return isNaN(e)?ni(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function u3(t,e,n){const r=Lt(t,n==null?void 0:n.in);if(isNaN(e))return ni(t,NaN);if(!e)return r;const i=r.getDate(),a=ni(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let Owe={};function B2(){return Owe}function iu(t,e){var o,l,c,u;const n=B2(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Lt(t,e==null?void 0:e.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function x1(t,e){return iu(t,{...e,weekStartsOn:1})}function tU(t,e){const n=Lt(t,e==null?void 0:e.in),r=n.getFullYear(),i=ni(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=x1(i),s=ni(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=x1(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function QA(t){const e=Lt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function w4(t,...e){const n=ni.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function a0(t,e){const n=Lt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function nU(t,e,n){const[r,i]=w4(n==null?void 0:n.in,t,e),a=a0(r),s=a0(i),o=+a-QA(a),l=+s-QA(s);return Math.round((o-l)/Cwe)}function jwe(t,e){const n=tU(t,e),r=ni(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),x1(r)}function Jl(t,e,n){const[r,i]=w4(n==null?void 0:n.in,t,e);return+a0(r)==+a0(i)}function Rwe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Mwe(t){return!(!Rwe(t)&&typeof t!="number"||isNaN(+Lt(t)))}function $we(t,e,n){const[r,i]=w4(n==null?void 0:n.in,t,e),a=XA(r,i),s=Math.abs(nU(r,i));r.setDate(r.getDate()-a*s);const o=+(XA(r,i)===-a),l=a*(s-o);return l===0?0:l}function XA(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function d3(t,e){const n=Lt(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function Dwe(t,e){const n=Lt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Lwe(t,e){const[n,r]=w4(t,e.start,e.end);return{start:n,end:r}}function Fwe(t,e){const{start:n,end:r}=Lwe(e==null?void 0:e.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(ni(n,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function Vwe(t,e){const n=Lt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Uwe(t,e){const n=Lt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Bwe(t,e){const n=e==null?void 0:e.weekStartsOn,r=Lt(t,e==null?void 0:e.in),i=r.getDay(),a=(i<n?-7:0)+6-(i-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}const zwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qwe=(t,e,n)=>{let r;const i=zwe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function C6(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Wwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hwe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gwe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kwe={date:C6({formats:Wwe,defaultWidth:"full"}),time:C6({formats:Hwe,defaultWidth:"full"}),dateTime:C6({formats:Gwe,defaultWidth:"full"})},Ywe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qwe=(t,e,n,r)=>Ywe[t];function xd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Xwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},e_e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},t_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},n_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},r_e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},i_e={ordinalNumber:r_e,era:xd({values:Xwe,defaultWidth:"wide"}),quarter:xd({values:Jwe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:xd({values:Zwe,defaultWidth:"wide"}),day:xd({values:e_e,defaultWidth:"wide"}),dayPeriod:xd({values:t_e,defaultWidth:"wide",formattingValues:n_e,defaultFormattingWidth:"wide"})};function bd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?s_e(o,d=>d.test(s)):a_e(o,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function a_e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function s_e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function o_e(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const l_e=/^(\d+)(th|st|nd|rd)?/i,c_e=/\d+/i,u_e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},d_e={any:[/^b/i,/^(a|c)/i]},f_e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},h_e={any:[/1/i,/2/i,/3/i,/4/i]},p_e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},m_e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},g_e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},y_e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v_e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},x_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b_e={ordinalNumber:o_e({matchPattern:l_e,parsePattern:c_e,valueCallback:t=>parseInt(t,10)}),era:bd({matchPatterns:u_e,defaultMatchWidth:"wide",parsePatterns:d_e,defaultParseWidth:"any"}),quarter:bd({matchPatterns:f_e,defaultMatchWidth:"wide",parsePatterns:h_e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bd({matchPatterns:p_e,defaultMatchWidth:"wide",parsePatterns:m_e,defaultParseWidth:"any"}),day:bd({matchPatterns:g_e,defaultMatchWidth:"wide",parsePatterns:y_e,defaultParseWidth:"any"}),dayPeriod:bd({matchPatterns:v_e,defaultMatchWidth:"any",parsePatterns:x_e,defaultParseWidth:"any"})},w_e={code:"en-US",formatDistance:qwe,formatLong:Kwe,formatRelative:Qwe,localize:i_e,match:b_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function __e(t,e){const n=Lt(t,e==null?void 0:e.in);return nU(n,Uwe(n))+1}function S_e(t,e){const n=Lt(t,e==null?void 0:e.in),r=+x1(n)-+jwe(n);return Math.round(r/XV)+1}function rU(t,e){var u,d,h,p;const n=Lt(t,e==null?void 0:e.in),r=n.getFullYear(),i=B2(),a=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=ni((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=iu(s,e),l=ni((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=iu(l,e);return+n>=+o?r+1:+n>=+c?r:r-1}function E_e(t,e){var o,l,c,u;const n=B2(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=rU(t,e),a=ni((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),iu(a,e)}function k_e(t,e){const n=Lt(t,e==null?void 0:e.in),r=+iu(n,e)-+E_e(n,e);return Math.round(r/XV)+1}function Et(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const B0={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Et(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Et(n+1,2)},d(t,e){return Et(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Et(t.getHours()%12||12,e.length)},H(t,e){return Et(t.getHours(),e.length)},m(t,e){return Et(t.getMinutes(),e.length)},s(t,e){return Et(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Et(i,e.length)}},Al={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},JA={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return B0.y(t,e)},Y:function(t,e,n,r){const i=rU(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Et(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Et(a,e.length)},R:function(t,e){const n=tU(t);return Et(n,e.length)},u:function(t,e){const n=t.getFullYear();return Et(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return B0.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=k_e(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Et(i,e.length)},I:function(t,e,n){const r=S_e(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Et(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):B0.d(t,e)},D:function(t,e,n){const r=__e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Et(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Et(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Et(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Et(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Al.noon:r===0?i=Al.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Al.evening:r>=12?i=Al.afternoon:r>=4?i=Al.morning:i=Al.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return B0.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):B0.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):B0.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):B0.s(t,e)},S:function(t,e){return B0.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return eI(r);case"XXXX":case"XX":return po(r);case"XXXXX":case"XXX":default:return po(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return eI(r);case"xxxx":case"xx":return po(r);case"xxxxx":case"xxx":default:return po(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ZA(r,":");case"OOOO":default:return"GMT"+po(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ZA(r,":");case"zzzz":default:return"GMT"+po(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Et(r,e.length)},T:function(t,e,n){return Et(+t,e.length)}};function ZA(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Et(a,2)}function eI(t,e){return t%60===0?(t>0?"-":"+")+Et(Math.abs(t)/60,2):po(t,e)}function po(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Et(Math.trunc(r/60),2),a=Et(r%60,2);return n+i+e+a}const tI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},iU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},P_e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return tI(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",tI(r,e)).replace("{{time}}",iU(i,e))},T_e={p:iU,P:P_e},N_e=/^D+$/,A_e=/^Y+$/,I_e=["D","DD","YY","YYYY"];function C_e(t){return N_e.test(t)}function O_e(t){return A_e.test(t)}function j_e(t,e,n){const r=R_e(t,e,n);if(console.warn(r),I_e.includes(t))throw new RangeError(r)}function R_e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const M_e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,D_e=/^'([^]*?)'?$/,L_e=/''/g,F_e=/[a-zA-Z]/;function fi(t,e,n){var u,d,h,p;const r=B2(),i=r.locale??w_e,a=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Lt(t,n==null?void 0:n.in);if(!Mwe(o))throw new RangeError("Invalid time value");let l=e.match($_e).map(g=>{const x=g[0];if(x==="p"||x==="P"){const y=T_e[x];return y(g,i.formatLong)}return g}).join("").match(M_e).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:V_e(g)};if(JA[x])return{isToken:!0,value:g};if(x.match(F_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const x=g.value;(O_e(x)||C_e(x))&&j_e(x,e,String(t));const y=JA[x[0]];return y(o,x,i.localize,c)}).join("")}function V_e(t){const e=t.match(D_e);return e?e[1].replace(L_e,"'"):t}function aU(t,e){return+Lt(t)>+Lt(e)}function wd(t,e){return+Lt(t)<+Lt(e)}function U_e(t,e,n){const[r,i]=w4(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function xc(t,e,n){const r=+Lt(t,n==null?void 0:n.in),[i,a]=[+Lt(e.start,n==null?void 0:n.in),+Lt(e.end,n==null?void 0:n.in)].sort((s,o)=>s-o);return r>=i&&r<=a}function nw(t,e,n){return eU(t,-e,n)}function fa(t,e){const n=()=>ni(e==null?void 0:e.in,NaN),i=W_e(t);let a;if(i.date){const c=H_e(i.date,2);a=G_e(c.restDateString,c.year)}if(!a||isNaN(+a))return n();const s=+a;let o=0,l;if(i.time&&(o=K_e(i.time),isNaN(o)))return n();if(i.timezone){if(l=Y_e(i.timezone),isNaN(l))return n()}else{const c=new Date(s+o),u=Lt(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return Lt(s+o+l,e==null?void 0:e.in)}const Pp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},B_e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,z_e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,q_e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function W_e(t){const e={},n=t.split(Pp.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Pp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Pp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Pp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function H_e(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function G_e(t,e){if(e===null)return new Date(NaN);const n=t.match(B_e);if(!n)return new Date(NaN);const r=!!n[4],i=_d(n[1]),a=_d(n[2])-1,s=_d(n[3]),o=_d(n[4]),l=_d(n[5])-1;if(r)return eSe(e,o,l)?Q_e(e,o,l):new Date(NaN);{const c=new Date(0);return!J_e(e,a,s)||!Z_e(e,i)?new Date(NaN):(c.setUTCFullYear(e,a,Math.max(i,s)),c)}}function _d(t){return t?parseInt(t):1}function K_e(t){const e=t.match(z_e);if(!e)return NaN;const n=O6(e[1]),r=O6(e[2]),i=O6(e[3]);return tSe(n,r,i)?n*ZV+r*JV+i*1e3:NaN}function O6(t){return t&&parseFloat(t.replace(",","."))||0}function Y_e(t){if(t==="Z")return 0;const e=t.match(q_e);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return nSe(r,i)?n*(r*ZV+i*JV):NaN}function Q_e(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const X_e=[31,null,31,30,31,30,31,31,30,31,30,31];function sU(t){return t%400===0||t%4===0&&t%100!==0}function J_e(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(X_e[e]||(sU(t)?29:28))}function Z_e(t,e){return e>=1&&e<=(sU(t)?366:365)}function eSe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function tSe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function nSe(t,e){return e>=0&&e<=59}function rSe(t,e,n){return u3(t,-1,n)}const rw=({onChange:t,initialRange:e,range:n,onRangeChange:r,brandColor:i})=>{const[a,s]=R.useState(!1),[o,l]=R.useState(n||e||{from:null,to:null}),[c,u]=R.useState(null),[d,h]=R.useState(new Date),p=R.useRef(null);R.useEffect(()=>{const E=k=>{p.current&&!p.current.contains(k.target)&&s(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const g=E=>{const k=t||r,N=a0(E);if(!o.from||o.from&&o.to)l({from:N,to:null});else{let I;wd(E,o.from)?I={from:a0(E),to:d3(o.from)}:I={from:a0(o.from),to:d3(E)},l(I),k&&k(I)}},x=E=>{o.from&&!o.to?u(E):u(null)},y=()=>{s(!1);const E=t||r;if(E){const k={...o};o.from&&(k.from=a0(o.from)),o.to&&(k.to=d3(o.to)),E(k)}},v=()=>{s(!1),l(n||e||{from:null,to:null})};R.useEffect(()=>{n&&l(n)},[n]);const b=()=>o.from&&o.to?`${fi(o.from,"d MMM yyyy")}  ${fi(o.to,"d MMM yyyy")}`:o.from?`${fi(o.from,"d MMM yyyy")}  Select end date`:"",w=E=>{const k=Vwe(E),N=Dwe(k),I=iu(k,{weekStartsOn:1}),A=Bwe(N,{weekStartsOn:1});let j=I;const O=[];let $=[];for(;j<=A;)$.push(j),$.length===7&&(O.push($),$=[]),j=eU(j,1);return f.jsx("div",{className:"grid grid-cols-7 gap-y-2",children:O.map((M,D)=>M.map((V,F)=>{const U=o.from&&Jl(V,o.from),H=o.to&&Jl(V,o.to),G=o.from&&o.to&&xc(V,{start:o.from,end:o.to});let K=!1;if(o.from&&!o.to&&c){const ie=wd(o.from,c)?o.from:c,be=aU(o.from,c)?o.from:c;K=xc(V,{start:ie,end:be})&&!Jl(V,o.from)}const ne=U_e(V,k);let ce="relative w-10 h-10 flex items-center justify-center",pe="w-10 h-10 flex items-center justify-center text-sm relative z-10 cursor-pointer rounded-full transition-colors font-medium",ee="",we="text-gray-700 dark:text-slate-300";ne?U?(ee="bg-accent text-white font-semibold shadow-accent z-20 brightness-110",we="text-white"):H?ee="bg-white dark:bg-slate-800 border-2 border-accent text-accent font-semibold z-20 hover:brightness-110":G||K?we="text-accent font-semibold":pe+=" hover:bg-slate-100 dark:hover:bg-slate-700":we="text-gray-300 dark:text-slate-600 pointer-events-none";let Ce="";return ne&&(G||K)&&(Ce="absolute h-10 z-0 top-0 bottom-0",U&&(o.to||c)?Ce+=wd(o.to||c,o.from)?" left-0 right-1/2":" left-1/2 right-0 rounded-l-none":H?Ce+=" left-0 right-1/2 rounded-r-none":Jl(V,c)&&o.from?Ce+=wd(c,o.from)?" left-1/2 right-0":" left-0 right-1/2":Ce+=" left-0 right-0",U&&o.to&&wd(o.to,o.from)&&(Ce="absolute h-10 z-0 top-0 bottom-0 left-0 right-1/2")),f.jsxs("div",{className:ce,role:"button","aria-label":`Select ${fi(V,"d MMMM yyyy")}`,tabIndex:ne?0:-1,onMouseEnter:()=>x(V),onClick:()=>g(V),onKeyDown:ie=>{(ie.key==="Enter"||ie.key===" ")&&(ie.preventDefault(),g(V))},children:[Ce&&f.jsx("div",{className:Ce,style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}}),f.jsx("div",{className:`${pe} ${ee} ${we}`,children:fi(V,"d")})]},V.toISOString())}))})},_=()=>h(u3(d,1)),S=()=>h(rSe(d)),P=["Mo","Tu","We","Th","Fr","Sa","Su"];return f.jsxs("div",{className:"relative w-full max-w-xl font-sans",ref:p,children:[f.jsxs("div",{className:"relative flex items-center w-full outline-none focus-visible:outline-none",onClick:()=>s(!a),role:"button","aria-haspopup":"dialog","aria-expanded":a,"aria-label":"Select date range",tabIndex:0,onKeyDown:E=>{(E.key==="Enter"||E.key===" ")&&s(!a)},children:[f.jsx("div",{className:`w-full h-[44px] flex items-center ps-4 pe-10 bg-white dark:bg-slate-800 border-2 rounded-2xl cursor-pointer transition-all shadow-sm font-bold
            ${a?"border-accent/30 ring-4 ring-accent/10 bg-accent/5 dark:border-slate-500 dark:ring-0 dark:bg-slate-800":"border-slate-100 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"}`,children:f.jsx("span",{className:`text-[11px] font-bold ${o.from?"text-gray-900 dark:text-white":"text-gray-500 dark:text-slate-400"}`,children:o.from?b():"Select date range"})}),f.jsx(Qj,{className:`absolute end-3 w-4 h-4 pointer-events-none transition-colors ${a?"text-accent":"text-slate-400"}`})]}),a&&f.jsxs("div",{className:"absolute top-full start-0 mt-4 z-50 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-gray-100 dark:border-slate-700 p-0 overflow-hidden w-[680px] animate-in fade-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true","aria-label":"Calendar date range picker",children:[f.jsxs("div",{className:"flex flex-col md:flex-row divide-y md:divide-y-0 md:divide-x dark:md:divide-slate-700 md:divide-gray-100",children:[f.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Previous month",children:f.jsx(W3,{className:"w-5 h-5"})}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:fi(d,"MMMM yyyy")}),f.jsx("div",{className:"w-7"})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(E=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:E},E))}),w(d)]}),f.jsxs("div",{className:"p-6 flex-1 min-w-[320px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("div",{className:"w-7"}),f.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:fi(u3(d,1),"MMMM yyyy")}),f.jsx("button",{onClick:_,className:"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 dark:text-slate-400 transition-colors","aria-label":"Next month",children:f.jsx(H3,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-4",children:P.map(E=>f.jsx("span",{className:"text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wide",children:E},E))}),w(u3(d,1))]})]}),f.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-700 p-4 flex items-center justify-between bg-white dark:bg-slate-800 px-6 py-4",children:[f.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:o.from&&o.to?`${$we(o.to,o.from)+1} days`:o.from?"Select end date":""}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:v,className:"px-6 py-2.5 text-sm font-bold text-gray-700 dark:text-slate-200 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 hover:text-gray-900 dark:hover:text-white transition-all font-sans",children:"Cancel"}),f.jsx("button",{onClick:y,className:"px-8 py-2.5 text-sm font-bold text-white bg-accent rounded-lg shadow-accent transition-all transform active:scale-95 font-sans",children:"Done"})]})]})]})]})},iSe=({title:t,options:e,selectedValues:n,onChange:r,onClear:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,collapsible:l=!1})=>{const{appearance:c}=kn(),[u,d]=R.useState(""),[h,p]=R.useState(!l),g=y=>{const v=n.includes(y)?n.filter(b=>b!==y):[...n,y];r(v)},x=o?a?e:e.filter(y=>y.label.toLowerCase().includes(u.toLowerCase())):e;return f.jsxs("div",{className:`rounded-2xl shadow-[0_2px_10px_-4px_rgba(0,0,0,0.1)] border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[t&&t.length>0&&f.jsxs("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})}),l&&f.jsx("button",{onClick:()=>p(!h),className:"p-1 rounded-full text-slate-400 hover:text-slate-600",children:h?f.jsx(q8,{className:"w-4 h-4"}):f.jsx(cl,{className:"w-4 h-4"})})]}),!a&&o&&h&&f.jsx("div",{className:"px-3 pb-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(yu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:y=>d(y.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsx("div",{className:`flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto ${h?"":"hidden"}`,children:x.map(y=>{const v=n.includes(y.value);return f.jsxs("div",{onClick:()=>g(y.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${v?"bg-accent/10":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-5 h-5 rounded-[5px] border flex items-center justify-center transition-all ${v?"bg-accent border-accent shadow-sm":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:v&&f.jsx(Xj,{className:"w-3.5 h-3.5 text-white stroke-[3px]"})}),f.jsx("span",{className:`text-sm font-semibold ${v?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:y.label})]}),f.jsx("span",{className:`text-xs font-bold ${v?"text-accent":"text-slate-400 group-hover:text-slate-500"}`,children:y.count})]},y.value)})}),n.length>0&&f.jsx("div",{className:"px-4 py-3 border-t border-slate-50 dark:border-slate-700/50",children:f.jsx("button",{onClick:i,className:"text-xs font-bold text-accent hover:underline transition-colors flex items-center gap-1",children:"Clear All"})})]})},Hi=({title:t,options:e,selectedValues:n,onChange:r,icon:i,showProductCount:a=!1,productCount:s=0,showSearch:o=!0,ariaLabel:l=null})=>{const{appearance:c}=kn(),[u,d]=R.useState(!1),h=R.useRef(null);R.useEffect(()=>{const y=v=>{h.current&&!h.current.contains(v.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const p=()=>{r([])},g=()=>{d(!1)},x=n.length>0;return f.jsxs("div",{className:"relative",ref:h,children:[f.jsxs("button",{onClick:()=>d(!u),"aria-label":l||t||"Filter",className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${u||x?"bg-accent/10 border-accent/30 dark:border-slate-500 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-600 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60 dark:hover:border-slate-500":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-600 text-slate-500 hover:border-slate-300 dark:hover:border-slate-500"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(W8,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:x?`${n.length} Selected`:t}),f.jsx(cl,{className:`w-4 h-4 transition-transform ${u?"rotate-180":""}`})]}),u&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsx(iSe,{title:"",options:e,selectedValues:n,onChange:r,onClear:p,onClose:g,showProductCount:a,productCount:s,showSearch:o})})]})};class nr{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,o=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);o&&(n[r++]=o),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}function*aSe(t){for(const e of t)yield*e}function oU(t){return Array.from(aSe(t))}function Zl(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var De=1e-6,$h=1e-12,Ze=Math.PI,on=Ze/2,b1=Ze/4,vr=Ze*2,It=180/Ze,Le=Ze/180,ut=Math.abs,Lu=Math.atan,xr=Math.atan2,Oe=Math.cos,Tp=Math.ceil,lU=Math.exp,Wv=Math.hypot,w1=Math.log,j6=Math.pow,Pe=Math.sin,wi=Math.sign||function(t){return t>0?1:t<0?-1:0},Mn=Math.sqrt,iw=Math.tan;function cU(t){return t>1?0:t<-1?Ze:Math.acos(t)}function br(t){return t>1?on:t<-1?-on:Math.asin(t)}function nI(t){return(t=Pe(t/2))*t}function Xt(){}function _1(t,e){t&&iI.hasOwnProperty(t.type)&&iI[t.type](t,e)}var rI={Feature:function(t,e){_1(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)_1(n[r].geometry,e)}},iI={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Hv(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Hv(n[r],e,0)},Polygon:function(t,e){aI(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)aI(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)_1(n[r],e)}};function Hv(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function aI(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Hv(t[n],e,1);e.polygonEnd()}function Bi(t,e){t&&rI.hasOwnProperty(t.type)?rI[t.type](t,e):_1(t,e)}var S1=new nr,E1=new nr,uU,dU,Gv,Kv,Yv,$a={point:Xt,lineStart:Xt,lineEnd:Xt,polygonStart:function(){S1=new nr,$a.lineStart=sSe,$a.lineEnd=oSe},polygonEnd:function(){var t=+S1;E1.add(t<0?vr+t:t),this.lineStart=this.lineEnd=this.point=Xt},sphere:function(){E1.add(vr)}};function sSe(){$a.point=lSe}function oSe(){fU(uU,dU)}function lSe(t,e){$a.point=fU,uU=t,dU=e,t*=Le,e*=Le,Gv=t,Kv=Oe(e=e/2+b1),Yv=Pe(e)}function fU(t,e){t*=Le,e*=Le,e=e/2+b1;var n=t-Gv,r=n>=0?1:-1,i=r*n,a=Oe(e),s=Pe(e),o=Yv*s,l=Kv*a+o*Oe(i),c=o*r*Pe(i);S1.add(xr(c,l)),Gv=t,Kv=a,Yv=s}function cSe(t){return E1=new nr,Bi(t,$a),E1*2}function k1(t){return[xr(t[1],t[0]),br(t[2])]}function tl(t){var e=t[0],n=t[1],r=Oe(n);return[r*Oe(e),r*Pe(e),Pe(n)]}function Np(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function au(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function R6(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ap(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function P1(t){var e=Mn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Kt,Tr,rn,Wr,mo,hU,pU,bc,xf,G0,k0,Ha={point:Qv,lineStart:sI,lineEnd:oI,polygonStart:function(){Ha.point=gU,Ha.lineStart=uSe,Ha.lineEnd=dSe,xf=new nr,$a.polygonStart()},polygonEnd:function(){$a.polygonEnd(),Ha.point=Qv,Ha.lineStart=sI,Ha.lineEnd=oI,S1<0?(Kt=-(rn=180),Tr=-(Wr=90)):xf>De?Wr=90:xf<-De&&(Tr=-90),k0[0]=Kt,k0[1]=rn},sphere:function(){Kt=-(rn=180),Tr=-(Wr=90)}};function Qv(t,e){G0.push(k0=[Kt=t,rn=t]),e<Tr&&(Tr=e),e>Wr&&(Wr=e)}function mU(t,e){var n=tl([t*Le,e*Le]);if(bc){var r=au(bc,n),i=[r[1],-r[0],0],a=au(i,r);P1(a),a=k1(a);var s=t-mo,o=s>0?1:-1,l=a[0]*It*o,c,u=ut(s)>180;u^(o*mo<l&&l<o*t)?(c=a[1]*It,c>Wr&&(Wr=c)):(l=(l+360)%360-180,u^(o*mo<l&&l<o*t)?(c=-a[1]*It,c<Tr&&(Tr=c)):(e<Tr&&(Tr=e),e>Wr&&(Wr=e))),u?t<mo?qr(Kt,t)>qr(Kt,rn)&&(rn=t):qr(t,rn)>qr(Kt,rn)&&(Kt=t):rn>=Kt?(t<Kt&&(Kt=t),t>rn&&(rn=t)):t>mo?qr(Kt,t)>qr(Kt,rn)&&(rn=t):qr(t,rn)>qr(Kt,rn)&&(Kt=t)}else G0.push(k0=[Kt=t,rn=t]);e<Tr&&(Tr=e),e>Wr&&(Wr=e),bc=n,mo=t}function sI(){Ha.point=mU}function oI(){k0[0]=Kt,k0[1]=rn,Ha.point=Qv,bc=null}function gU(t,e){if(bc){var n=t-mo;xf.add(ut(n)>180?n+(n>0?360:-360):n)}else hU=t,pU=e;$a.point(t,e),mU(t,e)}function uSe(){$a.lineStart()}function dSe(){gU(hU,pU),$a.lineEnd(),ut(xf)>De&&(Kt=-(rn=180)),k0[0]=Kt,k0[1]=rn,bc=null}function qr(t,e){return(e-=t)<0?e+360:e}function fSe(t,e){return t[0]-e[0]}function lI(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function hSe(t){var e,n,r,i,a,s,o;if(Wr=rn=-(Kt=Tr=1/0),G0=[],Bi(t,Ha),n=G0.length){for(G0.sort(fSe),e=1,r=G0[0],a=[r];e<n;++e)i=G0[e],lI(r,i[0])||lI(r,i[1])?(qr(r[0],i[1])>qr(r[0],r[1])&&(r[1]=i[1]),qr(i[0],r[1])>qr(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(o=qr(r[1],i[0]))>s&&(s=o,Kt=i[0],rn=r[1])}return G0=k0=null,Kt===1/0||Tr===1/0?[[NaN,NaN],[NaN,NaN]]:[[Kt,Tr],[rn,Wr]]}var $d,T1,N1,A1,I1,C1,O1,j1,Xv,Jv,Zv,yU,vU,cr,ur,dr,Gi={sphere:Xt,point:aw,lineStart:cI,lineEnd:uI,polygonStart:function(){Gi.lineStart=gSe,Gi.lineEnd=ySe},polygonEnd:function(){Gi.lineStart=cI,Gi.lineEnd=uI}};function aw(t,e){t*=Le,e*=Le;var n=Oe(e);_4(n*Oe(t),n*Pe(t),Pe(e))}function _4(t,e,n){++$d,N1+=(t-N1)/$d,A1+=(e-A1)/$d,I1+=(n-I1)/$d}function cI(){Gi.point=pSe}function pSe(t,e){t*=Le,e*=Le;var n=Oe(e);cr=n*Oe(t),ur=n*Pe(t),dr=Pe(e),Gi.point=mSe,_4(cr,ur,dr)}function mSe(t,e){t*=Le,e*=Le;var n=Oe(e),r=n*Oe(t),i=n*Pe(t),a=Pe(e),s=xr(Mn((s=ur*a-dr*i)*s+(s=dr*r-cr*a)*s+(s=cr*i-ur*r)*s),cr*r+ur*i+dr*a);T1+=s,C1+=s*(cr+(cr=r)),O1+=s*(ur+(ur=i)),j1+=s*(dr+(dr=a)),_4(cr,ur,dr)}function uI(){Gi.point=aw}function gSe(){Gi.point=vSe}function ySe(){xU(yU,vU),Gi.point=aw}function vSe(t,e){yU=t,vU=e,t*=Le,e*=Le,Gi.point=xU;var n=Oe(e);cr=n*Oe(t),ur=n*Pe(t),dr=Pe(e),_4(cr,ur,dr)}function xU(t,e){t*=Le,e*=Le;var n=Oe(e),r=n*Oe(t),i=n*Pe(t),a=Pe(e),s=ur*a-dr*i,o=dr*r-cr*a,l=cr*i-ur*r,c=Wv(s,o,l),u=br(c),d=c&&-u/c;Xv.add(d*s),Jv.add(d*o),Zv.add(d*l),T1+=u,C1+=u*(cr+(cr=r)),O1+=u*(ur+(ur=i)),j1+=u*(dr+(dr=a)),_4(cr,ur,dr)}function xSe(t){$d=T1=N1=A1=I1=C1=O1=j1=0,Xv=new nr,Jv=new nr,Zv=new nr,Bi(t,Gi);var e=+Xv,n=+Jv,r=+Zv,i=Wv(e,n,r);return i<$h&&(e=C1,n=O1,r=j1,T1<De&&(e=N1,n=A1,r=I1),i=Wv(e,n,r),i<$h)?[NaN,NaN]:[xr(n,e)*It,br(r/i)*It]}function Il(t){return function(){return t}}function e9(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function t9(t,e){return[ut(t)>Ze?t+Math.round(-t/vr)*vr:t,e]}t9.invert=t9;function sw(t,e,n){return(t%=vr)?e||n?e9(fI(t),hI(e,n)):fI(t):e||n?hI(e,n):t9}function dI(t){return function(e,n){return e+=t,[e>Ze?e-vr:e<-Ze?e+vr:e,n]}}function fI(t){var e=dI(t);return e.invert=dI(-t),e}function hI(t,e){var n=Oe(t),r=Pe(t),i=Oe(e),a=Pe(e);function s(o,l){var c=Oe(l),u=Oe(o)*c,d=Pe(o)*c,h=Pe(l),p=h*n+u*r;return[xr(d*i-p*a,u*n-h*r),br(p*i+d*a)]}return s.invert=function(o,l){var c=Oe(l),u=Oe(o)*c,d=Pe(o)*c,h=Pe(l),p=h*i-d*a;return[xr(d*i+h*a,u*n+p*r),br(p*n-u*r)]},s}function bU(t){t=sw(t[0]*Le,t[1]*Le,t.length>2?t[2]*Le:0);function e(n){return n=t(n[0]*Le,n[1]*Le),n[0]*=It,n[1]*=It,n}return e.invert=function(n){return n=t.invert(n[0]*Le,n[1]*Le),n[0]*=It,n[1]*=It,n},e}function wU(t,e,n,r,i,a){if(n){var s=Oe(e),o=Pe(e),l=r*n;i==null?(i=e+r*vr,a=e-l/2):(i=pI(s,i),a=pI(s,a),(r>0?i<a:i>a)&&(i+=r*vr));for(var c,u=i;r>0?u>a:u<a;u-=l)c=k1([s,-o*Oe(u),-o*Pe(u)]),t.point(c[0],c[1])}}function pI(t,e){e=tl(e),e[0]-=t,P1(e);var n=cU(-e[1]);return((-e[2]<0?-n:n)+vr-De)%vr}function bSe(){var t=Il([0,0]),e=Il(90),n=Il(6),r,i,a={point:s};function s(l,c){r.push(l=i(l,c)),l[0]*=It,l[1]*=It}function o(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*Le,u=n.apply(this,arguments)*Le;return r=[],i=sw(-l[0]*Le,-l[1]*Le,0).invert,wU(a,c,u,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return o.center=function(l){return arguments.length?(t=typeof l=="function"?l:Il([+l[0],+l[1]]),o):t},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Il(+l),o):e},o.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Il(+l),o):n},o}function _U(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Xt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function f3(t,e){return ut(t[0]-e[0])<De&&ut(t[1]-e[1])<De}function Ip(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function SU(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((x=g.length-1)<=0)){var x,y=g[0],v=g[x],b;if(f3(y,v)){if(!y[2]&&!v[2]){for(i.lineStart(),o=0;o<x;++o)i.point((y=g[o])[0],y[1]);i.lineEnd();return}v[0]+=2*De}a.push(b=new Ip(y,g,null,!0)),s.push(b.o=new Ip(y,null,b,!1)),a.push(b=new Ip(v,g,null,!1)),s.push(b.o=new Ip(v,null,b,!0))}}),!!a.length){for(s.sort(e),mI(a),mI(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function mI(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function M6(t){return ut(t[0])<=Ze?t[0]:wi(t[0])*((ut(t[0])+Ze)%vr-Ze)}function EU(t,e){var n=M6(e),r=e[1],i=Pe(r),a=[Pe(n),-Oe(n),0],s=0,o=0,l=new nr;i===1?r=on+De:i===-1&&(r=-on-De);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=M6(p),x=p[1]/2+b1,y=Pe(x),v=Oe(x),b=0;b<h;++b,g=_,y=P,v=E,p=w){var w=d[b],_=M6(w),S=w[1]/2+b1,P=Pe(S),E=Oe(S),k=_-g,N=k>=0?1:-1,I=N*k,A=I>Ze,j=y*P;if(l.add(xr(j*N*Pe(I),v*E+j*Oe(I))),s+=A?k+N*vr:k,A^g>=n^_>=n){var O=au(tl(p),tl(w));P1(O);var $=au(a,O);P1($);var M=(A^k>=0?-1:1)*br($[2]);(r>M||r===M&&(O[0]||O[1]))&&(o+=A^k>=0?1:-1)}}return(s<-De||s<De&&l<-$h)^o&1}function kU(t,e,n,r){return function(i){var a=e(i),s=_U(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:x,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=x,h.lineEnd=y,u=oU(u);var _=EU(c,r);u.length?(l||(i.polygonStart(),l=!0),SU(u,_Se,_,n,i)):_&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(_,S){t(_,S)&&i.point(_,S)}function g(_,S){a.point(_,S)}function x(){h.point=g,a.lineStart()}function y(){h.point=p,a.lineEnd()}function v(_,S){d.push([_,S]),o.point(_,S)}function b(){o.lineStart(),d=[]}function w(){v(d[0][0],d[0][1]),o.lineEnd();var _=o.clean(),S=s.result(),P,E=S.length,k,N,I;if(d.pop(),c.push(d),d=null,!!E){if(_&1){if(N=S[0],(k=N.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),P=0;P<k;++P)i.point((I=N[P])[0],I[1]);i.lineEnd()}return}E>1&&_&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(wSe))}}return h}}function wSe(t){return t.length>1}function _Se(t,e){return((t=t.x)[0]<0?t[1]-on-De:on-t[1])-((e=e.x)[0]<0?e[1]-on-De:on-e[1])}const n9=kU(function(){return!0},SSe,kSe,[-Ze,-on]);function SSe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?Ze:-Ze,l=ut(a-e);ut(l-Ze)<De?(t.point(e,n=(n+s)/2>0?on:-on),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=Ze&&(ut(e-r)<De&&(e-=r*De),ut(a-o)<De&&(a-=o*De),n=ESe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function ESe(t,e,n,r){var i,a,s=Pe(t-n);return ut(s)>De?Lu((Pe(e)*(a=Oe(r))*Pe(n)-Pe(r)*(i=Oe(e))*Pe(t))/(i*a*s)):(e+r)/2}function kSe(t,e,n,r){var i;if(t==null)i=n*on,r.point(-Ze,i),r.point(0,i),r.point(Ze,i),r.point(Ze,0),r.point(Ze,-i),r.point(0,-i),r.point(-Ze,-i),r.point(-Ze,0),r.point(-Ze,i);else if(ut(t[0]-e[0])>De){var a=t[0]<e[0]?Ze:-Ze;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function PU(t){var e=Oe(t),n=6*Le,r=e>0,i=ut(e)>De;function a(u,d,h,p){wU(p,t,n,h,u,d)}function s(u,d){return Oe(u)*Oe(d)>e}function o(u){var d,h,p,g,x;return{lineStart:function(){g=p=!1,x=1},point:function(y,v){var b=[y,v],w,_=s(y,v),S=r?_?0:c(y,v):_?c(y+(y<0?Ze:-Ze),v):0;if(!d&&(g=p=_)&&u.lineStart(),_!==p&&(w=l(d,b),(!w||f3(d,w)||f3(b,w))&&(b[2]=1)),_!==p)x=0,_?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^_){var P;!(S&h)&&(P=l(b,d,!0))&&(x=0,r?(u.lineStart(),u.point(P[0][0],P[0][1]),u.point(P[1][0],P[1][1]),u.lineEnd()):(u.point(P[1][0],P[1][1]),u.lineEnd(),u.lineStart(),u.point(P[0][0],P[0][1],3)))}_&&(!d||!f3(d,b))&&u.point(b[0],b[1]),d=b,p=_,h=S},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return x|(g&&p)<<1}}}function l(u,d,h){var p=tl(u),g=tl(d),x=[1,0,0],y=au(p,g),v=Np(y,y),b=y[0],w=v-b*b;if(!w)return!h&&u;var _=e*v/w,S=-e*b/w,P=au(x,y),E=Ap(x,_),k=Ap(y,S);R6(E,k);var N=P,I=Np(E,N),A=Np(N,N),j=I*I-A*(Np(E,E)-1);if(!(j<0)){var O=Mn(j),$=Ap(N,(-I-O)/A);if(R6($,E),$=k1($),!h)return $;var M=u[0],D=d[0],V=u[1],F=d[1],U;D<M&&(U=M,M=D,D=U);var H=D-M,G=ut(H-Ze)<De,K=G||H<De;if(!G&&F<V&&(U=V,V=F,F=U),K?G?V+F>0^$[1]<(ut($[0]-M)<De?V:F):V<=$[1]&&$[1]<=F:H>Ze^(M<=$[0]&&$[0]<=D)){var ne=Ap(N,(-I+O)/A);return R6(ne,E),[$,k1(ne)]}}}function c(u,d){var h=r?t:Ze-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return kU(s,o,a,r?[0,-t]:[-Ze,t-Ze])}function PSe(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var Dd=1e9,Cp=-Dd;function z2(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return ut(c[0]-t)<De?u>0?0:3:ut(c[0]-n)<De?u>0?2:1:ut(c[1]-e)<De?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=_U(),h,p,g,x,y,v,b,w,_,S,P,E={point:k,lineStart:j,lineEnd:O,polygonStart:I,polygonEnd:A};function k(M,D){i(M,D)&&u.point(M,D)}function N(){for(var M=0,D=0,V=p.length;D<V;++D)for(var F=p[D],U=1,H=F.length,G=F[0],K,ne,ce=G[0],pe=G[1];U<H;++U)K=ce,ne=pe,G=F[U],ce=G[0],pe=G[1],ne<=r?pe>r&&(ce-K)*(r-ne)>(pe-ne)*(t-K)&&++M:pe<=r&&(ce-K)*(r-ne)<(pe-ne)*(t-K)&&--M;return M}function I(){u=d,h=[],p=[],P=!0}function A(){var M=N(),D=P&&M,V=(h=oU(h)).length;(D||V)&&(c.polygonStart(),D&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),V&&SU(h,o,M,a,c),c.polygonEnd()),u=c,h=p=g=null}function j(){E.point=$,p&&p.push(g=[]),S=!0,_=!1,b=w=NaN}function O(){h&&($(x,y),v&&_&&d.rejoin(),h.push(d.result())),E.point=k,_&&u.lineEnd()}function $(M,D){var V=i(M,D);if(p&&g.push([M,D]),S)x=M,y=D,v=V,S=!1,V&&(u.lineStart(),u.point(M,D));else if(V&&_)u.point(M,D);else{var F=[b=Math.max(Cp,Math.min(Dd,b)),w=Math.max(Cp,Math.min(Dd,w))],U=[M=Math.max(Cp,Math.min(Dd,M)),D=Math.max(Cp,Math.min(Dd,D))];PSe(F,U,t,e,n,r)?(_||(u.lineStart(),u.point(F[0],F[1])),u.point(U[0],U[1]),V||u.lineEnd(),P=!1):V&&(u.lineStart(),u.point(M,D),P=!1)}b=M,w=D,_=V}return E}}function TSe(){var t=0,e=0,n=960,r=500,i,a,s;return s={stream:function(o){return i&&a===o?i:i=z2(t,e,n,r)(a=o)},extent:function(o){return arguments.length?(t=+o[0][0],e=+o[0][1],n=+o[1][0],r=+o[1][1],i=a=null,s):[[t,e],[n,r]]}}}var r9,i9,h3,p3,su={sphere:Xt,point:Xt,lineStart:NSe,lineEnd:Xt,polygonStart:Xt,polygonEnd:Xt};function NSe(){su.point=ISe,su.lineEnd=ASe}function ASe(){su.point=su.lineEnd=Xt}function ISe(t,e){t*=Le,e*=Le,i9=t,h3=Pe(e),p3=Oe(e),su.point=CSe}function CSe(t,e){t*=Le,e*=Le;var n=Pe(e),r=Oe(e),i=ut(t-i9),a=Oe(i),s=Pe(i),o=r*s,l=p3*n-h3*r*a,c=h3*n+p3*r*a;r9.add(xr(Mn(o*o+l*l),c)),i9=t,h3=n,p3=r}function TU(t){return r9=new nr,Bi(t,su),+r9}var a9=[null,null],OSe={type:"LineString",coordinates:a9};function R1(t,e){return a9[0]=t,a9[1]=e,TU(OSe)}var gI={Feature:function(t,e){return M1(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(M1(n[r].geometry,e))return!0;return!1}},yI={Sphere:function(){return!0},Point:function(t,e){return vI(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(vI(n[r],e))return!0;return!1},LineString:function(t,e){return xI(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(xI(n[r],e))return!0;return!1},Polygon:function(t,e){return bI(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(bI(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(M1(n[r],e))return!0;return!1}};function M1(t,e){return t&&yI.hasOwnProperty(t.type)?yI[t.type](t,e):!1}function vI(t,e){return R1(t,e)===0}function xI(t,e){for(var n,r,i,a=0,s=t.length;a<s;a++){if(r=R1(t[a],e),r===0||a>0&&(i=R1(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<$h*i))return!0;n=r}return!1}function bI(t,e){return!!EU(t.map(jSe),NU(e))}function jSe(t){return t=t.map(NU),t.pop(),t}function NU(t){return[t[0]*Le,t[1]*Le]}function RSe(t,e){return(t&&gI.hasOwnProperty(t.type)?gI[t.type]:M1)(t,e)}function wI(t,e,n){var r=Zl(t,e-De,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function _I(t,e,n){var r=Zl(t,e-De,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function ow(){var t,e,n,r,i,a,s,o,l=10,c=l,u=90,d=360,h,p,g,x,y=2.5;function v(){return{type:"MultiLineString",coordinates:b()}}function b(){return Zl(Tp(r/u)*u,n,u).map(g).concat(Zl(Tp(o/d)*d,s,d).map(x)).concat(Zl(Tp(e/l)*l,t,l).filter(function(w){return ut(w%u)>De}).map(h)).concat(Zl(Tp(a/c)*c,i,c).filter(function(w){return ut(w%d)>De}).map(p))}return v.lines=function(){return b().map(function(w){return{type:"LineString",coordinates:w}})},v.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(x(s).slice(1),g(n).reverse().slice(1),x(o).reverse().slice(1))]}},v.extent=function(w){return arguments.length?v.extentMajor(w).extentMinor(w):v.extentMinor()},v.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],o=+w[0][1],s=+w[1][1],r>n&&(w=r,r=n,n=w),o>s&&(w=o,o=s,s=w),v.precision(y)):[[r,o],[n,s]]},v.extentMinor=function(w){return arguments.length?(e=+w[0][0],t=+w[1][0],a=+w[0][1],i=+w[1][1],e>t&&(w=e,e=t,t=w),a>i&&(w=a,a=i,i=w),v.precision(y)):[[e,a],[t,i]]},v.step=function(w){return arguments.length?v.stepMajor(w).stepMinor(w):v.stepMinor()},v.stepMajor=function(w){return arguments.length?(u=+w[0],d=+w[1],v):[u,d]},v.stepMinor=function(w){return arguments.length?(l=+w[0],c=+w[1],v):[l,c]},v.precision=function(w){return arguments.length?(y=+w,h=wI(a,i,90),p=_I(e,t,y),g=wI(o,s,90),x=_I(r,n,y),v):y},v.extentMajor([[-180,-90+De],[180,90-De]]).extentMinor([[-180,-80-De],[180,80+De]])}function MSe(){return ow()()}function $Se(t,e){var n=t[0]*Le,r=t[1]*Le,i=e[0]*Le,a=e[1]*Le,s=Oe(r),o=Pe(r),l=Oe(a),c=Pe(a),u=s*Oe(n),d=s*Pe(n),h=l*Oe(i),p=l*Pe(i),g=2*br(Mn(nI(a-r)+s*l*nI(i-n))),x=Pe(g),y=g?function(v){var b=Pe(v*=g)/x,w=Pe(g-v)/x,_=w*u+b*h,S=w*d+b*p,P=w*o+b*c;return[xr(S,_)*It,xr(P,Mn(_*_+S*S))*It]}:function(){return[n*It,r*It]};return y.distance=g,y}const Dh=t=>t;var $6=new nr,s9=new nr,AU,IU,o9,l9,Ya={point:Xt,lineStart:Xt,lineEnd:Xt,polygonStart:function(){Ya.lineStart=DSe,Ya.lineEnd=FSe},polygonEnd:function(){Ya.lineStart=Ya.lineEnd=Ya.point=Xt,$6.add(ut(s9)),s9=new nr},result:function(){var t=$6/2;return $6=new nr,t}};function DSe(){Ya.point=LSe}function LSe(t,e){Ya.point=CU,AU=o9=t,IU=l9=e}function CU(t,e){s9.add(l9*t-o9*e),o9=t,l9=e}function FSe(){CU(AU,IU)}var ou=1/0,$1=ou,Lh=-ou,D1=Lh,L1={point:VSe,lineStart:Xt,lineEnd:Xt,polygonStart:Xt,polygonEnd:Xt,result:function(){var t=[[ou,$1],[Lh,D1]];return Lh=D1=-($1=ou=1/0),t}};function VSe(t,e){t<ou&&(ou=t),t>Lh&&(Lh=t),e<$1&&($1=e),e>D1&&(D1=e)}var c9=0,u9=0,Ld=0,F1=0,V1=0,ec=0,d9=0,f9=0,Fd=0,OU,jU,pa,ma,yi={point:nl,lineStart:SI,lineEnd:EI,polygonStart:function(){yi.lineStart=zSe,yi.lineEnd=qSe},polygonEnd:function(){yi.point=nl,yi.lineStart=SI,yi.lineEnd=EI},result:function(){var t=Fd?[d9/Fd,f9/Fd]:ec?[F1/ec,V1/ec]:Ld?[c9/Ld,u9/Ld]:[NaN,NaN];return c9=u9=Ld=F1=V1=ec=d9=f9=Fd=0,t}};function nl(t,e){c9+=t,u9+=e,++Ld}function SI(){yi.point=USe}function USe(t,e){yi.point=BSe,nl(pa=t,ma=e)}function BSe(t,e){var n=t-pa,r=e-ma,i=Mn(n*n+r*r);F1+=i*(pa+t)/2,V1+=i*(ma+e)/2,ec+=i,nl(pa=t,ma=e)}function EI(){yi.point=nl}function zSe(){yi.point=WSe}function qSe(){RU(OU,jU)}function WSe(t,e){yi.point=RU,nl(OU=pa=t,jU=ma=e)}function RU(t,e){var n=t-pa,r=e-ma,i=Mn(n*n+r*r);F1+=i*(pa+t)/2,V1+=i*(ma+e)/2,ec+=i,i=ma*t-pa*e,d9+=i*(pa+t),f9+=i*(ma+e),Fd+=i*3,nl(pa=t,ma=e)}function MU(t){this._context=t}MU.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,vr);break}}},result:Xt};var h9=new nr,D6,$U,DU,Vd,Ud,Fh={point:Xt,lineStart:function(){Fh.point=HSe},lineEnd:function(){D6&&LU($U,DU),Fh.point=Xt},polygonStart:function(){D6=!0},polygonEnd:function(){D6=null},result:function(){var t=+h9;return h9=new nr,t}};function HSe(t,e){Fh.point=LU,$U=Vd=t,DU=Ud=e}function LU(t,e){Vd-=t,Ud-=e,h9.add(Mn(Vd*Vd+Ud*Ud)),Vd=t,Ud=e}function FU(){this._string=[]}FU.prototype={_radius:4.5,_circle:kI(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=kI(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function kI(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function VU(t,e){var n=4.5,r,i;function a(s){return s&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Bi(s,r(i))),i.result()}return a.area=function(s){return Bi(s,r(Ya)),Ya.result()},a.measure=function(s){return Bi(s,r(Fh)),Fh.result()},a.bounds=function(s){return Bi(s,r(L1)),L1.result()},a.centroid=function(s){return Bi(s,r(yi)),yi.result()},a.projection=function(s){return arguments.length?(r=s==null?(t=null,Dh):(t=s).stream,a):t},a.context=function(s){return arguments.length?(i=s==null?(e=null,new FU):new MU(e=s),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(i.pointRadius(+s),+s),a):n},a.projection(t).context(e)}function GSe(t){return{stream:S4(t)}}function S4(t){return function(e){var n=new p9;for(var r in t)n[r]=t[r];return n.stream=e,n}}function p9(){}p9.prototype={constructor:p9,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function lw(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Bi(n,t.stream(L1)),e(L1.result()),r!=null&&t.clipExtent(r),t}function q2(t,e,n){return lw(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function cw(t,e,n){return q2(t,[[0,0],e],n)}function uw(t,e,n){return lw(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function dw(t,e,n){return lw(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var PI=16,KSe=Oe(30*Le);function TI(t,e){return+e?QSe(t,e):YSe(t)}function YSe(t){return S4({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function QSe(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,x,y){var v=c-r,b=u-i,w=v*v+b*b;if(w>4*e&&x--){var _=s+h,S=o+p,P=l+g,E=Mn(_*_+S*S+P*P),k=br(P/=E),N=ut(ut(P)-1)<De||ut(a-d)<De?(a+d)/2:xr(S,_),I=t(N,k),A=I[0],j=I[1],O=A-r,$=j-i,M=b*O-v*$;(M*M/w>e||ut((v*O+b*$)/w-.5)>.3||s*h+o*p+l*g<KSe)&&(n(r,i,a,s,o,l,A,j,N,_/=E,S/=E,P,x,y),y.point(A,j),n(A,j,N,_,S,P,c,u,d,h,p,g,x,y))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,x,y={point:v,lineStart:b,lineEnd:_,polygonStart:function(){r.polygonStart(),y.lineStart=S},polygonEnd:function(){r.polygonEnd(),y.lineStart=b}};function v(k,N){k=t(k,N),r.point(k[0],k[1])}function b(){d=NaN,y.point=w,r.lineStart()}function w(k,N){var I=tl([k,N]),A=t(k,N);n(d,h,u,p,g,x,d=A[0],h=A[1],u=k,p=I[0],g=I[1],x=I[2],PI,r),r.point(d,h)}function _(){y.point=v,r.lineEnd()}function S(){b(),y.point=P,y.lineEnd=E}function P(k,N){w(i=k,N),a=d,s=h,o=p,l=g,c=x,y.point=w}function E(){n(d,h,u,p,g,x,a,s,i,o,l,c,PI,r),y.lineEnd=_,_()}return y}}var XSe=S4({point:function(t,e){this.stream.point(t*Le,e*Le)}});function JSe(t){return S4({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function ZSe(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function NI(t,e,n,r,i,a){if(!a)return ZSe(t,e,n,r,i);var s=Oe(a),o=Pe(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(x,y){return x*=r,y*=i,[l*x-c*y+e,n-c*x-l*y]}return g.invert=function(x,y){return[r*(u*x-d*y+h),i*(p-d*x-u*y)]},g}function Va(t){return fw(function(){return t})()}function fw(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,x=n9,y=null,v,b,w,_=Dh,S=.5,P,E,k,N,I;function A(M){return k(M[0]*Le,M[1]*Le)}function j(M){return M=k.invert(M[0],M[1]),M&&[M[0]*It,M[1]*It]}A.stream=function(M){return N&&I===M?N:N=XSe(JSe(u)(x(P(_(I=M)))))},A.preclip=function(M){return arguments.length?(x=M,g=void 0,$()):x},A.postclip=function(M){return arguments.length?(_=M,y=v=b=w=null,$()):_},A.clipAngle=function(M){return arguments.length?(x=+M?PU(g=M*Le):(g=null,n9),$()):g*It},A.clipExtent=function(M){return arguments.length?(_=M==null?(y=v=b=w=null,Dh):z2(y=+M[0][0],v=+M[0][1],b=+M[1][0],w=+M[1][1]),$()):y==null?null:[[y,v],[b,w]]},A.scale=function(M){return arguments.length?(n=+M,O()):n},A.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],O()):[r,i]},A.center=function(M){return arguments.length?(a=M[0]%360*Le,s=M[1]%360*Le,O()):[a*It,s*It]},A.rotate=function(M){return arguments.length?(o=M[0]%360*Le,l=M[1]%360*Le,c=M.length>2?M[2]%360*Le:0,O()):[o*It,l*It,c*It]},A.angle=function(M){return arguments.length?(d=M%360*Le,O()):d*It},A.reflectX=function(M){return arguments.length?(h=M?-1:1,O()):h<0},A.reflectY=function(M){return arguments.length?(p=M?-1:1,O()):p<0},A.precision=function(M){return arguments.length?(P=TI(E,S=M*M),$()):Mn(S)},A.fitExtent=function(M,D){return q2(A,M,D)},A.fitSize=function(M,D){return cw(A,M,D)},A.fitWidth=function(M,D){return uw(A,M,D)},A.fitHeight=function(M,D){return dw(A,M,D)};function O(){var M=NI(n,0,0,h,p,d).apply(null,e(a,s)),D=NI(n,r-M[0],i-M[1],h,p,d);return u=sw(o,l,c),E=e9(e,D),k=e9(u,E),P=TI(E,S),$()}function $(){return N=I=null,A}return function(){return e=t.apply(this,arguments),A.invert=e.invert&&j,O()}}function hw(t){var e=0,n=Ze/3,r=fw(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Le,n=a[1]*Le):[e*It,n*It]},i}function eEe(t){var e=Oe(t);function n(r,i){return[r*e,Pe(i)/e]}return n.invert=function(r,i){return[r/e,br(i*e)]},n}function UU(t,e){var n=Pe(t),r=(n+Pe(e))/2;if(ut(r)<De)return eEe(t);var i=1+n*(2*r-n),a=Mn(i)/r;function s(o,l){var c=Mn(i-2*r*Pe(l))/r;return[c*Pe(o*=r),a-c*Oe(o)]}return s.invert=function(o,l){var c=a-l,u=xr(o,ut(c))*wi(c);return c*r<0&&(u-=Ze*wi(o)*wi(c)),[u/r,br((i-(o*o+c*c)*r*r)/(2*r))]},s}function U1(){return hw(UU).scale(155.424).center([0,33.6442])}function BU(){return U1().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function tEe(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function nEe(){var t,e,n=BU(),r,i=U1().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=U1().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(h,p){l=[h,p]}};function u(h){var p=h[0],g=h[1];return l=null,r.point(p,g),l||(a.point(p,g),l)||(o.point(p,g),l)}u.invert=function(h){var p=n.scale(),g=n.translate(),x=(h[0]-g[0])/p,y=(h[1]-g[1])/p;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?i:y>=.166&&y<.234&&x>=-.214&&x<-.115?s:n).invert(h)},u.stream=function(h){return t&&e===h?t:t=tEe([n.stream(e=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],x=+h[1];return r=n.translate(h).clipExtent([[g-.455*p,x-.238*p],[g+.455*p,x+.238*p]]).stream(c),a=i.translate([g-.307*p,x+.201*p]).clipExtent([[g-.425*p+De,x+.12*p+De],[g-.214*p-De,x+.234*p-De]]).stream(c),o=s.translate([g-.205*p,x+.212*p]).clipExtent([[g-.214*p+De,x+.166*p+De],[g-.115*p-De,x+.234*p-De]]).stream(c),d()},u.fitExtent=function(h,p){return q2(u,h,p)},u.fitSize=function(h,p){return cw(u,h,p)},u.fitWidth=function(h,p){return uw(u,h,p)},u.fitHeight=function(h,p){return dw(u,h,p)};function d(){return t=e=null,u}return u.scale(1070)}function zU(t){return function(e,n){var r=Oe(e),i=Oe(n),a=t(r*i);return a===1/0?[2,0]:[a*i*Pe(e),a*Pe(n)]}}function E4(t){return function(e,n){var r=Mn(e*e+n*n),i=t(r),a=Pe(i),s=Oe(i);return[xr(e*a,r*s),br(r&&n*a/r)]}}var pw=zU(function(t){return Mn(2/(1+t))});pw.invert=E4(function(t){return 2*br(t/2)});function rEe(){return Va(pw).scale(124.75).clipAngle(180-.001)}var mw=zU(function(t){return(t=cU(t))&&t/Pe(t)});mw.invert=E4(function(t){return t});function iEe(){return Va(mw).scale(79.4188).clipAngle(180-.001)}function k4(t,e){return[t,w1(iw((on+e)/2))]}k4.invert=function(t,e){return[t,2*Lu(lU(e))-on]};function aEe(){return qU(k4).scale(961/vr)}function qU(t){var e=Va(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=Ze*r(),h=e(bU(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===k4?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}function Op(t){return iw((on+t)/2)}function WU(t,e){var n=Oe(t),r=t===e?Pe(t):w1(n/Oe(e))/w1(Op(e)/Op(t)),i=n*j6(Op(t),r)/r;if(!r)return k4;function a(s,o){i>0?o<-on+De&&(o=-on+De):o>on-De&&(o=on-De);var l=i/j6(Op(o),r);return[l*Pe(r*s),i-l*Oe(r*s)]}return a.invert=function(s,o){var l=i-o,c=wi(r)*Mn(s*s+l*l),u=xr(s,ut(l))*wi(l);return l*r<0&&(u-=Ze*wi(s)*wi(l)),[u/r,2*Lu(j6(i/c,1/r))-on]},a}function sEe(){return hw(WU).scale(109.5).parallels([30,30])}function Vh(t,e){return[t,e]}Vh.invert=Vh;function oEe(){return Va(Vh).scale(152.63)}function HU(t,e){var n=Oe(t),r=t===e?Pe(t):(n-Oe(e))/(e-t),i=n/r+t;if(ut(r)<De)return Vh;function a(s,o){var l=i-o,c=r*s;return[l*Pe(c),i-l*Oe(c)]}return a.invert=function(s,o){var l=i-o,c=xr(s,ut(l))*wi(l);return l*r<0&&(c-=Ze*wi(s)*wi(l)),[c/r,i-wi(r)*Mn(s*s+l*l)]},a}function lEe(){return hw(HU).scale(131.154).center([0,13.9389])}var bf=1.340264,wf=-.081106,_f=893e-6,Sf=.003796,B1=Mn(3)/2,cEe=12;function gw(t,e){var n=br(B1*Pe(e)),r=n*n,i=r*r*r;return[t*Oe(n)/(B1*(bf+3*wf*r+i*(7*_f+9*Sf*r))),n*(bf+wf*r+i*(_f+Sf*r))]}gw.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,s,o,l;a<cEe&&(o=n*(bf+wf*r+i*(_f+Sf*r))-e,l=bf+3*wf*r+i*(7*_f+9*Sf*r),n-=s=o/l,r=n*n,i=r*r*r,!(ut(s)<$h));++a);return[B1*t*(bf+3*wf*r+i*(7*_f+9*Sf*r))/Oe(n),br(Pe(n)/B1)]};function uEe(){return Va(gw).scale(177.158)}function yw(t,e){var n=Oe(e),r=Oe(t)*n;return[n*Pe(t)/r,Pe(e)/r]}yw.invert=E4(Lu);function dEe(){return Va(yw).scale(144.049).clipAngle(60)}function fEe(){var t=1,e=0,n=0,r=1,i=1,a=0,s,o,l=null,c,u,d,h=1,p=1,g=S4({point:function(_,S){var P=w([_,S]);this.stream.point(P[0],P[1])}}),x=Dh,y,v;function b(){return h=t*r,p=t*i,y=v=null,w}function w(_){var S=_[0]*h,P=_[1]*p;if(a){var E=P*s-S*o;S=S*s+P*o,P=E}return[S+e,P+n]}return w.invert=function(_){var S=_[0]-e,P=_[1]-n;if(a){var E=P*s+S*o;S=S*s-P*o,P=E}return[S/h,P/p]},w.stream=function(_){return y&&v===_?y:y=g(x(v=_))},w.postclip=function(_){return arguments.length?(x=_,l=c=u=d=null,b()):x},w.clipExtent=function(_){return arguments.length?(x=_==null?(l=c=u=d=null,Dh):z2(l=+_[0][0],c=+_[0][1],u=+_[1][0],d=+_[1][1]),b()):l==null?null:[[l,c],[u,d]]},w.scale=function(_){return arguments.length?(t=+_,b()):t},w.translate=function(_){return arguments.length?(e=+_[0],n=+_[1],b()):[e,n]},w.angle=function(_){return arguments.length?(a=_%360*Le,o=Pe(a),s=Oe(a),b()):a*It},w.reflectX=function(_){return arguments.length?(r=_?-1:1,b()):r<0},w.reflectY=function(_){return arguments.length?(i=_?-1:1,b()):i<0},w.fitExtent=function(_,S){return q2(w,_,S)},w.fitSize=function(_,S){return cw(w,_,S)},w.fitWidth=function(_,S){return uw(w,_,S)},w.fitHeight=function(_,S){return dw(w,_,S)},w}function vw(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}vw.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-e)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(ut(i)>De&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function hEe(){return Va(vw).scale(175.295)}function xw(t,e){return[Oe(e)*Pe(t),Pe(e)]}xw.invert=E4(br);function pEe(){return Va(xw).scale(249.5).clipAngle(90+De)}function bw(t,e){var n=Oe(e),r=1+Oe(t)*n;return[n*Pe(t)/r,Pe(e)/r]}bw.invert=E4(function(t){return 2*Lu(t)});function mEe(){return Va(bw).scale(250).clipAngle(142)}function ww(t,e){return[w1(iw((on+e)/2)),-t]}ww.invert=function(t,e){return[-e,2*Lu(lU(t))-on]};function gEe(){var t=qU(ww),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const yEe=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:BU,geoAlbersUsa:nEe,geoArea:cSe,geoAzimuthalEqualArea:rEe,geoAzimuthalEqualAreaRaw:pw,geoAzimuthalEquidistant:iEe,geoAzimuthalEquidistantRaw:mw,geoBounds:hSe,geoCentroid:xSe,geoCircle:bSe,geoClipAntimeridian:n9,geoClipCircle:PU,geoClipExtent:TSe,geoClipRectangle:z2,geoConicConformal:sEe,geoConicConformalRaw:WU,geoConicEqualArea:U1,geoConicEqualAreaRaw:UU,geoConicEquidistant:lEe,geoConicEquidistantRaw:HU,geoContains:RSe,geoDistance:R1,geoEqualEarth:uEe,geoEqualEarthRaw:gw,geoEquirectangular:oEe,geoEquirectangularRaw:Vh,geoGnomonic:dEe,geoGnomonicRaw:yw,geoGraticule:ow,geoGraticule10:MSe,geoIdentity:fEe,geoInterpolate:$Se,geoLength:TU,geoMercator:aEe,geoMercatorRaw:k4,geoNaturalEarth1:hEe,geoNaturalEarth1Raw:vw,geoOrthographic:pEe,geoOrthographicRaw:xw,geoPath:VU,geoProjection:Va,geoProjectionMutator:fw,geoRotation:bU,geoStereographic:mEe,geoStereographicRaw:bw,geoStream:Bi,geoTransform:GSe,geoTransverseMercator:gEe,geoTransverseMercatorRaw:ww},Symbol.toStringTag,{value:"Module"}));function vEe(t){return t}function xEe(t){if(t==null)return vEe;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(o,l){l||(e=n=0);var c=2,u=o.length,d=new Array(u);for(d[0]=(e+=o[0])*r+a,d[1]=(n+=o[1])*i+s;c<u;)d[c]=o[c],++c;return d}}function bEe(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function wEe(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return AI(t,n)})}:AI(t,e)}function AI(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,a=GU(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function GU(t,e){var n=xEe(t.transform),r=t.arcs;function i(u,d){d.length&&d.pop();for(var h=r[u<0?~u:u],p=0,g=h.length;p<g;++p)d.push(n(h[p],p));u<0&&bEe(d,g)}function a(u){return n(u)}function s(u){for(var d=[],h=0,p=u.length;h<p;++h)i(u[h],d);return d.length<2&&d.push(d[0]),d}function o(u){for(var d=s(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(o)}function c(u){var d=u.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":h=a(u.coordinates);break;case"MultiPoint":h=u.coordinates.map(a);break;case"LineString":h=s(u.arcs);break;case"MultiLineString":h=u.arcs.map(s);break;case"Polygon":h=l(u.arcs);break;case"MultiPolygon":h=u.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return c(e)}function _Ee(t,e){var n={},r={},i={},a=[],s=-1;e.forEach(function(c,u){var d=t.arcs[c<0?~c:c],h;d.length<3&&!d[1][0]&&!d[1][1]&&(h=e[++s],e[s]=c,e[u]=h)}),e.forEach(function(c){var u=o(c),d=u[0],h=u[1],p,g;if(p=i[d])if(delete i[p.end],p.push(c),p.end=h,g=r[h]){delete r[g.start];var x=g===p?p:p.concat(g);r[x.start=p.start]=i[x.end=g.end]=x}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(c),p.start=d,g=i[d]){delete i[g.end];var y=g===p?p:g.concat(p);r[y.start=g.start]=i[y.end=p.end]=y}else r[p.start]=i[p.end]=p;else p=[c],r[p.start=d]=i[p.end=h]=p});function o(c){var u=t.arcs[c<0?~c:c],d=u[0],h;return t.transform?(h=[0,0],u.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=u[u.length-1],c<0?[h,d]:[d,h]}function l(c,u){for(var d in c){var h=c[d];delete u[h.start],delete h.start,delete h.end,h.forEach(function(p){n[p<0?~p:p]=1}),a.push(h)}}return l(i,r),l(r,i),e.forEach(function(c){n[c<0?~c:c]||a.push([c])}),a}function II(t){return GU(t,SEe.apply(this,arguments))}function SEe(t,e,n){var r,i,a;if(arguments.length>1)r=EEe(t,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:_Ee(t,r)}}function EEe(t,e,n){var r=[],i=[],a;function s(d){var h=d<0?~d:d;(i[h]||(i[h]=[])).push({i:d,g:a})}function o(d){d.forEach(s)}function l(d){d.forEach(o)}function c(d){d.forEach(l)}function u(d){switch(a=d,d.type){case"GeometryCollection":d.geometries.forEach(u);break;case"LineString":o(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return u(e),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}var kEe={value:()=>{}};function _w(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new m3(n)}function m3(t){this._=t}function PEe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}m3.prototype=_w.prototype={constructor:m3,on:function(t,e){var n=this._,r=PEe(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=TEe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=CI(n[i],t.name,e);else if(e==null)for(i in n)n[i]=CI(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new m3(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function TEe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function CI(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=kEe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var m9="http://www.w3.org/1999/xhtml";const OI={svg:"http://www.w3.org/2000/svg",xhtml:m9,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function W2(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),OI.hasOwnProperty(e)?{space:OI[e],local:t}:t}function NEe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===m9&&e.documentElement.namespaceURI===m9?e.createElement(t):e.createElementNS(n,t)}}function AEe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function KU(t){var e=W2(t);return(e.local?AEe:NEe)(e)}function IEe(){}function Sw(t){return t==null?IEe:function(){return this.querySelector(t)}}function CEe(t){typeof t!="function"&&(t=Sw(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=a[u])&&(c=t.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),o[u]=c);return new Dr(r,this._parents)}function YU(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function OEe(){return[]}function QU(t){return t==null?OEe:function(){return this.querySelectorAll(t)}}function jEe(t){return function(){var e=t.apply(this,arguments);return e==null?[]:YU(e)}}function REe(t){typeof t=="function"?t=jEe(t):t=QU(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),i.push(l));return new Dr(r,i)}function XU(t){return function(){return this.matches(t)}}function JU(t){return function(e){return e.matches(t)}}var MEe=Array.prototype.find;function $Ee(t){return function(){return MEe.call(this.children,t)}}function DEe(){return this.firstElementChild}function LEe(t){return this.select(t==null?DEe:$Ee(typeof t=="function"?t:JU(t)))}var FEe=Array.prototype.filter;function VEe(){return this.children}function UEe(t){return function(){return FEe.call(this.children,t)}}function BEe(t){return this.selectAll(t==null?VEe:UEe(typeof t=="function"?t:JU(t)))}function zEe(t){typeof t!="function"&&(t=XU(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new Dr(r,this._parents)}function ZU(t){return new Array(t.length)}function qEe(){return new Dr(this._enter||this._groups.map(ZU),this._parents)}function z1(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}z1.prototype={constructor:z1,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function WEe(t){return function(){return t}}function HEe(t,e,n,r,i,a){for(var s=0,o,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new z1(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function GEe(t,e,n,r,i,a,s){var o,l,c=new Map,u=e.length,d=a.length,h=new Array(u),p;for(o=0;o<u;++o)(l=e[o])&&(h[o]=p=s.call(l,l.__data__,o,e)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<d;++o)p=s.call(t,a[o],o,a)+"",(l=c.get(p))?(r[o]=l,l.__data__=a[o],c.delete(p)):n[o]=new z1(t,a[o]);for(o=0;o<u;++o)(l=e[o])&&c.get(h[o])===l&&(i[o]=l)}function KEe(t){return t.__data__}function YEe(t,e){if(!arguments.length)return Array.from(this,KEe);var n=e?GEe:HEe,r=this._parents,i=this._groups;typeof t!="function"&&(t=WEe(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],h=d.length,p=YU(t.call(u,u&&u.__data__,c,r)),g=p.length,x=o[c]=new Array(g),y=s[c]=new Array(g),v=l[c]=new Array(h);n(u,d,x,y,v,p,e);for(var b=0,w=0,_,S;b<g;++b)if(_=x[b]){for(b>=w&&(w=b+1);!(S=y[w])&&++w<g;);_._next=S||null}}return s=new Dr(s,r),s._enter=o,s._exit=l,s}function QEe(){return new Dr(this._exit||this._groups.map(ZU),this._parents)}function XEe(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function JEe(t){if(!(t instanceof Dr))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new Dr(s,this._parents)}function ZEe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function eke(t){t||(t=tke);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),c,u=0;u<o;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new Dr(i,this._parents).order()}function tke(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function nke(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function rke(){return Array.from(this)}function ike(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function ake(){let t=0;for(const e of this)++t;return t}function ske(){return!this.node()}function oke(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function lke(t){return function(){this.removeAttribute(t)}}function cke(t){return function(){this.removeAttributeNS(t.space,t.local)}}function uke(t,e){return function(){this.setAttribute(t,e)}}function dke(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function fke(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function hke(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function pke(t,e){var n=W2(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?cke:lke:typeof e=="function"?n.local?hke:fke:n.local?dke:uke)(n,e))}function eB(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function mke(t){return function(){this.style.removeProperty(t)}}function gke(t,e,n){return function(){this.style.setProperty(t,e,n)}}function yke(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function vke(t,e,n){return arguments.length>1?this.each((e==null?mke:typeof e=="function"?yke:gke)(t,e,n??"")):lu(this.node(),t)}function lu(t,e){return t.style.getPropertyValue(e)||eB(t).getComputedStyle(t,null).getPropertyValue(e)}function xke(t){return function(){delete this[t]}}function bke(t,e){return function(){this[t]=e}}function wke(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function _ke(t,e){return arguments.length>1?this.each((e==null?xke:typeof e=="function"?wke:bke)(t,e)):this.node()[t]}function tB(t){return t.trim().split(/^|\s+/)}function Ew(t){return t.classList||new nB(t)}function nB(t){this._node=t,this._names=tB(t.getAttribute("class")||"")}nB.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function rB(t,e){for(var n=Ew(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function iB(t,e){for(var n=Ew(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ske(t){return function(){rB(this,t)}}function Eke(t){return function(){iB(this,t)}}function kke(t,e){return function(){(e.apply(this,arguments)?rB:iB)(this,t)}}function Pke(t,e){var n=tB(t+"");if(arguments.length<2){for(var r=Ew(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?kke:e?Ske:Eke)(n,e))}function Tke(){this.textContent=""}function Nke(t){return function(){this.textContent=t}}function Ake(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ike(t){return arguments.length?this.each(t==null?Tke:(typeof t=="function"?Ake:Nke)(t)):this.node().textContent}function Cke(){this.innerHTML=""}function Oke(t){return function(){this.innerHTML=t}}function jke(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Rke(t){return arguments.length?this.each(t==null?Cke:(typeof t=="function"?jke:Oke)(t)):this.node().innerHTML}function Mke(){this.nextSibling&&this.parentNode.appendChild(this)}function $ke(){return this.each(Mke)}function Dke(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Lke(){return this.each(Dke)}function Fke(t){var e=typeof t=="function"?t:KU(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Vke(){return null}function Uke(t,e){var n=typeof t=="function"?t:KU(t),r=e==null?Vke:typeof e=="function"?e:Sw(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Bke(){var t=this.parentNode;t&&t.removeChild(this)}function zke(){return this.each(Bke)}function qke(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wke(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Hke(t){return this.select(t?Wke:qke)}function Gke(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Kke(t){return function(e){t.call(this,e,this.__data__)}}function Yke(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Qke(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Xke(t,e,n){return function(){var r=this.__on,i,a=Kke(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Jke(t,e,n){var r=Yke(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,u;l<c;++l)for(i=0,u=o[l];i<a;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(o=e?Xke:Qke,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function aB(t,e,n){var r=eB(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Zke(t,e){return function(){return aB(this,t,e)}}function ePe(t,e){return function(){return aB(this,t,e.apply(this,arguments))}}function tPe(t,e){return this.each((typeof e=="function"?ePe:Zke)(t,e))}function*nPe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var sB=[null];function Dr(t,e){this._groups=t,this._parents=e}function P4(){return new Dr([[document.documentElement]],sB)}function rPe(){return this}Dr.prototype=P4.prototype={constructor:Dr,select:CEe,selectAll:REe,selectChild:LEe,selectChildren:BEe,filter:zEe,data:YEe,enter:qEe,exit:QEe,join:XEe,merge:JEe,selection:rPe,order:ZEe,sort:eke,call:nke,nodes:rke,node:ike,size:ake,empty:ske,each:oke,attr:pke,style:vke,property:_ke,classed:Pke,text:Ike,html:Rke,raise:$ke,lower:Lke,append:Fke,insert:Uke,remove:zke,clone:Hke,datum:Gke,on:Jke,dispatch:tPe,[Symbol.iterator]:nPe};function Qa(t){return typeof t=="string"?new Dr([[document.querySelector(t)]],[document.documentElement]):new Dr([[t]],sB)}function iPe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ao(t,e){if(t=iPe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function g9(t){t.preventDefault(),t.stopImmediatePropagation()}function aPe(t){var e=t.document.documentElement,n=Qa(t).on("dragstart.drag",g9,!0);"onselectstart"in e?n.on("selectstart.drag",g9,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function sPe(t,e){var n=t.document.documentElement,r=Qa(t).on("dragstart.drag",null);e&&(r.on("click.drag",g9,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var oPe=1e-12;function jI(t){return((t=Math.exp(t))+1/t)/2}function lPe(t){return((t=Math.exp(t))-1/t)/2}function cPe(t){return((t=Math.exp(2*t))-1)/(t+1)}const uPe=function t(e,n,r){function i(a,s){var o=a[0],l=a[1],c=a[2],u=s[0],d=s[1],h=s[2],p=u-o,g=d-l,x=p*p+g*g,y,v;if(x<oPe)v=Math.log(h/c)/e,y=function(E){return[o+E*p,l+E*g,c*Math.exp(e*E*v)]};else{var b=Math.sqrt(x),w=(h*h-c*c+r*x)/(2*c*n*b),_=(h*h-c*c-r*x)/(2*h*n*b),S=Math.log(Math.sqrt(w*w+1)-w),P=Math.log(Math.sqrt(_*_+1)-_);v=(P-S)/e,y=function(E){var k=E*v,N=jI(S),I=c/(n*b)*(N*cPe(e*k+S)-lPe(S));return[o+I*p,l+I*g,c*N/jI(e*k+S)]}}return y.duration=v*1e3*e/Math.SQRT2,y}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return t(s,o,l)},i}(Math.SQRT2,2,4);var cu=0,Bd=0,Sd=0,oB=1e3,q1,zd,W1=0,rl=0,H2=0,Uh=typeof performance=="object"&&performance.now?performance:Date,lB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function kw(){return rl||(lB(dPe),rl=Uh.now()+H2)}function dPe(){rl=0}function H1(){this._call=this._time=this._next=null}H1.prototype=cB.prototype={constructor:H1,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?kw():+n)+(e==null?0:+e),!this._next&&zd!==this&&(zd?zd._next=this:q1=this,zd=this),this._call=t,this._time=n,y9()},stop:function(){this._call&&(this._call=null,this._time=1/0,y9())}};function cB(t,e,n){var r=new H1;return r.restart(t,e,n),r}function fPe(){kw(),++cu;for(var t=q1,e;t;)(e=rl-t._time)>=0&&t._call.call(null,e),t=t._next;--cu}function RI(){rl=(W1=Uh.now())+H2,cu=Bd=0;try{fPe()}finally{cu=0,pPe(),rl=0}}function hPe(){var t=Uh.now(),e=t-W1;e>oB&&(H2-=e,W1=t)}function pPe(){for(var t,e=q1,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:q1=n);zd=t,y9(r)}function y9(t){if(!cu){Bd&&(Bd=clearTimeout(Bd));var e=t-rl;e>24?(t<1/0&&(Bd=setTimeout(RI,t-Uh.now()-H2)),Sd&&(Sd=clearInterval(Sd))):(Sd||(W1=Uh.now(),Sd=setInterval(hPe,oB)),cu=1,lB(RI))}}function MI(t,e,n){var r=new H1;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var mPe=_w("start","end","cancel","interrupt"),gPe=[],uB=0,$I=1,v9=2,g3=3,DI=4,x9=5,y3=6;function G2(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;yPe(t,n,{name:e,index:r,group:i,on:mPe,tween:gPe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:uB})}function Pw(t,e){var n=aa(t,e);if(n.state>uB)throw new Error("too late; already scheduled");return n}function Ua(t,e){var n=aa(t,e);if(n.state>g3)throw new Error("too late; already running");return n}function aa(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function yPe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=cB(a,0,n.time);function a(c){n.state=$I,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,h,p;if(n.state!==$I)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===g3)return MI(s);p.state===DI?(p.state=y3,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=y3,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(MI(function(){n.state===g3&&(n.state=DI,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=v9,n.on.call("start",t,t.__data__,n.index,n.group),n.state===v9){for(n.state=g3,i=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function o(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=x9,1),d=-1,h=i.length;++d<h;)i[d].call(t,u);n.state===x9&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=y3,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function v3(t,e){var n=t.__transition,r,i,a=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>v9&&r.state<x9,r.state=y3,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function vPe(t){return this.each(function(){v3(this,t)})}function Tw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function T4(){}var Bh=.7,G1=1/Bh,wc="\\s*([+-]?\\d+)\\s*",zh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xPe=/^#([0-9a-f]{3,8})$/,bPe=new RegExp("^rgb\\("+[wc,wc,wc]+"\\)$"),wPe=new RegExp("^rgb\\("+[Oa,Oa,Oa]+"\\)$"),_Pe=new RegExp("^rgba\\("+[wc,wc,wc,zh]+"\\)$"),SPe=new RegExp("^rgba\\("+[Oa,Oa,Oa,zh]+"\\)$"),EPe=new RegExp("^hsl\\("+[zh,Oa,Oa]+"\\)$"),kPe=new RegExp("^hsla\\("+[zh,Oa,Oa,zh]+"\\)$"),LI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tw(T4,qh,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:FI,formatHex:FI,formatHsl:PPe,formatRgb:VI,toString:VI});function FI(){return this.rgb().formatHex()}function PPe(){return fB(this).formatHsl()}function VI(){return this.rgb().formatRgb()}function qh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xPe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?UI(e):n===3?new Yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?jp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?jp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bPe.exec(t))?new Yr(e[1],e[2],e[3],1):(e=wPe.exec(t))?new Yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_Pe.exec(t))?jp(e[1],e[2],e[3],e[4]):(e=SPe.exec(t))?jp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=EPe.exec(t))?qI(e[1],e[2]/100,e[3]/100,1):(e=kPe.exec(t))?qI(e[1],e[2]/100,e[3]/100,e[4]):LI.hasOwnProperty(t)?UI(LI[t]):t==="transparent"?new Yr(NaN,NaN,NaN,0):null}function UI(t){return new Yr(t>>16&255,t>>8&255,t&255,1)}function jp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yr(t,e,n,r)}function TPe(t){return t instanceof T4||(t=qh(t)),t?(t=t.rgb(),new Yr(t.r,t.g,t.b,t.opacity)):new Yr}function b9(t,e,n,r){return arguments.length===1?TPe(t):new Yr(t,e,n,r??1)}function Yr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Tw(Yr,b9,dB(T4,{brighter:function(t){return t=t==null?G1:Math.pow(G1,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Bh:Math.pow(Bh,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BI,formatHex:BI,formatRgb:zI,toString:zI}));function BI(){return"#"+L6(this.r)+L6(this.g)+L6(this.b)}function zI(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function L6(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function qI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ga(t,e,n,r)}function fB(t){if(t instanceof ga)return new ga(t.h,t.s,t.l,t.opacity);if(t instanceof T4||(t=qh(t)),!t)return new ga;if(t instanceof ga)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ga(s,o,l,t.opacity)}function NPe(t,e,n,r){return arguments.length===1?fB(t):new ga(t,e,n,r??1)}function ga(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Tw(ga,NPe,dB(T4,{brighter:function(t){return t=t==null?G1:Math.pow(G1,t),new ga(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Bh:Math.pow(Bh,t),new ga(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yr(F6(t>=240?t-240:t+120,i,r),F6(t,i,r),F6(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function F6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const hB=t=>()=>t;function APe(t,e){return function(n){return t+n*e}}function IPe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function CPe(t){return(t=+t)==1?pB:function(e,n){return n-e?IPe(e,n,t):hB(isNaN(e)?n:e)}}function pB(t,e){var n=e-t;return n?APe(t,n):hB(isNaN(t)?e:t)}const WI=function t(e){var n=CPe(e);function r(i,a){var s=n((i=b9(i)).r,(a=b9(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=pB(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function K0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var w9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V6=new RegExp(w9.source,"g");function OPe(t){return function(){return t}}function jPe(t){return function(e){return t(e)+""}}function RPe(t,e){var n=w9.lastIndex=V6.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=w9.exec(t))&&(i=V6.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:K0(r,i)})),n=V6.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?jPe(l[0].x):OPe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}var HI=180/Math.PI,_9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mB(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*HI,skewX:Math.atan(l)*HI,scaleX:s,scaleY:o}}var Rp;function MPe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_9:mB(e.a,e.b,e.c,e.d,e.e,e.f)}function $Pe(t){return t==null||(Rp||(Rp=document.createElementNS("http://www.w3.org/2000/svg","g")),Rp.setAttribute("transform",t),!(t=Rp.transform.baseVal.consolidate()))?_9:(t=t.matrix,mB(t.a,t.b,t.c,t.d,t.e,t.f))}function gB(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,h,p,g){if(c!==d||u!==h){var x=p.push("translate(",null,e,null,n);g.push({i:x-4,x:K0(c,d)},{i:x-2,x:K0(u,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function s(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:K0(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function o(c,u,d,h){c!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:K0(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,h,p,g){if(c!==d||u!==h){var x=p.push(i(p)+"scale(",null,",",null,")");g.push({i:x-4,x:K0(c,d)},{i:x-2,x:K0(u,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,h),s(c.rotate,u.rotate,d,h),o(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(p){for(var g=-1,x=h.length,y;++g<x;)d[(y=h[g]).i]=y.x(p);return d.join("")}}}var DPe=gB(MPe,"px, ","px)","deg)"),LPe=gB($Pe,", ",")",")");function FPe(t,e){var n,r;return function(){var i=Ua(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function VPe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Ua(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}a.tween=i}}function UPe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=aa(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?FPe:VPe)(n,t,e))}function Nw(t,e,n){var r=t._id;return t.each(function(){var i=Ua(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return aa(i,r).value[e]}}function yB(t,e){var n;return(typeof e=="number"?K0:e instanceof qh?WI:(n=qh(e))?(e=n,WI):RPe)(t,e)}function BPe(t){return function(){this.removeAttribute(t)}}function zPe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qPe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function WPe(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function HPe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function GPe(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function KPe(t,e){var n=W2(t),r=n==="transform"?LPe:yB;return this.attrTween(t,typeof e=="function"?(n.local?GPe:HPe)(n,r,Nw(this,"attr."+t,e)):e==null?(n.local?zPe:BPe)(n):(n.local?WPe:qPe)(n,r,e))}function YPe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function QPe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function XPe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&QPe(t,a)),n}return i._value=e,i}function JPe(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&YPe(t,a)),n}return i._value=e,i}function ZPe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=W2(t);return this.tween(n,(r.local?XPe:JPe)(r,e))}function eTe(t,e){return function(){Pw(this,t).delay=+e.apply(this,arguments)}}function tTe(t,e){return e=+e,function(){Pw(this,t).delay=e}}function nTe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?eTe:tTe)(e,t)):aa(this.node(),e).delay}function rTe(t,e){return function(){Ua(this,t).duration=+e.apply(this,arguments)}}function iTe(t,e){return e=+e,function(){Ua(this,t).duration=e}}function aTe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rTe:iTe)(e,t)):aa(this.node(),e).duration}function sTe(t,e){if(typeof e!="function")throw new Error;return function(){Ua(this,t).ease=e}}function oTe(t){var e=this._id;return arguments.length?this.each(sTe(e,t)):aa(this.node(),e).ease}function lTe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ua(this,t).ease=n}}function cTe(t){if(typeof t!="function")throw new Error;return this.each(lTe(this._id,t))}function uTe(t){typeof t!="function"&&(t=XU(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,c=0;c<s;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&o.push(l);return new P0(r,this._parents,this._name,this._id)}function dTe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],c=n[o],u=l.length,d=s[o]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(d[p]=h);for(;o<r;++o)s[o]=e[o];return new P0(s,this._parents,this._name,this._id)}function fTe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function hTe(t,e,n){var r,i,a=fTe(e)?Pw:Ua;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function pTe(t,e){var n=this._id;return arguments.length<2?aa(this.node(),n).on.on(t):this.each(hTe(n,t,e))}function mTe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function gTe(){return this.on("end.remove",mTe(this._id))}function yTe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Sw(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,c=a[s]=new Array(l),u,d,h=0;h<l;++h)(u=o[h])&&(d=t.call(u,u.__data__,h,o))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,G2(c[h],e,n,h,c,aa(u,n)));return new P0(a,this._parents,e,n)}function vTe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=QU(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=t.call(u,u.__data__,d,l),p,g=aa(u,n),x=0,y=h.length;x<y;++x)(p=h[x])&&G2(p,e,n,x,h,g);a.push(h),s.push(u)}return new P0(a,s,e,n)}var xTe=P4.prototype.constructor;function bTe(){return new xTe(this._groups,this._parents)}function wTe(t,e){var n,r,i;return function(){var a=lu(this,t),s=(this.style.removeProperty(t),lu(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function vB(t){return function(){this.style.removeProperty(t)}}function _Te(t,e,n){var r,i=n+"",a;return function(){var s=lu(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function STe(t,e,n){var r,i,a;return function(){var s=lu(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),lu(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function ETe(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=Ua(this,t),c=l.on,u=l.value[a]==null?o||(o=vB(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function kTe(t,e,n){var r=(t+="")=="transform"?DPe:yB;return e==null?this.styleTween(t,wTe(t,r)).on("end.style."+t,vB(t)):typeof e=="function"?this.styleTween(t,STe(t,r,Nw(this,"style."+t,e))).each(ETe(this._id,t)):this.styleTween(t,_Te(t,r,e),n).on("end.style."+t,null)}function PTe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function TTe(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&PTe(t,s,n)),r}return a._value=e,a}function NTe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,TTe(t,e,n??""))}function ATe(t){return function(){this.textContent=t}}function ITe(t){return function(){var e=t(this);this.textContent=e??""}}function CTe(t){return this.tween("text",typeof t=="function"?ITe(Nw(this,"text",t)):ATe(t==null?"":t+""))}function OTe(t){return function(e){this.textContent=t.call(this,e)}}function jTe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&OTe(i)),e}return r._value=t,r}function RTe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,jTe(t))}function MTe(){for(var t=this._name,e=this._id,n=xB(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var u=aa(l,e);G2(l,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new P0(r,this._parents,t,n)}function $Te(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var c=Ua(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&a()})}var DTe=0;function P0(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function xB(){return++DTe}var so=P4.prototype;P0.prototype={constructor:P0,select:yTe,selectAll:vTe,filter:uTe,merge:dTe,selection:bTe,transition:MTe,call:so.call,nodes:so.nodes,node:so.node,size:so.size,empty:so.empty,each:so.each,on:pTe,attr:KPe,attrTween:ZPe,style:kTe,styleTween:NTe,text:CTe,textTween:RTe,remove:gTe,tween:UPe,delay:nTe,duration:aTe,ease:oTe,easeVarying:cTe,end:$Te,[Symbol.iterator]:so[Symbol.iterator]};function LTe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var FTe={time:null,delay:0,duration:250,ease:LTe};function VTe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function UTe(t){var e,n;t instanceof P0?(e=t._id,t=t._name):(e=xB(),(n=FTe).time=kw(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,c=0;c<o;++c)(l=s[c])&&G2(l,t,e,c,s,n||VTe(l,e));return new P0(r,this._parents,t,e)}P4.prototype.interrupt=vPe;P4.prototype.transition=UTe;const Mp=t=>()=>t;function BTe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function s0(t,e,n){this.k=t,this.x=e,this.y=n}s0.prototype={constructor:s0,scale:function(t){return t===1?this:new s0(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new s0(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Aw=new s0(1,0,0);s0.prototype;function U6(t){t.stopImmediatePropagation()}function Ed(t){t.preventDefault(),t.stopImmediatePropagation()}function zTe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function qTe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function GI(){return this.__zoom||Aw}function WTe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function HTe(){return navigator.maxTouchPoints||"ontouchstart"in this}function GTe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function KTe(){var t=zTe,e=qTe,n=GTe,r=WTe,i=HTe,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=uPe,c=_w("start","zoom","end"),u,d,h,p=500,g=150,x=0,y=10;function v($){$.property("__zoom",GI).on("wheel.zoom",k).on("mousedown.zoom",N).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function($,M,D,V){var F=$.selection?$.selection():$;F.property("__zoom",GI),$!==F?S($,M,D,V):F.interrupt().each(function(){P(this,arguments).event(V).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},v.scaleBy=function($,M,D,V){v.scaleTo($,function(){var F=this.__zoom.k,U=typeof M=="function"?M.apply(this,arguments):M;return F*U},D,V)},v.scaleTo=function($,M,D,V){v.transform($,function(){var F=e.apply(this,arguments),U=this.__zoom,H=D==null?_(F):typeof D=="function"?D.apply(this,arguments):D,G=U.invert(H),K=typeof M=="function"?M.apply(this,arguments):M;return n(w(b(U,K),H,G),F,s)},D,V)},v.translateBy=function($,M,D,V){v.transform($,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof D=="function"?D.apply(this,arguments):D),e.apply(this,arguments),s)},null,V)},v.translateTo=function($,M,D,V,F){v.transform($,function(){var U=e.apply(this,arguments),H=this.__zoom,G=V==null?_(U):typeof V=="function"?V.apply(this,arguments):V;return n(Aw.translate(G[0],G[1]).scale(H.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof D=="function"?-D.apply(this,arguments):-D),U,s)},V,F)};function b($,M){return M=Math.max(a[0],Math.min(a[1],M)),M===$.k?$:new s0(M,$.x,$.y)}function w($,M,D){var V=M[0]-D[0]*$.k,F=M[1]-D[1]*$.k;return V===$.x&&F===$.y?$:new s0($.k,V,F)}function _($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function S($,M,D,V){$.on("start.zoom",function(){P(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(V).end()}).tween("zoom",function(){var F=this,U=arguments,H=P(F,U).event(V),G=e.apply(F,U),K=D==null?_(G):typeof D=="function"?D.apply(F,U):D,ne=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),ce=F.__zoom,pe=typeof M=="function"?M.apply(F,U):M,ee=l(ce.invert(K).concat(ne/ce.k),pe.invert(K).concat(ne/pe.k));return function(we){if(we===1)we=pe;else{var Ce=ee(we),ie=ne/Ce[2];we=new s0(ie,K[0]-Ce[0]*ie,K[1]-Ce[1]*ie)}H.zoom(null,we)}})}function P($,M,D){return!D&&$.__zooming||new E($,M)}function E($,M){this.that=$,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply($,M),this.taps=0}E.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,M){return this.mouse&&$!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var M=Qa(this.that).datum();c.call($,this.that,new BTe($,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:c}),M)}};function k($,...M){if(!t.apply(this,arguments))return;var D=P(this,M).event($),V=this.__zoom,F=Math.max(a[0],Math.min(a[1],V.k*Math.pow(2,r.apply(this,arguments)))),U=ao($);if(D.wheel)(D.mouse[0][0]!==U[0]||D.mouse[0][1]!==U[1])&&(D.mouse[1]=V.invert(D.mouse[0]=U)),clearTimeout(D.wheel);else{if(V.k===F)return;D.mouse=[U,V.invert(U)],v3(this),D.start()}Ed($),D.wheel=setTimeout(H,g),D.zoom("mouse",n(w(b(V,F),D.mouse[0],D.mouse[1]),D.extent,s));function H(){D.wheel=null,D.end()}}function N($,...M){if(h||!t.apply(this,arguments))return;var D=P(this,M,!0).event($),V=Qa($.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",ne,!0),F=ao($,U),U=$.currentTarget,H=$.clientX,G=$.clientY;aPe($.view),U6($),D.mouse=[F,this.__zoom.invert(F)],v3(this),D.start();function K(ce){if(Ed(ce),!D.moved){var pe=ce.clientX-H,ee=ce.clientY-G;D.moved=pe*pe+ee*ee>x}D.event(ce).zoom("mouse",n(w(D.that.__zoom,D.mouse[0]=ao(ce,U),D.mouse[1]),D.extent,s))}function ne(ce){V.on("mousemove.zoom mouseup.zoom",null),sPe(ce.view,D.moved),Ed(ce),D.event(ce).end()}}function I($,...M){if(t.apply(this,arguments)){var D=this.__zoom,V=ao($.changedTouches?$.changedTouches[0]:$,this),F=D.invert(V),U=D.k*($.shiftKey?.5:2),H=n(w(b(D,U),V,F),e.apply(this,M),s);Ed($),o>0?Qa(this).transition().duration(o).call(S,H,V,$):Qa(this).call(v.transform,H,V,$)}}function A($,...M){if(t.apply(this,arguments)){var D=$.touches,V=D.length,F=P(this,M,$.changedTouches.length===V).event($),U,H,G,K;for(U6($),H=0;H<V;++H)G=D[H],K=ao(G,this),K=[K,this.__zoom.invert(K),G.identifier],F.touch0?!F.touch1&&F.touch0[2]!==K[2]&&(F.touch1=K,F.taps=0):(F.touch0=K,U=!0,F.taps=1+!!u);u&&(u=clearTimeout(u)),U&&(F.taps<2&&(d=K[0],u=setTimeout(function(){u=null},p)),v3(this),F.start())}}function j($,...M){if(this.__zooming){var D=P(this,M).event($),V=$.changedTouches,F=V.length,U,H,G,K;for(Ed($),U=0;U<F;++U)H=V[U],G=ao(H,this),D.touch0&&D.touch0[2]===H.identifier?D.touch0[0]=G:D.touch1&&D.touch1[2]===H.identifier&&(D.touch1[0]=G);if(H=D.that.__zoom,D.touch1){var ne=D.touch0[0],ce=D.touch0[1],pe=D.touch1[0],ee=D.touch1[1],we=(we=pe[0]-ne[0])*we+(we=pe[1]-ne[1])*we,Ce=(Ce=ee[0]-ce[0])*Ce+(Ce=ee[1]-ce[1])*Ce;H=b(H,Math.sqrt(we/Ce)),G=[(ne[0]+pe[0])/2,(ne[1]+pe[1])/2],K=[(ce[0]+ee[0])/2,(ce[1]+ee[1])/2]}else if(D.touch0)G=D.touch0[0],K=D.touch0[1];else return;D.zoom("touch",n(w(H,G,K),D.extent,s))}}function O($,...M){if(this.__zooming){var D=P(this,M).event($),V=$.changedTouches,F=V.length,U,H;for(U6($),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),U=0;U<F;++U)H=V[U],D.touch0&&D.touch0[2]===H.identifier?delete D.touch0:D.touch1&&D.touch1[2]===H.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(H=ao(H,this),Math.hypot(d[0]-H[0],d[1]-H[1])<y)){var G=Qa(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return v.wheelDelta=function($){return arguments.length?(r=typeof $=="function"?$:Mp(+$),v):r},v.filter=function($){return arguments.length?(t=typeof $=="function"?$:Mp(!!$),v):t},v.touchable=function($){return arguments.length?(i=typeof $=="function"?$:Mp(!!$),v):i},v.extent=function($){return arguments.length?(e=typeof $=="function"?$:Mp([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),v):e},v.scaleExtent=function($){return arguments.length?(a[0]=+$[0],a[1]=+$[1],v):[a[0],a[1]]},v.translateExtent=function($){return arguments.length?(s[0][0]=+$[0][0],s[1][0]=+$[1][0],s[0][1]=+$[0][1],s[1][1]=+$[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function($){return arguments.length?(n=$,v):n},v.duration=function($){return arguments.length?(o=+$,v):o},v.interpolate=function($){return arguments.length?(l=$,v):l},v.on=function(){var $=c.on.apply(c,arguments);return $===c?v:$},v.clickDistance=function($){return arguments.length?(x=($=+$)*$,v):Math.sqrt(x)},v.tapDistance=function($){return arguments.length?(y=+$,v):y},v}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){YTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S9(t){"@babel/helpers - typeof";return S9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S9(t)}function YTe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lr(){return Lr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lr.apply(this,arguments)}function QTe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ri(t,e){if(t==null)return{};var n=QTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vn(t,e){return XTe(t)||JTe(t,e)||ZTe(t,e)||eNe()}function XTe(t){if(Array.isArray(t))return t}function JTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function ZTe(t,e){if(t){if(typeof t=="string")return YI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YI(t,e)}}function YI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tNe=["width","height","projection","projectionConfig"],nNe=VU,rNe=Ri(yEe,["geoPath"]),Ba=R.createContext(),iNe=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,a=i===void 0?"geoEqualEarth":i,s=e.width,o=s===void 0?800:s,l=e.height,c=l===void 0?600:l,u=typeof a=="function";if(u)return a;var d=rNe[a]().translate([o/2,c/2]),h=[d.center?"center":null,d.rotate?"rotate":null,d.scale?"scale":null,d.parallels?"parallels":null];return h.forEach(function(p){p&&(d=d[p](r[p]||d[p]()))}),d},bB=function(e){var n=e.width,r=e.height,i=e.projection,a=e.projectionConfig,s=Ri(e,tNe),o=a.center||[],l=Vn(o,2),c=l[0],u=l[1],d=a.rotate||[],h=Vn(d,3),p=h[0],g=h[1],x=h[2],y=a.parallels||[],v=Vn(y,2),b=v[0],w=v[1],_=a.scale||null,S=R.useMemo(function(){return iNe({projectionConfig:{center:c||c===0||u||u===0?[c,u]:null,rotate:p||p===0||g||g===0?[p,g,x]:null,parallels:b||b===0||w||w===0?[b,w]:null,scale:_},projection:i,width:n,height:r})},[n,r,i,c,u,p,g,x,b,w,_]),P=R.useCallback(S,[S]),E=R.useMemo(function(){return{width:n,height:r,projection:P,path:nNe().projection(P)}},[n,r,P]);return B.createElement(Ba.Provider,Lr({value:E},s))};bB.propTypes={width:oe.number,height:oe.number,projection:oe.oneOfType([oe.string,oe.func]),projectionConfig:oe.object};var aNe=["width","height","projection","projectionConfig","className"],Iw=R.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,a=i===void 0?600:i,s=t.projection,o=s===void 0?"geoEqualEarth":s,l=t.projectionConfig,c=l===void 0?{}:l,u=t.className,d=u===void 0?"":u,h=Ri(t,aNe);return B.createElement(bB,{width:r,height:a,projection:o,projectionConfig:c},B.createElement("svg",Lr({ref:e,viewBox:"0 0 ".concat(r," ").concat(a),className:"rsm-svg ".concat(d)},h)))});Iw.displayName="ComposableMap";Iw.propTypes={width:oe.number,height:oe.number,projection:oe.oneOfType([oe.string,oe.func]),projectionConfig:oe.object,className:oe.string};function QI(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function sNe(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function XI(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=wEe(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function JI(t){var e=t.type==="Topology";if(!e)return null;var n=II(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i===a}),r=II(t,t.objects[Object.keys(t.objects)[0]],function(i,a){return i!==a});return{outline:n,borders:r}}function oNe(t,e,n){return t&&e?{outline:tc(tc({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:tc(tc({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function lNe(t,e){return t?t.map(function(n,r){return tc(tc({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function cNe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],a=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+a," ").concat(-t,",").concat(-e)}function uNe(t){return typeof t=="string"}function dNe(t){var e=t.geography,n=t.parseGeographies,r=R.useContext(Ba),i=r.path,a=R.useState({}),s=Vn(a,2),o=s[0],l=s[1];R.useEffect(function(){(typeof window>"u"?"undefined":S9(window))!=="undefined"&&e&&(uNe(e)?sNe(e).then(function(p){p&&l({geographies:XI(p,n),mesh:JI(p)})}):l({geographies:XI(e,n),mesh:JI(e)}))},[e,n]);var c=R.useMemo(function(){var p=o.mesh||{},g=oNe(p.outline,p.borders,i);return{geographies:lNe(o.geographies,i),outline:g.outline,borders:g.borders}},[o,i]),u=c.geographies,d=c.outline,h=c.borders;return{geographies:u,outline:d,borders:h}}var fNe=["geography","children","parseGeographies","className"],Cw=R.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,a=t.className,s=a===void 0?"":a,o=Ri(t,fNe),l=R.useContext(Ba),c=l.path,u=l.projection,d=dNe({geography:n,parseGeographies:i}),h=d.geographies,p=d.outline,g=d.borders;return B.createElement("g",Lr({ref:e,className:"rsm-geographies ".concat(s)},o),h&&h.length>0&&r({geographies:h,outline:p,borders:g,path:c,projection:u}))});Cw.displayName="Geographies";Cw.propTypes={geography:oe.oneOfType([oe.string,oe.object,oe.array]),children:oe.func,parseGeographies:oe.func,className:oe.string};var hNe=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Ow=R.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,a=t.onMouseDown,s=t.onMouseUp,o=t.onFocus,l=t.onBlur,c=t.style,u=c===void 0?{}:c,d=t.className,h=d===void 0?"":d,p=Ri(t,hNe),g=R.useState(!1),x=Vn(g,2),y=x[0],v=x[1],b=R.useState(!1),w=Vn(b,2),_=w[0],S=w[1];function P(j){S(!0),r&&r(j)}function E(j){S(!1),y&&v(!1),i&&i(j)}function k(j){S(!0),o&&o(j)}function N(j){S(!1),y&&v(!1),l&&l(j)}function I(j){v(!0),a&&a(j)}function A(j){v(!1),s&&s(j)}return B.createElement("path",Lr({ref:e,tabIndex:"0",className:"rsm-geography ".concat(h),d:n.svgPath,onMouseEnter:P,onMouseLeave:E,onFocus:k,onBlur:N,onMouseDown:I,onMouseUp:A,style:u[y||_?y?"pressed":"hover":"default"]},p))});Ow.displayName="Geography";Ow.propTypes={geography:oe.object,onMouseEnter:oe.func,onMouseLeave:oe.func,onMouseDown:oe.func,onMouseUp:oe.func,onFocus:oe.func,onBlur:oe.func,style:oe.object,className:oe.string};var pNe=R.memo(Ow),mNe=["fill","stroke","step","className"],jw=R.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,a=i===void 0?"currentcolor":i,s=t.step,o=s===void 0?[10,10]:s,l=t.className,c=l===void 0?"":l,u=Ri(t,mNe),d=R.useContext(Ba),h=d.path;return B.createElement("path",Lr({ref:e,d:h(ow().step(o)()),fill:r,stroke:a,className:"rsm-graticule ".concat(c)},u))});jw.displayName="Graticule";jw.propTypes={fill:oe.string,stroke:oe.string,step:oe.array,className:oe.string};R.memo(jw);var gNe=["value"],yNe=R.createContext(),vNe={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},wB=function(e){var n=e.value,r=n===void 0?vNe:n,i=Ri(e,gNe);return B.createElement(yNe.Provider,Lr({value:r},i))};wB.propTypes={x:oe.number,y:oe.number,k:oe.number,transformString:oe.string};function xNe(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,a=t.onMove,s=t.translateExtent,o=s===void 0?[[-1/0,-1/0],[1/0,1/0]]:s,l=t.scaleExtent,c=l===void 0?[1,8]:l,u=t.zoom,d=u===void 0?1:u,h=R.useContext(Ba),p=h.width,g=h.height,x=h.projection,y=Vn(e,2),v=y[0],b=y[1],w=R.useState({x:0,y:0,k:1}),_=Vn(w,2),S=_[0],P=_[1],E=R.useRef({x:0,y:0,k:1}),k=R.useRef(),N=R.useRef(),I=R.useRef(!1),A=Vn(o,2),j=A[0],O=A[1],$=Vn(j,2),M=$[0],D=$[1],V=Vn(O,2),F=V[0],U=V[1],H=Vn(c,2),G=H[0],K=H[1];return R.useEffect(function(){var ne=Qa(k.current);function ce(ie){!r||I.current||r({coordinates:x.invert(QI(p,g,ie.transform)),zoom:ie.transform.k},ie)}function pe(ie){if(!I.current){var be=ie.transform,Z=ie.sourceEvent;P({x:be.x,y:be.y,k:be.k,dragging:Z}),a&&a({x:be.x,y:be.y,zoom:be.k,dragging:Z},ie)}}function ee(ie){if(I.current){I.current=!1;return}var be=x.invert(QI(p,g,ie.transform)),Z=Vn(be,2),W=Z[0],de=Z[1];E.current={x:W,y:de,k:ie.transform.k},i&&i({coordinates:[W,de],zoom:ie.transform.k},ie)}function we(ie){return n?n(ie):ie?!ie.ctrlKey&&!ie.button:!1}var Ce=KTe().filter(we).scaleExtent([G,K]).translateExtent([[M,D],[F,U]]).on("start",ce).on("zoom",pe).on("end",ee);N.current=Ce,ne.call(Ce)},[p,g,M,D,F,U,G,K,x,r,a,i,n]),R.useEffect(function(){if(!(v===E.current.x&&b===E.current.y&&d===E.current.k)){var ne=x([v,b]),ce=ne[0]*d,pe=ne[1]*d,ee=Qa(k.current);I.current=!0,ee.call(N.current.transform,Aw.translate(p/2-ce,g/2-pe).scale(d)),P({x:p/2-ce,y:g/2-pe,k:d}),E.current={x:v,y:b,k:d}}},[v,b,d,p,g,x]),{mapRef:k,position:S,transformString:"translate(".concat(S.x," ").concat(S.y,") scale(").concat(S.k,")")}}var bNe=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],_B=R.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,a=i===void 0?1:i,s=t.minZoom,o=s===void 0?1:s,l=t.maxZoom,c=l===void 0?8:l,u=t.translateExtent,d=t.filterZoomEvent,h=t.onMoveStart,p=t.onMove,g=t.onMoveEnd,x=t.className,y=Ri(t,bNe),v=R.useContext(Ba),b=v.width,w=v.height,_=xNe({center:r,filterZoomEvent:d,onMoveStart:h,onMove:p,onMoveEnd:g,scaleExtent:[o,c],translateExtent:u,zoom:a}),S=_.mapRef,P=_.transformString,E=_.position;return B.createElement(wB,{value:{x:E.x,y:E.y,k:E.k,transformString:P}},B.createElement("g",{ref:S},B.createElement("rect",{width:b,height:w,fill:"transparent"}),B.createElement("g",Lr({ref:e,transform:P,className:"rsm-zoomable-group ".concat(x)},y))))});_B.displayName="ZoomableGroup";_B.propTypes={center:oe.array,zoom:oe.number,minZoom:oe.number,maxZoom:oe.number,translateExtent:oe.arrayOf(oe.array),onMoveStart:oe.func,onMove:oe.func,onMoveEnd:oe.func,className:oe.string};var wNe=["id","fill","stroke","strokeWidth","className"],Rw=R.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,a=i===void 0?"transparent":i,s=t.stroke,o=s===void 0?"currentcolor":s,l=t.strokeWidth,c=l===void 0?.5:l,u=t.className,d=u===void 0?"":u,h=Ri(t,wNe),p=R.useContext(Ba),g=p.path,x=R.useMemo(function(){return g({type:"Sphere"})},[g]);return B.createElement(R.Fragment,null,B.createElement("defs",null,B.createElement("clipPath",{id:r},B.createElement("path",{d:x}))),B.createElement("path",Lr({ref:e,d:x,fill:a,stroke:o,strokeWidth:c,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(d)},h)))});Rw.displayName="Sphere";Rw.propTypes={id:oe.string,fill:oe.string,stroke:oe.string,strokeWidth:oe.number,className:oe.string};R.memo(Rw);var _Ne=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Mw=R.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,a=t.onMouseLeave,s=t.onMouseDown,o=t.onMouseUp,l=t.onFocus,c=t.onBlur,u=t.style,d=u===void 0?{}:u,h=t.className,p=h===void 0?"":h,g=Ri(t,_Ne),x=R.useContext(Ba),y=x.projection,v=R.useState(!1),b=Vn(v,2),w=b[0],_=b[1],S=R.useState(!1),P=Vn(S,2),E=P[0],k=P[1],N=y(n),I=Vn(N,2),A=I[0],j=I[1];function O(U){k(!0),i&&i(U)}function $(U){k(!1),w&&_(!1),a&&a(U)}function M(U){k(!0),l&&l(U)}function D(U){k(!1),w&&_(!1),c&&c(U)}function V(U){_(!0),s&&s(U)}function F(U){_(!1),o&&o(U)}return B.createElement("g",Lr({ref:e,transform:"translate(".concat(A,", ").concat(j,")"),className:"rsm-marker ".concat(p),onMouseEnter:O,onMouseLeave:$,onFocus:M,onBlur:D,onMouseDown:V,onMouseUp:F,style:d[w||E?w?"pressed":"hover":"default"]},g),r)});Mw.displayName="Marker";Mw.propTypes={coordinates:oe.array,children:oe.oneOfType([oe.node,oe.arrayOf(oe.node)]),onMouseEnter:oe.func,onMouseLeave:oe.func,onMouseDown:oe.func,onMouseUp:oe.func,onFocus:oe.func,onBlur:oe.func,style:oe.object,className:oe.string};var SNe=["from","to","coordinates","stroke","strokeWidth","fill","className"],SB=R.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,a=i===void 0?[0,0]:i,s=t.coordinates,o=t.stroke,l=o===void 0?"currentcolor":o,c=t.strokeWidth,u=c===void 0?3:c,d=t.fill,h=d===void 0?"transparent":d,p=t.className,g=p===void 0?"":p,x=Ri(t,SNe),y=R.useContext(Ba),v=y.path,b={type:"LineString",coordinates:s||[r,a]};return B.createElement("path",Lr({ref:e,d:v(b),className:"rsm-line ".concat(g),stroke:l,strokeWidth:u,fill:h},x))});SB.displayName="Line";SB.propTypes={from:oe.array,to:oe.array,coordinates:oe.array,stroke:oe.string,strokeWidth:oe.number,fill:oe.string,className:oe.string};var ENe=["subject","children","connectorProps","dx","dy","curve","className"],EB=R.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,a=t.dx,s=a===void 0?30:a,o=t.dy,l=o===void 0?30:o,c=t.curve,u=c===void 0?0:c,d=t.className,h=d===void 0?"":d,p=Ri(t,ENe),g=R.useContext(Ba),x=g.projection,y=x(n),v=Vn(y,2),b=v[0],w=v[1],_=cNe(s,l,u);return B.createElement("g",Lr({ref:e,transform:"translate(".concat(b+s,", ").concat(w+l,")"),className:"rsm-annotation ".concat(h)},p),B.createElement("path",Lr({d:_,fill:"transparent",stroke:"#000"},i)),r)});EB.displayName="Annotation";EB.propTypes={subject:oe.array,children:oe.oneOfType([oe.node,oe.arrayOf(oe.node)]),dx:oe.number,dy:oe.number,curve:oe.number,connectorProps:oe.object,className:oe.string};var Ct=1e-6,E9=1e-12,ft=Math.PI,Or=ft/2,ZI=ft/4,ri=ft*2,or=180/ft,wt=ft/180,Jt=Math.abs,kB=Math.atan,il=Math.atan2,vt=Math.cos,kNe=Math.exp,k9=Math.hypot,PNe=Math.log,xt=Math.sin,TNe=Math.sign||function(t){return t>0?1:t<0?-1:0},Zs=Math.sqrt,NNe=Math.tan;function ANe(t){return t>1?0:t<-1?ft:Math.acos(t)}function al(t){return t>1?Or:t<-1?-Or:Math.asin(t)}function Qr(){}function K1(t,e){t&&tC.hasOwnProperty(t.type)&&tC[t.type](t,e)}var eC={Feature:function(t,e){K1(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)K1(n[r].geometry,e)}},tC={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){P9(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)P9(n[r],e,0)},Polygon:function(t,e){nC(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)nC(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)K1(n[r],e)}};function P9(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function nC(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)P9(t[n],e,1);e.polygonEnd()}function go(t,e){t&&eC.hasOwnProperty(t.type)?eC[t.type](t,e):K1(t,e)}function T9(t){return[il(t[1],t[0]),al(t[2])]}function uu(t){var e=t[0],n=t[1],r=vt(n);return[r*vt(e),r*xt(e),xt(n)]}function $p(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Y1(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function B6(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Dp(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function N9(t){var e=Zs(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var qd,Q1,X1,J1,Z1,eg,tg,ng,A9,I9,C9,PB,TB,fr,hr,pr,Ki={sphere:Qr,point:$w,lineStart:rC,lineEnd:iC,polygonStart:function(){Ki.lineStart=ONe,Ki.lineEnd=jNe},polygonEnd:function(){Ki.lineStart=rC,Ki.lineEnd=iC}};function $w(t,e){t*=wt,e*=wt;var n=vt(e);N4(n*vt(t),n*xt(t),xt(e))}function N4(t,e,n){++qd,X1+=(t-X1)/qd,J1+=(e-J1)/qd,Z1+=(n-Z1)/qd}function rC(){Ki.point=INe}function INe(t,e){t*=wt,e*=wt;var n=vt(e);fr=n*vt(t),hr=n*xt(t),pr=xt(e),Ki.point=CNe,N4(fr,hr,pr)}function CNe(t,e){t*=wt,e*=wt;var n=vt(e),r=n*vt(t),i=n*xt(t),a=xt(e),s=il(Zs((s=hr*a-pr*i)*s+(s=pr*r-fr*a)*s+(s=fr*i-hr*r)*s),fr*r+hr*i+pr*a);Q1+=s,eg+=s*(fr+(fr=r)),tg+=s*(hr+(hr=i)),ng+=s*(pr+(pr=a)),N4(fr,hr,pr)}function iC(){Ki.point=$w}function ONe(){Ki.point=RNe}function jNe(){NB(PB,TB),Ki.point=$w}function RNe(t,e){PB=t,TB=e,t*=wt,e*=wt,Ki.point=NB;var n=vt(e);fr=n*vt(t),hr=n*xt(t),pr=xt(e),N4(fr,hr,pr)}function NB(t,e){t*=wt,e*=wt;var n=vt(e),r=n*vt(t),i=n*xt(t),a=xt(e),s=hr*a-pr*i,o=pr*r-fr*a,l=fr*i-hr*r,c=k9(s,o,l),u=al(c),d=c&&-u/c;A9.add(d*s),I9.add(d*o),C9.add(d*l),Q1+=u,eg+=u*(fr+(fr=r)),tg+=u*(hr+(hr=i)),ng+=u*(pr+(pr=a)),N4(fr,hr,pr)}function MNe(t){qd=Q1=X1=J1=Z1=eg=tg=ng=0,A9=new Aa,I9=new Aa,C9=new Aa,go(t,Ki);var e=+A9,n=+I9,r=+C9,i=k9(e,n,r);return i<E9&&(e=eg,n=tg,r=ng,Q1<Ct&&(e=X1,n=J1,r=Z1),i=k9(e,n,r),i<E9)?[NaN,NaN]:[il(n,e)*or,al(r/i)*or]}function O9(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function j9(t,e){return Jt(t)>ft&&(t-=Math.round(t/ri)*ri),[t,e]}j9.invert=j9;function AB(t,e,n){return(t%=ri)?e||n?O9(sC(t),oC(e,n)):sC(t):e||n?oC(e,n):j9}function aC(t){return function(e,n){return e+=t,Jt(e)>ft&&(e-=Math.round(e/ri)*ri),[e,n]}}function sC(t){var e=aC(t);return e.invert=aC(-t),e}function oC(t,e){var n=vt(t),r=xt(t),i=vt(e),a=xt(e);function s(o,l){var c=vt(l),u=vt(o)*c,d=xt(o)*c,h=xt(l),p=h*n+u*r;return[il(d*i-p*a,u*n-h*r),al(p*i+d*a)]}return s.invert=function(o,l){var c=vt(l),u=vt(o)*c,d=xt(o)*c,h=xt(l),p=h*i-d*a;return[il(d*i+h*a,u*n+p*r),al(p*n-u*r)]},s}function $Ne(t){t=AB(t[0]*wt,t[1]*wt,t.length>2?t[2]*wt:0);function e(n){return n=t(n[0]*wt,n[1]*wt),n[0]*=or,n[1]*=or,n}return e.invert=function(n){return n=t.invert(n[0]*wt,n[1]*wt),n[0]*=or,n[1]*=or,n},e}function DNe(t,e,n,r,i,a){if(n){var s=vt(e),o=xt(e),l=r*n;i==null?(i=e+r*ri,a=e-l/2):(i=lC(s,i),a=lC(s,a),(r>0?i<a:i>a)&&(i+=r*ri));for(var c,u=i;r>0?u>a:u<a;u-=l)c=T9([s,-o*vt(u),-o*xt(u)]),t.point(c[0],c[1])}}function lC(t,e){e=uu(e),e[0]-=t,N9(e);var n=ANe(-e[1]);return((-e[2]<0?-n:n)+ri-Ct)%ri}function IB(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Qr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function x3(t,e){return Jt(t[0]-e[0])<Ct&&Jt(t[1]-e[1])<Ct}function Lp(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function CB(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(g){if(!((x=g.length-1)<=0)){var x,y=g[0],v=g[x],b;if(x3(y,v)){if(!y[2]&&!v[2]){for(i.lineStart(),o=0;o<x;++o)i.point((y=g[o])[0],y[1]);i.lineEnd();return}v[0]+=2*Ct}a.push(b=new Lp(y,g,null,!0)),s.push(b.o=new Lp(y,null,b,!1)),a.push(b=new Lp(v,g,null,!1)),s.push(b.o=new Lp(v,null,b,!0))}}),!!a.length){for(s.sort(e),cC(a),cC(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,p=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=u.length;o<l;++o)i.point((d=u[o])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((d=u[o])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function cC(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function z6(t){return Jt(t[0])<=ft?t[0]:TNe(t[0])*((Jt(t[0])+ft)%ri-ft)}function LNe(t,e){var n=z6(e),r=e[1],i=xt(r),a=[xt(n),-vt(n),0],s=0,o=0,l=new Aa;i===1?r=Or+Ct:i===-1&&(r=-Or-Ct);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,p=d[h-1],g=z6(p),x=p[1]/2+ZI,y=xt(x),v=vt(x),b=0;b<h;++b,g=_,y=P,v=E,p=w){var w=d[b],_=z6(w),S=w[1]/2+ZI,P=xt(S),E=vt(S),k=_-g,N=k>=0?1:-1,I=N*k,A=I>ft,j=y*P;if(l.add(il(j*N*xt(I),v*E+j*vt(I))),s+=A?k+N*ri:k,A^g>=n^_>=n){var O=Y1(uu(p),uu(w));N9(O);var $=Y1(a,O);N9($);var M=(A^k>=0?-1:1)*al($[2]);(r>M||r===M&&(O[0]||O[1]))&&(o+=A^k>=0?1:-1)}}return(s<-Ct||s<Ct&&l<-E9)^o&1}function OB(t,e,n,r){return function(i){var a=e(i),s=IB(),o=e(s),l=!1,c,u,d,h={point:p,lineStart:x,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=b,h.lineEnd=w,u=[],c=[]},polygonEnd:function(){h.point=p,h.lineStart=x,h.lineEnd=y,u=WL(u);var _=LNe(c,r);u.length?(l||(i.polygonStart(),l=!0),CB(u,VNe,_,n,i)):_&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(_,S){t(_,S)&&i.point(_,S)}function g(_,S){a.point(_,S)}function x(){h.point=g,a.lineStart()}function y(){h.point=p,a.lineEnd()}function v(_,S){d.push([_,S]),o.point(_,S)}function b(){o.lineStart(),d=[]}function w(){v(d[0][0],d[0][1]),o.lineEnd();var _=o.clean(),S=s.result(),P,E=S.length,k,N,I;if(d.pop(),c.push(d),d=null,!!E){if(_&1){if(N=S[0],(k=N.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),P=0;P<k;++P)i.point((I=N[P])[0],I[1]);i.lineEnd()}return}E>1&&_&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(FNe))}}return h}}function FNe(t){return t.length>1}function VNe(t,e){return((t=t.x)[0]<0?t[1]-Or-Ct:Or-t[1])-((e=e.x)[0]<0?e[1]-Or-Ct:Or-e[1])}const uC=OB(function(){return!0},UNe,zNe,[-ft,-Or]);function UNe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?ft:-ft,l=Jt(a-e);Jt(l-ft)<Ct?(t.point(e,n=(n+s)/2>0?Or:-Or),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=ft&&(Jt(e-r)<Ct&&(e-=r*Ct),Jt(a-o)<Ct&&(a-=o*Ct),n=BNe(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function BNe(t,e,n,r){var i,a,s=xt(t-n);return Jt(s)>Ct?kB((xt(e)*(a=vt(r))*xt(n)-xt(r)*(i=vt(e))*xt(t))/(i*a*s)):(e+r)/2}function zNe(t,e,n,r){var i;if(t==null)i=n*Or,r.point(-ft,i),r.point(0,i),r.point(ft,i),r.point(ft,0),r.point(ft,-i),r.point(0,-i),r.point(-ft,-i),r.point(-ft,0),r.point(-ft,i);else if(Jt(t[0]-e[0])>Ct){var a=t[0]<e[0]?ft:-ft;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function qNe(t){var e=vt(t),n=2*wt,r=e>0,i=Jt(e)>Ct;function a(u,d,h,p){DNe(p,t,n,h,u,d)}function s(u,d){return vt(u)*vt(d)>e}function o(u){var d,h,p,g,x;return{lineStart:function(){g=p=!1,x=1},point:function(y,v){var b=[y,v],w,_=s(y,v),S=r?_?0:c(y,v):_?c(y+(y<0?ft:-ft),v):0;if(!d&&(g=p=_)&&u.lineStart(),_!==p&&(w=l(d,b),(!w||x3(d,w)||x3(b,w))&&(b[2]=1)),_!==p)x=0,_?(u.lineStart(),w=l(b,d),u.point(w[0],w[1])):(w=l(d,b),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&r^_){var P;!(S&h)&&(P=l(b,d,!0))&&(x=0,r?(u.lineStart(),u.point(P[0][0],P[0][1]),u.point(P[1][0],P[1][1]),u.lineEnd()):(u.point(P[1][0],P[1][1]),u.lineEnd(),u.lineStart(),u.point(P[0][0],P[0][1],3)))}_&&(!d||!x3(d,b))&&u.point(b[0],b[1]),d=b,p=_,h=S},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return x|(g&&p)<<1}}}function l(u,d,h){var p=uu(u),g=uu(d),x=[1,0,0],y=Y1(p,g),v=$p(y,y),b=y[0],w=v-b*b;if(!w)return!h&&u;var _=e*v/w,S=-e*b/w,P=Y1(x,y),E=Dp(x,_),k=Dp(y,S);B6(E,k);var N=P,I=$p(E,N),A=$p(N,N),j=I*I-A*($p(E,E)-1);if(!(j<0)){var O=Zs(j),$=Dp(N,(-I-O)/A);if(B6($,E),$=T9($),!h)return $;var M=u[0],D=d[0],V=u[1],F=d[1],U;D<M&&(U=M,M=D,D=U);var H=D-M,G=Jt(H-ft)<Ct,K=G||H<Ct;if(!G&&F<V&&(U=V,V=F,F=U),K?G?V+F>0^$[1]<(Jt($[0]-M)<Ct?V:F):V<=$[1]&&$[1]<=F:H>ft^(M<=$[0]&&$[0]<=D)){var ne=Dp(N,(-I+O)/A);return B6(ne,E),[$,T9(ne)]}}}function c(u,d){var h=r?t:ft-t,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return OB(s,o,a,r?[0,-t]:[-ft,t-ft])}function WNe(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],c=e[1],u=0,d=1,h=l-s,p=c-o,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-o,!(!p&&g>0)){if(g/=p,p<0){if(g<u)return;g<d&&(d=g)}else if(p>0){if(g>d)return;g>u&&(u=g)}if(g=a-o,!(!p&&g<0)){if(g/=p,p<0){if(g>d)return;g>u&&(u=g)}else if(p>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=s+u*h,t[1]=o+u*p),d<1&&(e[0]=s+d*h,e[1]=o+d*p),!0}}}}}var Wd=1e9,Fp=-Wd;function HNe(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var p=0,g=0;if(c==null||(p=s(c,d))!==(g=s(u,d))||l(c,u)<0^d>0)do h.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==g);else h.point(u[0],u[1])}function s(c,u){return Jt(c[0]-t)<Ct?u>0?0:3:Jt(c[0]-n)<Ct?u>0?2:1:Jt(c[1]-e)<Ct?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=IB(),h,p,g,x,y,v,b,w,_,S,P,E={point:k,lineStart:j,lineEnd:O,polygonStart:I,polygonEnd:A};function k(M,D){i(M,D)&&u.point(M,D)}function N(){for(var M=0,D=0,V=p.length;D<V;++D)for(var F=p[D],U=1,H=F.length,G=F[0],K,ne,ce=G[0],pe=G[1];U<H;++U)K=ce,ne=pe,G=F[U],ce=G[0],pe=G[1],ne<=r?pe>r&&(ce-K)*(r-ne)>(pe-ne)*(t-K)&&++M:pe<=r&&(ce-K)*(r-ne)<(pe-ne)*(t-K)&&--M;return M}function I(){u=d,h=[],p=[],P=!0}function A(){var M=N(),D=P&&M,V=(h=WL(h)).length;(D||V)&&(c.polygonStart(),D&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),V&&CB(h,o,M,a,c),c.polygonEnd()),u=c,h=p=g=null}function j(){E.point=$,p&&p.push(g=[]),S=!0,_=!1,b=w=NaN}function O(){h&&($(x,y),v&&_&&d.rejoin(),h.push(d.result())),E.point=k,_&&u.lineEnd()}function $(M,D){var V=i(M,D);if(p&&g.push([M,D]),S)x=M,y=D,v=V,S=!1,V&&(u.lineStart(),u.point(M,D));else if(V&&_)u.point(M,D);else{var F=[b=Math.max(Fp,Math.min(Wd,b)),w=Math.max(Fp,Math.min(Wd,w))],U=[M=Math.max(Fp,Math.min(Wd,M)),D=Math.max(Fp,Math.min(Wd,D))];WNe(F,U,t,e,n,r)?(_||(u.lineStart(),u.point(F[0],F[1])),u.point(U[0],U[1]),V||u.lineEnd(),P=!1):V&&(u.lineStart(),u.point(M,D),P=!1)}b=M,w=D,_=V}return E}}const R9=t=>t;var q6=new Aa,M9=new Aa,jB,RB,$9,D9,Xa={point:Qr,lineStart:Qr,lineEnd:Qr,polygonStart:function(){Xa.lineStart=GNe,Xa.lineEnd=YNe},polygonEnd:function(){Xa.lineStart=Xa.lineEnd=Xa.point=Qr,q6.add(Jt(M9)),M9=new Aa},result:function(){var t=q6/2;return q6=new Aa,t}};function GNe(){Xa.point=KNe}function KNe(t,e){Xa.point=MB,jB=$9=t,RB=D9=e}function MB(t,e){M9.add(D9*t-$9*e),$9=t,D9=e}function YNe(){MB(jB,RB)}var du=1/0,rg=du,Wh=-du,ig=Wh,ag={point:QNe,lineStart:Qr,lineEnd:Qr,polygonStart:Qr,polygonEnd:Qr,result:function(){var t=[[du,rg],[Wh,ig]];return Wh=ig=-(rg=du=1/0),t}};function QNe(t,e){t<du&&(du=t),t>Wh&&(Wh=t),e<rg&&(rg=e),e>ig&&(ig=e)}var L9=0,F9=0,Hd=0,sg=0,og=0,nc=0,V9=0,U9=0,Gd=0,$B,DB,ya,va,vi={point:sl,lineStart:dC,lineEnd:fC,polygonStart:function(){vi.lineStart=ZNe,vi.lineEnd=eAe},polygonEnd:function(){vi.point=sl,vi.lineStart=dC,vi.lineEnd=fC},result:function(){var t=Gd?[V9/Gd,U9/Gd]:nc?[sg/nc,og/nc]:Hd?[L9/Hd,F9/Hd]:[NaN,NaN];return L9=F9=Hd=sg=og=nc=V9=U9=Gd=0,t}};function sl(t,e){L9+=t,F9+=e,++Hd}function dC(){vi.point=XNe}function XNe(t,e){vi.point=JNe,sl(ya=t,va=e)}function JNe(t,e){var n=t-ya,r=e-va,i=Zs(n*n+r*r);sg+=i*(ya+t)/2,og+=i*(va+e)/2,nc+=i,sl(ya=t,va=e)}function fC(){vi.point=sl}function ZNe(){vi.point=tAe}function eAe(){LB($B,DB)}function tAe(t,e){vi.point=LB,sl($B=ya=t,DB=va=e)}function LB(t,e){var n=t-ya,r=e-va,i=Zs(n*n+r*r);sg+=i*(ya+t)/2,og+=i*(va+e)/2,nc+=i,i=va*t-ya*e,V9+=i*(ya+t),U9+=i*(va+e),Gd+=i*3,sl(ya=t,va=e)}function FB(t){this._context=t}FB.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ri);break}}},result:Qr};var B9=new Aa,W6,VB,UB,Kd,Yd,Hh={point:Qr,lineStart:function(){Hh.point=nAe},lineEnd:function(){W6&&BB(VB,UB),Hh.point=Qr},polygonStart:function(){W6=!0},polygonEnd:function(){W6=null},result:function(){var t=+B9;return B9=new Aa,t}};function nAe(t,e){Hh.point=BB,VB=Kd=t,UB=Yd=e}function BB(t,e){Kd-=t,Yd-=e,B9.add(Zs(Kd*Kd+Yd*Yd)),Kd=t,Yd=e}let hC,lg,pC,mC;class gC{constructor(e){this._append=e==null?zB:rAe(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==pC||this._append!==lg){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,pC=r,lg=this._append,mC=this._,this._=i}this._+=mC;break}}}result(){const e=this._;return this._="",e.length?e:null}}function zB(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function rAe(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return zB;if(e!==hC){const n=10**e;hC=e,lg=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return lg}function iAe(t,e){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),go(o,i(a))),a.result()}return s.area=function(o){return go(o,i(Xa)),Xa.result()},s.measure=function(o){return go(o,i(Hh)),Hh.result()},s.bounds=function(o){return go(o,i(ag)),ag.result()},s.centroid=function(o){return go(o,i(vi)),vi.result()},s.projection=function(o){return arguments.length?(i=o==null?(t=null,R9):(t=o).stream,s):t},s.context=function(o){return arguments.length?(a=o==null?(e=null,new gC(n)):new FB(e=o),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);n=l}return e===null&&(a=new gC(n)),s},s.projection(t).digits(n).context(e)}function Dw(t){return function(e){var n=new z9;for(var r in t)n[r]=t[r];return n.stream=e,n}}function z9(){}z9.prototype={constructor:z9,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Lw(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),go(n,t.stream(ag)),e(ag.result()),r!=null&&t.clipExtent(r),t}function qB(t,e,n){return Lw(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function aAe(t,e,n){return qB(t,[[0,0],e],n)}function sAe(t,e,n){return Lw(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function oAe(t,e,n){return Lw(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var yC=16,lAe=vt(30*wt);function vC(t,e){return+e?uAe(t,e):cAe(t)}function cAe(t){return Dw({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function uAe(t,e){function n(r,i,a,s,o,l,c,u,d,h,p,g,x,y){var v=c-r,b=u-i,w=v*v+b*b;if(w>4*e&&x--){var _=s+h,S=o+p,P=l+g,E=Zs(_*_+S*S+P*P),k=al(P/=E),N=Jt(Jt(P)-1)<Ct||Jt(a-d)<Ct?(a+d)/2:il(S,_),I=t(N,k),A=I[0],j=I[1],O=A-r,$=j-i,M=b*O-v*$;(M*M/w>e||Jt((v*O+b*$)/w-.5)>.3||s*h+o*p+l*g<lAe)&&(n(r,i,a,s,o,l,A,j,N,_/=E,S/=E,P,x,y),y.point(A,j),n(A,j,N,_,S,P,c,u,d,h,p,g,x,y))}}return function(r){var i,a,s,o,l,c,u,d,h,p,g,x,y={point:v,lineStart:b,lineEnd:_,polygonStart:function(){r.polygonStart(),y.lineStart=S},polygonEnd:function(){r.polygonEnd(),y.lineStart=b}};function v(k,N){k=t(k,N),r.point(k[0],k[1])}function b(){d=NaN,y.point=w,r.lineStart()}function w(k,N){var I=uu([k,N]),A=t(k,N);n(d,h,u,p,g,x,d=A[0],h=A[1],u=k,p=I[0],g=I[1],x=I[2],yC,r),r.point(d,h)}function _(){y.point=v,r.lineEnd()}function S(){b(),y.point=P,y.lineEnd=E}function P(k,N){w(i=k,N),a=d,s=h,o=p,l=g,c=x,y.point=w}function E(){n(d,h,u,p,g,x,a,s,i,o,l,c,yC,r),y.lineEnd=_,_()}return y}}var dAe=Dw({point:function(t,e){this.stream.point(t*wt,e*wt)}});function fAe(t){return Dw({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function hAe(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function xC(t,e,n,r,i,a){if(!a)return hAe(t,e,n,r,i);var s=vt(a),o=xt(a),l=s*t,c=o*t,u=s/t,d=o/t,h=(o*n-s*e)/t,p=(o*e+s*n)/t;function g(x,y){return x*=r,y*=i,[l*x-c*y+e,n-c*x-l*y]}return g.invert=function(x,y){return[r*(u*x-d*y+h),i*(p-d*x-u*y)]},g}function pAe(t){return mAe(function(){return t})()}function mAe(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,c=0,u,d=0,h=1,p=1,g=null,x=uC,y=null,v,b,w,_=R9,S=.5,P,E,k,N,I;function A(M){return k(M[0]*wt,M[1]*wt)}function j(M){return M=k.invert(M[0],M[1]),M&&[M[0]*or,M[1]*or]}A.stream=function(M){return N&&I===M?N:N=dAe(fAe(u)(x(P(_(I=M)))))},A.preclip=function(M){return arguments.length?(x=M,g=void 0,$()):x},A.postclip=function(M){return arguments.length?(_=M,y=v=b=w=null,$()):_},A.clipAngle=function(M){return arguments.length?(x=+M?qNe(g=M*wt):(g=null,uC),$()):g*or},A.clipExtent=function(M){return arguments.length?(_=M==null?(y=v=b=w=null,R9):HNe(y=+M[0][0],v=+M[0][1],b=+M[1][0],w=+M[1][1]),$()):y==null?null:[[y,v],[b,w]]},A.scale=function(M){return arguments.length?(n=+M,O()):n},A.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],O()):[r,i]},A.center=function(M){return arguments.length?(a=M[0]%360*wt,s=M[1]%360*wt,O()):[a*or,s*or]},A.rotate=function(M){return arguments.length?(o=M[0]%360*wt,l=M[1]%360*wt,c=M.length>2?M[2]%360*wt:0,O()):[o*or,l*or,c*or]},A.angle=function(M){return arguments.length?(d=M%360*wt,O()):d*or},A.reflectX=function(M){return arguments.length?(h=M?-1:1,O()):h<0},A.reflectY=function(M){return arguments.length?(p=M?-1:1,O()):p<0},A.precision=function(M){return arguments.length?(P=vC(E,S=M*M),$()):Zs(S)},A.fitExtent=function(M,D){return qB(A,M,D)},A.fitSize=function(M,D){return aAe(A,M,D)},A.fitWidth=function(M,D){return sAe(A,M,D)},A.fitHeight=function(M,D){return oAe(A,M,D)};function O(){var M=xC(n,0,0,h,p,d).apply(null,e(a,s)),D=xC(n,r-M[0],i-M[1],h,p,d);return u=AB(o,l,c),E=O9(e,D),k=O9(u,E),P=vC(E,S),$()}function $(){return N=I=null,A}return function(){return e=t.apply(this,arguments),A.invert=e.invert&&j,O()}}function Fw(t,e){return[t,PNe(NNe((Or+e)/2))]}Fw.invert=function(t,e){return[t,2*kB(kNe(e))-Or]};function gAe(){return yAe(Fw).scale(961/ri)}function yAe(t){var e=pAe(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=c=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,o],[l,c]]};function u(){var d=ft*r(),h=e($Ne(e.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===Fw?[[Math.max(h[0]-d,s),o],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,c)]])}return u()}const vAe=`{
"type": "FeatureCollection",
"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
"features": [
{ "type": "Feature", "properties": { "shapeName": "Al-Anbar", "shapeISO": "IQ-AN", "shapeID": "90741666B95383716564687", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 41.215106344000048, 35.13619847800004 ], [ 41.215106344000048, 35.005016305000026 ], [ 41.225123991000032, 34.970135611000046 ], [ 41.220115167000074, 34.791396081000073 ], [ 41.195071049000035, 34.76053965400007 ], [ 41.17253134200007, 34.735846206000076 ], [ 41.124947516000077, 34.68849646700005 ], [ 41.112425457000029, 34.659661619000076 ], [ 41.079868102000034, 34.612268295000035 ], [ 41.072354866000069, 34.593715711000073 ], [ 41.029779864000034, 34.523590780000063 ], [ 41.002231334000044, 34.484377579000068 ], [ 40.98219603900003, 34.447211218000064 ], [ 40.964665155000034, 34.426556090000076 ], [ 40.949638684000035, 34.414160563000053 ], [ 40.909568094000065, 34.399696793000032 ], [ 40.859479856000064, 34.395563827000046 ], [ 40.819409266000036, 34.389363997000032 ], [ 40.769321029000025, 34.387297285000045 ], [ 40.726746027000047, 34.387297285000045 ], [ 40.674153377000039, 34.376962959000025 ], [ 40.621560728000077, 34.354222952000043 ], [ 38.794905311000036, 33.408622035000064 ], [ 39.088391079000075, 32.535391729000025 ], [ 38.991188592000071, 32.508863753000071 ], [ 39.056303301000071, 32.316467330000023 ], [ 39.256656252000028, 32.37782499900004 ], [ 39.304240078000078, 32.267774774000031 ], [ 39.204063602000076, 32.176670758000057 ], [ 40.413694541000041, 31.966573059000041 ], [ 40.997222510000029, 31.638797245000035 ], [ 41.317787231000068, 31.448839288000045 ], [ 41.52314900500005, 31.352646144000062 ], [ 41.668404894000048, 31.294882969000071 ], [ 42.094154914000057, 31.117093041000032 ], [ 42.935637307000036, 30.510549738000066 ], [ 42.935751249000077, 30.513761097000042 ], [ 42.953168190000042, 31.003389915000071 ], [ 42.988229956000055, 31.074202168000056 ], [ 43.005760839000061, 31.10422781300008 ], [ 43.025796134000075, 31.127812733000042 ], [ 43.053344665000054, 31.151391792000027 ], [ 43.080893196000034, 31.166393594000056 ], [ 43.113450550000039, 31.185678136000035 ], [ 43.123468198000069, 31.209242797000059 ], [ 43.123468198000069, 31.339812946000052 ], [ 43.168547612000054, 31.406098950000057 ], [ 43.181069671000046, 31.421060285000067 ], [ 43.203609378000067, 31.448839288000045 ], [ 43.216131437000058, 31.474474136000026 ], [ 43.226149085000031, 31.495831148000036 ], [ 43.223644673000081, 31.608941852000044 ], [ 43.311299089000045, 31.681431185000065 ], [ 43.35387409100008, 31.745345395000072 ], [ 43.386431445000028, 31.798573566000073 ], [ 43.40396232900008, 31.830495763000044 ], [ 43.429006447000063, 31.858152740000037 ], [ 43.456554978000042, 31.881548319000046 ], [ 43.49662556800007, 31.900685739000039 ], [ 43.544209394000063, 31.91131591900006 ], [ 43.586784396000041, 31.926196109000045 ], [ 43.636872634000042, 31.953824360000056 ], [ 43.674438812000062, 31.975071208000031 ], [ 43.714509402000033, 31.998437061000061 ], [ 43.837225584000066, 32.087597364000032 ], [ 43.273732911000025, 32.576422065000031 ], [ 43.426502036000045, 32.61018215200005 ], [ 43.589288808000049, 32.646038305000047 ], [ 43.709500578000075, 32.669231689000071 ], [ 43.797154994000039, 32.707171515000027 ], [ 43.829712349000033, 32.734562471000061 ], [ 43.872287351000068, 32.755626712000037 ], [ 43.902340293000066, 32.772474518000024 ], [ 43.944915295000044, 32.787213733000044 ], [ 43.982481473000064, 32.793529792000072 ], [ 44.025056475000042, 32.793529792000072 ], [ 44.062622654000052, 32.797740248000025 ], [ 44.080153537000058, 32.875597721000076 ], [ 44.10519765600003, 32.91765440000006 ], [ 44.107702068000037, 32.953386873000056 ], [ 44.097684420000064, 32.99960746000005 ], [ 44.097684420000064, 33.039505764000069 ], [ 44.097684420000064, 33.073090328000035 ], [ 44.095180008000057, 33.100368350000053 ], [ 44.090171184000042, 33.127637908000054 ], [ 44.072640301000035, 33.150705537000078 ], [ 44.050100594000071, 33.175863307000043 ], [ 44.030065299000057, 33.194726896000077 ], [ 44.00001235700006, 33.213586423000038 ], [ 43.979977062000046, 33.194726896000077 ], [ 43.967455002000065, 33.196822599000029 ], [ 43.942410883000036, 33.230347035000079 ], [ 43.917366764000064, 33.240820787000075 ], [ 43.907349117000081, 33.259670379000056 ], [ 43.919871176000072, 33.284796842000048 ], [ 43.942410883000036, 33.29317072300006 ], [ 44.125232951000044, 33.29317072300006 ], [ 44.260471192000068, 33.433313682000062 ], [ 44.215391778000026, 33.508521089000055 ], [ 44.165303541000071, 33.577403846000038 ], [ 44.132746186000077, 33.598266566000063 ], [ 44.10519765600003, 33.614953109000055 ], [ 44.082657949000065, 33.631636423000032 ], [ 44.082657949000065, 33.671246343000064 ], [ 44.072640301000035, 33.700420932000043 ], [ 44.045091770000056, 33.725419841000075 ], [ 44.020047652000073, 33.742081736000046 ], [ 43.732040285000039, 33.750411470000074 ], [ 43.70449175400006, 33.773314066000069 ], [ 43.671934400000055, 33.789966656000047 ], [ 43.629359398000076, 33.792048002000058 ], [ 43.60181086700004, 33.792048002000058 ], [ 43.571757925000043, 33.792048002000058 ], [ 43.551722630000029, 33.79412929700004 ], [ 43.521669687000042, 33.79621054200004 ], [ 43.326325560000043, 33.84406520400006 ], [ 43.183574083000053, 33.968777321000061 ], [ 43.183574083000053, 34.004079235000063 ], [ 43.115954962000046, 34.022762546000024 ], [ 43.115954962000046, 34.055967167000063 ], [ 43.103432903000055, 34.08708469100003 ], [ 43.045831429000032, 34.12233739800007 ], [ 42.998247604000028, 34.147212816000035 ], [ 42.920610835000048, 34.228007339000044 ], [ 42.923115247000055, 34.515336902000058 ], [ 42.770346122000035, 34.374895940000044 ], [ 42.442268166000076, 34.558660635000024 ], [ 42.422232871000062, 34.931133724000063 ], [ 41.901315199000067, 34.922920436000027 ], [ 41.743537251000078, 34.974239994000072 ], [ 41.653378423000049, 34.998861968000028 ], [ 41.578246067000066, 35.019374623000033 ], [ 41.52314900500005, 35.03373042000004 ], [ 41.488087239000038, 35.029629021000062 ], [ 41.450521061000074, 35.03373042000004 ], [ 41.415459294000073, 35.048083696000049 ], [ 41.372884292000037, 35.072683445000052 ], [ 41.320291643000076, 35.095226702000048 ], [ 41.280221053000048, 35.113666551000051 ], [ 41.250168110000061, 35.125957466000045 ], [ 41.215106344000048, 35.13619847800004 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Karbala", "shapeISO": "IQ-KA", "shapeID": "90741666B6541054971840", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.273732911000025, 32.576422065000031 ], [ 43.729914548000067, 32.18089201600003 ], [ 44.250453545000028, 32.358787418000077 ], [ 44.222905014000048, 32.420116378000046 ], [ 44.192852072000051, 32.456048469000052 ], [ 44.177825600000062, 32.475065541000049 ], [ 44.167807953000079, 32.489853821000054 ], [ 44.157790305000049, 32.506751736000069 ], [ 44.145268246000057, 32.519423089000043 ], [ 44.125232951000044, 32.542649263000044 ], [ 44.110206479000055, 32.561648028000036 ], [ 44.095180008000057, 32.580642771000043 ], [ 44.082657949000065, 32.593303698000057 ], [ 44.082657949000065, 32.608072519000075 ], [ 44.092675596000049, 32.622838905000037 ], [ 44.102693244000079, 32.637602856000058 ], [ 44.11521530300007, 32.658689988000049 ], [ 44.152781481000034, 32.696634291000066 ], [ 44.165303541000071, 32.707171515000027 ], [ 44.187843248000036, 32.71560039700006 ], [ 44.205374131000042, 32.730349026000056 ], [ 44.207878543000049, 32.740882266000028 ], [ 44.202869719000034, 32.755626712000037 ], [ 44.187843248000036, 32.770368717000053 ], [ 44.170312365000029, 32.772474518000024 ], [ 44.137755010000035, 32.774580270000058 ], [ 44.120224127000029, 32.780897226000036 ], [ 44.085162361000073, 32.791424489000065 ], [ 44.062622654000052, 32.797740248000025 ], [ 44.025056475000042, 32.793529792000072 ], [ 43.982481473000064, 32.793529792000072 ], [ 43.944915295000044, 32.787213733000044 ], [ 43.902340293000066, 32.772474518000024 ], [ 43.872287351000068, 32.755626712000037 ], [ 43.829712349000033, 32.734562471000061 ], [ 43.797154994000039, 32.707171515000027 ], [ 43.709500578000075, 32.669231689000071 ], [ 43.589288808000049, 32.646038305000047 ], [ 43.426502036000045, 32.61018215200005 ], [ 43.273732911000025, 32.576422065000031 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "An-Najaf", "shapeISO": "IQ-NA", "shapeID": "90741666B48190773870201", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 42.935751249000077, 30.513761097000042 ], [ 42.978112132000035, 30.476453047000064 ], [ 43.813614360613677, 29.850955358773959 ], [ 43.813584493000064, 29.850980567000079 ], [ 43.814786054000081, 29.850078172000053 ], [ 43.898132881000038, 29.954287058000034 ], [ 43.95583453100005, 30.034800458000063 ], [ 44.011933357000032, 30.095835997000052 ], [ 44.031167240000059, 30.115248500000064 ], [ 44.039181358000064, 30.134657188000062 ], [ 44.071237831000076, 30.203942774000041 ], [ 44.080854772000066, 30.223334007000062 ], [ 44.088868890000072, 30.245490736000079 ], [ 44.096883008000077, 30.264873776000059 ], [ 44.109705597000072, 30.293941164000046 ], [ 44.116116891000047, 30.321616382000059 ], [ 44.152981834000059, 30.412889127000028 ], [ 44.257165369000063, 30.607595038000056 ], [ 44.278002075000074, 30.629664674000026 ], [ 44.362951727000052, 30.711002950000079 ], [ 44.454312672000071, 30.806040425000049 ], [ 44.53445385200007, 30.892731767000043 ], [ 44.545673617000034, 30.916111240000077 ], [ 44.552084912000055, 30.935360635000052 ], [ 44.563304677000076, 30.964227462000053 ], [ 44.571318795000025, 30.984841283000037 ], [ 44.57933291300003, 31.045282799000063 ], [ 44.592155502000026, 31.083725614000059 ], [ 44.606580914000062, 31.108430646000045 ], [ 44.624211974000048, 31.127641227000026 ], [ 44.643445857000074, 31.142732528000067 ], [ 44.675502329000039, 31.194847629000037 ], [ 44.712367272000051, 31.260636223000063 ], [ 44.771671746000038, 31.378392812000072 ], [ 44.779685864000044, 31.39891666300008 ], [ 44.775333671000055, 31.409131973000058 ], [ 44.77327456900008, 31.41396463500007 ], [ 44.758849157000043, 31.422171603000038 ], [ 44.712367272000051, 31.420803825000064 ], [ 44.68191362400006, 31.424907099000052 ], [ 44.667488211000034, 31.431745491000072 ], [ 44.640240210000059, 31.437215845000026 ], [ 44.612992209000026, 31.438583384000026 ], [ 44.572921619000056, 31.44405333900005 ], [ 44.550482088000081, 31.453624992000073 ], [ 44.537659499000029, 31.465929966000033 ], [ 44.52964538100008, 31.479600263000066 ], [ 44.521631263000074, 31.493268564000061 ], [ 44.516822793000074, 31.504201766000051 ], [ 44.504000204000079, 31.517866470000058 ], [ 44.489574791000052, 31.531529177000039 ], [ 44.475149379000072, 31.549287707000076 ], [ 44.462326790000077, 31.564311517000078 ], [ 44.44309290700005, 31.595717117000049 ], [ 44.44309290700005, 31.610733445000051 ], [ 44.444695730000035, 31.625747352000076 ], [ 44.455915496000046, 31.627112132000036 ], [ 44.489574791000052, 31.629841633000069 ], [ 44.513617145000069, 31.636665035000078 ], [ 44.515219969000043, 31.651674757000023 ], [ 44.512014322000027, 31.674866832000077 ], [ 44.497588909000058, 31.699416836000069 ], [ 44.489574791000052, 31.713052921000042 ], [ 44.478355026000031, 31.73214007100006 ], [ 44.478355026000031, 31.747134359000029 ], [ 44.491177615000026, 31.759400608000078 ], [ 44.513617145000069, 31.771665231000043 ], [ 44.520028440000033, 31.788015533000078 ], [ 44.513617145000069, 31.804362944000047 ], [ 44.502397380000048, 31.839772412000059 ], [ 44.504000204000079, 31.856110662000049 ], [ 44.518425616000059, 31.867001221000066 ], [ 44.539262323000059, 31.877890493000052 ], [ 44.556893383000045, 31.886056603000043 ], [ 44.56490750100005, 31.905108043000041 ], [ 44.561701853000045, 31.921434711000074 ], [ 44.547276441000065, 31.941838970000049 ], [ 44.532851029000028, 31.958159116000047 ], [ 44.523234087000048, 31.977195623000057 ], [ 44.516822793000074, 31.99758749800003 ], [ 44.512014322000027, 32.020692810000071 ], [ 44.512014322000027, 32.032922675000066 ], [ 44.512014322000027, 32.05330215500004 ], [ 44.515219969000043, 32.072318909000046 ], [ 44.515219969000043, 32.094047500000045 ], [ 44.516822793000074, 32.113055779000035 ], [ 44.526439734000064, 32.130702780000036 ], [ 44.544070794000049, 32.14291793600006 ], [ 44.558496206000029, 32.153774479000049 ], [ 44.584141384000077, 32.16734333900007 ], [ 44.587347031000036, 32.178196972000023 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.576127266000071, 32.187692840000068 ], [ 44.552084912000055, 32.206681604000039 ], [ 44.483163497000078, 32.241935936000061 ], [ 44.470340908000026, 32.250069609000036 ], [ 44.44790137800004, 32.263624112000059 ], [ 44.41744772900006, 32.251425150000046 ], [ 44.40302231700008, 32.233801534000065 ], [ 44.385391257000038, 32.216174500000079 ], [ 44.358143256000062, 32.183623303000047 ], [ 44.305250077000039, 32.176840338000034 ], [ 44.287619017000054, 32.184979835000036 ], [ 44.282810546000064, 32.201256647000037 ], [ 44.278002075000074, 32.220242580000047 ], [ 44.278002075000074, 32.237868826000067 ], [ 44.276399252000033, 32.256847113000049 ], [ 44.271590781000043, 32.274466257000029 ], [ 44.265179487000069, 32.293436893000035 ], [ 44.263576663000038, 32.308339609000029 ], [ 44.250453545000028, 32.358787418000077 ], [ 43.729914548000067, 32.18089201600003 ], [ 43.837225584000066, 32.087597364000032 ], [ 43.714509402000033, 31.998437061000061 ], [ 43.674438812000062, 31.975071208000031 ], [ 43.636872634000042, 31.953824360000056 ], [ 43.586784396000041, 31.926196109000045 ], [ 43.544209394000063, 31.91131591900006 ], [ 43.49662556800007, 31.900685739000039 ], [ 43.456554978000042, 31.881548319000046 ], [ 43.429006447000063, 31.858152740000037 ], [ 43.40396232900008, 31.830495763000044 ], [ 43.386431445000028, 31.798573566000073 ], [ 43.35387409100008, 31.745345395000072 ], [ 43.311299089000045, 31.681431185000065 ], [ 43.223644673000081, 31.608941852000044 ], [ 43.226149085000031, 31.495831148000036 ], [ 43.216131437000058, 31.474474136000026 ], [ 43.203609378000067, 31.448839288000045 ], [ 43.181069671000046, 31.421060285000067 ], [ 43.168547612000054, 31.406098950000057 ], [ 43.123468198000069, 31.339812946000052 ], [ 43.123468198000069, 31.209242797000059 ], [ 43.113450550000039, 31.185678136000035 ], [ 43.080893196000034, 31.166393594000056 ], [ 43.053344665000054, 31.151391792000027 ], [ 43.025796134000075, 31.127812733000042 ], [ 43.005760839000061, 31.10422781300008 ], [ 42.988229956000055, 31.074202168000056 ], [ 42.953168190000042, 31.003389915000071 ], [ 42.935751249000077, 30.513761097000042 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Babil", "shapeISO": "IQ-BB", "shapeID": "90741666B44177402341950", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.062622654000052, 32.797740248000025 ], [ 44.085162361000073, 32.791424489000065 ], [ 44.120224127000029, 32.780897226000036 ], [ 44.137755010000035, 32.774580270000058 ], [ 44.170312365000029, 32.772474518000024 ], [ 44.187843248000036, 32.770368717000053 ], [ 44.202869719000034, 32.755626712000037 ], [ 44.207878543000049, 32.740882266000028 ], [ 44.205374131000042, 32.730349026000056 ], [ 44.187843248000036, 32.71560039700006 ], [ 44.165303541000071, 32.707171515000027 ], [ 44.152781481000034, 32.696634291000066 ], [ 44.11521530300007, 32.658689988000049 ], [ 44.102693244000079, 32.637602856000058 ], [ 44.092675596000049, 32.622838905000037 ], [ 44.082657949000065, 32.608072519000075 ], [ 44.082657949000065, 32.593303698000057 ], [ 44.095180008000057, 32.580642771000043 ], [ 44.110206479000055, 32.561648028000036 ], [ 44.125232951000044, 32.542649263000044 ], [ 44.145268246000057, 32.519423089000043 ], [ 44.157790305000049, 32.506751736000069 ], [ 44.167807953000079, 32.489853821000054 ], [ 44.177825600000062, 32.475065541000049 ], [ 44.192852072000051, 32.456048469000052 ], [ 44.222905014000048, 32.420116378000046 ], [ 44.250453545000028, 32.358787418000077 ], [ 44.263576663000038, 32.308339609000029 ], [ 44.265179487000069, 32.293436893000035 ], [ 44.271590781000043, 32.274466257000029 ], [ 44.276399252000033, 32.256847113000049 ], [ 44.278002075000074, 32.237868826000067 ], [ 44.278002075000074, 32.220242580000047 ], [ 44.282810546000064, 32.201256647000037 ], [ 44.287619017000054, 32.184979835000036 ], [ 44.305250077000039, 32.176840338000034 ], [ 44.358143256000062, 32.183623303000047 ], [ 44.385391257000038, 32.216174500000079 ], [ 44.40302231700008, 32.233801534000065 ], [ 44.41744772900006, 32.251425150000046 ], [ 44.44790137800004, 32.263624112000059 ], [ 44.470340908000026, 32.250069609000036 ], [ 44.483163497000078, 32.241935936000061 ], [ 44.552084912000055, 32.206681604000039 ], [ 44.576127266000071, 32.187692840000068 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.608183738000037, 32.168700113000057 ], [ 44.621006327000032, 32.170056868000074 ], [ 44.635431739000069, 32.161916037000026 ], [ 44.649857152000038, 32.153774479000049 ], [ 44.673899506000055, 32.149703427000077 ], [ 44.704353154000046, 32.148346369000024 ], [ 44.721984214000031, 32.144275074000063 ], [ 44.746026568000048, 32.133417401000031 ], [ 44.771671746000038, 32.132060101000036 ], [ 44.805331041000045, 32.132060101000036 ], [ 44.826167748000046, 32.140203598000028 ], [ 44.830976219000036, 32.15513145500006 ], [ 44.830976219000036, 32.171413603000076 ], [ 44.830976219000036, 32.189049311000076 ], [ 44.829373395000061, 32.205325395000045 ], [ 44.829373395000061, 32.227022310000052 ], [ 44.847004455000047, 32.259557973000028 ], [ 44.863032691000058, 32.266334770000071 ], [ 44.877458104000027, 32.267690068000036 ], [ 44.893486340000038, 32.269045346000041 ], [ 44.907911752000075, 32.274466257000029 ], [ 44.93035128300005, 32.281241940000029 ], [ 44.946379519000061, 32.286662122000052 ], [ 44.960804931000041, 32.296146660000034 ], [ 44.980038814000068, 32.325948749000077 ], [ 44.991258580000078, 32.339491912000028 ], [ 45.031329170000049, 32.343554466000057 ], [ 45.04254893500007, 32.350324983000064 ], [ 45.053768700000035, 32.36251063800006 ], [ 45.06178281800004, 32.376048328000024 ], [ 45.06659128900003, 32.389583990000062 ], [ 45.069796936000046, 32.400411060000067 ], [ 45.081016701000067, 32.407177319000027 ], [ 45.098647761000052, 32.412589962000027 ], [ 45.111470350000047, 32.418002279000063 ], [ 45.125895762000027, 32.423414272000059 ], [ 45.143526822000069, 32.435590069000057 ], [ 45.157952234000049, 32.45587941000008 ], [ 45.146732469000028, 32.473459810000065 ], [ 45.127498586000058, 32.482924758000024 ], [ 45.108264703000032, 32.484276812000076 ], [ 45.087427996000031, 32.488332853000031 ], [ 45.069796936000046, 32.497796237000045 ], [ 45.06659128900003, 32.518071563000035 ], [ 45.071399760000077, 32.528883201000042 ], [ 45.079413878000025, 32.542395919000057 ], [ 45.093839290000062, 32.558608496000033 ], [ 45.116278821000037, 32.573467452000045 ], [ 45.137115528000038, 32.580220710000049 ], [ 45.151540940000075, 32.597776798000041 ], [ 45.146732469000028, 32.60722865200006 ], [ 45.103456232000042, 32.60722865200006 ], [ 45.084222349000072, 32.608578836000049 ], [ 45.064988465000056, 32.62207955100007 ], [ 45.058577171000081, 32.669316018000075 ], [ 45.063385642000071, 32.680109421000054 ], [ 45.082619525000041, 32.696297080000079 ], [ 45.079413878000025, 32.70304107100003 ], [ 45.063385642000071, 32.707087222000041 ], [ 45.04254893500007, 32.709784553000077 ], [ 45.018506581000054, 32.717876059000048 ], [ 44.997669874000053, 32.735405137000043 ], [ 44.988052932000073, 32.747538633000033 ], [ 44.957599284000025, 32.779886543000032 ], [ 44.936762577000081, 32.797403419000034 ], [ 44.91432304600005, 32.809528466000074 ], [ 44.874252456000079, 32.814916845000027 ], [ 44.835784690000025, 32.821651860000031 ], [ 44.80853668900005, 32.835120356000061 ], [ 44.752437862000079, 32.880897962000063 ], [ 44.741218097000058, 32.915888421000034 ], [ 44.728395508000062, 32.929342609000059 ], [ 44.678707977000045, 32.933378467000068 ], [ 44.654665623000028, 32.925306568000053 ], [ 44.632226092000053, 32.910506174000034 ], [ 44.593758326000057, 32.913197338000032 ], [ 44.571318795000025, 32.923961180000049 ], [ 44.568113148000066, 32.936068936000026 ], [ 44.556893383000045, 32.953554992000079 ], [ 44.53445385200007, 32.973726912000075 ], [ 44.513617145000069, 32.981794390000061 ], [ 44.500794557000063, 32.989861131000055 ], [ 44.495986086000073, 33.000615639000046 ], [ 44.492780439000057, 33.018088919000036 ], [ 44.500794557000063, 33.032871298000032 ], [ 44.515219969000043, 33.039589742000032 ], [ 44.531248205000054, 33.040933369000072 ], [ 44.548879265000039, 33.050338186000033 ], [ 44.552084912000055, 33.062428617000023 ], [ 44.550482088000081, 33.079889642000069 ], [ 44.548879265000039, 33.102718061000076 ], [ 44.556893383000045, 33.116143773000033 ], [ 44.568113148000066, 33.129567433000034 ], [ 44.566510324000035, 33.142989042000067 ], [ 44.556893383000045, 33.176534082000046 ], [ 44.545673617000034, 33.192631142000039 ], [ 44.528042558000038, 33.202019728000039 ], [ 44.507205851000037, 33.212748308000073 ], [ 44.495986086000073, 33.224816388000079 ], [ 44.492780439000057, 33.240904572000034 ], [ 44.492780439000057, 33.256989796000028 ], [ 44.483163497000078, 33.275752148000038 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.449504201000025, 33.275752148000038 ], [ 44.419050553000034, 33.275752148000038 ], [ 44.396611022000059, 33.269051771000079 ], [ 44.370965845000057, 33.256989796000028 ], [ 44.350129138000057, 33.24894755400004 ], [ 44.324483960000066, 33.242245120000064 ], [ 44.289221841000028, 33.234201522000035 ], [ 44.252356898000073, 33.230179445000033 ], [ 44.228314544000057, 33.231520158000023 ], [ 44.201066542000035, 33.238223414000061 ], [ 44.15939312900008, 33.258330098000044 ], [ 44.125232951000044, 33.29317072300006 ], [ 43.942410883000036, 33.29317072300006 ], [ 43.919871176000072, 33.284796842000048 ], [ 43.907349117000081, 33.259670379000056 ], [ 43.917366764000064, 33.240820787000075 ], [ 43.942410883000036, 33.230347035000079 ], [ 43.967455002000065, 33.196822599000029 ], [ 43.979977062000046, 33.194726896000077 ], [ 44.00001235700006, 33.213586423000038 ], [ 44.030065299000057, 33.194726896000077 ], [ 44.050100594000071, 33.175863307000043 ], [ 44.072640301000035, 33.150705537000078 ], [ 44.090171184000042, 33.127637908000054 ], [ 44.095180008000057, 33.100368350000053 ], [ 44.097684420000064, 33.073090328000035 ], [ 44.097684420000064, 33.039505764000069 ], [ 44.097684420000064, 32.99960746000005 ], [ 44.107702068000037, 32.953386873000056 ], [ 44.10519765600003, 32.91765440000006 ], [ 44.080153537000058, 32.875597721000076 ], [ 44.062622654000052, 32.797740248000025 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Baghdad", "shapeISO": "IQ-BG", "shapeID": "90741666B78865175105083", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.125232951000044, 33.29317072300006 ], [ 44.15939312900008, 33.258330098000044 ], [ 44.201066542000035, 33.238223414000061 ], [ 44.228314544000057, 33.231520158000023 ], [ 44.252356898000073, 33.230179445000033 ], [ 44.289221841000028, 33.234201522000035 ], [ 44.324483960000066, 33.242245120000064 ], [ 44.350129138000057, 33.24894755400004 ], [ 44.370965845000057, 33.256989796000028 ], [ 44.396611022000059, 33.269051771000079 ], [ 44.419050553000034, 33.275752148000038 ], [ 44.449504201000025, 33.275752148000038 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.523234087000048, 33.279772128000047 ], [ 44.542467970000075, 33.283791923000024 ], [ 44.56490750100005, 33.289151361000052 ], [ 44.580935737000061, 33.295850195000071 ], [ 44.592155502000026, 33.306567261000055 ], [ 44.598566796000057, 33.318622385000026 ], [ 44.596963973000072, 33.329336652000052 ], [ 44.598566796000057, 33.385564935000048 ], [ 44.595361149000041, 33.409651647000032 ], [ 44.593758326000057, 33.437744371000065 ], [ 44.590552678000051, 33.457805036000025 ], [ 44.55368773500004, 33.492565863000038 ], [ 44.345320667000067, 33.495239195000067 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.260471192000068, 33.433313682000062 ], [ 44.125232951000044, 33.29317072300006 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Al-Qadisiyah", "shapeISO": "IQ-QA", "shapeID": "90741666B96348295205066", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.775333671000055, 31.409131973000058 ], [ 44.821359277000056, 31.404388932000074 ], [ 44.827770572000077, 31.400284760000034 ], [ 44.843798808000031, 31.38933942400007 ], [ 44.855018573000052, 31.377024396000024 ], [ 44.867841162000047, 31.360601848000044 ], [ 44.882266574000028, 31.340069627000048 ], [ 44.89989763400007, 31.322271411000031 ], [ 44.923939988000029, 31.308578186000034 ], [ 44.955996460000051, 31.288034615000072 ], [ 44.964010578000057, 31.290774016000057 ], [ 44.978435991000026, 31.305839302000038 ], [ 44.986450109000032, 31.319532925000033 ], [ 44.994464227000037, 31.349651888000039 ], [ 44.999272698000027, 31.367444925000029 ], [ 45.007286816000033, 31.381129585000053 ], [ 45.018506581000054, 31.401652837000029 ], [ 45.031329170000049, 31.418068209000069 ], [ 45.039343288000055, 31.431745491000072 ], [ 45.039343288000055, 31.44405333900005 ], [ 45.04254893500007, 31.459094069000059 ], [ 45.050563053000076, 31.472765364000054 ], [ 45.052165876000061, 31.489168283000026 ], [ 45.060179995000055, 31.508301387000074 ], [ 45.073002583000061, 31.524698073000025 ], [ 45.119484468000053, 31.569774121000023 ], [ 45.130704233000074, 31.587525372000073 ], [ 45.13871835100008, 31.60390814200008 ], [ 45.133909880000033, 31.616193328000065 ], [ 45.119484468000053, 31.627112132000036 ], [ 45.105059055000027, 31.640758836000032 ], [ 45.098647761000052, 31.653039157000023 ], [ 45.089030819000072, 31.663953636000031 ], [ 45.071399760000077, 31.683050889000071 ], [ 45.05697434700005, 31.693961841000032 ], [ 45.055371524000066, 31.703507872000046 ], [ 45.064988465000056, 31.711689402000047 ], [ 45.085825172000057, 31.713052921000042 ], [ 45.124292939000043, 31.711689402000047 ], [ 45.165966352000055, 31.708962306000046 ], [ 45.194817177000061, 31.710325864000026 ], [ 45.217256708000036, 31.721233609000024 ], [ 45.230079297000032, 31.744408305000036 ], [ 45.241299062000053, 31.767577204000077 ], [ 45.258930121000049, 31.774390482000058 ], [ 45.292589417000045, 31.76621448800006 ], [ 45.302206359000081, 31.756674915000076 ], [ 45.324645889000067, 31.751223289000052 ], [ 45.363113656000053, 31.751223289000052 ], [ 45.391964481000059, 31.744408305000036 ], [ 45.456077425000046, 31.73077683300005 ], [ 45.491339544000027, 31.723960345000023 ], [ 45.597125902000073, 31.693961841000032 ], [ 45.717337672000042, 31.656259061000071 ], [ 45.752022775000057, 31.647963487000027 ], [ 45.774590532000047, 31.646216957000036 ], [ 45.778693760000067, 31.649709986000062 ], [ 45.78279698800003, 31.654949283000064 ], [ 45.783822795000049, 31.663680789000068 ], [ 45.783822795000049, 31.670665404000033 ], [ 45.783822795000049, 31.682887214000061 ], [ 45.783822795000049, 31.69336177200006 ], [ 45.783822795000049, 31.706453306000071 ], [ 45.781771181000067, 31.717797808000057 ], [ 45.777667953000048, 31.731758366000065 ], [ 45.774590532000047, 31.753567528000076 ], [ 45.769461496000076, 31.786707615000068 ], [ 45.765358268000057, 31.803273206000028 ], [ 45.759203425000067, 31.828551804000028 ], [ 45.754074389000039, 31.839881343000059 ], [ 45.740738897000028, 31.854694795000057 ], [ 45.728429212000037, 31.867763512000067 ], [ 45.721248562000028, 31.87560385300003 ], [ 45.717145334000065, 31.95135940800003 ], [ 45.714067912000075, 31.985298537000062 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.704835648000028, 32.001828439000064 ], [ 45.696629191000056, 32.013136655000039 ], [ 45.691500156000075, 32.023573769000052 ], [ 45.690474349000056, 32.040096770000048 ], [ 45.684319506000065, 32.053139137000073 ], [ 45.679190471000027, 32.068787525000062 ], [ 45.672009821000074, 32.081825803000072 ], [ 45.664829171000065, 32.089647877000061 ], [ 45.645338836000064, 32.107896780000033 ], [ 45.622771080000064, 32.14612075000008 ], [ 45.589945252000064, 32.186065047000056 ], [ 45.545835547000081, 32.228595135000035 ], [ 45.489416156000061, 32.273707349000063 ], [ 45.478132278000032, 32.290185066000049 ], [ 45.466848399000071, 32.306659789000037 ], [ 45.440177415000051, 32.320530917000042 ], [ 45.42068708000005, 32.331799644000057 ], [ 45.405299973000069, 32.33873354900004 ], [ 45.385809638000069, 32.347400182000058 ], [ 45.376577374000078, 32.356065985000043 ], [ 45.370422531000031, 32.364730958000052 ], [ 45.357087039000078, 32.379459506000046 ], [ 45.337596704000077, 32.395051823000074 ], [ 45.312977333000049, 32.407177319000027 ], [ 45.293486998000049, 32.413239457000032 ], [ 45.266816014000028, 32.41930118700003 ], [ 45.252454714000066, 32.424496632000057 ], [ 45.222706308000056, 32.426228380000055 ], [ 45.188854673000037, 32.441812619000075 ], [ 45.157952234000049, 32.45587941000008 ], [ 45.143526822000069, 32.435590069000057 ], [ 45.125895762000027, 32.423414272000059 ], [ 45.111470350000047, 32.418002279000063 ], [ 45.098647761000052, 32.412589962000027 ], [ 45.081016701000067, 32.407177319000027 ], [ 45.069796936000046, 32.400411060000067 ], [ 45.06659128900003, 32.389583990000062 ], [ 45.06178281800004, 32.376048328000024 ], [ 45.053768700000035, 32.36251063800006 ], [ 45.04254893500007, 32.350324983000064 ], [ 45.031329170000049, 32.343554466000057 ], [ 44.991258580000078, 32.339491912000028 ], [ 44.980038814000068, 32.325948749000077 ], [ 44.960804931000041, 32.296146660000034 ], [ 44.946379519000061, 32.286662122000052 ], [ 44.93035128300005, 32.281241940000029 ], [ 44.907911752000075, 32.274466257000029 ], [ 44.893486340000038, 32.269045346000041 ], [ 44.877458104000027, 32.267690068000036 ], [ 44.863032691000058, 32.266334770000071 ], [ 44.847004455000047, 32.259557973000028 ], [ 44.829373395000061, 32.227022310000052 ], [ 44.829373395000061, 32.205325395000045 ], [ 44.830976219000036, 32.189049311000076 ], [ 44.830976219000036, 32.171413603000076 ], [ 44.830976219000036, 32.15513145500006 ], [ 44.826167748000046, 32.140203598000028 ], [ 44.805331041000045, 32.132060101000036 ], [ 44.771671746000038, 32.132060101000036 ], [ 44.746026568000048, 32.133417401000031 ], [ 44.721984214000031, 32.144275074000063 ], [ 44.704353154000046, 32.148346369000024 ], [ 44.673899506000055, 32.149703427000077 ], [ 44.649857152000038, 32.153774479000049 ], [ 44.635431739000069, 32.161916037000026 ], [ 44.621006327000032, 32.170056868000074 ], [ 44.608183738000037, 32.168700113000057 ], [ 44.586545620000038, 32.178875281000046 ], [ 44.587347031000036, 32.178196972000023 ], [ 44.584141384000077, 32.16734333900007 ], [ 44.558496206000029, 32.153774479000049 ], [ 44.544070794000049, 32.14291793600006 ], [ 44.526439734000064, 32.130702780000036 ], [ 44.516822793000074, 32.113055779000035 ], [ 44.515219969000043, 32.094047500000045 ], [ 44.515219969000043, 32.072318909000046 ], [ 44.512014322000027, 32.05330215500004 ], [ 44.512014322000027, 32.032922675000066 ], [ 44.512014322000027, 32.020692810000071 ], [ 44.516822793000074, 31.99758749800003 ], [ 44.523234087000048, 31.977195623000057 ], [ 44.532851029000028, 31.958159116000047 ], [ 44.547276441000065, 31.941838970000049 ], [ 44.561701853000045, 31.921434711000074 ], [ 44.56490750100005, 31.905108043000041 ], [ 44.556893383000045, 31.886056603000043 ], [ 44.539262323000059, 31.877890493000052 ], [ 44.518425616000059, 31.867001221000066 ], [ 44.504000204000079, 31.856110662000049 ], [ 44.502397380000048, 31.839772412000059 ], [ 44.513617145000069, 31.804362944000047 ], [ 44.520028440000033, 31.788015533000078 ], [ 44.513617145000069, 31.771665231000043 ], [ 44.491177615000026, 31.759400608000078 ], [ 44.478355026000031, 31.747134359000029 ], [ 44.478355026000031, 31.73214007100006 ], [ 44.489574791000052, 31.713052921000042 ], [ 44.497588909000058, 31.699416836000069 ], [ 44.512014322000027, 31.674866832000077 ], [ 44.515219969000043, 31.651674757000023 ], [ 44.513617145000069, 31.636665035000078 ], [ 44.489574791000052, 31.629841633000069 ], [ 44.455915496000046, 31.627112132000036 ], [ 44.444695730000035, 31.625747352000076 ], [ 44.44309290700005, 31.610733445000051 ], [ 44.44309290700005, 31.595717117000049 ], [ 44.462326790000077, 31.564311517000078 ], [ 44.475149379000072, 31.549287707000076 ], [ 44.489574791000052, 31.531529177000039 ], [ 44.504000204000079, 31.517866470000058 ], [ 44.516822793000074, 31.504201766000051 ], [ 44.521631263000074, 31.493268564000061 ], [ 44.52964538100008, 31.479600263000066 ], [ 44.537659499000029, 31.465929966000033 ], [ 44.550482088000081, 31.453624992000073 ], [ 44.572921619000056, 31.44405333900005 ], [ 44.612992209000026, 31.438583384000026 ], [ 44.640240210000059, 31.437215845000026 ], [ 44.667488211000034, 31.431745491000072 ], [ 44.68191362400006, 31.424907099000052 ], [ 44.712367272000051, 31.420803825000064 ], [ 44.758849157000043, 31.422171603000038 ], [ 44.77327456900008, 31.41396463500007 ], [ 44.775333671000055, 31.409131973000058 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Al-Muthanna", "shapeISO": "IQ-MU", "shapeID": "90741666B65782159470120", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.813614360613677, 29.850955358773959 ], [ 43.914862353000046, 29.765502188000028 ], [ 44.727241475000028, 29.13533424700006 ], [ 44.965228724000042, 29.114723861000073 ], [ 45.349420784000074, 29.084658041000068 ], [ 45.482467665000058, 29.07439841300004 ], [ 45.666385413000057, 29.064137764000066 ], [ 46.026394621000065, 29.026506647000076 ], [ 46.456840413000066, 28.99912994400006 ], [ 46.570321576000026, 29.033349689000033 ], [ 46.571063096000046, 29.06360058000007 ], [ 46.573245477000057, 29.152581068000075 ], [ 46.590876537000042, 29.313430266000069 ], [ 46.611713244000043, 29.33858377200005 ], [ 46.622933009000064, 29.349761117000071 ], [ 46.643769716000065, 29.376302396000028 ], [ 46.653386657000055, 29.398647580000045 ], [ 46.65498948100003, 29.416799428000047 ], [ 46.651783834000071, 29.427968184000065 ], [ 46.646975363000081, 29.443323219000035 ], [ 46.64537253900005, 29.580020019000074 ], [ 46.65498948100003, 29.64690613700003 ], [ 46.671017717000041, 29.730451324000057 ], [ 46.680634659000077, 29.758284278000076 ], [ 46.688648777000026, 29.780545077000056 ], [ 46.701471366000078, 29.822270737000053 ], [ 46.712691131000042, 29.884826576000023 ], [ 46.730322190000038, 29.98622259900003 ], [ 46.735130661000028, 30.012596389000066 ], [ 46.744747603000064, 30.040350699000044 ], [ 46.746350426000049, 30.160991448000061 ], [ 46.719102425000074, 30.208098360000065 ], [ 46.677429011000072, 30.256567227000062 ], [ 46.656592305000061, 30.285637074000078 ], [ 46.638961245000075, 30.31469831000004 ], [ 46.627741480000054, 30.343750930000056 ], [ 46.624535833000039, 30.356199414000059 ], [ 46.611713244000043, 30.374177762000045 ], [ 46.606904773000053, 30.400447861000032 ], [ 46.605301949000079, 30.437766901000032 ], [ 46.605301949000079, 30.462638330000061 ], [ 46.600493478000033, 30.486122183000077 ], [ 46.584465242000078, 30.502695611000036 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.573245477000057, 30.513742993000051 ], [ 46.557217241000046, 30.516504643000076 ], [ 46.52355794500005, 30.523408423000035 ], [ 46.50913253300007, 30.538595014000066 ], [ 46.497912768000049, 30.55653974300003 ], [ 46.483487355000079, 30.578621008000027 ], [ 46.462650648000078, 30.611733478000076 ], [ 46.408154646000071, 30.680681431000039 ], [ 46.388920763000044, 30.699978045000023 ], [ 46.361672761000079, 30.722026594000056 ], [ 46.324807818000068, 30.745447655000078 ], [ 46.28954569900003, 30.768863021000072 ], [ 46.249475109000059, 30.79778002200004 ], [ 46.204596048000042, 30.801910312000075 ], [ 46.090795572000047, 30.803287036000029 ], [ 46.005845921000059, 30.804663740000024 ], [ 45.920896270000071, 30.814300118000062 ], [ 45.810301441000036, 30.830817373000059 ], [ 45.672458611000081, 30.840451126000062 ], [ 45.650019081000039, 30.855587928000034 ], [ 45.638799316000075, 30.870722341000032 ], [ 45.635593669000059, 30.924361455000053 ], [ 45.635593669000059, 30.949107831000049 ], [ 45.635593669000059, 30.975222054000028 ], [ 45.640402139000059, 30.987589456000023 ], [ 45.669252964000066, 30.999955256000078 ], [ 45.690089671000067, 31.015066833000049 ], [ 45.701309436000031, 31.035669668000025 ], [ 45.707720731000052, 31.054894959000023 ], [ 45.710926378000067, 31.075489176000076 ], [ 45.718940496000073, 31.093333890000054 ], [ 45.742982850000033, 31.109802959000035 ], [ 45.762216733000059, 31.127641227000026 ], [ 45.762216733000059, 31.145476142000064 ], [ 45.76862802800008, 31.214040699000066 ], [ 45.762216733000059, 31.233229874000074 ], [ 45.750996968000038, 31.24556371500006 ], [ 45.742982850000033, 31.277076213000043 ], [ 45.742982850000033, 31.301730826000039 ], [ 45.750996968000038, 31.315425047000076 ], [ 45.762216733000059, 31.33322455800004 ], [ 45.759011086000044, 31.351020703000074 ], [ 45.747791321000079, 31.360601848000044 ], [ 45.725351790000047, 31.367444925000029 ], [ 45.728557438000053, 31.382497941000054 ], [ 45.741380026000058, 31.397548546000053 ], [ 45.757408262000069, 31.41396463500007 ], [ 45.770230851000065, 31.435848286000066 ], [ 45.779847793000044, 31.456359571000064 ], [ 45.779847793000044, 31.471398325000052 ], [ 45.779847793000044, 31.489168283000026 ], [ 45.779847793000044, 31.506934866000051 ], [ 45.779847793000044, 31.527430575000039 ], [ 45.779847793000044, 31.549287707000076 ], [ 45.781450617000075, 31.576601925000034 ], [ 45.78786191100005, 31.597082338000064 ], [ 45.79747885300003, 31.616193328000065 ], [ 45.795876029000055, 31.632571054000039 ], [ 45.774590532000047, 31.646216957000036 ], [ 45.752022775000057, 31.647963487000027 ], [ 45.717337672000042, 31.656259061000071 ], [ 45.597125902000073, 31.693961841000032 ], [ 45.491339544000027, 31.723960345000023 ], [ 45.456077425000046, 31.73077683300005 ], [ 45.391964481000059, 31.744408305000036 ], [ 45.363113656000053, 31.751223289000052 ], [ 45.324645889000067, 31.751223289000052 ], [ 45.302206359000081, 31.756674915000076 ], [ 45.292589417000045, 31.76621448800006 ], [ 45.258930121000049, 31.774390482000058 ], [ 45.241299062000053, 31.767577204000077 ], [ 45.230079297000032, 31.744408305000036 ], [ 45.217256708000036, 31.721233609000024 ], [ 45.194817177000061, 31.710325864000026 ], [ 45.165966352000055, 31.708962306000046 ], [ 45.124292939000043, 31.711689402000047 ], [ 45.085825172000057, 31.713052921000042 ], [ 45.064988465000056, 31.711689402000047 ], [ 45.055371524000066, 31.703507872000046 ], [ 45.05697434700005, 31.693961841000032 ], [ 45.071399760000077, 31.683050889000071 ], [ 45.089030819000072, 31.663953636000031 ], [ 45.098647761000052, 31.653039157000023 ], [ 45.105059055000027, 31.640758836000032 ], [ 45.119484468000053, 31.627112132000036 ], [ 45.133909880000033, 31.616193328000065 ], [ 45.13871835100008, 31.60390814200008 ], [ 45.130704233000074, 31.587525372000073 ], [ 45.119484468000053, 31.569774121000023 ], [ 45.073002583000061, 31.524698073000025 ], [ 45.060179995000055, 31.508301387000074 ], [ 45.052165876000061, 31.489168283000026 ], [ 45.050563053000076, 31.472765364000054 ], [ 45.04254893500007, 31.459094069000059 ], [ 45.039343288000055, 31.44405333900005 ], [ 45.039343288000055, 31.431745491000072 ], [ 45.031329170000049, 31.418068209000069 ], [ 45.018506581000054, 31.401652837000029 ], [ 45.007286816000033, 31.381129585000053 ], [ 44.999272698000027, 31.367444925000029 ], [ 44.994464227000037, 31.349651888000039 ], [ 44.986450109000032, 31.319532925000033 ], [ 44.978435991000026, 31.305839302000038 ], [ 44.964010578000057, 31.290774016000057 ], [ 44.955996460000051, 31.288034615000072 ], [ 44.923939988000029, 31.308578186000034 ], [ 44.89989763400007, 31.322271411000031 ], [ 44.882266574000028, 31.340069627000048 ], [ 44.867841162000047, 31.360601848000044 ], [ 44.855018573000052, 31.377024396000024 ], [ 44.843798808000031, 31.38933942400007 ], [ 44.827770572000077, 31.400284760000034 ], [ 44.821359277000056, 31.404388932000074 ], [ 44.775333671000055, 31.409131973000058 ], [ 44.779685864000044, 31.39891666300008 ], [ 44.771671746000038, 31.378392812000072 ], [ 44.712367272000051, 31.260636223000063 ], [ 44.675502329000039, 31.194847629000037 ], [ 44.643445857000074, 31.142732528000067 ], [ 44.624211974000048, 31.127641227000026 ], [ 44.606580914000062, 31.108430646000045 ], [ 44.592155502000026, 31.083725614000059 ], [ 44.57933291300003, 31.045282799000063 ], [ 44.571318795000025, 30.984841283000037 ], [ 44.563304677000076, 30.964227462000053 ], [ 44.552084912000055, 30.935360635000052 ], [ 44.545673617000034, 30.916111240000077 ], [ 44.53445385200007, 30.892731767000043 ], [ 44.454312672000071, 30.806040425000049 ], [ 44.362951727000052, 30.711002950000079 ], [ 44.278002075000074, 30.629664674000026 ], [ 44.257165369000063, 30.607595038000056 ], [ 44.152981834000059, 30.412889127000028 ], [ 44.116116891000047, 30.321616382000059 ], [ 44.109705597000072, 30.293941164000046 ], [ 44.096883008000077, 30.264873776000059 ], [ 44.088868890000072, 30.245490736000079 ], [ 44.080854772000066, 30.223334007000062 ], [ 44.071237831000076, 30.203942774000041 ], [ 44.039181358000064, 30.134657188000062 ], [ 44.031167240000059, 30.115248500000064 ], [ 44.011933357000032, 30.095835997000052 ], [ 43.95583453100005, 30.034800458000063 ], [ 43.898132881000038, 29.954287058000034 ], [ 43.814786054000081, 29.850078172000053 ], [ 43.813584493000064, 29.850980567000079 ], [ 43.813614360613677, 29.850955358773959 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Dhi Qar", "shapeISO": "IQ-DQ", "shapeID": "90741666B18034483497899", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 45.774590532000047, 31.646216957000036 ], [ 45.795876029000055, 31.632571054000039 ], [ 45.79747885300003, 31.616193328000065 ], [ 45.78786191100005, 31.597082338000064 ], [ 45.781450617000075, 31.576601925000034 ], [ 45.779847793000044, 31.549287707000076 ], [ 45.779847793000044, 31.527430575000039 ], [ 45.779847793000044, 31.506934866000051 ], [ 45.779847793000044, 31.489168283000026 ], [ 45.779847793000044, 31.471398325000052 ], [ 45.779847793000044, 31.456359571000064 ], [ 45.770230851000065, 31.435848286000066 ], [ 45.757408262000069, 31.41396463500007 ], [ 45.741380026000058, 31.397548546000053 ], [ 45.728557438000053, 31.382497941000054 ], [ 45.725351790000047, 31.367444925000029 ], [ 45.747791321000079, 31.360601848000044 ], [ 45.759011086000044, 31.351020703000074 ], [ 45.762216733000059, 31.33322455800004 ], [ 45.750996968000038, 31.315425047000076 ], [ 45.742982850000033, 31.301730826000039 ], [ 45.742982850000033, 31.277076213000043 ], [ 45.750996968000038, 31.24556371500006 ], [ 45.762216733000059, 31.233229874000074 ], [ 45.76862802800008, 31.214040699000066 ], [ 45.762216733000059, 31.145476142000064 ], [ 45.762216733000059, 31.127641227000026 ], [ 45.742982850000033, 31.109802959000035 ], [ 45.718940496000073, 31.093333890000054 ], [ 45.710926378000067, 31.075489176000076 ], [ 45.707720731000052, 31.054894959000023 ], [ 45.701309436000031, 31.035669668000025 ], [ 45.690089671000067, 31.015066833000049 ], [ 45.669252964000066, 30.999955256000078 ], [ 45.640402139000059, 30.987589456000023 ], [ 45.635593669000059, 30.975222054000028 ], [ 45.635593669000059, 30.949107831000049 ], [ 45.635593669000059, 30.924361455000053 ], [ 45.638799316000075, 30.870722341000032 ], [ 45.650019081000039, 30.855587928000034 ], [ 45.672458611000081, 30.840451126000062 ], [ 45.810301441000036, 30.830817373000059 ], [ 45.920896270000071, 30.814300118000062 ], [ 46.005845921000059, 30.804663740000024 ], [ 46.090795572000047, 30.803287036000029 ], [ 46.204596048000042, 30.801910312000075 ], [ 46.249475109000059, 30.79778002200004 ], [ 46.28954569900003, 30.768863021000072 ], [ 46.324807818000068, 30.745447655000078 ], [ 46.361672761000079, 30.722026594000056 ], [ 46.388920763000044, 30.699978045000023 ], [ 46.408154646000071, 30.680681431000039 ], [ 46.462650648000078, 30.611733478000076 ], [ 46.483487355000079, 30.578621008000027 ], [ 46.497912768000049, 30.55653974300003 ], [ 46.50913253300007, 30.538595014000066 ], [ 46.52355794500005, 30.523408423000035 ], [ 46.557217241000046, 30.516504643000076 ], [ 46.573245477000057, 30.513742993000051 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.594583066000041, 30.534280883000065 ], [ 46.727316896000048, 30.566632194000078 ], [ 46.842519843000048, 30.605439531000059 ], [ 46.907634552000047, 30.631302455000025 ], [ 46.960227201000066, 30.644231325000078 ], [ 46.995288968000068, 30.644231325000078 ], [ 47.017828675000032, 30.635612270000024 ], [ 47.050386029000038, 30.605439531000059 ], [ 47.097969855000031, 30.594661274000032 ], [ 47.105483090000064, 30.611905909000029 ], [ 47.105483090000064, 30.633457386000032 ], [ 47.097969855000031, 30.650695112000051 ], [ 47.090456619000065, 30.661467131000052 ], [ 47.082943383000043, 30.674391968000066 ], [ 47.09546544300008, 30.704543197000078 ], [ 47.107987502000071, 30.723921156000074 ], [ 47.107987502000071, 30.743295221000039 ], [ 47.110491914000079, 30.775576671000067 ], [ 47.12301397400006, 30.801394035000044 ], [ 47.133031621000043, 30.833655990000068 ], [ 47.130527209000036, 30.865907105000076 ], [ 47.138040445000058, 31.162107607000053 ], [ 47.066081679000035, 31.159412479000025 ], [ 46.999404217000063, 31.154145443000061 ], [ 46.991197760000034, 31.150633923000044 ], [ 46.976836461000062, 31.138342579000039 ], [ 46.89272027800007, 31.140098583000054 ], [ 46.863997679000079, 31.146244340000067 ], [ 46.84655895800006, 31.152389700000072 ], [ 46.83630088700005, 31.165556985000023 ], [ 46.829120237000041, 31.176089495000042 ], [ 46.81988797300005, 31.191008547000024 ], [ 46.805526674000077, 31.203293059000032 ], [ 46.785010532000058, 31.208557362000079 ], [ 46.773726654000029, 31.217330549000053 ], [ 46.766546004000077, 31.226980114000071 ], [ 46.761416968000049, 31.241891140000064 ], [ 46.76039116100003, 31.253292102000046 ], [ 46.759365354000067, 31.326050391000024 ], [ 46.750133090000077, 31.338317337000035 ], [ 46.736797598000067, 31.347078463000059 ], [ 46.718333070000028, 31.355838772000027 ], [ 46.695765314000028, 31.36459826600003 ], [ 46.680378207000047, 31.375108580000074 ], [ 46.635242694000056, 31.40313033800004 ], [ 46.632165273000055, 31.404881420000038 ], [ 46.616778166000074, 31.418013495000025 ], [ 46.607545902000027, 31.432019016000027 ], [ 46.605494288000045, 31.442521784000064 ], [ 46.603442674000064, 31.453898454000068 ], [ 46.603442674000064, 31.467023664000067 ], [ 46.609597517000054, 31.478397357000063 ], [ 46.614726552000036, 31.488020172000063 ], [ 46.618829781000045, 31.496767327000043 ], [ 46.618829781000045, 31.505513664000034 ], [ 46.619855588000064, 31.530873413000052 ], [ 46.615752359000055, 31.546610484000041 ], [ 46.609597517000054, 31.562344901000074 ], [ 46.598313638000036, 31.57632882200005 ], [ 46.588055567000026, 31.582446128000072 ], [ 46.563436197000044, 31.596427034000044 ], [ 46.548049090000063, 31.61215304600006 ], [ 46.535739405000072, 31.623509068000033 ], [ 46.530610369000044, 31.635737082000048 ], [ 46.526507141000081, 31.647090226000046 ], [ 46.501887770000053, 31.668046235000077 ], [ 46.48444905000008, 31.681141340000067 ], [ 46.469061943000042, 31.69336177200006 ], [ 46.455726451000032, 31.709944070000063 ], [ 46.447519994000061, 31.732630831000051 ], [ 46.437261923000051, 31.811990746000049 ], [ 46.430081273000042, 31.837266958000043 ], [ 46.423926430000051, 31.854694795000057 ], [ 46.412642552000079, 31.879959309000071 ], [ 46.38186833900005, 31.926114488000053 ], [ 46.360326390000068, 31.93569096300007 ], [ 46.339810247000059, 31.947007330000076 ], [ 46.320319912000059, 31.959192628000039 ], [ 46.31621668400004, 31.971376310000039 ], [ 46.320319912000059, 31.980077949000076 ], [ 46.34904251100005, 31.982688280000048 ], [ 46.373661882000079, 31.985298537000062 ], [ 46.376739303000079, 31.988778764000074 ], [ 46.374687689000041, 32.003568255000062 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.354171547000078, 32.014876256000036 ], [ 46.330577983000069, 32.014876256000036 ], [ 46.317242491000059, 32.013136655000039 ], [ 46.227997273000028, 32.010527190000062 ], [ 46.077203628000063, 32.010527190000062 ], [ 45.837164765000068, 32.007917651000071 ], [ 45.776642146000029, 32.007917651000071 ], [ 45.750996968000038, 32.004438151000045 ], [ 45.738687283000047, 31.996608792000075 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.714067912000075, 31.985298537000062 ], [ 45.717145334000065, 31.95135940800003 ], [ 45.721248562000028, 31.87560385300003 ], [ 45.728429212000037, 31.867763512000067 ], [ 45.740738897000028, 31.854694795000057 ], [ 45.754074389000039, 31.839881343000059 ], [ 45.759203425000067, 31.828551804000028 ], [ 45.765358268000057, 31.803273206000028 ], [ 45.769461496000076, 31.786707615000068 ], [ 45.774590532000047, 31.753567528000076 ], [ 45.777667953000048, 31.731758366000065 ], [ 45.781771181000067, 31.717797808000057 ], [ 45.783822795000049, 31.706453306000071 ], [ 45.783822795000049, 31.69336177200006 ], [ 45.783822795000049, 31.682887214000061 ], [ 45.783822795000049, 31.670665404000033 ], [ 45.783822795000049, 31.663680789000068 ], [ 45.78279698800003, 31.654949283000064 ], [ 45.778693760000067, 31.649709986000062 ], [ 45.774590532000047, 31.646216957000036 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Al-Basrah", "shapeISO": "IQ-BA", "shapeID": "90741666B36076314760085", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 46.571063096000046, 29.06360058000007 ], [ 46.599591890000056, 29.071799145000057 ], [ 46.614618361000055, 29.082742988000064 ], [ 46.634653657000058, 29.102438975000041 ], [ 46.652184540000064, 29.117755471000066 ], [ 46.664706599000056, 29.128694429000063 ], [ 46.682237482000062, 29.144007016000046 ], [ 46.699768365000068, 29.165878181000039 ], [ 46.712290425000049, 29.178998645000036 ], [ 46.739838956000028, 29.211792463000052 ], [ 46.804953665000028, 29.307927110000037 ], [ 46.832502195000075, 29.338496444000043 ], [ 46.855041902000039, 29.364691437000033 ], [ 46.865059550000069, 29.382151024000052 ], [ 46.870068373000038, 29.408334787000058 ], [ 46.902625728000032, 29.480305356000031 ], [ 46.910138964000055, 29.502104540000062 ], [ 46.920156611000039, 29.530436464000047 ], [ 46.935183082000037, 29.563117288000058 ], [ 46.960227201000066, 29.591432118000057 ], [ 47.005306615000052, 29.676328926000053 ], [ 47.010315439000067, 29.695910330000061 ], [ 47.015324263000025, 29.728537524000046 ], [ 47.025341910000066, 29.754631643000039 ], [ 47.035359558000039, 29.776371554000036 ], [ 47.045377205000079, 29.793760086000077 ], [ 47.060403677000068, 29.819837218000032 ], [ 47.082943383000043, 29.858940164000046 ], [ 47.105483090000064, 29.937100102000045 ], [ 47.173102211000071, 30.023872514000061 ], [ 47.20065074200005, 30.039049889000069 ], [ 47.23821692000007, 30.049889448000044 ], [ 47.273278686000026, 30.058560241000066 ], [ 47.308340453000028, 30.067230275000043 ], [ 47.340897807000033, 30.082401006000055 ], [ 47.363437514000054, 30.097569411000052 ], [ 47.390986045000034, 30.106236026000033 ], [ 47.73158606100003, 30.091068951000068 ], [ 47.954478718000075, 29.995679797000037 ], [ 47.996552838000071, 29.988999118000038 ], [ 48.007772603000035, 29.995940074000032 ], [ 48.025403663000077, 30.008432572000061 ], [ 48.051048841000068, 30.019535695000059 ], [ 48.067077077000079, 30.030637574000025 ], [ 48.111956138000039, 30.034800458000063 ], [ 48.134395668000082, 30.034800458000063 ], [ 48.164849317000062, 30.029249907000064 ], [ 48.185686023000073, 30.026474515000075 ], [ 48.198508612000069, 30.026474515000075 ], [ 48.228962261000049, 30.020923498000059 ], [ 48.26422438000003, 30.005656597000041 ], [ 48.309103441000047, 29.980669329000079 ], [ 48.36199662000007, 29.948732003000032 ], [ 48.414889799000036, 29.916784416000041 ], [ 48.475797096000065, 29.914005881000037 ], [ 48.499839450000081, 29.916784416000041 ], [ 48.530293098000072, 29.912616584000034 ], [ 48.563952394000069, 29.900112040000067 ], [ 48.583186277000038, 29.901501511000049 ], [ 48.607228631000055, 29.914005881000037 ], [ 48.607228631000055, 29.919562875000054 ], [ 48.587994748000028, 29.927897784000038 ], [ 48.563952394000069, 29.945954359000041 ], [ 48.543115687000068, 29.955675773000053 ], [ 48.522278980000067, 29.965396236000061 ], [ 48.501442273000066, 29.973727305000068 ], [ 48.48861968500006, 29.980669329000079 ], [ 48.474194272000034, 29.987610868000047 ], [ 48.45816603600008, 29.995940074000032 ], [ 48.448549095000033, 30.009820531000059 ], [ 48.443740624000043, 30.051450247000048 ], [ 48.437329329000079, 30.073645611000074 ], [ 48.429315211000073, 30.091675679000048 ], [ 48.416492622000078, 30.104156108000041 ], [ 48.398861563000025, 30.11108899900006 ], [ 48.38603897400003, 30.127725952000048 ], [ 48.389244621000046, 30.142974030000062 ], [ 48.398861563000025, 30.155447977000051 ], [ 48.413286975000062, 30.167920347000063 ], [ 48.413286975000062, 30.181776686000035 ], [ 48.408478504000072, 30.20117228600003 ], [ 48.397258739000051, 30.210868653000034 ], [ 48.310706265000078, 30.296709037000028 ], [ 48.289869558000078, 30.317465598000069 ], [ 48.272238498000036, 30.335451061000072 ], [ 48.248196144000076, 30.335451061000072 ], [ 48.228962261000049, 30.32991742400003 ], [ 48.21453684800008, 30.322999938000066 ], [ 48.201714259000028, 30.331300863000024 ], [ 48.195302965000053, 30.34098438500007 ], [ 48.188891671000079, 30.352050095000038 ], [ 48.185686023000073, 30.368646314000046 ], [ 48.171260611000037, 30.41980025600003 ], [ 48.153629551000051, 30.437766901000032 ], [ 48.140806962000056, 30.444676268000023 ], [ 48.103942020000034, 30.455730236000079 ], [ 48.089516607000064, 30.464019890000031 ], [ 48.057460135000042, 30.486122183000077 ], [ 48.052651664000052, 30.497171449000064 ], [ 48.046240370000078, 30.508219459000031 ], [ 48.035020605000057, 30.568961073000025 ], [ 48.038226252000072, 30.595178657000076 ], [ 48.043034723000062, 30.615871741000035 ], [ 48.047843193000062, 30.643455642000049 ], [ 48.047843193000062, 30.662759693000055 ], [ 48.030212134000067, 31.005450652000036 ], [ 48.014183898000056, 31.015066833000049 ], [ 47.700030471000048, 31.00957199100003 ], [ 47.698427648000063, 31.038416376000043 ], [ 47.698427648000063, 31.050775581000039 ], [ 47.698427648000063, 31.069997821000072 ], [ 47.701633295000079, 31.094706422000058 ], [ 47.704838942000038, 31.12078075200003 ], [ 47.708044589000053, 31.146847920000027 ], [ 47.706441766000069, 31.171536523000043 ], [ 47.703236118000063, 31.189363179000054 ], [ 47.698427648000063, 31.278446083000063 ], [ 47.677590941000062, 31.281185763000053 ], [ 47.639123174000076, 31.285295134000023 ], [ 47.613477997000075, 31.286664884000061 ], [ 47.578215877000048, 31.286664884000061 ], [ 47.531733993000046, 31.288034615000072 ], [ 47.499677521000081, 31.289404326000067 ], [ 47.482046461000039, 31.294882969000071 ], [ 47.448387165000042, 31.298991743000045 ], [ 47.403508104000025, 31.300361295000073 ], [ 47.369848809000075, 31.300361295000073 ], [ 47.332983866000063, 31.297622172000047 ], [ 47.294516099000077, 31.292143687000078 ], [ 47.252842686000065, 31.285295134000023 ], [ 47.223991861000059, 31.272966484000051 ], [ 47.198346683000068, 31.253785381000057 ], [ 47.169495858000062, 31.227747650000026 ], [ 47.138040445000058, 31.162107607000053 ], [ 47.130527209000036, 30.865907105000076 ], [ 47.133031621000043, 30.833655990000068 ], [ 47.12301397400006, 30.801394035000044 ], [ 47.110491914000079, 30.775576671000067 ], [ 47.107987502000071, 30.743295221000039 ], [ 47.107987502000071, 30.723921156000074 ], [ 47.09546544300008, 30.704543197000078 ], [ 47.082943383000043, 30.674391968000066 ], [ 47.090456619000065, 30.661467131000052 ], [ 47.097969855000031, 30.650695112000051 ], [ 47.105483090000064, 30.633457386000032 ], [ 47.105483090000064, 30.611905909000029 ], [ 47.097969855000031, 30.594661274000032 ], [ 47.050386029000038, 30.605439531000059 ], [ 47.017828675000032, 30.635612270000024 ], [ 46.995288968000068, 30.644231325000078 ], [ 46.960227201000066, 30.644231325000078 ], [ 46.907634552000047, 30.631302455000025 ], [ 46.842519843000048, 30.605439531000059 ], [ 46.727316896000048, 30.566632194000078 ], [ 46.594583066000041, 30.534280883000065 ], [ 46.575647053000068, 30.511378421000074 ], [ 46.584465242000078, 30.502695611000036 ], [ 46.600493478000033, 30.486122183000077 ], [ 46.605301949000079, 30.462638330000061 ], [ 46.605301949000079, 30.437766901000032 ], [ 46.606904773000053, 30.400447861000032 ], [ 46.611713244000043, 30.374177762000045 ], [ 46.624535833000039, 30.356199414000059 ], [ 46.627741480000054, 30.343750930000056 ], [ 46.638961245000075, 30.31469831000004 ], [ 46.656592305000061, 30.285637074000078 ], [ 46.677429011000072, 30.256567227000062 ], [ 46.719102425000074, 30.208098360000065 ], [ 46.746350426000049, 30.160991448000061 ], [ 46.744747603000064, 30.040350699000044 ], [ 46.735130661000028, 30.012596389000066 ], [ 46.730322190000038, 29.98622259900003 ], [ 46.712691131000042, 29.884826576000023 ], [ 46.701471366000078, 29.822270737000053 ], [ 46.688648777000026, 29.780545077000056 ], [ 46.680634659000077, 29.758284278000076 ], [ 46.671017717000041, 29.730451324000057 ], [ 46.65498948100003, 29.64690613700003 ], [ 46.64537253900005, 29.580020019000074 ], [ 46.646975363000081, 29.443323219000035 ], [ 46.651783834000071, 29.427968184000065 ], [ 46.65498948100003, 29.416799428000047 ], [ 46.653386657000055, 29.398647580000045 ], [ 46.643769716000065, 29.376302396000028 ], [ 46.622933009000064, 29.349761117000071 ], [ 46.611713244000043, 29.33858377200005 ], [ 46.590876537000042, 29.313430266000069 ], [ 46.573245477000057, 29.152581068000075 ], [ 46.571063096000046, 29.06360058000007 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Maysan", "shapeISO": "IQ-MA", "shapeID": "90741666B47130783728166", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 47.138040445000058, 31.162107607000053 ], [ 47.169495858000062, 31.227747650000026 ], [ 47.198346683000068, 31.253785381000057 ], [ 47.223991861000059, 31.272966484000051 ], [ 47.252842686000065, 31.285295134000023 ], [ 47.294516099000077, 31.292143687000078 ], [ 47.332983866000063, 31.297622172000047 ], [ 47.369848809000075, 31.300361295000073 ], [ 47.403508104000025, 31.300361295000073 ], [ 47.448387165000042, 31.298991743000045 ], [ 47.482046461000039, 31.294882969000071 ], [ 47.499677521000081, 31.289404326000067 ], [ 47.531733993000046, 31.288034615000072 ], [ 47.578215877000048, 31.286664884000061 ], [ 47.613477997000075, 31.286664884000061 ], [ 47.639123174000076, 31.285295134000023 ], [ 47.677590941000062, 31.281185763000053 ], [ 47.695537006000052, 31.278826159000062 ], [ 47.700030471000048, 31.407124947000057 ], [ 47.704838942000038, 31.424907099000052 ], [ 47.709647413000027, 31.446788197000046 ], [ 47.717661531000033, 31.46866418500008 ], [ 47.730484120000028, 31.493268564000061 ], [ 47.74330670900008, 31.513767269000027 ], [ 47.759334945000035, 31.539725841000063 ], [ 47.770554710000056, 31.56567719800006 ], [ 47.77696600400003, 31.584794630000033 ], [ 47.788185769000052, 31.609368425000071 ], [ 47.794597064000072, 31.629841633000069 ], [ 47.802611182000078, 31.663953636000031 ], [ 47.812228124000058, 31.688506525000037 ], [ 47.861658953000074, 31.790059117000055 ], [ 47.86415960800008, 31.857308687000057 ], [ 47.852875730000051, 31.865149917000053 ], [ 47.836462816000051, 31.872119339000051 ], [ 47.821075710000059, 31.876474961000042 ], [ 47.811843446000069, 31.888669605000075 ], [ 47.80979183200003, 31.899991758000056 ], [ 47.80774021700006, 31.913054050000028 ], [ 47.794404725000049, 31.93743203300005 ], [ 47.788249882000059, 31.946136890000048 ], [ 47.765682126000058, 31.952229798000076 ], [ 47.753372441000067, 31.96267384500004 ], [ 47.749269212000058, 31.978337687000078 ], [ 47.748243405000039, 31.993128862000049 ], [ 47.731830492000029, 32.003568255000062 ], [ 47.725675649000038, 32.014876256000036 ], [ 47.722598228000038, 32.028791881000075 ], [ 47.720546613000067, 32.048791888000039 ], [ 47.715417578000029, 32.059224940000036 ], [ 47.689772400000038, 32.066179646000023 ], [ 47.678488522000066, 32.081825803000072 ], [ 47.678488522000066, 32.097469282000077 ], [ 47.674385294000047, 32.111372348000032 ], [ 47.635404623000056, 32.138303514000029 ], [ 47.622069131000046, 32.150463370000068 ], [ 47.599501375000045, 32.166095088000077 ], [ 47.591294918000074, 32.156542690000038 ], [ 47.574882004000074, 32.155674241000042 ], [ 47.555391669000073, 32.161753213000054 ], [ 47.553340055000035, 32.177382994000027 ], [ 47.549236826000026, 32.214709946000028 ], [ 47.555391669000073, 32.223388438000029 ], [ 47.576933618000055, 32.236404622000066 ], [ 47.583088461000045, 32.248551379000048 ], [ 47.581036847000064, 32.261563958000067 ], [ 47.562572319000026, 32.280645700000036 ], [ 47.541030370000044, 32.293653678000055 ], [ 47.525643263000063, 32.301457568000046 ], [ 47.518462613000054, 32.317063334000068 ], [ 47.521540035000044, 32.330066085000055 ], [ 47.523591649000025, 32.340466942000035 ], [ 47.518462613000054, 32.35346633100005 ], [ 47.499998085000072, 32.35433289100007 ], [ 47.477430329000072, 32.359532074000072 ], [ 47.469223872000043, 32.368196715000067 ], [ 47.458965801000033, 32.383790975000068 ], [ 47.453836766000052, 32.402846972000077 ], [ 47.458965801000033, 32.413239457000032 ], [ 47.470249679000062, 32.421898947000045 ], [ 47.475378715000033, 32.431423426000038 ], [ 47.470249679000062, 32.441812619000075 ], [ 47.459991608000053, 32.453066228000068 ], [ 47.443578694000053, 32.460856364000051 ], [ 47.430243202000042, 32.476434616000063 ], [ 47.40562383200006, 32.499796939000078 ], [ 47.39331414600008, 32.513638416000049 ], [ 47.358436705000031, 32.516233455000076 ], [ 47.345101212000031, 32.521423310000046 ], [ 47.315352806000078, 32.540450213000042 ], [ 47.291759243000058, 32.529207530000065 ], [ 47.269191486000068, 32.509313183000074 ], [ 47.220978552000076, 32.508448112000053 ], [ 47.191230146000066, 32.503257508000047 ], [ 47.164559161000057, 32.506717944000059 ], [ 47.149172055000065, 32.517963440000074 ], [ 47.123526877000074, 32.532666967000068 ], [ 47.101984928000036, 32.54304447800007 ], [ 47.081468786000073, 32.550826824000069 ], [ 47.071210715000063, 32.562066800000025 ], [ 47.054797801000063, 32.576763105000055 ], [ 47.032230045000063, 32.596642509000048 ], [ 46.994275182000081, 32.625157429000069 ], [ 46.966578390000052, 32.643298559000073 ], [ 46.94195901900008, 32.657117903000028 ], [ 46.90913319200007, 32.668344547000061 ], [ 46.889642857000069, 32.676116013000069 ], [ 46.871178329000031, 32.695973355000035 ], [ 46.843481537000059, 32.717552413000078 ], [ 46.811681517000068, 32.753793478000034 ], [ 46.797320217000049, 32.771908484000051 ], [ 46.780907303000049, 32.794331478000061 ], [ 46.759365354000067, 32.814162492000037 ], [ 46.704997577000029, 32.840022382000029 ], [ 46.670120136000037, 32.85122599500005 ], [ 46.644474958000046, 32.861566537000044 ], [ 46.627036237000027, 32.873628979000046 ], [ 46.603442674000064, 32.892580929000076 ], [ 46.591132989000073, 32.905500389000053 ], [ 46.583952339000064, 32.916695730000072 ], [ 46.573694268000054, 32.906361620000041 ], [ 46.551126511000064, 32.886551203000067 ], [ 46.540868440000054, 32.872767430000067 ], [ 46.544971669000063, 32.862428195000064 ], [ 46.553178126000034, 32.852949503000048 ], [ 46.563436197000044, 32.844331631000045 ], [ 46.563436197000044, 32.838298623000071 ], [ 46.559332968000035, 32.821921250000059 ], [ 46.547023283000044, 32.807265250000057 ], [ 46.538816826000073, 32.794331478000061 ], [ 46.529584562000025, 32.779670929000076 ], [ 46.525481334000062, 32.760694867000041 ], [ 46.522403912000073, 32.734811901000057 ], [ 46.517274877000034, 32.71668935100007 ], [ 46.512145841000063, 32.698563118000038 ], [ 46.505990999000062, 32.680433203000064 ], [ 46.496758735000071, 32.658845171000053 ], [ 46.490603892000081, 32.641570991000037 ], [ 46.488552278000043, 32.553420790000075 ], [ 46.488552278000043, 32.549962152000035 ], [ 46.486500664000062, 32.539585441000042 ], [ 46.473165171000062, 32.52834265000007 ], [ 46.461881293000033, 32.525747960000047 ], [ 46.454700643000081, 32.516233455000076 ], [ 46.449571608000042, 32.49806660400003 ], [ 46.44136515100007, 32.479896083000028 ], [ 46.434184501000061, 32.465183926000066 ], [ 46.42187481600007, 32.440081170000042 ], [ 46.40238448100007, 32.423630745000025 ], [ 46.390074796000079, 32.417569306000075 ], [ 46.389048989000059, 32.40024866400006 ], [ 46.39828125300005, 32.378593187000035 ], [ 46.406487709000032, 32.367330288000062 ], [ 46.427003852000041, 32.350866603000043 ], [ 46.459829679000052, 32.323131517000036 ], [ 46.459829679000052, 32.313595618000079 ], [ 46.459829679000052, 32.305792773000064 ], [ 46.459829679000052, 32.294520810000051 ], [ 46.460855486000071, 32.283247445000029 ], [ 46.46803613600008, 32.275441986000033 ], [ 46.477268400000071, 32.269370610000067 ], [ 46.491629699000043, 32.264166250000073 ], [ 46.508042613000043, 32.256359150000037 ], [ 46.520352298000034, 32.245081042000038 ], [ 46.522403912000073, 32.238139972000056 ], [ 46.522403912000073, 32.225991824000062 ], [ 46.522403912000073, 32.216445711000063 ], [ 46.519326491000072, 32.212106237000057 ], [ 46.516249070000072, 32.200822636000055 ], [ 46.510094227000081, 32.196482417000027 ], [ 46.497784542000034, 32.190405763000058 ], [ 46.481371628000034, 32.186065047000056 ], [ 46.459829679000052, 32.17825123700004 ], [ 46.437261923000051, 32.170436756000072 ], [ 46.410590938000041, 32.16522672900004 ], [ 46.386997374000032, 32.159147989000076 ], [ 46.368532846000051, 32.147857823000038 ], [ 46.364429618000031, 32.129616909000049 ], [ 46.364429618000031, 32.107896780000033 ], [ 46.373661882000079, 32.089647877000061 ], [ 46.383919953000031, 32.077479917000062 ], [ 46.39520383100006, 32.067048948000036 ], [ 46.400332867000031, 32.054008562000035 ], [ 46.396229638000079, 32.042705392000073 ], [ 46.380842532000031, 32.034009695000066 ], [ 46.366481232000069, 32.025313173000029 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.374687689000041, 32.003568255000062 ], [ 46.376739303000079, 31.988778764000074 ], [ 46.373661882000079, 31.985298537000062 ], [ 46.34904251100005, 31.982688280000048 ], [ 46.320319912000059, 31.980077949000076 ], [ 46.31621668400004, 31.971376310000039 ], [ 46.320319912000059, 31.959192628000039 ], [ 46.339810247000059, 31.947007330000076 ], [ 46.360326390000068, 31.93569096300007 ], [ 46.38186833900005, 31.926114488000053 ], [ 46.412642552000079, 31.879959309000071 ], [ 46.423926430000051, 31.854694795000057 ], [ 46.430081273000042, 31.837266958000043 ], [ 46.437261923000051, 31.811990746000049 ], [ 46.447519994000061, 31.732630831000051 ], [ 46.455726451000032, 31.709944070000063 ], [ 46.469061943000042, 31.69336177200006 ], [ 46.48444905000008, 31.681141340000067 ], [ 46.501887770000053, 31.668046235000077 ], [ 46.526507141000081, 31.647090226000046 ], [ 46.530610369000044, 31.635737082000048 ], [ 46.535739405000072, 31.623509068000033 ], [ 46.548049090000063, 31.61215304600006 ], [ 46.563436197000044, 31.596427034000044 ], [ 46.588055567000026, 31.582446128000072 ], [ 46.598313638000036, 31.57632882200005 ], [ 46.609597517000054, 31.562344901000074 ], [ 46.615752359000055, 31.546610484000041 ], [ 46.619855588000064, 31.530873413000052 ], [ 46.618829781000045, 31.505513664000034 ], [ 46.618829781000045, 31.496767327000043 ], [ 46.614726552000036, 31.488020172000063 ], [ 46.609597517000054, 31.478397357000063 ], [ 46.603442674000064, 31.467023664000067 ], [ 46.603442674000064, 31.453898454000068 ], [ 46.605494288000045, 31.442521784000064 ], [ 46.607545902000027, 31.432019016000027 ], [ 46.616778166000074, 31.418013495000025 ], [ 46.632165273000055, 31.404881420000038 ], [ 46.635242694000056, 31.40313033800004 ], [ 46.680378207000047, 31.375108580000074 ], [ 46.695765314000028, 31.36459826600003 ], [ 46.718333070000028, 31.355838772000027 ], [ 46.736797598000067, 31.347078463000059 ], [ 46.750133090000077, 31.338317337000035 ], [ 46.759365354000067, 31.326050391000024 ], [ 46.76039116100003, 31.253292102000046 ], [ 46.761416968000049, 31.241891140000064 ], [ 46.766546004000077, 31.226980114000071 ], [ 46.773726654000029, 31.217330549000053 ], [ 46.785010532000058, 31.208557362000079 ], [ 46.805526674000077, 31.203293059000032 ], [ 46.81988797300005, 31.191008547000024 ], [ 46.829120237000041, 31.176089495000042 ], [ 46.83630088700005, 31.165556985000023 ], [ 46.84655895800006, 31.152389700000072 ], [ 46.863997679000079, 31.146244340000067 ], [ 46.89272027800007, 31.140098583000054 ], [ 46.976836461000062, 31.138342579000039 ], [ 46.991197760000034, 31.150633923000044 ], [ 46.999404217000063, 31.154145443000061 ], [ 47.066081679000035, 31.159412479000025 ], [ 47.138040445000058, 31.162107607000053 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Wasit", "shapeISO": "IQ-WA", "shapeID": "90741666B22138095387242", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 45.157952234000049, 32.45587941000008 ], [ 45.188854673000037, 32.441812619000075 ], [ 45.222706308000056, 32.426228380000055 ], [ 45.252454714000066, 32.424496632000057 ], [ 45.266816014000028, 32.41930118700003 ], [ 45.293486998000049, 32.413239457000032 ], [ 45.312977333000049, 32.407177319000027 ], [ 45.337596704000077, 32.395051823000074 ], [ 45.357087039000078, 32.379459506000046 ], [ 45.370422531000031, 32.364730958000052 ], [ 45.376577374000078, 32.356065985000043 ], [ 45.385809638000069, 32.347400182000058 ], [ 45.405299973000069, 32.33873354900004 ], [ 45.42068708000005, 32.331799644000057 ], [ 45.440177415000051, 32.320530917000042 ], [ 45.466848399000071, 32.306659789000037 ], [ 45.478132278000032, 32.290185066000049 ], [ 45.489416156000061, 32.273707349000063 ], [ 45.545835547000081, 32.228595135000035 ], [ 45.589945252000064, 32.186065047000056 ], [ 45.622771080000064, 32.14612075000008 ], [ 45.645338836000064, 32.107896780000033 ], [ 45.664829171000065, 32.089647877000061 ], [ 45.672009821000074, 32.081825803000072 ], [ 45.679190471000027, 32.068787525000062 ], [ 45.684319506000065, 32.053139137000073 ], [ 45.690474349000056, 32.040096770000048 ], [ 45.691500156000075, 32.023573769000052 ], [ 45.696629191000056, 32.013136655000039 ], [ 45.704835648000028, 32.001828439000064 ], [ 45.709681542000055, 31.993152482000028 ], [ 45.738687283000047, 31.996608792000075 ], [ 45.750996968000038, 32.004438151000045 ], [ 45.776642146000029, 32.007917651000071 ], [ 45.837164765000068, 32.007917651000071 ], [ 46.077203628000063, 32.010527190000062 ], [ 46.227997273000028, 32.010527190000062 ], [ 46.317242491000059, 32.013136655000039 ], [ 46.330577983000069, 32.014876256000036 ], [ 46.354171547000078, 32.014876256000036 ], [ 46.368532846000051, 32.012266841000041 ], [ 46.366481232000069, 32.025313173000029 ], [ 46.380842532000031, 32.034009695000066 ], [ 46.396229638000079, 32.042705392000073 ], [ 46.400332867000031, 32.054008562000035 ], [ 46.39520383100006, 32.067048948000036 ], [ 46.383919953000031, 32.077479917000062 ], [ 46.373661882000079, 32.089647877000061 ], [ 46.364429618000031, 32.107896780000033 ], [ 46.364429618000031, 32.129616909000049 ], [ 46.368532846000051, 32.147857823000038 ], [ 46.386997374000032, 32.159147989000076 ], [ 46.410590938000041, 32.16522672900004 ], [ 46.437261923000051, 32.170436756000072 ], [ 46.459829679000052, 32.17825123700004 ], [ 46.481371628000034, 32.186065047000056 ], [ 46.497784542000034, 32.190405763000058 ], [ 46.510094227000081, 32.196482417000027 ], [ 46.516249070000072, 32.200822636000055 ], [ 46.519326491000072, 32.212106237000057 ], [ 46.522403912000073, 32.216445711000063 ], [ 46.522403912000073, 32.225991824000062 ], [ 46.522403912000073, 32.238139972000056 ], [ 46.520352298000034, 32.245081042000038 ], [ 46.508042613000043, 32.256359150000037 ], [ 46.491629699000043, 32.264166250000073 ], [ 46.477268400000071, 32.269370610000067 ], [ 46.46803613600008, 32.275441986000033 ], [ 46.460855486000071, 32.283247445000029 ], [ 46.459829679000052, 32.294520810000051 ], [ 46.459829679000052, 32.305792773000064 ], [ 46.459829679000052, 32.313595618000079 ], [ 46.459829679000052, 32.323131517000036 ], [ 46.427003852000041, 32.350866603000043 ], [ 46.406487709000032, 32.367330288000062 ], [ 46.39828125300005, 32.378593187000035 ], [ 46.389048989000059, 32.40024866400006 ], [ 46.390074796000079, 32.417569306000075 ], [ 46.40238448100007, 32.423630745000025 ], [ 46.42187481600007, 32.440081170000042 ], [ 46.434184501000061, 32.465183926000066 ], [ 46.44136515100007, 32.479896083000028 ], [ 46.449571608000042, 32.49806660400003 ], [ 46.454700643000081, 32.516233455000076 ], [ 46.461881293000033, 32.525747960000047 ], [ 46.473165171000062, 32.52834265000007 ], [ 46.486500664000062, 32.539585441000042 ], [ 46.488552278000043, 32.549962152000035 ], [ 46.488552278000043, 32.553420790000075 ], [ 46.490603892000081, 32.641570991000037 ], [ 46.496758735000071, 32.658845171000053 ], [ 46.505990999000062, 32.680433203000064 ], [ 46.512145841000063, 32.698563118000038 ], [ 46.517274877000034, 32.71668935100007 ], [ 46.522403912000073, 32.734811901000057 ], [ 46.525481334000062, 32.760694867000041 ], [ 46.529584562000025, 32.779670929000076 ], [ 46.538816826000073, 32.794331478000061 ], [ 46.547023283000044, 32.807265250000057 ], [ 46.559332968000035, 32.821921250000059 ], [ 46.563436197000044, 32.838298623000071 ], [ 46.563436197000044, 32.844331631000045 ], [ 46.553178126000034, 32.852949503000048 ], [ 46.544971669000063, 32.862428195000064 ], [ 46.540868440000054, 32.872767430000067 ], [ 46.551126511000064, 32.886551203000067 ], [ 46.573694268000054, 32.906361620000041 ], [ 46.583164065000062, 32.915901656000074 ], [ 46.545997476000025, 32.929342609000059 ], [ 46.531572063000056, 32.938759324000046 ], [ 46.507529709000039, 32.94952005500005 ], [ 46.486693003000028, 32.960279477000029 ], [ 46.459445001000063, 32.973726912000075 ], [ 46.427388529000041, 32.987172299000065 ], [ 46.40655182200004, 32.995238549000078 ], [ 46.38731793900007, 32.996582852000074 ], [ 46.332821937000062, 33.014056931000027 ], [ 46.268708992000029, 33.015400948000035 ], [ 46.196581930000036, 33.008680660000039 ], [ 46.193376283000077, 33.007336541000029 ], [ 46.182156518000056, 33.000615639000046 ], [ 46.16773110500003, 32.996582852000074 ], [ 46.151702869000076, 33.003304062000041 ], [ 46.137277457000039, 33.019432874000074 ], [ 46.119646397000054, 33.027496175000067 ], [ 46.110029455000074, 33.034215028000062 ], [ 46.111632279000048, 33.050338186000033 ], [ 46.114837926000064, 33.05974199800005 ], [ 46.132468986000049, 33.07183113800005 ], [ 46.135674633000065, 33.082575646000066 ], [ 46.15330569300005, 33.091976014000068 ], [ 46.169333929000061, 33.108088592000058 ], [ 46.164525458000071, 33.120171086000028 ], [ 46.15330569300005, 33.126882865000027 ], [ 46.129263339000033, 33.129567433000034 ], [ 46.108426632000032, 33.134936323000034 ], [ 46.090795572000047, 33.138962775000039 ], [ 46.066753218000031, 33.145673117000058 ], [ 46.058739100000025, 33.15372485100005 ], [ 46.058739100000025, 33.160434064000071 ], [ 46.065150395000046, 33.171167738000065 ], [ 46.076370160000067, 33.176534082000046 ], [ 46.103618161000043, 33.177875616000051 ], [ 46.129263339000033, 33.177875616000051 ], [ 46.142085928000029, 33.180558624000071 ], [ 46.15811416400004, 33.191289833000042 ], [ 46.16773110500003, 33.20470199600004 ], [ 46.190170636000062, 33.21945300200008 ], [ 46.199274674000037, 33.235595799000066 ], [ 46.209532745000047, 33.241601660000072 ], [ 46.208506938000028, 33.250180746000069 ], [ 46.190042410000046, 33.26047453800004 ], [ 46.191068217000065, 33.269051771000079 ], [ 46.197223060000056, 33.278485755000077 ], [ 46.206455324000046, 33.282773592000069 ], [ 46.200300481000056, 33.299065453000026 ], [ 46.190042410000046, 33.317925912000078 ], [ 46.175681110000028, 33.322211812000035 ], [ 46.157216582000046, 33.331640048000054 ], [ 46.151061740000046, 33.334211208000056 ], [ 46.125416562000055, 33.36077541700007 ], [ 46.118235912000046, 33.373626157000047 ], [ 46.113106877000064, 33.38647499800004 ], [ 46.109003648000055, 33.400178336000067 ], [ 46.089513313000054, 33.407029195000064 ], [ 46.080281049000064, 33.416448244000037 ], [ 46.080281049000064, 33.432715104000067 ], [ 46.079255242000045, 33.448978915000055 ], [ 46.071048785000073, 33.462672391000069 ], [ 46.051558450000073, 33.474652409000043 ], [ 46.047455222000053, 33.484064118000049 ], [ 46.048481029000072, 33.498607476000075 ], [ 46.054635872000063, 33.51913511500004 ], [ 46.035145537000062, 33.536237761000052 ], [ 46.015655202000062, 33.538802866000026 ], [ 46.001293902000043, 33.529397109000058 ], [ 45.992061638000052, 33.514858925000055 ], [ 45.982829374000062, 33.500318298000025 ], [ 45.966416461000051, 33.48577522800008 ], [ 45.940771283000061, 33.475508061000028 ], [ 45.917177719000051, 33.466951159000075 ], [ 45.89460996300005, 33.458393412000078 ], [ 45.887429313000041, 33.450690718000033 ], [ 45.87511962800005, 33.426722405000078 ], [ 45.86178413600004, 33.399321941000039 ], [ 45.853577679000068, 33.387331520000032 ], [ 45.84537122200004, 33.368486089000044 ], [ 45.817674430000068, 33.352207203000034 ], [ 45.789977638000039, 33.350493459000063 ], [ 45.769461496000076, 33.347922779000044 ], [ 45.757151811000028, 33.334211208000056 ], [ 45.746893740000075, 33.312782555000069 ], [ 45.738687283000047, 33.292206093000061 ], [ 45.727403405000075, 33.265620979000062 ], [ 45.718171141000028, 33.249322875000075 ], [ 45.692525963000037, 33.220150261000072 ], [ 45.679190471000027, 33.203843679000045 ], [ 45.641235608000045, 33.17379728700007 ], [ 45.619693658000074, 33.160917107000046 ], [ 45.600203323000073, 33.155764506000025 ], [ 45.578661374000035, 33.159199607000062 ], [ 45.565325882000081, 33.16692809400007 ], [ 45.547887161000062, 33.175514502000055 ], [ 45.525319405000062, 33.186675574000049 ], [ 45.495570998000062, 33.198693601000059 ], [ 45.468900014000042, 33.198693601000059 ], [ 45.45453871400008, 33.206418605000067 ], [ 45.41042900900004, 33.215859350000073 ], [ 45.332467668000049, 33.21757573900004 ], [ 45.293486998000049, 33.220150261000072 ], [ 45.270919242000048, 33.227873371000044 ], [ 45.253480521000029, 33.23988574200007 ], [ 45.238093415000037, 33.249322875000075 ], [ 45.218603080000037, 33.26047453800004 ], [ 45.191932095000027, 33.273340072000053 ], [ 45.171415953000064, 33.282773592000069 ], [ 45.140641739000046, 33.293920984000067 ], [ 45.101661069000045, 33.307638895000025 ], [ 45.042164257000081, 33.325640379000049 ], [ 45.018570694000061, 33.321354649000057 ], [ 44.999080359000061, 33.311068036000052 ], [ 44.97035776000007, 33.306781589000025 ], [ 44.944712582000079, 33.300780209000038 ], [ 44.906757719000041, 33.291348635000077 ], [ 44.892396420000068, 33.282773592000069 ], [ 44.87085447000004, 33.252754308000078 ], [ 44.862648013000069, 33.229589525000051 ], [ 44.855467364000049, 33.208993454000051 ], [ 44.844183486000077, 33.183241550000048 ], [ 44.830847993000077, 33.159199607000062 ], [ 44.792893130000039, 33.130855997000026 ], [ 44.749809232000075, 33.092190867000056 ], [ 44.732370511000056, 33.073281723000036 ], [ 44.719035019000046, 33.069843260000027 ], [ 44.706725333000065, 33.067264325000053 ], [ 44.693389841000055, 33.06124651500005 ], [ 44.673899506000055, 33.057807582000066 ], [ 44.656460785000036, 33.062965931000065 ], [ 44.645176907000064, 33.071562508000056 ], [ 44.644151100000045, 33.08789369200008 ], [ 44.647228521000045, 33.105940419000035 ], [ 44.634918836000054, 33.116251170000055 ], [ 44.608247851000044, 33.118828669000038 ], [ 44.591834937000044, 33.113673596000069 ], [ 44.582602673000054, 33.107658961000027 ], [ 44.579525252000053, 33.115391987000066 ], [ 44.568113148000066, 33.129567433000034 ], [ 44.556893383000045, 33.116143773000033 ], [ 44.548879265000039, 33.102718061000076 ], [ 44.550482088000081, 33.079889642000069 ], [ 44.552084912000055, 33.062428617000023 ], [ 44.548879265000039, 33.050338186000033 ], [ 44.531248205000054, 33.040933369000072 ], [ 44.515219969000043, 33.039589742000032 ], [ 44.500794557000063, 33.032871298000032 ], [ 44.492780439000057, 33.018088919000036 ], [ 44.495986086000073, 33.000615639000046 ], [ 44.500794557000063, 32.989861131000055 ], [ 44.513617145000069, 32.981794390000061 ], [ 44.53445385200007, 32.973726912000075 ], [ 44.556893383000045, 32.953554992000079 ], [ 44.568113148000066, 32.936068936000026 ], [ 44.571318795000025, 32.923961180000049 ], [ 44.593758326000057, 32.913197338000032 ], [ 44.632226092000053, 32.910506174000034 ], [ 44.654665623000028, 32.925306568000053 ], [ 44.678707977000045, 32.933378467000068 ], [ 44.728395508000062, 32.929342609000059 ], [ 44.741218097000058, 32.915888421000034 ], [ 44.752437862000079, 32.880897962000063 ], [ 44.80853668900005, 32.835120356000061 ], [ 44.835784690000025, 32.821651860000031 ], [ 44.874252456000079, 32.814916845000027 ], [ 44.91432304600005, 32.809528466000074 ], [ 44.936762577000081, 32.797403419000034 ], [ 44.957599284000025, 32.779886543000032 ], [ 44.988052932000073, 32.747538633000033 ], [ 44.997669874000053, 32.735405137000043 ], [ 45.018506581000054, 32.717876059000048 ], [ 45.04254893500007, 32.709784553000077 ], [ 45.063385642000071, 32.707087222000041 ], [ 45.079413878000025, 32.70304107100003 ], [ 45.082619525000041, 32.696297080000079 ], [ 45.063385642000071, 32.680109421000054 ], [ 45.058577171000081, 32.669316018000075 ], [ 45.064988465000056, 32.62207955100007 ], [ 45.084222349000072, 32.608578836000049 ], [ 45.103456232000042, 32.60722865200006 ], [ 45.146732469000028, 32.60722865200006 ], [ 45.151540940000075, 32.597776798000041 ], [ 45.137115528000038, 32.580220710000049 ], [ 45.116278821000037, 32.573467452000045 ], [ 45.093839290000062, 32.558608496000033 ], [ 45.079413878000025, 32.542395919000057 ], [ 45.071399760000077, 32.528883201000042 ], [ 45.06659128900003, 32.518071563000035 ], [ 45.069796936000046, 32.497796237000045 ], [ 45.087427996000031, 32.488332853000031 ], [ 45.108264703000032, 32.484276812000076 ], [ 45.127498586000058, 32.482924758000024 ], [ 45.146732469000028, 32.473459810000065 ], [ 45.157952234000049, 32.45587941000008 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Ninawa", "shapeISO": "IQ-NI", "shapeID": "90741666B29902093370976", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 42.422232871000062, 34.931133724000063 ], [ 42.419728459000055, 35.095226702000048 ], [ 42.995743192000077, 35.105471578000049 ], [ 42.973303661000045, 35.143243547000054 ], [ 42.905985070000042, 35.228391437000028 ], [ 42.84347494900004, 35.295137292000049 ], [ 42.816226948000065, 35.323912644000075 ], [ 42.809815654000033, 35.340911450000078 ], [ 42.809815654000033, 35.364442355000051 ], [ 42.805007183000043, 35.381432633000031 ], [ 42.795390241000064, 35.404951727000025 ], [ 42.796993065000038, 35.478078364000055 ], [ 42.81462412500008, 35.501569243000063 ], [ 42.83866647900004, 35.526357720000078 ], [ 42.859503185000051, 35.542009656000062 ], [ 42.885148363000042, 35.556354581000051 ], [ 42.997346015000062, 35.637159782000026 ], [ 43.09832390300005, 35.637159782000026 ], [ 43.164039670000079, 35.648882787000048 ], [ 43.191287672000044, 35.663208568000073 ], [ 43.221741320000035, 35.677531780000038 ], [ 43.248989321000067, 35.686645213000077 ], [ 43.273031675000027, 35.694455898000058 ], [ 43.300279677000049, 35.707472007000035 ], [ 43.317910736000044, 35.721787273000075 ], [ 43.321116384000049, 35.732196760000079 ], [ 43.322277968000037, 35.738325517000078 ], [ 43.327527678000081, 35.766018196000061 ], [ 43.33554179600003, 35.78162324200008 ], [ 43.349967208000066, 35.797225225000034 ], [ 43.351570032000041, 35.819322791000047 ], [ 43.353172856000072, 35.838815537000073 ], [ 43.367598268000052, 35.869993969000063 ], [ 43.378818033000073, 35.886877166000033 ], [ 43.391640622000068, 35.902458462000027 ], [ 43.406066035000038, 35.912844289000077 ], [ 43.417285800000059, 35.925824655000042 ], [ 43.417285800000059, 35.93620741400008 ], [ 43.415682976000028, 35.959563636000041 ], [ 43.407668858000079, 35.979021880000062 ], [ 43.401257564000048, 35.997178580000025 ], [ 43.402860387000032, 36.007551961000047 ], [ 43.418888623000043, 36.016627550000067 ], [ 43.442930978000049, 36.021813132000034 ], [ 43.463767684000061, 36.026998373000026 ], [ 43.479795920000072, 36.034775593000063 ], [ 43.492618509000067, 36.047735922000072 ], [ 43.505441098000063, 36.068468009000071 ], [ 43.511852393000026, 36.084013490000075 ], [ 43.518263687000058, 36.102146001000051 ], [ 43.529483452000079, 36.128042329000039 ], [ 43.540703217000043, 36.144870362000063 ], [ 43.542306041000074, 36.157812547000049 ], [ 43.56474557100006, 36.182396813000025 ], [ 43.579170984000029, 36.194039300000043 ], [ 43.588787926000066, 36.206973367000046 ], [ 43.619369800000072, 36.239299183000071 ], [ 43.625524643000062, 36.246745157000078 ], [ 43.657324663000054, 36.273213987000076 ], [ 43.683995648000064, 36.282310575000054 ], [ 43.709640825000065, 36.294713306000062 ], [ 43.721950511000045, 36.302980698000056 ], [ 43.740415039000027, 36.317033253000034 ], [ 43.756827952000037, 36.333562427000061 ], [ 43.773240866000037, 36.350088096000036 ], [ 43.789653780000037, 36.365784232000067 ], [ 43.806066693000048, 36.378173683000057 ], [ 43.811195729000076, 36.389735390000055 ], [ 43.815298957000039, 36.407900313000027 ], [ 43.823505414000067, 36.431838497000058 ], [ 43.828634450000038, 36.443392221000067 ], [ 43.846073171000057, 36.452468939000028 ], [ 43.859408663000067, 36.456594370000062 ], [ 43.866589313000077, 36.468969343000026 ], [ 43.864537698000049, 36.487940467000044 ], [ 43.87376996200004, 36.493713365000076 ], [ 43.90044094700005, 36.497011971000063 ], [ 43.918905475000031, 36.511853959000064 ], [ 43.927111932000059, 36.525044448000074 ], [ 43.94249903900004, 36.530814580000026 ], [ 43.95275711000005, 36.539056878000054 ], [ 43.961989374000041, 36.551418679000051 ], [ 43.980453902000079, 36.567074122000065 ], [ 44.014305536000052, 36.593434013000035 ], [ 44.029692643000033, 36.60002257900004 ], [ 44.046105556000043, 36.604140148000056 ], [ 44.066621699000052, 36.588492219000045 ], [ 44.092266876000053, 36.588492219000045 ], [ 44.106628176000072, 36.595904791000066 ], [ 44.115860440000063, 36.59837549100007 ], [ 44.126118511000072, 36.586844884000072 ], [ 44.141505617000064, 36.592610403000037 ], [ 44.151763688000074, 36.602493147000075 ], [ 44.170228216000055, 36.603316652000046 ], [ 44.181512094000027, 36.609904374000052 ], [ 44.194847587000027, 36.623901416000024 ], [ 44.212286308000046, 36.63542648300006 ], [ 44.229725029000065, 36.640365270000075 ], [ 44.235879871000066, 36.646949827000071 ], [ 44.250241171000027, 36.663408756000024 ], [ 44.257421820000047, 36.674105174000033 ], [ 44.267679891000057, 36.684800104000033 ], [ 44.276912155000048, 36.694671028000073 ], [ 44.288196034000066, 36.69960601400004 ], [ 44.298454105000076, 36.707007900000065 ], [ 44.302557333000038, 36.716053681000062 ], [ 44.296402490000048, 36.725098398000057 ], [ 44.283066998000038, 36.733319943000026 ], [ 44.271783120000066, 36.741540608000037 ], [ 44.267679891000057, 36.749760392000042 ], [ 44.259473435000075, 36.775236128000074 ], [ 44.234854064000046, 36.788381584000035 ], [ 44.207157272000074, 36.79577491200007 ], [ 44.192795973000045, 36.801524785000026 ], [ 44.156892724000045, 36.815486965000048 ], [ 44.132273353000073, 36.817129407000039 ], [ 44.122015282000064, 36.824519959000042 ], [ 44.104576561000044, 36.835193942000046 ], [ 44.075853962000053, 36.839298924000047 ], [ 44.058415242000081, 36.842582750000076 ], [ 44.053286206000053, 36.858999768000047 ], [ 44.044053942000062, 36.87131021700003 ], [ 44.025589414000081, 36.880336620000037 ], [ 44.020460379000042, 36.894284416000062 ], [ 43.996866815000033, 36.913150907000045 ], [ 43.974299059000032, 36.926272671000049 ], [ 43.948653881000041, 36.935292574000073 ], [ 43.91993128200005, 36.94677090700003 ], [ 43.889157069000078, 36.954968657000052 ], [ 43.855305435000048, 36.968083223000065 ], [ 43.832737678000058, 36.980376076000027 ], [ 43.82860239300004, 36.981477214000051 ], [ 43.808118308000076, 36.986931453000068 ], [ 43.744518267000046, 36.986112062000075 ], [ 43.716821475000074, 36.986112062000075 ], [ 43.689124683000045, 36.982014973000048 ], [ 43.661427891000073, 36.97300060200007 ], [ 43.645014978000063, 36.967263629000058 ], [ 43.625524643000062, 36.969722385000068 ], [ 43.602956886000072, 36.968083223000065 ], [ 43.594750429000044, 36.955788384000073 ], [ 43.596802044000071, 36.941851833000044 ], [ 43.606034308000062, 36.928732750000052 ], [ 43.621421414000054, 36.917251701000055 ], [ 43.634756907000053, 36.90576892200005 ], [ 43.653221434000045, 36.894284416000062 ], [ 43.662453698000036, 36.885259662000067 ], [ 43.662453698000036, 36.862282748000041 ], [ 43.655273049000073, 36.845045528000071 ], [ 43.648092399000063, 36.831088740000041 ], [ 43.633731099000045, 36.822877676000076 ], [ 43.610137536000025, 36.81302323500006 ], [ 43.584492358000034, 36.80234616000007 ], [ 43.55166653100008, 36.794132012000034 ], [ 43.51884070300008, 36.789203100000066 ], [ 43.474730998000041, 36.794132012000034 ], [ 43.454214856000078, 36.803167526000038 ], [ 43.43985355600006, 36.816308190000029 ], [ 43.418311607000078, 36.829446598000061 ], [ 43.40600192200003, 36.838477945000079 ], [ 43.394718044000058, 36.844224611000072 ], [ 43.376253516000077, 36.851612546000069 ], [ 43.364969637000058, 36.860641276000024 ], [ 43.342401881000058, 36.870489582000062 ], [ 43.323937353000076, 36.880336620000037 ], [ 43.315730896000048, 36.889361955000027 ], [ 43.299317983000037, 36.895104795000066 ], [ 43.256234084000027, 36.890182387000038 ], [ 43.245976013000075, 36.882798180000066 ], [ 43.214175993000026, 36.881977669000037 ], [ 43.199814693000064, 36.868027625000025 ], [ 43.182375972000045, 36.845866436000051 ], [ 43.171092094000073, 36.83273084800004 ], [ 43.157756602000063, 36.81959300300008 ], [ 43.144421109000064, 36.801524785000026 ], [ 43.136214653000025, 36.78591698300005 ], [ 43.114672703000053, 36.769484282000064 ], [ 43.095182368000053, 36.744006636000051 ], [ 43.086975911000025, 36.732497828000078 ], [ 43.081846876000043, 36.721809533000055 ], [ 43.059279120000042, 36.716875972000025 ], [ 43.032608135000032, 36.709475037000061 ], [ 43.01824683500007, 36.702895829000056 ], [ 42.99465327200005, 36.702073389000077 ], [ 42.977214551000031, 36.698783538000043 ], [ 42.966956480000078, 36.686445346000028 ], [ 42.951569373000041, 36.685622729000045 ], [ 42.903356439000049, 36.691380860000038 ], [ 42.893098368000039, 36.693848499000069 ], [ 42.869504805000076, 36.696316058000036 ], [ 42.857195119000039, 36.693025962000036 ], [ 42.845911241000067, 36.680686845000025 ], [ 42.832575749000057, 36.674927913000033 ], [ 42.820266064000066, 36.67821878400008 ], [ 42.819240257000047, 36.687267954000049 ], [ 42.817188642000076, 36.69960601400004 ], [ 42.804878957000028, 36.71523138200007 ], [ 42.780259586000057, 36.705363098000078 ], [ 42.767949901000065, 36.690558297000052 ], [ 42.760769251000056, 36.687267954000049 ], [ 42.742304724000064, 36.690558297000052 ], [ 42.734098267000036, 36.697138560000042 ], [ 42.735124074000055, 36.704540684000051 ], [ 42.749485373000027, 36.720987295000043 ], [ 42.751536987000065, 36.732497828000078 ], [ 42.731020845000046, 36.74647258400006 ], [ 42.714607932000035, 36.755513717000042 ], [ 42.702298246000055, 36.76291021600008 ], [ 42.701272439000036, 36.774414462000038 ], [ 42.691014368000026, 36.780987543000037 ], [ 42.666394998000044, 36.786738525000032 ], [ 42.648956277000025, 36.782630725000047 ], [ 42.637672399000053, 36.763732005000065 ], [ 42.624336906000053, 36.75797929600003 ], [ 42.597665921000043, 36.762088418000076 ], [ 42.592536886000062, 36.770306001000051 ], [ 42.577149779000081, 36.78591698300005 ], [ 42.572020744000042, 36.799882008000054 ], [ 42.558685251000043, 36.81384448700004 ], [ 42.55047879500006, 36.816308190000029 ], [ 42.500214246000041, 36.81959300300008 ], [ 42.493033597000078, 36.824519959000042 ], [ 42.493033597000078, 36.836835961000077 ], [ 42.494059404000041, 36.843403685000055 ], [ 42.505343282000069, 36.857358225000041 ], [ 42.51149812400007, 36.87377206900004 ], [ 42.51149812400007, 36.881977669000037 ], [ 42.513549739000041, 36.90576892200005 ], [ 42.51867877400008, 36.922992442000066 ], [ 42.51149812400007, 36.943491560000041 ], [ 42.49508521100006, 36.941851833000044 ], [ 42.473543261000032, 36.921352274000071 ], [ 42.459181962000059, 36.918891957000028 ], [ 42.449949698000069, 36.922992442000066 ], [ 42.439691627000059, 36.929552759000046 ], [ 42.430459363000068, 36.941031957000064 ], [ 42.42225290600004, 36.950869892000071 ], [ 42.40583999200004, 36.964804793000042 ], [ 42.399685150000039, 36.97300060200007 ], [ 42.394556114000068, 36.982834409000077 ], [ 42.387375465000048, 36.994305576000045 ], [ 42.378143201000057, 37.015604583000027 ], [ 42.372144633000062, 37.070431006000035 ], [ 42.342091691000064, 37.04844698200003 ], [ 42.32205639600005, 37.024457147000078 ], [ 42.297012277000078, 37.000459733000071 ], [ 42.27196815800005, 36.974453986000071 ], [ 42.239410803000055, 36.952442179000059 ], [ 42.191826978000051, 36.916409134000048 ], [ 42.119199033000029, 36.840283445000068 ], [ 42.094154914000057, 36.814223030000051 ], [ 42.056588736000037, 36.780130635000035 ], [ 41.966429908000066, 36.711900335000053 ], [ 41.936376966000068, 36.681779451000068 ], [ 41.888793140000075, 36.649637502000076 ], [ 41.831191667000041, 36.599388840000074 ], [ 41.400432823000074, 36.522948160000055 ], [ 41.285229876000074, 36.353705845000036 ], [ 41.282725465000055, 36.275003669000057 ], [ 41.282725465000055, 36.228552332000049 ], [ 41.255176934000076, 36.06271864200005 ], [ 41.372884292000037, 35.833617939000078 ], [ 41.375388704000045, 35.734067070000037 ], [ 41.382901940000067, 35.611998362000065 ], [ 41.275212229000033, 35.499938154000063 ], [ 41.272707817000025, 35.471388733000026 ], [ 41.272707817000025, 35.412218393000046 ], [ 41.270203405000075, 35.367301546000078 ], [ 41.260185758000034, 35.336662084000068 ], [ 41.23764605100007, 35.287614774000076 ], [ 41.215106344000048, 35.13619847800004 ], [ 41.250168110000061, 35.125957466000045 ], [ 41.280221053000048, 35.113666551000051 ], [ 41.320291643000076, 35.095226702000048 ], [ 41.372884292000037, 35.072683445000052 ], [ 41.415459294000073, 35.048083696000049 ], [ 41.450521061000074, 35.03373042000004 ], [ 41.488087239000038, 35.029629021000062 ], [ 41.52314900500005, 35.03373042000004 ], [ 41.578246067000066, 35.019374623000033 ], [ 41.653378423000049, 34.998861968000028 ], [ 41.743537251000078, 34.974239994000072 ], [ 41.901315199000067, 34.922920436000027 ], [ 42.422232871000062, 34.931133724000063 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Dohuk", "shapeISO": "IQ-DA", "shapeID": "90741666B81100048725045", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.82860239300004, 36.981477214000051 ], [ 43.853253820000077, 37.003419824000048 ], [ 43.867679233000047, 37.017498677000049 ], [ 43.893324410000048, 37.027736205000053 ], [ 43.91576394100008, 37.039251774000036 ], [ 43.939806295000039, 37.052044804000047 ], [ 43.954231707000076, 37.063556686000027 ], [ 43.975068414000077, 37.076345619000051 ], [ 43.999110768000037, 37.092968006000035 ], [ 44.019947475000038, 37.109586749000073 ], [ 44.031167240000059, 37.122367915000041 ], [ 44.035975711000049, 37.133869121000032 ], [ 44.047437990000049, 37.146432883000045 ], [ 44.057389434000072, 37.150632191000057 ], [ 44.076879770000062, 37.152267413000061 ], [ 44.086112033000063, 37.152267413000061 ], [ 44.092266876000053, 37.152267413000061 ], [ 44.091241069000034, 37.242966808000062 ], [ 44.087137841000072, 37.247866373000079 ], [ 44.075853963000043, 37.257664547000047 ], [ 44.066621699000052, 37.270726798000055 ], [ 44.058415242000081, 37.281338207000033 ], [ 44.046105557000033, 37.28623527700006 ], [ 44.013279729000033, 37.282970600000056 ], [ 43.990711972000042, 37.269910473000039 ], [ 43.978402287000051, 37.256031607000068 ], [ 43.94967968800006, 37.251949100000047 ], [ 43.945576460000041, 37.234800158000041 ], [ 43.94044742400007, 37.221731678000026 ], [ 43.928137739000078, 37.205392894000056 ], [ 43.914802247000068, 37.188233363000052 ], [ 43.90351836800005, 37.180060787000059 ], [ 43.885053841000058, 37.179243480000025 ], [ 43.853253820000077, 37.180878084000028 ], [ 43.840944135000029, 37.175156816000026 ], [ 43.821453800000029, 37.16453045600008 ], [ 43.808118307000029, 37.180060787000059 ], [ 43.784524744000066, 37.192319319000035 ], [ 43.780421515000057, 37.193953640000075 ], [ 43.760931181000046, 37.195587925000041 ], [ 43.693227911000065, 37.192319319000035 ], [ 43.660402084000054, 37.190684963000024 ], [ 43.650144013000045, 37.182512652000071 ], [ 43.629627871000025, 37.182512652000071 ], [ 43.608085922000043, 37.188233363000052 ], [ 43.588595587000043, 37.198856389000071 ], [ 43.584492358000034, 37.20620991800007 ], [ 43.558847181000033, 37.218464204000043 ], [ 43.53833103900007, 37.222548524000047 ], [ 43.523969739000052, 37.210294901000054 ], [ 43.51268586100008, 37.209477922000076 ], [ 43.480885840000042, 37.212745785000038 ], [ 43.461395505000041, 37.220914823000044 ], [ 43.452163241000051, 37.232349990000046 ], [ 43.426518064000049, 37.238066924000066 ], [ 43.413182572000039, 37.23970025400007 ], [ 43.397795465000058, 37.250316036000072 ], [ 43.394718043000069, 37.259297453000045 ], [ 43.38958900800003, 37.265828720000059 ], [ 43.37009867300003, 37.26909414000005 ], [ 43.365995444000077, 37.276440820000062 ], [ 43.347530917000029, 37.282154408000054 ], [ 43.330092196000066, 37.282970600000056 ], [ 43.315730896000048, 37.28052199800004 ], [ 43.302395404000038, 37.272359420000043 ], [ 43.291111526000066, 37.269910473000039 ], [ 43.281879262000075, 37.269910473000039 ], [ 43.268543770000065, 37.276440820000062 ], [ 43.251105048000056, 37.290315925000073 ], [ 43.226485678000074, 37.302556540000069 ], [ 43.193659851000064, 37.313979317000076 ], [ 43.165963059000035, 37.315611 ], [ 43.148524338000072, 37.326216080000052 ], [ 43.123904968000033, 37.330294559000038 ], [ 43.080821068000034, 37.328663194000058 ], [ 43.05825331300008, 37.318058459000042 ], [ 43.039788784000052, 37.313163462000034 ], [ 43.020298450000041, 37.310715843000025 ], [ 42.990550044000031, 37.287867562000031 ], [ 42.977214551000031, 37.28052199800004 ], [ 42.95875002300005, 37.279705780000029 ], [ 42.921820967000031, 37.281338207000033 ], [ 42.890020947000039, 37.287051424000026 ], [ 42.880788683000048, 37.291948122000065 ], [ 42.836678977000076, 37.304188471000032 ], [ 42.825395100000037, 37.314795163000042 ], [ 42.817188643000065, 37.323768887000028 ], [ 42.798724114000038, 37.33355718200005 ], [ 42.782311201000027, 37.329478881000057 ], [ 42.758717637000075, 37.313163462000034 ], [ 42.744356338000046, 37.300108576000071 ], [ 42.735124074000055, 37.290315925000073 ], [ 42.723840196000026, 37.279705780000029 ], [ 42.711530510000046, 37.270726798000055 ], [ 42.689988561000064, 37.254398631000072 ], [ 42.682807911000054, 37.242966808000062 ], [ 42.662291769000035, 37.231533250000041 ], [ 42.643827241000054, 37.217647314000033 ], [ 42.639724013000034, 37.20457586200007 ], [ 42.630491748000054, 37.193953640000075 ], [ 42.619207871000071, 37.183329923000031 ], [ 42.605872379000061, 37.168617694000034 ], [ 42.598691729000052, 37.154720181000073 ], [ 42.586382043000071, 37.137549137000065 ], [ 42.572020743000053, 37.113830336000035 ], [ 42.559711058000062, 37.108103994000032 ], [ 42.543298144000062, 37.11792031400006 ], [ 42.515601353000079, 37.111376242000063 ], [ 42.500214246000041, 37.104831604000026 ], [ 42.48482713900006, 37.102377219000061 ], [ 42.45200131200005, 37.102377219000061 ], [ 42.427381941000078, 37.100740918000042 ], [ 42.40583999200004, 37.088467535000063 ], [ 42.382246429000077, 37.090104101000065 ], [ 42.369936744000029, 37.087649239000029 ], [ 42.374390237000057, 37.081051241000068 ], [ 42.371578035000027, 37.080938877000051 ], [ 42.372144633000062, 37.070431006000035 ], [ 42.378143201000057, 37.015604583000027 ], [ 42.387375465000048, 36.994305576000045 ], [ 42.394556114000068, 36.982834409000077 ], [ 42.399685150000039, 36.97300060200007 ], [ 42.40583999200004, 36.964804793000042 ], [ 42.42225290600004, 36.950869892000071 ], [ 42.430459363000068, 36.941031957000064 ], [ 42.439691627000059, 36.929552759000046 ], [ 42.449949698000069, 36.922992442000066 ], [ 42.459181962000059, 36.918891957000028 ], [ 42.473543261000032, 36.921352274000071 ], [ 42.49508521100006, 36.941851833000044 ], [ 42.51149812400007, 36.943491560000041 ], [ 42.51867877400008, 36.922992442000066 ], [ 42.513549739000041, 36.90576892200005 ], [ 42.51149812400007, 36.881977669000037 ], [ 42.51149812400007, 36.87377206900004 ], [ 42.505343282000069, 36.857358225000041 ], [ 42.494059404000041, 36.843403685000055 ], [ 42.493033597000078, 36.836835961000077 ], [ 42.493033597000078, 36.824519959000042 ], [ 42.500214246000041, 36.81959300300008 ], [ 42.55047879500006, 36.816308190000029 ], [ 42.558685251000043, 36.81384448700004 ], [ 42.572020744000042, 36.799882008000054 ], [ 42.577149779000081, 36.78591698300005 ], [ 42.592536886000062, 36.770306001000051 ], [ 42.597665921000043, 36.762088418000076 ], [ 42.624336906000053, 36.75797929600003 ], [ 42.637672399000053, 36.763732005000065 ], [ 42.648956277000025, 36.782630725000047 ], [ 42.666394998000044, 36.786738525000032 ], [ 42.691014368000026, 36.780987543000037 ], [ 42.701272439000036, 36.774414462000038 ], [ 42.702298246000055, 36.76291021600008 ], [ 42.714607932000035, 36.755513717000042 ], [ 42.731020845000046, 36.74647258400006 ], [ 42.751536987000065, 36.732497828000078 ], [ 42.749485373000027, 36.720987295000043 ], [ 42.735124074000055, 36.704540684000051 ], [ 42.734098267000036, 36.697138560000042 ], [ 42.742304724000064, 36.690558297000052 ], [ 42.760769251000056, 36.687267954000049 ], [ 42.767949901000065, 36.690558297000052 ], [ 42.780259586000057, 36.705363098000078 ], [ 42.804878957000028, 36.71523138200007 ], [ 42.817188642000076, 36.69960601400004 ], [ 42.819240257000047, 36.687267954000049 ], [ 42.820266064000066, 36.67821878400008 ], [ 42.832575749000057, 36.674927913000033 ], [ 42.845911241000067, 36.680686845000025 ], [ 42.857195119000039, 36.693025962000036 ], [ 42.869504805000076, 36.696316058000036 ], [ 42.893098368000039, 36.693848499000069 ], [ 42.903356439000049, 36.691380860000038 ], [ 42.951569373000041, 36.685622729000045 ], [ 42.966956480000078, 36.686445346000028 ], [ 42.977214551000031, 36.698783538000043 ], [ 42.99465327200005, 36.702073389000077 ], [ 43.01824683500007, 36.702895829000056 ], [ 43.032608135000032, 36.709475037000061 ], [ 43.059279120000042, 36.716875972000025 ], [ 43.081846876000043, 36.721809533000055 ], [ 43.086975911000025, 36.732497828000078 ], [ 43.095182368000053, 36.744006636000051 ], [ 43.114672703000053, 36.769484282000064 ], [ 43.136214653000025, 36.78591698300005 ], [ 43.144421109000064, 36.801524785000026 ], [ 43.157756602000063, 36.81959300300008 ], [ 43.171092094000073, 36.83273084800004 ], [ 43.182375972000045, 36.845866436000051 ], [ 43.199814693000064, 36.868027625000025 ], [ 43.214175993000026, 36.881977669000037 ], [ 43.245976013000075, 36.882798180000066 ], [ 43.256234084000027, 36.890182387000038 ], [ 43.299317983000037, 36.895104795000066 ], [ 43.315730896000048, 36.889361955000027 ], [ 43.323937353000076, 36.880336620000037 ], [ 43.342401881000058, 36.870489582000062 ], [ 43.364969637000058, 36.860641276000024 ], [ 43.376253516000077, 36.851612546000069 ], [ 43.394718044000058, 36.844224611000072 ], [ 43.40600192200003, 36.838477945000079 ], [ 43.418311607000078, 36.829446598000061 ], [ 43.43985355600006, 36.816308190000029 ], [ 43.454214856000078, 36.803167526000038 ], [ 43.474730998000041, 36.794132012000034 ], [ 43.51884070300008, 36.789203100000066 ], [ 43.55166653100008, 36.794132012000034 ], [ 43.584492358000034, 36.80234616000007 ], [ 43.610137536000025, 36.81302323500006 ], [ 43.633731099000045, 36.822877676000076 ], [ 43.648092399000063, 36.831088740000041 ], [ 43.655273049000073, 36.845045528000071 ], [ 43.662453698000036, 36.862282748000041 ], [ 43.662453698000036, 36.885259662000067 ], [ 43.653221434000045, 36.894284416000062 ], [ 43.634756907000053, 36.90576892200005 ], [ 43.621421414000054, 36.917251701000055 ], [ 43.606034308000062, 36.928732750000052 ], [ 43.596802044000071, 36.941851833000044 ], [ 43.594750429000044, 36.955788384000073 ], [ 43.602956886000072, 36.968083223000065 ], [ 43.625524643000062, 36.969722385000068 ], [ 43.645014978000063, 36.967263629000058 ], [ 43.661427891000073, 36.97300060200007 ], [ 43.689124683000045, 36.982014973000048 ], [ 43.716821475000074, 36.986112062000075 ], [ 43.744518267000046, 36.986112062000075 ], [ 43.808118308000076, 36.986931453000068 ], [ 43.82860239300004, 36.981477214000051 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Salah al-Din", "shapeISO": "IQ-SD", "shapeID": "90741666B48099694344995", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.260471192000068, 33.433313682000062 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.327689607000025, 33.50860461700006 ], [ 44.32127831300005, 33.516622879000067 ], [ 44.314867018000029, 33.521967975000052 ], [ 44.310058548000029, 33.532657175000054 ], [ 44.306852900000081, 33.584748099000024 ], [ 44.32127831300005, 33.599434729000052 ], [ 44.327689607000025, 33.608779465000055 ], [ 44.33089525400004, 33.631469606000053 ], [ 44.33089525400004, 33.650151118000053 ], [ 44.346923490000052, 33.66616061600007 ], [ 44.364554550000037, 33.667494606000048 ], [ 44.386994081000068, 33.670162525000023 ], [ 44.391802551000069, 33.678165784000043 ], [ 44.398213846000033, 33.714171233000059 ], [ 44.401419493000049, 33.739499354000031 ], [ 44.414242082000044, 33.751494276000074 ], [ 44.41744772900006, 33.763487520000069 ], [ 44.414242082000044, 33.776811379000037 ], [ 44.406227964000038, 33.788801080000042 ], [ 44.385391257000038, 33.799457183000072 ], [ 44.383788433000063, 33.81410715800007 ], [ 44.385391257000038, 33.834080355000026 ], [ 44.385391257000038, 33.848724401000027 ], [ 44.386994081000068, 33.863365936000037 ], [ 44.40302231700008, 33.87401274900003 ], [ 44.420653376000075, 33.888649948000079 ], [ 44.431873142000029, 33.905945219000046 ], [ 44.439887260000035, 33.932546477000074 ], [ 44.444695730000035, 33.939195494000046 ], [ 44.460723966000046, 33.94850324500004 ], [ 44.45751831900003, 33.976420391000033 ], [ 44.455915496000046, 33.98971104900005 ], [ 44.439887260000035, 33.997684446000051 ], [ 44.427064671000039, 34.002999629000044 ], [ 44.419050553000034, 34.016286130000026 ], [ 44.406227964000038, 34.024257033000026 ], [ 44.395008199000074, 34.037540207000063 ], [ 44.382185610000079, 34.046837192000055 ], [ 44.359746079000047, 34.052149297000028 ], [ 44.340512196000077, 34.053477271000077 ], [ 44.314867018000029, 34.056133157000033 ], [ 44.300441606000049, 34.062772509000069 ], [ 44.300441606000049, 34.073394389000043 ], [ 44.300441606000049, 34.084014937000063 ], [ 44.300441606000049, 34.101270487000079 ], [ 44.306852900000081, 34.119849453000029 ], [ 44.319675489000076, 34.133117645000027 ], [ 44.324483960000066, 34.145057236000071 ], [ 44.33089525400004, 34.162300335000054 ], [ 44.350129138000057, 34.198101672000064 ], [ 44.362951727000052, 34.211357571000065 ], [ 44.370965845000057, 34.221960789000036 ], [ 44.390199728000027, 34.221960789000036 ], [ 44.404625140000064, 34.223286098000074 ], [ 44.420653376000075, 34.229912327000079 ], [ 44.428667494000081, 34.248462996000058 ], [ 44.43828443600006, 34.264360315000033 ], [ 44.451107025000056, 34.274956859000042 ], [ 44.467135261000067, 34.282903390000058 ], [ 44.479957850000062, 34.28820066000003 ], [ 44.491177615000026, 34.301442375000079 ], [ 44.491177615000026, 34.319977269000049 ], [ 44.491469970000026, 34.358827946000076 ], [ 44.479652672000043, 34.365873222000062 ], [ 44.471774473000039, 34.377794646000041 ], [ 44.473087507000059, 34.392964914000061 ], [ 44.479652672000043, 34.402715778000072 ], [ 44.488843904000078, 34.41138225800006 ], [ 44.492783003000056, 34.420047841000041 ], [ 44.503287268000065, 34.432503043000054 ], [ 44.501974235000034, 34.44874616900006 ], [ 44.499348169000029, 34.455783876000055 ], [ 44.495409069000061, 34.464444856000057 ], [ 44.49409603600003, 34.473104936000027 ], [ 44.489574791000052, 34.499817398000062 ], [ 44.507205851000037, 34.510384183000042 ], [ 44.516822793000074, 34.519629021000071 ], [ 44.520028440000033, 34.531513733000054 ], [ 44.516822793000074, 34.542076498000029 ], [ 44.510411498000053, 34.548677545000032 ], [ 44.507205851000037, 34.560558111000034 ], [ 44.505603027000063, 34.579035619000024 ], [ 44.507205851000037, 34.59882839200003 ], [ 44.513617145000069, 34.606744181000067 ], [ 44.528042558000038, 34.609382609000079 ], [ 44.540865147000034, 34.610701792000043 ], [ 44.55368773500004, 34.609382609000079 ], [ 44.576127266000071, 34.596189628000047 ], [ 44.595361149000041, 34.577715933000036 ], [ 44.611389385000052, 34.560558111000034 ], [ 44.635431739000069, 34.543396749000067 ], [ 44.657871270000044, 34.540756226000042 ], [ 44.669091035000065, 34.555278069000053 ], [ 44.675502329000039, 34.571117190000052 ], [ 44.680310800000029, 34.589592351000078 ], [ 44.683516447000045, 34.609382609000079 ], [ 44.68672209500005, 34.623892468000065 ], [ 44.699544683000056, 34.63312469300007 ], [ 44.723587038000062, 34.643674550000071 ], [ 44.725189861000047, 34.70299248300006 ], [ 44.729998332000036, 34.738562847000026 ], [ 44.742820921000032, 34.754366984000058 ], [ 44.757246333000069, 34.764901396000027 ], [ 44.776480217000028, 34.782016948000035 ], [ 44.797316923000039, 34.801761250000027 ], [ 44.814947983000081, 34.855704882000055 ], [ 44.869443986000078, 34.867541436000067 ], [ 44.901500458000044, 34.867541436000067 ], [ 44.912720223000065, 34.872801580000043 ], [ 44.91432304600005, 34.895153438000079 ], [ 44.92073434100007, 34.918813484000054 ], [ 44.933556930000066, 34.938524980000068 ], [ 44.936762577000081, 34.958231740000031 ], [ 44.931954106000035, 34.98187359800005 ], [ 44.931954106000035, 35.002882854000063 ], [ 44.923939988000029, 35.030449317000034 ], [ 44.903103281000028, 35.052758219000054 ], [ 44.879060927000069, 35.071125681000069 ], [ 44.840593161000072, 35.089489010000079 ], [ 44.80853668900005, 35.09473491600005 ], [ 44.768466098000033, 35.09473491600005 ], [ 44.68672209500005, 35.102603142000078 ], [ 44.649857152000038, 35.102603142000078 ], [ 44.609786562000068, 35.10391443900005 ], [ 44.56971597200004, 35.11047060900006 ], [ 44.544070794000049, 35.120959384000059 ], [ 44.528042558000038, 35.131446808000078 ], [ 44.507205851000037, 35.149796551000065 ], [ 44.490068760000042, 35.157969887000036 ], [ 44.487971968000068, 35.158969871000068 ], [ 44.473546555000041, 35.135379244000035 ], [ 44.467135261000067, 35.109159418000047 ], [ 44.460723966000046, 35.07374926600005 ], [ 44.451107025000056, 35.05013395800006 ], [ 44.414242082000044, 34.988439570000025 ], [ 44.380582786000048, 34.930640950000054 ], [ 44.318072666000035, 34.810973640000043 ], [ 44.271590781000043, 34.749099274000059 ], [ 44.252356898000073, 34.743831228000033 ], [ 44.229917367000041, 34.753050088000066 ], [ 44.212286308000046, 34.770168098000056 ], [ 44.19305242400003, 34.783333382000023 ], [ 44.175421365000034, 34.795180341000048 ], [ 44.154584658000033, 34.804393466000079 ], [ 44.140159246000053, 34.814921491000064 ], [ 44.106499950000057, 34.841235669000071 ], [ 44.05200394700006, 34.878061388000049 ], [ 44.024755946000028, 34.888579993000064 ], [ 44.000713592000068, 34.893838791000064 ], [ 43.963848649000056, 34.900411815000041 ], [ 43.928586530000075, 34.906984313000066 ], [ 43.906146999000043, 34.916184927000074 ], [ 43.883707469000058, 34.937211028000036 ], [ 43.869282056000031, 34.952977067000063 ], [ 43.853253820000077, 34.973993737000058 ], [ 43.805169112000044, 35.018636257000026 ], [ 43.774715464000053, 35.051446099000032 ], [ 43.750673110000037, 35.067190144000051 ], [ 43.72182228500003, 35.077684487000056 ], [ 43.689765813000065, 35.085554358000024 ], [ 43.665723459000048, 35.093423471000051 ], [ 43.632064163000052, 35.101291824000043 ], [ 43.616035927000041, 35.106536971000025 ], [ 43.579170984000029, 35.120959384000059 ], [ 43.556731453000054, 35.131446808000078 ], [ 43.513455216000068, 35.14586481200007 ], [ 43.441328154000075, 35.164211304000048 ], [ 43.420491447000074, 35.16683189400004 ], [ 43.399654740000074, 35.170762620000062 ], [ 43.374009563000072, 35.17862350300004 ], [ 43.353172856000072, 35.189103497000076 ], [ 43.345158738000066, 35.20482095400007 ], [ 43.337144620000061, 35.223154144000034 ], [ 43.324322031000065, 35.241483192000032 ], [ 43.301882500000033, 35.283362607000072 ], [ 43.289059911000038, 35.304294196000058 ], [ 43.282648617000063, 35.319989336000049 ], [ 43.274634499000058, 35.34221890200007 ], [ 43.266620381000052, 35.360521013000039 ], [ 43.253797792000057, 35.382739429000026 ], [ 43.239372380000077, 35.402338833000044 ], [ 43.224946967000051, 35.465024908000032 ], [ 43.232961085000056, 35.472857236000038 ], [ 43.252194969000072, 35.481993987000067 ], [ 43.271428852000042, 35.485909420000041 ], [ 43.303485324000064, 35.492434717000037 ], [ 43.319513560000075, 35.497654573000034 ], [ 43.340350267000076, 35.502874090000034 ], [ 43.357981326000072, 35.510702730000048 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.369201092000026, 35.52896658800006 ], [ 43.361186974000077, 35.540705445000071 ], [ 43.351570032000041, 35.548530395000057 ], [ 43.332336149000071, 35.556354581000051 ], [ 43.314705089000029, 35.568089429000054 ], [ 43.309896618000039, 35.578518963000079 ], [ 43.309896618000039, 35.591553970000064 ], [ 43.313102266000044, 35.603283662000024 ], [ 43.321116384000049, 35.620223516000067 ], [ 43.329130502000055, 35.63455443600003 ], [ 43.33554179600003, 35.646277823000048 ], [ 43.340350267000076, 35.657999491000055 ], [ 43.341953090000061, 35.672323637000034 ], [ 43.343555914000035, 35.691852421000078 ], [ 43.341953090000061, 35.711376425000026 ], [ 43.33554179600003, 35.725690990000032 ], [ 43.322277968000037, 35.738325517000078 ], [ 43.321116384000049, 35.732196760000079 ], [ 43.317910736000044, 35.721787273000075 ], [ 43.300279677000049, 35.707472007000035 ], [ 43.273031675000027, 35.694455898000058 ], [ 43.248989321000067, 35.686645213000077 ], [ 43.221741320000035, 35.677531780000038 ], [ 43.191287672000044, 35.663208568000073 ], [ 43.164039670000079, 35.648882787000048 ], [ 43.09832390300005, 35.637159782000026 ], [ 42.997346015000062, 35.637159782000026 ], [ 42.885148363000042, 35.556354581000051 ], [ 42.859503185000051, 35.542009656000062 ], [ 42.83866647900004, 35.526357720000078 ], [ 42.81462412500008, 35.501569243000063 ], [ 42.796993065000038, 35.478078364000055 ], [ 42.795390241000064, 35.404951727000025 ], [ 42.805007183000043, 35.381432633000031 ], [ 42.809815654000033, 35.364442355000051 ], [ 42.809815654000033, 35.340911450000078 ], [ 42.816226948000065, 35.323912644000075 ], [ 42.84347494900004, 35.295137292000049 ], [ 42.905985070000042, 35.228391437000028 ], [ 42.973303661000045, 35.143243547000054 ], [ 42.995743192000077, 35.105471578000049 ], [ 42.419728459000055, 35.095226702000048 ], [ 42.422232871000062, 34.931133724000063 ], [ 42.442268166000076, 34.558660635000024 ], [ 42.770346122000035, 34.374895940000044 ], [ 42.923115247000055, 34.515336902000058 ], [ 42.920610835000048, 34.228007339000044 ], [ 42.998247604000028, 34.147212816000035 ], [ 43.045831429000032, 34.12233739800007 ], [ 43.103432903000055, 34.08708469100003 ], [ 43.115954962000046, 34.055967167000063 ], [ 43.115954962000046, 34.022762546000024 ], [ 43.183574083000053, 34.004079235000063 ], [ 43.183574083000053, 33.968777321000061 ], [ 43.326325560000043, 33.84406520400006 ], [ 43.521669687000042, 33.79621054200004 ], [ 43.551722630000029, 33.79412929700004 ], [ 43.571757925000043, 33.792048002000058 ], [ 43.60181086700004, 33.792048002000058 ], [ 43.629359398000076, 33.792048002000058 ], [ 43.671934400000055, 33.789966656000047 ], [ 43.70449175400006, 33.773314066000069 ], [ 43.732040285000039, 33.750411470000074 ], [ 44.020047652000073, 33.742081736000046 ], [ 44.045091770000056, 33.725419841000075 ], [ 44.072640301000035, 33.700420932000043 ], [ 44.082657949000065, 33.671246343000064 ], [ 44.082657949000065, 33.631636423000032 ], [ 44.10519765600003, 33.614953109000055 ], [ 44.132746186000077, 33.598266566000063 ], [ 44.165303541000071, 33.577403846000038 ], [ 44.215391778000026, 33.508521089000055 ], [ 44.260471192000068, 33.433313682000062 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Diyala", "shapeISO": "IQ-DI", "shapeID": "90741666B43715208964458", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.568113148000066, 33.129567433000034 ], [ 44.579525252000053, 33.115391987000066 ], [ 44.582602673000054, 33.107658961000027 ], [ 44.591834937000044, 33.113673596000069 ], [ 44.608247851000044, 33.118828669000038 ], [ 44.634918836000054, 33.116251170000055 ], [ 44.647228521000045, 33.105940419000035 ], [ 44.644151100000045, 33.08789369200008 ], [ 44.645176907000064, 33.071562508000056 ], [ 44.656460785000036, 33.062965931000065 ], [ 44.673899506000055, 33.057807582000066 ], [ 44.693389841000055, 33.06124651500005 ], [ 44.706725333000065, 33.067264325000053 ], [ 44.719035019000046, 33.069843260000027 ], [ 44.732370511000056, 33.073281723000036 ], [ 44.749809232000075, 33.092190867000056 ], [ 44.792893130000039, 33.130855997000026 ], [ 44.830847993000077, 33.159199607000062 ], [ 44.844183486000077, 33.183241550000048 ], [ 44.855467364000049, 33.208993454000051 ], [ 44.862648013000069, 33.229589525000051 ], [ 44.87085447000004, 33.252754308000078 ], [ 44.892396420000068, 33.282773592000069 ], [ 44.906757719000041, 33.291348635000077 ], [ 44.944712582000079, 33.300780209000038 ], [ 44.97035776000007, 33.306781589000025 ], [ 44.999080359000061, 33.311068036000052 ], [ 45.018570694000061, 33.321354649000057 ], [ 45.042164257000081, 33.325640379000049 ], [ 45.101661069000045, 33.307638895000025 ], [ 45.140641739000046, 33.293920984000067 ], [ 45.171415953000064, 33.282773592000069 ], [ 45.191932095000027, 33.273340072000053 ], [ 45.218603080000037, 33.26047453800004 ], [ 45.238093415000037, 33.249322875000075 ], [ 45.253480521000029, 33.23988574200007 ], [ 45.270919242000048, 33.227873371000044 ], [ 45.293486998000049, 33.220150261000072 ], [ 45.332467668000049, 33.21757573900004 ], [ 45.41042900900004, 33.215859350000073 ], [ 45.45453871400008, 33.206418605000067 ], [ 45.468900014000042, 33.198693601000059 ], [ 45.495570998000062, 33.198693601000059 ], [ 45.525319405000062, 33.186675574000049 ], [ 45.547887161000062, 33.175514502000055 ], [ 45.565325882000081, 33.16692809400007 ], [ 45.578661374000035, 33.159199607000062 ], [ 45.600203323000073, 33.155764506000025 ], [ 45.619693658000074, 33.160917107000046 ], [ 45.641235608000045, 33.17379728700007 ], [ 45.679190471000027, 33.203843679000045 ], [ 45.692525963000037, 33.220150261000072 ], [ 45.718171141000028, 33.249322875000075 ], [ 45.727403405000075, 33.265620979000062 ], [ 45.738687283000047, 33.292206093000061 ], [ 45.746893740000075, 33.312782555000069 ], [ 45.757151811000028, 33.334211208000056 ], [ 45.769461496000076, 33.347922779000044 ], [ 45.789977638000039, 33.350493459000063 ], [ 45.817674430000068, 33.352207203000034 ], [ 45.84537122200004, 33.368486089000044 ], [ 45.853577679000068, 33.387331520000032 ], [ 45.86178413600004, 33.399321941000039 ], [ 45.87511962800005, 33.426722405000078 ], [ 45.887429313000041, 33.450690718000033 ], [ 45.89460996300005, 33.458393412000078 ], [ 45.917177719000051, 33.466951159000075 ], [ 45.940771283000061, 33.475508061000028 ], [ 45.966416461000051, 33.48577522800008 ], [ 45.982829374000062, 33.500318298000025 ], [ 45.992061638000052, 33.514858925000055 ], [ 46.001293902000043, 33.529397109000058 ], [ 46.015655202000062, 33.538802866000026 ], [ 46.019319516000053, 33.538320615000032 ], [ 46.001037450000069, 33.562796940000055 ], [ 45.978497743000048, 33.569057345000033 ], [ 45.963471272000049, 33.556536081000047 ], [ 45.943435977000036, 33.539838239000062 ], [ 45.923400682000079, 33.53357571600003 ], [ 45.888338916000066, 33.535663274000058 ], [ 45.895852151000042, 33.554449027000032 ], [ 45.915887446000056, 33.575317296000037 ], [ 45.938427153000077, 33.589922083000033 ], [ 45.958462448000034, 33.598266566000063 ], [ 45.978497743000048, 33.61703870000008 ], [ 45.970984508000072, 33.633721610000066 ], [ 45.945940389000043, 33.64206185300003 ], [ 45.920896270000071, 33.658739917000048 ], [ 45.920896270000071, 33.671246343000064 ], [ 45.915887446000056, 33.685834875000069 ], [ 45.888338916000066, 33.685834875000069 ], [ 45.855781561000072, 33.685834875000069 ], [ 45.813206559000037, 33.677498874000037 ], [ 45.798180088000038, 33.660824447000039 ], [ 45.778144793000081, 33.648316506000072 ], [ 45.753100674000052, 33.664993357000071 ], [ 45.775640381000073, 33.679582950000054 ], [ 45.773135969000066, 33.687918749000062 ], [ 45.758109498000067, 33.698337362000075 ], [ 45.725552143000073, 33.717087680000077 ], [ 45.708021260000066, 33.733751193000046 ], [ 45.685481553000045, 33.746246704000043 ], [ 45.670455082000046, 33.762904554000045 ], [ 45.657933023000055, 33.783722314000045 ], [ 45.655428611000048, 33.798291736000067 ], [ 45.642906551000067, 33.819100895000076 ], [ 45.620366844000046, 33.833664294000073 ], [ 45.602835961000039, 33.848225213000035 ], [ 45.587809490000041, 33.879418825000073 ], [ 45.577791842000067, 33.900208234000047 ], [ 45.557756547000054, 33.925148836000062 ], [ 45.542730076000055, 33.943849496000041 ], [ 45.522694781000041, 33.981238494000024 ], [ 45.522241983000072, 34.000129472000026 ], [ 45.500700034000033, 34.005231906000063 ], [ 45.478132278000032, 33.999279036000075 ], [ 45.462745171000051, 33.988222599000039 ], [ 45.439151608000032, 33.991624733000037 ], [ 45.43094515100006, 34.004381522000074 ], [ 45.42786772900007, 34.009483701000079 ], [ 45.415558044000079, 34.029039215000068 ], [ 45.435048379000079, 34.047740273000045 ], [ 45.455564521000042, 34.055389518000027 ], [ 45.467874207000079, 34.06303807200004 ], [ 45.47402904900008, 34.075784128000066 ], [ 45.485312927000052, 34.089377808000052 ], [ 45.488390349000042, 34.098722197000029 ], [ 45.492493577000062, 34.120804832000033 ], [ 45.503777455000034, 34.138636599000051 ], [ 45.515061333000062, 34.153069083000048 ], [ 45.527371019000043, 34.159011154000041 ], [ 45.541732318000072, 34.168347849000043 ], [ 45.554042004000053, 34.177683511000055 ], [ 45.577635567000073, 34.179380794000053 ], [ 45.584816217000025, 34.187018141000067 ], [ 45.583790410000063, 34.193806314000028 ], [ 45.580712988000073, 34.216712363000056 ], [ 45.571480724000025, 34.22264995200004 ], [ 45.562248460000035, 34.234523875000036 ], [ 45.560196846000053, 34.247244077000062 ], [ 45.564300075000062, 34.254027399000051 ], [ 45.574558146000072, 34.260810174000028 ], [ 45.574558146000072, 34.273526403000062 ], [ 45.577635567000073, 34.289630866000039 ], [ 45.595074288000035, 34.299800516000062 ], [ 45.597125902000073, 34.31759444000005 ], [ 45.597125902000073, 34.326913562000072 ], [ 45.593022674000053, 34.344701739000072 ], [ 45.584816217000025, 34.357405271000061 ], [ 45.573532339000053, 34.365873222000062 ], [ 45.560196846000053, 34.376880279000034 ], [ 45.559171039000034, 34.381113377000077 ], [ 45.532500054000081, 34.387039356000059 ], [ 45.518138755000052, 34.387885890000064 ], [ 45.486338734000071, 34.396350760000075 ], [ 45.481209699000033, 34.403968411000051 ], [ 45.473003242000061, 34.412431654000045 ], [ 45.47402904900008, 34.423432590000061 ], [ 45.476080663000062, 34.441200276000075 ], [ 45.473003242000061, 34.458964184000024 ], [ 45.455564521000042, 34.476724313000034 ], [ 45.44735806400007, 34.491098793000049 ], [ 45.44735806400007, 34.503780100000029 ], [ 45.461719364000032, 34.513923756000054 ], [ 45.482235506000052, 34.516459478000058 ], [ 45.501725841000052, 34.518995122000035 ], [ 45.520190369000034, 34.524066178000055 ], [ 45.527371019000043, 34.534207365000043 ], [ 45.529422633000081, 34.551106599000036 ], [ 45.529422633000081, 34.611071160000051 ], [ 45.535577476000071, 34.626266567000073 ], [ 45.543783932000053, 34.639771260000032 ], [ 45.558145232000072, 34.637239297000065 ], [ 45.567377496000063, 34.614448157000027 ], [ 45.579687181000054, 34.603472413000077 ], [ 45.602254938000044, 34.595028545000048 ], [ 45.621745273000045, 34.592495218000067 ], [ 45.672009821000074, 34.594184111000061 ], [ 45.704835648000028, 34.594184111000061 ], [ 45.723300176000066, 34.584894771000052 ], [ 45.736635669000066, 34.577293630000042 ], [ 45.741764704000047, 34.587428331000069 ], [ 45.741764704000047, 34.606849720000071 ], [ 45.740738897000028, 34.622045899000057 ], [ 45.738687283000047, 34.636395293000078 ], [ 45.738687283000047, 34.656649034000054 ], [ 45.733558247000076, 34.669305109000049 ], [ 45.723300176000066, 34.68195925200007 ], [ 45.721248562000028, 34.700515162000045 ], [ 45.717145334000065, 34.708105018000026 ], [ 45.705861455000047, 34.724968870000055 ], [ 45.697654999000065, 34.738457476000065 ], [ 45.682267892000027, 34.744358048000038 ], [ 45.669958207000036, 34.75447233500006 ], [ 45.668932400000074, 34.767113452000046 ], [ 45.674061435000056, 34.780595176000077 ], [ 45.682267892000027, 34.789020135000044 ], [ 45.690474349000056, 34.799128949000078 ], [ 45.697654999000065, 34.80502518600008 ], [ 45.703809841000066, 34.813447649000068 ], [ 45.704835648000028, 34.837025965000066 ], [ 45.706887262000066, 34.857230578000042 ], [ 45.720222755000066, 34.864806028000032 ], [ 45.741764704000047, 34.868172671000025 ], [ 45.754074389000039, 34.869014311000058 ], [ 45.775616339000067, 34.877430229000026 ], [ 45.788951831000077, 34.88836963500006 ], [ 45.795106674000067, 34.89762491700003 ], [ 45.794080867000048, 34.911926485000038 ], [ 45.794531307000057, 34.942209687000059 ], [ 45.795106674000067, 34.980875524000055 ], [ 45.791003445000058, 35.003565564000041 ], [ 45.78279698800003, 35.016168424000057 ], [ 45.771513110000058, 35.038008780000041 ], [ 45.771513110000058, 35.119438595000076 ], [ 45.771513110000058, 35.155510341000024 ], [ 45.764332460000048, 35.172282450000068 ], [ 45.747919547000038, 35.174797968000064 ], [ 45.733558247000076, 35.16725118100004 ], [ 45.723300176000066, 35.159703692000051 ], [ 45.706887262000066, 35.158026378000045 ], [ 45.702784034000047, 35.143767806000028 ], [ 45.697654999000065, 35.128667773000075 ], [ 45.684319506000065, 35.104334050000034 ], [ 45.667906592000065, 35.095941426000024 ], [ 45.652519486000074, 35.088387326000031 ], [ 45.637132379000036, 35.076635113000066 ], [ 45.630977537000035, 35.060682973000041 ], [ 45.608409780000045, 35.043048034000037 ], [ 45.607383973000026, 35.025409287000059 ], [ 45.618667851000055, 35.009447140000077 ], [ 45.628925922000064, 35.001885036000033 ], [ 45.630977537000035, 34.990960763000032 ], [ 45.615590430000054, 34.97835402000004 ], [ 45.612513009000054, 34.956497735000028 ], [ 45.601229130000036, 34.950612354000043 ], [ 45.580712988000073, 34.943044816000054 ], [ 45.563274268000043, 34.925384509000025 ], [ 45.544809740000062, 34.910244077000073 ], [ 45.540706511000053, 34.877430229000026 ], [ 45.535577476000071, 34.865647702000047 ], [ 45.526345212000081, 34.857230578000042 ], [ 45.514035526000043, 34.847128892000057 ], [ 45.501725841000052, 34.837025965000066 ], [ 45.48736454200008, 34.822711364000043 ], [ 45.479158085000051, 34.80502518600008 ], [ 45.476080663000062, 34.788177677000078 ], [ 45.469925821000061, 34.755315136000036 ], [ 45.469925821000061, 34.734242523000034 ], [ 45.446332257000051, 34.715694177000046 ], [ 45.421712887000069, 34.698828433000074 ], [ 45.39811932300006, 34.696298275000061 ], [ 45.369396724000069, 34.696298275000061 ], [ 45.350932196000031, 34.692924611000024 ], [ 45.337596704000077, 34.681115702000056 ], [ 45.326312826000049, 34.670148779000044 ], [ 45.306822491000048, 34.652429912000059 ], [ 45.284254734000058, 34.633863227000063 ], [ 45.266816014000028, 34.637239297000065 ], [ 45.258609557000057, 34.649054461000048 ], [ 45.251428907000047, 34.66086794000006 ], [ 45.252454714000066, 34.679428578000056 ], [ 45.251428907000047, 34.698828433000074 ], [ 45.249377293000066, 34.714850971000033 ], [ 45.243222450000076, 34.723282640000036 ], [ 45.240145029000075, 34.735928530000024 ], [ 45.236041800000066, 34.755315136000036 ], [ 45.224757922000038, 34.768798788000026 ], [ 45.213474044000066, 34.775539787000071 ], [ 45.205267587000037, 34.78480776300006 ], [ 45.207319201000075, 34.801655959000072 ], [ 45.200138552000055, 34.812605441000073 ], [ 45.195009516000027, 34.828605913000047 ], [ 45.195009516000027, 34.842077583000048 ], [ 45.187828866000075, 34.853863487000069 ], [ 45.168338531000074, 34.864806028000032 ], [ 45.151925618000064, 34.863964346000046 ], [ 45.140641739000046, 34.853021693000073 ], [ 45.117048176000026, 34.847970746000044 ], [ 45.106790105000073, 34.842077583000048 ], [ 45.091402998000035, 34.83618399900007 ], [ 45.081144927000025, 34.847128892000057 ], [ 45.077041699000063, 34.860597531000053 ], [ 45.067809435000072, 34.872380781000061 ], [ 45.060628785000063, 34.884162343000071 ], [ 45.046267486000033, 34.895100853000031 ], [ 45.030880379000052, 34.899307584000042 ], [ 45.012415851000071, 34.886686744000031 ], [ 44.997028744000033, 34.874063965000062 ], [ 44.982667445000061, 34.865647702000047 ], [ 44.95702226700007, 34.861439248000067 ], [ 44.941635161000079, 34.863122655000041 ], [ 44.928299668000079, 34.865647702000047 ], [ 44.912720223000065, 34.872801580000043 ], [ 44.901500458000044, 34.867541436000067 ], [ 44.869443986000078, 34.867541436000067 ], [ 44.814947983000081, 34.855704882000055 ], [ 44.797316923000039, 34.801761250000027 ], [ 44.776480217000028, 34.782016948000035 ], [ 44.757246333000069, 34.764901396000027 ], [ 44.742820921000032, 34.754366984000058 ], [ 44.729998332000036, 34.738562847000026 ], [ 44.725189861000047, 34.70299248300006 ], [ 44.723587038000062, 34.643674550000071 ], [ 44.699544683000056, 34.63312469300007 ], [ 44.68672209500005, 34.623892468000065 ], [ 44.683516447000045, 34.609382609000079 ], [ 44.680310800000029, 34.589592351000078 ], [ 44.675502329000039, 34.571117190000052 ], [ 44.669091035000065, 34.555278069000053 ], [ 44.657871270000044, 34.540756226000042 ], [ 44.635431739000069, 34.543396749000067 ], [ 44.611389385000052, 34.560558111000034 ], [ 44.595361149000041, 34.577715933000036 ], [ 44.576127266000071, 34.596189628000047 ], [ 44.55368773500004, 34.609382609000079 ], [ 44.540865147000034, 34.610701792000043 ], [ 44.528042558000038, 34.609382609000079 ], [ 44.513617145000069, 34.606744181000067 ], [ 44.507205851000037, 34.59882839200003 ], [ 44.505603027000063, 34.579035619000024 ], [ 44.507205851000037, 34.560558111000034 ], [ 44.510411498000053, 34.548677545000032 ], [ 44.516822793000074, 34.542076498000029 ], [ 44.520028440000033, 34.531513733000054 ], [ 44.516822793000074, 34.519629021000071 ], [ 44.507205851000037, 34.510384183000042 ], [ 44.489574791000052, 34.499817398000062 ], [ 44.49409603600003, 34.473104936000027 ], [ 44.495409069000061, 34.464444856000057 ], [ 44.499348169000029, 34.455783876000055 ], [ 44.501974235000034, 34.44874616900006 ], [ 44.503287268000065, 34.432503043000054 ], [ 44.492783003000056, 34.420047841000041 ], [ 44.488843904000078, 34.41138225800006 ], [ 44.479652672000043, 34.402715778000072 ], [ 44.473087507000059, 34.392964914000061 ], [ 44.471774473000039, 34.377794646000041 ], [ 44.479652672000043, 34.365873222000062 ], [ 44.491469970000026, 34.358827946000076 ], [ 44.491177615000026, 34.319977269000049 ], [ 44.491177615000026, 34.301442375000079 ], [ 44.479957850000062, 34.28820066000003 ], [ 44.467135261000067, 34.282903390000058 ], [ 44.451107025000056, 34.274956859000042 ], [ 44.43828443600006, 34.264360315000033 ], [ 44.428667494000081, 34.248462996000058 ], [ 44.420653376000075, 34.229912327000079 ], [ 44.404625140000064, 34.223286098000074 ], [ 44.390199728000027, 34.221960789000036 ], [ 44.370965845000057, 34.221960789000036 ], [ 44.362951727000052, 34.211357571000065 ], [ 44.350129138000057, 34.198101672000064 ], [ 44.33089525400004, 34.162300335000054 ], [ 44.324483960000066, 34.145057236000071 ], [ 44.319675489000076, 34.133117645000027 ], [ 44.306852900000081, 34.119849453000029 ], [ 44.300441606000049, 34.101270487000079 ], [ 44.300441606000049, 34.084014937000063 ], [ 44.300441606000049, 34.073394389000043 ], [ 44.300441606000049, 34.062772509000069 ], [ 44.314867018000029, 34.056133157000033 ], [ 44.340512196000077, 34.053477271000077 ], [ 44.359746079000047, 34.052149297000028 ], [ 44.382185610000079, 34.046837192000055 ], [ 44.395008199000074, 34.037540207000063 ], [ 44.406227964000038, 34.024257033000026 ], [ 44.419050553000034, 34.016286130000026 ], [ 44.427064671000039, 34.002999629000044 ], [ 44.439887260000035, 33.997684446000051 ], [ 44.455915496000046, 33.98971104900005 ], [ 44.45751831900003, 33.976420391000033 ], [ 44.460723966000046, 33.94850324500004 ], [ 44.444695730000035, 33.939195494000046 ], [ 44.439887260000035, 33.932546477000074 ], [ 44.431873142000029, 33.905945219000046 ], [ 44.420653376000075, 33.888649948000079 ], [ 44.40302231700008, 33.87401274900003 ], [ 44.386994081000068, 33.863365936000037 ], [ 44.385391257000038, 33.848724401000027 ], [ 44.385391257000038, 33.834080355000026 ], [ 44.383788433000063, 33.81410715800007 ], [ 44.385391257000038, 33.799457183000072 ], [ 44.406227964000038, 33.788801080000042 ], [ 44.414242082000044, 33.776811379000037 ], [ 44.41744772900006, 33.763487520000069 ], [ 44.414242082000044, 33.751494276000074 ], [ 44.401419493000049, 33.739499354000031 ], [ 44.398213846000033, 33.714171233000059 ], [ 44.391802551000069, 33.678165784000043 ], [ 44.386994081000068, 33.670162525000023 ], [ 44.364554550000037, 33.667494606000048 ], [ 44.346923490000052, 33.66616061600007 ], [ 44.33089525400004, 33.650151118000053 ], [ 44.33089525400004, 33.631469606000053 ], [ 44.327689607000025, 33.608779465000055 ], [ 44.32127831300005, 33.599434729000052 ], [ 44.306852900000081, 33.584748099000024 ], [ 44.310058548000029, 33.532657175000054 ], [ 44.314867018000029, 33.521967975000052 ], [ 44.32127831300005, 33.516622879000067 ], [ 44.327689607000025, 33.50860461700006 ], [ 44.344299115000069, 33.494493901000055 ], [ 44.345320667000067, 33.495239195000067 ], [ 44.55368773500004, 33.492565863000038 ], [ 44.590552678000051, 33.457805036000025 ], [ 44.593758326000057, 33.437744371000065 ], [ 44.595361149000041, 33.409651647000032 ], [ 44.598566796000057, 33.385564935000048 ], [ 44.596963973000072, 33.329336652000052 ], [ 44.598566796000057, 33.318622385000026 ], [ 44.592155502000026, 33.306567261000055 ], [ 44.580935737000061, 33.295850195000071 ], [ 44.56490750100005, 33.289151361000052 ], [ 44.542467970000075, 33.283791923000024 ], [ 44.523234087000048, 33.279772128000047 ], [ 44.479957850000062, 33.275752148000038 ], [ 44.483163497000078, 33.275752148000038 ], [ 44.492780439000057, 33.256989796000028 ], [ 44.492780439000057, 33.240904572000034 ], [ 44.495986086000073, 33.224816388000079 ], [ 44.507205851000037, 33.212748308000073 ], [ 44.528042558000038, 33.202019728000039 ], [ 44.545673617000034, 33.192631142000039 ], [ 44.556893383000045, 33.176534082000046 ], [ 44.566510324000035, 33.142989042000067 ], [ 44.568113148000066, 33.129567433000034 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Kirkuk", "shapeISO": "IQ-KI", "shapeID": "90741666B18027903150762", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.490068760000042, 35.157969887000036 ], [ 44.530947676000039, 35.173055456000043 ], [ 44.553487383000061, 35.177149645000043 ], [ 44.591053561000081, 35.183290542000066 ], [ 44.606080032000079, 35.18943097500005 ], [ 44.621106503000078, 35.201710449000075 ], [ 44.641141798000035, 35.222172114000045 ], [ 44.658672682000031, 35.236492210000051 ], [ 44.676203565000037, 35.252854939000031 ], [ 44.681212389000052, 35.273303707000025 ], [ 44.686221212000078, 35.29579139100008 ], [ 44.693734448000043, 35.326446347000058 ], [ 44.706256507000035, 35.338705076000053 ], [ 44.716274155000065, 35.357089683000027 ], [ 44.728796214000056, 35.377512117000038 ], [ 44.756344745000035, 35.40201221600006 ], [ 44.771371216000034, 35.414259474000062 ], [ 44.78890209900004, 35.426504871000077 ], [ 44.811441806000062, 35.436707947000059 ], [ 44.82646827800005, 35.455070225000043 ], [ 44.82646827800005, 35.471388733000026 ], [ 44.818955042000027, 35.493821274000027 ], [ 44.793910923000055, 35.524401013000045 ], [ 44.778884452000057, 35.546818752000036 ], [ 44.756344745000035, 35.57534135800006 ], [ 44.751335921000077, 35.591635432000032 ], [ 44.74883150900007, 35.620142083000076 ], [ 44.74883150900007, 35.652708673000063 ], [ 44.763857981000058, 35.66695238300008 ], [ 44.776380040000049, 35.681193552000025 ], [ 44.781388864000064, 35.699499892000063 ], [ 44.763857981000058, 35.713735252000049 ], [ 44.746327097000062, 35.732034122000073 ], [ 44.731300626000063, 35.748296255000071 ], [ 44.716274155000065, 35.762522896000064 ], [ 44.706256507000035, 35.782842257000027 ], [ 44.716274155000065, 35.807218636000073 ], [ 44.738813862000029, 35.821434736000072 ], [ 44.738813862000029, 35.841739035000046 ], [ 44.731300626000063, 35.862038138000059 ], [ 44.71126533100005, 35.876244418000056 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.696238860000051, 35.884361148000039 ], [ 44.666185917000064, 35.896534685000063 ], [ 44.638637387000074, 35.902620751000029 ], [ 44.621583343000054, 35.907651546000068 ], [ 44.600041394000073, 35.907651546000068 ], [ 44.576447831000053, 35.904328011000075 ], [ 44.566189760000043, 35.895187572000054 ], [ 44.557983303000071, 35.890201433000072 ], [ 44.543622003000053, 35.870253737000041 ], [ 44.517976826000051, 35.868591203000051 ], [ 44.506692947000033, 35.874409922000041 ], [ 44.487202612000033, 35.881059363000077 ], [ 44.468738084000051, 35.881059363000077 ], [ 44.44309290700005, 35.881059363000077 ], [ 44.41334450100004, 35.880228213000066 ], [ 44.391802551000069, 35.869422474000032 ], [ 44.372312216000068, 35.85196393700005 ], [ 44.348718653000049, 35.848638065000046 ], [ 44.298454105000076, 35.850301019000028 ], [ 44.262550856000075, 35.854458249000061 ], [ 44.244086328000037, 35.86194071500006 ], [ 44.105602369000053, 35.864434713000037 ], [ 44.095344298000043, 35.856121080000037 ], [ 44.075853962000053, 35.836996416000034 ], [ 44.060466856000062, 35.826184783000031 ], [ 44.035847485000033, 35.820362525000064 ], [ 44.018408765000061, 35.821194302000038 ], [ 44.008150693000061, 35.830343278000043 ], [ 44.000970044000042, 35.833669917000066 ], [ 43.985582937000061, 35.842817454000055 ], [ 43.97224744500005, 35.84946954600008 ], [ 43.953782917000069, 35.853626821000034 ], [ 43.94044742400007, 35.861109365000061 ], [ 43.915828054000031, 35.866097335000063 ], [ 43.89326029700004, 35.866097335000063 ], [ 43.838892521000048, 35.867759922000062 ], [ 43.829660257000057, 35.857783877000031 ], [ 43.816324764000058, 35.84032277600005 ], [ 43.804015079000067, 35.831174951000037 ], [ 43.793757008000057, 35.818698944000062 ], [ 43.779395709000028, 35.805389042000058 ], [ 43.773240866000037, 35.786252150000053 ], [ 43.765034409000066, 35.770439937000049 ], [ 43.755802145000075, 35.747964541000044 ], [ 43.748621495000066, 35.716321747000052 ], [ 43.738363424000056, 35.692997962000049 ], [ 43.738363424000056, 35.672167387000059 ], [ 43.735286003000056, 35.657999491000055 ], [ 43.726053739000065, 35.644662703000051 ], [ 43.720924703000037, 35.625487170000042 ], [ 43.713744054000074, 35.609643043000062 ], [ 43.711692440000036, 35.59880051600004 ], [ 43.704511790000026, 35.563760774000059 ], [ 43.695279526000036, 35.556250264000028 ], [ 43.685021455000026, 35.545400506000078 ], [ 43.683995648000064, 35.52787087400003 ], [ 43.682969841000045, 35.504492072000062 ], [ 43.669634348000045, 35.501151687000061 ], [ 43.648092399000063, 35.502821897000047 ], [ 43.636808521000034, 35.511172424000051 ], [ 43.629627871000025, 35.519522083000027 ], [ 43.614240764000044, 35.52870570500005 ], [ 43.599879465000072, 35.529540527000051 ], [ 43.575260094000043, 35.527036034000048 ], [ 43.552692338000043, 35.525366328000075 ], [ 43.547563302000071, 35.517017277000036 ], [ 43.546537495000052, 35.50198679600004 ], [ 43.546537495000052, 35.484447681000063 ], [ 43.544485881000071, 35.459385160000068 ], [ 43.53525361700008, 35.448522309000055 ], [ 43.527047160000052, 35.460220703000061 ], [ 43.516789089000042, 35.467740202000073 ], [ 43.510634247000041, 35.476929745000064 ], [ 43.507556825000052, 35.486953503000052 ], [ 43.49216971900006, 35.496140850000074 ], [ 43.473705191000079, 35.501151687000061 ], [ 43.466524541000069, 35.491964913000061 ], [ 43.460369698000079, 35.471081975000061 ], [ 43.44908582000005, 35.466069263000065 ], [ 43.43267290600005, 35.469411106000052 ], [ 43.424466450000068, 35.476094375000059 ], [ 43.415234186000077, 35.48945924700007 ], [ 43.408053536000068, 35.498646308000048 ], [ 43.390614815000049, 35.51200742900005 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.357981326000072, 35.510702730000048 ], [ 43.340350267000076, 35.502874090000034 ], [ 43.319513560000075, 35.497654573000034 ], [ 43.303485324000064, 35.492434717000037 ], [ 43.271428852000042, 35.485909420000041 ], [ 43.252194969000072, 35.481993987000067 ], [ 43.232961085000056, 35.472857236000038 ], [ 43.224946967000051, 35.465024908000032 ], [ 43.239372380000077, 35.402338833000044 ], [ 43.253797792000057, 35.382739429000026 ], [ 43.266620381000052, 35.360521013000039 ], [ 43.274634499000058, 35.34221890200007 ], [ 43.282648617000063, 35.319989336000049 ], [ 43.289059911000038, 35.304294196000058 ], [ 43.301882500000033, 35.283362607000072 ], [ 43.324322031000065, 35.241483192000032 ], [ 43.337144620000061, 35.223154144000034 ], [ 43.345158738000066, 35.20482095400007 ], [ 43.353172856000072, 35.189103497000076 ], [ 43.374009563000072, 35.17862350300004 ], [ 43.399654740000074, 35.170762620000062 ], [ 43.420491447000074, 35.16683189400004 ], [ 43.441328154000075, 35.164211304000048 ], [ 43.513455216000068, 35.14586481200007 ], [ 43.556731453000054, 35.131446808000078 ], [ 43.579170984000029, 35.120959384000059 ], [ 43.616035927000041, 35.106536971000025 ], [ 43.632064163000052, 35.101291824000043 ], [ 43.665723459000048, 35.093423471000051 ], [ 43.689765813000065, 35.085554358000024 ], [ 43.72182228500003, 35.077684487000056 ], [ 43.750673110000037, 35.067190144000051 ], [ 43.774715464000053, 35.051446099000032 ], [ 43.805169112000044, 35.018636257000026 ], [ 43.853253820000077, 34.973993737000058 ], [ 43.869282056000031, 34.952977067000063 ], [ 43.883707469000058, 34.937211028000036 ], [ 43.906146999000043, 34.916184927000074 ], [ 43.928586530000075, 34.906984313000066 ], [ 43.963848649000056, 34.900411815000041 ], [ 44.000713592000068, 34.893838791000064 ], [ 44.024755946000028, 34.888579993000064 ], [ 44.05200394700006, 34.878061388000049 ], [ 44.106499950000057, 34.841235669000071 ], [ 44.140159246000053, 34.814921491000064 ], [ 44.154584658000033, 34.804393466000079 ], [ 44.175421365000034, 34.795180341000048 ], [ 44.19305242400003, 34.783333382000023 ], [ 44.212286308000046, 34.770168098000056 ], [ 44.229917367000041, 34.753050088000066 ], [ 44.252356898000073, 34.743831228000033 ], [ 44.271590781000043, 34.749099274000059 ], [ 44.318072666000035, 34.810973640000043 ], [ 44.380582786000048, 34.930640950000054 ], [ 44.414242082000044, 34.988439570000025 ], [ 44.451107025000056, 35.05013395800006 ], [ 44.460723966000046, 35.07374926600005 ], [ 44.467135261000067, 35.109159418000047 ], [ 44.473546555000041, 35.135379244000035 ], [ 44.487971968000068, 35.158969871000068 ], [ 44.490068760000042, 35.157969887000036 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Erbil", "shapeISO": "IQ-AR", "shapeID": "90741666B26956950402634", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 43.322277968000037, 35.738325517000078 ], [ 43.33554179600003, 35.725690990000032 ], [ 43.341953090000061, 35.711376425000026 ], [ 43.343555914000035, 35.691852421000078 ], [ 43.341953090000061, 35.672323637000034 ], [ 43.340350267000076, 35.657999491000055 ], [ 43.33554179600003, 35.646277823000048 ], [ 43.329130502000055, 35.63455443600003 ], [ 43.321116384000049, 35.620223516000067 ], [ 43.313102266000044, 35.603283662000024 ], [ 43.309896618000039, 35.591553970000064 ], [ 43.309896618000039, 35.578518963000079 ], [ 43.314705089000029, 35.568089429000054 ], [ 43.332336149000071, 35.556354581000051 ], [ 43.351570032000041, 35.548530395000057 ], [ 43.361186974000077, 35.540705445000071 ], [ 43.369201092000026, 35.52896658800006 ], [ 43.370803915000067, 35.518530607000059 ], [ 43.390614815000049, 35.51200742900005 ], [ 43.408053536000068, 35.498646308000048 ], [ 43.415234186000077, 35.48945924700007 ], [ 43.424466450000068, 35.476094375000059 ], [ 43.43267290600005, 35.469411106000052 ], [ 43.44908582000005, 35.466069263000065 ], [ 43.460369698000079, 35.471081975000061 ], [ 43.466524541000069, 35.491964913000061 ], [ 43.473705191000079, 35.501151687000061 ], [ 43.49216971900006, 35.496140850000074 ], [ 43.507556825000052, 35.486953503000052 ], [ 43.510634247000041, 35.476929745000064 ], [ 43.516789089000042, 35.467740202000073 ], [ 43.527047160000052, 35.460220703000061 ], [ 43.53525361700008, 35.448522309000055 ], [ 43.544485881000071, 35.459385160000068 ], [ 43.546537495000052, 35.484447681000063 ], [ 43.546537495000052, 35.50198679600004 ], [ 43.547563302000071, 35.517017277000036 ], [ 43.552692338000043, 35.525366328000075 ], [ 43.575260094000043, 35.527036034000048 ], [ 43.599879465000072, 35.529540527000051 ], [ 43.614240764000044, 35.52870570500005 ], [ 43.629627871000025, 35.519522083000027 ], [ 43.636808521000034, 35.511172424000051 ], [ 43.648092399000063, 35.502821897000047 ], [ 43.669634348000045, 35.501151687000061 ], [ 43.682969841000045, 35.504492072000062 ], [ 43.683995648000064, 35.52787087400003 ], [ 43.685021455000026, 35.545400506000078 ], [ 43.695279526000036, 35.556250264000028 ], [ 43.704511790000026, 35.563760774000059 ], [ 43.711692440000036, 35.59880051600004 ], [ 43.713744054000074, 35.609643043000062 ], [ 43.720924703000037, 35.625487170000042 ], [ 43.726053739000065, 35.644662703000051 ], [ 43.735286003000056, 35.657999491000055 ], [ 43.738363424000056, 35.672167387000059 ], [ 43.738363424000056, 35.692997962000049 ], [ 43.748621495000066, 35.716321747000052 ], [ 43.755802145000075, 35.747964541000044 ], [ 43.765034409000066, 35.770439937000049 ], [ 43.773240866000037, 35.786252150000053 ], [ 43.779395709000028, 35.805389042000058 ], [ 43.793757008000057, 35.818698944000062 ], [ 43.804015079000067, 35.831174951000037 ], [ 43.816324764000058, 35.84032277600005 ], [ 43.829660257000057, 35.857783877000031 ], [ 43.838892521000048, 35.867759922000062 ], [ 43.89326029700004, 35.866097335000063 ], [ 43.915828054000031, 35.866097335000063 ], [ 43.94044742400007, 35.861109365000061 ], [ 43.953782917000069, 35.853626821000034 ], [ 43.97224744500005, 35.84946954600008 ], [ 43.985582937000061, 35.842817454000055 ], [ 44.000970044000042, 35.833669917000066 ], [ 44.008150693000061, 35.830343278000043 ], [ 44.018408765000061, 35.821194302000038 ], [ 44.035847485000033, 35.820362525000064 ], [ 44.060466856000062, 35.826184783000031 ], [ 44.075853962000053, 35.836996416000034 ], [ 44.095344298000043, 35.856121080000037 ], [ 44.105602369000053, 35.864434713000037 ], [ 44.244086328000037, 35.86194071500006 ], [ 44.262550856000075, 35.854458249000061 ], [ 44.298454105000076, 35.850301019000028 ], [ 44.348718653000049, 35.848638065000046 ], [ 44.372312216000068, 35.85196393700005 ], [ 44.391802551000069, 35.869422474000032 ], [ 44.41334450100004, 35.880228213000066 ], [ 44.44309290700005, 35.881059363000077 ], [ 44.468738084000051, 35.881059363000077 ], [ 44.487202612000033, 35.881059363000077 ], [ 44.506692947000033, 35.874409922000041 ], [ 44.517976826000051, 35.868591203000051 ], [ 44.543622003000053, 35.870253737000041 ], [ 44.557983303000071, 35.890201433000072 ], [ 44.566189760000043, 35.895187572000054 ], [ 44.576447831000053, 35.904328011000075 ], [ 44.600041394000073, 35.907651546000068 ], [ 44.621583343000054, 35.907651546000068 ], [ 44.638637387000074, 35.902620751000029 ], [ 44.666185917000064, 35.896534685000063 ], [ 44.696238860000051, 35.884361148000039 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.726792685000078, 35.90116013800008 ], [ 44.749232215000063, 35.903756765000026 ], [ 44.776480217000028, 35.902458462000027 ], [ 44.790905629000065, 35.886877166000033 ], [ 44.80853668900005, 35.885578586000065 ], [ 44.819756454000071, 35.89336974500003 ], [ 44.832579043000067, 35.898563425000077 ], [ 44.855018573000052, 35.882981363000056 ], [ 44.864635515000032, 35.895966628000053 ], [ 44.874252456000079, 35.908949763000066 ], [ 44.887075045000074, 35.914142421000065 ], [ 44.909514576000049, 35.899861792000024 ], [ 44.911117399000034, 35.910247960000049 ], [ 44.911117399000034, 35.920632764000061 ], [ 44.903103281000028, 35.932314039000062 ], [ 44.880663751000043, 35.94139828200008 ], [ 44.863032691000058, 35.949183945000073 ], [ 44.845401632000062, 35.964752970000063 ], [ 44.797316923000039, 35.986803835000046 ], [ 44.779685864000044, 36.001068758000031 ], [ 44.760451980000028, 36.012738140000067 ], [ 44.746026568000048, 36.024405795000064 ], [ 44.736409626000068, 36.041256024000063 ], [ 44.725189861000047, 36.054215286000044 ], [ 44.712367272000051, 36.064581159000056 ], [ 44.693133389000025, 36.082718151000051 ], [ 44.659474093000028, 36.112505557000077 ], [ 44.635431739000069, 36.122863746000064 ], [ 44.622609150000073, 36.137104026000031 ], [ 44.598566796000057, 36.157812547000049 ], [ 44.593758326000057, 36.169458687000031 ], [ 44.593758326000057, 36.183690508000041 ], [ 44.595361149000041, 36.204386725000063 ], [ 44.603375267000047, 36.239299183000071 ], [ 44.622609150000073, 36.241884671000037 ], [ 44.70114750700003, 36.244470074000048 ], [ 44.734806803000026, 36.245762743000057 ], [ 44.738012450000042, 36.258688259000053 ], [ 44.733203979000052, 36.279364637000072 ], [ 44.709161625000036, 36.28970077300005 ], [ 44.68191362400006, 36.293576471000051 ], [ 44.664282564000075, 36.300035540000067 ], [ 44.659474093000028, 36.320700966000061 ], [ 44.65145997500008, 36.33748759100007 ], [ 44.630623268000079, 36.33877872000005 ], [ 44.612992209000026, 36.327157788000079 ], [ 44.595361149000041, 36.318118087000073 ], [ 44.571318795000025, 36.325866467000026 ], [ 44.572921619000056, 36.454892656000027 ], [ 44.611612498000056, 36.455637289000038 ], [ 44.616208114000074, 36.458805510000047 ], [ 44.628025412000056, 36.464613578000069 ], [ 44.64115574300007, 36.474116751000054 ], [ 44.644438326000056, 36.485730158000024 ], [ 44.668072921000032, 36.50736868000007 ], [ 44.67398157000008, 36.518977102000065 ], [ 44.691051001000062, 36.523725500000069 ], [ 44.712716047000072, 36.526363373000038 ], [ 44.729785477000064, 36.525308235000068 ], [ 44.744228841000051, 36.515811342000063 ], [ 44.75998523800007, 36.496286290000057 ], [ 44.784276351000074, 36.484146614000053 ], [ 44.815132628000072, 36.484146614000053 ], [ 44.84073677400005, 36.497341824000046 ], [ 44.853867105000063, 36.505257871000026 ], [ 44.884066866000069, 36.520032327000024 ], [ 44.901792813000043, 36.526363373000038 ], [ 44.925427408000076, 36.52847360700008 ], [ 44.964161885000067, 36.527418497000042 ], [ 44.997644229000059, 36.530056244000036 ], [ 45.002239845000076, 36.533748939000077 ], [ 45.003450298000075, 36.534721539000031 ], [ 45.007491977000029, 36.537968945000046 ], [ 45.010118043000034, 36.545880837000027 ], [ 45.01865275800003, 36.551154981000025 ], [ 45.029157023000039, 36.556428766000067 ], [ 45.038348255000074, 36.560120201000075 ], [ 45.042287354000052, 36.569084381000039 ], [ 45.040974321000078, 36.580156343000056 ], [ 45.038348255000074, 36.587009619000071 ], [ 45.033752639000056, 36.596497766000027 ], [ 45.048196003000044, 36.608619812000029 ], [ 45.056074202000048, 36.613362703000064 ], [ 45.065921950000075, 36.619686104000039 ], [ 45.071174082000027, 36.627062749000061 ], [ 45.071174082000027, 36.632858189000046 ], [ 45.070517566000035, 36.642867468000077 ], [ 45.071174082000027, 36.651822037000045 ], [ 45.071830599000066, 36.666568468000037 ], [ 45.064608917000044, 36.689209273000074 ], [ 45.058043751000071, 36.696579260000078 ], [ 45.052135102000079, 36.702369468000029 ], [ 45.042943871000034, 36.719737476000034 ], [ 45.036378705000061, 36.729735457000061 ], [ 45.027843990000065, 36.739732137000033 ], [ 45.004209394000043, 36.746045159000062 ], [ 44.998300745000051, 36.747097278000069 ], [ 44.981231315000059, 36.752357661000076 ], [ 44.972696600000063, 36.759721591000073 ], [ 44.962192335000054, 36.766558892000035 ], [ 44.949062004000041, 36.772343825000064 ], [ 44.934618640000053, 36.773921459000064 ], [ 44.922801342000071, 36.77339558500006 ], [ 44.904418879000048, 36.773921459000064 ], [ 44.886692932000074, 36.772869707000041 ], [ 44.855836654000029, 36.770766160000051 ], [ 44.845332390000067, 36.779180002000032 ], [ 44.843362840000054, 36.792324781000048 ], [ 44.858462720000034, 36.819133138000041 ], [ 44.871593051000048, 36.828592670000035 ], [ 44.893258098000047, 36.844881345000033 ], [ 44.903762362000066, 36.85381237100006 ], [ 44.910984044000031, 36.866419103000055 ], [ 44.912297077000062, 36.881649462000041 ], [ 44.908357978000026, 36.897401810000076 ], [ 44.89982326300003, 36.907376615000032 ], [ 44.895884164000051, 36.917350117000069 ], [ 44.896540680000044, 36.929421558000058 ], [ 44.89522764700007, 36.969820733000063 ], [ 44.896540680000044, 36.983981603000075 ], [ 44.887349449000055, 37.003382960000067 ], [ 44.878158217000077, 37.00600438500004 ], [ 44.855180138000037, 37.01439233800005 ], [ 44.842706323000073, 37.020158519000063 ], [ 44.804628364000052, 37.023827680000068 ], [ 44.792154549000031, 37.03955064400003 ], [ 44.778367702000025, 37.063128987000027 ], [ 44.767863437000074, 37.075177311000061 ], [ 44.751450523000074, 37.086176283000043 ], [ 44.759328722000078, 37.094031715000028 ], [ 44.771802536000052, 37.101886332000049 ], [ 44.781650284000079, 37.112357889000066 ], [ 44.780337251000049, 37.12858594000005 ], [ 44.770489503000078, 37.135390216000076 ], [ 44.745541874000025, 37.13696034700007 ], [ 44.720594245000029, 37.135390216000076 ], [ 44.706150881000042, 37.134866832000057 ], [ 44.681859769000027, 37.140100510000025 ], [ 44.666759888000058, 37.142717214000072 ], [ 44.658225173000062, 37.147427052000069 ], [ 44.644438326000056, 37.148473643000045 ], [ 44.618177664000029, 37.147950349000041 ], [ 44.592573518000052, 37.142193880000036 ], [ 44.581412737000051, 37.133296658000063 ], [ 44.568282406000037, 37.121257573000037 ], [ 44.55515207500008, 37.111310798000034 ], [ 44.545304327000053, 37.098220946000026 ], [ 44.530860963000066, 37.093508045000078 ], [ 44.505256817000031, 37.083033883000041 ], [ 44.490813453000044, 37.066796071000056 ], [ 44.475713573000064, 37.056318218000058 ], [ 44.455361560000028, 37.044790909000028 ], [ 44.42516179900008, 37.036930376000043 ], [ 44.412031468000066, 37.032737759000042 ], [ 44.364105760000029, 37.032213666000075 ], [ 44.353601495000078, 37.026972533000048 ], [ 44.350318912000034, 37.00914997600006 ], [ 44.337188581000078, 36.982932740000024 ], [ 44.322745217000033, 36.976114778000067 ], [ 44.310927919000051, 36.960903278000046 ], [ 44.297797588000037, 36.955657228000064 ], [ 44.279415125000071, 36.955657228000064 ], [ 44.257750079000061, 36.959854097000061 ], [ 44.255124012000067, 36.964050734000068 ], [ 44.248558847000027, 36.986603697000078 ], [ 44.239367615000049, 36.99394508000006 ], [ 44.236741549000044, 37.001810061000072 ], [ 44.234115483000039, 37.015964977000067 ], [ 44.22886335100003, 37.025400123000054 ], [ 44.217046053000047, 37.031689569000036 ], [ 44.201289656000029, 37.058413905000066 ], [ 44.194724490000056, 37.074653511000065 ], [ 44.196694040000068, 37.094555382000067 ], [ 44.210480887000074, 37.106075129000033 ], [ 44.221641669000064, 37.114975552000033 ], [ 44.227550317000066, 37.121781051000028 ], [ 44.260376145000066, 37.12230452600005 ], [ 44.270880410000075, 37.128062508000028 ], [ 44.272193443000049, 37.14114720300006 ], [ 44.27810209200004, 37.171494978000055 ], [ 44.270880410000075, 37.193463347000034 ], [ 44.264315244000045, 37.207582496000043 ], [ 44.251184913000031, 37.219607837000069 ], [ 44.24068064800008, 37.229540367000027 ], [ 44.226893801000074, 37.237903589000041 ], [ 44.209167854000043, 37.243130132000033 ], [ 44.185533258000078, 37.24992409500004 ], [ 44.170433378000041, 37.253582129000051 ], [ 44.162555179000037, 37.257239986000059 ], [ 44.147455299000057, 37.268212490000053 ], [ 44.131042385000057, 37.275526605000039 ], [ 44.115942504000031, 37.279705780000029 ], [ 44.090994875000035, 37.284407075000047 ], [ 44.058415242000081, 37.281338207000033 ], [ 44.066621699000052, 37.270726798000055 ], [ 44.075853963000043, 37.257664547000047 ], [ 44.087137841000072, 37.247866373000079 ], [ 44.091241069000034, 37.242966808000062 ], [ 44.092266876000053, 37.152267413000061 ], [ 44.086112033000063, 37.152267413000061 ], [ 44.076879770000062, 37.152267413000061 ], [ 44.057389434000072, 37.150632191000057 ], [ 44.047437990000049, 37.146432883000045 ], [ 44.035975711000049, 37.133869121000032 ], [ 44.031167240000059, 37.122367915000041 ], [ 44.019947475000038, 37.109586749000073 ], [ 43.999110768000037, 37.092968006000035 ], [ 43.975068414000077, 37.076345619000051 ], [ 43.954231707000076, 37.063556686000027 ], [ 43.939806295000039, 37.052044804000047 ], [ 43.91576394100008, 37.039251774000036 ], [ 43.893324410000048, 37.027736205000053 ], [ 43.867679233000047, 37.017498677000049 ], [ 43.853253820000077, 37.003419824000048 ], [ 43.82860239300004, 36.981477214000051 ], [ 43.832737678000058, 36.980376076000027 ], [ 43.855305435000048, 36.968083223000065 ], [ 43.889157069000078, 36.954968657000052 ], [ 43.91993128200005, 36.94677090700003 ], [ 43.948653881000041, 36.935292574000073 ], [ 43.974299059000032, 36.926272671000049 ], [ 43.996866815000033, 36.913150907000045 ], [ 44.020460379000042, 36.894284416000062 ], [ 44.025589414000081, 36.880336620000037 ], [ 44.044053942000062, 36.87131021700003 ], [ 44.053286206000053, 36.858999768000047 ], [ 44.058415242000081, 36.842582750000076 ], [ 44.075853962000053, 36.839298924000047 ], [ 44.104576561000044, 36.835193942000046 ], [ 44.122015282000064, 36.824519959000042 ], [ 44.132273353000073, 36.817129407000039 ], [ 44.156892724000045, 36.815486965000048 ], [ 44.192795973000045, 36.801524785000026 ], [ 44.207157272000074, 36.79577491200007 ], [ 44.234854064000046, 36.788381584000035 ], [ 44.259473435000075, 36.775236128000074 ], [ 44.267679891000057, 36.749760392000042 ], [ 44.271783120000066, 36.741540608000037 ], [ 44.283066998000038, 36.733319943000026 ], [ 44.296402490000048, 36.725098398000057 ], [ 44.302557333000038, 36.716053681000062 ], [ 44.298454105000076, 36.707007900000065 ], [ 44.288196034000066, 36.69960601400004 ], [ 44.276912155000048, 36.694671028000073 ], [ 44.267679891000057, 36.684800104000033 ], [ 44.257421820000047, 36.674105174000033 ], [ 44.250241171000027, 36.663408756000024 ], [ 44.235879871000066, 36.646949827000071 ], [ 44.229725029000065, 36.640365270000075 ], [ 44.212286308000046, 36.63542648300006 ], [ 44.194847587000027, 36.623901416000024 ], [ 44.181512094000027, 36.609904374000052 ], [ 44.170228216000055, 36.603316652000046 ], [ 44.151763688000074, 36.602493147000075 ], [ 44.141505617000064, 36.592610403000037 ], [ 44.126118511000072, 36.586844884000072 ], [ 44.115860440000063, 36.59837549100007 ], [ 44.106628176000072, 36.595904791000066 ], [ 44.092266876000053, 36.588492219000045 ], [ 44.066621699000052, 36.588492219000045 ], [ 44.046105556000043, 36.604140148000056 ], [ 44.029692643000033, 36.60002257900004 ], [ 44.014305536000052, 36.593434013000035 ], [ 43.980453902000079, 36.567074122000065 ], [ 43.961989374000041, 36.551418679000051 ], [ 43.95275711000005, 36.539056878000054 ], [ 43.94249903900004, 36.530814580000026 ], [ 43.927111932000059, 36.525044448000074 ], [ 43.918905475000031, 36.511853959000064 ], [ 43.90044094700005, 36.497011971000063 ], [ 43.87376996200004, 36.493713365000076 ], [ 43.864537698000049, 36.487940467000044 ], [ 43.866589313000077, 36.468969343000026 ], [ 43.859408663000067, 36.456594370000062 ], [ 43.846073171000057, 36.452468939000028 ], [ 43.828634450000038, 36.443392221000067 ], [ 43.823505414000067, 36.431838497000058 ], [ 43.815298957000039, 36.407900313000027 ], [ 43.811195729000076, 36.389735390000055 ], [ 43.806066693000048, 36.378173683000057 ], [ 43.789653780000037, 36.365784232000067 ], [ 43.773240866000037, 36.350088096000036 ], [ 43.756827952000037, 36.333562427000061 ], [ 43.740415039000027, 36.317033253000034 ], [ 43.721950511000045, 36.302980698000056 ], [ 43.709640825000065, 36.294713306000062 ], [ 43.683995648000064, 36.282310575000054 ], [ 43.657324663000054, 36.273213987000076 ], [ 43.625524643000062, 36.246745157000078 ], [ 43.619369800000072, 36.239299183000071 ], [ 43.588787926000066, 36.206973367000046 ], [ 43.579170984000029, 36.194039300000043 ], [ 43.56474557100006, 36.182396813000025 ], [ 43.542306041000074, 36.157812547000049 ], [ 43.540703217000043, 36.144870362000063 ], [ 43.529483452000079, 36.128042329000039 ], [ 43.518263687000058, 36.102146001000051 ], [ 43.511852393000026, 36.084013490000075 ], [ 43.505441098000063, 36.068468009000071 ], [ 43.492618509000067, 36.047735922000072 ], [ 43.479795920000072, 36.034775593000063 ], [ 43.463767684000061, 36.026998373000026 ], [ 43.442930978000049, 36.021813132000034 ], [ 43.418888623000043, 36.016627550000067 ], [ 43.402860387000032, 36.007551961000047 ], [ 43.401257564000048, 35.997178580000025 ], [ 43.407668858000079, 35.979021880000062 ], [ 43.415682976000028, 35.959563636000041 ], [ 43.417285800000059, 35.93620741400008 ], [ 43.417285800000059, 35.925824655000042 ], [ 43.406066035000038, 35.912844289000077 ], [ 43.391640622000068, 35.902458462000027 ], [ 43.378818033000073, 35.886877166000033 ], [ 43.367598268000052, 35.869993969000063 ], [ 43.353172856000072, 35.838815537000073 ], [ 43.351570032000041, 35.819322791000047 ], [ 43.349967208000066, 35.797225225000034 ], [ 43.33554179600003, 35.78162324200008 ], [ 43.327527678000081, 35.766018196000061 ], [ 43.322277968000037, 35.738325517000078 ] ] ] } },
{ "type": "Feature", "properties": { "shapeName": "Al-Sulaimaniyah", "shapeISO": "IQ-SU", "shapeID": "90741666B75227633199275", "shapeGroup": "IRQ", "shapeType": "ADM1" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 44.912720223000065, 34.872801580000043 ], [ 44.928299668000079, 34.865647702000047 ], [ 44.941635161000079, 34.863122655000041 ], [ 44.95702226700007, 34.861439248000067 ], [ 44.982667445000061, 34.865647702000047 ], [ 44.997028744000033, 34.874063965000062 ], [ 45.012415851000071, 34.886686744000031 ], [ 45.030880379000052, 34.899307584000042 ], [ 45.046267486000033, 34.895100853000031 ], [ 45.060628785000063, 34.884162343000071 ], [ 45.067809435000072, 34.872380781000061 ], [ 45.077041699000063, 34.860597531000053 ], [ 45.081144927000025, 34.847128892000057 ], [ 45.091402998000035, 34.83618399900007 ], [ 45.106790105000073, 34.842077583000048 ], [ 45.117048176000026, 34.847970746000044 ], [ 45.140641739000046, 34.853021693000073 ], [ 45.151925618000064, 34.863964346000046 ], [ 45.168338531000074, 34.864806028000032 ], [ 45.187828866000075, 34.853863487000069 ], [ 45.195009516000027, 34.842077583000048 ], [ 45.195009516000027, 34.828605913000047 ], [ 45.200138552000055, 34.812605441000073 ], [ 45.207319201000075, 34.801655959000072 ], [ 45.205267587000037, 34.78480776300006 ], [ 45.213474044000066, 34.775539787000071 ], [ 45.224757922000038, 34.768798788000026 ], [ 45.236041800000066, 34.755315136000036 ], [ 45.240145029000075, 34.735928530000024 ], [ 45.243222450000076, 34.723282640000036 ], [ 45.249377293000066, 34.714850971000033 ], [ 45.251428907000047, 34.698828433000074 ], [ 45.252454714000066, 34.679428578000056 ], [ 45.251428907000047, 34.66086794000006 ], [ 45.258609557000057, 34.649054461000048 ], [ 45.266816014000028, 34.637239297000065 ], [ 45.284254734000058, 34.633863227000063 ], [ 45.306822491000048, 34.652429912000059 ], [ 45.326312826000049, 34.670148779000044 ], [ 45.337596704000077, 34.681115702000056 ], [ 45.350932196000031, 34.692924611000024 ], [ 45.369396724000069, 34.696298275000061 ], [ 45.39811932300006, 34.696298275000061 ], [ 45.421712887000069, 34.698828433000074 ], [ 45.446332257000051, 34.715694177000046 ], [ 45.469925821000061, 34.734242523000034 ], [ 45.469925821000061, 34.755315136000036 ], [ 45.476080663000062, 34.788177677000078 ], [ 45.479158085000051, 34.80502518600008 ], [ 45.48736454200008, 34.822711364000043 ], [ 45.501725841000052, 34.837025965000066 ], [ 45.514035526000043, 34.847128892000057 ], [ 45.526345212000081, 34.857230578000042 ], [ 45.535577476000071, 34.865647702000047 ], [ 45.540706511000053, 34.877430229000026 ], [ 45.544809740000062, 34.910244077000073 ], [ 45.563274268000043, 34.925384509000025 ], [ 45.580712988000073, 34.943044816000054 ], [ 45.601229130000036, 34.950612354000043 ], [ 45.612513009000054, 34.956497735000028 ], [ 45.615590430000054, 34.97835402000004 ], [ 45.630977537000035, 34.990960763000032 ], [ 45.628925922000064, 35.001885036000033 ], [ 45.618667851000055, 35.009447140000077 ], [ 45.607383973000026, 35.025409287000059 ], [ 45.608409780000045, 35.043048034000037 ], [ 45.630977537000035, 35.060682973000041 ], [ 45.637132379000036, 35.076635113000066 ], [ 45.652519486000074, 35.088387326000031 ], [ 45.667906592000065, 35.095941426000024 ], [ 45.684319506000065, 35.104334050000034 ], [ 45.697654999000065, 35.128667773000075 ], [ 45.702784034000047, 35.143767806000028 ], [ 45.706887262000066, 35.158026378000045 ], [ 45.723300176000066, 35.159703692000051 ], [ 45.733558247000076, 35.16725118100004 ], [ 45.747919547000038, 35.174797968000064 ], [ 45.764332460000048, 35.172282450000068 ], [ 45.771513110000058, 35.155510341000024 ], [ 45.771513110000058, 35.119438595000076 ], [ 45.771513110000058, 35.038008780000041 ], [ 45.78279698800003, 35.016168424000057 ], [ 45.791003445000058, 35.003565564000041 ], [ 45.795106674000067, 34.980875524000055 ], [ 45.794531307000057, 34.942209687000059 ], [ 45.820751851000068, 34.940522147000024 ], [ 45.836138958000049, 34.938840326000047 ], [ 45.847422836000078, 34.933794653000064 ], [ 45.856655100000069, 34.929589689000068 ], [ 45.862809943000059, 34.932112693000079 ], [ 45.869990592000079, 34.944726551000031 ], [ 45.87511962800005, 34.957338469000035 ], [ 45.87819704900005, 34.975832439000044 ], [ 45.887429313000041, 34.989279976000034 ], [ 45.895635770000069, 34.997683565000045 ], [ 45.90179061300006, 35.010287331000029 ], [ 45.90179061300006, 35.022049094000067 ], [ 45.88845512000006, 35.041368317000035 ], [ 45.88127447100004, 35.05060633100004 ], [ 45.882300278000059, 35.060682973000041 ], [ 45.88537769900006, 35.072437484000034 ], [ 45.899738999000078, 35.082511431000057 ], [ 45.919229334000079, 35.08335087100005 ], [ 45.932564826000032, 35.085869137000032 ], [ 45.936668054000052, 35.103494827000077 ], [ 45.938719669000079, 35.122794781000039 ], [ 45.953080968000052, 35.120277655000052 ], [ 45.975648724000052, 35.106012471000042 ], [ 45.987958410000033, 35.097620020000079 ], [ 46.007448745000033, 35.095941426000024 ], [ 46.021810044000063, 35.094262798000045 ], [ 46.035145537000062, 35.088387326000031 ], [ 46.047455222000053, 35.075795605000053 ], [ 46.068997171000035, 35.078314104000071 ], [ 46.077203628000063, 35.094262798000045 ], [ 46.077203628000063, 35.110208373000034 ], [ 46.084384278000073, 35.120277655000052 ], [ 46.106952034000074, 35.115243169000053 ], [ 46.135674633000065, 35.114404058000048 ], [ 46.159716987000081, 35.127514183000073 ], [ 46.156511340000066, 35.132757642000058 ], [ 46.14849722200006, 35.144554190000065 ], [ 46.16292263400004, 35.172072820000039 ], [ 46.164525458000071, 35.183863669000061 ], [ 46.175745223000035, 35.191723284000034 ], [ 46.191773459000046, 35.196962606000056 ], [ 46.186964989000046, 35.206130605000055 ], [ 46.177348047000066, 35.217916512000045 ], [ 46.159716987000081, 35.225772833000065 ], [ 46.137277457000039, 35.221844768000039 ], [ 46.135674633000065, 35.225772833000065 ], [ 46.124454868000043, 35.23362839300006 ], [ 46.124454868000043, 35.24410129000006 ], [ 46.132468986000049, 35.261116863000041 ], [ 46.145291575000044, 35.274203334000049 ], [ 46.15330569300005, 35.289904310000054 ], [ 46.14368875100007, 35.300369935000049 ], [ 46.129263339000033, 35.319989336000049 ], [ 46.114837926000064, 35.339603976000035 ], [ 46.098809690000053, 35.346141132000071 ], [ 46.082781454000042, 35.353985021000028 ], [ 46.074767336000036, 35.368363506000037 ], [ 46.057136277000041, 35.384046204000072 ], [ 46.04110804000004, 35.395806228000026 ], [ 46.023476981000044, 35.414096189000077 ], [ 46.010654392000049, 35.427157907000037 ], [ 45.996228980000069, 35.463719446000027 ], [ 45.988214862000063, 35.476773114000025 ], [ 45.978597920000027, 35.495044688000064 ], [ 45.986612038000032, 35.510702730000048 ], [ 46.002640274000044, 35.515921399000035 ], [ 46.009051568000075, 35.526357720000078 ], [ 45.997831803000054, 35.542009656000062 ], [ 45.989817685000048, 35.548530395000057 ], [ 45.972186625000063, 35.561570282000048 ], [ 45.972571303000052, 35.576276728000039 ], [ 45.988984217000052, 35.577111055000046 ], [ 45.993087445000072, 35.574608047000027 ], [ 46.011551973000053, 35.568767390000062 ], [ 46.015655202000062, 35.574608047000027 ], [ 46.011551973000053, 35.592127462000064 ], [ 46.011551973000053, 35.601302768000039 ], [ 46.014629395000043, 35.61881634100007 ], [ 46.011551973000053, 35.629656156000067 ], [ 45.988984217000052, 35.628822376000073 ], [ 45.986932603000071, 35.637159782000026 ], [ 45.998216481000043, 35.646329923000053 ], [ 46.010526166000034, 35.652998456000034 ], [ 46.014629395000043, 35.663000212000043 ], [ 46.017706816000043, 35.674667343000067 ], [ 46.028990694000072, 35.683833179000032 ], [ 46.046429415000034, 35.691331716000036 ], [ 46.064893943000072, 35.695497265000029 ], [ 46.093616542000063, 35.692997962000049 ], [ 46.114132684000026, 35.693831071000034 ], [ 46.127468176000036, 35.699662597000042 ], [ 46.145932704000074, 35.699662597000042 ], [ 46.158242390000055, 35.694664173000035 ], [ 46.170552075000046, 35.701328668000031 ], [ 46.179784339000037, 35.711324368000078 ], [ 46.203377902000057, 35.720485991000032 ], [ 46.217739202000075, 35.720485991000032 ], [ 46.241332765000038, 35.721318814000028 ], [ 46.251590836000048, 35.726315567000029 ], [ 46.274158593000038, 35.734642792000045 ], [ 46.282365049000077, 35.740471331000037 ], [ 46.287494085000048, 35.750462120000066 ], [ 46.308010227000068, 35.760451656000043 ], [ 46.315190877000077, 35.765445953000039 ], [ 46.326474755000049, 35.774601350000069 ], [ 46.340836055000068, 35.787084285000049 ], [ 46.340836055000068, 35.799565259000076 ], [ 46.33570701900004, 35.815371678000076 ], [ 46.328526369000031, 35.823689582000043 ], [ 46.314165070000058, 35.828679906000048 ], [ 46.270055364000029, 35.816203507000068 ], [ 46.260823100000039, 35.807052902000066 ], [ 46.229023080000047, 35.808716727000046 ], [ 46.210558552000066, 35.806220976000077 ], [ 46.193119831000047, 35.803725148000069 ], [ 46.172603689000027, 35.806220976000077 ], [ 46.151061740000046, 35.817867141000079 ], [ 46.143881090000036, 35.827848207000045 ], [ 46.141829476000055, 35.84032277600005 ], [ 46.129519791000064, 35.842817454000055 ], [ 46.107977841000036, 35.848638065000046 ], [ 46.095668156000045, 35.857783877000031 ], [ 46.063868136000053, 35.860278006000044 ], [ 46.039248765000025, 35.846975077000025 ], [ 46.014629395000043, 35.838659614000051 ], [ 45.995139060000042, 35.838659614000051 ], [ 45.969493882000052, 35.845312054000033 ], [ 45.953080968000052, 35.842817454000055 ], [ 45.93769386200006, 35.830343278000043 ], [ 45.928461598000069, 35.829511597000078 ], [ 45.903842227000041, 35.838659614000051 ], [ 45.86178413600004, 35.818698944000062 ], [ 45.85562929300005, 35.815371678000076 ], [ 45.83511315100003, 35.816203507000068 ], [ 45.822803466000039, 35.814539839000076 ], [ 45.807416359000058, 35.821194302000038 ], [ 45.785874410000076, 35.816203507000068 ], [ 45.777667953000048, 35.802893187000052 ], [ 45.762280846000067, 35.801229240000055 ], [ 45.743816318000029, 35.818698944000062 ], [ 45.737661476000028, 35.828679906000048 ], [ 45.728429212000037, 35.852795383000057 ], [ 45.719196948000047, 35.86277205600004 ], [ 45.712016298000037, 35.869422474000032 ], [ 45.705861455000047, 35.880228213000066 ], [ 45.698680806000027, 35.88937037900007 ], [ 45.684319506000065, 35.898511490000033 ], [ 45.676113049000037, 35.905989796000028 ], [ 45.670984014000055, 35.918452068000079 ], [ 45.645338836000064, 35.945862156000032 ], [ 45.637132379000036, 35.958318145000078 ], [ 45.627900115000045, 35.967451289000053 ], [ 45.607383973000026, 35.971602369000038 ], [ 45.595074288000035, 35.976583376000065 ], [ 45.589945252000064, 35.984884357000055 ], [ 45.580712988000073, 35.987374481000074 ], [ 45.571480724000025, 35.990694524000048 ], [ 45.560196846000053, 35.999823922000076 ], [ 45.542758125000034, 36.003973299000052 ], [ 45.517112948000033, 36.005632989000048 ], [ 45.493519384000081, 36.003973299000052 ], [ 45.476080663000062, 35.99733419100005 ], [ 45.462745171000051, 35.99318446500007 ], [ 45.43812580000008, 35.99235449300005 ], [ 45.415558044000079, 35.980733976000067 ], [ 45.405299973000069, 35.969941963000053 ], [ 45.38786125200005, 35.974923075000049 ], [ 45.36426768900003, 35.979903873000069 ], [ 45.357087039000078, 35.989034520000075 ], [ 45.354009618000077, 35.998164110000062 ], [ 45.348880582000049, 36.008122458000059 ], [ 45.34477735400003, 36.013101160000076 ], [ 45.350932196000031, 36.028035380000063 ], [ 45.35503542500004, 36.03964892700003 ], [ 45.359138653000059, 36.050431402000072 ], [ 45.36837091700005, 36.061212400000045 ], [ 45.373499953000078, 36.071991921000063 ], [ 45.373499953000078, 36.082769965000068 ], [ 45.37144833900004, 36.094375437000053 ], [ 45.36426768900003, 36.104321621000054 ], [ 45.35503542500004, 36.111780432000046 ], [ 45.345803161000049, 36.127524486000027 ], [ 45.336570897000058, 36.136638021000067 ], [ 45.335545090000039, 36.149892183000077 ], [ 45.332467668000049, 36.157346665000034 ], [ 45.32836444000003, 36.173909644000048 ], [ 45.33144186100003, 36.182189820000076 ], [ 45.33144186100003, 36.194608444000039 ], [ 45.32836444000003, 36.207025099000077 ], [ 45.326312826000049, 36.21695700500004 ], [ 45.32220959700004, 36.22606014400003 ], [ 45.315028948000077, 36.236817034000069 ], [ 45.296564420000038, 36.24343592300005 ], [ 45.287332156000048, 36.245917862000056 ], [ 45.273996663000048, 36.248399722000045 ], [ 45.270919242000048, 36.253363205000028 ], [ 45.275022470000067, 36.261634978000075 ], [ 45.295538613000076, 36.269078824000076 ], [ 45.299641841000039, 36.272386972000049 ], [ 45.300667648000058, 36.279829793000033 ], [ 45.295538613000076, 36.288925610000035 ], [ 45.289383770000029, 36.294713306000062 ], [ 45.276048278000076, 36.302980698000056 ], [ 45.270919242000048, 36.314553574000058 ], [ 45.271945049000067, 36.323645343000067 ], [ 45.276048278000076, 36.334388794000063 ], [ 45.276048278000076, 36.35421896500003 ], [ 45.277074085000038, 36.36248004600003 ], [ 45.279125699000076, 36.390561161000051 ], [ 45.264764399000057, 36.397992700000032 ], [ 45.253480521000029, 36.405423528000028 ], [ 45.249377293000066, 36.414504687000033 ], [ 45.239119222000056, 36.421108500000059 ], [ 45.225783729000057, 36.422759365000047 ], [ 45.206293394000056, 36.421108500000059 ], [ 45.176544988000046, 36.415330195000024 ], [ 45.161157882000055, 36.409551460000046 ], [ 45.145770775000074, 36.406249132000028 ], [ 45.130383668000036, 36.406249132000028 ], [ 45.121151404000045, 36.408725891000074 ], [ 45.111919140000055, 36.414504687000033 ], [ 45.101661069000045, 36.419457599000054 ], [ 45.090377191000073, 36.426886375000038 ], [ 45.083196541000063, 36.436790304000056 ], [ 45.080119120000063, 36.448343290000025 ], [ 45.077041699000063, 36.458244480000076 ], [ 45.068835242000034, 36.467319461000045 ], [ 45.064732014000072, 36.47556852200006 ], [ 45.060628785000063, 36.488765193000063 ], [ 45.051396521000072, 36.500310437000053 ], [ 45.043190064000044, 36.507731470000067 ], [ 45.031906186000072, 36.512678430000051 ], [ 45.018570694000061, 36.516800656000044 ], [ 45.012415851000071, 36.525868779000064 ], [ 45.003450298000075, 36.534721539000031 ], [ 45.002239845000076, 36.533748939000077 ], [ 44.997644229000059, 36.530056244000036 ], [ 44.964161885000067, 36.527418497000042 ], [ 44.925427408000076, 36.52847360700008 ], [ 44.901792813000043, 36.526363373000038 ], [ 44.884066866000069, 36.520032327000024 ], [ 44.853867105000063, 36.505257871000026 ], [ 44.84073677400005, 36.497341824000046 ], [ 44.815132628000072, 36.484146614000053 ], [ 44.784276351000074, 36.484146614000053 ], [ 44.75998523800007, 36.496286290000057 ], [ 44.744228841000051, 36.515811342000063 ], [ 44.729785477000064, 36.525308235000068 ], [ 44.712716047000072, 36.526363373000038 ], [ 44.691051001000062, 36.523725500000069 ], [ 44.67398157000008, 36.518977102000065 ], [ 44.668072921000032, 36.50736868000007 ], [ 44.644438326000056, 36.485730158000024 ], [ 44.64115574300007, 36.474116751000054 ], [ 44.628025412000056, 36.464613578000069 ], [ 44.616208114000074, 36.458805510000047 ], [ 44.611612498000056, 36.455637289000038 ], [ 44.572921619000056, 36.454892656000027 ], [ 44.571318795000025, 36.325866467000026 ], [ 44.595361149000041, 36.318118087000073 ], [ 44.612992209000026, 36.327157788000079 ], [ 44.630623268000079, 36.33877872000005 ], [ 44.65145997500008, 36.33748759100007 ], [ 44.659474093000028, 36.320700966000061 ], [ 44.664282564000075, 36.300035540000067 ], [ 44.68191362400006, 36.293576471000051 ], [ 44.709161625000036, 36.28970077300005 ], [ 44.733203979000052, 36.279364637000072 ], [ 44.738012450000042, 36.258688259000053 ], [ 44.734806803000026, 36.245762743000057 ], [ 44.70114750700003, 36.244470074000048 ], [ 44.622609150000073, 36.241884671000037 ], [ 44.603375267000047, 36.239299183000071 ], [ 44.595361149000041, 36.204386725000063 ], [ 44.593758326000057, 36.183690508000041 ], [ 44.593758326000057, 36.169458687000031 ], [ 44.598566796000057, 36.157812547000049 ], [ 44.622609150000073, 36.137104026000031 ], [ 44.635431739000069, 36.122863746000064 ], [ 44.659474093000028, 36.112505557000077 ], [ 44.693133389000025, 36.082718151000051 ], [ 44.712367272000051, 36.064581159000056 ], [ 44.725189861000047, 36.054215286000044 ], [ 44.736409626000068, 36.041256024000063 ], [ 44.746026568000048, 36.024405795000064 ], [ 44.760451980000028, 36.012738140000067 ], [ 44.779685864000044, 36.001068758000031 ], [ 44.797316923000039, 35.986803835000046 ], [ 44.845401632000062, 35.964752970000063 ], [ 44.863032691000058, 35.949183945000073 ], [ 44.880663751000043, 35.94139828200008 ], [ 44.903103281000028, 35.932314039000062 ], [ 44.911117399000034, 35.920632764000061 ], [ 44.911117399000034, 35.910247960000049 ], [ 44.909514576000049, 35.899861792000024 ], [ 44.887075045000074, 35.914142421000065 ], [ 44.874252456000079, 35.908949763000066 ], [ 44.864635515000032, 35.895966628000053 ], [ 44.855018573000052, 35.882981363000056 ], [ 44.832579043000067, 35.898563425000077 ], [ 44.819756454000071, 35.89336974500003 ], [ 44.80853668900005, 35.885578586000065 ], [ 44.790905629000065, 35.886877166000033 ], [ 44.776480217000028, 35.902458462000027 ], [ 44.749232215000063, 35.903756765000026 ], [ 44.726792685000078, 35.90116013800008 ], [ 44.701532801000042, 35.881501657000058 ], [ 44.71126533100005, 35.876244418000056 ], [ 44.731300626000063, 35.862038138000059 ], [ 44.738813862000029, 35.841739035000046 ], [ 44.738813862000029, 35.821434736000072 ], [ 44.716274155000065, 35.807218636000073 ], [ 44.706256507000035, 35.782842257000027 ], [ 44.716274155000065, 35.762522896000064 ], [ 44.731300626000063, 35.748296255000071 ], [ 44.746327097000062, 35.732034122000073 ], [ 44.763857981000058, 35.713735252000049 ], [ 44.781388864000064, 35.699499892000063 ], [ 44.776380040000049, 35.681193552000025 ], [ 44.763857981000058, 35.66695238300008 ], [ 44.74883150900007, 35.652708673000063 ], [ 44.74883150900007, 35.620142083000076 ], [ 44.751335921000077, 35.591635432000032 ], [ 44.756344745000035, 35.57534135800006 ], [ 44.778884452000057, 35.546818752000036 ], [ 44.793910923000055, 35.524401013000045 ], [ 44.818955042000027, 35.493821274000027 ], [ 44.82646827800005, 35.471388733000026 ], [ 44.82646827800005, 35.455070225000043 ], [ 44.811441806000062, 35.436707947000059 ], [ 44.78890209900004, 35.426504871000077 ], [ 44.771371216000034, 35.414259474000062 ], [ 44.756344745000035, 35.40201221600006 ], [ 44.728796214000056, 35.377512117000038 ], [ 44.716274155000065, 35.357089683000027 ], [ 44.706256507000035, 35.338705076000053 ], [ 44.693734448000043, 35.326446347000058 ], [ 44.686221212000078, 35.29579139100008 ], [ 44.681212389000052, 35.273303707000025 ], [ 44.676203565000037, 35.252854939000031 ], [ 44.658672682000031, 35.236492210000051 ], [ 44.641141798000035, 35.222172114000045 ], [ 44.621106503000078, 35.201710449000075 ], [ 44.606080032000079, 35.18943097500005 ], [ 44.591053561000081, 35.183290542000066 ], [ 44.553487383000061, 35.177149645000043 ], [ 44.530947676000039, 35.173055456000043 ], [ 44.490068760000042, 35.157969887000036 ], [ 44.507205851000037, 35.149796551000065 ], [ 44.528042558000038, 35.131446808000078 ], [ 44.544070794000049, 35.120959384000059 ], [ 44.56971597200004, 35.11047060900006 ], [ 44.609786562000068, 35.10391443900005 ], [ 44.649857152000038, 35.102603142000078 ], [ 44.68672209500005, 35.102603142000078 ], [ 44.768466098000033, 35.09473491600005 ], [ 44.80853668900005, 35.09473491600005 ], [ 44.840593161000072, 35.089489010000079 ], [ 44.879060927000069, 35.071125681000069 ], [ 44.903103281000028, 35.052758219000054 ], [ 44.923939988000029, 35.030449317000034 ], [ 44.931954106000035, 35.002882854000063 ], [ 44.931954106000035, 34.98187359800005 ], [ 44.936762577000081, 34.958231740000031 ], [ 44.933556930000066, 34.938524980000068 ], [ 44.92073434100007, 34.918813484000054 ], [ 44.91432304600005, 34.895153438000079 ], [ 44.912720223000065, 34.872801580000043 ] ] ] } }
]
}
`,We=({className:t=""})=>f.jsx("div",{className:`animate-pulse bg-slate-200 dark:bg-slate-700/50 rounded-lg ${t}`}),xAe=t=>{const e=t==null?void 0:t.geometry;return e?e.type==="Polygon"?{...t,geometry:{...e,coordinates:e.coordinates.map((n,r)=>r===0?[...n].reverse():n)}}:e.type==="MultiPolygon"?{...t,geometry:{...e,coordinates:e.coordinates.map(n=>n.map((r,i)=>i===0?[...r].reverse():r))}}:t:t},bAe=({data:t,selectedGovernorates:e=[],onSelect:n})=>{const{theme:r,appearance:i}=kn(),a=i.accentType==="solid"?i.accentColor:i.accentGradient.start,s=R.useMemo(()=>{const h=JSON.parse(vAe);return{...h,features:(h.features||[]).map(xAe)}},[]),o=R.useMemo(()=>{const g=gAe().fitExtent([[35,15],[765,585]],s);g.scale(g.scale()*1.05);const[[x,y],[v,b]]=iAe(g).bounds(s),[w,_]=g.translate();return g.translate([w+(800/2-(x+v)/2),_+(600/2-(y+b)/2)]),g},[s]),{maxValue:l,minPositive:c}=R.useMemo(()=>{const h=Object.values(t||{}).filter(y=>typeof y=="number"),p=h.length>0?Math.max(...h):0,g=h.filter(y=>y>0),x=g.length>0?Math.min(...g):1;return{maxValue:p,minPositive:x}},[t]),u=R.useMemo(()=>dh().domain([c||1,l||c||1]).range([`${a}40`,a]),[c,l,a]),d=r==="dark"?"#0f172a":"#f1f5f9";return f.jsx("div",{className:"w-full h-full bg-slate-50 dark:bg-slate-900/50 rounded-2xl overflow-hidden relative flex items-center justify-center border border-slate-100 dark:border-slate-800",children:s?f.jsx(Iw,{projection:o,className:"w-full h-full",children:f.jsx(Cw,{geography:s,children:({geographies:h})=>f.jsxs(f.Fragment,{children:[h.map(p=>{const g=p.properties||{},x=g.name||g.shapeName||g.ADM1_EN||"Unknown",y=E=>typeof E=="string"?E.toLowerCase().replace(/[^a-z0-9]/g,""):"",v=y(x),b=Object.keys(t||{}).find(E=>{const k=y(E);return v&&k&&(v.includes(k)||k.includes(v))}),w=b||x,_=b&&t[b]||0,S=e.includes(w);let P=d;return S?P="#94a3b8":_>0&&(P=u(_)),f.jsx(pNe,{geography:p,fill:P,stroke:S?"#ffffff":r==="dark"?"#334155":"#cbd5e1",strokeWidth:S?2:.5,onClick:()=>{n&&n(w)},style:{default:{outline:"none",transition:"all 250ms"},hover:{fill:"#94a3b8",outline:"none",stroke:"#fff",strokeWidth:2,cursor:"pointer",opacity:.8},pressed:{outline:"none"}},title:`${w}: ${_} Orders`},p.rsmKey)}),h.map(p=>{const g=MNe(p);if(!g||isNaN(g[0])||isNaN(g[1]))return null;const x=p.properties||{},y=x.name||x.shapeName||x.ADM1_EN||"Unknown",v=P=>typeof P=="string"?P.toLowerCase().replace(/[^a-z0-9]/g,""):"",b=v(y),w=Object.keys(t||{}).find(P=>{const E=v(P);return b&&E&&(b.includes(E)||E.includes(b))}),_=w||y,S=w&&t[w]||0;return f.jsx(Mw,{coordinates:g,children:f.jsxs("g",{className:"pointer-events-none",style:{transform:"translateY(-6px)"},children:[f.jsx("text",{y:"-6",textAnchor:"middle",style:{fontSize:10,fill:r==="dark"?"#fff":"#1e293b",fontWeight:"bold",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:_}),f.jsx("text",{y:"8",textAnchor:"middle",style:{fontSize:12,fill:r==="dark"?"#e6f0ff":"#0f172a",fontWeight:"800",pointerEvents:"none",textShadow:"0px 0px 2px rgba(255,255,255,0.8)"},children:S>0?S:""})]})},`${p.rsmKey}-label`)})]})})}):f.jsxs("div",{className:"absolute inset-0 z-10 bg-white dark:bg-slate-900 overflow-hidden",children:[f.jsx(We,{className:"w-full h-full rounded-none"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("span",{className:"bg-white/50 dark:bg-slate-900/50 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Loading Map..."})})]})})},wAe=({regions:t,selectedRegion:e,onSelect:n})=>{const r=[...t].sort((a,s)=>s.count-a.count).slice(0,5),i=a=>{n(a)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 h-full flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Ea,{className:"w-5 h-5 text-accent"})," Top Regions"]}),f.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pe-2",children:[r.map((a,s)=>{const o=e===a.name||Array.isArray(e)&&e.includes(a.name);return f.jsxs("div",{onClick:()=>i(a.name),className:`flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all ltr:hover:translate-x-1 rtl:hover:-translate-x-1 ${o?"bg-accent text-white shadow-accent":"bg-slate-50 dark:bg-slate-700/30 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-black transition-all ${s===0?"bg-amber-100 text-amber-600":s===1?"bg-slate-200 text-slate-600":s===2?"bg-orange-100 text-orange-600":""}`,style:s>2?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:s+1}),f.jsx("span",{className:`font-bold transition-colors ${o?"text-white":"text-slate-700 dark:text-slate-300"}`,children:a.name})]}),f.jsx("span",{className:`font-black transition-colors ${o?"text-white":"text-slate-800 dark:text-white"}`,children:a.count})]},a.name)}),r.length===0&&f.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No data available"})]})]})},_Ae=({products:t,orders:e,formatCurrency:n})=>{const r=B.useMemo(()=>{const o={};return t.forEach(l=>{const c=l._id||l.id||l.id_str||l.sku||l.name;o[c]={...l,_id:c,totalSales:0,orderCount:0,distinctOrders:[]}}),e.forEach(l=>{l.items&&l.items.forEach(c=>{var d,h;const u=((d=c.product)==null?void 0:d._id)||c.productId;u&&o[u]&&(o[u].totalSales+=c.price*c.quantity,o[u].orderCount+=c.quantity,o[u].distinctOrders.push({id:l._id||l.id,customer:((h=l.customer)==null?void 0:h.name)||l.customer||"",date:l.date||l.createdAt||l.updatedAt,quantity:c.quantity,total:c.price*c.quantity}))})}),Object.values(o).sort((l,c)=>c.orderCount-l.orderCount).slice(0,10)},[t,e]),[i,a]=R.useState(null),s=o=>{a(i===o?null:o)};return f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(Vo,{className:"w-5 h-5 text-accent"})," Top Selling Products"]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700",children:[f.jsx("th",{className:"py-3 ps-2",children:"Product Name"}),f.jsx("th",{className:"py-3 text-center",children:"Sales"}),f.jsx("th",{className:"py-3 text-end pe-2",children:"Total Revenue"}),f.jsx("th",{className:"py-3 w-10"})]})}),f.jsxs("tbody",{className:"text-sm",children:[r.filter(o=>o.orderCount>0).map(o=>{var l;return f.jsxs(B.Fragment,{children:[f.jsxs("tr",{onClick:()=>s(o._id),className:`group cursor-pointer transition-colors border-b border-slate-50 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${i===o._id?"bg-slate-50 dark:bg-slate-800":""}`,children:[f.jsxs("td",{className:"py-4 ps-2 font-bold text-slate-700 dark:text-slate-200 flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-700 overflow-hidden shrink-0",children:f.jsx("img",{src:((l=o.images)==null?void 0:l[0])||"https://via.placeholder.com/40",alt:o.name||"Product image",className:"w-full h-full object-cover"})}),o.name]}),f.jsx("td",{className:"py-4 text-center text-slate-600 dark:text-slate-300",children:f.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-black transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[o.orderCount," Orders"]})}),f.jsx("td",{className:"py-4 text-end pe-2 font-bold text-slate-800 dark:text-white",children:n(o.totalSales)}),f.jsx("td",{className:"py-4 text-center text-slate-400 group-hover:text-accent",children:i===o._id?f.jsx(q8,{className:"w-4 h-4"}):f.jsx(cl,{className:"w-4 h-4"})})]}),i===o._id&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"bg-slate-50/50 dark:bg-slate-900/30 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[f.jsx("div",{className:"px-4 py-3 bg-slate-50 dark:bg-slate-700/30 border-b border-slate-100 dark:border-slate-700 text-xs font-bold text-slate-500 uppercase flex justify-between",children:f.jsxs("span",{children:["Order Details (",o.distinctOrders.length,")"]})}),f.jsxs("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:[o.distinctOrders.map((c,u)=>f.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-slate-50 dark:border-slate-700 last:border-0 hover:bg-slate-50 dark:hover:bg-slate-700/20 transition-colors",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 flex items-center gap-1",children:[f.jsx(Io,{className:"w-3 h-3 text-slate-400"})," ",c.customer]}),f.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-1 mt-0.5",children:[f.jsx(Qj,{className:"w-3 h-3"})," ",c.date&&!isNaN(new Date(c.date).getTime())?fi(new Date(c.date),"dd MMM yyyy"):"N/A"]})]})}),f.jsxs("div",{className:"text-end",children:[f.jsxs("span",{className:"block text-xs font-bold text-slate-800 dark:text-white",children:["Qty: ",c.quantity]}),f.jsx("span",{className:"block text-[10px] font-semibold text-emerald-600 dark:text-emerald-400",children:n(c.total)})]})]},u)),o.distinctOrders.length===0&&f.jsx("div",{className:"text-center py-4 text-slate-400 text-xs",children:"No order details available"})]})]})})})]},o._id)}),r.filter(o=>o.orderCount>0).length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:"4",className:"text-center py-8 text-slate-400",children:"No sales data matches current filters"})})]})]})})]})},Gh=["Al Anbar","Babil","Baghdad","Basra","Dhi Qar","Al-Qadisiyyah","Diyala","Duhok","Erbil","Karbala","Kirkuk","Maysan","Muthanna","Najaf","Nineveh","Saladin","Sulaymaniyah","Wasit"],Kh=["Facebook","Instagram","TikTok","Snapchat","Telegram","WhatsApp","Other"],SAe=()=>{var we,Ce,ie,be;const{t}=Sr(),{orders:e,products:n,customers:r,loading:i,formatCurrency:a,brand:s,categories:o,theme:l,appearance:c}=kn(),u=R.useMemo(()=>e.length===0?nw(new Date,30):e.reduce((Z,W)=>{try{const de=fa(W.date);return de<Z?de:Z}catch{return Z}},new Date),[e]),d=R.useMemo(()=>({from:u,to:new Date}),[u]),[h,p]=R.useState(d),[g,x]=R.useState(!1);B.useEffect(()=>{!i&&e.length>0&&!g&&(p(d),x(!0))},[i,e.length,d,g]);const[y,v]=R.useState([]),[b,w]=R.useState([]),[_,S]=R.useState([]),[P,E]=R.useState([]),k=R.useMemo(()=>e.filter(Z=>{var bt,Ke;let W;try{W=Z.date?fa(Z.date):null}catch{return!1}if(!W||isNaN(W.getTime()))return!1;const de=!(h!=null&&h.from)||!(h!=null&&h.to)||xc(W,{start:h.from,end:h.to}),ke=y.length===0||y.includes(Z.status),ge=b.length===0||((bt=Z.customer)==null?void 0:bt.governorate)&&b.includes(Z.customer.governorate),ve=_.length===0||((Ke=Z.customer)==null?void 0:Ke.social)&&_.includes(Z.customer.social),Re=P.length===0||Z.items&&Z.items.some(et=>{var X;return((X=et.product)==null?void 0:X.category)&&P.includes(et.product.category)});return de&&ke&&ge&&ve&&Re}),[e,h,y,b,_,P]),N=R.useMemo(()=>{if(!(h!=null&&h.from)||!(h!=null&&h.to))return 0;const Z=h.from,de=h.to.getTime()-Z.getTime();if(de<0)return 0;const ke=new Date(Z.getTime()-1),ge=new Date(ke.getTime()-de);return e.reduce((ve,Re)=>{var Ye,Be;let bt;try{bt=Re.date?fa(Re.date):null}catch{return ve}if(!bt||isNaN(bt.getTime()))return ve;const Ke=xc(bt,{start:ge,end:ke}),et=y.length===0||y.includes(Re.status),X=b.length===0||((Ye=Re.customer)==null?void 0:Ye.governorate)&&b.includes(Re.customer.governorate),ue=_.length===0||((Be=Re.customer)==null?void 0:Be.social)&&_.includes(Re.customer.social),Ie=P.length===0||Re.items&&Re.items.some(gt=>{var Nt;return((Nt=gt.product)==null?void 0:Nt.category)&&P.includes(gt.product.category)});return!Ke||!et||!X||!ue||!Ie?ve:ve+(Number(Re.total)||0)},0)},[e,h,y,b,_,P]),I=R.useMemo(()=>k.reduce((Z,W)=>Z+W.total,0),[k]),A=R.useMemo(()=>a(I).replace(/\u00A0/g," "),[a,I]),j=R.useMemo(()=>N<=0?I>0?100:0:(I-N)/N*100,[I,N]),O=j>=0?"+":"-",$=R.useMemo(()=>`${O}${Math.abs(j).toFixed(1)}% vs last period`,[O,j,h,y,b,_,P]),M=k.length,D=R.useMemo(()=>new Set(k.map(Z=>{var W,de;return((W=Z.customer)==null?void 0:W.phone)||((de=Z.customer)==null?void 0:de.id)||Z.customer}).filter(Boolean)).size,[k]),V=R.useMemo(()=>{const Z={};return k.forEach(W=>{var ke;const de=(ke=W.customer)==null?void 0:ke.governorate;de&&(Z[de]=(Z[de]||0)+1)}),Object.entries(Z).map(([W,de])=>({name:W,count:de}))},[k]),F=R.useMemo(()=>V.length===0?{name:"N/A",count:0}:V.reduce((Z,W)=>Z.count>W.count?Z:W),[V]),U=R.useMemo(()=>e.filter(Z=>{let W;try{W=Z.date?fa(Z.date):null}catch{return!1}return!W||isNaN(W.getTime())?!1:!(h!=null&&h.from)||!(h!=null&&h.to)||xc(W,{start:h.from,end:h.to})}),[e,h]),H=R.useMemo(()=>{const Z={};return U.forEach(W=>Z[W.status]=(Z[W.status]||0)+1),["Processing","Completed","Cancelled"].map(W=>({value:W,label:W,count:Z[W]||0}))},[U]),G=R.useMemo(()=>{const Z={};return U.forEach(W=>{var ke;const de=(ke=W.customer)==null?void 0:ke.governorate;de&&(Z[de]=(Z[de]||0)+1)}),Gh.map(W=>({value:W,label:W,count:Z[W]||0})).sort((W,de)=>de.count-W.count)},[U]),K=R.useMemo(()=>{const Z={};return U.forEach(W=>{var ke;const de=(ke=W.customer)==null?void 0:ke.social;de&&(Z[de]=(Z[de]||0)+1)}),Kh.map(W=>({value:W,label:W,count:Z[W]||0})).sort((W,de)=>de.count-W.count)},[U]),ne=R.useMemo(()=>{const Z={};return U.forEach(W=>{var ke;const de=new Set;(ke=W.items)==null||ke.forEach(ge=>{var Re;const ve=(Re=ge.product)==null?void 0:Re.category;ve&&!de.has(ve)&&(Z[ve]=(Z[ve]||0)+1,de.add(ve))})}),o.map(W=>({value:W,label:W,count:Z[W]||0})).sort((W,de)=>de.count-W.count)},[U,o]),ce=R.useMemo(()=>{if(!(h!=null&&h.from)||!(h!=null&&h.to)||aU(h.from,h.to))return[];let Z=[];try{Z=Fwe({start:h.from,end:h.to})}catch(de){return console.error("Invalid date range for chart:",de),[]}const W={};return Z.forEach(de=>W[fi(de,"yyyy-MM-dd")]=0),k.forEach(de=>{const ke=fi(fa(de.date),"yyyy-MM-dd");W[ke]!==void 0&&(W[ke]+=de.total)}),Object.entries(W).map(([de,ke])=>({date:fi(fa(de),"MMM d"),value:ke}))},[k,h]),pe=R.useMemo(()=>V.reduce((Z,W)=>(Z[W.name]=W.count,Z),{}),[V]),ee=l==="dark"?{text:"#94A3B8",grid:"#334155",tooltipBg:"#1E293B"}:{text:"#64748B",grid:"#E2E8F0",tooltipBg:"#FFFFFF"};return f.jsxs(Su,{title:t("dashboard.title"),children:[f.jsx("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(rw,{range:h,onRangeChange:p,brandColor:s.color})}),f.jsx(Hi,{title:t("dashboard.governorate"),options:G,selectedValues:b,onChange:w,icon:Ea,showSearch:!1}),f.jsx(Hi,{title:t("dashboard.socialMedia"),options:K,selectedValues:_,onChange:S,icon:gs,showSearch:!1}),f.jsx(Hi,{title:t("dashboard.categories"),options:ne,selectedValues:P,onChange:E,icon:Vo,showSearch:!1}),f.jsx(Hi,{title:t("dashboard.status"),options:H,selectedValues:y,onChange:v,icon:lr,showSearch:!1}),f.jsxs("div",{className:"ms-auto flex items-center gap-3 flex-wrap",children:[(y.length>0||b.length>0||_.length>0||P.length>0||((we=h.from)==null?void 0:we.getTime())!==((Ce=d.from)==null?void 0:Ce.getTime())||((ie=h.to)==null?void 0:ie.getTime())!==((be=d.to)==null?void 0:be.getTime()))&&f.jsx("button",{onClick:()=>{v([]),w([]),S([]),E([]),p(d)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Vo,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:k.length})," ",t("dashboard.filteredOrders")]})]})]})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:i?Array.from({length:4}).map((Z,W)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx(We,{className:"h-4 w-24"}),f.jsx(We,{className:"h-5 w-5 rounded-full"})]}),f.jsx(We,{className:"h-8 w-32 mb-2"}),f.jsx(We,{className:"h-3 w-40"})]},W)):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-accent rounded-3xl p-6 text-white shadow-accent",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 opacity-80",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalRevenue")}),f.jsx(tG,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-[clamp(0.95rem,2.6vw,1.85rem)] font-black mb-1 leading-tight whitespace-nowrap tracking-tight",children:A}),f.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium opacity-80",children:[f.jsx(XS,{className:"w-3 h-3"}),f.jsx("span",{children:$})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.totalOrders")}),f.jsx(aR,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:M}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersPlaced")})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.topRegion")}),f.jsx(Ea,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-2xl font-black text-slate-800 dark:text-white mb-1 truncate",children:F.name}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.ordersCount",{count:F.count})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4 text-slate-400",children:[f.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:t("dashboard.activeCustomers")}),f.jsx(G8,{className:"w-5 h-5"})]}),f.jsx("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mb-1",children:D}),f.jsx("p",{className:"text-xs text-slate-500 font-medium mt-1",children:t("dashboard.uniqueBuyers")})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[400px]",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(XS,{className:"w-5 h-5",style:{color:c.accentType==="solid"?c.accentColor:c.accentGradient.start}})," ",t("dashboard.revenueTrend")]}),f.jsx("div",{className:"flex-1 min-h-0",children:i?f.jsx(We,{className:"w-full h-full rounded-xl"}):f.jsx(Z3e,{width:"100%",height:"100%",children:f.jsxs(Iwe,{data:ce,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:c.accentType==="solid"?c.accentColor:c.accentGradient.start,stopOpacity:0})]})}),f.jsx(OV,{strokeDasharray:"3 3",vertical:!1,stroke:ee.grid}),f.jsx(F2,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:ee.text},dy:10}),f.jsx(V2,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:ee.text},tickFormatter:Z=>`${Z/1e3}k`}),f.jsx(da,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 8px 16px rgba(0,0,0,0.1)",backgroundColor:ee.tooltipBg,color:l==="dark"?"#F8FAFC":"#1E293B"},itemStyle:{color:l==="dark"?"#F8FAFC":"#1E293B"},formatter:Z=>[a(Z),t("dashboard.revenue")]}),f.jsx(Js,{type:"monotone",dataKey:"value",stroke:c.accentType==="solid"?c.accentColor:c.accentGradient.start,strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),f.jsxs("div",{className:"lg:col-span-1 border border-slate-100 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm h-full relative",children:[f.jsx(bAe,{data:pe,selectedGovernorates:b,onSelect:Z=>{b.includes(Z)?w(b.filter(W=>W!==Z)):w([...b,Z])}}),f.jsx("div",{className:"absolute top-4 start-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-500 shadow-sm border border-slate-100",children:f.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[f.jsx(Ea,{className:"w-3.5 h-3.5",style:{color:c.accentType==="solid"?c.accentColor:c.accentGradient.start}}),f.jsx("span",{children:"Map"})]})})]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[400px]",children:i?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(We,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(We,{className:"h-10 w-full"}),f.jsx(We,{className:"h-10 w-full"}),f.jsx(We,{className:"h-10 w-full"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsx(We,{className:"h-6 w-48 mb-6"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(We,{className:"h-12 w-full"}),f.jsx(We,{className:"h-12 w-full"}),f.jsx(We,{className:"h-12 w-full"})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(wAe,{regions:V,selectedRegion:b,onSelect:Z=>{b.includes(Z)?w(b.filter(W=>W!==Z)):w([...b,Z])}}),f.jsx("div",{className:"h-full",children:f.jsx(_Ae,{products:n,orders:U,formatCurrency:a})})]})})]})]})},A4=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>{const{t:a}=Sr();return t?f.jsxs("div",{className:"fixed inset-0 z-[1001] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-red-50 dark:bg-red-500/10 rounded-2xl flex items-center justify-center mb-4",children:f.jsx(Ns,{className:"w-8 h-8 text-red-500"})}),f.jsx("h3",{className:"text-xl font-black text-slate-800 dark:text-white mb-2",children:r||a("common.delete")}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-8 leading-relaxed",children:i||a("common.confirmDelete")}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:e,className:"py-3 px-4 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 font-bold rounded-2xl transition-all active:scale-95 text-sm",children:a("common.cancel")}),f.jsx("button",{onClick:()=>{n(),e()},className:"py-3 px-4 bg-red-500 hover:bg-red-600 text-white font-bold rounded-2xl transition-all shadow-lg shadow-red-500/25 active:scale-95 text-sm",children:a("common.delete")})]})]}),f.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-400 transition-colors",children:f.jsx(Jr,{className:"w-4 h-4"})})]})]}):null},EAe=({categories:t,products:e,onClose:n,onAdd:r,onUpdate:i,onDelete:a})=>{const{addToast:s}=kn(),[o,l]=R.useState(""),[c,u]=R.useState(null),[d,h]=R.useState(""),[p,g]=R.useState({}),[x,y]=R.useState(!1),[v,b]=R.useState(null);R.useEffect(()=>{const E={};t.forEach(k=>{E[k]=e.filter(N=>N.category===k).length}),g(E)},[t,e]);const w=()=>{o.trim()&&(r(o.trim()),l(""))},_=()=>{c&&d.trim()&&d!==c&&(i(c,d.trim()),u(null),h(""))},S=E=>{if(p[E]>0){s(`Cannot delete category "${E}" because it is used by ${p[E]} products.`,"error");return}b(E),y(!0)},P=()=>{v&&(a(v),y(!1),b(null))};return f.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-800/50",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Manage Categories"}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:f.jsx(Jr,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:o,onChange:E=>l(E.target.value),placeholder:"New Category Name",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent dark:text-white",onKeyDown:E=>E.key==="Enter"&&w()}),f.jsx("button",{onClick:w,disabled:!o.trim(),className:"px-4 py-2 bg-accent disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl shadow-lg shadow-accent/20 transition-all flex items-center justify-center",children:f.jsx(l0,{className:"w-5 h-5"})})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-50/50 dark:bg-slate-900/20",children:[t.map(E=>f.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm group hover:border-indigo-100 dark:hover:border-slate-600 transition-colors",children:c===E?f.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[f.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:k=>h(k.target.value),className:"flex-1 px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-accent rounded-lg text-sm outline-none dark:text-white",onKeyDown:k=>{k.key==="Enter"&&_(),k.key==="Escape"&&u(null)}}),f.jsx("button",{onClick:_,className:"text-emerald-500 hover:bg-emerald-50 rounded p-1",children:f.jsx(H8,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>u(null),className:"text-red-400 hover:bg-red-50 rounded p-1",children:f.jsx(Jr,{className:"w-4 h-4"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm",children:E}),f.jsxs("span",{className:"text-[10px] font-bold px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-500 rounded-full",children:[p[E]||0," products"]})]}),f.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>{u(E),h(E)},className:"p-2 text-slate-400 hover:text-accent hover:bg-accent/10 rounded-lg transition-colors",title:"Rename",children:f.jsx(fG,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>S(E),className:`p-2 rounded-lg transition-colors ${p[E]>0?"text-slate-300 cursor-not-allowed":"text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30"}`,title:p[E]>0?"Cannot delete used category":"Delete",children:p[E]>0?f.jsx(ZH,{className:"w-4 h-4"}):f.jsx(Ns,{className:"w-4 h-4"})})]})]})},E)),t.length===0&&f.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No categories found. Add one above."})]})]}),f.jsx(A4,{isOpen:x,onClose:()=>{y(!1),b(null)},onConfirm:P,title:"Delete Category",message:`Are you sure you want to delete category "${v}"?`})]})},Ga=({title:t,options:e,selectedValue:n,onChange:r,icon:i,placeholder:a="Search...",showSearch:s=!0,customAction:o=null,disabled:l=!1,direction:c="down"})=>{const{appearance:u}=kn(),[d,h]=R.useState(!1),[p,g]=R.useState(""),x=R.useRef(null);R.useEffect(()=>{const _=S=>{x.current&&!x.current.contains(S.target)&&h(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),R.useEffect(()=>{d&&g("")},[d]);const y=_=>{r(_),h(!1)},v=R.useMemo(()=>p?e.filter(_=>_.label.toLowerCase().includes(p.toLowerCase())):e,[e,p]),b=e.find(_=>_.value===n),w=b?b.label:t;return f.jsxs("div",{className:"relative w-full",ref:x,children:[f.jsxs("button",{type:"button",disabled:l,onClick:()=>h(!d),className:`flex items-center justify-between w-full px-3 h-[44px] rounded-xl border-2 transition-all font-bold text-[11px] outline-none shadow-sm ${l?"bg-slate-50 dark:bg-slate-900/50 border-slate-100 dark:border-slate-800 text-slate-400 cursor-not-allowed opacity-60":d?"bg-accent/10 border-accent/40 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-700 dark:text-white hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800 text-slate-700 dark:text-white hover:border-slate-200 dark:hover:border-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center gap-1 truncate",children:[i&&f.jsx(i,{className:`w-3.5 h-3.5 ${d?"text-accent":"text-slate-400"}`}),f.jsx("span",{className:"truncate",children:w})]}),f.jsx(cl,{className:`w-3 h-3 transition-transform flex-shrink-0 ${d?"rotate-180 text-accent":"text-slate-400"}`})]}),d&&f.jsx("div",{className:`absolute start-0 z-[100] w-full animate-in fade-in zoom-in-95 duration-200 ${c==="up"?"bottom-full mb-2":"top-full mt-2"}`,children:f.jsxs("div",{className:`rounded-2xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col transition-all ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[s&&f.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"relative",children:[f.jsx(yu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{autoFocus:!0,type:"text",placeholder:a,value:p,onChange:_=>g(_.target.value),className:`w-full ps-9 pe-4 py-2 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all font-bold text-xs dark:text-white ${["liquid","default_glass"].includes(u==null?void 0:u.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900/50"}`})]})}),f.jsxs("div",{className:"flex-1 max-h-48 overflow-y-auto p-2 space-y-1",children:[o&&f.jsxs("div",{onClick:()=>{o.onClick(),h(!1)},className:"flex items-center gap-3 px-3 py-2 rounded-xl cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 text-accent font-bold text-sm border border-dashed border-accent/30 mb-1",children:[o.icon&&f.jsx(o.icon,{className:"w-4 h-4"}),f.jsx("span",{children:o.label})]}),v.length===0?f.jsx("div",{className:"px-4 py-8 text-center text-slate-400",children:f.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No results found"})}):v.map(_=>{const S=n===_.value;return f.jsxs("div",{onClick:()=>y(_.value),className:`flex items-center justify-between px-3 py-2 rounded-xl cursor-pointer transition-all group ${S?"bg-accent/10 text-accent font-bold":"hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-600 dark:text-slate-300"}`,children:[f.jsx("span",{className:`text-xs font-semibold ${S?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:_.label}),S&&f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent shadow-[0_0_8px_var(--accent-color)]"})]},_.value)})]})]})})]})},Yi=({src:t,alt:e,className:n="bg-slate-100 dark:bg-slate-700",imageClassName:r="",fallback:i=null})=>{const[a,s]=R.useState(!0),[o,l]=R.useState(!1),c=R.useRef(null);R.useEffect(()=>{var h;if(!t){s(!1),l(!1);return}l(!1),(h=c.current)!=null&&h.complete?s(!1):s(!0)},[t]);const u=()=>{s(!1)},d=()=>{l(!0),s(!1)};return f.jsxs("div",{className:`relative overflow-hidden ${n}`,children:[!t&&f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800",children:i||f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(KS,{className:"w-1/3 h-1/3 opacity-50"}),f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-50",children:"No Image"})]})}),t&&f.jsxs(f.Fragment,{children:[a&&!o&&f.jsx("div",{className:"absolute inset-0 animate-pulse bg-slate-200 dark:bg-slate-600 z-10"}),o?f.jsx("div",{className:"flex items-center justify-center w-full h-full text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800",children:i||f.jsxs("div",{className:"flex flex-col items-center gap-1",children:[f.jsx(KS,{className:"w-1/3 h-1/3 opacity-50"}),f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider opacity-50 text-center px-2",children:"Image Error"})]})}):f.jsx("img",{ref:c,src:t,alt:e,className:`w-full h-full object-cover transition-opacity duration-300 ${a?"opacity-0":"opacity-100"} ${r}`,onLoad:u,onError:d})]})]})},kAe=({images:t,currentIndex:e,onChange:n,onDelete:r,onDownload:i})=>{const{t:a}=Sr(),{language:s}=kn(),o=s==="ar",l=t.length>0&&e<t.length?e:0,c=t[l],u=(typeof c=="string"?c:c==null?void 0:c.url)||"https://via.placeholder.com/600";return!t||t.length===0?f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-900/50 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-800",children:[f.jsx(ys,{className:"w-12 h-12 text-slate-300 mb-4"}),f.jsx("p",{className:"text-sm font-bold text-slate-400",children:a("productPicture.modal.noImages")})]}):f.jsxs("div",{className:"relative w-full h-full flex flex-col group",children:[f.jsxs("div",{className:"relative h-[300px] sm:h-[400px] md:h-[500px] rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 flex items-center justify-center shadow-lg w-full",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("img",{src:u,alt:"",className:"w-full h-full object-cover blur-3xl opacity-50 scale-125 transition-opacity duration-500"}),f.jsx("div",{className:"absolute inset-0 bg-white/20 dark:bg-black/40"})]}),f.jsx(Yi,{src:u,alt:"Product",className:"w-full h-full flex items-center justify-center relative z-10 bg-transparent",imageClassName:"w-auto h-auto max-w-full max-h-full object-contain drop-shadow-2xl"},u),f.jsxs("div",{className:`absolute top-4 ${o?"right-4":"left-4"} flex gap-2 z-30`,children:[f.jsx("button",{onClick:i,className:"p-2 bg-white/90 dark:bg-slate-800/90 hover:bg-white dark:hover:bg-slate-700 text-slate-800 dark:text-white rounded-lg backdrop-blur transition-all shadow-md border border-slate-200/50 dark:border-slate-700/50",title:a("common.download"),children:f.jsx(Tg,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>r(l),className:"p-2 bg-red-500/90 hover:bg-red-600 text-white rounded-lg backdrop-blur transition-all shadow-md border border-red-400/20",title:a("common.delete"),children:f.jsx(Ns,{className:"w-4 h-4"})})]}),t.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>n((l-1+t.length)%t.length),className:`absolute ${o?"right-4":"left-4"} top-[55%] md:top-1/2 -translate-y-1/2 p-2.5 md:p-3 bg-slate-900/40 hover:bg-slate-900/60 text-white rounded-full backdrop-blur-md transition-all z-20 shadow-lg border border-white/10`,children:o?f.jsx(H3,{className:"w-5 h-5 md:w-6 md:h-6"}):f.jsx(W3,{className:"w-5 h-5 md:w-6 md:h-6"})}),f.jsx("button",{onClick:()=>n((l+1)%t.length),className:`absolute ${o?"left-4":"right-4"} top-[55%] md:top-1/2 -translate-y-1/2 p-2.5 md:p-3 bg-slate-900/40 hover:bg-slate-900/60 text-white rounded-full backdrop-blur-md transition-all z-20 shadow-lg border border-white/10`,children:o?f.jsx(W3,{className:"w-5 h-5 md:w-6 md:h-6"}):f.jsx(H3,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]}),t.length>1&&f.jsx("div",{className:"flex gap-2 mt-6 px-2 overflow-x-auto py-2 hide-scrollbar",children:t.map((d,h)=>f.jsx("button",{onClick:()=>n(h),className:`w-12 h-12 rounded-xl border-2 transition-all flex-shrink-0 bg-white dark:bg-slate-900 shadow-sm overflow-hidden ${h===l?"border-accent ring-2 ring-accent/20":"border-transparent opacity-60 hover:opacity-100"}`,children:f.jsx(Yi,{src:typeof d=="string"?d:d==null?void 0:d.url,alt:`Thumb ${h}`,className:"w-full h-full",imageClassName:"object-cover"})},h))})]})},WB=({product:t,onClose:e,onSave:n,onUpload:r})=>{var O;const{t:i}=Sr(),{formatCurrency:a,isSidebarCollapsed:s,language:o}=kn(),l=o==="ar",[c,u]=R.useState(0),[d,h]=R.useState(t.name||""),[p,g]=R.useState(t.description||""),[x,y]=R.useState(t.images||[]),[v,b]=R.useState(!1),[w,_]=R.useState(!1);R.useEffect(()=>{const $=M=>{M.key==="Escape"&&e()};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[e]),R.useEffect(()=>{h(t.name||""),g(t.description||""),y(t.images||[]),u(0)},[t._id]);const S=async()=>{if(d.trim()){b(!0);try{await n({...t,name:d,description:p,images:x})}catch($){console.error("Failed to save product:",$)}finally{b(!1)}}},P=async $=>{if($.target.files&&$.target.files.length>0){const M=Array.from($.target.files),D=V=>new Promise(F=>{const U=new FileReader;U.onload=H=>{const G=new Image;G.onload=()=>{const K=document.createElement("canvas");let ne=G.width,ce=G.height;const pe=1200;ne>ce?ne>pe&&(ce*=pe/ne,ne=pe):ce>pe&&(ne*=pe/ce,ce=pe),K.width=ne,K.height=ce,K.getContext("2d").drawImage(G,0,0,ne,ce),F({url:K.toDataURL("image/jpeg",.8),name:V.name})},G.src=H.target.result},U.readAsDataURL(V)});try{const V=await Promise.all(M.map(D));if(r){const F=await r(V);F&&y(U=>[...U,...F])}else y(F=>[...F,...V])}catch(V){console.error("Image processing failed:",V)}}},E=()=>{_(!0)},k=()=>{const $=c,M=x.filter((D,V)=>V!==$);y(M),c>=M.length&&M.length>0?u(M.length-1):M.length===0&&u(0),_(!1)},N=x.length>0?x[c]:((O=t.images)==null?void 0:O[0])||t.image,I=typeof N=="string"?N:(N==null?void 0:N.url)||"https://via.placeholder.com/600",A=()=>{const $=document.createElement("a");$.href=I,$.download=`product-${t.sku}-${c}.jpg`,document.body.appendChild($),$.click(),document.body.removeChild($)},j=l?s?"lg:pr-20":"lg:pr-56":s?"lg:pl-20":"lg:pl-56";return f.jsxs("div",{className:`fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300 transition-all ${j}`,children:[f.jsx("div",{className:"absolute inset-0",onClick:e}),f.jsxs("div",{className:"relative w-full h-full md:h-auto md:max-h-[95vh] md:max-w-6xl bg-white dark:bg-slate-800 md:rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row animate-in zoom-in slide-in-from-bottom-10 duration-500",children:[f.jsx("button",{onClick:e,className:`absolute top-16 ${l?"left-8":"right-8"} md:top-4 ${l?"md:left-4":"md:right-4"} z-[150] p-2 bg-slate-100/80 dark:bg-slate-900/80 hover:bg-slate-200 text-slate-500 dark:text-slate-400 rounded-lg transition-all active:scale-95 border border-slate-200/50 dark:border-slate-700/50 backdrop-blur shadow-sm`,children:f.jsx(Jr,{className:"w-4 h-4"})}),f.jsxs("div",{className:"flex flex-col md:flex-row flex-1 overflow-hidden",children:[f.jsxs("div",{className:"w-full h-[70vh] md:h-auto md:w-2/3 bg-slate-100 dark:bg-slate-900/50 flex flex-col p-4 pt-12 md:p-6 overflow-hidden relative",children:[f.jsx("div",{className:"flex-1 min-h-0",children:f.jsx(kAe,{images:x,currentIndex:c,onChange:$=>u($),onDelete:()=>E(),onDownload:A})}),f.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-800 flex justify-center",children:f.jsxs("label",{className:"w-full sm:w-auto flex items-center justify-center gap-2 px-8 py-3 bg-accent text-white rounded-2xl text-sm font-black hover:brightness-110 cursor-pointer transition-all shadow-xl shadow-accent/20 active:scale-95",children:[f.jsx(l0,{className:"w-5 h-5"}),f.jsx("span",{children:i("productPicture.modal.addPhoto")}),f.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:P})]})})]}),f.jsxs("div",{className:"w-full md:w-1/3 flex-1 p-6 md:p-8 flex flex-col bg-white dark:bg-slate-800 md:border-s border-slate-100 dark:border-slate-700 overflow-y-auto scrollbar-none",children:[f.jsxs("div",{className:"space-y-6 flex-1",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.productTitle")}),f.jsx("input",{type:"text",value:d,onChange:$=>h($.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl font-bold text-slate-800 dark:text-white focus:ring-2 focus:ring-accent outline-none transition-all",placeholder:i("productPicture.modal.enterTitle")})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:i("productPicture.modal.description")}),f.jsx("textarea",{value:p,onChange:$=>g($.target.value),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 focus:ring-2 focus:ring-accent outline-none transition-all resize-none h-32",placeholder:i("productPicture.modal.enterDescription")})]}),f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:i("productPicture.modal.sellingPrice")}),f.jsx("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:a(t.sellingPriceIQD||t.price||0)})]}),f.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:f.jsx(oR,{className:"w-5 h-5 text-accent"})})]})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:S,disabled:v||!d.trim(),className:"w-full py-3.5 bg-accent text-white font-bold rounded-xl shadow-accent transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:v?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(H8,{className:"w-5 h-5"}),i("settings.saveChanges")]})})})]})]}),f.jsx(A4,{isOpen:w,onClose:()=>_(!1),onConfirm:k,title:i("common.delete"),message:i("productPicture.modal.confirmDeleteImage")})]})]})},Vw=({limit:t,onChange:e})=>{const{t:n}=Sr(),{appearance:r}=kn(),[i,a]=R.useState(!1),[s,o]=R.useState(![50,100,500,1e3].includes(t)),l=R.useRef(null),c=R.useRef(null),u=[50,100,500,1e3];R.useEffect(()=>{const p=g=>{l.current&&!l.current.contains(g.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const d=p=>{p==="custom"?o(!0):(o(!1),e(Number(p)),a(!1))},h=p=>{const g=Number(p.target.value);g>0&&e(g)};return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>a(!i),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${i?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(r==null?void 0:r.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[f.jsx(tR,{className:"w-4 h-4"}),f.jsxs("span",{className:"truncate",children:[n("common.showRows")||"Rows",": ",t]}),f.jsx(cl,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&f.jsx("div",{className:"absolute top-full end-0 mt-2 z-50 w-48 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden py-2 ${["liquid","default_glass"].includes(r==null?void 0:r.theme)?"glass-panel":""}`,children:[u.map(p=>f.jsx("button",{onClick:()=>d(p),className:`w-full text-start px-4 py-2 text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors ${t===p&&!s?"text-accent bg-accent/5":"text-slate-600 dark:text-slate-300"}`,children:p},p)),f.jsxs("div",{className:"px-2 pt-2 mt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("button",{onClick:()=>d("custom"),className:`w-full text-start px-2 py-1.5 text-xs font-black uppercase tracking-widest ${s?"text-accent":"text-slate-400"}`,children:n("common.custom")||"Custom"}),s&&f.jsx("div",{className:"px-2 pb-2",children:f.jsx("input",{ref:c,type:"number",value:t,onChange:h,className:"w-full mt-1 px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold outline-none focus:border-accent transition-all dark:text-white",placeholder:"Value...",autoFocus:!0})})]})]})})]})},Uw=(t,e=null)=>{if(!t||t.length===0)return"";const n=e||Object.keys(t[0]),r=n.map(a=>`"${a}"`).join(","),i=t.map(a=>n.map(s=>{let o=a[s];return typeof o=="object"&&o!==null&&(o=JSON.stringify(o)),o==null&&(o=""),`"${String(o).replace(/"/g,'""')}"`}).join(","));return[r,...i].join(`
`)},Bw=(t,e)=>{const n="\uFEFF",r=new Blob([n+t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),a=URL.createObjectURL(r);i.setAttribute("href",a),i.setAttribute("download",e),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},PAe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>{var s,o,l,c,u,d,h;return{"Order ID":a.orderId||a._id,Date:a.date,Status:a.status,"Customer Name":((s=a.customer)==null?void 0:s.name)||"","Customer Phone":((o=a.customer)==null?void 0:o.phone)||"","Customer Email":((l=a.customer)==null?void 0:l.email)||"","Customer Address":((c=a.customer)==null?void 0:c.address)||"",Governorate:((u=a.customer)==null?void 0:u.governorate)||"","Social Platform":((d=a.customer)==null?void 0:d.social)||"","Items Count":((h=a.items)==null?void 0:h.length)||0,Subtotal:a.subtotal||a.total,"Discount %":a.discount||0,Total:a.total,Notes:a.notes||""}}),r=Uw(n),i=e||`orders_export_${new Date().toISOString().split("T")[0]}.csv`;Bw(r,i)},TAe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,Phone:a.phone,Email:a.email||"",Address:a.address||"",Governorate:a.governorate||"","Social Platform":a.social||"",Notes:a.notes||"","Created On":a.createdOn||""})),r=Uw(n),i=e||`customers_export_${new Date().toISOString().split("T")[0]}.csv`;Bw(r,i)},NAe=(t,e=null)=>{if(!t||t.length===0)return;const n=t.map(a=>({Name:a.name,SKU:a.sku,Category:a.category,Stock:a.stock,Status:a.status,"Selling Price (IQD)":a.sellingPriceIQD||a.price,"Unit Price ($)":a.unitPriceUSD||a.unitPrice,"Profit per Unit (IQD)":a.profitPerUnitIQD||0,"Units Sold":a.unitsSold||0,"Total Profit (IQD)":a.totalProfitIQD||0})),r=Uw(n),i=e||`products_export_${new Date().toISOString().split("T")[0]}.csv`;Bw(r,i)},Vp=t=>{const e=Number(t);return e<=0?"Out of Stock":e<10?"Low Stock":"In Stock"},bC=t=>Math.round(t/500)*500,AAe=["In Stock","Low Stock","Out of Stock"],wC=({status:t})=>{const{t:e}=Sr(),n=i=>{switch(i){case"In Stock":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400";case"Low Stock":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Out of Stock":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200"}},r=i=>{switch(i){case"In Stock":return e("products.stockStatus.instock");case"Low Stock":return e("products.stockStatus.lowstock");case"Out of Stock":return e("products.stockStatus.outofstock");default:return i}};return f.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold ${n(t)}`,children:r(t)})},IAe=()=>{const{t,i18n:e}=Sr(),{products:n,addProduct:r,updateProduct:i,deleteProduct:a,categories:s,addCategory:o,updateCategory:l,deleteCategory:c,formatCurrency:u,loading:d,brand:h,addToast:p,appearance:g,setIsModalOpen:x}=kn(),[y,v]=R.useState(""),[b,w]=R.useState([]),[_,S]=R.useState([]),[P,E]=R.useState(!1),[k,N]=R.useState(!1),[I,A]=R.useState(!1),[j,O]=R.useState(100),[$,M]=R.useState(null),[D,V]=R.useState(null),[F,U]=R.useState({key:null,direction:"ascending"}),H=R.useRef(null),[G,K]=R.useState(!1),[ne,ce]=R.useState(null);R.useEffect(()=>(x(P||k||I||G),()=>x(!1)),[P,k,I,G,x]);const pe={name:"",sku:"",category:"",unitPrice:"",price:"",stock:"",status:"In Stock",images:[],alibabaProductLink:"",alibabaMessageLink:"",alibabaOrderLink:"",alibabaOrderNumber:"",unitPriceUSD:"",exchangeRate:"1380",unitPriceIQD:0,additionalFeesIQD:"",shippingToIraqIQD:"",marginPercent:"",sellingPriceIQD:0,profitPerUnitIQD:0,unitsSold:0,totalProfitIQD:0,alibabaFeeUSD:"",isSellingPriceOverridden:!1,costPriceIQD_total:0,costPriceIQD_perUnit:0,recommendedSellingPriceIQD_perUnit:0,alibabaNote:"",description:"",profitPerUnitUSD:0,totalProfitUSD:0},[ee,we]=R.useState(pe),[Ce,ie]=R.useState(""),[be,Z]=R.useState(!1),W=R.useMemo(()=>{const ae={};return n.forEach(Ae=>{Ae.category&&(ae[Ae.category]=(ae[Ae.category]||0)+1)}),s.map(Ae=>({value:Ae,label:Ae,count:ae[Ae]||0})).sort((Ae,it)=>it.count-Ae.count)},[s,n]),de=R.useMemo(()=>{const ae={};return n.forEach(Ae=>{Ae.status&&(ae[Ae.status]=(ae[Ae.status]||0)+1)}),AAe.map(Ae=>({value:Ae,label:t(`products.stockStatus.${Ae.replace(/\s/g,"").toLowerCase()}`),count:ae[Ae]||0}))},[n,t]),ve=R.useMemo(()=>{let ae=[...n];return F.key&&ae.sort((Ae,it)=>{let tt=Ae[F.key],te=it[F.key];return typeof tt=="string"&&(tt=tt.toLowerCase()),typeof te=="string"&&(te=te.toLowerCase()),tt<te?F.direction==="ascending"?-1:1:tt>te?F.direction==="ascending"?1:-1:0}),ae},[n,F]).filter(ae=>{const Ae=ae.name.toLowerCase().includes(y.toLowerCase())||ae.sku.toLowerCase().includes(y.toLowerCase()),it=b.length===0||b.includes(ae.category),tt=_.length===0||_.includes(ae.status);return Ae&&it&&tt}).slice(0,j),Re=ae=>{let Ae="ascending";F.key===ae&&F.direction==="ascending"&&(Ae="descending"),U({key:ae,direction:Ae})};R.useEffect(()=>{const ae=parseFloat(ee.unitPriceUSD)||0,Ae=parseFloat(ee.alibabaFeeUSD)||0,it=parseInt(ee.stock)||0,tt=parseFloat(ee.exchangeRate)||1320,te=parseFloat(ee.shippingToIraqIQD)||0,z=parseFloat(ee.additionalFeesIQD)||0,me=parseFloat(ee.marginPercent)||0,_e=parseInt(ee.unitsSold)||0,Rt=(ae+Ae)*it*tt+te+z,Er=it>0?Rt/it:0,Hn=Er*(1+me/100),q=bC(Hn);we(Q=>{let fe=Q.sellingPriceIQD;Q.isSellingPriceOverridden||(fe=q);const Me=(parseFloat(fe)||0)-Er,ct=Me*_e,St=tt>0?Me/tt:0,Tn=St*_e;return Q.costPriceIQD_total===Rt&&Q.costPriceIQD_perUnit===Er&&Q.recommendedSellingPriceIQD_perUnit===q&&Q.sellingPriceIQD===fe&&Q.profitPerUnitIQD===Me&&Q.totalProfitIQD===ct&&Q.profitPerUnitUSD===St&&Q.totalProfitUSD===Tn?Q:{...Q,costPriceIQD_total:Rt,costPriceIQD_perUnit:Er,recommendedSellingPriceIQD_perUnit:q,sellingPriceIQD:fe,profitPerUnitIQD:Me,totalProfitIQD:ct,profitPerUnitUSD:St,totalProfitUSD:Tn,unitPrice:ae,price:fe}})},[ee.unitPriceUSD,ee.alibabaFeeUSD,ee.stock,ee.exchangeRate,ee.shippingToIraqIQD,ee.additionalFeesIQD,ee.marginPercent,ee.unitsSold,ee.isSellingPriceOverridden]);const bt=()=>{M(null),we(pe),E(!0)},Ke=ae=>{M(ae),we({...pe,...ae,images:ae.images||[]}),E(!0)},et=ae=>{ce(ae),K(!0)},X=()=>{ne&&(a(ne),K(!1),ce(null))},ue=ae=>{const{name:Ae,value:it}=ae.target;if(Ae==="category"&&it==="new")Z(!0),we(tt=>({...tt,category:""}));else if(Ae==="sellingPriceIQD"){const tt=it===""?"":parseFloat(it);we(te=>({...te,sellingPriceIQD:tt,isSellingPriceOverridden:!0}))}else we(tt=>({...tt,[Ae]:it}))},Ie=()=>{we(ae=>{if(!ae.isSellingPriceOverridden)return ae;const Ae=bC(parseFloat(ae.sellingPriceIQD)||0),it=ae.costPriceIQD_perUnit,tt=it>0?(Ae/it-1)*100:0;return{...ae,sellingPriceIQD:Ae,marginPercent:tt.toFixed(2)}})},Ye=ae=>{const Ae=Array.from(ae.target.files);Ae.length!==0&&Ae.forEach(it=>{const tt=new FileReader;tt.onloadend=()=>{we(te=>({...te,images:[...te.images,tt.result]}))},tt.readAsDataURL(it)})},Be=ae=>{const Ae=ee.images.filter((it,tt)=>tt!==ae);we(it=>({...it,images:Ae}))},gt=ae=>{if(ae.preventDefault(),parseFloat(ee.marginPercent)>=100){p(t("products.marginTooHigh"),"error");return}const Ae={...ee,unitPriceUSD:parseFloat(ee.unitPriceUSD)||0,alibabaFeeUSD:parseFloat(ee.alibabaFeeUSD)||0,exchangeRate:parseFloat(ee.exchangeRate)||1380,additionalFeesIQD:parseFloat(ee.additionalFeesIQD)||0,shippingToIraqIQD:parseFloat(ee.shippingToIraqIQD)||0,marginPercent:parseFloat(ee.marginPercent)||0,unitsSold:parseInt(ee.unitsSold)||0,stock:parseInt(ee.stock)||0,status:Vp(ee.stock),unitPrice:parseFloat(ee.unitPriceUSD)||0,price:ee.sellingPriceIQD||0,images:ee.images||[]};$?i({...Ae,_id:$._id}):r(Ae),E(!1)},Nt=({column:ae,label:Ae,border:it=!1})=>{const tt=F.key===ae;return f.jsx("th",{onClick:()=>Re(ae),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${it?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[Ae,tt&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:F.direction==="ascending"?"":""})]})})};return f.jsxs(Su,{title:t("products.title"),children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:bt,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent hover:brightness-110 active:scale-95",children:[f.jsx(l0,{className:"w-5 h-5"}),f.jsx("span",{children:t("products.addProduct")})]}),f.jsxs("button",{onClick:()=>{if(ve.length===0)return p(t("common.noDataToExport"),"info");NAe(ve)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700 active:scale-95",children:[f.jsx(Tg,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-6 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700 active:scale-95",children:[f.jsx(W8,{className:"w-4 h-4"}),f.jsx("span",{children:t("products.manageCategories")})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(b.length>0||_.length>0||y)&&f.jsx("button",{onClick:()=>{v(""),w([]),S([])},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(Vw,{limit:j,onChange:O}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(ys,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:ve.length})," ",t("products.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(yu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:y,onChange:ae=>v(ae.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx(Hi,{title:t("products.categories"),options:W,selectedValues:b,onChange:w,icon:Vo,showProductCount:!0}),f.jsx(Hi,{title:t("products.status"),options:de,selectedValues:_,onChange:S,icon:lr,showSearch:!1})]})]}),k&&f.jsx(EAe,{categories:s,products:n,onClose:()=>N(!1),onAdd:o,onUpdate:l,onDelete:c}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(Nt,{column:"name",label:t("products.table.product")}),f.jsx(Nt,{column:"category",label:t("products.table.category")}),f.jsx(Nt,{column:"stock",label:t("products.table.stock"),border:!0}),f.jsx(Nt,{column:"sellingPriceIQD",label:t("products.table.price"),border:!0}),f.jsx(Nt,{column:"status",label:t("products.table.status"),border:!0}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:d?Array.from({length:5}).map((ae,Ae)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(We,{className:"w-12 h-12 rounded-xl"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(We,{className:"w-24 h-4"}),f.jsx(We,{className:"w-16 h-3"})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(We,{className:"w-20 h-6 rounded-lg"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(We,{className:"w-12 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(We,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(We,{className:"w-20 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(We,{className:"w-16 h-8 ms-auto rounded-lg"})})]},Ae)):ve.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"text-center py-12 text-slate-400",children:[f.jsx(ys,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]})}):ve.map(ae=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0 cursor-zoom-in hover:brightness-90 transition-all shadow-sm",onClick:()=>{V(ae),A(!0)},children:f.jsx(Yi,{src:ae.images&&ae.images[0]?typeof ae.images[0]=="string"?ae.images[0]:ae.images[0].url:ae.image||"https://via.placeholder.com/400x400?text=No+Image",alt:ae.name,className:"w-full h-full"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:ae.name}),f.jsx("p",{className:"text-xs font-mono text-slate-400 uppercase tracking-tighter",children:ae.sku})]})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"px-2.5 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg text-xs font-bold",children:ae.category})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:ae.stock})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(ae.sellingPriceIQD||ae.price||0)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(wC,{status:Vp(ae.stock)})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>Ke(ae),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(vs,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>et(ae._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Ns,{className:"w-4 h-4"})})]})})]},ae._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:d?Array.from({length:3}).map((ae,Ae)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex gap-4",children:[f.jsx(We,{className:"w-16 h-16 rounded-xl flex-shrink-0"}),f.jsxs("div",{className:"flex-1 space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(We,{className:"w-32 h-4"}),f.jsx(We,{className:"w-20 h-3"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(We,{className:"w-16 h-4"}),f.jsx(We,{className:"w-12 h-3"})]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(We,{className:"w-20 h-3"}),f.jsx(We,{className:"w-16 h-8 rounded-lg"})]})]})]},Ae)):ve.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(ys,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("products.noProducts")})]}):ve.map(ae=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 flex-shrink-0",children:f.jsx(Yi,{src:ae.images&&ae.images[0]?typeof ae.images[0]=="string"?ae.images[0]:ae.images[0].url:ae.image||"https://via.placeholder.com/400x400?text=No+Image",alt:ae.name,className:"w-full h-full"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:ae.name}),f.jsxs("p",{className:"text-xs text-slate-400",children:[ae.sku,"  ",f.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-slate-100 dark:bg-slate-700",children:ae.category})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-sm font-black text-slate-800 dark:text-white",children:u(ae.sellingPriceIQD||ae.price||0)}),f.jsx("div",{className:"text-[10px] text-slate-400",children:Vp(ae.stock)})]})]}),f.jsxs("div",{className:"flex items-center justify-between mt-3",children:[f.jsxs("div",{className:"text-[11px] text-slate-600",children:[t("products.table.stock"),": ",f.jsx("span",{className:"font-bold",children:ae.stock})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>Ke(ae),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",title:t("common.edit"),children:f.jsx(vs,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>et(ae._id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",title:t("common.delete"),children:f.jsx(Ns,{className:"w-4 h-4"})})]})]})]})]},ae._id))})]}),P&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/50 backdrop-blur-sm p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-2xl w-full max-w-2xl my-4 sm:my-8 animate-in fade-in zoom-in duration-200 flex flex-col relative max-h-[90vh]",children:[f.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 sticky top-0 z-20 rounded-t-3xl",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:t($?"products.editProduct":"products.addProduct")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:$?`${t("products.sku")}: ${ee.sku}`:t("products.fillInfo")})]}),f.jsx("button",{onClick:()=>E(!1),className:"w-10 h-10 flex items-center justify-center text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full transition-all",children:f.jsx(Jr,{className:"w-6 h-6"})})]}),f.jsxs("form",{id:"productForm",onSubmit:gt,className:"overflow-y-auto p-6 space-y-8 custom-scrollbar relative",children:[f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.basicInfo")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productName")}),f.jsx("input",{required:!0,name:"name",value:ee.name,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.productNamePlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.sku")}),f.jsx("input",{required:!0,name:"sku",value:ee.sku,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all",placeholder:t("products.form.skuPlaceholder")})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.category")}),f.jsx(Ga,{title:t("products.form.selectCategory"),options:s.map(ae=>({value:ae,label:ae})),selectedValue:ee.category,onChange:ae=>we(Ae=>({...Ae,category:ae})),icon:Vo,showSearch:!1,customAction:{label:t("products.form.createCategory"),icon:l0,onClick:()=>N(!0)}})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.stock")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"stock",value:ee.stock,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none dark:text-white transition-all shadow-sm"}),f.jsx("div",{className:"absolute end-3 top-1/2 -translate-y-1/2",children:f.jsx(wC,{status:Vp(ee.stock)})})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.alibabaSourcing")}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.productLink")}),f.jsx("input",{name:"alibabaProductLink",value:ee.alibabaProductLink,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.messageLink")}),f.jsx("input",{name:"alibabaMessageLink",value:ee.alibabaMessageLink,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.orderLink")}),f.jsx("input",{name:"alibabaOrderLink",value:ee.alibabaOrderLink,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium",placeholder:"https://..."})]}),f.jsxs("div",{className:"col-span-2 md:col-span-1",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaOrderNo")}),f.jsx("input",{name:"alibabaOrderNumber",value:ee.alibabaOrderNumber,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold shadow-sm",placeholder:"1234..."})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaNote")}),f.jsxs("div",{className:"relative",children:[f.jsx(dG,{className:"absolute start-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"alibabaNote",value:ee.alibabaNote,onChange:ue,className:"w-full ps-10 pe-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[80px] resize-none",placeholder:t("products.form.notePlaceholder")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.costAndPricing")}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.unitPrice")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{required:!0,type:"number",step:"0.01",name:"unitPriceUSD",value:ee.unitPriceUSD,onChange:ue,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.alibabaFee")}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute start-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm",children:"$"}),f.jsx("input",{type:"number",step:"0.01",name:"alibabaFeeUSD",value:ee.alibabaFeeUSD,onChange:ue,className:"w-full ps-7 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.exchangeRate")}),f.jsx("input",{required:!0,type:"number",name:"exchangeRate",value:ee.exchangeRate,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.margin")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{required:!0,type:"number",name:"marginPercent",value:ee.marginPercent,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none font-bold"}),f.jsx("span",{className:"absolute end-3 top-1/2 -translate-y-1/2 text-slate-400",children:"%"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.shippingIQD")}),f.jsx("input",{type:"number",name:"shippingToIraqIQD",value:ee.shippingToIraqIQD,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.otherFeesIQD")}),f.jsx("input",{type:"number",name:"additionalFeesIQD",value:ee.additionalFeesIQD,onChange:ue,className:"w-full p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-[var(--brand-color)]/20 outline-none"})]}),f.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costTotal")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(ee.costPriceIQD_total||0).toLocaleString()]})]}),f.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.costPerUnit")}),f.jsxs("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:["IQD ",(ee.costPriceIQD_perUnit||0).toLocaleString()]})]})]}),f.jsxs("div",{className:"col-span-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider block mb-1",children:t("products.form.recommendedPrice")}),f.jsxs("span",{className:"text-xl font-bold text-slate-600 dark:text-slate-400",children:["IQD ",(ee.recommendedSellingPriceIQD_perUnit||0).toLocaleString()]})]}),f.jsxs("div",{className:`p-4 rounded-2xl border-2 transition-all ${ee.isSellingPriceOverridden?"bg-orange-50 border-orange-200 dark:bg-orange-900/10 dark:border-orange-800/50":"bg-[var(--brand-color)]/5 border-[var(--brand-color)]/20"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("span",{className:"text-[10px] font-bold text-[var(--brand-color)] uppercase tracking-wider",children:t("products.form.finalPrice")}),ee.isSellingPriceOverridden&&f.jsxs("button",{type:"button",onClick:()=>we(ae=>({...ae,isSellingPriceOverridden:!1})),className:"text-[10px] font-bold text-orange-600 hover:underline flex items-center gap-1",children:[f.jsx(Jr,{className:"w-3 h-3"})," ",t("common.reset")]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg font-black text-[var(--brand-color)]",children:"IQD"}),f.jsx("input",{type:"number",name:"sellingPriceIQD",value:ee.sellingPriceIQD,onChange:ue,onBlur:Ie,className:"w-full bg-transparent border-b-2 border-[var(--brand-color)] animate-pulse-slow outline-none text-2xl font-black text-[var(--brand-color)]"})]}),f.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-medium italic",children:ee.isSellingPriceOverridden?t("products.form.manualOverride"):t("products.form.autoCalculated")})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-[var(--brand-color)] uppercase tracking-widest mb-4 border-b border-indigo-50 dark:border-indigo-900/30 pb-2",children:t("products.form.profitAnalysis")}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-green-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:t("products.form.iqdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${ee.profitPerUnitIQD>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:[ee.profitPerUnitIQD>=0?"+":"-"," IQD ",Math.abs(ee.profitPerUnitIQD||0).toLocaleString()]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${ee.totalProfitIQD>=0?"text-green-500":"text-red-400"}`,children:["IQD ",(ee.totalProfitIQD||0).toLocaleString()]})]})]})]}),f.jsxs("div",{className:"p-4 bg-slate-900 dark:bg-slate-950 rounded-2xl border border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-2 h-4 bg-blue-500 rounded-full"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:t("products.form.usdAnalysis")})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.profitPerUnit")}),f.jsxs("span",{className:`text-lg font-black ${ee.profitPerUnitUSD>=0?"text-blue-500":"text-red-400"}`,children:[ee.profitPerUnitUSD>=0?"+":"-"," $",Math.abs(ee.profitPerUnitUSD||0).toFixed(2)]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:t("products.form.totalProfit")}),f.jsxs("span",{className:`text-lg font-black ${ee.totalProfitUSD>=0?"text-blue-400":"text-red-400"}`,children:["$",(ee.totalProfitUSD||0).toFixed(2)]})]})]})]}),f.jsxs("div",{className:"col-span-full p-4 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:f.jsx(lr,{className:"w-4 h-4 text-slate-500"})}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-400 uppercase",children:t("products.form.qtyCalculation")}),f.jsx("span",{className:"text-xs font-medium text-slate-500 italic",children:t("products.form.unitsExpected")})]})]}),f.jsx("input",{type:"number",name:"unitsSold",value:ee.unitsSold,onChange:ue,className:"w-24 text-right p-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg outline-none text-base font-black text-accent focus:ring-2 focus:ring-accent/20"})]})]})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.generalInfo")}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase mb-1",children:t("products.form.description")}),f.jsxs("div",{className:"relative",children:[f.jsx(eR,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),f.jsx("textarea",{name:"description",value:ee.description,onChange:ue,className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-medium min-h-[120px] resize-none",placeholder:t("products.form.descriptionPlaceholder")})]})]})})]}),f.jsxs("section",{children:[f.jsx("h4",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t("products.form.gallery")}),f.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[ee.images.map((ae,Ae)=>f.jsxs("div",{className:"relative group aspect-square rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 group",children:[f.jsx(Yi,{src:ae,alt:"Product",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>Be(Ae),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity transform hover:scale-110",children:f.jsx(Jr,{className:"w-3 h-3"})})]},Ae)),f.jsxs("button",{type:"button",onClick:()=>{var ae;return(ae=H.current)==null?void 0:ae.click()},className:"aspect-square rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center text-slate-400 hover:border-[var(--brand-color)] hover:text-[var(--brand-color)] transition-all hover:bg-slate-50 dark:hover:bg-slate-900 group",children:[f.jsx(lR,{className:"w-5 h-5 mb-1 group-hover:scale-110 transition-transform"}),f.jsx("span",{className:"text-[9px] font-black uppercase",children:t("products.form.addImage")})]})]}),f.jsx("input",{type:"file",ref:H,className:"hidden",onChange:Ye,multiple:!0,accept:"image/*"})]}),f.jsx("div",{className:"h-20"})]}),f.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-end gap-3 sticky bottom-0 bg-white dark:bg-slate-800 rounded-b-2xl shadow-[0_-10px_20px_rgba(0,0,0,0.05)] z-20",children:[f.jsx("button",{type:"button",onClick:()=>E(!1),className:"order-2 sm:order-1 px-6 py-2.5 text-slate-500 dark:text-slate-400 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-all",children:t("common.cancel")}),f.jsxs("button",{type:"submit",form:"productForm",className:"order-1 sm:order-2 px-8 py-2.5 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 flex items-center justify-center gap-2",children:[f.jsx(H8,{className:"w-5 h-5"}),t($?"products.update":"products.create")]})]})]})}),I&&D&&f.jsx(WB,{product:D,onClose:()=>{A(!1),V(null)},onSave:async(ae,Ae=!1)=>{await i(ae),V(ae),Ae||(A(!1),V(null))}}),f.jsx(A4,{isOpen:G,onClose:()=>{K(!1),ce(null)},onConfirm:X,title:t("common.delete"),message:t("products.confirmDelete")})]})},HB=({title:t,options:e,selectedValue:n,onChange:r,icon:i})=>{var d;const{appearance:a}=kn(),[s,o]=R.useState(!1),l=R.useRef(null);R.useEffect(()=>{const h=p=>{l.current&&!l.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const c=h=>{r(h),o(!1)},u=((d=e.find(h=>h.value===n))==null?void 0:d.label)||t;return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:()=>o(!s),className:`flex items-center gap-1.5 px-3 h-[44px] rounded-2xl border-2 transition-all font-bold text-[11px] outline-none ${s?"bg-accent/10 border-accent/30 text-accent shadow-[0_0_15px_-3px_rgba(0,0,0,0.1)]":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"bg-white/40 dark:bg-slate-800/40 backdrop-blur-md border-white/20 dark:border-slate-700/50 text-slate-500 hover:bg-white/60 dark:hover:bg-slate-700/60":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-800 text-slate-500 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[i?f.jsx(i,{className:"w-4 h-4"}):f.jsx(W8,{className:"w-4 h-4"}),f.jsx("span",{className:"truncate max-w-[120px]",children:u}),f.jsx(cl,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`})]}),s&&f.jsx("div",{className:"absolute top-full start-0 mt-2 z-50 w-72 animate-in fade-in zoom-in-95 duration-200",children:f.jsxs("div",{className:`rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden flex flex-col w-full min-w-[240px] transition-all ${["liquid","default_glass"].includes(a==null?void 0:a.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:"px-4 py-3 pb-2 flex items-center justify-between",children:f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("h3",{className:"text-[11px] font-bold text-slate-400 uppercase tracking-widest",children:t})})}),f.jsx("div",{className:"flex-1 px-2 pb-2 space-y-1 max-h-64 overflow-y-auto",children:e.map(h=>{const p=n===h.value;return f.jsx("div",{onClick:()=>c(h.value),className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-all group ${p?"bg-accent/10":["liquid","default_glass"].includes(a==null?void 0:a.theme)?"hover:bg-white/20 dark:hover:bg-slate-700/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:f.jsx("span",{className:`text-sm font-semibold ${p?"text-accent":"text-slate-600 dark:text-slate-300"}`,children:h.label})},h.value)})})]})})]})},_C=({order:t,onUpdate:e})=>{const[n,r]=R.useState(!1),i=B.useRef(null);B.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const{t:a}=Sr(),s=c=>{switch(c){case"Processing":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"Completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"Cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"Pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300"}},o=c=>{c!==t.status&&e({...t,status:c}),r(!1)},l=c=>a(`common.status.${c.toLowerCase()}`,c);return f.jsxs("div",{className:"relative",ref:i,children:[f.jsxs("button",{onClick:()=>r(!n),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-all hover:brightness-95 active:scale-95 ${s(t.status)}`,children:[l(t.status),f.jsx("div",{className:`w-0 h-0 border-s-[3px] border-s-transparent border-t-[4px] border-t-current border-e-[3px] border-e-transparent opacity-50 ${document.dir==="rtl"?"me-1":"ms-1"}`})]}),n&&f.jsx("div",{className:`absolute top-full mt-1 w-32 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-100 dark:border-slate-700 py-1 z-50 animate-in fade-in zoom-in-95 duration-100 ${document.dir==="rtl"?"end-0":"start-0"}`,children:["Processing","Completed","Cancelled","Pending"].map(c=>f.jsx("button",{onClick:()=>o(c),className:`w-full text-start px-3 py-2 text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${t.status===c?"text-accent bg-slate-50 dark:bg-slate-700/30":"text-slate-600 dark:text-slate-300"}`,children:l(c)},c))})]})},CAe=()=>{var ze,ht,Rt,Er,Hn;const{t}=Sr(),{orders:e,products:n,customers:r,addOrder:i,updateOrder:a,deleteOrder:s,addCustomer:o,formatCurrency:l,brand:c,loading:u,appearance:d,addToast:h,setIsModalOpen:p}=kn(),[g,x]=R.useState(""),[y,v]=R.useState(!1),[b,w]=R.useState(!1),[_,S]=R.useState(null),[P,E]=R.useState(null),[k,N]=R.useState(!1),[I,A]=R.useState(!1),[j,O]=R.useState(null);R.useEffect(()=>(p(y||b||I),()=>p(!1)),[y,b,I,p]);const[$,M]=R.useState(100),D=R.useMemo(()=>e.length===0?nw(new Date,30):e.reduce((q,Q)=>{try{const fe=fa(Q.date);return fe<q?fe:q}catch{return q}},new Date),[e]),V=R.useMemo(()=>({from:D,to:new Date}),[D]),[F,U]=R.useState(V),[H,G]=R.useState(!1);B.useEffect(()=>{!u&&e.length>0&&!H&&(U(V),G(!0))},[u,e.length,V,H]);const[K,ne]=R.useState([]),[ce,pe]=R.useState([]),[ee,we]=R.useState([]),[Ce,ie]=R.useState("date-new"),[be,Z]=R.useState({column:"date",direction:"desc"}),W=R.useMemo(()=>{const q={};return e.forEach(Q=>{var Me;const fe=(Me=Q.customer)==null?void 0:Me.governorate;fe&&(q[fe]=(q[fe]||0)+1)}),Gh.map(Q=>({value:Q,label:Q,count:q[Q]||0})).sort((Q,fe)=>fe.count-Q.count)},[e]),de=R.useMemo(()=>{const q={};return e.forEach(Q=>{var Me;const fe=(Me=Q.customer)==null?void 0:Me.social;fe&&(q[fe]=(q[fe]||0)+1)}),Kh.map(Q=>({value:Q,label:Q,count:q[Q]||0})).sort((Q,fe)=>fe.count-Q.count)},[e]),ke=R.useMemo(()=>{const q={};return e.forEach(Q=>{const fe=Q.status;fe&&(q[fe]=(q[fe]||0)+1)}),["Processing","Completed","Cancelled","Pending"].map(Q=>({value:Q,label:t(`common.status.${Q.toLowerCase()}`,Q),count:q[Q]||0}))},[e,t]),[ge,ve]=R.useState({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0}),[Re,bt]=R.useState(""),[Ke,et]=R.useState(1),X=R.useMemo(()=>e.filter(fe=>{const Me=g.toLowerCase(),ct=fe.orderId.toLowerCase().includes(Me)||fe.customer.name.toLowerCase().includes(Me),St=fa(fe.date),Tn=!(F!=null&&F.from)||!(F!=null&&F.to)||xc(St,{start:F.from,end:F.to}),si=K.length===0||K.includes(fe.customer.governorate),Nn=ce.length===0||ce.includes(fe.customer.social),bl=ee.length===0||ee.includes(fe.status);return ct&&Tn&&si&&Nn&&bl}).sort((fe,Me)=>{let ct=0;return be.column==="orderId"?ct=fe.orderId.localeCompare(Me.orderId):be.column==="customer"?ct=fe.customer.name.localeCompare(Me.customer.name):be.column==="date"?ct=new Date(fe.date)-new Date(Me.date):be.column==="total"?ct=fe.total-Me.total:be.column==="status"&&(ct=fe.status.localeCompare(Me.status)),be.direction==="asc"?ct:-ct}).slice(0,$),[e,g,K,ce,ee,Ce,F,be,$]),ue=q=>{ie(q),q==="date-new"?Z({column:"date",direction:"desc"}):q==="date-old"?Z({column:"date",direction:"asc"}):q==="total-high"?Z({column:"total",direction:"desc"}):q==="total-low"?Z({column:"total",direction:"asc"}):q==="name-asc"&&Z({column:"customer",direction:"asc"})},Ie=()=>{if(!Re)return;const q=n.find(Nn=>Nn._id===Re);if(!q)return;const Q=parseInt(Ke),fe=e.find(Nn=>Nn._id===P),Me=fe==null?void 0:fe.items.find(Nn=>Nn.product._id===q._id),ct=Me?Me.quantity:0,St=q.stock+ct;if(Q>St)return h(t("orders.stockError",{available:St}),"error");const Tn=ge.items.findIndex(Nn=>Nn.product._id===q._id),si=q.sellingPriceIQD||q.price||0;if(Tn>-1){const Nn=[...ge.items],bl=Nn[Tn].quantity+Q;if(bl>St)return h(t("orders.limitReached",{available:St}),"error");Nn[Tn].quantity=bl,ve(wl=>({...wl,items:Nn}))}else ve(Nn=>({...Nn,items:[...Nn.items,{product:q,quantity:Q,price:si}]}));et(1),bt("")},Ye=q=>{const Q=ge.items.filter((fe,Me)=>Me!==q);ve(fe=>({...fe,items:Q}))},Be=(q,Q)=>{const fe=[...ge.items];fe[q].price=parseFloat(Q||0),ve(Me=>({...Me,items:fe}))},gt=(q,Q)=>{ge.items[q].product;const fe=parseInt(Q||0),Me=[...ge.items];Me[q].quantity=fe,ve(ct=>({...ct,items:Me}))},Nt=q=>q.reduce((Q,fe)=>Q+fe.price*fe.quantity,0),ae=()=>{const q=Nt(ge.items),Q=q*(ge.discount/100);let fe=q-Q;return fe=Math.ceil(fe/500)*500,fe},Ae=q=>{if(ve(Q=>({...Q,customerId:q})),q==="new")ve(Q=>({...Q,customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:""}));else if(q){const Q=r.find(fe=>fe._id===q);Q&&ve(fe=>({...fe,customerName:Q.name,customerPhone:Q.phone,customerGender:Q.gender||"",customerAddress:Q.address,customerGovernorate:Q.governorate,customerSocial:Q.social}))}},it=q=>{w(!1),E(q._id);const Q=r.find(fe=>fe.name===q.customer.name&&fe.phone===q.customer.phone);ve({customerId:Q?Q._id:"new",customerName:q.customer.name,customerPhone:q.customer.phone,customerGender:q.customer.gender||"",customerAddress:q.customer.address||"",customerGovernorate:q.customer.governorate||"",customerSocial:q.customer.social||"",customerNotes:q.notes||"",items:q.items,discount:q.discount||0}),v(!0)},tt=q=>{S(q),w(!0)},te=async()=>{if(ge.items.length===0)return h(t("orders.addItemsError"),"error");if(!ge.customerName||!ge.customerPhone)return h(t("orders.customerError"),"error");const q=e.find(Q=>Q._id===P);for(const Q of ge.items){const fe=n.find(Tn=>Tn._id===Q.product._id),Me=q==null?void 0:q.items.find(Tn=>Tn.product._id===Q.product._id),ct=Me?Me.quantity:0,St=((fe==null?void 0:fe.stock)||0)+ct;if(Q.quantity>St)return h(t("orders.stockErrorWithName",{name:Q.product.name,available:St}),"error")}N(!0);try{let Q={_id:ge.customerId!=="new"?ge.customerId:void 0,name:ge.customerName,phone:ge.customerPhone,gender:ge.customerGender,address:ge.customerAddress,governorate:ge.customerGovernorate,social:ge.customerSocial};if(ge.customerId==="new"){const St=await o({...Q,email:""});Q._id=St._id}const fe=Nt(ge.items),Me=ae(),ct={customer:Q,date:P&&q?q.date:new Date().toISOString(),total:Me,subtotal:fe,discount:ge.discount,status:P&&q?q.status:"Processing",items:ge.items,notes:ge.customerNotes};if(P&&q)await a({...ct,_id:P,orderId:q.orderId});else{const St=await i(ct);St&&setTimeout(()=>{try{z(St)}catch(Tn){console.error("Print error:",Tn)}},800)}v(!1),E(null),ve({customerId:"new",customerName:"",customerPhone:"",customerGender:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})}catch(Q){console.error("Order submission error:",Q),h(t("orders.errors.submitError",{message:Q.message||t("orders.errors.unknown")}),"error")}finally{N(!1)}},z=q=>{const Q=window.open("","","width=600,height=800"),fe=document.dir==="rtl";Q.document.write(`
            <html dir="${fe?"rtl":"ltr"}">
                <head>
                    <title>${t("orders.receipt.title")}</title>
                    <style>
                        body { font-family: 'Cairo', 'Courier New', monospace; padding: 20px; font-size: 14px; direction: ${fe?"rtl":"ltr"}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .item { display: flex; justify-content: space-between; margin-bottom: 5px; }
                        .divider { border-top: 1px dashed black; margin: 10px 0; }
                        .totals { text-align: ${fe?"left":"right"}; margin-top: 10px; }
                        .total-row { display: flex; justify-content: space-between; font-weight: bold; margin-top: 5px; }
                        .discount { color: red; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>${t("orders.receipt.companyName")}</h2>
                        <p>${t("orders.receipt.address")}</p>
                        <p>${t("orders.receipt.order")}: ${q.orderId||"###"}</p>
                        <p>${q.date}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        <p><strong>${t("orders.receipt.customer")}:</strong> ${q.customer.name}</p>
                        <p><strong>${t("orders.receipt.phone")}:</strong> ${q.customer.phone||t("orders.receipt.na")}</p>
                        <p><strong>${t("orders.receipt.gov")}:</strong> ${q.customer.governorate||t("orders.receipt.na")}</p>
                    </div>
                    <div class="divider"></div>
                    <div>
                        ${q.items.map(Me=>`
                            <div class="item">
                                <span>${Me.product.name} <br> <small>x${Me.quantity} @ ${l(Me.price)}</small></span>
                                <span>${l(Me.price*Me.quantity)}</span>
                            </div>
                        `).join("")}
                    </div>
                    <div class="divider"></div>
                    <div class="totals">
                        <div class="total-row" style="font-weight: normal;">
                            <span>${t("orders.receipt.subtotal")}:</span>
                            <span>${l(q.subtotal||q.total)}</span>
                        </div>
                        ${q.discount?`
                        <div class="total-row discount" style="font-weight: normal;">
                            <span>${t("orders.receipt.discount")} (${q.discount}%):</span>
                            <span>-${l((q.subtotal||q.total)-q.total)}</span>
                        </div>
                        `:""}
                        <div class="total-row" style="font-size: 18px; margin-top: 10px;">
                            <span>${t("orders.receipt.total")}:</span>
                            <span>${l(q.total)}</span>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <p>${t("orders.receipt.thankYou")}</p>
                        <p>${t("orders.receipt.noReturn")}</p>
                    </div>
                </body>
            </html>
        `),Q.document.close(),Q.print()},me=q=>{be.column===q?Z(Q=>({...Q,direction:Q.direction==="asc"?"desc":"asc"})):Z({column:q,direction:"asc"})},_e=({column:q,label:Q,border:fe=!1})=>{const Me=be.column===q;return f.jsx("th",{onClick:()=>me(q),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-600 transition-colors select-none ${fe?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[Q,Me&&f.jsx("span",{className:"text-accent font-bold",children:be.direction==="asc"?"":""})]})})};return f.jsxs(Su,{title:t("orders.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:()=>{v(!0),E(null),ve({customerId:"new",customerName:"",customerPhone:"",customerAddress:"",customerGovernorate:"",customerSocial:"",customerNotes:"",items:[],discount:0})},className:"flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(l0,{className:"w-5 h-5"}),f.jsx("span",{children:t("orders.createOrder")})]}),f.jsxs("button",{onClick:()=>{if(X.length===0)return h(t("common.noDataToExport"),"info");PAe(X)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(Tg,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(K.length>0||ee.length>0||ce.length>0||g||((ze=F.from)==null?void 0:ze.getTime())!==((ht=V.from)==null?void 0:ht.getTime())||((Rt=F.to)==null?void 0:Rt.getTime())!==((Er=V.to)==null?void 0:Er.getTime()))&&f.jsx("button",{onClick:()=>{x(""),we([]),ne([]),pe([]),U(V)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(Vw,{limit:$,onChange:M}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(lr,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:X.length})," ",t("orders.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(yu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("orders.searchPlaceholder"),value:g,onChange:q=>x(q.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-accent/40 focus:ring-4 focus:ring-accent/10 transition-all font-bold text-sm text-slate-700 dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(rw,{range:F,onRangeChange:U,brandColor:c.color})}),f.jsx(Hi,{title:t("orders.status"),options:ke,selectedValues:ee,onChange:we,icon:lr,showSearch:!1}),f.jsx(Hi,{title:t("orders.governorate"),options:W,selectedValues:K,onChange:ne,icon:Ea,showSearch:!1}),f.jsx(Hi,{title:t("orders.socialMedia"),options:de,selectedValues:ce,onChange:pe,icon:gs,showSearch:!1}),f.jsx(HB,{title:t("common.sort"),options:[{value:"date-new",label:t("common.dateNew")},{value:"date-old",label:t("common.dateOld")},{value:"total-high",label:t("common.priceHigh")},{value:"total-low",label:t("common.priceLow")},{value:"name-asc",label:t("common.nameAZ")}],selectedValue:Ce,onChange:ue})]})]}),f.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(d.theme)?"glass-panel":""}`,children:[f.jsx("div",{className:"hidden sm:block overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 uppercase",children:[f.jsx(_e,{column:"orderId",label:t("orders.table.orderId")}),f.jsx(_e,{column:"customer",label:t("orders.table.customer")}),f.jsx(_e,{column:"date",label:t("orders.table.date"),border:!0}),f.jsx(_e,{column:"total",label:t("orders.table.total"),border:!0}),f.jsx(_e,{column:"status",label:t("orders.table.status"),border:!0}),f.jsx("th",{className:"ps-6 pe-6 py-4 text-end border-s dark:border-slate-700",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:u?Array.from({length:5}).map((q,Q)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4",children:f.jsx(We,{className:"w-20 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(We,{className:"w-32 h-5"}),f.jsx(We,{className:"w-24 h-3"})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(We,{className:"w-24 h-4"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(We,{className:"w-24 h-5"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(We,{className:"w-24 h-6 rounded-full"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(We,{className:"w-20 h-8 ms-auto rounded-lg"})})]},Q)):X.map(q=>f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-[var(--brand-color)]",children:q.orderId}),f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:q.customer.name}),f.jsxs("span",{className:"text-xs text-slate-500 flex gap-1 items-center",children:[q.customer.governorate&&f.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-1 rounded",children:q.customer.governorate}),q.customer.phone]})]})}),f.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-400 border-s dark:border-slate-700",children:q.date}),f.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800 dark:text-white border-s dark:border-slate-700",children:l(q.total)}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx(_C,{order:q,onUpdate:a})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>tt(q),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"View Details",children:f.jsx(GS,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>it(q),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",title:"Edit Order",children:f.jsx(vs,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>z(q),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Print Receipt",children:f.jsx(zy,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>{O(q._id),A(!0)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete Order",children:f.jsx(Ns,{className:"w-4 h-4"})})]})})]},q._id))})]})}),f.jsx("div",{className:"block sm:hidden p-4 space-y-3",children:u?f.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((q,Q)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(We,{className:"w-24 h-5"}),f.jsx(We,{className:"w-32 h-4"})]}),f.jsx(We,{className:"w-20 h-8 rounded-lg"})]}),f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx(We,{className:"w-24 h-3"}),f.jsx(We,{className:"w-24 h-6"})]})]},Q))}):X.length===0?f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(lr,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("orders.noOrders")||t("orders.title")})]}):X.map(q=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-4 flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black text-[var(--brand-color)]",children:q.orderId}),f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white",children:q.customer.name}),f.jsx("div",{className:"text-xs text-slate-400",children:q.date})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsx("div",{className:"font-black text-lg",children:l(q.total)}),f.jsx("div",{children:f.jsx(_C,{order:q,onUpdate:a})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>tt(q),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(GS,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>it(q),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:f.jsx(vs,{className:"w-4 h-4"})})]})]})]},q._id))})]}),y&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/60 backdrop-blur-md p-2 md:p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-5xl my-4 sm:my-8 min-h-0 flex flex-col md:flex-row overflow-hidden animate-in fade-in zoom-in duration-300 relative max-h-[90vh]",children:[f.jsxs("div",{className:"flex-1 p-4 md:p-6 border-b md:border-b-0 md:border-e border-slate-100 dark:border-slate-700 flex flex-col min-h-0 overflow-y-auto lg:overflow-visible relative z-20",children:[f.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 pb-4 z-10 lg:static",children:[f.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Add Items"}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full min-w-0",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.searchProduct")}),f.jsx(Ga,{title:t("orders.chooseProduct"),options:n.filter(q=>q.stock>0).map(q=>({value:q._id,label:`${q.name} (${q.stock}) - ${l(q.price)}`})),selectedValue:Re,onChange:bt,icon:Vo,placeholder:t("orders.searchPlaceholder")})]}),f.jsxs("div",{className:"w-24",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ms-1",children:t("orders.qty")}),f.jsx("input",{type:"number",min:"1",value:Ke,onChange:q=>et(q.target.value),className:`w-full p-3 border-2 rounded-xl dark:bg-slate-900 dark:text-white outline-none text-center font-bold ${Re&&parseInt(Ke)>(((Hn=n.find(q=>q._id===Re))==null?void 0:Hn.stock)||0)?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-[var(--brand-color)]"}`})]}),f.jsx("button",{type:"button",onClick:Ie,disabled:!Re||!Ke,className:"h-[52px] px-6 text-white font-black rounded-xl transition-all bg-accent shadow-accent active:scale-95 disabled:opacity-50",children:f.jsx(l0,{className:"w-6 h-6"})})]})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto mt-6 space-y-3 custom-scrollbar min-h-[300px]",children:ge.items.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-100 dark:border-slate-700/50 rounded-3xl py-12",children:[f.jsx(lr,{className:"w-12 h-12 mb-2 opacity-20"}),f.jsx("p",{className:"font-bold",children:t("orders.cartEmpty")}),f.jsx("p",{className:"text-xs",children:t("orders.cartEmptySub")})]}):ge.items.map((q,Q)=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-700/50 group hover:border-indigo-500/50 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white dark:bg-slate-800 border dark:border-slate-700 shrink-0",children:f.jsx(Yi,{src:q.product.images&&q.product.images[0]?typeof q.product.images[0]=="string"?q.product.images[0]:q.product.images[0].url:"",alt:q.product.name||"Product image",className:"w-full h-full",imageClassName:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"text-sm font-black text-slate-800 dark:text-white truncate",children:q.product.name}),f.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.price")}),f.jsx("input",{type:"number",value:q.price,onChange:fe=>Be(Q,fe.target.value),className:"w-24 p-1.5 text-xs font-black border-2 border-slate-100 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-colors focus:border-[var(--brand-color)]"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:t("orders.qty")}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"number",min:"1",value:q.quantity,onChange:fe=>gt(Q,fe.target.value),className:`w-16 p-1.5 text-xs font-black border-2 rounded-lg bg-white dark:bg-slate-800 dark:text-white transition-all text-center ${q.quantity>q.product.stock?"border-red-500 text-red-500 ring-4 ring-red-500/10":"border-slate-100 dark:border-slate-700 focus:border-indigo-500"}`}),q.quantity>q.product.stock&&f.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[8px] px-1.5 py-0.5 rounded font-black whitespace-nowrap animate-bounce",children:t("orders.onlyLeft",{count:q.product.stock})})]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t("orders.subtotal")}),f.jsx("span",{className:"text-sm font-black dark:text-white",children:l(q.price*q.quantity)})]}),f.jsx("button",{onClick:()=>Ye(Q),className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all",children:f.jsx(Ns,{className:"w-4 h-4"})})]})]},Q))}),f.jsx("div",{className:"mt-8 pt-6 pb-8 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 sticky bottom-0",children:f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsx("span",{className:"font-bold text-slate-400 uppercase tracking-widest text-[10px]",children:t("orders.orderSubtotal")}),f.jsx("span",{className:"font-black dark:text-white text-lg",children:l(Nt(ge.items))})]}),f.jsxs("div",{className:"flex justify-between items-center p-3.5 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[f.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-2",children:[f.jsx(oR,{className:"w-4 h-4 text-accent"})," ",t("orders.applyDiscount")]}),f.jsx("div",{className:"w-48",children:f.jsx(Ga,{title:t("orders.noDiscount"),options:[0,5,10,15,20,30,40,50].map(q=>({value:q,label:q===0?t("orders.noDiscount"):t("orders.offDiscount",{percent:q})})),selectedValue:ge.discount,onChange:q=>ve(Q=>({...Q,discount:q})),showSearch:!1,direction:"up"})})]}),f.jsxs("div",{className:"flex justify-between items-center pt-2",children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white uppercase tracking-tighter text-sm",children:t("orders.grandTotal")}),f.jsx("span",{className:"font-black text-3xl text-accent",children:l(ae())})]})]})})]}),f.jsxs("div",{className:"w-full md:w-1/3 p-4 bg-slate-50 dark:bg-slate-900/50 flex flex-col min-h-0 border-t md:border-t-0 md:border-l border-slate-100 dark:border-slate-700 relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tighter",children:t("orders.customerInfo")}),f.jsx("button",{onClick:()=>v(!1),className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-lg hover:bg-white dark:hover:bg-slate-800 transition-colors",children:f.jsx(Jr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"space-y-2 flex-1 overflow-y-auto pr-1 custom-scrollbar",children:[f.jsx("div",{className:"space-y-2",children:f.jsx(Ga,{title:t("orders.chooseCustomer"),options:r.map(q=>({value:q._id,label:q.name})),selectedValue:ge.customerId,onChange:Ae,icon:Io,placeholder:t("orders.searchCustomers"),customAction:{label:t("orders.createNewCustomer"),icon:l0,onClick:()=>Ae("new")}})}),f.jsxs("div",{className:`space-y-2 transition-all duration-300 ${ge.customerId?"opacity-100 pointer-events-auto":"opacity-30 pointer-events-none grayscale"}`,children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.fullName")}),f.jsx("input",{placeholder:"e.g. Ahmed Ali",value:ge.customerName,onChange:q=>ve({...ge,customerName:q.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:ge.customerId!=="new"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.phone")}),f.jsx("input",{placeholder:"07XX XXX XXXX",value:ge.customerPhone,onChange:q=>ve({...ge,customerPhone:q.target.value}),className:"w-full p-2 border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm text-sm",disabled:ge.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.gender")}),f.jsx(Ga,{title:t("common.select"),options:[{value:"Male",label:t("common.male")},{value:"Female",label:t("common.female")}],selectedValue:ge.customerGender,onChange:q=>ve({...ge,customerGender:q}),showSearch:!1,disabled:ge.customerId!=="new"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.governorate")}),f.jsx(Ga,{title:t("common.select"),options:Gh.map(q=>({value:q,label:q})),selectedValue:ge.customerGovernorate,onChange:q=>ve({...ge,customerGovernorate:q}),icon:Ea,showSearch:!1,disabled:ge.customerId!=="new"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.social")}),f.jsx(Ga,{title:t("common.select"),options:Kh.map(q=>({value:q,label:q})),selectedValue:ge.customerSocial,onChange:q=>ve({...ge,customerSocial:q}),icon:gs,showSearch:!1,disabled:ge.customerId!=="new"})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.shippingAddress")}),f.jsx("textarea",{placeholder:"House/District/Street...",value:ge.customerAddress,onChange:q=>ve({...ge,customerAddress:q.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",disabled:ge.customerId!=="new",rows:"1"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:t("orders.internalNotes")}),f.jsx("textarea",{placeholder:"Special instructions...",value:ge.customerNotes,onChange:q=>ve({...ge,customerNotes:q.target.value}),className:"w-full p-2 text-xs border-2 border-white dark:border-slate-800 bg-white dark:bg-slate-900 rounded-xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold shadow-sm resize-none",rows:"2"})]})]})]}),f.jsx("div",{className:"mt-auto pt-2 border-t border-slate-100 dark:border-slate-700",children:f.jsx("button",{onClick:te,disabled:k||ge.items.length===0||ge.items.some(q=>{const Q=n.find(St=>St._id===q.product._id),fe=e.find(St=>St._id===P),Me=fe==null?void 0:fe.items.find(St=>St.product._id===q.product._id),ct=Me?Me.quantity:0;return q.quantity>((Q==null?void 0:Q.stock)||0)+ct}),className:"w-full py-3 bg-accent text-white rounded-2xl font-black shadow-accent active:scale-[0.98] transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3",children:k?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t("common.saving")]}):f.jsxs(f.Fragment,{children:[f.jsx(lr,{className:"w-5 h-5"}),t(P?"orders.updateOrder":"orders.saveOrder")]})})})]})]})}),b&&_&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/40 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col relative",children:[f.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 bg-white dark:bg-slate-800 z-10",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white uppercase tracking-tight",children:"Order Details"}),f.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:[_.orderId,"  ",_.date]})]}),f.jsx("button",{onClick:()=>w(!1),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Jr,{className:"w-6 h-6 text-slate-400"})})]}),f.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar flex-1 bg-slate-50 dark:bg-slate-900/50",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(Io,{className:"w-3.5 h-3.5"}),"Customer Information"]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-black text-slate-900 dark:text-white",children:_.customer.name}),f.jsx("div",{className:"text-xs text-slate-500 font-bold",children:_.customer.phone})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx(Ea,{className:"w-4 h-4 text-slate-300 mt-0.5 shrink-0"}),f.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:_.customer.governorate}),f.jsx("br",{}),_.customer.address]})]}),_.customer.social&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(gs,{className:"w-4 h-4 text-slate-300 shrink-0"}),f.jsx("span",{className:"text-[10px] font-black text-accent uppercase tracking-wider bg-accent/5 px-2 py-0.5 rounded-lg",children:_.customer.social})]})]})]}),_.notes&&f.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-6 rounded-3xl border border-amber-100 dark:border-amber-900/30",children:[f.jsx("h4",{className:"text-[11px] font-black text-amber-600 dark:text-amber-500 uppercase tracking-widest mb-2",children:"Order Notes"}),f.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 italic",children:['"',_.notes,'"']})]})]}),f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[f.jsxs("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[f.jsx(Vo,{className:"w-3.5 h-3.5"}),"Items Summary"]}),f.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto custom-scrollbar pr-2",children:_.items.map((q,Q)=>f.jsxs("div",{className:"flex justify-between items-center p-3 rounded-2xl bg-slate-50 dark:bg-slate-900/50 border border-slate-100 dark:border-slate-800 group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"w-10 h-10 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center font-black text-xs text-accent border border-slate-100 dark:border-slate-700 shadow-sm",children:[q.quantity,""]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-white line-clamp-1",children:q.product.name}),f.jsxs("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:[l(q.price)," each"]})]})]}),f.jsx("span",{className:"text-sm font-black text-slate-900 dark:text-white whitespace-nowrap",children:l(q.price*q.quantity)})]},Q))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 space-y-3",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Subtotal"}),f.jsx("span",{className:"font-black text-slate-700 dark:text-slate-300",children:l(_.subtotal||_.total)})]}),_.discount>0&&f.jsxs("div",{className:"flex justify-between text-sm text-red-500",children:[f.jsxs("span",{className:"font-bold uppercase tracking-widest text-[10px]",children:["Discount ($",_.discount,"%)"]}),f.jsxs("span",{className:"font-black",children:["-",l((_.subtotal||_.total)-_.total)]})]}),f.jsxs("div",{className:"flex justify-between items-end pt-2",children:[f.jsx("span",{className:"text-slate-900 dark:text-white font-black uppercase tracking-tighter text-sm",children:"Final Total"}),f.jsx("span",{className:"text-2xl font-black text-accent",children:l(_.total)})]})]})]})})]})}),f.jsxs("div",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-700 flex justify-end items-center gap-3 bg-white dark:bg-slate-800",children:[f.jsxs("button",{onClick:()=>it(_),className:"px-6 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-95",children:[f.jsx(vs,{className:"w-4 h-4"}),"Edit Order"]}),f.jsxs("button",{onClick:()=>z(_),className:"px-6 py-2.5 bg-green-600 text-white rounded-xl font-bold flex items-center gap-2 hover:bg-green-700 shadow-lg shadow-green-600/20 transition-all active:scale-95",children:[f.jsx(zy,{className:"w-4 h-4"}),"Print Receipt"]})]})]})}),f.jsx(A4,{isOpen:I,onClose:()=>{A(!1),O(null)},onConfirm:()=>{j&&(s(j),A(!1),O(null))},title:t("common.delete"),message:t("orders.deleteConfirm")})]})},OAe=()=>{const{t}=Sr(),{customers:e,orders:n,addCustomer:r,updateCustomer:i,formatCurrency:a,brand:s,addToast:o,loading:l,appearance:c,setIsModalOpen:u}=kn(),[d,h]=R.useState(""),[p,g]=R.useState([]),[x,y]=R.useState([]),[v,b]=R.useState(!1),[w,_]=R.useState(!1);R.useEffect(()=>(u(v||w),()=>u(!1)),[v,w,u]);const[S,P]=R.useState("orders-high"),E=R.useMemo(()=>e.length===0?nw(new Date,90):e.reduce((X,ue)=>{try{const Ie=ue.createdOn?fa(ue.createdOn):new Date;return Ie<X?Ie:X}catch{return X}},new Date),[e]),k=R.useMemo(()=>({from:E,to:new Date}),[E]),[N,I]=R.useState(k),[A,j]=R.useState(!1);R.useEffect(()=>{e.length>0&&!A&&(I({from:E,to:new Date}),j(!0))},[e.length,A,E]);const[O,$]=R.useState(null),[M,D]=R.useState(null),[V,F]=R.useState(null),[U,H]=R.useState({column:"orders",direction:"desc"}),[G,K]=R.useState("table"),[ne,ce]=R.useState(100),pe=X=>{U.column===X?H(ue=>({...ue,direction:ue.direction==="asc"?"desc":"asc"})):H({column:X,direction:"asc"})},ee=({column:X,label:ue,border:Ie=!1})=>{const Ye=U.column===X;return f.jsx("th",{onClick:()=>pe(X),className:`px-6 py-4 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors select-none ${Ie?"border-s dark:border-slate-700":""}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[ue,Ye&&f.jsx("span",{className:"text-[var(--brand-color)] font-bold",children:U.direction==="asc"?"":""})]})})},[we,Ce]=R.useState({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),ie=R.useMemo(()=>{const X={};return e.forEach(ue=>{const Ie=ue.governorate;Ie&&(X[Ie]=(X[Ie]||0)+1)}),Gh.map(ue=>({value:ue,label:ue,count:X[ue]||0})).sort((ue,Ie)=>Ie.count-ue.count)},[e]),be=R.useMemo(()=>{const X={};return e.forEach(ue=>{const Ie=ue.social;Ie&&(X[Ie]=(X[Ie]||0)+1)}),Kh.map(ue=>({value:ue,label:ue,count:X[ue]||0})).sort((ue,Ie)=>Ie.count-ue.count)},[e]),Z=X=>n.filter(ue=>{var Ye,Be,gt;const Ie=e.find(Nt=>Nt._id===X);return Ie?((Ye=ue.customer)==null?void 0:Ye._id)===X||((Be=ue.customer)==null?void 0:Be.name)===Ie.name&&((gt=ue.customer)==null?void 0:gt.phone)===Ie.phone:!1}),W=X=>{const ue=X.createdOn||X.createdAt;if(!ue)return null;try{return typeof ue=="string"?fa(ue):ue.toDate?ue.toDate():new Date(ue)}catch{return null}},de=R.useMemo(()=>e.filter(Ie=>{const Ye=Ie.name.toLowerCase().includes(d.toLowerCase())||Ie.phone.includes(d),Be=W(Ie);let gt=!0;if(N!=null&&N.from&&(N!=null&&N.to)&&Be){const Ae=a0(N.from),it=d3(N.to);gt=Be>=Ae&&Be<=it}const Nt=p.length===0||p.includes(Ie.governorate),ae=x.length===0||x.includes(Ie.social);return Ye&&gt&&Nt&&ae}).sort((Ie,Ye)=>{if(U.column==="name"){const Be=Ie.name.toLowerCase(),gt=Ye.name.toLowerCase();return U.direction==="asc"?Be.localeCompare(gt):gt.localeCompare(Be)}if(U.column==="orders"){const Be=Z(Ie._id).length,gt=Z(Ye._id).length;return U.direction==="asc"?Be-gt:gt-Be}if(U.column==="spent"){const Be=Z(Ie._id).reduce((Nt,ae)=>Nt+ae.total,0),gt=Z(Ye._id).reduce((Nt,ae)=>Nt+ae.total,0);return U.direction==="asc"?Be-gt:gt-Be}if(U.column==="governorate"){const Be=(Ie.governorate||"").toLowerCase(),gt=(Ye.governorate||"").toLowerCase();return U.direction==="asc"?Be.localeCompare(gt):gt.localeCompare(Be)}return 0}).slice(0,ne),[e,d,p,x,S,U,n,N,ne]),ke=X=>{P(X),X==="orders-high"?H({column:"orders",direction:"desc"}):X==="orders-low"?H({column:"orders",direction:"asc"}):X==="name-asc"?H({column:"name",direction:"asc"}):X==="date-new"&&H({column:"orders",direction:"desc"})};R.useEffect(()=>{(()=>{try{window.innerWidth<640&&G==="table"&&K("card")}catch{}})();const ue=()=>{window.innerWidth<640&&K("card")};return window.addEventListener("resize",ue),()=>window.removeEventListener("resize",ue)},[]);const ge=()=>{D(null),Ce({name:"",email:"",phone:"",address:"",governorate:"",social:"",notes:""}),b(!0)},ve=X=>{D(X),Ce(X),b(!0)},Re=X=>{$(X),_(!0),F(null)},bt=X=>{X.preventDefault(),M?i({...we,_id:M._id}):r(we),b(!1)},Ke=X=>{const ue=window.open("","_blank");ue.document.write(`
            <html>
                <head>
                    <title>${t("customers.receipt.title")} ${X.orderId}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; direction: ${document.dir}; }
                        .header { text-align: center; margin-bottom: 20px; }
                        .order-info { margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
                        table { width: 100%; border-collapse: collapse; }
                        th, td { text-align: ${document.dir==="rtl"?"right":"left"}; padding: 8px; border-bottom: 1px solid #eee; }
                        .total { text-align: ${document.dir==="rtl"?"left":"right"}; font-weight: bold; font-size: 1.2em; margin-top: 20px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>${t("customers.receipt.title")}</h1>
                        <h3>${X.orderId}</h3>
                    </div>
                    <div class="order-info">
                        <p><strong>${t("customers.receipt.customer")}:</strong> ${X.customer.name}</p>
                        <p><strong>${t("customers.receipt.date")}:</strong> ${X.date}</p>
                        <p><strong>${t("customers.receipt.status")}:</strong> ${X.status}</p>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>${t("customers.receipt.item")}</th>
                                <th>${t("customers.receipt.qty")}</th>
                                <th>${t("customers.receipt.price")}</th>
                                <th>${t("customers.receipt.total")}</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${X.items.map(Ie=>`
                                <tr>
                                    <td>${Ie.product.name}</td>
                                    <td>${Ie.quantity}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Ie.price)}</td>
                                    <td>${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(Ie.price*Ie.quantity)}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="total">
                        ${t("customers.receipt.total")}: ${new Intl.NumberFormat("en-IQ",{style:"currency",currency:"IQD",maximumFractionDigits:0}).format(X.total)}
                    </div>
                    <script>window.onload = function() { window.print(); window.close(); }<\/script>
                </body>
            </html>
        `),ue.document.close()},et=X=>{switch(X==null?void 0:X.toLowerCase()){case"facebook":return f.jsx(rG,{className:"w-4 h-4"});case"instagram":return f.jsx(iG,{className:"w-4 h-4"});case"twitter":return f.jsx(mG,{className:"w-4 h-4"});case"tiktok":return f.jsx("div",{className:"w-4 h-4 font-bold text-xs flex items-center justify-center",children:"TT"});case"whatsapp":return f.jsx(uG,{className:"w-4 h-4"});default:return f.jsx(gs,{className:"w-4 h-4"})}};return f.jsxs(Su,{title:t("customers.title"),children:[f.jsxs("div",{className:`flex flex-col gap-4 mb-8 bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:[f.jsxs("div",{className:"flex gap-3 w-full items-center justify-between flex-wrap",children:[f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[f.jsxs("button",{onClick:ge,className:"flex items-center gap-2 px-6 py-2.5 text-white rounded-xl font-bold transition-all bg-accent shadow-accent active:scale-95",children:[f.jsx(l0,{className:"w-5 h-5"}),f.jsx("span",{children:t("customers.addCustomer")})]}),f.jsxs("button",{onClick:()=>{if(de.length===0)return o(t("customers.noMatch"),"info");TAe(de)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 text-white rounded-xl font-bold transition-all shadow-lg hover:bg-green-700",children:[f.jsx(Tg,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:t("common.exportCSV")})]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 p-1 rounded-xl border border-slate-200 dark:border-slate-600 ms-2",children:[f.jsx("button",{onClick:()=>K("table"),className:`p-1.5 rounded-lg transition-all ${G==="table"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:"Table View",children:f.jsx(tR,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>K("card"),className:`p-1.5 rounded-lg transition-all ${G==="card"?"bg-white dark:bg-slate-600 text-[var(--brand-color)] shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,title:t("customers.viewCard"),children:f.jsx(sG,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[(p.length>0||x.length>0||d||!Jl(N.from,k.from)||!Jl(N.to,k.to))&&f.jsx("button",{onClick:()=>{h(""),g([]),y([]),I(k)},className:"px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl font-bold text-sm transition-all border border-slate-200 dark:border-slate-700",children:t("common.clearFilters")}),f.jsx(Vw,{limit:ne,onChange:ce}),f.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsx(Io,{className:"w-4 h-4 text-slate-400"}),f.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[f.jsx("span",{className:"text-slate-900 dark:text-white",children:de.length})," ",t("customers.title")]})]})]})]}),f.jsxs("div",{className:"flex gap-3 w-full flex-wrap items-center",children:[f.jsxs("div",{className:"relative min-w-[200px] flex-1 md:flex-none h-[44px]",children:[f.jsx(yu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("customers.searchPlaceholder"),value:d,onChange:X=>h(X.target.value),className:"ps-10 pe-4 py-0 h-full w-full bg-slate-50 dark:bg-slate-900/50 border-2 border-slate-100 dark:border-slate-800 rounded-2xl outline-none focus:border-blue-200 dark:focus:border-blue-800 focus:ring-2 focus:ring-[var(--brand-color)]/20 transition-all font-bold text-sm dark:text-white"})]}),f.jsx("div",{className:"h-[44px] flex-shrink-0",children:f.jsx(rw,{range:N,onRangeChange:I,brandColor:s.color})}),f.jsx(Hi,{title:t("customers.form.governorate"),options:ie,selectedValues:p,onChange:g,icon:Ea,showSearch:!1}),f.jsx(Hi,{title:t("customers.social"),options:be,selectedValues:x,onChange:y,icon:gs,showSearch:!1}),f.jsx(HB,{title:t("common.sort"),options:[{value:"orders-high",label:t("common.priceHigh")},{value:"orders-low",label:t("common.priceLow")},{value:"date-new",label:t("common.dateNew")},{value:"name-asc",label:t("common.nameAZ")}].map(X=>({...X,label:X.value==="orders-high"?t("customers.totalSpent")+" (High)":X.value==="orders-low"?t("customers.totalSpent")+" (Low)":X.label})),selectedValue:S,onChange:ke})]})]}),G==="table"?f.jsx("div",{className:`rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden transition-all ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-start",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[f.jsx(ee,{column:"name",label:t("customers.name")}),f.jsx(ee,{column:"governorate",label:t("customers.location"),border:!0}),f.jsx(ee,{column:"orders",label:t("customers.orders"),border:!0}),f.jsx(ee,{column:"spent",label:t("customers.totalSpent"),border:!0}),f.jsx("th",{className:"px-6 py-4 border-s dark:border-slate-700 select-none",children:t("customers.createdOn")}),f.jsx("th",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:t("customers.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:l?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-12",children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/3 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse"}),f.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]})})}):de.length===0?f.jsx("tr",{children:f.jsxs("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400",children:[f.jsx(Io,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:t("customers.noData")})]})}):de.map(X=>{const ue=Z(X._id),Ie=ue.reduce((Ye,Be)=>Ye+Be.total,0);return f.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-bold text-lg border border-slate-100 dark:border-slate-800 shadow-sm",children:X.name.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-slate-800 dark:text-white",children:X.name}),f.jsx("p",{className:"text-xs text-slate-400",children:X.phone})]})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:X.governorate}),f.jsx("span",{className:"text-[11px] text-slate-400 line-clamp-1",children:X.address})]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-xl text-xs font-black inline-flex transition-all",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:[f.jsx(lr,{className:"w-3.5 h-3.5"}),ue.length]})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white",children:a(Ie)})}),f.jsx("td",{className:"px-6 py-4 border-s dark:border-slate-700",children:f.jsx("span",{className:"text-xs font-bold text-slate-500 whitespace-nowrap",children:W(X)?fi(W(X),"MMM dd, yyyy"):t("orders.receipt.na")})}),f.jsx("td",{className:"px-6 py-4 text-end border-s dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-end gap-1",children:[f.jsx("button",{onClick:()=>Re(X),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Order History",children:f.jsx(lr,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>ve(X),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all",title:"Edit",children:f.jsx(vs,{className:"w-4 h-4"})})]})})]},X._id)})})]})})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in duration-500",children:l?[1,2,3].map(X=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:[f.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-1/4 animate-pulse mb-4"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2 animate-pulse mb-2"}),f.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-2/3 animate-pulse"})]},X)):de.length===0?f.jsxs("div",{className:"col-span-full py-20 text-center bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700",children:[f.jsx(Io,{className:"w-16 h-16 mx-auto mb-4 text-slate-200"}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-sm",children:t("customers.noMatch")})]}):de.map(X=>{const ue=Z(X._id),Ie=ue.reduce((Ye,Be)=>Ye+Be.total,0);return f.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 hover:shadow-xl transition-all duration-300 group overflow-hidden flex flex-col h-full ${["liquid","default_glass"].includes(c.theme)?"glass-panel":""}`,children:f.jsxs("div",{className:"p-6 flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-900 flex items-center justify-center text-[var(--brand-color)] font-black text-xl border border-slate-100 dark:border-slate-800 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900 transition-colors",children:X.name.charAt(0)}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>Re(X),className:"p-2 text-slate-400 hover:text-[var(--brand-color)] bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Order History",children:f.jsx(lr,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>ve(X),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 transition-colors",title:"Edit Profile",children:f.jsx(vs,{className:"w-4 h-4"})})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-bold text-slate-900 dark:text-white text-lg mb-2 truncate",children:X.name}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[f.jsx(lr,{className:"w-3 h-3"}),ue.length," ",ue.length===1?t("customers.receipt.order"):t("customers.orders")]}),f.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg text-[10px] font-black uppercase tracking-wider",children:a(Ie)})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:f.jsx(hG,{className:"w-4 h-4 text-slate-400"})}),f.jsx("span",{className:"font-bold",children:X.phone||"No phone"})]}),f.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0 mt-0.5",children:f.jsx(Ea,{className:"w-4 h-4 text-slate-400"})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-xs",children:X.governorate}),f.jsx("span",{className:"text-[10px] text-slate-400 line-clamp-1",children:X.address})]})]}),X.social&&f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 dark:bg-slate-900 flex items-center justify-center border border-slate-100 dark:border-slate-800 shrink-0",children:et(X.social)}),f.jsx("span",{className:"text-[10px] font-black uppercase text-blue-500 tracking-wider",children:X.social})]})]})]})},X._id)})}),v&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-slate-900/80 backdrop-blur-md p-2 sm:p-4 overflow-y-auto",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-md my-4 sm:my-8 flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 relative ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{className:`px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center sticky top-0 z-10 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white",children:t(M?"customers.form.edit":"customers.form.new")}),f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:t("customers.form.sub")})]}),f.jsx("button",{onClick:()=>b(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Jr,{className:"w-5 h-5 text-slate-400"})})]}),f.jsx("div",{className:"p-5 overflow-y-auto custom-scrollbar",children:f.jsx("form",{id:"customer-form",onSubmit:bt,className:"space-y-4",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.fullName")}),f.jsx("input",{required:!0,placeholder:"Ahmed Ali",value:we.name,onChange:X=>Ce({...we,name:X.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.phone")}),f.jsx("input",{required:!0,placeholder:"07XX XXX XXXX",value:we.phone,onChange:X=>Ce({...we,phone:X.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.email")}),f.jsx("input",{placeholder:"customer@example.com",type:"email",value:we.email,onChange:X=>Ce({...we,email:X.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.governorate")}),f.jsx(Ga,{title:t("common.select"),options:Gh.map(X=>({value:X,label:X})),selectedValue:we.governorate,onChange:X=>Ce(ue=>({...ue,governorate:X})),icon:Ea,showSearch:!1})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.channel")}),f.jsx(Ga,{title:t("common.select"),options:Kh.map(X=>({value:X,label:X})),selectedValue:we.social,onChange:X=>Ce(ue=>({...ue,social:X})),icon:gs,showSearch:!1})]})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ms-1",children:t("customers.form.shippingAddress")}),f.jsx("textarea",{rows:"2",placeholder:"Street name, landmark, house number...",value:we.address,onChange:X=>Ce({...we,address:X.target.value}),className:`w-full p-2.5 border-2 border-slate-100 dark:border-slate-800 rounded-2xl dark:text-white outline-none focus:border-[var(--brand-color)] transition-all font-bold resize-none placeholder:opacity-30 ${["liquid","default_glass"].includes(c==null?void 0:c.theme)?"bg-white/40 dark:bg-slate-900/40 backdrop-blur-sm":"bg-slate-50 dark:bg-slate-900"}`})]})]})})}),f.jsx("div",{className:`p-6 pt-0 mt-auto border-t border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-3 border-2 border-slate-100 dark:border-slate-800 rounded-2xl font-black text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95",children:t("common.cancel")}),f.jsx("button",{onClick:()=>document.getElementById("customer-form").requestSubmit(),className:"flex-2 py-3 text-white rounded-2xl font-black transition-all active:scale-95 bg-accent shadow-accent hover:brightness-110 flex-[2]",children:t(M?"customers.form.save":"customers.form.register")})]})})]})}),w&&O&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4",children:f.jsxs("div",{className:`rounded-[32px] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in slide-in-from-bottom-8 duration-500 ${["liquid","default_glass"].includes(c.theme)?"glass-panel":"bg-white dark:bg-slate-800"}`,children:[f.jsx("div",{className:`px-10 py-8 border-b border-slate-100 dark:border-slate-700 ${["liquid","default_glass"].includes(c.theme)?"bg-white/20 dark:bg-slate-900/20 backdrop-blur-md":"bg-white dark:bg-slate-800"}`,children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"},children:f.jsx(lr,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white",children:t("customers.history.title")})]}),f.jsxs("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-[0.2em] ms-13",children:[t("customers.receipt.customer"),": ",f.jsx("span",{className:"text-[var(--brand-color)]",children:O.name})]})]}),f.jsx("button",{onClick:()=>_(!1),className:"w-12 h-12 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(Jr,{className:"w-8 h-8 text-slate-400"})})]})}),f.jsx("div",{className:"p-10 overflow-y-auto custom-scrollbar bg-slate-50 dark:bg-slate-900/50",children:Z(O._id).length===0?f.jsxs("div",{className:"text-center py-24",children:[f.jsx("div",{className:"w-24 h-24 bg-white dark:bg-slate-800 border-2 border-slate-100 dark:border-slate-700 rounded-3xl flex items-center justify-center mx-auto mb-6 text-slate-200",children:f.jsx(lr,{className:"w-12 h-12"})}),f.jsx("h4",{className:"text-slate-400 font-black uppercase text-xs tracking-widest",children:t("customers.history.noRecords")})]}):f.jsx("div",{className:"space-y-4",children:Z(O._id).map(X=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[28px] border-2 border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden transition-all hover:shadow-xl hover:border-accent group",children:[f.jsxs("div",{className:"p-6 flex items-center justify-between cursor-pointer",onClick:()=>F(V===X._id?null:X._id),children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"w-14 h-14 bg-slate-50 dark:bg-slate-900 rounded-2xl flex items-center justify-center text-[var(--brand-color)] group-hover:bg-[var(--brand-color)] group-hover:text-white transition-all",children:f.jsx(lr,{className:"w-7 h-7"})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-lg",children:X.orderId}),f.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:X.date})]})]}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"text-end",children:[f.jsx("div",{className:"font-black text-slate-900 dark:text-white text-xl",children:a(X.total)}),f.jsx("div",{className:`text-[10px] font-black uppercase px-2.5 py-1 rounded-lg inline-block mt-1 ${X.status==="Completed"?"bg-emerald-50 text-emerald-600 border border-emerald-100":X.status==="Processing"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-slate-50 text-slate-600 border border-slate-100"}`,children:X.status})]}),f.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-transform ${V===X._id?"rotate-180":"bg-slate-50 dark:bg-slate-900 text-slate-300"}`,style:V===X._id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)",color:"var(--accent-color)"}:{},children:f.jsx(cl,{className:"w-6 h-6"})})]})]}),V===X._id&&f.jsxs("div",{className:"px-8 pb-8 pt-0 border-t border-slate-50 dark:border-slate-800 animate-in slide-in-from-top-4 duration-300",children:[f.jsx("div",{className:"grid grid-cols-1 gap-3 mt-6",children:X.items.map((ue,Ie)=>f.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-900/80 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"w-12 h-12 bg-white dark:bg-slate-800 rounded-xl flex items-center justify-center font-black text-sm text-[var(--brand-color)] border border-slate-100 dark:border-slate-700 shadow-sm",children:[ue.quantity,""]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-black text-slate-800 dark:text-white block text-sm",children:ue.product.name}),f.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a(ue.price)," ",t("common.perUnit")]})]})]}),f.jsx("span",{className:"font-black text-slate-900 dark:text-white",children:a(ue.price*ue.quantity)})]},Ie))}),f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700 flex flex-col sm:flex-row justify-between items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.paymentMethod")}),f.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:t("common.cashOnDelivery")})]}),f.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:t("customers.history.itemsCount")}),f.jsxs("p",{className:"text-sm font-bold text-slate-700 dark:text-white",children:[X.items.length," ",t("customers.receipt.item")]})]})]}),f.jsxs("button",{onClick:ue=>{ue.stopPropagation(),Ke(X)},className:"flex items-center gap-2 px-8 py-4 bg-slate-900 dark:bg-slate-700 text-white rounded-2xl font-black text-sm transition-all shadow-xl active:scale-95 hover:brightness-125 hover:shadow-2xl",children:[f.jsx(zy,{className:"w-5 h-5"}),t("customers.history.printThermal")]})]})]})]},X._id))})})]})})]})},jAe=()=>{const{t}=Sr(),{products:e,updateProduct:n,loading:r,isDesktop:i,isOnline:a,addToast:s,setIsModalOpen:o}=kn(),[l,c]=R.useState(null),[u,d]=R.useState("");R.useEffect(()=>(o(!!l),()=>o(!1)),[l,o]);const h=v=>{c(v)},p=()=>{c(null)},g=async(v,b=!1)=>{await n(v),b||c(null)},x=async v=>{if(i&&!a)return s("Image upload is disabled while offline. Reconnect and try again.","warning"),[];const b=await Promise.all(v.map(async w=>w.url?w:new Promise(_=>{const S=new FileReader;S.onloadend=()=>_({url:S.result,name:w.name}),S.readAsDataURL(w)})));if(l){const w=[...l.images||[],...b],_={...l,images:w};c(_),await n(_)}return b},y=e.filter(v=>{var b;return v.name.toLowerCase().includes(u.toLowerCase())||((b=v.sku)==null?void 0:b.toLowerCase().includes(u.toLowerCase()))});return f.jsxs(Su,{title:t("productPicture.title"),children:[f.jsx("div",{className:"sticky top-0 z-40 bg-slate-50/90 dark:bg-slate-900/95 backdrop-blur-xl -mx-4 md:-mx-8 px-4 md:px-8 py-4 mb-8 border-b border-slate-200/50 dark:border-slate-700/50 flex flex-col md:flex-row items-center justify-start gap-4",children:f.jsxs("div",{className:"relative w-full md:w-96",children:[f.jsx(yu,{className:"absolute start-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:t("products.searchPlaceholder"),value:u,onChange:v=>d(v.target.value),className:"w-full ps-10 pe-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl text-sm font-bold focus:ring-2 focus:ring-accent outline-none transition-all shadow-sm"})]})}),r?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((v,b)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm border border-slate-100 dark:border-slate-700",children:[f.jsx(We,{className:"aspect-[4/5] w-full rounded-2xl mb-4"}),f.jsxs("div",{className:"px-1 space-y-2",children:[f.jsx(We,{className:"h-5 w-3/4 rounded-lg"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(We,{className:"h-4 w-16"}),f.jsx(We,{className:"h-4 w-12"})]})]})]},b))}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(v=>{const b=v.images&&v.images[0]?typeof v.images[0]=="string"?v.images[0]:v.images[0].url:v.image||"https://via.placeholder.com/400x400?text=No+Image";return f.jsxs("div",{onClick:()=>h(v),className:"group bg-white dark:bg-slate-800 rounded-3xl p-3 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer border border-transparent hover:border-accent",children:[f.jsxs("div",{className:"aspect-[4/5] w-full rounded-2xl overflow-hidden bg-slate-100 dark:bg-slate-900 relative",children:[f.jsx(Yi,{src:b,alt:v.name,className:"w-full h-full",imageClassName:"transition-transform duration-700 group-hover:scale-110"}),v.stock<=5&&f.jsx("div",{className:"absolute top-3 start-3 bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-md shadow-md",children:t("products.stockStatus.lowStock")}),f.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),f.jsxs("div",{className:"mt-4 px-1",children:[f.jsx("h3",{className:"font-bold text-slate-800 dark:text-white truncate text-base mb-1 group-hover:text-accent transition-colors",children:v.name}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs font-mono font-bold text-slate-400 uppercase tracking-wider",children:v.sku||"NO-SKU"}),f.jsx("span",{className:"text-xs font-bold px-2 py-1 bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 rounded-lg",children:v.category||"General"})]})]})]},v._id||v.id)})}),y.length===0&&!r&&f.jsxs("div",{className:"text-center py-20 text-slate-400",children:[f.jsx(ys,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),f.jsx("p",{children:t("productPicture.noProducts")})]}),l&&f.jsx(WB,{product:l,onClose:p,onSave:g,onUpload:x})]})},RAe=({image:t,onCrop:e,onClose:n,aspect:r=1})=>{const[i,a]=R.useState(1),[s,o]=R.useState(0),[l,c]=R.useState({x:0,y:0}),[u,d]=R.useState(!1),[h,p]=R.useState({x:0,y:0}),[g,x]=R.useState({width:0,height:0}),y=320,v=512,b=R.useRef(null);R.useRef(null),R.useEffect(()=>{a(1),o(0),c({x:0,y:0})},[t]);const w=N=>{const{naturalWidth:I,naturalHeight:A}=N.currentTarget;x({width:I,height:A}),a(1)},_=N=>{d(!0),p({x:N.clientX-l.x,y:N.clientY-l.y})},S=N=>{u&&(N.preventDefault(),c({x:N.clientX-h.x,y:N.clientY-h.y}))},P=()=>{d(!1)},E=()=>{const N=document.createElement("canvas"),I=N.getContext("2d"),A=b.current;N.width=v,N.height=v/r,I.clearRect(0,0,N.width,N.height),I.save();const j=v/y;I.translate(N.width/2,N.height/2),I.translate(l.x*j,l.y*j),I.rotate(s*Math.PI/180);const O=i*j;I.scale(O,O);const $=A.naturalWidth,M=A.naturalHeight;return I.imageSmoothingEnabled=!0,I.imageSmoothingQuality="high",I.drawImage(A,-$/2,-M/2,$,M),I.restore(),N.toDataURL("image/png",1)},k=()=>{const N=E();e(N)};return f.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-800",children:[f.jsxs("div",{className:"px-8 py-5 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900 z-20",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-black text-slate-800 dark:text-white flex items-center gap-2",children:[f.jsx(ys,{className:"w-6 h-6 text-accent"})," Editor Studio"]}),f.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-wider",children:"Customize your brand identity"})]}),f.jsx("button",{onClick:n,className:"p-1.5 text-slate-400 hover:text-slate-600 dark:hover:text-white rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:f.jsx(Jr,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[f.jsxs("div",{className:"flex-1 relative bg-slate-100 dark:bg-slate-950 overflow-hidden flex items-center justify-center cursor-move select-none",style:{backgroundImage:"linear-gradient(45deg, #e5e7eb 25%, transparent 25%), linear-gradient(-45deg, #e5e7eb 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #e5e7eb 75%), linear-gradient(-45deg, transparent 75% , #e5e7eb 75%)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"},onMouseDown:_,onMouseMove:S,onMouseUp:P,onMouseLeave:P,children:[f.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none z-0"}),f.jsxs("div",{className:"relative z-10 border-2 border-white/80 shadow-[0_0_0_9999px_rgba(0,0,0,0.7)] rounded-xl overflow-visible",style:{width:y,height:y/r,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)"},children:[f.jsxs("div",{className:"absolute inset-0 grid grid-cols-3 grid-rows-3 pointer-events-none opacity-50",children:[f.jsx("div",{className:"border-r border-white/30 h-full col-start-2"}),f.jsx("div",{className:"border-r border-white/30 h-full col-start-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-2 col-span-3"}),f.jsx("div",{className:"border-b border-white/30 w-full row-start-3 col-span-3"})]}),f.jsx("div",{className:"absolute -top-1 -left-1 w-4 h-4 border-t-4 border-l-4 border-white rounded-tl-sm shadow-sm"}),f.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 border-t-4 border-r-4 border-white rounded-tr-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -left-1 w-4 h-4 border-b-4 border-l-4 border-white rounded-bl-sm shadow-sm"}),f.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 border-b-4 border-r-4 border-white rounded-br-sm shadow-sm"})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none overflow-hidden",children:f.jsx("img",{ref:b,src:t,alt:"To crop",onLoad:w,draggable:!1,className:"max-none transition-transform duration-75 origin-center will-change-transform",style:{transform:`translate(${l.x}px, ${l.y}px) rotate(${s}deg) scale(${i})`}})})]}),f.jsxs("div",{className:"w-full lg:w-80 bg-white dark:bg-slate-900 border-s border-slate-100 dark:border-slate-800 p-6 flex flex-col z-20 shadow-xl",children:[f.jsxs("div",{className:"space-y-8 flex-1 overflow-y-auto custom-scrollbar",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-slate-700 dark:text-slate-300",children:[f.jsx("span",{children:"Zoom & Scale"}),f.jsxs("span",{className:"font-mono text-accent",children:[Math.round(i*100),"%"]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-2xl border border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>a(N=>Math.max(.1,N-.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(vG,{className:"w-5 h-5 text-slate-400"})}),f.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.01",value:i,onChange:N=>a(parseFloat(N.target.value)),className:"flex-1 h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-accent"}),f.jsx("button",{onClick:()=>a(N=>Math.min(3,N+.1)),className:"p-1 hover:text-accent transition-colors",children:f.jsx(yG,{className:"w-5 h-5 text-slate-400"})})]})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Orientation"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>o(N=>N-90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(QS,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"-90"})]}),f.jsxs("button",{onClick:()=>o(N=>N+90),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-accent hover:text-accent transition-all group",children:[f.jsx(QS,{className:"w-4 h-4 text-slate-500 group-hover:text-accent transition-colors scale-x-[-1]"}),f.jsx("span",{className:"text-[11px] font-bold text-slate-600 dark:text-slate-400 group-hover:text-accent",children:"+90"})]})]}),f.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-xl border border-slate-100 dark:border-slate-700 text-center",children:f.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["Current Rotation: ",s,""]})})]})]}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800 flex flex-col gap-3",children:[f.jsxs("button",{onClick:k,className:"w-full py-4 bg-accent text-white font-black rounded-2xl shadow-accent shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-3 hover:brightness-110",children:[f.jsx(Xj,{className:"w-5 h-5"}),"Apply Changes"]}),f.jsx("button",{onClick:n,className:"w-full py-3 text-slate-500 hover:text-slate-800 dark:hover:text-white font-bold transition-colors",children:"Cancel"})]})]})]})]})})},MAe=()=>{var tt,te;const{t}=Sr(),{theme:e,toggleTheme:n,appearance:r,setAppearance:i,users:a,addUser:s,updateUser:o,deleteUser:l,brand:c,updateBrand:u,addToast:d,language:h,changeLanguage:p,isDesktop:g,isOnline:x,pendingSyncCount:y,syncNow:v,desktopOfflineModeEnabled:b,setDesktopOfflineModeEnabled:w,conflicts:_}=kn(),{user:S,updateAuthProfile:P,changeAuthPassword:E}=f4(),[k,N]=R.useState("general"),[I,A]=YH(),[j,O]=R.useState(!1),[$,M]=R.useState(!1),[D,V]=R.useState(null),[F,U]=R.useState(!1),[H,G]=R.useState(null),[K,ne]=R.useState(null),[ce,pe]=R.useState(null),[ee,we]=R.useState((S==null?void 0:S.displayName)||""),[Ce,ie]=R.useState(!1),[be,Z]=R.useState({currentPassword:"",newPassword:"",confirmPassword:""});R.useEffect(()=>{S&&we(S.displayName||"")},[S]),R.useEffect(()=>{const z=I.get("tab");if(!z){A({tab:"general"},{replace:!0});return}["general","appearance","branding","users","account"].includes(z)&&N(z)},[I,A]);const W=S!=null&&S.email?S.email.split("@")[0]:"",de=z=>{N(z),A({tab:z})},ke=async()=>{try{await P({displayName:ee.trim()}),ie(!1),d("Profile updated successfully!","success")}catch(z){console.error("Profile update error:",z),d("Failed to update profile.","error")}},ge=z=>{const me=z.target.files[0];if(me){if(me.size>3*1024*1024)return d("Avatar too large. Max 3MB.","error");const _e=new FileReader;_e.onloadend=()=>{ne(_e.result),pe("avatar")},_e.readAsDataURL(me)}},[ve,Re]=R.useState({name:c.name,color:c.color,logo:c.logo,favicon:c.favicon||null,hideHeader:c.hideHeader||!1});R.useEffect(()=>{Re({name:c.name,color:c.color,logo:c.logo,favicon:c.favicon||null,hideHeader:c.hideHeader||!1})},[c]);const bt=async()=>{try{await u(ve),d("Branding settings saved successfully!","success")}catch{d("Failed to save branding settings.","error")}},Ke=z=>{const me=z.target.files[0];if(me){if(me.size>3*1024*1024)return d("File too large. Max 3MB.","error");const _e=new FileReader;_e.onloadend=()=>{ne(_e.result),pe("logo")},_e.readAsDataURL(me)}},et=z=>{const me=z.target.files[0];if(me){if(me.size>512*1024)return d("Favicon too large. Max 512KB.","error");const _e=new FileReader;_e.onloadend=()=>{Re(ze=>({...ze,favicon:_e.result})),d("Favicon updated (preview). Save to persist.","success")},_e.readAsDataURL(me)}},X=async z=>{if(ce==="avatar")try{await P({photoURL:z}),d("Avatar updated successfully!","success")}catch{d("Failed to update avatar.","error")}else ce==="logo"&&(Re(me=>({...me,logo:z})),d("Logo updated successfully!","success"));ne(null),pe(null)},ue=(z,me)=>{Z(_e=>({..._e,[z]:me}))},Ie=async z=>{z.preventDefault();const{currentPassword:me,newPassword:_e,confirmPassword:ze}=be;if(_e!==ze){d("New passwords do not match.","error");return}if(_e.length<6){d("Password must be at least 6 characters.","error");return}try{await E(me,_e),d(t("settings.toasts.passwordChanged"),"success"),M(!1),Z({currentPassword:"",newPassword:"",confirmPassword:""})}catch(ht){console.error("Password change error:",ht),d("Failed to change password. Please verify your current password.","error")}},[Ye,Be]=R.useState({username:"",email:"",role:"Staff",password:"",displayName:""}),gt=()=>{V(null),Be({username:"",email:"",role:"Staff",password:"",displayName:""}),O(!0)},Nt=z=>{V(z),Be({...z,password:""}),O(!0)},ae=async z=>{z.preventDefault();try{D?(await o({...Ye,_id:D._id}),d("User updated successfully!","success")):(await s({...Ye}),d("User created successfully!","success")),O(!1)}catch(me){console.error("User management error:",me),d("Failed to save user.","error")}},Ae=async z=>{G(z),U(!0)},it=async()=>{if(H)try{await l(H),d("User deleted successfully.","success")}catch{d("Failed to delete user.","error")}finally{U(!1),G(null)}};return f.jsxs(Su,{title:"Settings",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[f.jsx("aside",{className:"w-full lg:w-64 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>de("general"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${k==="general"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(iR,{className:"w-5 h-5"}),t("settings.general")]}),f.jsxs("button",{onClick:()=>de("appearance"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${k==="appearance"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(YS,{className:"w-5 h-5"}),t("settings.appearance")]}),f.jsxs("button",{onClick:()=>de("branding"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${k==="branding"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(pG,{className:"w-5 h-5"}),t("settings.branding")]}),f.jsxs("button",{onClick:()=>de("account"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${k==="account"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(Io,{className:"w-5 h-5"}),t("settings.account")]}),f.jsxs("button",{onClick:()=>de("users"),className:`w-full text-left px-4 py-3 rounded-xl font-medium transition-all flex items-center gap-3 ${k==="users"?"bg-gradient-to-r from-[var(--brand-color)] to-[var(--brand-color)]/80 text-white shadow-md shadow-[var(--brand-color)]/20":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[f.jsx(G8,{className:"w-5 h-5"}),t("settings.users")]})]})}),f.jsxs("div",{className:"flex-1",children:[k==="general"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.general")}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[f.jsx(gs,{className:"w-4 h-4 text-accent"}),t("settings.language")]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>p("en"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${h==="en"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" English"}),f.jsx("button",{onClick:()=>p("ar"),className:`flex-1 py-3 px-4 rounded-xl font-bold text-sm transition-all border-2 ${h==="ar"?"border-accent bg-white dark:bg-slate-800 text-accent shadow-sm":"border-transparent bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:" "})]})]}),g&&f.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:"Desktop Offline Mode"}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[x?"Online":"Offline","  ",y," queued"]})]}),f.jsx("button",{onClick:()=>w(!b),className:`px-3 py-1.5 rounded-lg text-xs font-bold border ${b?"bg-emerald-50 border-emerald-200 text-emerald-700 dark:bg-emerald-900/20 dark:border-emerald-800/50 dark:text-emerald-300":"bg-slate-100 border-slate-200 text-slate-600 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300"}`,children:b?"Enabled":"Disabled"})]}),f.jsx("button",{onClick:v,className:"px-4 py-2 text-sm font-bold rounded-xl bg-accent text-white shadow-lg shadow-accent/20",children:"Sync Now"}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 mb-2",children:["Conflicts (",_.length,")"]}),f.jsxs("div",{className:"max-h-36 overflow-y-auto space-y-2",children:[_.length===0&&f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No conflicts logged."}),_.slice(0,10).map(z=>f.jsxs("div",{className:"text-xs p-2 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[f.jsx("span",{className:"font-bold",children:z.entity})," #",z.docId]},z.id))]})]})]})]})]}),k==="branding"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.branding")}),f.jsx("button",{onClick:bt,className:"px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all active:scale-95 bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveBranding")})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"max-w-md",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:t("settings.appName")}),f.jsx("input",{type:"text",value:ve.name,onChange:z=>Re({...ve,name:z.target.value}),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500/20"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.logoAndFavicon")||"Logo & Favicon"}),f.jsxs("div",{className:"flex flex-wrap items-center gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center border border-slate-200 dark:border-slate-600 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-sm",style:{backgroundColor:r.accentType==="solid"?r.accentColor:(tt=r.accentGradient)==null?void 0:tt.start},children:ve.logo?f.jsx(Yi,{src:ve.logo,alt:"Logo",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):f.jsx("span",{className:"text-white font-bold text-3xl",children:(ve.name||"").charAt(0)})}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t("settings.logo")})]}),f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center border border-slate-200 dark:border-slate-600 overflow-hidden bg-slate-100 dark:bg-slate-800 shadow-sm",children:ve.favicon?f.jsx(Yi,{src:ve.favicon,alt:"Favicon",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):f.jsx("div",{className:"w-8 h-8 rounded bg-slate-200 dark:bg-slate-700 animate-pulse"})}),f.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Favicon"})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2.5 bg-accent text-white rounded-xl transition-all shadow-lg shadow-accent/20 hover:brightness-110 font-bold text-sm",children:[f.jsx(lR,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.uploadLogo")}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Ke})]}),f.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl transition-colors font-bold text-sm border border-slate-200 dark:border-slate-600",children:[f.jsx(ys,{className:"w-4 h-4"}),f.jsx("span",{children:t("settings.uploadFavicon")||"Upload Favicon"}),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:et})]})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t("settings.logoSize")}),f.jsxs("div",{className:"flex gap-4",children:[ve.logo&&f.jsx("button",{onClick:()=>Re({...ve,logo:null}),className:"text-[11px] text-red-500 hover:text-red-600 font-bold uppercase tracking-wider",children:t("settings.removeLogo")||"Remove Logo"}),ve.favicon&&f.jsx("button",{onClick:()=>Re(z=>({...z,favicon:null})),className:"text-[11px] text-red-500 hover:text-red-600 font-bold uppercase tracking-wider",children:t("settings.removeFavicon")||"Remove Favicon"})]})]})]})]}),f.jsx("div",{className:"pt-8 border-t border-slate-100 dark:border-slate-700",children:f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-white",children:t("settings.appHeader")}),f.jsx("p",{className:"text-xs text-slate-500",children:t("settings.appHeaderDesc")})]}),f.jsx("button",{onClick:async()=>{const z=!ve.hideHeader;Re(me=>({...me,hideHeader:z})),await u({...c,hideHeader:z})},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",style:{backgroundColor:ve.hideHeader?"#e2e8f0":c.color},children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${ve.hideHeader?"translate-x-1":"translate-x-6"}`})})]})})]})]}),k==="appearance"&&f.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(YS,{className:"w-5 h-5 text-[var(--brand-color)]"}),t("settings.themeOptions")]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{id:"liquid",name:"Liquid Glass",icon:nG,desc:"Apple macOS style"},{id:"light",name:"Pro Light",icon:sR,desc:"Clean & minimal"},{id:"dark",name:"Pro Dark",icon:rR,desc:"Deep & elegant"}].map(z=>f.jsxs("button",{onClick:()=>i({theme:z.id}),className:`group relative flex flex-col p-4 rounded-2xl border-2 transition-all text-left ${r.theme===z.id?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200 dark:hover:border-slate-600"}`,style:r.theme===z.id?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-3 transition-colors ${r.theme===z.id?"bg-accent text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500"}`,children:f.jsx(z.icon,{className:"w-6 h-6"})}),f.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:z.name}),f.jsx("span",{className:"text-xs text-slate-500 mt-1",children:z.desc}),r.theme===z.id&&f.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-accent rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-slate-800 animate-in zoom-in duration-200",children:f.jsx(Zj,{className:"w-3.5 h-3.5 text-white"})})]},z.id))})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-6 h-6 rounded-full bg-accent"}),t("settings.accentCustomization")]}),f.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>i({accentType:"solid"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="solid"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.solid")}),f.jsx("button",{onClick:()=>i({accentType:"gradient"}),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${r.accentType==="gradient"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500"}`,children:t("settings.gradient")})]})]}),f.jsx("div",{className:"space-y-8",children:r.accentType==="solid"?f.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[["#1e3a5f","#6366f1","#8b5cf6","#ec4899","#f43f5e","#f59e0b","#10b981","#06b6d4"].map(z=>f.jsx("button",{onClick:()=>i({accentColor:z}),className:`w-10 h-10 rounded-full border-4 transition-transform hover:scale-110 ${r.accentColor===z?"border-white dark:border-slate-800 shadow-xl":"border-transparent"}`,style:{backgroundColor:z}},z)),f.jsx("div",{className:"h-8 w-[1px] bg-slate-200 dark:bg-slate-700 mx-2"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("input",{type:"color",value:r.accentColor,onChange:z=>i({accentColor:z.target.value}),className:"w-10 h-10 rounded-full cursor-pointer border-0 p-0 overflow-hidden bg-transparent"}),f.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-[10px] px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap",children:t("settings.customColor")})]}),f.jsx("span",{className:"font-mono text-sm text-slate-500 uppercase",children:r.accentColor})]})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{start:"#8B5CF6",end:"#3B82F6",name:"Royal"},{start:"#F472B6",end:"#FB923C",name:"Sunset"},{start:"#34D399",end:"#3B82F6",name:"Aurora"},{start:"#EC4899",end:"#8B5CF6",name:"Vibrant"}].map((z,me)=>f.jsxs("button",{onClick:()=>i({accentGradient:z}),className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all ${r.accentGradient.start===z.start&&r.accentGradient.end===z.end?"border-accent":"border-slate-100 dark:border-slate-700 hover:border-slate-200"}`,style:r.accentGradient.start===z.start&&r.accentGradient.end===z.end?{backgroundColor:"color-mix(in srgb, var(--accent-color), transparent 90%)"}:{},children:[f.jsx("div",{className:"w-10 h-10 rounded-lg",style:{background:`linear-gradient(135deg, ${z.start}, ${z.end})`}}),f.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:z.name})]},me))}),f.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-4",children:t("settings.customDualColors")}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.start,onChange:z=>i({accentGradient:{...r.accentGradient,start:z.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.start")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.start.toUpperCase()})]})]}),f.jsx("div",{className:"w-8 h-0.5 bg-slate-200 dark:bg-slate-700 rounded-full"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"color",value:r.accentGradient.end,onChange:z=>i({accentGradient:{...r.accentGradient,end:z.target.value}}),className:"w-10 h-10 rounded-full cursor-pointer border-4 border-white dark:border-slate-800 shadow-lg p-0 overflow-hidden bg-transparent"}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold tracking-wider",children:t("settings.end")}),f.jsx("span",{className:"font-mono text-xs text-slate-600 dark:text-slate-400",children:r.accentGradient.end.toUpperCase()})]})]})]})]})]})})]}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 rounded-2xl p-8 flex flex-col items-center justify-center min-h-[300px] border border-slate-200 dark:border-slate-800",children:[f.jsx("p",{className:"text-sm font-bold text-slate-500 mb-8 tracking-widest uppercase",children:t("settings.livePreview")}),f.jsxs("div",{className:`w-full max-w-sm p-8 rounded-2xl transition-all glass-panel ${r.theme==="liquid"?"":"bg-white dark:bg-slate-800 shadow-xl"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:t("settings.contentLayoutExample")}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-100 dark:border-slate-700",children:[f.jsx("div",{className:"h-2 w-3/4 bg-slate-200 dark:bg-slate-700 rounded mb-2"}),f.jsx("div",{className:"h-2 w-1/2 bg-slate-200 dark:bg-slate-700 rounded"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"px-4 py-2 bg-[var(--brand-color)] text-white rounded-lg text-sm font-medium shadow-lg shadow-[var(--brand-color)]/20",children:t("settings.primaryButton")}),f.jsx("button",{className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-medium",children:t("common.cancel")})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:t("settings.toggleSwitch")}),f.jsx("div",{className:"w-10 h-5 bg-accent rounded-full relative",children:f.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full"})})]})]})]})]})]}),k==="account"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:t("settings.accountSettings")}),f.jsxs("div",{className:"max-w-xl space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[f.jsx("div",{className:"w-24 h-24 bg-accent/20 rounded-full flex items-center justify-center text-3xl font-bold text-accent overflow-hidden border-4 border-white dark:border-slate-800 shadow-lg",children:S!=null&&S.photoURL?f.jsx(Yi,{src:S.photoURL,alt:"Avatar",className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):((te=S==null?void 0:S.displayName)==null?void 0:te.charAt(0))||"U"}),f.jsxs("div",{children:[f.jsxs("label",{className:"cursor-pointer px-4 py-2 text-white text-sm font-bold rounded-xl shadow-lg transition-all inline-block hover:scale-[1.02] bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[t("settings.changeAvatar"),f.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ge})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:t("settings.avatarRecommendedSize")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.displayName")}),f.jsx("input",{type:"text",id:"displayName",value:ee,onChange:z=>we(z.target.value),disabled:!Ce,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:ring-2 focus:ring-accent/20 focus:border-accent transition-all disabled:bg-slate-100 dark:disabled:bg-slate-700 disabled:text-slate-500 dark:disabled:text-slate-400"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.username")}),f.jsx("input",{type:"text",value:W,readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200 mb-2",children:t("settings.emailAddress")}),f.jsx("input",{type:"email",value:(S==null?void 0:S.email)||"",readOnly:!0,className:"w-full p-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-100 dark:bg-slate-700/50 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),f.jsx("div",{className:"flex justify-end pt-4",children:Ce?f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>{we((S==null?void 0:S.displayName)||""),ie(!1)},className:"px-6 py-3 text-slate-600 dark:text-slate-300 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{onClick:ke,className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.saveChanges")})]}):f.jsx("button",{onClick:()=>ie(!0),className:"px-6 py-3 text-white font-bold rounded-xl transition-all shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.editProfile")})}),f.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-6 flex items-center gap-2",children:[f.jsx(nR,{className:"w-5 h-5 text-accent"}),t("settings.securitySettings")]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:t("settings.password")}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:t("settings.passwordDescription")}),f.jsx("button",{onClick:()=>M(!0),className:"w-full py-2.5 bg-accent text-white text-sm font-bold rounded-xl shadow-lg hover:brightness-110 transition-all",style:{boxShadow:"0 4px 10px -2px var(--accent-color)44"},children:t("settings.changePassword")})]}),f.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 dark:bg-slate-900 border border-slate-100 dark:border-slate-800",children:[f.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 mb-1",children:"Two-Factor Authentication"}),f.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:"Add an extra layer of protection to your profile."}),f.jsx("button",{className:"w-full py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 text-sm font-bold rounded-xl hover:bg-slate-300 dark:hover:bg-slate-600 transition-all",children:t("settings.enable2fa")})]})]})]})]})]}),k==="users"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t("settings.users")}),f.jsxs("button",{onClick:gt,className:"flex items-center gap-2 px-4 py-2 text-white font-medium rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:[f.jsx(l0,{className:"w-5 h-5"})," ",t("settings.addUser")]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.user")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.email")}),f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("settings.table.role")}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:t("common.actions")})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:a.map(z=>{var me,_e;return f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden flex-shrink-0 border-2 border-white dark:border-slate-700 shadow-sm",children:z.photoURL?f.jsx(Yi,{src:z.photoURL,alt:z.displayName,className:"w-full h-full",imageClassName:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-accent text-white font-bold",children:((me=z.displayName)==null?void 0:me.charAt(0))||((_e=z.username)==null?void 0:_e.charAt(0))||"U"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:z.displayName}),f.jsxs("div",{className:"text-xs text-slate-500",children:["@",z.username]})]})]})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:z.email}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300",children:f.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${z.role==="Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"}`,children:z.role})}),f.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>Nt(z),className:"p-2 text-accent hover:bg-accent/10 rounded-lg transition-all",children:f.jsx(vs,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Ae(z._id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:f.jsx(Ns,{className:"w-4 h-4"})})]})})]},z._id)})})]})})]})]})]}),j&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t(D?"settings.editUser":"settings.addNewUser")}),f.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.displayName"),value:Ye.displayName,onChange:z=>Be({...Ye,displayName:z.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.username"),value:Ye.username,onChange:z=>Be({...Ye,username:z.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.email"),type:"email",value:Ye.email,onChange:z=>Be({...Ye,email:z.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("select",{value:Ye.role,onChange:z=>Be({...Ye,role:z.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",children:[f.jsx("option",{value:"Manager",children:"Manager"}),f.jsx("option",{value:"Staff",children:"Staff"}),f.jsx("option",{value:"Admin",children:"Admin"})]}),f.jsx("input",{placeholder:t(D?"settings.placeholders.passwordKeep":"settings.placeholders.password"),type:"password",value:Ye.password,onChange:z=>Be({...Ye,password:z.target.value}),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none",required:!D}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>O(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t(D?"settings.updateUser":"settings.createUser")})]})]})]})}),$&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:t("settings.changePassword")}),f.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[f.jsx("input",{required:!0,placeholder:t("settings.placeholders.currentPassword"),type:"password",value:be.currentPassword,onChange:z=>ue("currentPassword",z.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.newPassword"),type:"password",value:be.newPassword,onChange:z=>ue("newPassword",z.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsx("input",{required:!0,placeholder:t("settings.placeholders.confirmPassword"),type:"password",value:be.confirmPassword,onChange:z=>ue("confirmPassword",z.target.value),className:"w-full p-3 border rounded-xl dark:bg-slate-900 dark:border-slate-700 dark:text-white outline-none"}),f.jsxs("div",{className:"flex gap-3 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>{M(!1),Z({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:t("common.cancel")}),f.jsx("button",{type:"submit",className:"flex-1 py-3 text-white font-bold rounded-xl transition-colors shadow-lg bg-accent",style:{boxShadow:"0 10px 15px -3px var(--accent-color)33"},children:t("settings.changePassword")})]})]})]})}),K&&f.jsx(RAe,{image:K,onCrop:X,onClose:()=>{ne(null),pe(null)},aspect:1}),f.jsx(A4,{isOpen:F,onClose:()=>{U(!1),G(null)},onConfirm:it,title:"Delete User",message:"Are you sure you want to delete this user?"})]})},$Ae=()=>f.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48","aria-hidden":"true",children:[f.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303C33.651 32.657 29.251 36 24 36c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.846 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.27 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),f.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819A11.955 11.955 0 0 1 24 12c3.059 0 5.846 1.154 7.961 3.039l5.657-5.657A19.9 19.9 0 0 0 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),f.jsx("path",{fill:"#4CAF50",d:"M24 44c5.17 0 9.86-1.977 13.409-5.197l-6.19-5.238A11.956 11.956 0 0 1 24 36c-5.229 0-9.614-3.316-11.278-7.946l-6.522 5.024C9.514 39.556 16.152 44 24 44z"}),f.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303a12.04 12.04 0 0 1-4.084 5.565l6.19 5.238C36.971 39.15 44 34 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),SC=t=>{const e=(t==null?void 0:t.code)||"";return e.includes("invalid-credential")||e.includes("wrong-password")?"Invalid email or password.":e.includes("user-not-found")?"No account found for this email.":e.includes("email-already-in-use")?"This email is already in use.":e.includes("weak-password")?"Password must be at least 6 characters.":e.includes("popup-closed-by-user")?"Google sign-in was cancelled.":"Authentication failed. Please try again."},DAe=()=>{const{user:t,signInWithGoogle:e,signInWithEmail:n,signUpWithEmail:r}=f4(),i=e4(),a=A0(),s=R.useMemo(()=>{var w,_;return((_=(w=a.state)==null?void 0:w.from)==null?void 0:_.pathname)||"/"},[a.state]),[o,l]=R.useState("signin"),[c,u]=R.useState(""),[d,h]=R.useState(""),[p,g]=R.useState(!1),[x,y]=R.useState("");if(t)return f.jsx(Pg,{to:s,replace:!0});const v=async w=>{w.preventDefault(),y(""),g(!0);try{o==="signup"?await r(c.trim(),d):await n(c.trim(),d),i(s,{replace:!0})}catch(_){y(SC(_))}finally{g(!1)}},b=async()=>{y(""),g(!0);try{await e(),i(s,{replace:!0})}catch(w){y(SC(w))}finally{g(!1)}};return f.jsx("div",{className:"min-h-screen bg-slate-50",children:f.jsxs("div",{className:"grid min-h-screen grid-cols-1 lg:grid-cols-2",children:[f.jsxs("div",{className:"relative hidden lg:flex items-center justify-center overflow-hidden bg-gradient-to-br from-[#1e3a5f] via-[#243b6f] to-[#8b5cf6] p-10",children:[f.jsx("div",{className:"absolute -top-24 -left-16 h-72 w-72 rounded-full bg-white/15 blur-2xl"}),f.jsx("div",{className:"absolute -bottom-24 -right-20 h-80 w-80 rounded-full bg-pink-400/25 blur-2xl"}),f.jsxs("div",{className:"relative max-w-md text-white",children:[f.jsx("h1",{className:"text-5xl font-black leading-tight",children:"Welcome Back"}),f.jsx("p",{className:"mt-4 text-lg text-white/80",children:"Manage inventory, orders, customers, and analytics from one dashboard."})]})]}),f.jsx("div",{className:"flex items-center justify-center p-6 sm:p-10",children:f.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-slate-200 bg-white p-7 shadow-xl sm:p-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-3xl font-black text-slate-900",children:o==="signin"?"Sign in":"Create account"}),f.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Use your email/password or continue with Google."})]}),x&&f.jsxs("div",{className:"mb-5 flex items-start gap-2 rounded-xl border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700",children:[f.jsx(Jj,{className:"mt-0.5 h-4 w-4 shrink-0"}),f.jsx("span",{children:x})]}),f.jsxs("button",{type:"button",onClick:b,disabled:p,className:"mb-4 flex w-full items-center justify-center gap-3 rounded-xl border border-slate-300 bg-white px-4 py-3 text-sm font-bold text-slate-700 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:[f.jsx($Ae,{}),"Continue with Google"]}),f.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[f.jsx("div",{className:"h-px flex-1 bg-slate-200"}),f.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"or"}),f.jsx("div",{className:"h-px flex-1 bg-slate-200"})]}),f.jsxs("form",{onSubmit:v,className:"space-y-3",children:[f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"mb-1.5 block text-xs font-bold uppercase tracking-wide text-slate-500",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx(lG,{className:"pointer-events-none absolute start-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"email",required:!0,autoComplete:"email",value:c,onChange:w=>u(w.target.value),className:"w-full rounded-xl border border-slate-300 bg-white py-3 ps-10 pe-3 text-sm font-medium text-slate-900 outline-none transition focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100",placeholder:"you@example.com"})]})]}),f.jsxs("label",{className:"block",children:[f.jsx("span",{className:"mb-1.5 block text-xs font-bold uppercase tracking-wide text-slate-500",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(nR,{className:"pointer-events-none absolute start-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),f.jsx("input",{type:"password",required:!0,minLength:6,autoComplete:o==="signup"?"new-password":"current-password",value:d,onChange:w=>h(w.target.value),className:"w-full rounded-xl border border-slate-300 bg-white py-3 ps-10 pe-3 text-sm font-medium text-slate-900 outline-none transition focus:border-indigo-400 focus:ring-4 focus:ring-indigo-100",placeholder:"Enter your password"})]})]}),f.jsx("button",{type:"submit",disabled:p,className:"w-full rounded-xl bg-gradient-to-r from-pink-500 to-violet-600 px-4 py-3 text-sm font-black text-white shadow-lg shadow-pink-500/20 transition hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60",children:p?"Please wait...":o==="signup"?"Create account":"Sign in"})]}),f.jsxs("p",{className:"mt-6 text-center text-sm text-slate-500",children:[o==="signin"?"Don't have an account?":"Already have an account?"," ",f.jsx("button",{type:"button",onClick:()=>l(o==="signin"?"signup":"signin"),className:"font-bold text-indigo-600 hover:text-indigo-700",children:o==="signin"?"Create one":"Sign in"})]})]})})]})})},GB=()=>f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:f.jsx("div",{className:"h-10 w-10 rounded-full border-4 border-slate-300 border-t-slate-500 animate-spin"})}),LAe=()=>{const{user:t,loading:e}=f4(),n=A0();return e?f.jsx(GB,{}):t?f.jsx(z8,{}):f.jsx(Pg,{to:"/login",replace:!0,state:{from:n}})},FAe=()=>{const{user:t,loading:e}=f4();return e?f.jsx(GB,{}):t?f.jsx(Pg,{to:"/",replace:!0}):f.jsx(z8,{})};function VAe(){return f.jsx(Lre,{children:f.jsx(qH,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsxs($H,{children:[f.jsx(di,{element:f.jsx(FAe,{}),children:f.jsx(di,{path:"/login",element:f.jsx(DAe,{})})}),f.jsx(di,{element:f.jsx(LAe,{}),children:f.jsxs(di,{element:f.jsx(Dre,{children:f.jsx(z8,{})}),children:[f.jsx(di,{path:"/",element:f.jsx(SAe,{})}),f.jsx(di,{path:"/products",element:f.jsx(IAe,{})}),f.jsx(di,{path:"/orders",element:f.jsx(CAe,{})}),f.jsx(di,{path:"/customers",element:f.jsx(OAe,{})}),f.jsx(di,{path:"/product-picture",element:f.jsx(jAe,{})}),f.jsx(di,{path:"/settings",element:f.jsx(MAe,{})})]})}),f.jsx(di,{path:"*",element:f.jsx(Pg,{to:"/",replace:!0})})]})})})}const{slice:UAe,forEach:BAe}=[];function zAe(t){return BAe.call(UAe.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function qAe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const EC=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,WAe=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!EC.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!EC.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},kC={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=WAe(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var HAe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return kC.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;n&&typeof document<"u"&&kC.create(n,t,r,i,a)}},GAe={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(n=s[o].substring(l+1))}}return n}},KAe={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const s=a.substring(1);if(e){const o=s.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(r=o[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Cl=null;const PC=()=>{if(Cl!==null)return Cl;try{if(Cl=typeof window<"u"&&window.localStorage!==null,!Cl)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Cl=!1}return Cl};var YAe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&PC())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&PC()&&window.localStorage.setItem(n,t)}};let Ol=null;const TC=()=>{if(Ol!==null)return Ol;try{if(Ol=typeof window<"u"&&window.sessionStorage!==null,!Ol)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Ol=!1}return Ol};var QAe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&TC())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&TC()&&window.sessionStorage.setItem(n,t)}},XAe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let a=0;a<n.length;a++)e.push(n[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},JAe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},ZAe={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},eIe={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let KB=!1;try{document.cookie,KB=!0}catch{}const YB=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];KB||YB.splice(1,1);const tIe=()=>({order:YB,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class QB{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=zAe(n,this.options||{},tIe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(HAe),this.addDetector(GAe),this.addDetector(YAe),this.addDetector(QAe),this.addDetector(XAe),this.addDetector(JAe),this.addDetector(ZAe),this.addDetector(eIe),this.addDetector(KAe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!qAe(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}QB.type="languageDetector";const nIe={mainMenu:"Main Menu",dashboard:"Dashboard",inventory:"Inventory",productPicture:"Product Picture",orders:"Orders",customers:"Customers",settings:"Settings",logout:"Logout"},rIe={welcome:"Welcome back,",admin:"Admin",switchMode:"Switch to {{mode}} mode",activityLogs:"Activity Logs",new:"New",viewAllActivity:"View All Activity"},iIe={defaultName:"User",defaultRole:"Staff"},aIe={loading:"Loading...",error:"Error",success:"Success",save:"Save",saving:"Saving...",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search...",actions:"Actions",noData:"No data found",noDataToExport:"No data to export",clearFilters:"Clear Filters",exportCSV:"Export CSV",print:"Print",confirmDelete:"Are you sure you want to delete this?",yes:"Yes",no:"No",status:{processing:"Processing",completed:"Completed",cancelled:"Cancelled",pending:"Pending",shipped:"Shipped",delivered:"Delivered",returned:"Returned"},sort:"Sort",dateNew:"Newest First",dateOld:"Oldest First",priceHigh:"Highest Price",priceLow:"Lowest Price",nameAZ:"Name (A-Z)",male:"Male",female:"Female",showRows:"Show Rows",custom:"Custom",select:"Select...",cashOnDelivery:"Cash on Delivery",perUnit:"per unit"},sIe={title:"Dashboard",live:"Live Dashboard",totalRevenue:"Total Revenue",revenueTrend:"Revenue Trend",totalOrders:"Total Orders",ordersPlaced:"Orders placed",totalCustomers:"Total Customers",activeCustomers:"Active Customers",uniqueBuyers:"Unique buyers",topRegion:"Top Region",interactiveMap:"Interactive Map",totalProducts:"Total Products",lowStock:"Low Stock Items",recentActivity:"Recent Activity",filteredOrders:"Filtered Orders",liveDashboard:"Live Dashboard",revenueComparison:"+12.5% vs last period",ordersCount:"{{count}} orders",revenue:"Revenue",governorate:"Governorate",socialMedia:"Social Media",categories:"Categories",status:"Status"},oIe={title:"Inventory",addProduct:"Add Product",productName:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",supplier:"Supplier",description:"Description",image:"Image",sellingPrice:"Selling Price (IQD)",costPrice:"Cost Price (USD)",exchangeRate:"Exchange Rate",profit:"Profit",margin:"Margin",create:"Create Product",update:"Update Product",stockStatus:{inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",instock:"In Stock",lowstock:"Low Stock",outofstock:"Out of Stock"},form:{generalInfo:"General Information",description:"Description",descriptionPlaceholder:"General product description, features, or internal notes...",gallery:"Product Gallery",addImage:"Add Image",category:"Category",status:"Status",productName:"Product Name",productNamePlaceholder:"e.g. Wireless Headset",sku:"SKU",skuPlaceholder:"e.g. WH-001",stock:"Stock",unitPrice:"Unit Price",alibabaSourcing:"Alibaba Sourcing",productLink:"Product Link",messageLink:"Message Link",orderLink:"Order Link",alibabaOrderNo:"Alibaba Order No",alibabaNote:"Alibaba Note",notePlaceholder:"Enter details...",costAndPricing:"Cost & Pricing",alibabaFee:"Alibaba Fee",exchangeRate:"Exchange Rate",margin:"Margin",shippingIQD:"Shipping (IQD)",otherFeesIQD:"Other Fees (IQD)",costTotal:"Total Cost",costPerUnit:"Cost Per Unit",recommendedPrice:"Recommended Price",finalPrice:"Final Price",manualOverride:"Manual Override Active",autoCalculated:"Auto Calculated",profitAnalysis:"Profit Analysis",iqdAnalysis:"IQD Analysis",usdAnalysis:"USD Analysis",profitPerUnit:"Profit / Unit",totalProfit:"Total Profit",qtyCalculation:"Quantity Calculation",unitsExpected:"Units Expected to Sell",selectCategory:"Select Category",createCategory:"Create New Category"},searchPlaceholder:"Search products...",confirmDelete:"Are you sure you want to delete this product?",marginTooHigh:"Margin percentage must be less than 100%",fillInfo:"Fill in the details below to add a new product.",editProduct:"Edit Product",manageCategories:"Manage Categories",categories:"Categories",table:{product:"Product",category:"Category",stock:"Stock",price:"Price",status:"Status"}},lIe={title:"Orders",createOrder:"Create Order",orderId:"Order ID",customer:"Customer",date:"Date",total:"Total",status:"Status",items:"Items",quantity:"Qty",discount:"Discount",subtotal:"Subtotal",grandTotal:"Grand Total",customerInfo:"Customer Info",shippingAddress:"Shipping Address",internalNotes:"Internal Notes",paymentMethod:"Payment Method",governorate:"Governorate",socialMedia:"Social Media",deleteConfirm:"Are you sure you want to delete this order?",searchPlaceholder:"Search orders...",stockError:"Only {{available}} units available",limitReached:"Limit reached: {{available}}",addItemsError:"Please add items to the order",customerError:"Please fill in customer name and phone",stockErrorWithName:"Not enough stock for {{name}}. Max available: {{available}}",chooseProduct:"Choose Product",searchProduct:"Search & Select Product",qty:"Qty",price:"PRICE",cartEmpty:"Your cart is empty",cartEmptySub:"Add products to start building the order",onlyLeft:"ONLY {{count}} LEFT",orderSubtotal:"Order Subtotal",applyDiscount:"APPLY DISCOUNT",noDiscount:"No Discount",offDiscount:"{{percent}}% OFF DISCOUNT",chooseCustomer:"Choose a Customer",searchCustomers:"Search customers...",createNewCustomer:"Create New Customer",fullName:"Full Name",phone:"Phone Number",gender:"Gender",social:"Social",saveOrder:"SAVE ORDER",updateOrder:"UPDATE ORDER",orderStatus:"Order Status",orderItems:"Order Items",printReceipt:"Print Receipt",editOrder:"Edit Order",receipt:{title:"Receipt",companyName:"SHAN ENTERPRISE",address:"Baghdad, Iraq",order:"Order",customer:"Customer",phone:"Phone",gov:"Gov",subtotal:"Subtotal",discount:"Discount",total:"TOTAL",thankYou:"Thank you for your business!",noReturn:"Items checked out cannot be returned.",na:"N/A"},errors:{submitError:"Failed to submit order: {{message}}",unknown:"Unknown error"},table:{orderId:"Order ID",customer:"Customer",date:"Date",total:"Total (IQD)",status:"Status"}},cIe={title:"Product Picture Gallery",subtitle:"Product Gallery",description:"Manage your product visual assets.",noProducts:"No products found matching your search.",modal:{images:"Product Images",addPhoto:"Add Photo",details:"Product Details",productTitle:"Product Title",enterTitle:"Enter product title",description:"Description",enterDescription:"Enter product description...",sellingPrice:"Selling Price",confirmDeleteImage:"Are you sure you want to delete this image?"}},uIe={title:"Customers",addCustomer:"Add Customer",name:"Name",phone:"Phone",email:"Email",address:"Address",governorate:"Governorate",social:"Social Media",totalSpent:"Total Spent",lastOrder:"Last Order",joinDate:"Join Date",orders:"Orders",location:"Location",createdOn:"Created On",actions:"Actions",noData:"No customers found",noMatch:"No customers matching filters",searchPlaceholder:"Search by name or phone...",viewTable:"Table View",viewCard:"Card View",form:{new:"New Customer",edit:"Refine Profile",sub:"Customer Database",fullName:"Full Name",phone:"Phone Number",email:"Email (Optional)",governorate:"Governorate",channel:"Channel",shippingAddress:"Shipping Address",save:"Save Profile",register:"Register Customer"},history:{title:"Transaction Logs",customer:"Customer",noRecords:"No Active Records Found",paymentMethod:"Payment Method",itemsCount:"Items Count",printThermal:"Print Thermal Receipt"},receipt:{title:"Order Receipt",order:"Order",customer:"Customer",date:"Date",status:"Status",item:"Item",qty:"Qty",price:"Price",total:"Total"}},dIe={title:"Settings",general:"General",account:"Account",appearance:"Appearance",users:"User Management",language:"Language",saveChanges:"Save Changes",branding:"Branding",appHeader:"Application Header",appHeaderDesc:"Show or hide the top navigation header",saveBranding:"Save Branding Settings",appName:"Application Name",logo:"Logo",logoAndFavicon:"Logo & Favicon",uploadLogo:"Upload Logo",uploadFavicon:"Upload Favicon",logoSize:"Recommended size: 512x512px. Max 3MB.",removeLogo:"Remove Logo",removeFavicon:"Remove Favicon",themeOptions:"Theme Options",themes:{liquid:"Liquid Glass",liquidDesc:"Apple macOS style",light:"Pro Light",lightDesc:"Clean & minimal",dark:"Pro Dark",darkDesc:"Deep & elegant"},accentCustomization:"Accent Customization",solid:"Solid",gradient:"Gradient",customColor:"Custom Color",gradients:{royal:"Royal",sunset:"Sunset",aurora:"Aurora",vibrant:"Vibrant"},customDualColors:"Custom Dual Colors",start:"Start",end:"End",livePreview:"Live Preview",contentLayoutExample:"Content Layout Example",primaryButton:"Primary Button",toggleSwitch:"Toggle Switch",accountSettings:"Account Settings",changeAvatar:"Change Avatar",avatarFormat:"JPG, GIF or PNG. Max size of 3MB",emailAddress:"Email Address",avatarRecommendedSize:"JPG, GIF or PNG. Max size of 3MB",displayName:"Display Name",username:"Username",securitySettings:"Security Settings",password:"Password",passwordDescription:"Change your password to keep your account safe.",changePassword:"Change Password",addUser:"Add User",editUser:"Edit User",addNewUser:"Add New User",updateUser:"Update User",createUser:"Create User",confirmDeleteUser:"Are you sure you want to delete this user?",table:{user:"User",email:"Email",role:"Role"},placeholders:{displayName:"Display Name",username:"Username",email:"Email",password:"Password",passwordKeep:"Password (leave blank to keep)",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password"},toasts:{profileUpdated:"Profile updated successfully!",avatarTooLarge:"Avatar too large. Max 3MB.",brandingSaved:"Branding settings saved successfully!",fileTooLarge:"File too large. Max 3MB.",userUpdated:"User updated successfully!",userCreated:"User created successfully!",passwordChanged:"Password changed successfully!"}},fIe={menu:nIe,header:rIe,user:iIe,common:aIe,dashboard:sIe,products:oIe,orders:lIe,productPicture:cIe,customers:uIe,settings:dIe},hIe={mainMenu:" ",dashboard:" ",inventory:"",productPicture:" ",orders:"",customers:"",settings:"",logout:" "},pIe={welcome:" ",admin:"",switchMode:"   {{mode}}",activityLogs:" ",new:"",viewAllActivity:"  "},mIe={defaultName:"",defaultRole:""},gIe={loading:" ...",error:"",success:" ",save:"",saving:" ...",cancel:"",delete:"",edit:"",view:"",search:"...",actions:"",noData:"  ",noDataToExport:"   ",clearFilters:" ",exportCSV:" CSV",print:"",confirmDelete:"    ",yes:"",no:"",status:{processing:" ",completed:"",cancelled:"",pending:" ",shipped:" ",delivered:" ",returned:""},sort:"",dateNew:" ",dateOld:" ",priceHigh:" ",priceLow:" ",nameAZ:" (-)",male:"",female:"",showRows:" ",custom:"",select:"...",cashOnDelivery:"  ",perUnit:" "},yIe={title:" ",live:"  ",totalRevenue:" ",revenueTrend:" ",totalOrders:" ",ordersPlaced:" ",totalCustomers:" ",activeCustomers:" ",uniqueBuyers:" ",topRegion:" ",interactiveMap:" ",totalProducts:" ",lowStock:"  ",recentActivity:" ",filteredOrders:" ",liveDashboard:"  ",revenueComparison:"+12.5%   ",ordersCount:"{{count}} ",revenue:"",governorate:"",socialMedia:" ",categories:"",status:""},vIe={title:"",addProduct:" ",productName:" ",category:"",price:"",stock:"",status:"",supplier:"",description:"",image:"",sellingPrice:"  (.)",costPrice:"  ()",exchangeRate:" ",profit:"",margin:"",create:" ",update:" ",stockStatus:{inStock:"",lowStock:" ",outOfStock:" ",instock:"",lowstock:" ",outofstock:" "},form:{generalInfo:" ",description:"",descriptionPlaceholder:"     ...",gallery:" ",addImage:" ",category:"",status:"",productName:" ",productNamePlaceholder:":  ",sku:"  (SKU)",skuPlaceholder:": WH-001",stock:"",unitPrice:" ",alibabaSourcing:"  ",productLink:" ",messageLink:" ",orderLink:" ",alibabaOrderNo:"   ",alibabaNote:"  ",notePlaceholder:" ...",costAndPricing:" ",alibabaFee:"  ",exchangeRate:" ",margin:" ",shippingIQD:" (.)",otherFeesIQD:"  (.)",costTotal:" ",costPerUnit:" ",recommendedPrice:" ",finalPrice:" ",manualOverride:"  ",autoCalculated:" ",profitAnalysis:" ",iqdAnalysis:"  ",usdAnalysis:"  ",profitPerUnit:" / ",totalProfit:" ",qtyCalculation:" ",unitsExpected:"  ",selectCategory:" ",createCategory:"  "},searchPlaceholder:"  ...",confirmDelete:"      ",marginTooHigh:"       100%",fillInfo:"     .",editProduct:" ",manageCategories:" ",categories:"",table:{product:"",category:"",stock:"",price:"",status:""}},xIe={title:"",createOrder:" ",orderId:" ",customer:"",date:"",total:"",status:"",items:"",quantity:"",discount:"",subtotal:" ",grandTotal:" ",customerInfo:" ",shippingAddress:" ",internalNotes:" ",paymentMethod:" ",governorate:"",socialMedia:" ",deleteConfirm:"      ",searchPlaceholder:"  ...",stockError:" {{available}}  ",limitReached:"  : {{available}}",addItemsError:"   ",customerError:"    ",stockErrorWithName:"     {{name}}. : {{available}}",chooseProduct:" ",searchProduct:"  ",qty:"",price:"",cartEmpty:" ",cartEmptySub:"     ",onlyLeft:" {{count}} ",orderSubtotal:" ",applyDiscount:" ",noDiscount:" ",offDiscount:" {{percent}}%",chooseCustomer:" ",searchCustomers:"  ...",createNewCustomer:"  ",fullName:" ",phone:" ",gender:"",social:" ",saveOrder:" ",updateOrder:" ",orderStatus:" ",orderItems:" ",printReceipt:" ",editOrder:" ",receipt:{title:" ",companyName:"SHAN ENTERPRISE",address:" ",order:"",customer:"",phone:"",gov:"",subtotal:" ",discount:"",total:"",thankYou:"  !",noReturn:"     .",na:" "},errors:{submitError:"   : {{message}}",unknown:"  "},table:{orderId:" ",customer:"",date:"",total:" (.)",status:""}},bIe={title:"  ",subtitle:" ",description:"   .",noProducts:"      .",modal:{images:" ",addPhoto:" ",details:" ",productTitle:" ",enterTitle:"  ",description:"",enterDescription:"  ...",sellingPrice:" ",confirmDeleteImage:"      "}},wIe={title:"",addCustomer:" ",name:"",phone:"",email:" ",address:"",governorate:"",social:" ",totalSpent:" ",lastOrder:" ",joinDate:" ",orders:"",location:"",createdOn:" ",actions:"",noData:"  ",noMatch:"   ",searchPlaceholder:"   ...",viewTable:" ",viewCard:" ",form:{new:" ",edit:" ",sub:"  ",fullName:" ",phone:" ",email:"  ()",governorate:"",channel:"",shippingAddress:" ",save:" ",register:" "},history:{title:" ",customer:"",noRecords:"   ",paymentMethod:" ",itemsCount:" ",printThermal:"  "},receipt:{title:" ",order:"",customer:"",date:"",status:"",item:"",qty:"",price:"",total:""}},_Ie={title:"",general:"",account:"",appearance:"",users:" ",language:"",saveChanges:" ",branding:" ",appHeader:" ",appHeaderDesc:"     ",saveBranding:"   ",appName:" ",logo:"",logoAndFavicon:" ",uploadLogo:" ",uploadFavicon:" ",logoSize:"  : 512x512 .   3 .",removeLogo:" ",removeFavicon:" ",themeOptions:" ",themes:{liquid:" ",liquidDesc:"  ",light:" ",lightDesc:" ",dark:" ",darkDesc:" "},accentCustomization:"  ",solid:" ",gradient:" ",customColor:" ",gradients:{royal:"",sunset:"",aurora:"",vibrant:""},customDualColors:"  ",start:"",end:"",livePreview:" ",contentLayoutExample:"  ",primaryButton:" ",toggleSwitch:" ",accountSettings:" ",changeAvatar:"  ",avatarFormat:"JPG GIF  PNG.   3 ",emailAddress:" ",avatarRecommendedSize:"JPG GIF  PNG.   3 ",displayName:" ",username:" ",securitySettings:" ",password:" ",passwordDescription:"      .",changePassword:"  ",addUser:" ",editUser:" ",addNewUser:"  ",updateUser:" ",createUser:" ",confirmDeleteUser:"      ",table:{user:"",email:" ",role:""},placeholders:{displayName:" ",username:" ",email:" ",password:" ",passwordKeep:"  (   )",currentPassword:"  ",newPassword:"  ",confirmPassword:"   "},toasts:{profileUpdated:"    !",avatarTooLarge:"  .   3 .",brandingSaved:"     !",fileTooLarge:"  .   3 .",userUpdated:"   !",userCreated:"   !",passwordChanged:"    !"}},SIe={menu:hIe,header:pIe,user:mIe,common:gIe,dashboard:yIe,products:vIe,orders:xIe,productPicture:bIe,customers:wIe,settings:_Ie};Rn.use(QB).use(wre).init({resources:{en:{translation:fIe},ar:{translation:SIe}},fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}}).then(()=>{const t=Rn.language==="ar"?"rtl":"ltr";document.dir=t,document.documentElement.lang=Rn.language});Rn.on("languageChanged",t=>{const e=t==="ar"?"rtl":"ltr";document.dir=e,document.documentElement.lang=t});H6.createRoot(document.getElementById("root")).render(f.jsx(B.StrictMode,{children:f.jsx(VAe,{})}));
